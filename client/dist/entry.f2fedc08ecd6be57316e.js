/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./src/my-app.html"
/*!*************************!*\
  !*** ./src/my-app.html ***!
  \*************************/
(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   bindables: () => (/* binding */ bindables),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   dependencies: () => (/* binding */ dependencies),\n/* harmony export */   name: () => (/* binding */ name),\n/* harmony export */   register: () => (/* binding */ register),\n/* harmony export */   template: () => (/* binding */ template)\n/* harmony export */ });\n/* harmony import */ var _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/runtime-html */ \"./node_modules/@aurelia/runtime-html/dist/esm/index.mjs\");\n\nconst name = \"my-app\";\nconst template = \"<div class=\\\"app-container\\\">\\r\\n  <header class=\\\"app-header\\\">\\r\\n    <h1 class=\\\"app-title\\\">Sprint Retrospective</h1>\\r\\n  </header>\\r\\n  <main class=\\\"app-main\\\">\\r\\n    <au-viewport></au-viewport>\\r\\n  </main>\\r\\n</div>\\r\\n\";\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (template);\nconst dependencies = [  ];\nconst bindables = {};\nlet _e;\nfunction register(container) {\n  if (!_e) {\n    _e = _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_0__.CustomElement.define({ name, template, dependencies, bindables });\n  }\n  container.register(_e);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbXktYXBwLmh0bWwiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmV0cm9hcHAtY2xpZW50Ly4vc3JjL215LWFwcC5odG1sPzEzZTciXSwic291cmNlc0NvbnRlbnQiOlsiPGRpdiBjbGFzcz1cImFwcC1jb250YWluZXJcIj5cclxuICA8aGVhZGVyIGNsYXNzPVwiYXBwLWhlYWRlclwiPlxyXG4gICAgPGgxIGNsYXNzPVwiYXBwLXRpdGxlXCI+U3ByaW50IFJldHJvc3BlY3RpdmU8L2gxPlxyXG4gIDwvaGVhZGVyPlxyXG4gIDxtYWluIGNsYXNzPVwiYXBwLW1haW5cIj5cclxuICAgIDxhdS12aWV3cG9ydD48L2F1LXZpZXdwb3J0PlxyXG4gIDwvbWFpbj5cclxuPC9kaXY+XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/my-app.html\n\n}");

/***/ },

/***/ "./src/pages/home/home-page.html"
/*!***************************************!*\
  !*** ./src/pages/home/home-page.html ***!
  \***************************************/
(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   bindables: () => (/* binding */ bindables),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   dependencies: () => (/* binding */ dependencies),\n/* harmony export */   name: () => (/* binding */ name),\n/* harmony export */   register: () => (/* binding */ register),\n/* harmony export */   template: () => (/* binding */ template)\n/* harmony export */ });\n/* harmony import */ var _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/runtime-html */ \"./node_modules/@aurelia/runtime-html/dist/esm/index.mjs\");\n\nconst name = \"home-page\";\nconst template = \"<div class=\\\"page home-page\\\">\\r\\n  <div class=\\\"card\\\" if.bind=\\\"loading\\\">\\r\\n    <p>Loading...</p>\\r\\n  </div>\\r\\n\\r\\n  <!-- Active retro banner -->\\r\\n  <div class=\\\"card active-retro-banner\\\" if.bind=\\\"!loading && activeRetro\\\">\\r\\n    <h2>Retro In Progress</h2>\\r\\n    <p><strong>${activeRetro.sprintName}</strong> â€” ${activeRetro.participants.length} participant(s)</p>\\r\\n    <button class=\\\"btn btn-primary\\\" click.trigger=\\\"joinActive()\\\">Join Active Retro</button>\\r\\n  </div>\\r\\n\\r\\n  <!-- Create new retro -->\\r\\n  <div class=\\\"card\\\" if.bind=\\\"!loading && !activeRetro\\\">\\r\\n    <h2>Start New Retrospective</h2>\\r\\n    <div class=\\\"form-group\\\">\\r\\n      <label for=\\\"sprintName\\\">Sprint Name</label>\\r\\n      <input id=\\\"sprintName\\\" type=\\\"text\\\" value.bind=\\\"sprintName\\\" placeholder=\\\"e.g. Sprint 23\\\" class=\\\"input\\\" />\\r\\n    </div>\\r\\n    <div class=\\\"form-group\\\">\\r\\n      <label for=\\\"timerDuration\\\">Timer Duration (minutes)</label>\\r\\n      <input id=\\\"timerDuration\\\" type=\\\"number\\\" value.bind=\\\"timerMinutes\\\" min=\\\"1\\\" max=\\\"30\\\" class=\\\"input input-small\\\" />\\r\\n    </div>\\r\\n    <div class=\\\"error-message\\\" if.bind=\\\"errorMessage\\\">${errorMessage}</div>\\r\\n    <button class=\\\"btn btn-primary\\\" click.trigger=\\\"createRetro()\\\">Create Retro</button>\\r\\n  </div>\\r\\n\\r\\n  <!-- Past retros -->\\r\\n  <div class=\\\"card\\\" if.bind=\\\"!loading && pastRetros.length > 0\\\">\\r\\n    <h2>Past Retrospectives</h2>\\r\\n    <table class=\\\"table\\\">\\r\\n      <thead>\\r\\n        <tr>\\r\\n          <th>Sprint</th>\\r\\n          <th>Date</th>\\r\\n          <th>Export</th>\\r\\n        </tr>\\r\\n      </thead>\\r\\n      <tbody>\\r\\n        <tr repeat.for=\\\"retro of pastRetros\\\">\\r\\n          <td>${retro.sprintName}</td>\\r\\n          <td>${retro.date}</td>\\r\\n          <td><button class=\\\"btn btn-small\\\" click.trigger=\\\"exportCsv(retro.id)\\\">CSV</button></td>\\r\\n        </tr>\\r\\n      </tbody>\\r\\n    </table>\\r\\n  </div>\\r\\n</div>\\r\\n\";\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (template);\nconst dependencies = [  ];\nconst bindables = {};\nlet _e;\nfunction register(container) {\n  if (!_e) {\n    _e = _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_0__.CustomElement.define({ name, template, dependencies, bindables });\n  }\n  container.register(_e);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFnZXMvaG9tZS9ob21lLXBhZ2UuaHRtbCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZXRyb2FwcC1jbGllbnQvLi9zcmMvcGFnZXMvaG9tZS9ob21lLXBhZ2UuaHRtbD9lMzNjIl0sInNvdXJjZXNDb250ZW50IjpbIjxkaXYgY2xhc3M9XCJwYWdlIGhvbWUtcGFnZVwiPlxyXG4gIDxkaXYgY2xhc3M9XCJjYXJkXCIgaWYuYmluZD1cImxvYWRpbmdcIj5cclxuICAgIDxwPkxvYWRpbmcuLi48L3A+XHJcbiAgPC9kaXY+XHJcblxyXG4gIDwhLS0gQWN0aXZlIHJldHJvIGJhbm5lciAtLT5cclxuICA8ZGl2IGNsYXNzPVwiY2FyZCBhY3RpdmUtcmV0cm8tYmFubmVyXCIgaWYuYmluZD1cIiFsb2FkaW5nICYmIGFjdGl2ZVJldHJvXCI+XHJcbiAgICA8aDI+UmV0cm8gSW4gUHJvZ3Jlc3M8L2gyPlxyXG4gICAgPHA+PHN0cm9uZz4ke2FjdGl2ZVJldHJvLnNwcmludE5hbWV9PC9zdHJvbmc+IOKAlCAke2FjdGl2ZVJldHJvLnBhcnRpY2lwYW50cy5sZW5ndGh9IHBhcnRpY2lwYW50KHMpPC9wPlxyXG4gICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIGNsaWNrLnRyaWdnZXI9XCJqb2luQWN0aXZlKClcIj5Kb2luIEFjdGl2ZSBSZXRybzwvYnV0dG9uPlxyXG4gIDwvZGl2PlxyXG5cclxuICA8IS0tIENyZWF0ZSBuZXcgcmV0cm8gLS0+XHJcbiAgPGRpdiBjbGFzcz1cImNhcmRcIiBpZi5iaW5kPVwiIWxvYWRpbmcgJiYgIWFjdGl2ZVJldHJvXCI+XHJcbiAgICA8aDI+U3RhcnQgTmV3IFJldHJvc3BlY3RpdmU8L2gyPlxyXG4gICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cclxuICAgICAgPGxhYmVsIGZvcj1cInNwcmludE5hbWVcIj5TcHJpbnQgTmFtZTwvbGFiZWw+XHJcbiAgICAgIDxpbnB1dCBpZD1cInNwcmludE5hbWVcIiB0eXBlPVwidGV4dFwiIHZhbHVlLmJpbmQ9XCJzcHJpbnROYW1lXCIgcGxhY2Vob2xkZXI9XCJlLmcuIFNwcmludCAyM1wiIGNsYXNzPVwiaW5wdXRcIiAvPlxyXG4gICAgPC9kaXY+XHJcbiAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxyXG4gICAgICA8bGFiZWwgZm9yPVwidGltZXJEdXJhdGlvblwiPlRpbWVyIER1cmF0aW9uIChtaW51dGVzKTwvbGFiZWw+XHJcbiAgICAgIDxpbnB1dCBpZD1cInRpbWVyRHVyYXRpb25cIiB0eXBlPVwibnVtYmVyXCIgdmFsdWUuYmluZD1cInRpbWVyTWludXRlc1wiIG1pbj1cIjFcIiBtYXg9XCIzMFwiIGNsYXNzPVwiaW5wdXQgaW5wdXQtc21hbGxcIiAvPlxyXG4gICAgPC9kaXY+XHJcbiAgICA8ZGl2IGNsYXNzPVwiZXJyb3ItbWVzc2FnZVwiIGlmLmJpbmQ9XCJlcnJvck1lc3NhZ2VcIj4ke2Vycm9yTWVzc2FnZX08L2Rpdj5cclxuICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBjbGljay50cmlnZ2VyPVwiY3JlYXRlUmV0cm8oKVwiPkNyZWF0ZSBSZXRybzwvYnV0dG9uPlxyXG4gIDwvZGl2PlxyXG5cclxuICA8IS0tIFBhc3QgcmV0cm9zIC0tPlxyXG4gIDxkaXYgY2xhc3M9XCJjYXJkXCIgaWYuYmluZD1cIiFsb2FkaW5nICYmIHBhc3RSZXRyb3MubGVuZ3RoID4gMFwiPlxyXG4gICAgPGgyPlBhc3QgUmV0cm9zcGVjdGl2ZXM8L2gyPlxyXG4gICAgPHRhYmxlIGNsYXNzPVwidGFibGVcIj5cclxuICAgICAgPHRoZWFkPlxyXG4gICAgICAgIDx0cj5cclxuICAgICAgICAgIDx0aD5TcHJpbnQ8L3RoPlxyXG4gICAgICAgICAgPHRoPkRhdGU8L3RoPlxyXG4gICAgICAgICAgPHRoPkV4cG9ydDwvdGg+XHJcbiAgICAgICAgPC90cj5cclxuICAgICAgPC90aGVhZD5cclxuICAgICAgPHRib2R5PlxyXG4gICAgICAgIDx0ciByZXBlYXQuZm9yPVwicmV0cm8gb2YgcGFzdFJldHJvc1wiPlxyXG4gICAgICAgICAgPHRkPiR7cmV0cm8uc3ByaW50TmFtZX08L3RkPlxyXG4gICAgICAgICAgPHRkPiR7cmV0cm8uZGF0ZX08L3RkPlxyXG4gICAgICAgICAgPHRkPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXNtYWxsXCIgY2xpY2sudHJpZ2dlcj1cImV4cG9ydENzdihyZXRyby5pZClcIj5DU1Y8L2J1dHRvbj48L3RkPlxyXG4gICAgICAgIDwvdHI+XHJcbiAgICAgIDwvdGJvZHk+XHJcbiAgICA8L3RhYmxlPlxyXG4gIDwvZGl2PlxyXG48L2Rpdj5cclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/pages/home/home-page.html\n\n}");

/***/ },

/***/ "./src/pages/join/join-page.html"
/*!***************************************!*\
  !*** ./src/pages/join/join-page.html ***!
  \***************************************/
(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   bindables: () => (/* binding */ bindables),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   dependencies: () => (/* binding */ dependencies),\n/* harmony export */   name: () => (/* binding */ name),\n/* harmony export */   register: () => (/* binding */ register),\n/* harmony export */   template: () => (/* binding */ template)\n/* harmony export */ });\n/* harmony import */ var _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/runtime-html */ \"./node_modules/@aurelia/runtime-html/dist/esm/index.mjs\");\n\nconst name = \"join-page\";\nconst template = \"<div class=\\\"page join-page\\\">\\r\\n  <div class=\\\"card\\\" if.bind=\\\"isLoading\\\">\\r\\n    <p>Loading...</p>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"card\\\" if.bind=\\\"!isLoading && errorMessage && !retroInfo\\\">\\r\\n    <h2>Oops!</h2>\\r\\n    <p class=\\\"error-message\\\">${errorMessage}</p>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"card\\\" if.bind=\\\"!isLoading && retroInfo\\\">\\r\\n    <h2>Join Retrospective</h2>\\r\\n    <p class=\\\"sprint-label\\\">Sprint: <strong>${retroInfo.sprintName}</strong></p>\\r\\n    <p class=\\\"participant-count\\\">${retroInfo.participants.length} participant(s) already joined</p>\\r\\n\\r\\n    <div class=\\\"form-group\\\">\\r\\n      <label for=\\\"participantName\\\">Your Name</label>\\r\\n      <input\\r\\n        id=\\\"participantName\\\"\\r\\n        type=\\\"text\\\"\\r\\n        value.bind=\\\"participantName\\\"\\r\\n        placeholder=\\\"Enter your name\\\"\\r\\n        class=\\\"input\\\"\\r\\n        keyup.trigger=\\\"$event.key === 'Enter' ? joinRetro() : null\\\"\\r\\n      />\\r\\n    </div>\\r\\n    <div class=\\\"error-message\\\" if.bind=\\\"errorMessage\\\">${errorMessage}</div>\\r\\n    <button class=\\\"btn btn-primary\\\" click.trigger=\\\"joinRetro()\\\">Join Room</button>\\r\\n\\r\\n    <div class=\\\"admin-badge\\\" if.bind=\\\"isAdmin\\\">\\r\\n      You are the Scrum Master\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\";\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (template);\nconst dependencies = [  ];\nconst bindables = {};\nlet _e;\nfunction register(container) {\n  if (!_e) {\n    _e = _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_0__.CustomElement.define({ name, template, dependencies, bindables });\n  }\n  container.register(_e);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFnZXMvam9pbi9qb2luLXBhZ2UuaHRtbCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZXRyb2FwcC1jbGllbnQvLi9zcmMvcGFnZXMvam9pbi9qb2luLXBhZ2UuaHRtbD9kMzQ2Il0sInNvdXJjZXNDb250ZW50IjpbIjxkaXYgY2xhc3M9XCJwYWdlIGpvaW4tcGFnZVwiPlxyXG4gIDxkaXYgY2xhc3M9XCJjYXJkXCIgaWYuYmluZD1cImlzTG9hZGluZ1wiPlxyXG4gICAgPHA+TG9hZGluZy4uLjwvcD5cclxuICA8L2Rpdj5cclxuXHJcbiAgPGRpdiBjbGFzcz1cImNhcmRcIiBpZi5iaW5kPVwiIWlzTG9hZGluZyAmJiBlcnJvck1lc3NhZ2UgJiYgIXJldHJvSW5mb1wiPlxyXG4gICAgPGgyPk9vcHMhPC9oMj5cclxuICAgIDxwIGNsYXNzPVwiZXJyb3ItbWVzc2FnZVwiPiR7ZXJyb3JNZXNzYWdlfTwvcD5cclxuICA8L2Rpdj5cclxuXHJcbiAgPGRpdiBjbGFzcz1cImNhcmRcIiBpZi5iaW5kPVwiIWlzTG9hZGluZyAmJiByZXRyb0luZm9cIj5cclxuICAgIDxoMj5Kb2luIFJldHJvc3BlY3RpdmU8L2gyPlxyXG4gICAgPHAgY2xhc3M9XCJzcHJpbnQtbGFiZWxcIj5TcHJpbnQ6IDxzdHJvbmc+JHtyZXRyb0luZm8uc3ByaW50TmFtZX08L3N0cm9uZz48L3A+XHJcbiAgICA8cCBjbGFzcz1cInBhcnRpY2lwYW50LWNvdW50XCI+JHtyZXRyb0luZm8ucGFydGljaXBhbnRzLmxlbmd0aH0gcGFydGljaXBhbnQocykgYWxyZWFkeSBqb2luZWQ8L3A+XHJcblxyXG4gICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cclxuICAgICAgPGxhYmVsIGZvcj1cInBhcnRpY2lwYW50TmFtZVwiPllvdXIgTmFtZTwvbGFiZWw+XHJcbiAgICAgIDxpbnB1dFxyXG4gICAgICAgIGlkPVwicGFydGljaXBhbnROYW1lXCJcclxuICAgICAgICB0eXBlPVwidGV4dFwiXHJcbiAgICAgICAgdmFsdWUuYmluZD1cInBhcnRpY2lwYW50TmFtZVwiXHJcbiAgICAgICAgcGxhY2Vob2xkZXI9XCJFbnRlciB5b3VyIG5hbWVcIlxyXG4gICAgICAgIGNsYXNzPVwiaW5wdXRcIlxyXG4gICAgICAgIGtleXVwLnRyaWdnZXI9XCIkZXZlbnQua2V5ID09PSAnRW50ZXInID8gam9pblJldHJvKCkgOiBudWxsXCJcclxuICAgICAgLz5cclxuICAgIDwvZGl2PlxyXG4gICAgPGRpdiBjbGFzcz1cImVycm9yLW1lc3NhZ2VcIiBpZi5iaW5kPVwiZXJyb3JNZXNzYWdlXCI+JHtlcnJvck1lc3NhZ2V9PC9kaXY+XHJcbiAgICA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgY2xpY2sudHJpZ2dlcj1cImpvaW5SZXRybygpXCI+Sm9pbiBSb29tPC9idXR0b24+XHJcblxyXG4gICAgPGRpdiBjbGFzcz1cImFkbWluLWJhZGdlXCIgaWYuYmluZD1cImlzQWRtaW5cIj5cclxuICAgICAgWW91IGFyZSB0aGUgU2NydW0gTWFzdGVyXHJcbiAgICA8L2Rpdj5cclxuICA8L2Rpdj5cclxuPC9kaXY+XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/pages/join/join-page.html\n\n}");

/***/ },

/***/ "./src/pages/retro-room/retro-room.html"
/*!**********************************************!*\
  !*** ./src/pages/retro-room/retro-room.html ***!
  \**********************************************/
(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   bindables: () => (/* binding */ bindables),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   dependencies: () => (/* binding */ dependencies),\n/* harmony export */   name: () => (/* binding */ name),\n/* harmony export */   register: () => (/* binding */ register),\n/* harmony export */   template: () => (/* binding */ template)\n/* harmony export */ });\n/* harmony import */ var _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/runtime-html */ \"./node_modules/@aurelia/runtime-html/dist/esm/index.mjs\");\n\nconst name = \"retro-room\";\nconst template = \"<div class=\\\"page retro-room\\\">\\r\\n  <!-- Error toast -->\\r\\n  <div class=\\\"toast error-toast\\\" if.bind=\\\"retroService.error\\\" click.trigger=\\\"dismissError()\\\">\\r\\n    ${retroService.error} (click to dismiss)\\r\\n  </div>\\r\\n\\r\\n  <!-- Loading -->\\r\\n  <div class=\\\"card\\\" if.bind=\\\"!retroService.session\\\">\\r\\n    <p>Connecting to retro...</p>\\r\\n  </div>\\r\\n\\r\\n  <template if.bind=\\\"retroService.session\\\">\\r\\n    <!-- Top bar: phase + timer + controls -->\\r\\n    <div class=\\\"retro-header\\\">\\r\\n      <div class=\\\"phase-info\\\">\\r\\n        <span class=\\\"phase-badge\\\">${phaseLabel}</span>\\r\\n        <span class=\\\"sprint-name\\\">${retroService.session.sprintName}</span>\\r\\n      </div>\\r\\n      <div class=\\\"header-right\\\">\\r\\n        <!-- Timer -->\\r\\n        <div class=\\\"timer-section\\\" if.bind=\\\"isItemPhase\\\">\\r\\n          <span class=\\\"timer-display\\\" if.bind=\\\"timerDisplay\\\">${timerDisplay}</span>\\r\\n          <template if.bind=\\\"isAdmin\\\">\\r\\n            <input type=\\\"number\\\" value.bind=\\\"customTimerMinutes\\\" min=\\\"1\\\" max=\\\"30\\\" class=\\\"input input-tiny\\\" />\\r\\n            <span class=\\\"timer-unit\\\">min</span>\\r\\n            <button class=\\\"btn btn-small\\\" click.trigger=\\\"startTimer()\\\">Start Timer</button>\\r\\n          </template>\\r\\n        </div>\\r\\n        <!-- SM Controls -->\\r\\n        <button\\r\\n          if.bind=\\\"isAdmin && nextPhaseLabel\\\"\\r\\n          class=\\\"btn btn-accent\\\"\\r\\n          click.trigger=\\\"confirmNextPhase()\\\"\\r\\n        >\\r\\n          ${nextPhaseLabel} &rarr;\\r\\n        </button>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <!-- Confirm dialog -->\\r\\n    <div class=\\\"modal-overlay\\\" if.bind=\\\"showConfirmNext\\\">\\r\\n      <div class=\\\"modal\\\">\\r\\n        <h3>Confirm Phase Change</h3>\\r\\n        <p>Move to: <strong>${nextPhaseLabel}</strong>?</p>\\r\\n        <div class=\\\"modal-actions\\\">\\r\\n          <button class=\\\"btn\\\" click.trigger=\\\"cancelNextPhase()\\\">Cancel</button>\\r\\n          <button class=\\\"btn btn-primary\\\" click.trigger=\\\"nextPhase()\\\">Confirm</button>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <!-- Participants sidebar -->\\r\\n    <div class=\\\"retro-body\\\">\\r\\n      <aside class=\\\"sidebar\\\">\\r\\n        <h3>Participants (${retroService.session.participants.length})</h3>\\r\\n        <ul class=\\\"participant-list\\\">\\r\\n          <li repeat.for=\\\"p of retroService.session.participants\\\" class=\\\"participant-item\\\">\\r\\n            <span class=\\\"participant-name\\\">${p.name}</span>\\r\\n            <span class=\\\"admin-tag\\\" if.bind=\\\"p.isAdmin\\\">SM</span>\\r\\n          </li>\\r\\n        </ul>\\r\\n      </aside>\\r\\n\\r\\n      <section class=\\\"main-content\\\">\\r\\n\\r\\n        <!-- ======== LOBBY ======== -->\\r\\n        <div if.bind=\\\"phase === 'lobby'\\\" class=\\\"phase-content\\\">\\r\\n          <div class=\\\"card centered\\\">\\r\\n            <h2>Waiting for the Scrum Master to start...</h2>\\r\\n            <p>Share this link with your team:</p>\\r\\n            <div class=\\\"share-link\\\">\\r\\n              <code id=\\\"shareLink\\\">${window.location.origin}/join/${retroId}</code>\\r\\n              <button class=\\\"btn btn-small\\\" click.trigger=\\\"navigator.clipboard.writeText(window.location.origin + '/join/' + retroId)\\\">Copy</button>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <!-- ======== GOOD_ITEMS / IMPROVE_ITEMS ======== -->\\r\\n        <div if.bind=\\\"isItemPhase\\\" class=\\\"phase-content\\\">\\r\\n          <div class=\\\"board-header\\\">\\r\\n            <h2>${phaseLabel}</h2>\\r\\n            <button class=\\\"btn btn-primary\\\" click.trigger=\\\"openAddDialog()\\\">+ Add Idea</button>\\r\\n          </div>\\r\\n          <div class=\\\"idea-board\\\">\\r\\n            <div repeat.for=\\\"item of sortedVisibleItems\\\" class=\\\"idea-card\\\">\\r\\n              <p class=\\\"idea-text\\\">${item.text}</p>\\r\\n              <span class=\\\"idea-author\\\">- ${item.author}</span>\\r\\n            </div>\\r\\n            <div class=\\\"idea-card empty-card\\\" if.bind=\\\"sortedVisibleItems.length === 0\\\">\\r\\n              <p>No ideas yet. Be the first to add one!</p>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <!-- ======== GOOD_VOTING / IMPROVE_VOTING ======== -->\\r\\n        <div if.bind=\\\"isVotingPhase\\\" class=\\\"phase-content\\\">\\r\\n          <div class=\\\"board-header\\\">\\r\\n            <h2>${phaseLabel}</h2>\\r\\n            <p class=\\\"vote-hint\\\">Click an item to vote (one vote per item)</p>\\r\\n          </div>\\r\\n          <div class=\\\"idea-board\\\">\\r\\n            <div repeat.for=\\\"item of sortedVisibleItems\\\" class=\\\"idea-card votable ${hasVoted(item) ? 'voted' : ''}\\\" click.trigger=\\\"toggleVote(item.id)\\\">\\r\\n              <p class=\\\"idea-text\\\">${item.text}</p>\\r\\n              <span class=\\\"idea-author\\\">- ${item.author}</span>\\r\\n              <div class=\\\"vote-section\\\">\\r\\n                <span class=\\\"vote-count\\\">${item.votes.length}</span>\\r\\n                <span class=\\\"vote-icon\\\">${hasVoted(item) ? '&#9829;' : '&#9825;'}</span>\\r\\n              </div>\\r\\n              <div class=\\\"voted-by\\\" if.bind=\\\"item.votes.length > 0\\\">\\r\\n                <small>${item.votes.join(', ')}</small>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <!-- ======== BRAINSTORMING ======== -->\\r\\n        <div if.bind=\\\"phase === 'brainstorming'\\\" class=\\\"phase-content\\\">\\r\\n          <h2>Brainstorming</h2>\\r\\n\\r\\n          <!-- SM selects items if not yet selected -->\\r\\n          <div if.bind=\\\"isAdmin && retroService.session.brainstormItemIds.length === 0\\\" class=\\\"card\\\">\\r\\n            <h3>Select items to discuss:</h3>\\r\\n            <div class=\\\"brainstorm-selection\\\">\\r\\n              <div\\r\\n                repeat.for=\\\"item of improvementItemsSortedByVotes\\\"\\r\\n                class=\\\"idea-card selectable ${isBrainstormSelected(item.id) ? 'selected' : ''}\\\"\\r\\n                click.trigger=\\\"toggleBrainstormItem(item.id)\\\"\\r\\n              >\\r\\n                <p class=\\\"idea-text\\\">${item.text}</p>\\r\\n                <span class=\\\"vote-count\\\">${item.votes.length} votes</span>\\r\\n              </div>\\r\\n            </div>\\r\\n            <button class=\\\"btn btn-primary\\\" click.trigger=\\\"confirmBrainstormSelection()\\\" disabled.bind=\\\"selectedBrainstormItemIds.size === 0\\\">\\r\\n              Confirm Selection\\r\\n            </button>\\r\\n          </div>\\r\\n\\r\\n          <!-- Waiting for selection -->\\r\\n          <div if.bind=\\\"!isAdmin && retroService.session.brainstormItemIds.length === 0\\\" class=\\\"card centered\\\">\\r\\n            <p>Waiting for Scrum Master to select items for discussion...</p>\\r\\n          </div>\\r\\n\\r\\n          <!-- Discussion threads -->\\r\\n          <div if.bind=\\\"retroService.session.brainstormItemIds.length > 0\\\" class=\\\"brainstorm-threads\\\">\\r\\n            <div repeat.for=\\\"item of brainstormItems\\\" class=\\\"brainstorm-thread card\\\">\\r\\n              <h3 class=\\\"thread-title\\\">${item.text} <small>(${item.votes.length} votes)</small></h3>\\r\\n              <div class=\\\"comments\\\">\\r\\n                <div repeat.for=\\\"comment of getCommentsForItem(item.id)\\\" class=\\\"comment\\\">\\r\\n                  <strong>${comment.author}:</strong> ${comment.text}\\r\\n                </div>\\r\\n              </div>\\r\\n              <div class=\\\"add-comment\\\">\\r\\n                <input\\r\\n                  type=\\\"text\\\"\\r\\n                  value.bind=\\\"newCommentText\\\"\\r\\n                  placeholder=\\\"Add a suggestion...\\\"\\r\\n                  class=\\\"input\\\"\\r\\n                  keyup.trigger=\\\"$event.key === 'Enter' ? addComment(item.id) : null\\\"\\r\\n                  focus.trigger=\\\"selectedCommentItemId = item.id\\\"\\r\\n                />\\r\\n                <button class=\\\"btn btn-small\\\" click.trigger=\\\"addComment(item.id)\\\">Send</button>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <!-- ======== ACTION POINTS ======== -->\\r\\n        <div if.bind=\\\"phase === 'action_points'\\\" class=\\\"phase-content\\\">\\r\\n          <h2>Action Points</h2>\\r\\n          <div class=\\\"action-points-list\\\">\\r\\n            <div repeat.for=\\\"ap of retroService.session.actionPoints\\\" class=\\\"action-point-card card\\\">\\r\\n              <p class=\\\"action-text\\\">${ap.text}</p>\\r\\n              <span class=\\\"action-assignee\\\">Assigned to: <strong>${ap.assignee}</strong></span>\\r\\n              <span class=\\\"action-creator\\\">Added by: ${ap.createdBy}</span>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"add-action-form card\\\">\\r\\n            <h3>Add Action Point</h3>\\r\\n            <div class=\\\"form-group\\\">\\r\\n              <label>Action</label>\\r\\n              <input type=\\\"text\\\" value.bind=\\\"newActionText\\\" placeholder=\\\"What needs to be done?\\\" class=\\\"input\\\" />\\r\\n            </div>\\r\\n            <div class=\\\"form-group\\\">\\r\\n              <label>Assignee</label>\\r\\n              <select value.bind=\\\"newActionAssignee\\\" class=\\\"input\\\">\\r\\n                <option value=\\\"\\\">Select participant...</option>\\r\\n                <option repeat.for=\\\"p of retroService.session.participants\\\" value.bind=\\\"p.name\\\">${p.name}</option>\\r\\n              </select>\\r\\n            </div>\\r\\n            <button class=\\\"btn btn-primary\\\" click.trigger=\\\"addActionPoint()\\\">Add Action Point</button>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <!-- ======== CLOSED ======== -->\\r\\n        <div if.bind=\\\"phase === 'closed'\\\" class=\\\"phase-content\\\">\\r\\n          <div class=\\\"card centered\\\">\\r\\n            <h2>Retrospective Complete!</h2>\\r\\n            <p>Thank you for participating in <strong>${retroService.session.sprintName}</strong></p>\\r\\n            <button class=\\\"btn btn-primary\\\" click.trigger=\\\"exportCsv()\\\">Export to CSV</button>\\r\\n          </div>\\r\\n\\r\\n          <!-- Summary -->\\r\\n          <div class=\\\"summary-section\\\">\\r\\n            <h3>What Went Well</h3>\\r\\n            <div class=\\\"idea-board\\\">\\r\\n              <div repeat.for=\\\"item of retroService.session.items\\\" if.bind=\\\"item.category === 'good'\\\" class=\\\"idea-card\\\">\\r\\n                <p class=\\\"idea-text\\\">${item.text}</p>\\r\\n                <span class=\\\"idea-author\\\">- ${item.author}</span>\\r\\n                <span class=\\\"vote-count\\\">${item.votes.length} votes</span>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <h3>What Could Be Better</h3>\\r\\n            <div class=\\\"idea-board\\\">\\r\\n              <div repeat.for=\\\"item of retroService.session.items\\\" if.bind=\\\"item.category === 'improve'\\\" class=\\\"idea-card\\\">\\r\\n                <p class=\\\"idea-text\\\">${item.text}</p>\\r\\n                <span class=\\\"idea-author\\\">- ${item.author}</span>\\r\\n                <span class=\\\"vote-count\\\">${item.votes.length} votes</span>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <h3 if.bind=\\\"retroService.session.actionPoints.length > 0\\\">Action Points</h3>\\r\\n            <div class=\\\"action-points-list\\\" if.bind=\\\"retroService.session.actionPoints.length > 0\\\">\\r\\n              <div repeat.for=\\\"ap of retroService.session.actionPoints\\\" class=\\\"action-point-card card\\\">\\r\\n                <p class=\\\"action-text\\\">${ap.text}</p>\\r\\n                <span class=\\\"action-assignee\\\">Assigned to: <strong>${ap.assignee}</strong></span>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n      </section>\\r\\n    </div>\\r\\n  </template>\\r\\n\\r\\n  <!-- Add Idea Dialog -->\\r\\n  <div class=\\\"modal-overlay\\\" if.bind=\\\"showAddDialog\\\">\\r\\n    <div class=\\\"modal\\\">\\r\\n      <h3>Add New Idea</h3>\\r\\n      <div class=\\\"form-group\\\">\\r\\n        <textarea\\r\\n          value.bind=\\\"newItemText\\\"\\r\\n          placeholder=\\\"Share your thought...\\\"\\r\\n          class=\\\"input textarea\\\"\\r\\n          rows=\\\"4\\\"\\r\\n        ></textarea>\\r\\n      </div>\\r\\n      <div class=\\\"modal-actions\\\">\\r\\n        <button class=\\\"btn\\\" click.trigger=\\\"closeAddDialog()\\\">Cancel</button>\\r\\n        <button class=\\\"btn btn-primary\\\" click.trigger=\\\"saveItem()\\\">Save</button>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\";\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (template);\nconst dependencies = [  ];\nconst bindables = {};\nlet _e;\nfunction register(container) {\n  if (!_e) {\n    _e = _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_0__.CustomElement.define({ name, template, dependencies, bindables });\n  }\n  container.register(_e);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFnZXMvcmV0cm8tcm9vbS9yZXRyby1yb29tLmh0bWwiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmV0cm9hcHAtY2xpZW50Ly4vc3JjL3BhZ2VzL3JldHJvLXJvb20vcmV0cm8tcm9vbS5odG1sPzcwODkiXSwic291cmNlc0NvbnRlbnQiOlsiPGRpdiBjbGFzcz1cInBhZ2UgcmV0cm8tcm9vbVwiPlxyXG4gIDwhLS0gRXJyb3IgdG9hc3QgLS0+XHJcbiAgPGRpdiBjbGFzcz1cInRvYXN0IGVycm9yLXRvYXN0XCIgaWYuYmluZD1cInJldHJvU2VydmljZS5lcnJvclwiIGNsaWNrLnRyaWdnZXI9XCJkaXNtaXNzRXJyb3IoKVwiPlxyXG4gICAgJHtyZXRyb1NlcnZpY2UuZXJyb3J9IChjbGljayB0byBkaXNtaXNzKVxyXG4gIDwvZGl2PlxyXG5cclxuICA8IS0tIExvYWRpbmcgLS0+XHJcbiAgPGRpdiBjbGFzcz1cImNhcmRcIiBpZi5iaW5kPVwiIXJldHJvU2VydmljZS5zZXNzaW9uXCI+XHJcbiAgICA8cD5Db25uZWN0aW5nIHRvIHJldHJvLi4uPC9wPlxyXG4gIDwvZGl2PlxyXG5cclxuICA8dGVtcGxhdGUgaWYuYmluZD1cInJldHJvU2VydmljZS5zZXNzaW9uXCI+XHJcbiAgICA8IS0tIFRvcCBiYXI6IHBoYXNlICsgdGltZXIgKyBjb250cm9scyAtLT5cclxuICAgIDxkaXYgY2xhc3M9XCJyZXRyby1oZWFkZXJcIj5cclxuICAgICAgPGRpdiBjbGFzcz1cInBoYXNlLWluZm9cIj5cclxuICAgICAgICA8c3BhbiBjbGFzcz1cInBoYXNlLWJhZGdlXCI+JHtwaGFzZUxhYmVsfTwvc3Bhbj5cclxuICAgICAgICA8c3BhbiBjbGFzcz1cInNwcmludC1uYW1lXCI+JHtyZXRyb1NlcnZpY2Uuc2Vzc2lvbi5zcHJpbnROYW1lfTwvc3Bhbj5cclxuICAgICAgPC9kaXY+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJoZWFkZXItcmlnaHRcIj5cclxuICAgICAgICA8IS0tIFRpbWVyIC0tPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJ0aW1lci1zZWN0aW9uXCIgaWYuYmluZD1cImlzSXRlbVBoYXNlXCI+XHJcbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInRpbWVyLWRpc3BsYXlcIiBpZi5iaW5kPVwidGltZXJEaXNwbGF5XCI+JHt0aW1lckRpc3BsYXl9PC9zcGFuPlxyXG4gICAgICAgICAgPHRlbXBsYXRlIGlmLmJpbmQ9XCJpc0FkbWluXCI+XHJcbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgdmFsdWUuYmluZD1cImN1c3RvbVRpbWVyTWludXRlc1wiIG1pbj1cIjFcIiBtYXg9XCIzMFwiIGNsYXNzPVwiaW5wdXQgaW5wdXQtdGlueVwiIC8+XHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGltZXItdW5pdFwiPm1pbjwvc3Bhbj5cclxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tc21hbGxcIiBjbGljay50cmlnZ2VyPVwic3RhcnRUaW1lcigpXCI+U3RhcnQgVGltZXI8L2J1dHRvbj5cclxuICAgICAgICAgIDwvdGVtcGxhdGU+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPCEtLSBTTSBDb250cm9scyAtLT5cclxuICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICBpZi5iaW5kPVwiaXNBZG1pbiAmJiBuZXh0UGhhc2VMYWJlbFwiXHJcbiAgICAgICAgICBjbGFzcz1cImJ0biBidG4tYWNjZW50XCJcclxuICAgICAgICAgIGNsaWNrLnRyaWdnZXI9XCJjb25maXJtTmV4dFBoYXNlKClcIlxyXG4gICAgICAgID5cclxuICAgICAgICAgICR7bmV4dFBoYXNlTGFiZWx9ICZyYXJyO1xyXG4gICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG5cclxuICAgIDwhLS0gQ29uZmlybSBkaWFsb2cgLS0+XHJcbiAgICA8ZGl2IGNsYXNzPVwibW9kYWwtb3ZlcmxheVwiIGlmLmJpbmQ9XCJzaG93Q29uZmlybU5leHRcIj5cclxuICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsXCI+XHJcbiAgICAgICAgPGgzPkNvbmZpcm0gUGhhc2UgQ2hhbmdlPC9oMz5cclxuICAgICAgICA8cD5Nb3ZlIHRvOiA8c3Ryb25nPiR7bmV4dFBoYXNlTGFiZWx9PC9zdHJvbmc+PzwvcD5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtYWN0aW9uc1wiPlxyXG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0blwiIGNsaWNrLnRyaWdnZXI9XCJjYW5jZWxOZXh0UGhhc2UoKVwiPkNhbmNlbDwvYnV0dG9uPlxyXG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIGNsaWNrLnRyaWdnZXI9XCJuZXh0UGhhc2UoKVwiPkNvbmZpcm08L2J1dHRvbj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuXHJcbiAgICA8IS0tIFBhcnRpY2lwYW50cyBzaWRlYmFyIC0tPlxyXG4gICAgPGRpdiBjbGFzcz1cInJldHJvLWJvZHlcIj5cclxuICAgICAgPGFzaWRlIGNsYXNzPVwic2lkZWJhclwiPlxyXG4gICAgICAgIDxoMz5QYXJ0aWNpcGFudHMgKCR7cmV0cm9TZXJ2aWNlLnNlc3Npb24ucGFydGljaXBhbnRzLmxlbmd0aH0pPC9oMz5cclxuICAgICAgICA8dWwgY2xhc3M9XCJwYXJ0aWNpcGFudC1saXN0XCI+XHJcbiAgICAgICAgICA8bGkgcmVwZWF0LmZvcj1cInAgb2YgcmV0cm9TZXJ2aWNlLnNlc3Npb24ucGFydGljaXBhbnRzXCIgY2xhc3M9XCJwYXJ0aWNpcGFudC1pdGVtXCI+XHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicGFydGljaXBhbnQtbmFtZVwiPiR7cC5uYW1lfTwvc3Bhbj5cclxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJhZG1pbi10YWdcIiBpZi5iaW5kPVwicC5pc0FkbWluXCI+U008L3NwYW4+XHJcbiAgICAgICAgICA8L2xpPlxyXG4gICAgICAgIDwvdWw+XHJcbiAgICAgIDwvYXNpZGU+XHJcblxyXG4gICAgICA8c2VjdGlvbiBjbGFzcz1cIm1haW4tY29udGVudFwiPlxyXG5cclxuICAgICAgICA8IS0tID09PT09PT09IExPQkJZID09PT09PT09IC0tPlxyXG4gICAgICAgIDxkaXYgaWYuYmluZD1cInBoYXNlID09PSAnbG9iYnknXCIgY2xhc3M9XCJwaGFzZS1jb250ZW50XCI+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2FyZCBjZW50ZXJlZFwiPlxyXG4gICAgICAgICAgICA8aDI+V2FpdGluZyBmb3IgdGhlIFNjcnVtIE1hc3RlciB0byBzdGFydC4uLjwvaDI+XHJcbiAgICAgICAgICAgIDxwPlNoYXJlIHRoaXMgbGluayB3aXRoIHlvdXIgdGVhbTo8L3A+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzaGFyZS1saW5rXCI+XHJcbiAgICAgICAgICAgICAgPGNvZGUgaWQ9XCJzaGFyZUxpbmtcIj4ke3dpbmRvdy5sb2NhdGlvbi5vcmlnaW59L2pvaW4vJHtyZXRyb0lkfTwvY29kZT5cclxuICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1zbWFsbFwiIGNsaWNrLnRyaWdnZXI9XCJuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dCh3aW5kb3cubG9jYXRpb24ub3JpZ2luICsgJy9qb2luLycgKyByZXRyb0lkKVwiPkNvcHk8L2J1dHRvbj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgPCEtLSA9PT09PT09PSBHT09EX0lURU1TIC8gSU1QUk9WRV9JVEVNUyA9PT09PT09PSAtLT5cclxuICAgICAgICA8ZGl2IGlmLmJpbmQ9XCJpc0l0ZW1QaGFzZVwiIGNsYXNzPVwicGhhc2UtY29udGVudFwiPlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImJvYXJkLWhlYWRlclwiPlxyXG4gICAgICAgICAgICA8aDI+JHtwaGFzZUxhYmVsfTwvaDI+XHJcbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBjbGljay50cmlnZ2VyPVwib3BlbkFkZERpYWxvZygpXCI+KyBBZGQgSWRlYTwvYnV0dG9uPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiaWRlYS1ib2FyZFwiPlxyXG4gICAgICAgICAgICA8ZGl2IHJlcGVhdC5mb3I9XCJpdGVtIG9mIHNvcnRlZFZpc2libGVJdGVtc1wiIGNsYXNzPVwiaWRlYS1jYXJkXCI+XHJcbiAgICAgICAgICAgICAgPHAgY2xhc3M9XCJpZGVhLXRleHRcIj4ke2l0ZW0udGV4dH08L3A+XHJcbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJpZGVhLWF1dGhvclwiPi0gJHtpdGVtLmF1dGhvcn08L3NwYW4+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaWRlYS1jYXJkIGVtcHR5LWNhcmRcIiBpZi5iaW5kPVwic29ydGVkVmlzaWJsZUl0ZW1zLmxlbmd0aCA9PT0gMFwiPlxyXG4gICAgICAgICAgICAgIDxwPk5vIGlkZWFzIHlldC4gQmUgdGhlIGZpcnN0IHRvIGFkZCBvbmUhPC9wPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICA8IS0tID09PT09PT09IEdPT0RfVk9USU5HIC8gSU1QUk9WRV9WT1RJTkcgPT09PT09PT0gLS0+XHJcbiAgICAgICAgPGRpdiBpZi5iaW5kPVwiaXNWb3RpbmdQaGFzZVwiIGNsYXNzPVwicGhhc2UtY29udGVudFwiPlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImJvYXJkLWhlYWRlclwiPlxyXG4gICAgICAgICAgICA8aDI+JHtwaGFzZUxhYmVsfTwvaDI+XHJcbiAgICAgICAgICAgIDxwIGNsYXNzPVwidm90ZS1oaW50XCI+Q2xpY2sgYW4gaXRlbSB0byB2b3RlIChvbmUgdm90ZSBwZXIgaXRlbSk8L3A+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJpZGVhLWJvYXJkXCI+XHJcbiAgICAgICAgICAgIDxkaXYgcmVwZWF0LmZvcj1cIml0ZW0gb2Ygc29ydGVkVmlzaWJsZUl0ZW1zXCIgY2xhc3M9XCJpZGVhLWNhcmQgdm90YWJsZSAke2hhc1ZvdGVkKGl0ZW0pID8gJ3ZvdGVkJyA6ICcnfVwiIGNsaWNrLnRyaWdnZXI9XCJ0b2dnbGVWb3RlKGl0ZW0uaWQpXCI+XHJcbiAgICAgICAgICAgICAgPHAgY2xhc3M9XCJpZGVhLXRleHRcIj4ke2l0ZW0udGV4dH08L3A+XHJcbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJpZGVhLWF1dGhvclwiPi0gJHtpdGVtLmF1dGhvcn08L3NwYW4+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInZvdGUtc2VjdGlvblwiPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ2b3RlLWNvdW50XCI+JHtpdGVtLnZvdGVzLmxlbmd0aH08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInZvdGUtaWNvblwiPiR7aGFzVm90ZWQoaXRlbSkgPyAnJiM5ODI5OycgOiAnJiM5ODI1Oyd9PC9zcGFuPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ2b3RlZC1ieVwiIGlmLmJpbmQ9XCJpdGVtLnZvdGVzLmxlbmd0aCA+IDBcIj5cclxuICAgICAgICAgICAgICAgIDxzbWFsbD4ke2l0ZW0udm90ZXMuam9pbignLCAnKX08L3NtYWxsPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICA8IS0tID09PT09PT09IEJSQUlOU1RPUk1JTkcgPT09PT09PT0gLS0+XHJcbiAgICAgICAgPGRpdiBpZi5iaW5kPVwicGhhc2UgPT09ICdicmFpbnN0b3JtaW5nJ1wiIGNsYXNzPVwicGhhc2UtY29udGVudFwiPlxyXG4gICAgICAgICAgPGgyPkJyYWluc3Rvcm1pbmc8L2gyPlxyXG5cclxuICAgICAgICAgIDwhLS0gU00gc2VsZWN0cyBpdGVtcyBpZiBub3QgeWV0IHNlbGVjdGVkIC0tPlxyXG4gICAgICAgICAgPGRpdiBpZi5iaW5kPVwiaXNBZG1pbiAmJiByZXRyb1NlcnZpY2Uuc2Vzc2lvbi5icmFpbnN0b3JtSXRlbUlkcy5sZW5ndGggPT09IDBcIiBjbGFzcz1cImNhcmRcIj5cclxuICAgICAgICAgICAgPGgzPlNlbGVjdCBpdGVtcyB0byBkaXNjdXNzOjwvaDM+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJicmFpbnN0b3JtLXNlbGVjdGlvblwiPlxyXG4gICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgIHJlcGVhdC5mb3I9XCJpdGVtIG9mIGltcHJvdmVtZW50SXRlbXNTb3J0ZWRCeVZvdGVzXCJcclxuICAgICAgICAgICAgICAgIGNsYXNzPVwiaWRlYS1jYXJkIHNlbGVjdGFibGUgJHtpc0JyYWluc3Rvcm1TZWxlY3RlZChpdGVtLmlkKSA/ICdzZWxlY3RlZCcgOiAnJ31cIlxyXG4gICAgICAgICAgICAgICAgY2xpY2sudHJpZ2dlcj1cInRvZ2dsZUJyYWluc3Rvcm1JdGVtKGl0ZW0uaWQpXCJcclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICA8cCBjbGFzcz1cImlkZWEtdGV4dFwiPiR7aXRlbS50ZXh0fTwvcD5cclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidm90ZS1jb3VudFwiPiR7aXRlbS52b3Rlcy5sZW5ndGh9IHZvdGVzPC9zcGFuPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIGNsaWNrLnRyaWdnZXI9XCJjb25maXJtQnJhaW5zdG9ybVNlbGVjdGlvbigpXCIgZGlzYWJsZWQuYmluZD1cInNlbGVjdGVkQnJhaW5zdG9ybUl0ZW1JZHMuc2l6ZSA9PT0gMFwiPlxyXG4gICAgICAgICAgICAgIENvbmZpcm0gU2VsZWN0aW9uXHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgPCEtLSBXYWl0aW5nIGZvciBzZWxlY3Rpb24gLS0+XHJcbiAgICAgICAgICA8ZGl2IGlmLmJpbmQ9XCIhaXNBZG1pbiAmJiByZXRyb1NlcnZpY2Uuc2Vzc2lvbi5icmFpbnN0b3JtSXRlbUlkcy5sZW5ndGggPT09IDBcIiBjbGFzcz1cImNhcmQgY2VudGVyZWRcIj5cclxuICAgICAgICAgICAgPHA+V2FpdGluZyBmb3IgU2NydW0gTWFzdGVyIHRvIHNlbGVjdCBpdGVtcyBmb3IgZGlzY3Vzc2lvbi4uLjwvcD5cclxuICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgIDwhLS0gRGlzY3Vzc2lvbiB0aHJlYWRzIC0tPlxyXG4gICAgICAgICAgPGRpdiBpZi5iaW5kPVwicmV0cm9TZXJ2aWNlLnNlc3Npb24uYnJhaW5zdG9ybUl0ZW1JZHMubGVuZ3RoID4gMFwiIGNsYXNzPVwiYnJhaW5zdG9ybS10aHJlYWRzXCI+XHJcbiAgICAgICAgICAgIDxkaXYgcmVwZWF0LmZvcj1cIml0ZW0gb2YgYnJhaW5zdG9ybUl0ZW1zXCIgY2xhc3M9XCJicmFpbnN0b3JtLXRocmVhZCBjYXJkXCI+XHJcbiAgICAgICAgICAgICAgPGgzIGNsYXNzPVwidGhyZWFkLXRpdGxlXCI+JHtpdGVtLnRleHR9IDxzbWFsbD4oJHtpdGVtLnZvdGVzLmxlbmd0aH0gdm90ZXMpPC9zbWFsbD48L2gzPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb21tZW50c1wiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiByZXBlYXQuZm9yPVwiY29tbWVudCBvZiBnZXRDb21tZW50c0Zvckl0ZW0oaXRlbS5pZClcIiBjbGFzcz1cImNvbW1lbnRcIj5cclxuICAgICAgICAgICAgICAgICAgPHN0cm9uZz4ke2NvbW1lbnQuYXV0aG9yfTo8L3N0cm9uZz4gJHtjb21tZW50LnRleHR9XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWRkLWNvbW1lbnRcIj5cclxuICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXHJcbiAgICAgICAgICAgICAgICAgIHZhbHVlLmJpbmQ9XCJuZXdDb21tZW50VGV4dFwiXHJcbiAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiQWRkIGEgc3VnZ2VzdGlvbi4uLlwiXHJcbiAgICAgICAgICAgICAgICAgIGNsYXNzPVwiaW5wdXRcIlxyXG4gICAgICAgICAgICAgICAgICBrZXl1cC50cmlnZ2VyPVwiJGV2ZW50LmtleSA9PT0gJ0VudGVyJyA/IGFkZENvbW1lbnQoaXRlbS5pZCkgOiBudWxsXCJcclxuICAgICAgICAgICAgICAgICAgZm9jdXMudHJpZ2dlcj1cInNlbGVjdGVkQ29tbWVudEl0ZW1JZCA9IGl0ZW0uaWRcIlxyXG4gICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLXNtYWxsXCIgY2xpY2sudHJpZ2dlcj1cImFkZENvbW1lbnQoaXRlbS5pZClcIj5TZW5kPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgIDwhLS0gPT09PT09PT0gQUNUSU9OIFBPSU5UUyA9PT09PT09PSAtLT5cclxuICAgICAgICA8ZGl2IGlmLmJpbmQ9XCJwaGFzZSA9PT0gJ2FjdGlvbl9wb2ludHMnXCIgY2xhc3M9XCJwaGFzZS1jb250ZW50XCI+XHJcbiAgICAgICAgICA8aDI+QWN0aW9uIFBvaW50czwvaDI+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWN0aW9uLXBvaW50cy1saXN0XCI+XHJcbiAgICAgICAgICAgIDxkaXYgcmVwZWF0LmZvcj1cImFwIG9mIHJldHJvU2VydmljZS5zZXNzaW9uLmFjdGlvblBvaW50c1wiIGNsYXNzPVwiYWN0aW9uLXBvaW50LWNhcmQgY2FyZFwiPlxyXG4gICAgICAgICAgICAgIDxwIGNsYXNzPVwiYWN0aW9uLXRleHRcIj4ke2FwLnRleHR9PC9wPlxyXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiYWN0aW9uLWFzc2lnbmVlXCI+QXNzaWduZWQgdG86IDxzdHJvbmc+JHthcC5hc3NpZ25lZX08L3N0cm9uZz48L3NwYW4+XHJcbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJhY3Rpb24tY3JlYXRvclwiPkFkZGVkIGJ5OiAke2FwLmNyZWF0ZWRCeX08L3NwYW4+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWRkLWFjdGlvbi1mb3JtIGNhcmRcIj5cclxuICAgICAgICAgICAgPGgzPkFkZCBBY3Rpb24gUG9pbnQ8L2gzPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxyXG4gICAgICAgICAgICAgIDxsYWJlbD5BY3Rpb248L2xhYmVsPlxyXG4gICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIHZhbHVlLmJpbmQ9XCJuZXdBY3Rpb25UZXh0XCIgcGxhY2Vob2xkZXI9XCJXaGF0IG5lZWRzIHRvIGJlIGRvbmU/XCIgY2xhc3M9XCJpbnB1dFwiIC8+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxyXG4gICAgICAgICAgICAgIDxsYWJlbD5Bc3NpZ25lZTwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgPHNlbGVjdCB2YWx1ZS5iaW5kPVwibmV3QWN0aW9uQXNzaWduZWVcIiBjbGFzcz1cImlucHV0XCI+XHJcbiAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiXCI+U2VsZWN0IHBhcnRpY2lwYW50Li4uPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICA8b3B0aW9uIHJlcGVhdC5mb3I9XCJwIG9mIHJldHJvU2VydmljZS5zZXNzaW9uLnBhcnRpY2lwYW50c1wiIHZhbHVlLmJpbmQ9XCJwLm5hbWVcIj4ke3AubmFtZX08L29wdGlvbj5cclxuICAgICAgICAgICAgICA8L3NlbGVjdD5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBjbGljay50cmlnZ2VyPVwiYWRkQWN0aW9uUG9pbnQoKVwiPkFkZCBBY3Rpb24gUG9pbnQ8L2J1dHRvbj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICA8IS0tID09PT09PT09IENMT1NFRCA9PT09PT09PSAtLT5cclxuICAgICAgICA8ZGl2IGlmLmJpbmQ9XCJwaGFzZSA9PT0gJ2Nsb3NlZCdcIiBjbGFzcz1cInBoYXNlLWNvbnRlbnRcIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYXJkIGNlbnRlcmVkXCI+XHJcbiAgICAgICAgICAgIDxoMj5SZXRyb3NwZWN0aXZlIENvbXBsZXRlITwvaDI+XHJcbiAgICAgICAgICAgIDxwPlRoYW5rIHlvdSBmb3IgcGFydGljaXBhdGluZyBpbiA8c3Ryb25nPiR7cmV0cm9TZXJ2aWNlLnNlc3Npb24uc3ByaW50TmFtZX08L3N0cm9uZz48L3A+XHJcbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBjbGljay50cmlnZ2VyPVwiZXhwb3J0Q3N2KClcIj5FeHBvcnQgdG8gQ1NWPC9idXR0b24+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICA8IS0tIFN1bW1hcnkgLS0+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwic3VtbWFyeS1zZWN0aW9uXCI+XHJcbiAgICAgICAgICAgIDxoMz5XaGF0IFdlbnQgV2VsbDwvaDM+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpZGVhLWJvYXJkXCI+XHJcbiAgICAgICAgICAgICAgPGRpdiByZXBlYXQuZm9yPVwiaXRlbSBvZiByZXRyb1NlcnZpY2Uuc2Vzc2lvbi5pdGVtc1wiIGlmLmJpbmQ9XCJpdGVtLmNhdGVnb3J5ID09PSAnZ29vZCdcIiBjbGFzcz1cImlkZWEtY2FyZFwiPlxyXG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJpZGVhLXRleHRcIj4ke2l0ZW0udGV4dH08L3A+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImlkZWEtYXV0aG9yXCI+LSAke2l0ZW0uYXV0aG9yfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidm90ZS1jb3VudFwiPiR7aXRlbS52b3Rlcy5sZW5ndGh9IHZvdGVzPC9zcGFuPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgIDxoMz5XaGF0IENvdWxkIEJlIEJldHRlcjwvaDM+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpZGVhLWJvYXJkXCI+XHJcbiAgICAgICAgICAgICAgPGRpdiByZXBlYXQuZm9yPVwiaXRlbSBvZiByZXRyb1NlcnZpY2Uuc2Vzc2lvbi5pdGVtc1wiIGlmLmJpbmQ9XCJpdGVtLmNhdGVnb3J5ID09PSAnaW1wcm92ZSdcIiBjbGFzcz1cImlkZWEtY2FyZFwiPlxyXG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJpZGVhLXRleHRcIj4ke2l0ZW0udGV4dH08L3A+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImlkZWEtYXV0aG9yXCI+LSAke2l0ZW0uYXV0aG9yfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidm90ZS1jb3VudFwiPiR7aXRlbS52b3Rlcy5sZW5ndGh9IHZvdGVzPC9zcGFuPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgIDxoMyBpZi5iaW5kPVwicmV0cm9TZXJ2aWNlLnNlc3Npb24uYWN0aW9uUG9pbnRzLmxlbmd0aCA+IDBcIj5BY3Rpb24gUG9pbnRzPC9oMz5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFjdGlvbi1wb2ludHMtbGlzdFwiIGlmLmJpbmQ9XCJyZXRyb1NlcnZpY2Uuc2Vzc2lvbi5hY3Rpb25Qb2ludHMubGVuZ3RoID4gMFwiPlxyXG4gICAgICAgICAgICAgIDxkaXYgcmVwZWF0LmZvcj1cImFwIG9mIHJldHJvU2VydmljZS5zZXNzaW9uLmFjdGlvblBvaW50c1wiIGNsYXNzPVwiYWN0aW9uLXBvaW50LWNhcmQgY2FyZFwiPlxyXG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJhY3Rpb24tdGV4dFwiPiR7YXAudGV4dH08L3A+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImFjdGlvbi1hc3NpZ25lZVwiPkFzc2lnbmVkIHRvOiA8c3Ryb25nPiR7YXAuYXNzaWduZWV9PC9zdHJvbmc+PC9zcGFuPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgPC9zZWN0aW9uPlxyXG4gICAgPC9kaXY+XHJcbiAgPC90ZW1wbGF0ZT5cclxuXHJcbiAgPCEtLSBBZGQgSWRlYSBEaWFsb2cgLS0+XHJcbiAgPGRpdiBjbGFzcz1cIm1vZGFsLW92ZXJsYXlcIiBpZi5iaW5kPVwic2hvd0FkZERpYWxvZ1wiPlxyXG4gICAgPGRpdiBjbGFzcz1cIm1vZGFsXCI+XHJcbiAgICAgIDxoMz5BZGQgTmV3IElkZWE8L2gzPlxyXG4gICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxyXG4gICAgICAgIDx0ZXh0YXJlYVxyXG4gICAgICAgICAgdmFsdWUuYmluZD1cIm5ld0l0ZW1UZXh0XCJcclxuICAgICAgICAgIHBsYWNlaG9sZGVyPVwiU2hhcmUgeW91ciB0aG91Z2h0Li4uXCJcclxuICAgICAgICAgIGNsYXNzPVwiaW5wdXQgdGV4dGFyZWFcIlxyXG4gICAgICAgICAgcm93cz1cIjRcIlxyXG4gICAgICAgID48L3RleHRhcmVhPlxyXG4gICAgICA8L2Rpdj5cclxuICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWFjdGlvbnNcIj5cclxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuXCIgY2xpY2sudHJpZ2dlcj1cImNsb3NlQWRkRGlhbG9nKClcIj5DYW5jZWw8L2J1dHRvbj5cclxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgY2xpY2sudHJpZ2dlcj1cInNhdmVJdGVtKClcIj5TYXZlPC9idXR0b24+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbiAgPC9kaXY+XHJcbjwvZGl2PlxyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/pages/retro-room/retro-room.html\n\n}");

/***/ },

/***/ "./node_modules/css-loader/dist/cjs.js!./src/styles.css"
/*!**************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./src/styles.css ***!
  \**************************************************************/
(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/sourceMaps.js */ \"./node_modules/css-loader/dist/runtime/sourceMaps.js\");\n/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/api.js */ \"./node_modules/css-loader/dist/runtime/api.js\");\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);\n// Imports\n\n\nvar ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `/* ===== Reset & Base ===== */\r\n*, *::before, *::after {\r\n  box-sizing: border-box;\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n\r\n:root {\r\n  --primary: #2563eb;\r\n  --primary-hover: #1d4ed8;\r\n  --accent: #059669;\r\n  --accent-hover: #047857;\r\n  --danger: #dc2626;\r\n  --bg: #f1f5f9;\r\n  --card-bg: #ffffff;\r\n  --text: #1e293b;\r\n  --text-light: #64748b;\r\n  --border: #e2e8f0;\r\n  --shadow: 0 1px 3px rgba(0,0,0,0.08), 0 1px 2px rgba(0,0,0,0.06);\r\n  --radius: 8px;\r\n  --voted-bg: #dbeafe;\r\n  --selected-bg: #d1fae5;\r\n}\r\n\r\nbody {\r\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, sans-serif;\r\n  background: var(--bg);\r\n  color: var(--text);\r\n  line-height: 1.5;\r\n}\r\n\r\n/* ===== App Layout ===== */\r\n.app-container {\r\n  min-height: 100vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.app-header {\r\n  background: var(--primary);\r\n  color: white;\r\n  padding: 12px 24px;\r\n  box-shadow: var(--shadow);\r\n}\r\n\r\n.app-title {\r\n  font-size: 1.25rem;\r\n  font-weight: 600;\r\n}\r\n\r\n.app-main {\r\n  flex: 1;\r\n  padding: 20px;\r\n  max-width: 1400px;\r\n  margin: 0 auto;\r\n  width: 100%;\r\n}\r\n\r\n/* ===== Page ===== */\r\n.page {\r\n  width: 100%;\r\n}\r\n\r\n/* ===== Card ===== */\r\n.card {\r\n  background: var(--card-bg);\r\n  border-radius: var(--radius);\r\n  padding: 20px;\r\n  box-shadow: var(--shadow);\r\n  margin-bottom: 16px;\r\n}\r\n\r\n.card.centered {\r\n  text-align: center;\r\n}\r\n\r\n.card h2 {\r\n  margin-bottom: 12px;\r\n  font-size: 1.25rem;\r\n}\r\n\r\n.card h3 {\r\n  margin-bottom: 8px;\r\n  font-size: 1.1rem;\r\n}\r\n\r\n/* ===== Buttons ===== */\r\n.btn {\r\n  display: inline-flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 8px 16px;\r\n  border: 1px solid var(--border);\r\n  border-radius: var(--radius);\r\n  background: var(--card-bg);\r\n  color: var(--text);\r\n  cursor: pointer;\r\n  font-size: 0.875rem;\r\n  font-weight: 500;\r\n  transition: all 0.15s;\r\n  gap: 6px;\r\n}\r\n\r\n.btn:hover {\r\n  background: var(--bg);\r\n}\r\n\r\n.btn-primary {\r\n  background: var(--primary);\r\n  color: white;\r\n  border-color: var(--primary);\r\n}\r\n\r\n.btn-primary:hover {\r\n  background: var(--primary-hover);\r\n}\r\n\r\n.btn-accent {\r\n  background: var(--accent);\r\n  color: white;\r\n  border-color: var(--accent);\r\n}\r\n\r\n.btn-accent:hover {\r\n  background: var(--accent-hover);\r\n}\r\n\r\n.btn-small {\r\n  padding: 4px 10px;\r\n  font-size: 0.8rem;\r\n}\r\n\r\n.btn:disabled {\r\n  opacity: 0.5;\r\n  cursor: not-allowed;\r\n}\r\n\r\n/* ===== Inputs ===== */\r\n.input {\r\n  width: 100%;\r\n  padding: 8px 12px;\r\n  border: 1px solid var(--border);\r\n  border-radius: var(--radius);\r\n  font-size: 0.9rem;\r\n  transition: border-color 0.15s;\r\n}\r\n\r\n.input:focus {\r\n  outline: none;\r\n  border-color: var(--primary);\r\n  box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);\r\n}\r\n\r\n.input-small {\r\n  width: 100px;\r\n}\r\n\r\n.input-tiny {\r\n  width: 60px;\r\n  padding: 4px 8px;\r\n}\r\n\r\n.textarea {\r\n  resize: vertical;\r\n  min-height: 80px;\r\n}\r\n\r\n.form-group {\r\n  margin-bottom: 12px;\r\n}\r\n\r\n.form-group label {\r\n  display: block;\r\n  font-weight: 500;\r\n  margin-bottom: 4px;\r\n  font-size: 0.875rem;\r\n  color: var(--text-light);\r\n}\r\n\r\nselect.input {\r\n  appearance: auto;\r\n}\r\n\r\n/* ===== Error ===== */\r\n.error-message {\r\n  color: var(--danger);\r\n  font-size: 0.875rem;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.toast {\r\n  position: fixed;\r\n  top: 16px;\r\n  right: 16px;\r\n  padding: 12px 20px;\r\n  border-radius: var(--radius);\r\n  z-index: 1000;\r\n  cursor: pointer;\r\n  animation: slideIn 0.3s ease;\r\n}\r\n\r\n.error-toast {\r\n  background: #fef2f2;\r\n  color: var(--danger);\r\n  border: 1px solid #fca5a5;\r\n}\r\n\r\n@keyframes slideIn {\r\n  from { transform: translateX(100%); opacity: 0; }\r\n  to { transform: translateX(0); opacity: 1; }\r\n}\r\n\r\n/* ===== Table ===== */\r\n.table {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n}\r\n\r\n.table th, .table td {\r\n  text-align: left;\r\n  padding: 8px 12px;\r\n  border-bottom: 1px solid var(--border);\r\n}\r\n\r\n.table th {\r\n  font-weight: 600;\r\n  font-size: 0.8rem;\r\n  color: var(--text-light);\r\n  text-transform: uppercase;\r\n}\r\n\r\n/* ===== Home Page ===== */\r\n.active-retro-banner {\r\n  border-left: 4px solid var(--accent);\r\n}\r\n\r\n.share-link {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  margin-top: 8px;\r\n  justify-content: center;\r\n}\r\n\r\n.share-link code {\r\n  background: var(--bg);\r\n  padding: 8px 12px;\r\n  border-radius: var(--radius);\r\n  font-size: 0.9rem;\r\n  word-break: break-all;\r\n}\r\n\r\n/* ===== Join Page ===== */\r\n.sprint-label {\r\n  font-size: 1.1rem;\r\n  margin-bottom: 4px;\r\n}\r\n\r\n.participant-count {\r\n  color: var(--text-light);\r\n  margin-bottom: 16px;\r\n}\r\n\r\n.admin-badge {\r\n  margin-top: 12px;\r\n  padding: 6px 12px;\r\n  background: #fef3c7;\r\n  color: #92400e;\r\n  border-radius: var(--radius);\r\n  display: inline-block;\r\n  font-size: 0.85rem;\r\n  font-weight: 500;\r\n}\r\n\r\n/* ===== Retro Room ===== */\r\n.retro-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  background: var(--card-bg);\r\n  padding: 12px 20px;\r\n  border-radius: var(--radius);\r\n  box-shadow: var(--shadow);\r\n  margin-bottom: 16px;\r\n  flex-wrap: wrap;\r\n  gap: 12px;\r\n}\r\n\r\n.phase-info {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n}\r\n\r\n.phase-badge {\r\n  background: var(--primary);\r\n  color: white;\r\n  padding: 4px 12px;\r\n  border-radius: 20px;\r\n  font-size: 0.85rem;\r\n  font-weight: 600;\r\n}\r\n\r\n.sprint-name {\r\n  color: var(--text-light);\r\n  font-size: 0.9rem;\r\n}\r\n\r\n.header-right {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n}\r\n\r\n.timer-section {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n}\r\n\r\n.timer-display {\r\n  font-size: 1.5rem;\r\n  font-weight: 700;\r\n  font-variant-numeric: tabular-nums;\r\n  color: var(--primary);\r\n  min-width: 60px;\r\n}\r\n\r\n.timer-unit {\r\n  font-size: 0.8rem;\r\n  color: var(--text-light);\r\n}\r\n\r\n/* ===== Retro Body Layout ===== */\r\n.retro-body {\r\n  display: flex;\r\n  gap: 16px;\r\n}\r\n\r\n.sidebar {\r\n  width: 200px;\r\n  flex-shrink: 0;\r\n  background: var(--card-bg);\r\n  border-radius: var(--radius);\r\n  padding: 16px;\r\n  box-shadow: var(--shadow);\r\n  align-self: flex-start;\r\n  position: sticky;\r\n  top: 16px;\r\n}\r\n\r\n.sidebar h3 {\r\n  font-size: 0.9rem;\r\n  color: var(--text-light);\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.participant-list {\r\n  list-style: none;\r\n}\r\n\r\n.participant-item {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 4px 0;\r\n  font-size: 0.9rem;\r\n}\r\n\r\n.admin-tag {\r\n  background: #fef3c7;\r\n  color: #92400e;\r\n  font-size: 0.7rem;\r\n  padding: 1px 6px;\r\n  border-radius: 4px;\r\n  font-weight: 600;\r\n}\r\n\r\n.main-content {\r\n  flex: 1;\r\n  min-width: 0;\r\n}\r\n\r\n.phase-content h2 {\r\n  margin-bottom: 12px;\r\n}\r\n\r\n/* ===== Idea Board ===== */\r\n.board-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 12px;\r\n}\r\n\r\n.vote-hint {\r\n  color: var(--text-light);\r\n  font-size: 0.85rem;\r\n}\r\n\r\n.idea-board {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));\r\n  gap: 12px;\r\n}\r\n\r\n.idea-card {\r\n  background: var(--card-bg);\r\n  border: 1px solid var(--border);\r\n  border-radius: var(--radius);\r\n  padding: 14px;\r\n  box-shadow: var(--shadow);\r\n  transition: all 0.15s;\r\n}\r\n\r\n.idea-card.empty-card {\r\n  border-style: dashed;\r\n  text-align: center;\r\n  color: var(--text-light);\r\n}\r\n\r\n.idea-text {\r\n  font-size: 0.95rem;\r\n  margin-bottom: 8px;\r\n  white-space: pre-wrap;\r\n}\r\n\r\n.idea-author {\r\n  font-size: 0.8rem;\r\n  color: var(--text-light);\r\n}\r\n\r\n/* Voting */\r\n.idea-card.votable {\r\n  cursor: pointer;\r\n  user-select: none;\r\n}\r\n\r\n.idea-card.votable:hover {\r\n  border-color: var(--primary);\r\n  transform: translateY(-1px);\r\n}\r\n\r\n.idea-card.voted {\r\n  background: var(--voted-bg);\r\n  border-color: var(--primary);\r\n}\r\n\r\n.vote-section {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n  margin-top: 8px;\r\n}\r\n\r\n.vote-count {\r\n  font-weight: 700;\r\n  font-size: 1.1rem;\r\n  color: var(--primary);\r\n}\r\n\r\n.vote-icon {\r\n  font-size: 1.2rem;\r\n  color: var(--primary);\r\n}\r\n\r\n.voted-by {\r\n  margin-top: 4px;\r\n}\r\n\r\n.voted-by small {\r\n  color: var(--text-light);\r\n  font-size: 0.75rem;\r\n}\r\n\r\n/* Selectable (brainstorm) */\r\n.idea-card.selectable {\r\n  cursor: pointer;\r\n}\r\n\r\n.idea-card.selectable:hover {\r\n  border-color: var(--accent);\r\n}\r\n\r\n.idea-card.selected {\r\n  background: var(--selected-bg);\r\n  border-color: var(--accent);\r\n}\r\n\r\n/* ===== Brainstorm ===== */\r\n.brainstorm-selection {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\r\n  gap: 12px;\r\n  margin-bottom: 12px;\r\n}\r\n\r\n.brainstorm-threads {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16px;\r\n}\r\n\r\n.brainstorm-thread {\r\n  border-left: 4px solid var(--accent);\r\n}\r\n\r\n.thread-title {\r\n  font-size: 1rem;\r\n  margin-bottom: 12px;\r\n}\r\n\r\n.thread-title small {\r\n  color: var(--text-light);\r\n  font-weight: 400;\r\n}\r\n\r\n.comments {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 6px;\r\n  margin-bottom: 12px;\r\n}\r\n\r\n.comment {\r\n  background: var(--bg);\r\n  padding: 8px 12px;\r\n  border-radius: var(--radius);\r\n  font-size: 0.9rem;\r\n}\r\n\r\n.add-comment {\r\n  display: flex;\r\n  gap: 8px;\r\n}\r\n\r\n.add-comment .input {\r\n  flex: 1;\r\n}\r\n\r\n/* ===== Action Points ===== */\r\n.action-points-list {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\r\n  gap: 12px;\r\n  margin-bottom: 16px;\r\n}\r\n\r\n.action-point-card {\r\n  border-left: 4px solid var(--primary);\r\n}\r\n\r\n.action-text {\r\n  font-size: 0.95rem;\r\n  margin-bottom: 6px;\r\n}\r\n\r\n.action-assignee {\r\n  display: block;\r\n  font-size: 0.85rem;\r\n  color: var(--text-light);\r\n}\r\n\r\n.action-creator {\r\n  display: block;\r\n  font-size: 0.8rem;\r\n  color: var(--text-light);\r\n}\r\n\r\n.add-action-form {\r\n  max-width: 500px;\r\n}\r\n\r\n/* ===== Summary ===== */\r\n.summary-section h3 {\r\n  margin-top: 20px;\r\n  margin-bottom: 12px;\r\n  padding-bottom: 4px;\r\n  border-bottom: 2px solid var(--border);\r\n}\r\n\r\n/* ===== Modal ===== */\r\n.modal-overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: rgba(0,0,0,0.4);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 100;\r\n}\r\n\r\n.modal {\r\n  background: var(--card-bg);\r\n  border-radius: var(--radius);\r\n  padding: 24px;\r\n  min-width: 400px;\r\n  max-width: 90vw;\r\n  box-shadow: 0 4px 12px rgba(0,0,0,0.15);\r\n}\r\n\r\n.modal h3 {\r\n  margin-bottom: 16px;\r\n}\r\n\r\n.modal-actions {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  gap: 8px;\r\n  margin-top: 16px;\r\n}\r\n\r\n/* ===== Responsive ===== */\r\n@media (max-width: 768px) {\r\n  .retro-body {\r\n    flex-direction: column;\r\n  }\r\n  .sidebar {\r\n    width: 100%;\r\n    position: static;\r\n  }\r\n  .retro-header {\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n  }\r\n  .idea-board {\r\n    grid-template-columns: 1fr;\r\n  }\r\n  .modal {\r\n    min-width: auto;\r\n    margin: 16px;\r\n  }\r\n}\r\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/styles.css\"],\"names\":[],\"mappings\":\"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\",\"sourcesContent\":[\"/* ===== Reset & Base ===== */\\r\\n*, *::before, *::after {\\r\\n  box-sizing: border-box;\\r\\n  margin: 0;\\r\\n  padding: 0;\\r\\n}\\r\\n\\r\\n:root {\\r\\n  --primary: #2563eb;\\r\\n  --primary-hover: #1d4ed8;\\r\\n  --accent: #059669;\\r\\n  --accent-hover: #047857;\\r\\n  --danger: #dc2626;\\r\\n  --bg: #f1f5f9;\\r\\n  --card-bg: #ffffff;\\r\\n  --text: #1e293b;\\r\\n  --text-light: #64748b;\\r\\n  --border: #e2e8f0;\\r\\n  --shadow: 0 1px 3px rgba(0,0,0,0.08), 0 1px 2px rgba(0,0,0,0.06);\\r\\n  --radius: 8px;\\r\\n  --voted-bg: #dbeafe;\\r\\n  --selected-bg: #d1fae5;\\r\\n}\\r\\n\\r\\nbody {\\r\\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, sans-serif;\\r\\n  background: var(--bg);\\r\\n  color: var(--text);\\r\\n  line-height: 1.5;\\r\\n}\\r\\n\\r\\n/* ===== App Layout ===== */\\r\\n.app-container {\\r\\n  min-height: 100vh;\\r\\n  display: flex;\\r\\n  flex-direction: column;\\r\\n}\\r\\n\\r\\n.app-header {\\r\\n  background: var(--primary);\\r\\n  color: white;\\r\\n  padding: 12px 24px;\\r\\n  box-shadow: var(--shadow);\\r\\n}\\r\\n\\r\\n.app-title {\\r\\n  font-size: 1.25rem;\\r\\n  font-weight: 600;\\r\\n}\\r\\n\\r\\n.app-main {\\r\\n  flex: 1;\\r\\n  padding: 20px;\\r\\n  max-width: 1400px;\\r\\n  margin: 0 auto;\\r\\n  width: 100%;\\r\\n}\\r\\n\\r\\n/* ===== Page ===== */\\r\\n.page {\\r\\n  width: 100%;\\r\\n}\\r\\n\\r\\n/* ===== Card ===== */\\r\\n.card {\\r\\n  background: var(--card-bg);\\r\\n  border-radius: var(--radius);\\r\\n  padding: 20px;\\r\\n  box-shadow: var(--shadow);\\r\\n  margin-bottom: 16px;\\r\\n}\\r\\n\\r\\n.card.centered {\\r\\n  text-align: center;\\r\\n}\\r\\n\\r\\n.card h2 {\\r\\n  margin-bottom: 12px;\\r\\n  font-size: 1.25rem;\\r\\n}\\r\\n\\r\\n.card h3 {\\r\\n  margin-bottom: 8px;\\r\\n  font-size: 1.1rem;\\r\\n}\\r\\n\\r\\n/* ===== Buttons ===== */\\r\\n.btn {\\r\\n  display: inline-flex;\\r\\n  align-items: center;\\r\\n  justify-content: center;\\r\\n  padding: 8px 16px;\\r\\n  border: 1px solid var(--border);\\r\\n  border-radius: var(--radius);\\r\\n  background: var(--card-bg);\\r\\n  color: var(--text);\\r\\n  cursor: pointer;\\r\\n  font-size: 0.875rem;\\r\\n  font-weight: 500;\\r\\n  transition: all 0.15s;\\r\\n  gap: 6px;\\r\\n}\\r\\n\\r\\n.btn:hover {\\r\\n  background: var(--bg);\\r\\n}\\r\\n\\r\\n.btn-primary {\\r\\n  background: var(--primary);\\r\\n  color: white;\\r\\n  border-color: var(--primary);\\r\\n}\\r\\n\\r\\n.btn-primary:hover {\\r\\n  background: var(--primary-hover);\\r\\n}\\r\\n\\r\\n.btn-accent {\\r\\n  background: var(--accent);\\r\\n  color: white;\\r\\n  border-color: var(--accent);\\r\\n}\\r\\n\\r\\n.btn-accent:hover {\\r\\n  background: var(--accent-hover);\\r\\n}\\r\\n\\r\\n.btn-small {\\r\\n  padding: 4px 10px;\\r\\n  font-size: 0.8rem;\\r\\n}\\r\\n\\r\\n.btn:disabled {\\r\\n  opacity: 0.5;\\r\\n  cursor: not-allowed;\\r\\n}\\r\\n\\r\\n/* ===== Inputs ===== */\\r\\n.input {\\r\\n  width: 100%;\\r\\n  padding: 8px 12px;\\r\\n  border: 1px solid var(--border);\\r\\n  border-radius: var(--radius);\\r\\n  font-size: 0.9rem;\\r\\n  transition: border-color 0.15s;\\r\\n}\\r\\n\\r\\n.input:focus {\\r\\n  outline: none;\\r\\n  border-color: var(--primary);\\r\\n  box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);\\r\\n}\\r\\n\\r\\n.input-small {\\r\\n  width: 100px;\\r\\n}\\r\\n\\r\\n.input-tiny {\\r\\n  width: 60px;\\r\\n  padding: 4px 8px;\\r\\n}\\r\\n\\r\\n.textarea {\\r\\n  resize: vertical;\\r\\n  min-height: 80px;\\r\\n}\\r\\n\\r\\n.form-group {\\r\\n  margin-bottom: 12px;\\r\\n}\\r\\n\\r\\n.form-group label {\\r\\n  display: block;\\r\\n  font-weight: 500;\\r\\n  margin-bottom: 4px;\\r\\n  font-size: 0.875rem;\\r\\n  color: var(--text-light);\\r\\n}\\r\\n\\r\\nselect.input {\\r\\n  appearance: auto;\\r\\n}\\r\\n\\r\\n/* ===== Error ===== */\\r\\n.error-message {\\r\\n  color: var(--danger);\\r\\n  font-size: 0.875rem;\\r\\n  margin-bottom: 8px;\\r\\n}\\r\\n\\r\\n.toast {\\r\\n  position: fixed;\\r\\n  top: 16px;\\r\\n  right: 16px;\\r\\n  padding: 12px 20px;\\r\\n  border-radius: var(--radius);\\r\\n  z-index: 1000;\\r\\n  cursor: pointer;\\r\\n  animation: slideIn 0.3s ease;\\r\\n}\\r\\n\\r\\n.error-toast {\\r\\n  background: #fef2f2;\\r\\n  color: var(--danger);\\r\\n  border: 1px solid #fca5a5;\\r\\n}\\r\\n\\r\\n@keyframes slideIn {\\r\\n  from { transform: translateX(100%); opacity: 0; }\\r\\n  to { transform: translateX(0); opacity: 1; }\\r\\n}\\r\\n\\r\\n/* ===== Table ===== */\\r\\n.table {\\r\\n  width: 100%;\\r\\n  border-collapse: collapse;\\r\\n}\\r\\n\\r\\n.table th, .table td {\\r\\n  text-align: left;\\r\\n  padding: 8px 12px;\\r\\n  border-bottom: 1px solid var(--border);\\r\\n}\\r\\n\\r\\n.table th {\\r\\n  font-weight: 600;\\r\\n  font-size: 0.8rem;\\r\\n  color: var(--text-light);\\r\\n  text-transform: uppercase;\\r\\n}\\r\\n\\r\\n/* ===== Home Page ===== */\\r\\n.active-retro-banner {\\r\\n  border-left: 4px solid var(--accent);\\r\\n}\\r\\n\\r\\n.share-link {\\r\\n  display: flex;\\r\\n  align-items: center;\\r\\n  gap: 8px;\\r\\n  margin-top: 8px;\\r\\n  justify-content: center;\\r\\n}\\r\\n\\r\\n.share-link code {\\r\\n  background: var(--bg);\\r\\n  padding: 8px 12px;\\r\\n  border-radius: var(--radius);\\r\\n  font-size: 0.9rem;\\r\\n  word-break: break-all;\\r\\n}\\r\\n\\r\\n/* ===== Join Page ===== */\\r\\n.sprint-label {\\r\\n  font-size: 1.1rem;\\r\\n  margin-bottom: 4px;\\r\\n}\\r\\n\\r\\n.participant-count {\\r\\n  color: var(--text-light);\\r\\n  margin-bottom: 16px;\\r\\n}\\r\\n\\r\\n.admin-badge {\\r\\n  margin-top: 12px;\\r\\n  padding: 6px 12px;\\r\\n  background: #fef3c7;\\r\\n  color: #92400e;\\r\\n  border-radius: var(--radius);\\r\\n  display: inline-block;\\r\\n  font-size: 0.85rem;\\r\\n  font-weight: 500;\\r\\n}\\r\\n\\r\\n/* ===== Retro Room ===== */\\r\\n.retro-header {\\r\\n  display: flex;\\r\\n  justify-content: space-between;\\r\\n  align-items: center;\\r\\n  background: var(--card-bg);\\r\\n  padding: 12px 20px;\\r\\n  border-radius: var(--radius);\\r\\n  box-shadow: var(--shadow);\\r\\n  margin-bottom: 16px;\\r\\n  flex-wrap: wrap;\\r\\n  gap: 12px;\\r\\n}\\r\\n\\r\\n.phase-info {\\r\\n  display: flex;\\r\\n  align-items: center;\\r\\n  gap: 12px;\\r\\n}\\r\\n\\r\\n.phase-badge {\\r\\n  background: var(--primary);\\r\\n  color: white;\\r\\n  padding: 4px 12px;\\r\\n  border-radius: 20px;\\r\\n  font-size: 0.85rem;\\r\\n  font-weight: 600;\\r\\n}\\r\\n\\r\\n.sprint-name {\\r\\n  color: var(--text-light);\\r\\n  font-size: 0.9rem;\\r\\n}\\r\\n\\r\\n.header-right {\\r\\n  display: flex;\\r\\n  align-items: center;\\r\\n  gap: 12px;\\r\\n}\\r\\n\\r\\n.timer-section {\\r\\n  display: flex;\\r\\n  align-items: center;\\r\\n  gap: 8px;\\r\\n}\\r\\n\\r\\n.timer-display {\\r\\n  font-size: 1.5rem;\\r\\n  font-weight: 700;\\r\\n  font-variant-numeric: tabular-nums;\\r\\n  color: var(--primary);\\r\\n  min-width: 60px;\\r\\n}\\r\\n\\r\\n.timer-unit {\\r\\n  font-size: 0.8rem;\\r\\n  color: var(--text-light);\\r\\n}\\r\\n\\r\\n/* ===== Retro Body Layout ===== */\\r\\n.retro-body {\\r\\n  display: flex;\\r\\n  gap: 16px;\\r\\n}\\r\\n\\r\\n.sidebar {\\r\\n  width: 200px;\\r\\n  flex-shrink: 0;\\r\\n  background: var(--card-bg);\\r\\n  border-radius: var(--radius);\\r\\n  padding: 16px;\\r\\n  box-shadow: var(--shadow);\\r\\n  align-self: flex-start;\\r\\n  position: sticky;\\r\\n  top: 16px;\\r\\n}\\r\\n\\r\\n.sidebar h3 {\\r\\n  font-size: 0.9rem;\\r\\n  color: var(--text-light);\\r\\n  margin-bottom: 8px;\\r\\n}\\r\\n\\r\\n.participant-list {\\r\\n  list-style: none;\\r\\n}\\r\\n\\r\\n.participant-item {\\r\\n  display: flex;\\r\\n  align-items: center;\\r\\n  justify-content: space-between;\\r\\n  padding: 4px 0;\\r\\n  font-size: 0.9rem;\\r\\n}\\r\\n\\r\\n.admin-tag {\\r\\n  background: #fef3c7;\\r\\n  color: #92400e;\\r\\n  font-size: 0.7rem;\\r\\n  padding: 1px 6px;\\r\\n  border-radius: 4px;\\r\\n  font-weight: 600;\\r\\n}\\r\\n\\r\\n.main-content {\\r\\n  flex: 1;\\r\\n  min-width: 0;\\r\\n}\\r\\n\\r\\n.phase-content h2 {\\r\\n  margin-bottom: 12px;\\r\\n}\\r\\n\\r\\n/* ===== Idea Board ===== */\\r\\n.board-header {\\r\\n  display: flex;\\r\\n  justify-content: space-between;\\r\\n  align-items: center;\\r\\n  margin-bottom: 12px;\\r\\n}\\r\\n\\r\\n.vote-hint {\\r\\n  color: var(--text-light);\\r\\n  font-size: 0.85rem;\\r\\n}\\r\\n\\r\\n.idea-board {\\r\\n  display: grid;\\r\\n  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));\\r\\n  gap: 12px;\\r\\n}\\r\\n\\r\\n.idea-card {\\r\\n  background: var(--card-bg);\\r\\n  border: 1px solid var(--border);\\r\\n  border-radius: var(--radius);\\r\\n  padding: 14px;\\r\\n  box-shadow: var(--shadow);\\r\\n  transition: all 0.15s;\\r\\n}\\r\\n\\r\\n.idea-card.empty-card {\\r\\n  border-style: dashed;\\r\\n  text-align: center;\\r\\n  color: var(--text-light);\\r\\n}\\r\\n\\r\\n.idea-text {\\r\\n  font-size: 0.95rem;\\r\\n  margin-bottom: 8px;\\r\\n  white-space: pre-wrap;\\r\\n}\\r\\n\\r\\n.idea-author {\\r\\n  font-size: 0.8rem;\\r\\n  color: var(--text-light);\\r\\n}\\r\\n\\r\\n/* Voting */\\r\\n.idea-card.votable {\\r\\n  cursor: pointer;\\r\\n  user-select: none;\\r\\n}\\r\\n\\r\\n.idea-card.votable:hover {\\r\\n  border-color: var(--primary);\\r\\n  transform: translateY(-1px);\\r\\n}\\r\\n\\r\\n.idea-card.voted {\\r\\n  background: var(--voted-bg);\\r\\n  border-color: var(--primary);\\r\\n}\\r\\n\\r\\n.vote-section {\\r\\n  display: flex;\\r\\n  align-items: center;\\r\\n  gap: 6px;\\r\\n  margin-top: 8px;\\r\\n}\\r\\n\\r\\n.vote-count {\\r\\n  font-weight: 700;\\r\\n  font-size: 1.1rem;\\r\\n  color: var(--primary);\\r\\n}\\r\\n\\r\\n.vote-icon {\\r\\n  font-size: 1.2rem;\\r\\n  color: var(--primary);\\r\\n}\\r\\n\\r\\n.voted-by {\\r\\n  margin-top: 4px;\\r\\n}\\r\\n\\r\\n.voted-by small {\\r\\n  color: var(--text-light);\\r\\n  font-size: 0.75rem;\\r\\n}\\r\\n\\r\\n/* Selectable (brainstorm) */\\r\\n.idea-card.selectable {\\r\\n  cursor: pointer;\\r\\n}\\r\\n\\r\\n.idea-card.selectable:hover {\\r\\n  border-color: var(--accent);\\r\\n}\\r\\n\\r\\n.idea-card.selected {\\r\\n  background: var(--selected-bg);\\r\\n  border-color: var(--accent);\\r\\n}\\r\\n\\r\\n/* ===== Brainstorm ===== */\\r\\n.brainstorm-selection {\\r\\n  display: grid;\\r\\n  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\\r\\n  gap: 12px;\\r\\n  margin-bottom: 12px;\\r\\n}\\r\\n\\r\\n.brainstorm-threads {\\r\\n  display: flex;\\r\\n  flex-direction: column;\\r\\n  gap: 16px;\\r\\n}\\r\\n\\r\\n.brainstorm-thread {\\r\\n  border-left: 4px solid var(--accent);\\r\\n}\\r\\n\\r\\n.thread-title {\\r\\n  font-size: 1rem;\\r\\n  margin-bottom: 12px;\\r\\n}\\r\\n\\r\\n.thread-title small {\\r\\n  color: var(--text-light);\\r\\n  font-weight: 400;\\r\\n}\\r\\n\\r\\n.comments {\\r\\n  display: flex;\\r\\n  flex-direction: column;\\r\\n  gap: 6px;\\r\\n  margin-bottom: 12px;\\r\\n}\\r\\n\\r\\n.comment {\\r\\n  background: var(--bg);\\r\\n  padding: 8px 12px;\\r\\n  border-radius: var(--radius);\\r\\n  font-size: 0.9rem;\\r\\n}\\r\\n\\r\\n.add-comment {\\r\\n  display: flex;\\r\\n  gap: 8px;\\r\\n}\\r\\n\\r\\n.add-comment .input {\\r\\n  flex: 1;\\r\\n}\\r\\n\\r\\n/* ===== Action Points ===== */\\r\\n.action-points-list {\\r\\n  display: grid;\\r\\n  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\\r\\n  gap: 12px;\\r\\n  margin-bottom: 16px;\\r\\n}\\r\\n\\r\\n.action-point-card {\\r\\n  border-left: 4px solid var(--primary);\\r\\n}\\r\\n\\r\\n.action-text {\\r\\n  font-size: 0.95rem;\\r\\n  margin-bottom: 6px;\\r\\n}\\r\\n\\r\\n.action-assignee {\\r\\n  display: block;\\r\\n  font-size: 0.85rem;\\r\\n  color: var(--text-light);\\r\\n}\\r\\n\\r\\n.action-creator {\\r\\n  display: block;\\r\\n  font-size: 0.8rem;\\r\\n  color: var(--text-light);\\r\\n}\\r\\n\\r\\n.add-action-form {\\r\\n  max-width: 500px;\\r\\n}\\r\\n\\r\\n/* ===== Summary ===== */\\r\\n.summary-section h3 {\\r\\n  margin-top: 20px;\\r\\n  margin-bottom: 12px;\\r\\n  padding-bottom: 4px;\\r\\n  border-bottom: 2px solid var(--border);\\r\\n}\\r\\n\\r\\n/* ===== Modal ===== */\\r\\n.modal-overlay {\\r\\n  position: fixed;\\r\\n  top: 0;\\r\\n  left: 0;\\r\\n  right: 0;\\r\\n  bottom: 0;\\r\\n  background: rgba(0,0,0,0.4);\\r\\n  display: flex;\\r\\n  align-items: center;\\r\\n  justify-content: center;\\r\\n  z-index: 100;\\r\\n}\\r\\n\\r\\n.modal {\\r\\n  background: var(--card-bg);\\r\\n  border-radius: var(--radius);\\r\\n  padding: 24px;\\r\\n  min-width: 400px;\\r\\n  max-width: 90vw;\\r\\n  box-shadow: 0 4px 12px rgba(0,0,0,0.15);\\r\\n}\\r\\n\\r\\n.modal h3 {\\r\\n  margin-bottom: 16px;\\r\\n}\\r\\n\\r\\n.modal-actions {\\r\\n  display: flex;\\r\\n  justify-content: flex-end;\\r\\n  gap: 8px;\\r\\n  margin-top: 16px;\\r\\n}\\r\\n\\r\\n/* ===== Responsive ===== */\\r\\n@media (max-width: 768px) {\\r\\n  .retro-body {\\r\\n    flex-direction: column;\\r\\n  }\\r\\n  .sidebar {\\r\\n    width: 100%;\\r\\n    position: static;\\r\\n  }\\r\\n  .retro-header {\\r\\n    flex-direction: column;\\r\\n    align-items: flex-start;\\r\\n  }\\r\\n  .idea-board {\\r\\n    grid-template-columns: 1fr;\\r\\n  }\\r\\n  .modal {\\r\\n    min-width: auto;\\r\\n    margin: 16px;\\r\\n  }\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3NyYy9zdHlsZXMuY3NzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFDMEc7QUFDakI7QUFDekYsOEJBQThCLG1GQUEyQixDQUFDLDRGQUFxQztBQUMvRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyw2QkFBNkI7QUFDdEMsT0FBTywwQkFBMEI7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTyx3RkFBd0YsTUFBTSxZQUFZLFdBQVcsVUFBVSxNQUFNLEtBQUssWUFBWSxhQUFhLGFBQWEsYUFBYSxhQUFhLFdBQVcsWUFBWSxXQUFXLFlBQVksYUFBYSxhQUFhLFdBQVcsWUFBWSxhQUFhLE9BQU8sS0FBSyxZQUFZLGFBQWEsYUFBYSxhQUFhLE9BQU8sWUFBWSxNQUFNLFlBQVksV0FBVyxZQUFZLE9BQU8sS0FBSyxZQUFZLFdBQVcsWUFBWSxhQUFhLE9BQU8sS0FBSyxZQUFZLGFBQWEsT0FBTyxLQUFLLFVBQVUsVUFBVSxZQUFZLFdBQVcsVUFBVSxNQUFNLFlBQVksTUFBTSxVQUFVLE1BQU0sWUFBWSxNQUFNLFlBQVksYUFBYSxXQUFXLFlBQVksYUFBYSxPQUFPLEtBQUssWUFBWSxPQUFPLEtBQUssWUFBWSxhQUFhLE9BQU8sS0FBSyxZQUFZLGFBQWEsT0FBTyxZQUFZLE1BQU0sWUFBWSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLFdBQVcsWUFBWSxhQUFhLGFBQWEsV0FBVyxNQUFNLEtBQUssWUFBWSxPQUFPLEtBQUssWUFBWSxXQUFXLFlBQVksT0FBTyxLQUFLLFlBQVksT0FBTyxLQUFLLFlBQVksV0FBVyxZQUFZLE9BQU8sS0FBSyxZQUFZLE9BQU8sS0FBSyxZQUFZLGFBQWEsT0FBTyxLQUFLLFVBQVUsWUFBWSxPQUFPLFlBQVksTUFBTSxVQUFVLFlBQVksYUFBYSxhQUFhLGFBQWEsYUFBYSxPQUFPLEtBQUssVUFBVSxZQUFZLGFBQWEsT0FBTyxLQUFLLFVBQVUsTUFBTSxLQUFLLFVBQVUsWUFBWSxPQUFPLEtBQUssWUFBWSxhQUFhLE9BQU8sS0FBSyxZQUFZLE9BQU8sS0FBSyxVQUFVLFlBQVksYUFBYSxhQUFhLGFBQWEsT0FBTyxLQUFLLFlBQVksT0FBTyxZQUFZLE1BQU0sWUFBWSxhQUFhLGFBQWEsT0FBTyxLQUFLLFVBQVUsVUFBVSxVQUFVLFlBQVksYUFBYSxXQUFXLFVBQVUsWUFBWSxPQUFPLEtBQUssWUFBWSxhQUFhLGFBQWEsT0FBTyxLQUFLLGdDQUFnQyxpQ0FBaUMsT0FBTyxZQUFZLE1BQU0sVUFBVSxZQUFZLE9BQU8sS0FBSyxZQUFZLGFBQWEsYUFBYSxPQUFPLEtBQUssWUFBWSxhQUFhLGFBQWEsYUFBYSxPQUFPLFlBQVksTUFBTSxZQUFZLE9BQU8sS0FBSyxVQUFVLFlBQVksV0FBVyxVQUFVLFlBQVksT0FBTyxLQUFLLFlBQVksYUFBYSxhQUFhLGFBQWEsYUFBYSxPQUFPLFlBQVksTUFBTSxZQUFZLGFBQWEsT0FBTyxLQUFLLFlBQVksYUFBYSxPQUFPLEtBQUssWUFBWSxhQUFhLGFBQWEsV0FBVyxZQUFZLGFBQWEsYUFBYSxhQUFhLE9BQU8sWUFBWSxNQUFNLFVBQVUsWUFBWSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxXQUFXLFVBQVUsTUFBTSxLQUFLLFVBQVUsWUFBWSxXQUFXLE1BQU0sS0FBSyxZQUFZLFdBQVcsWUFBWSxhQUFhLGFBQWEsYUFBYSxPQUFPLEtBQUssWUFBWSxhQUFhLE9BQU8sS0FBSyxVQUFVLFlBQVksV0FBVyxNQUFNLEtBQUssVUFBVSxZQUFZLFdBQVcsTUFBTSxLQUFLLFlBQVksYUFBYSxhQUFhLGFBQWEsV0FBVyxPQUFPLEtBQUssWUFBWSxhQUFhLE9BQU8sWUFBWSxNQUFNLFVBQVUsVUFBVSxNQUFNLEtBQUssVUFBVSxVQUFVLFlBQVksYUFBYSxXQUFXLFlBQVksYUFBYSxhQUFhLFdBQVcsTUFBTSxLQUFLLFlBQVksYUFBYSxhQUFhLE9BQU8sS0FBSyxZQUFZLE9BQU8sS0FBSyxVQUFVLFlBQVksYUFBYSxXQUFXLFlBQVksT0FBTyxLQUFLLFlBQVksV0FBVyxZQUFZLGFBQWEsYUFBYSxhQUFhLE9BQU8sS0FBSyxVQUFVLFVBQVUsTUFBTSxLQUFLLFlBQVksT0FBTyxZQUFZLE1BQU0sVUFBVSxZQUFZLGFBQWEsYUFBYSxPQUFPLEtBQUssWUFBWSxhQUFhLE9BQU8sS0FBSyxVQUFVLFlBQVksV0FBVyxNQUFNLEtBQUssWUFBWSxhQUFhLGFBQWEsV0FBVyxZQUFZLGFBQWEsT0FBTyxLQUFLLFlBQVksYUFBYSxhQUFhLE9BQU8sS0FBSyxZQUFZLGFBQWEsYUFBYSxPQUFPLEtBQUssWUFBWSxhQUFhLE9BQU8sVUFBVSxLQUFLLFVBQVUsWUFBWSxPQUFPLEtBQUssWUFBWSxhQUFhLE9BQU8sS0FBSyxZQUFZLGFBQWEsT0FBTyxLQUFLLFVBQVUsWUFBWSxXQUFXLFVBQVUsT0FBTyxLQUFLLFlBQVksYUFBYSxhQUFhLE9BQU8sS0FBSyxZQUFZLGFBQWEsT0FBTyxLQUFLLFVBQVUsT0FBTyxLQUFLLFlBQVksYUFBYSxPQUFPLFlBQVksTUFBTSxV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QUFtRSxnQkFBZ0IsMEJBQTBCLEtBQUssNEJBQTRCLDRDQUE0QyxLQUFLLHNCQUFzQix5QkFBeUIseUJBQXlCLEtBQUssMEJBQTBCLHFCQUFxQix5QkFBeUIsK0JBQStCLEtBQUsseUJBQXlCLHFCQUFxQix3QkFBd0IsK0JBQStCLEtBQUssMEJBQTBCLHVCQUF1QixLQUFLLDBEQUEwRCx1QkFBdUIsMEJBQTBCLDBCQUEwQiw2Q0FBNkMsS0FBSyxtREFBbUQsc0JBQXNCLGFBQWEsY0FBYyxlQUFlLGdCQUFnQixrQ0FBa0Msb0JBQW9CLDBCQUEwQiw4QkFBOEIsbUJBQW1CLEtBQUssZ0JBQWdCLGlDQUFpQyxtQ0FBbUMsb0JBQW9CLHVCQUF1QixzQkFBc0IsOENBQThDLEtBQUssbUJBQW1CLDBCQUEwQixLQUFLLHdCQUF3QixvQkFBb0IsZ0NBQWdDLGVBQWUsdUJBQXVCLEtBQUssbUVBQW1FLG1CQUFtQiwrQkFBK0IsT0FBTyxnQkFBZ0Isb0JBQW9CLHlCQUF5QixPQUFPLHFCQUFxQiwrQkFBK0IsZ0NBQWdDLE9BQU8sbUJBQW1CLG1DQUFtQyxPQUFPLGNBQWMsd0JBQXdCLHFCQUFxQixPQUFPLEtBQUssdUJBQXVCO0FBQzc2aEI7QUFDQSxpRUFBZSx1QkFBdUIsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3JldHJvYXBwLWNsaWVudC8uL3NyYy9zdHlsZXMuY3NzP2U5YWEiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgYC8qID09PT09IFJlc2V0ICYgQmFzZSA9PT09PSAqL1xyXG4qLCAqOjpiZWZvcmUsICo6OmFmdGVyIHtcclxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG4gIG1hcmdpbjogMDtcclxuICBwYWRkaW5nOiAwO1xyXG59XHJcblxyXG46cm9vdCB7XHJcbiAgLS1wcmltYXJ5OiAjMjU2M2ViO1xyXG4gIC0tcHJpbWFyeS1ob3ZlcjogIzFkNGVkODtcclxuICAtLWFjY2VudDogIzA1OTY2OTtcclxuICAtLWFjY2VudC1ob3ZlcjogIzA0Nzg1NztcclxuICAtLWRhbmdlcjogI2RjMjYyNjtcclxuICAtLWJnOiAjZjFmNWY5O1xyXG4gIC0tY2FyZC1iZzogI2ZmZmZmZjtcclxuICAtLXRleHQ6ICMxZTI5M2I7XHJcbiAgLS10ZXh0LWxpZ2h0OiAjNjQ3NDhiO1xyXG4gIC0tYm9yZGVyOiAjZTJlOGYwO1xyXG4gIC0tc2hhZG93OiAwIDFweCAzcHggcmdiYSgwLDAsMCwwLjA4KSwgMCAxcHggMnB4IHJnYmEoMCwwLDAsMC4wNik7XHJcbiAgLS1yYWRpdXM6IDhweDtcclxuICAtLXZvdGVkLWJnOiAjZGJlYWZlO1xyXG4gIC0tc2VsZWN0ZWQtYmc6ICNkMWZhZTU7XHJcbn1cclxuXHJcbmJvZHkge1xyXG4gIGZvbnQtZmFtaWx5OiAtYXBwbGUtc3lzdGVtLCBCbGlua01hY1N5c3RlbUZvbnQsICdTZWdvZSBVSScsIFJvYm90bywgT3h5Z2VuLCBzYW5zLXNlcmlmO1xyXG4gIGJhY2tncm91bmQ6IHZhcigtLWJnKTtcclxuICBjb2xvcjogdmFyKC0tdGV4dCk7XHJcbiAgbGluZS1oZWlnaHQ6IDEuNTtcclxufVxyXG5cclxuLyogPT09PT0gQXBwIExheW91dCA9PT09PSAqL1xyXG4uYXBwLWNvbnRhaW5lciB7XHJcbiAgbWluLWhlaWdodDogMTAwdmg7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG59XHJcblxyXG4uYXBwLWhlYWRlciB7XHJcbiAgYmFja2dyb3VuZDogdmFyKC0tcHJpbWFyeSk7XHJcbiAgY29sb3I6IHdoaXRlO1xyXG4gIHBhZGRpbmc6IDEycHggMjRweDtcclxuICBib3gtc2hhZG93OiB2YXIoLS1zaGFkb3cpO1xyXG59XHJcblxyXG4uYXBwLXRpdGxlIHtcclxuICBmb250LXNpemU6IDEuMjVyZW07XHJcbiAgZm9udC13ZWlnaHQ6IDYwMDtcclxufVxyXG5cclxuLmFwcC1tYWluIHtcclxuICBmbGV4OiAxO1xyXG4gIHBhZGRpbmc6IDIwcHg7XHJcbiAgbWF4LXdpZHRoOiAxNDAwcHg7XHJcbiAgbWFyZ2luOiAwIGF1dG87XHJcbiAgd2lkdGg6IDEwMCU7XHJcbn1cclxuXHJcbi8qID09PT09IFBhZ2UgPT09PT0gKi9cclxuLnBhZ2Uge1xyXG4gIHdpZHRoOiAxMDAlO1xyXG59XHJcblxyXG4vKiA9PT09PSBDYXJkID09PT09ICovXHJcbi5jYXJkIHtcclxuICBiYWNrZ3JvdW5kOiB2YXIoLS1jYXJkLWJnKTtcclxuICBib3JkZXItcmFkaXVzOiB2YXIoLS1yYWRpdXMpO1xyXG4gIHBhZGRpbmc6IDIwcHg7XHJcbiAgYm94LXNoYWRvdzogdmFyKC0tc2hhZG93KTtcclxuICBtYXJnaW4tYm90dG9tOiAxNnB4O1xyXG59XHJcblxyXG4uY2FyZC5jZW50ZXJlZCB7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG59XHJcblxyXG4uY2FyZCBoMiB7XHJcbiAgbWFyZ2luLWJvdHRvbTogMTJweDtcclxuICBmb250LXNpemU6IDEuMjVyZW07XHJcbn1cclxuXHJcbi5jYXJkIGgzIHtcclxuICBtYXJnaW4tYm90dG9tOiA4cHg7XHJcbiAgZm9udC1zaXplOiAxLjFyZW07XHJcbn1cclxuXHJcbi8qID09PT09IEJ1dHRvbnMgPT09PT0gKi9cclxuLmJ0biB7XHJcbiAgZGlzcGxheTogaW5saW5lLWZsZXg7XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICBwYWRkaW5nOiA4cHggMTZweDtcclxuICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1ib3JkZXIpO1xyXG4gIGJvcmRlci1yYWRpdXM6IHZhcigtLXJhZGl1cyk7XHJcbiAgYmFja2dyb3VuZDogdmFyKC0tY2FyZC1iZyk7XHJcbiAgY29sb3I6IHZhcigtLXRleHQpO1xyXG4gIGN1cnNvcjogcG9pbnRlcjtcclxuICBmb250LXNpemU6IDAuODc1cmVtO1xyXG4gIGZvbnQtd2VpZ2h0OiA1MDA7XHJcbiAgdHJhbnNpdGlvbjogYWxsIDAuMTVzO1xyXG4gIGdhcDogNnB4O1xyXG59XHJcblxyXG4uYnRuOmhvdmVyIHtcclxuICBiYWNrZ3JvdW5kOiB2YXIoLS1iZyk7XHJcbn1cclxuXHJcbi5idG4tcHJpbWFyeSB7XHJcbiAgYmFja2dyb3VuZDogdmFyKC0tcHJpbWFyeSk7XHJcbiAgY29sb3I6IHdoaXRlO1xyXG4gIGJvcmRlci1jb2xvcjogdmFyKC0tcHJpbWFyeSk7XHJcbn1cclxuXHJcbi5idG4tcHJpbWFyeTpob3ZlciB7XHJcbiAgYmFja2dyb3VuZDogdmFyKC0tcHJpbWFyeS1ob3Zlcik7XHJcbn1cclxuXHJcbi5idG4tYWNjZW50IHtcclxuICBiYWNrZ3JvdW5kOiB2YXIoLS1hY2NlbnQpO1xyXG4gIGNvbG9yOiB3aGl0ZTtcclxuICBib3JkZXItY29sb3I6IHZhcigtLWFjY2VudCk7XHJcbn1cclxuXHJcbi5idG4tYWNjZW50OmhvdmVyIHtcclxuICBiYWNrZ3JvdW5kOiB2YXIoLS1hY2NlbnQtaG92ZXIpO1xyXG59XHJcblxyXG4uYnRuLXNtYWxsIHtcclxuICBwYWRkaW5nOiA0cHggMTBweDtcclxuICBmb250LXNpemU6IDAuOHJlbTtcclxufVxyXG5cclxuLmJ0bjpkaXNhYmxlZCB7XHJcbiAgb3BhY2l0eTogMC41O1xyXG4gIGN1cnNvcjogbm90LWFsbG93ZWQ7XHJcbn1cclxuXHJcbi8qID09PT09IElucHV0cyA9PT09PSAqL1xyXG4uaW5wdXQge1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIHBhZGRpbmc6IDhweCAxMnB4O1xyXG4gIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlcik7XHJcbiAgYm9yZGVyLXJhZGl1czogdmFyKC0tcmFkaXVzKTtcclxuICBmb250LXNpemU6IDAuOXJlbTtcclxuICB0cmFuc2l0aW9uOiBib3JkZXItY29sb3IgMC4xNXM7XHJcbn1cclxuXHJcbi5pbnB1dDpmb2N1cyB7XHJcbiAgb3V0bGluZTogbm9uZTtcclxuICBib3JkZXItY29sb3I6IHZhcigtLXByaW1hcnkpO1xyXG4gIGJveC1zaGFkb3c6IDAgMCAwIDNweCByZ2JhKDM3LCA5OSwgMjM1LCAwLjEpO1xyXG59XHJcblxyXG4uaW5wdXQtc21hbGwge1xyXG4gIHdpZHRoOiAxMDBweDtcclxufVxyXG5cclxuLmlucHV0LXRpbnkge1xyXG4gIHdpZHRoOiA2MHB4O1xyXG4gIHBhZGRpbmc6IDRweCA4cHg7XHJcbn1cclxuXHJcbi50ZXh0YXJlYSB7XHJcbiAgcmVzaXplOiB2ZXJ0aWNhbDtcclxuICBtaW4taGVpZ2h0OiA4MHB4O1xyXG59XHJcblxyXG4uZm9ybS1ncm91cCB7XHJcbiAgbWFyZ2luLWJvdHRvbTogMTJweDtcclxufVxyXG5cclxuLmZvcm0tZ3JvdXAgbGFiZWwge1xyXG4gIGRpc3BsYXk6IGJsb2NrO1xyXG4gIGZvbnQtd2VpZ2h0OiA1MDA7XHJcbiAgbWFyZ2luLWJvdHRvbTogNHB4O1xyXG4gIGZvbnQtc2l6ZTogMC44NzVyZW07XHJcbiAgY29sb3I6IHZhcigtLXRleHQtbGlnaHQpO1xyXG59XHJcblxyXG5zZWxlY3QuaW5wdXQge1xyXG4gIGFwcGVhcmFuY2U6IGF1dG87XHJcbn1cclxuXHJcbi8qID09PT09IEVycm9yID09PT09ICovXHJcbi5lcnJvci1tZXNzYWdlIHtcclxuICBjb2xvcjogdmFyKC0tZGFuZ2VyKTtcclxuICBmb250LXNpemU6IDAuODc1cmVtO1xyXG4gIG1hcmdpbi1ib3R0b206IDhweDtcclxufVxyXG5cclxuLnRvYXN0IHtcclxuICBwb3NpdGlvbjogZml4ZWQ7XHJcbiAgdG9wOiAxNnB4O1xyXG4gIHJpZ2h0OiAxNnB4O1xyXG4gIHBhZGRpbmc6IDEycHggMjBweDtcclxuICBib3JkZXItcmFkaXVzOiB2YXIoLS1yYWRpdXMpO1xyXG4gIHotaW5kZXg6IDEwMDA7XHJcbiAgY3Vyc29yOiBwb2ludGVyO1xyXG4gIGFuaW1hdGlvbjogc2xpZGVJbiAwLjNzIGVhc2U7XHJcbn1cclxuXHJcbi5lcnJvci10b2FzdCB7XHJcbiAgYmFja2dyb3VuZDogI2ZlZjJmMjtcclxuICBjb2xvcjogdmFyKC0tZGFuZ2VyKTtcclxuICBib3JkZXI6IDFweCBzb2xpZCAjZmNhNWE1O1xyXG59XHJcblxyXG5Aa2V5ZnJhbWVzIHNsaWRlSW4ge1xyXG4gIGZyb20geyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMTAwJSk7IG9wYWNpdHk6IDA7IH1cclxuICB0byB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWCgwKTsgb3BhY2l0eTogMTsgfVxyXG59XHJcblxyXG4vKiA9PT09PSBUYWJsZSA9PT09PSAqL1xyXG4udGFibGUge1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XHJcbn1cclxuXHJcbi50YWJsZSB0aCwgLnRhYmxlIHRkIHtcclxuICB0ZXh0LWFsaWduOiBsZWZ0O1xyXG4gIHBhZGRpbmc6IDhweCAxMnB4O1xyXG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1ib3JkZXIpO1xyXG59XHJcblxyXG4udGFibGUgdGgge1xyXG4gIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbiAgZm9udC1zaXplOiAwLjhyZW07XHJcbiAgY29sb3I6IHZhcigtLXRleHQtbGlnaHQpO1xyXG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XHJcbn1cclxuXHJcbi8qID09PT09IEhvbWUgUGFnZSA9PT09PSAqL1xyXG4uYWN0aXZlLXJldHJvLWJhbm5lciB7XHJcbiAgYm9yZGVyLWxlZnQ6IDRweCBzb2xpZCB2YXIoLS1hY2NlbnQpO1xyXG59XHJcblxyXG4uc2hhcmUtbGluayB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIGdhcDogOHB4O1xyXG4gIG1hcmdpbi10b3A6IDhweDtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxufVxyXG5cclxuLnNoYXJlLWxpbmsgY29kZSB7XHJcbiAgYmFja2dyb3VuZDogdmFyKC0tYmcpO1xyXG4gIHBhZGRpbmc6IDhweCAxMnB4O1xyXG4gIGJvcmRlci1yYWRpdXM6IHZhcigtLXJhZGl1cyk7XHJcbiAgZm9udC1zaXplOiAwLjlyZW07XHJcbiAgd29yZC1icmVhazogYnJlYWstYWxsO1xyXG59XHJcblxyXG4vKiA9PT09PSBKb2luIFBhZ2UgPT09PT0gKi9cclxuLnNwcmludC1sYWJlbCB7XHJcbiAgZm9udC1zaXplOiAxLjFyZW07XHJcbiAgbWFyZ2luLWJvdHRvbTogNHB4O1xyXG59XHJcblxyXG4ucGFydGljaXBhbnQtY291bnQge1xyXG4gIGNvbG9yOiB2YXIoLS10ZXh0LWxpZ2h0KTtcclxuICBtYXJnaW4tYm90dG9tOiAxNnB4O1xyXG59XHJcblxyXG4uYWRtaW4tYmFkZ2Uge1xyXG4gIG1hcmdpbi10b3A6IDEycHg7XHJcbiAgcGFkZGluZzogNnB4IDEycHg7XHJcbiAgYmFja2dyb3VuZDogI2ZlZjNjNztcclxuICBjb2xvcjogIzkyNDAwZTtcclxuICBib3JkZXItcmFkaXVzOiB2YXIoLS1yYWRpdXMpO1xyXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICBmb250LXNpemU6IDAuODVyZW07XHJcbiAgZm9udC13ZWlnaHQ6IDUwMDtcclxufVxyXG5cclxuLyogPT09PT0gUmV0cm8gUm9vbSA9PT09PSAqL1xyXG4ucmV0cm8taGVhZGVyIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIGJhY2tncm91bmQ6IHZhcigtLWNhcmQtYmcpO1xyXG4gIHBhZGRpbmc6IDEycHggMjBweDtcclxuICBib3JkZXItcmFkaXVzOiB2YXIoLS1yYWRpdXMpO1xyXG4gIGJveC1zaGFkb3c6IHZhcigtLXNoYWRvdyk7XHJcbiAgbWFyZ2luLWJvdHRvbTogMTZweDtcclxuICBmbGV4LXdyYXA6IHdyYXA7XHJcbiAgZ2FwOiAxMnB4O1xyXG59XHJcblxyXG4ucGhhc2UtaW5mbyB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIGdhcDogMTJweDtcclxufVxyXG5cclxuLnBoYXNlLWJhZGdlIHtcclxuICBiYWNrZ3JvdW5kOiB2YXIoLS1wcmltYXJ5KTtcclxuICBjb2xvcjogd2hpdGU7XHJcbiAgcGFkZGluZzogNHB4IDEycHg7XHJcbiAgYm9yZGVyLXJhZGl1czogMjBweDtcclxuICBmb250LXNpemU6IDAuODVyZW07XHJcbiAgZm9udC13ZWlnaHQ6IDYwMDtcclxufVxyXG5cclxuLnNwcmludC1uYW1lIHtcclxuICBjb2xvcjogdmFyKC0tdGV4dC1saWdodCk7XHJcbiAgZm9udC1zaXplOiAwLjlyZW07XHJcbn1cclxuXHJcbi5oZWFkZXItcmlnaHQge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICBnYXA6IDEycHg7XHJcbn1cclxuXHJcbi50aW1lci1zZWN0aW9uIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgZ2FwOiA4cHg7XHJcbn1cclxuXHJcbi50aW1lci1kaXNwbGF5IHtcclxuICBmb250LXNpemU6IDEuNXJlbTtcclxuICBmb250LXdlaWdodDogNzAwO1xyXG4gIGZvbnQtdmFyaWFudC1udW1lcmljOiB0YWJ1bGFyLW51bXM7XHJcbiAgY29sb3I6IHZhcigtLXByaW1hcnkpO1xyXG4gIG1pbi13aWR0aDogNjBweDtcclxufVxyXG5cclxuLnRpbWVyLXVuaXQge1xyXG4gIGZvbnQtc2l6ZTogMC44cmVtO1xyXG4gIGNvbG9yOiB2YXIoLS10ZXh0LWxpZ2h0KTtcclxufVxyXG5cclxuLyogPT09PT0gUmV0cm8gQm9keSBMYXlvdXQgPT09PT0gKi9cclxuLnJldHJvLWJvZHkge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgZ2FwOiAxNnB4O1xyXG59XHJcblxyXG4uc2lkZWJhciB7XHJcbiAgd2lkdGg6IDIwMHB4O1xyXG4gIGZsZXgtc2hyaW5rOiAwO1xyXG4gIGJhY2tncm91bmQ6IHZhcigtLWNhcmQtYmcpO1xyXG4gIGJvcmRlci1yYWRpdXM6IHZhcigtLXJhZGl1cyk7XHJcbiAgcGFkZGluZzogMTZweDtcclxuICBib3gtc2hhZG93OiB2YXIoLS1zaGFkb3cpO1xyXG4gIGFsaWduLXNlbGY6IGZsZXgtc3RhcnQ7XHJcbiAgcG9zaXRpb246IHN0aWNreTtcclxuICB0b3A6IDE2cHg7XHJcbn1cclxuXHJcbi5zaWRlYmFyIGgzIHtcclxuICBmb250LXNpemU6IDAuOXJlbTtcclxuICBjb2xvcjogdmFyKC0tdGV4dC1saWdodCk7XHJcbiAgbWFyZ2luLWJvdHRvbTogOHB4O1xyXG59XHJcblxyXG4ucGFydGljaXBhbnQtbGlzdCB7XHJcbiAgbGlzdC1zdHlsZTogbm9uZTtcclxufVxyXG5cclxuLnBhcnRpY2lwYW50LWl0ZW0ge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XHJcbiAgcGFkZGluZzogNHB4IDA7XHJcbiAgZm9udC1zaXplOiAwLjlyZW07XHJcbn1cclxuXHJcbi5hZG1pbi10YWcge1xyXG4gIGJhY2tncm91bmQ6ICNmZWYzYzc7XHJcbiAgY29sb3I6ICM5MjQwMGU7XHJcbiAgZm9udC1zaXplOiAwLjdyZW07XHJcbiAgcGFkZGluZzogMXB4IDZweDtcclxuICBib3JkZXItcmFkaXVzOiA0cHg7XHJcbiAgZm9udC13ZWlnaHQ6IDYwMDtcclxufVxyXG5cclxuLm1haW4tY29udGVudCB7XHJcbiAgZmxleDogMTtcclxuICBtaW4td2lkdGg6IDA7XHJcbn1cclxuXHJcbi5waGFzZS1jb250ZW50IGgyIHtcclxuICBtYXJnaW4tYm90dG9tOiAxMnB4O1xyXG59XHJcblxyXG4vKiA9PT09PSBJZGVhIEJvYXJkID09PT09ICovXHJcbi5ib2FyZC1oZWFkZXIge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgbWFyZ2luLWJvdHRvbTogMTJweDtcclxufVxyXG5cclxuLnZvdGUtaGludCB7XHJcbiAgY29sb3I6IHZhcigtLXRleHQtbGlnaHQpO1xyXG4gIGZvbnQtc2l6ZTogMC44NXJlbTtcclxufVxyXG5cclxuLmlkZWEtYm9hcmQge1xyXG4gIGRpc3BsYXk6IGdyaWQ7XHJcbiAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoYXV0by1maWxsLCBtaW5tYXgoMjgwcHgsIDFmcikpO1xyXG4gIGdhcDogMTJweDtcclxufVxyXG5cclxuLmlkZWEtY2FyZCB7XHJcbiAgYmFja2dyb3VuZDogdmFyKC0tY2FyZC1iZyk7XHJcbiAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyKTtcclxuICBib3JkZXItcmFkaXVzOiB2YXIoLS1yYWRpdXMpO1xyXG4gIHBhZGRpbmc6IDE0cHg7XHJcbiAgYm94LXNoYWRvdzogdmFyKC0tc2hhZG93KTtcclxuICB0cmFuc2l0aW9uOiBhbGwgMC4xNXM7XHJcbn1cclxuXHJcbi5pZGVhLWNhcmQuZW1wdHktY2FyZCB7XHJcbiAgYm9yZGVyLXN0eWxlOiBkYXNoZWQ7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIGNvbG9yOiB2YXIoLS10ZXh0LWxpZ2h0KTtcclxufVxyXG5cclxuLmlkZWEtdGV4dCB7XHJcbiAgZm9udC1zaXplOiAwLjk1cmVtO1xyXG4gIG1hcmdpbi1ib3R0b206IDhweDtcclxuICB3aGl0ZS1zcGFjZTogcHJlLXdyYXA7XHJcbn1cclxuXHJcbi5pZGVhLWF1dGhvciB7XHJcbiAgZm9udC1zaXplOiAwLjhyZW07XHJcbiAgY29sb3I6IHZhcigtLXRleHQtbGlnaHQpO1xyXG59XHJcblxyXG4vKiBWb3RpbmcgKi9cclxuLmlkZWEtY2FyZC52b3RhYmxlIHtcclxuICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgdXNlci1zZWxlY3Q6IG5vbmU7XHJcbn1cclxuXHJcbi5pZGVhLWNhcmQudm90YWJsZTpob3ZlciB7XHJcbiAgYm9yZGVyLWNvbG9yOiB2YXIoLS1wcmltYXJ5KTtcclxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTFweCk7XHJcbn1cclxuXHJcbi5pZGVhLWNhcmQudm90ZWQge1xyXG4gIGJhY2tncm91bmQ6IHZhcigtLXZvdGVkLWJnKTtcclxuICBib3JkZXItY29sb3I6IHZhcigtLXByaW1hcnkpO1xyXG59XHJcblxyXG4udm90ZS1zZWN0aW9uIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgZ2FwOiA2cHg7XHJcbiAgbWFyZ2luLXRvcDogOHB4O1xyXG59XHJcblxyXG4udm90ZS1jb3VudCB7XHJcbiAgZm9udC13ZWlnaHQ6IDcwMDtcclxuICBmb250LXNpemU6IDEuMXJlbTtcclxuICBjb2xvcjogdmFyKC0tcHJpbWFyeSk7XHJcbn1cclxuXHJcbi52b3RlLWljb24ge1xyXG4gIGZvbnQtc2l6ZTogMS4ycmVtO1xyXG4gIGNvbG9yOiB2YXIoLS1wcmltYXJ5KTtcclxufVxyXG5cclxuLnZvdGVkLWJ5IHtcclxuICBtYXJnaW4tdG9wOiA0cHg7XHJcbn1cclxuXHJcbi52b3RlZC1ieSBzbWFsbCB7XHJcbiAgY29sb3I6IHZhcigtLXRleHQtbGlnaHQpO1xyXG4gIGZvbnQtc2l6ZTogMC43NXJlbTtcclxufVxyXG5cclxuLyogU2VsZWN0YWJsZSAoYnJhaW5zdG9ybSkgKi9cclxuLmlkZWEtY2FyZC5zZWxlY3RhYmxlIHtcclxuICBjdXJzb3I6IHBvaW50ZXI7XHJcbn1cclxuXHJcbi5pZGVhLWNhcmQuc2VsZWN0YWJsZTpob3ZlciB7XHJcbiAgYm9yZGVyLWNvbG9yOiB2YXIoLS1hY2NlbnQpO1xyXG59XHJcblxyXG4uaWRlYS1jYXJkLnNlbGVjdGVkIHtcclxuICBiYWNrZ3JvdW5kOiB2YXIoLS1zZWxlY3RlZC1iZyk7XHJcbiAgYm9yZGVyLWNvbG9yOiB2YXIoLS1hY2NlbnQpO1xyXG59XHJcblxyXG4vKiA9PT09PSBCcmFpbnN0b3JtID09PT09ICovXHJcbi5icmFpbnN0b3JtLXNlbGVjdGlvbiB7XHJcbiAgZGlzcGxheTogZ3JpZDtcclxuICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpbGwsIG1pbm1heCgyNTBweCwgMWZyKSk7XHJcbiAgZ2FwOiAxMnB4O1xyXG4gIG1hcmdpbi1ib3R0b206IDEycHg7XHJcbn1cclxuXHJcbi5icmFpbnN0b3JtLXRocmVhZHMge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICBnYXA6IDE2cHg7XHJcbn1cclxuXHJcbi5icmFpbnN0b3JtLXRocmVhZCB7XHJcbiAgYm9yZGVyLWxlZnQ6IDRweCBzb2xpZCB2YXIoLS1hY2NlbnQpO1xyXG59XHJcblxyXG4udGhyZWFkLXRpdGxlIHtcclxuICBmb250LXNpemU6IDFyZW07XHJcbiAgbWFyZ2luLWJvdHRvbTogMTJweDtcclxufVxyXG5cclxuLnRocmVhZC10aXRsZSBzbWFsbCB7XHJcbiAgY29sb3I6IHZhcigtLXRleHQtbGlnaHQpO1xyXG4gIGZvbnQtd2VpZ2h0OiA0MDA7XHJcbn1cclxuXHJcbi5jb21tZW50cyB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gIGdhcDogNnB4O1xyXG4gIG1hcmdpbi1ib3R0b206IDEycHg7XHJcbn1cclxuXHJcbi5jb21tZW50IHtcclxuICBiYWNrZ3JvdW5kOiB2YXIoLS1iZyk7XHJcbiAgcGFkZGluZzogOHB4IDEycHg7XHJcbiAgYm9yZGVyLXJhZGl1czogdmFyKC0tcmFkaXVzKTtcclxuICBmb250LXNpemU6IDAuOXJlbTtcclxufVxyXG5cclxuLmFkZC1jb21tZW50IHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGdhcDogOHB4O1xyXG59XHJcblxyXG4uYWRkLWNvbW1lbnQgLmlucHV0IHtcclxuICBmbGV4OiAxO1xyXG59XHJcblxyXG4vKiA9PT09PSBBY3Rpb24gUG9pbnRzID09PT09ICovXHJcbi5hY3Rpb24tcG9pbnRzLWxpc3Qge1xyXG4gIGRpc3BsYXk6IGdyaWQ7XHJcbiAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoYXV0by1maWxsLCBtaW5tYXgoMzAwcHgsIDFmcikpO1xyXG4gIGdhcDogMTJweDtcclxuICBtYXJnaW4tYm90dG9tOiAxNnB4O1xyXG59XHJcblxyXG4uYWN0aW9uLXBvaW50LWNhcmQge1xyXG4gIGJvcmRlci1sZWZ0OiA0cHggc29saWQgdmFyKC0tcHJpbWFyeSk7XHJcbn1cclxuXHJcbi5hY3Rpb24tdGV4dCB7XHJcbiAgZm9udC1zaXplOiAwLjk1cmVtO1xyXG4gIG1hcmdpbi1ib3R0b206IDZweDtcclxufVxyXG5cclxuLmFjdGlvbi1hc3NpZ25lZSB7XHJcbiAgZGlzcGxheTogYmxvY2s7XHJcbiAgZm9udC1zaXplOiAwLjg1cmVtO1xyXG4gIGNvbG9yOiB2YXIoLS10ZXh0LWxpZ2h0KTtcclxufVxyXG5cclxuLmFjdGlvbi1jcmVhdG9yIHtcclxuICBkaXNwbGF5OiBibG9jaztcclxuICBmb250LXNpemU6IDAuOHJlbTtcclxuICBjb2xvcjogdmFyKC0tdGV4dC1saWdodCk7XHJcbn1cclxuXHJcbi5hZGQtYWN0aW9uLWZvcm0ge1xyXG4gIG1heC13aWR0aDogNTAwcHg7XHJcbn1cclxuXHJcbi8qID09PT09IFN1bW1hcnkgPT09PT0gKi9cclxuLnN1bW1hcnktc2VjdGlvbiBoMyB7XHJcbiAgbWFyZ2luLXRvcDogMjBweDtcclxuICBtYXJnaW4tYm90dG9tOiAxMnB4O1xyXG4gIHBhZGRpbmctYm90dG9tOiA0cHg7XHJcbiAgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkIHZhcigtLWJvcmRlcik7XHJcbn1cclxuXHJcbi8qID09PT09IE1vZGFsID09PT09ICovXHJcbi5tb2RhbC1vdmVybGF5IHtcclxuICBwb3NpdGlvbjogZml4ZWQ7XHJcbiAgdG9wOiAwO1xyXG4gIGxlZnQ6IDA7XHJcbiAgcmlnaHQ6IDA7XHJcbiAgYm90dG9tOiAwO1xyXG4gIGJhY2tncm91bmQ6IHJnYmEoMCwwLDAsMC40KTtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgei1pbmRleDogMTAwO1xyXG59XHJcblxyXG4ubW9kYWwge1xyXG4gIGJhY2tncm91bmQ6IHZhcigtLWNhcmQtYmcpO1xyXG4gIGJvcmRlci1yYWRpdXM6IHZhcigtLXJhZGl1cyk7XHJcbiAgcGFkZGluZzogMjRweDtcclxuICBtaW4td2lkdGg6IDQwMHB4O1xyXG4gIG1heC13aWR0aDogOTB2dztcclxuICBib3gtc2hhZG93OiAwIDRweCAxMnB4IHJnYmEoMCwwLDAsMC4xNSk7XHJcbn1cclxuXHJcbi5tb2RhbCBoMyB7XHJcbiAgbWFyZ2luLWJvdHRvbTogMTZweDtcclxufVxyXG5cclxuLm1vZGFsLWFjdGlvbnMge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcclxuICBnYXA6IDhweDtcclxuICBtYXJnaW4tdG9wOiAxNnB4O1xyXG59XHJcblxyXG4vKiA9PT09PSBSZXNwb25zaXZlID09PT09ICovXHJcbkBtZWRpYSAobWF4LXdpZHRoOiA3NjhweCkge1xyXG4gIC5yZXRyby1ib2R5IHtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgfVxyXG4gIC5zaWRlYmFyIHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgcG9zaXRpb246IHN0YXRpYztcclxuICB9XHJcbiAgLnJldHJvLWhlYWRlciB7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgYWxpZ24taXRlbXM6IGZsZXgtc3RhcnQ7XHJcbiAgfVxyXG4gIC5pZGVhLWJvYXJkIHtcclxuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyO1xyXG4gIH1cclxuICAubW9kYWwge1xyXG4gICAgbWluLXdpZHRoOiBhdXRvO1xyXG4gICAgbWFyZ2luOiAxNnB4O1xyXG4gIH1cclxufVxyXG5gLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly8uL3NyYy9zdHlsZXMuY3NzXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUFBLDZCQUE2QjtBQUM3QjtFQUNFLHNCQUFzQjtFQUN0QixTQUFTO0VBQ1QsVUFBVTtBQUNaOztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLHdCQUF3QjtFQUN4QixpQkFBaUI7RUFDakIsdUJBQXVCO0VBQ3ZCLGlCQUFpQjtFQUNqQixhQUFhO0VBQ2Isa0JBQWtCO0VBQ2xCLGVBQWU7RUFDZixxQkFBcUI7RUFDckIsaUJBQWlCO0VBQ2pCLGdFQUFnRTtFQUNoRSxhQUFhO0VBQ2IsbUJBQW1CO0VBQ25CLHNCQUFzQjtBQUN4Qjs7QUFFQTtFQUNFLHNGQUFzRjtFQUN0RixxQkFBcUI7RUFDckIsa0JBQWtCO0VBQ2xCLGdCQUFnQjtBQUNsQjs7QUFFQSwyQkFBMkI7QUFDM0I7RUFDRSxpQkFBaUI7RUFDakIsYUFBYTtFQUNiLHNCQUFzQjtBQUN4Qjs7QUFFQTtFQUNFLDBCQUEwQjtFQUMxQixZQUFZO0VBQ1osa0JBQWtCO0VBQ2xCLHlCQUF5QjtBQUMzQjs7QUFFQTtFQUNFLGtCQUFrQjtFQUNsQixnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSxPQUFPO0VBQ1As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YTtFQUNiLGdCQUFnQjtFQUNoQixlQUFlO0VBQ2YsdUNBQXVDO0FBQ3pDOztBQUVBO0VBQ0UsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsYUFBYTtFQUNiLHlCQUF5QjtFQUN6QixRQUFRO0VBQ1IsZ0JBQWdCO0FBQ2xCOztBQUVBLDJCQUEyQjtBQUMzQjtFQUNFO0lBQ0Usc0JBQXNCO0VBQ3hCO0VBQ0E7SUFDRSxXQUFXO0lBQ1gsZ0JBQWdCO0VBQ2xCO0VBQ0E7SUFDRSxzQkFBc0I7SUFDdEIsdUJBQXVCO0VBQ3pCO0VBQ0E7SUFDRSwwQkFBMEI7RUFDNUI7RUFDQTtJQUNFLGVBQWU7SUFDZixZQUFZO0VBQ2Q7QUFDRlwiLFwic291cmNlc0NvbnRlbnRcIjpbXCIvKiA9PT09PSBSZXNldCAmIEJhc2UgPT09PT0gKi9cXHJcXG4qLCAqOjpiZWZvcmUsICo6OmFmdGVyIHtcXHJcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxyXFxuICBtYXJnaW46IDA7XFxyXFxuICBwYWRkaW5nOiAwO1xcclxcbn1cXHJcXG5cXHJcXG46cm9vdCB7XFxyXFxuICAtLXByaW1hcnk6ICMyNTYzZWI7XFxyXFxuICAtLXByaW1hcnktaG92ZXI6ICMxZDRlZDg7XFxyXFxuICAtLWFjY2VudDogIzA1OTY2OTtcXHJcXG4gIC0tYWNjZW50LWhvdmVyOiAjMDQ3ODU3O1xcclxcbiAgLS1kYW5nZXI6ICNkYzI2MjY7XFxyXFxuICAtLWJnOiAjZjFmNWY5O1xcclxcbiAgLS1jYXJkLWJnOiAjZmZmZmZmO1xcclxcbiAgLS10ZXh0OiAjMWUyOTNiO1xcclxcbiAgLS10ZXh0LWxpZ2h0OiAjNjQ3NDhiO1xcclxcbiAgLS1ib3JkZXI6ICNlMmU4ZjA7XFxyXFxuICAtLXNoYWRvdzogMCAxcHggM3B4IHJnYmEoMCwwLDAsMC4wOCksIDAgMXB4IDJweCByZ2JhKDAsMCwwLDAuMDYpO1xcclxcbiAgLS1yYWRpdXM6IDhweDtcXHJcXG4gIC0tdm90ZWQtYmc6ICNkYmVhZmU7XFxyXFxuICAtLXNlbGVjdGVkLWJnOiAjZDFmYWU1O1xcclxcbn1cXHJcXG5cXHJcXG5ib2R5IHtcXHJcXG4gIGZvbnQtZmFtaWx5OiAtYXBwbGUtc3lzdGVtLCBCbGlua01hY1N5c3RlbUZvbnQsICdTZWdvZSBVSScsIFJvYm90bywgT3h5Z2VuLCBzYW5zLXNlcmlmO1xcclxcbiAgYmFja2dyb3VuZDogdmFyKC0tYmcpO1xcclxcbiAgY29sb3I6IHZhcigtLXRleHQpO1xcclxcbiAgbGluZS1oZWlnaHQ6IDEuNTtcXHJcXG59XFxyXFxuXFxyXFxuLyogPT09PT0gQXBwIExheW91dCA9PT09PSAqL1xcclxcbi5hcHAtY29udGFpbmVyIHtcXHJcXG4gIG1pbi1oZWlnaHQ6IDEwMHZoO1xcclxcbiAgZGlzcGxheTogZmxleDtcXHJcXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxyXFxufVxcclxcblxcclxcbi5hcHAtaGVhZGVyIHtcXHJcXG4gIGJhY2tncm91bmQ6IHZhcigtLXByaW1hcnkpO1xcclxcbiAgY29sb3I6IHdoaXRlO1xcclxcbiAgcGFkZGluZzogMTJweCAyNHB4O1xcclxcbiAgYm94LXNoYWRvdzogdmFyKC0tc2hhZG93KTtcXHJcXG59XFxyXFxuXFxyXFxuLmFwcC10aXRsZSB7XFxyXFxuICBmb250LXNpemU6IDEuMjVyZW07XFxyXFxuICBmb250LXdlaWdodDogNjAwO1xcclxcbn1cXHJcXG5cXHJcXG4uYXBwLW1haW4ge1xcclxcbiAgZmxleDogMTtcXHJcXG4gIHBhZGRpbmc6IDIwcHg7XFxyXFxuICBtYXgtd2lkdGg6IDE0MDBweDtcXHJcXG4gIG1hcmdpbjogMCBhdXRvO1xcclxcbiAgd2lkdGg6IDEwMCU7XFxyXFxufVxcclxcblxcclxcbi8qID09PT09IFBhZ2UgPT09PT0gKi9cXHJcXG4ucGFnZSB7XFxyXFxuICB3aWR0aDogMTAwJTtcXHJcXG59XFxyXFxuXFxyXFxuLyogPT09PT0gQ2FyZCA9PT09PSAqL1xcclxcbi5jYXJkIHtcXHJcXG4gIGJhY2tncm91bmQ6IHZhcigtLWNhcmQtYmcpO1xcclxcbiAgYm9yZGVyLXJhZGl1czogdmFyKC0tcmFkaXVzKTtcXHJcXG4gIHBhZGRpbmc6IDIwcHg7XFxyXFxuICBib3gtc2hhZG93OiB2YXIoLS1zaGFkb3cpO1xcclxcbiAgbWFyZ2luLWJvdHRvbTogMTZweDtcXHJcXG59XFxyXFxuXFxyXFxuLmNhcmQuY2VudGVyZWQge1xcclxcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcclxcbn1cXHJcXG5cXHJcXG4uY2FyZCBoMiB7XFxyXFxuICBtYXJnaW4tYm90dG9tOiAxMnB4O1xcclxcbiAgZm9udC1zaXplOiAxLjI1cmVtO1xcclxcbn1cXHJcXG5cXHJcXG4uY2FyZCBoMyB7XFxyXFxuICBtYXJnaW4tYm90dG9tOiA4cHg7XFxyXFxuICBmb250LXNpemU6IDEuMXJlbTtcXHJcXG59XFxyXFxuXFxyXFxuLyogPT09PT0gQnV0dG9ucyA9PT09PSAqL1xcclxcbi5idG4ge1xcclxcbiAgZGlzcGxheTogaW5saW5lLWZsZXg7XFxyXFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcclxcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxyXFxuICBwYWRkaW5nOiA4cHggMTZweDtcXHJcXG4gIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlcik7XFxyXFxuICBib3JkZXItcmFkaXVzOiB2YXIoLS1yYWRpdXMpO1xcclxcbiAgYmFja2dyb3VuZDogdmFyKC0tY2FyZC1iZyk7XFxyXFxuICBjb2xvcjogdmFyKC0tdGV4dCk7XFxyXFxuICBjdXJzb3I6IHBvaW50ZXI7XFxyXFxuICBmb250LXNpemU6IDAuODc1cmVtO1xcclxcbiAgZm9udC13ZWlnaHQ6IDUwMDtcXHJcXG4gIHRyYW5zaXRpb246IGFsbCAwLjE1cztcXHJcXG4gIGdhcDogNnB4O1xcclxcbn1cXHJcXG5cXHJcXG4uYnRuOmhvdmVyIHtcXHJcXG4gIGJhY2tncm91bmQ6IHZhcigtLWJnKTtcXHJcXG59XFxyXFxuXFxyXFxuLmJ0bi1wcmltYXJ5IHtcXHJcXG4gIGJhY2tncm91bmQ6IHZhcigtLXByaW1hcnkpO1xcclxcbiAgY29sb3I6IHdoaXRlO1xcclxcbiAgYm9yZGVyLWNvbG9yOiB2YXIoLS1wcmltYXJ5KTtcXHJcXG59XFxyXFxuXFxyXFxuLmJ0bi1wcmltYXJ5OmhvdmVyIHtcXHJcXG4gIGJhY2tncm91bmQ6IHZhcigtLXByaW1hcnktaG92ZXIpO1xcclxcbn1cXHJcXG5cXHJcXG4uYnRuLWFjY2VudCB7XFxyXFxuICBiYWNrZ3JvdW5kOiB2YXIoLS1hY2NlbnQpO1xcclxcbiAgY29sb3I6IHdoaXRlO1xcclxcbiAgYm9yZGVyLWNvbG9yOiB2YXIoLS1hY2NlbnQpO1xcclxcbn1cXHJcXG5cXHJcXG4uYnRuLWFjY2VudDpob3ZlciB7XFxyXFxuICBiYWNrZ3JvdW5kOiB2YXIoLS1hY2NlbnQtaG92ZXIpO1xcclxcbn1cXHJcXG5cXHJcXG4uYnRuLXNtYWxsIHtcXHJcXG4gIHBhZGRpbmc6IDRweCAxMHB4O1xcclxcbiAgZm9udC1zaXplOiAwLjhyZW07XFxyXFxufVxcclxcblxcclxcbi5idG46ZGlzYWJsZWQge1xcclxcbiAgb3BhY2l0eTogMC41O1xcclxcbiAgY3Vyc29yOiBub3QtYWxsb3dlZDtcXHJcXG59XFxyXFxuXFxyXFxuLyogPT09PT0gSW5wdXRzID09PT09ICovXFxyXFxuLmlucHV0IHtcXHJcXG4gIHdpZHRoOiAxMDAlO1xcclxcbiAgcGFkZGluZzogOHB4IDEycHg7XFxyXFxuICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1ib3JkZXIpO1xcclxcbiAgYm9yZGVyLXJhZGl1czogdmFyKC0tcmFkaXVzKTtcXHJcXG4gIGZvbnQtc2l6ZTogMC45cmVtO1xcclxcbiAgdHJhbnNpdGlvbjogYm9yZGVyLWNvbG9yIDAuMTVzO1xcclxcbn1cXHJcXG5cXHJcXG4uaW5wdXQ6Zm9jdXMge1xcclxcbiAgb3V0bGluZTogbm9uZTtcXHJcXG4gIGJvcmRlci1jb2xvcjogdmFyKC0tcHJpbWFyeSk7XFxyXFxuICBib3gtc2hhZG93OiAwIDAgMCAzcHggcmdiYSgzNywgOTksIDIzNSwgMC4xKTtcXHJcXG59XFxyXFxuXFxyXFxuLmlucHV0LXNtYWxsIHtcXHJcXG4gIHdpZHRoOiAxMDBweDtcXHJcXG59XFxyXFxuXFxyXFxuLmlucHV0LXRpbnkge1xcclxcbiAgd2lkdGg6IDYwcHg7XFxyXFxuICBwYWRkaW5nOiA0cHggOHB4O1xcclxcbn1cXHJcXG5cXHJcXG4udGV4dGFyZWEge1xcclxcbiAgcmVzaXplOiB2ZXJ0aWNhbDtcXHJcXG4gIG1pbi1oZWlnaHQ6IDgwcHg7XFxyXFxufVxcclxcblxcclxcbi5mb3JtLWdyb3VwIHtcXHJcXG4gIG1hcmdpbi1ib3R0b206IDEycHg7XFxyXFxufVxcclxcblxcclxcbi5mb3JtLWdyb3VwIGxhYmVsIHtcXHJcXG4gIGRpc3BsYXk6IGJsb2NrO1xcclxcbiAgZm9udC13ZWlnaHQ6IDUwMDtcXHJcXG4gIG1hcmdpbi1ib3R0b206IDRweDtcXHJcXG4gIGZvbnQtc2l6ZTogMC44NzVyZW07XFxyXFxuICBjb2xvcjogdmFyKC0tdGV4dC1saWdodCk7XFxyXFxufVxcclxcblxcclxcbnNlbGVjdC5pbnB1dCB7XFxyXFxuICBhcHBlYXJhbmNlOiBhdXRvO1xcclxcbn1cXHJcXG5cXHJcXG4vKiA9PT09PSBFcnJvciA9PT09PSAqL1xcclxcbi5lcnJvci1tZXNzYWdlIHtcXHJcXG4gIGNvbG9yOiB2YXIoLS1kYW5nZXIpO1xcclxcbiAgZm9udC1zaXplOiAwLjg3NXJlbTtcXHJcXG4gIG1hcmdpbi1ib3R0b206IDhweDtcXHJcXG59XFxyXFxuXFxyXFxuLnRvYXN0IHtcXHJcXG4gIHBvc2l0aW9uOiBmaXhlZDtcXHJcXG4gIHRvcDogMTZweDtcXHJcXG4gIHJpZ2h0OiAxNnB4O1xcclxcbiAgcGFkZGluZzogMTJweCAyMHB4O1xcclxcbiAgYm9yZGVyLXJhZGl1czogdmFyKC0tcmFkaXVzKTtcXHJcXG4gIHotaW5kZXg6IDEwMDA7XFxyXFxuICBjdXJzb3I6IHBvaW50ZXI7XFxyXFxuICBhbmltYXRpb246IHNsaWRlSW4gMC4zcyBlYXNlO1xcclxcbn1cXHJcXG5cXHJcXG4uZXJyb3ItdG9hc3Qge1xcclxcbiAgYmFja2dyb3VuZDogI2ZlZjJmMjtcXHJcXG4gIGNvbG9yOiB2YXIoLS1kYW5nZXIpO1xcclxcbiAgYm9yZGVyOiAxcHggc29saWQgI2ZjYTVhNTtcXHJcXG59XFxyXFxuXFxyXFxuQGtleWZyYW1lcyBzbGlkZUluIHtcXHJcXG4gIGZyb20geyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMTAwJSk7IG9wYWNpdHk6IDA7IH1cXHJcXG4gIHRvIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDApOyBvcGFjaXR5OiAxOyB9XFxyXFxufVxcclxcblxcclxcbi8qID09PT09IFRhYmxlID09PT09ICovXFxyXFxuLnRhYmxlIHtcXHJcXG4gIHdpZHRoOiAxMDAlO1xcclxcbiAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTtcXHJcXG59XFxyXFxuXFxyXFxuLnRhYmxlIHRoLCAudGFibGUgdGQge1xcclxcbiAgdGV4dC1hbGlnbjogbGVmdDtcXHJcXG4gIHBhZGRpbmc6IDhweCAxMnB4O1xcclxcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWJvcmRlcik7XFxyXFxufVxcclxcblxcclxcbi50YWJsZSB0aCB7XFxyXFxuICBmb250LXdlaWdodDogNjAwO1xcclxcbiAgZm9udC1zaXplOiAwLjhyZW07XFxyXFxuICBjb2xvcjogdmFyKC0tdGV4dC1saWdodCk7XFxyXFxuICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xcclxcbn1cXHJcXG5cXHJcXG4vKiA9PT09PSBIb21lIFBhZ2UgPT09PT0gKi9cXHJcXG4uYWN0aXZlLXJldHJvLWJhbm5lciB7XFxyXFxuICBib3JkZXItbGVmdDogNHB4IHNvbGlkIHZhcigtLWFjY2VudCk7XFxyXFxufVxcclxcblxcclxcbi5zaGFyZS1saW5rIHtcXHJcXG4gIGRpc3BsYXk6IGZsZXg7XFxyXFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcclxcbiAgZ2FwOiA4cHg7XFxyXFxuICBtYXJnaW4tdG9wOiA4cHg7XFxyXFxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXHJcXG59XFxyXFxuXFxyXFxuLnNoYXJlLWxpbmsgY29kZSB7XFxyXFxuICBiYWNrZ3JvdW5kOiB2YXIoLS1iZyk7XFxyXFxuICBwYWRkaW5nOiA4cHggMTJweDtcXHJcXG4gIGJvcmRlci1yYWRpdXM6IHZhcigtLXJhZGl1cyk7XFxyXFxuICBmb250LXNpemU6IDAuOXJlbTtcXHJcXG4gIHdvcmQtYnJlYWs6IGJyZWFrLWFsbDtcXHJcXG59XFxyXFxuXFxyXFxuLyogPT09PT0gSm9pbiBQYWdlID09PT09ICovXFxyXFxuLnNwcmludC1sYWJlbCB7XFxyXFxuICBmb250LXNpemU6IDEuMXJlbTtcXHJcXG4gIG1hcmdpbi1ib3R0b206IDRweDtcXHJcXG59XFxyXFxuXFxyXFxuLnBhcnRpY2lwYW50LWNvdW50IHtcXHJcXG4gIGNvbG9yOiB2YXIoLS10ZXh0LWxpZ2h0KTtcXHJcXG4gIG1hcmdpbi1ib3R0b206IDE2cHg7XFxyXFxufVxcclxcblxcclxcbi5hZG1pbi1iYWRnZSB7XFxyXFxuICBtYXJnaW4tdG9wOiAxMnB4O1xcclxcbiAgcGFkZGluZzogNnB4IDEycHg7XFxyXFxuICBiYWNrZ3JvdW5kOiAjZmVmM2M3O1xcclxcbiAgY29sb3I6ICM5MjQwMGU7XFxyXFxuICBib3JkZXItcmFkaXVzOiB2YXIoLS1yYWRpdXMpO1xcclxcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcclxcbiAgZm9udC1zaXplOiAwLjg1cmVtO1xcclxcbiAgZm9udC13ZWlnaHQ6IDUwMDtcXHJcXG59XFxyXFxuXFxyXFxuLyogPT09PT0gUmV0cm8gUm9vbSA9PT09PSAqL1xcclxcbi5yZXRyby1oZWFkZXIge1xcclxcbiAgZGlzcGxheTogZmxleDtcXHJcXG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcXHJcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxyXFxuICBiYWNrZ3JvdW5kOiB2YXIoLS1jYXJkLWJnKTtcXHJcXG4gIHBhZGRpbmc6IDEycHggMjBweDtcXHJcXG4gIGJvcmRlci1yYWRpdXM6IHZhcigtLXJhZGl1cyk7XFxyXFxuICBib3gtc2hhZG93OiB2YXIoLS1zaGFkb3cpO1xcclxcbiAgbWFyZ2luLWJvdHRvbTogMTZweDtcXHJcXG4gIGZsZXgtd3JhcDogd3JhcDtcXHJcXG4gIGdhcDogMTJweDtcXHJcXG59XFxyXFxuXFxyXFxuLnBoYXNlLWluZm8ge1xcclxcbiAgZGlzcGxheTogZmxleDtcXHJcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxyXFxuICBnYXA6IDEycHg7XFxyXFxufVxcclxcblxcclxcbi5waGFzZS1iYWRnZSB7XFxyXFxuICBiYWNrZ3JvdW5kOiB2YXIoLS1wcmltYXJ5KTtcXHJcXG4gIGNvbG9yOiB3aGl0ZTtcXHJcXG4gIHBhZGRpbmc6IDRweCAxMnB4O1xcclxcbiAgYm9yZGVyLXJhZGl1czogMjBweDtcXHJcXG4gIGZvbnQtc2l6ZTogMC44NXJlbTtcXHJcXG4gIGZvbnQtd2VpZ2h0OiA2MDA7XFxyXFxufVxcclxcblxcclxcbi5zcHJpbnQtbmFtZSB7XFxyXFxuICBjb2xvcjogdmFyKC0tdGV4dC1saWdodCk7XFxyXFxuICBmb250LXNpemU6IDAuOXJlbTtcXHJcXG59XFxyXFxuXFxyXFxuLmhlYWRlci1yaWdodCB7XFxyXFxuICBkaXNwbGF5OiBmbGV4O1xcclxcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXHJcXG4gIGdhcDogMTJweDtcXHJcXG59XFxyXFxuXFxyXFxuLnRpbWVyLXNlY3Rpb24ge1xcclxcbiAgZGlzcGxheTogZmxleDtcXHJcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxyXFxuICBnYXA6IDhweDtcXHJcXG59XFxyXFxuXFxyXFxuLnRpbWVyLWRpc3BsYXkge1xcclxcbiAgZm9udC1zaXplOiAxLjVyZW07XFxyXFxuICBmb250LXdlaWdodDogNzAwO1xcclxcbiAgZm9udC12YXJpYW50LW51bWVyaWM6IHRhYnVsYXItbnVtcztcXHJcXG4gIGNvbG9yOiB2YXIoLS1wcmltYXJ5KTtcXHJcXG4gIG1pbi13aWR0aDogNjBweDtcXHJcXG59XFxyXFxuXFxyXFxuLnRpbWVyLXVuaXQge1xcclxcbiAgZm9udC1zaXplOiAwLjhyZW07XFxyXFxuICBjb2xvcjogdmFyKC0tdGV4dC1saWdodCk7XFxyXFxufVxcclxcblxcclxcbi8qID09PT09IFJldHJvIEJvZHkgTGF5b3V0ID09PT09ICovXFxyXFxuLnJldHJvLWJvZHkge1xcclxcbiAgZGlzcGxheTogZmxleDtcXHJcXG4gIGdhcDogMTZweDtcXHJcXG59XFxyXFxuXFxyXFxuLnNpZGViYXIge1xcclxcbiAgd2lkdGg6IDIwMHB4O1xcclxcbiAgZmxleC1zaHJpbms6IDA7XFxyXFxuICBiYWNrZ3JvdW5kOiB2YXIoLS1jYXJkLWJnKTtcXHJcXG4gIGJvcmRlci1yYWRpdXM6IHZhcigtLXJhZGl1cyk7XFxyXFxuICBwYWRkaW5nOiAxNnB4O1xcclxcbiAgYm94LXNoYWRvdzogdmFyKC0tc2hhZG93KTtcXHJcXG4gIGFsaWduLXNlbGY6IGZsZXgtc3RhcnQ7XFxyXFxuICBwb3NpdGlvbjogc3RpY2t5O1xcclxcbiAgdG9wOiAxNnB4O1xcclxcbn1cXHJcXG5cXHJcXG4uc2lkZWJhciBoMyB7XFxyXFxuICBmb250LXNpemU6IDAuOXJlbTtcXHJcXG4gIGNvbG9yOiB2YXIoLS10ZXh0LWxpZ2h0KTtcXHJcXG4gIG1hcmdpbi1ib3R0b206IDhweDtcXHJcXG59XFxyXFxuXFxyXFxuLnBhcnRpY2lwYW50LWxpc3Qge1xcclxcbiAgbGlzdC1zdHlsZTogbm9uZTtcXHJcXG59XFxyXFxuXFxyXFxuLnBhcnRpY2lwYW50LWl0ZW0ge1xcclxcbiAgZGlzcGxheTogZmxleDtcXHJcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxyXFxuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XFxyXFxuICBwYWRkaW5nOiA0cHggMDtcXHJcXG4gIGZvbnQtc2l6ZTogMC45cmVtO1xcclxcbn1cXHJcXG5cXHJcXG4uYWRtaW4tdGFnIHtcXHJcXG4gIGJhY2tncm91bmQ6ICNmZWYzYzc7XFxyXFxuICBjb2xvcjogIzkyNDAwZTtcXHJcXG4gIGZvbnQtc2l6ZTogMC43cmVtO1xcclxcbiAgcGFkZGluZzogMXB4IDZweDtcXHJcXG4gIGJvcmRlci1yYWRpdXM6IDRweDtcXHJcXG4gIGZvbnQtd2VpZ2h0OiA2MDA7XFxyXFxufVxcclxcblxcclxcbi5tYWluLWNvbnRlbnQge1xcclxcbiAgZmxleDogMTtcXHJcXG4gIG1pbi13aWR0aDogMDtcXHJcXG59XFxyXFxuXFxyXFxuLnBoYXNlLWNvbnRlbnQgaDIge1xcclxcbiAgbWFyZ2luLWJvdHRvbTogMTJweDtcXHJcXG59XFxyXFxuXFxyXFxuLyogPT09PT0gSWRlYSBCb2FyZCA9PT09PSAqL1xcclxcbi5ib2FyZC1oZWFkZXIge1xcclxcbiAgZGlzcGxheTogZmxleDtcXHJcXG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcXHJcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxyXFxuICBtYXJnaW4tYm90dG9tOiAxMnB4O1xcclxcbn1cXHJcXG5cXHJcXG4udm90ZS1oaW50IHtcXHJcXG4gIGNvbG9yOiB2YXIoLS10ZXh0LWxpZ2h0KTtcXHJcXG4gIGZvbnQtc2l6ZTogMC44NXJlbTtcXHJcXG59XFxyXFxuXFxyXFxuLmlkZWEtYm9hcmQge1xcclxcbiAgZGlzcGxheTogZ3JpZDtcXHJcXG4gIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZmlsbCwgbWlubWF4KDI4MHB4LCAxZnIpKTtcXHJcXG4gIGdhcDogMTJweDtcXHJcXG59XFxyXFxuXFxyXFxuLmlkZWEtY2FyZCB7XFxyXFxuICBiYWNrZ3JvdW5kOiB2YXIoLS1jYXJkLWJnKTtcXHJcXG4gIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlcik7XFxyXFxuICBib3JkZXItcmFkaXVzOiB2YXIoLS1yYWRpdXMpO1xcclxcbiAgcGFkZGluZzogMTRweDtcXHJcXG4gIGJveC1zaGFkb3c6IHZhcigtLXNoYWRvdyk7XFxyXFxuICB0cmFuc2l0aW9uOiBhbGwgMC4xNXM7XFxyXFxufVxcclxcblxcclxcbi5pZGVhLWNhcmQuZW1wdHktY2FyZCB7XFxyXFxuICBib3JkZXItc3R5bGU6IGRhc2hlZDtcXHJcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXHJcXG4gIGNvbG9yOiB2YXIoLS10ZXh0LWxpZ2h0KTtcXHJcXG59XFxyXFxuXFxyXFxuLmlkZWEtdGV4dCB7XFxyXFxuICBmb250LXNpemU6IDAuOTVyZW07XFxyXFxuICBtYXJnaW4tYm90dG9tOiA4cHg7XFxyXFxuICB3aGl0ZS1zcGFjZTogcHJlLXdyYXA7XFxyXFxufVxcclxcblxcclxcbi5pZGVhLWF1dGhvciB7XFxyXFxuICBmb250LXNpemU6IDAuOHJlbTtcXHJcXG4gIGNvbG9yOiB2YXIoLS10ZXh0LWxpZ2h0KTtcXHJcXG59XFxyXFxuXFxyXFxuLyogVm90aW5nICovXFxyXFxuLmlkZWEtY2FyZC52b3RhYmxlIHtcXHJcXG4gIGN1cnNvcjogcG9pbnRlcjtcXHJcXG4gIHVzZXItc2VsZWN0OiBub25lO1xcclxcbn1cXHJcXG5cXHJcXG4uaWRlYS1jYXJkLnZvdGFibGU6aG92ZXIge1xcclxcbiAgYm9yZGVyLWNvbG9yOiB2YXIoLS1wcmltYXJ5KTtcXHJcXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMXB4KTtcXHJcXG59XFxyXFxuXFxyXFxuLmlkZWEtY2FyZC52b3RlZCB7XFxyXFxuICBiYWNrZ3JvdW5kOiB2YXIoLS12b3RlZC1iZyk7XFxyXFxuICBib3JkZXItY29sb3I6IHZhcigtLXByaW1hcnkpO1xcclxcbn1cXHJcXG5cXHJcXG4udm90ZS1zZWN0aW9uIHtcXHJcXG4gIGRpc3BsYXk6IGZsZXg7XFxyXFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcclxcbiAgZ2FwOiA2cHg7XFxyXFxuICBtYXJnaW4tdG9wOiA4cHg7XFxyXFxufVxcclxcblxcclxcbi52b3RlLWNvdW50IHtcXHJcXG4gIGZvbnQtd2VpZ2h0OiA3MDA7XFxyXFxuICBmb250LXNpemU6IDEuMXJlbTtcXHJcXG4gIGNvbG9yOiB2YXIoLS1wcmltYXJ5KTtcXHJcXG59XFxyXFxuXFxyXFxuLnZvdGUtaWNvbiB7XFxyXFxuICBmb250LXNpemU6IDEuMnJlbTtcXHJcXG4gIGNvbG9yOiB2YXIoLS1wcmltYXJ5KTtcXHJcXG59XFxyXFxuXFxyXFxuLnZvdGVkLWJ5IHtcXHJcXG4gIG1hcmdpbi10b3A6IDRweDtcXHJcXG59XFxyXFxuXFxyXFxuLnZvdGVkLWJ5IHNtYWxsIHtcXHJcXG4gIGNvbG9yOiB2YXIoLS10ZXh0LWxpZ2h0KTtcXHJcXG4gIGZvbnQtc2l6ZTogMC43NXJlbTtcXHJcXG59XFxyXFxuXFxyXFxuLyogU2VsZWN0YWJsZSAoYnJhaW5zdG9ybSkgKi9cXHJcXG4uaWRlYS1jYXJkLnNlbGVjdGFibGUge1xcclxcbiAgY3Vyc29yOiBwb2ludGVyO1xcclxcbn1cXHJcXG5cXHJcXG4uaWRlYS1jYXJkLnNlbGVjdGFibGU6aG92ZXIge1xcclxcbiAgYm9yZGVyLWNvbG9yOiB2YXIoLS1hY2NlbnQpO1xcclxcbn1cXHJcXG5cXHJcXG4uaWRlYS1jYXJkLnNlbGVjdGVkIHtcXHJcXG4gIGJhY2tncm91bmQ6IHZhcigtLXNlbGVjdGVkLWJnKTtcXHJcXG4gIGJvcmRlci1jb2xvcjogdmFyKC0tYWNjZW50KTtcXHJcXG59XFxyXFxuXFxyXFxuLyogPT09PT0gQnJhaW5zdG9ybSA9PT09PSAqL1xcclxcbi5icmFpbnN0b3JtLXNlbGVjdGlvbiB7XFxyXFxuICBkaXNwbGF5OiBncmlkO1xcclxcbiAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoYXV0by1maWxsLCBtaW5tYXgoMjUwcHgsIDFmcikpO1xcclxcbiAgZ2FwOiAxMnB4O1xcclxcbiAgbWFyZ2luLWJvdHRvbTogMTJweDtcXHJcXG59XFxyXFxuXFxyXFxuLmJyYWluc3Rvcm0tdGhyZWFkcyB7XFxyXFxuICBkaXNwbGF5OiBmbGV4O1xcclxcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXHJcXG4gIGdhcDogMTZweDtcXHJcXG59XFxyXFxuXFxyXFxuLmJyYWluc3Rvcm0tdGhyZWFkIHtcXHJcXG4gIGJvcmRlci1sZWZ0OiA0cHggc29saWQgdmFyKC0tYWNjZW50KTtcXHJcXG59XFxyXFxuXFxyXFxuLnRocmVhZC10aXRsZSB7XFxyXFxuICBmb250LXNpemU6IDFyZW07XFxyXFxuICBtYXJnaW4tYm90dG9tOiAxMnB4O1xcclxcbn1cXHJcXG5cXHJcXG4udGhyZWFkLXRpdGxlIHNtYWxsIHtcXHJcXG4gIGNvbG9yOiB2YXIoLS10ZXh0LWxpZ2h0KTtcXHJcXG4gIGZvbnQtd2VpZ2h0OiA0MDA7XFxyXFxufVxcclxcblxcclxcbi5jb21tZW50cyB7XFxyXFxuICBkaXNwbGF5OiBmbGV4O1xcclxcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXHJcXG4gIGdhcDogNnB4O1xcclxcbiAgbWFyZ2luLWJvdHRvbTogMTJweDtcXHJcXG59XFxyXFxuXFxyXFxuLmNvbW1lbnQge1xcclxcbiAgYmFja2dyb3VuZDogdmFyKC0tYmcpO1xcclxcbiAgcGFkZGluZzogOHB4IDEycHg7XFxyXFxuICBib3JkZXItcmFkaXVzOiB2YXIoLS1yYWRpdXMpO1xcclxcbiAgZm9udC1zaXplOiAwLjlyZW07XFxyXFxufVxcclxcblxcclxcbi5hZGQtY29tbWVudCB7XFxyXFxuICBkaXNwbGF5OiBmbGV4O1xcclxcbiAgZ2FwOiA4cHg7XFxyXFxufVxcclxcblxcclxcbi5hZGQtY29tbWVudCAuaW5wdXQge1xcclxcbiAgZmxleDogMTtcXHJcXG59XFxyXFxuXFxyXFxuLyogPT09PT0gQWN0aW9uIFBvaW50cyA9PT09PSAqL1xcclxcbi5hY3Rpb24tcG9pbnRzLWxpc3Qge1xcclxcbiAgZGlzcGxheTogZ3JpZDtcXHJcXG4gIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZmlsbCwgbWlubWF4KDMwMHB4LCAxZnIpKTtcXHJcXG4gIGdhcDogMTJweDtcXHJcXG4gIG1hcmdpbi1ib3R0b206IDE2cHg7XFxyXFxufVxcclxcblxcclxcbi5hY3Rpb24tcG9pbnQtY2FyZCB7XFxyXFxuICBib3JkZXItbGVmdDogNHB4IHNvbGlkIHZhcigtLXByaW1hcnkpO1xcclxcbn1cXHJcXG5cXHJcXG4uYWN0aW9uLXRleHQge1xcclxcbiAgZm9udC1zaXplOiAwLjk1cmVtO1xcclxcbiAgbWFyZ2luLWJvdHRvbTogNnB4O1xcclxcbn1cXHJcXG5cXHJcXG4uYWN0aW9uLWFzc2lnbmVlIHtcXHJcXG4gIGRpc3BsYXk6IGJsb2NrO1xcclxcbiAgZm9udC1zaXplOiAwLjg1cmVtO1xcclxcbiAgY29sb3I6IHZhcigtLXRleHQtbGlnaHQpO1xcclxcbn1cXHJcXG5cXHJcXG4uYWN0aW9uLWNyZWF0b3Ige1xcclxcbiAgZGlzcGxheTogYmxvY2s7XFxyXFxuICBmb250LXNpemU6IDAuOHJlbTtcXHJcXG4gIGNvbG9yOiB2YXIoLS10ZXh0LWxpZ2h0KTtcXHJcXG59XFxyXFxuXFxyXFxuLmFkZC1hY3Rpb24tZm9ybSB7XFxyXFxuICBtYXgtd2lkdGg6IDUwMHB4O1xcclxcbn1cXHJcXG5cXHJcXG4vKiA9PT09PSBTdW1tYXJ5ID09PT09ICovXFxyXFxuLnN1bW1hcnktc2VjdGlvbiBoMyB7XFxyXFxuICBtYXJnaW4tdG9wOiAyMHB4O1xcclxcbiAgbWFyZ2luLWJvdHRvbTogMTJweDtcXHJcXG4gIHBhZGRpbmctYm90dG9tOiA0cHg7XFxyXFxuICBib3JkZXItYm90dG9tOiAycHggc29saWQgdmFyKC0tYm9yZGVyKTtcXHJcXG59XFxyXFxuXFxyXFxuLyogPT09PT0gTW9kYWwgPT09PT0gKi9cXHJcXG4ubW9kYWwtb3ZlcmxheSB7XFxyXFxuICBwb3NpdGlvbjogZml4ZWQ7XFxyXFxuICB0b3A6IDA7XFxyXFxuICBsZWZ0OiAwO1xcclxcbiAgcmlnaHQ6IDA7XFxyXFxuICBib3R0b206IDA7XFxyXFxuICBiYWNrZ3JvdW5kOiByZ2JhKDAsMCwwLDAuNCk7XFxyXFxuICBkaXNwbGF5OiBmbGV4O1xcclxcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXHJcXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcclxcbiAgei1pbmRleDogMTAwO1xcclxcbn1cXHJcXG5cXHJcXG4ubW9kYWwge1xcclxcbiAgYmFja2dyb3VuZDogdmFyKC0tY2FyZC1iZyk7XFxyXFxuICBib3JkZXItcmFkaXVzOiB2YXIoLS1yYWRpdXMpO1xcclxcbiAgcGFkZGluZzogMjRweDtcXHJcXG4gIG1pbi13aWR0aDogNDAwcHg7XFxyXFxuICBtYXgtd2lkdGg6IDkwdnc7XFxyXFxuICBib3gtc2hhZG93OiAwIDRweCAxMnB4IHJnYmEoMCwwLDAsMC4xNSk7XFxyXFxufVxcclxcblxcclxcbi5tb2RhbCBoMyB7XFxyXFxuICBtYXJnaW4tYm90dG9tOiAxNnB4O1xcclxcbn1cXHJcXG5cXHJcXG4ubW9kYWwtYWN0aW9ucyB7XFxyXFxuICBkaXNwbGF5OiBmbGV4O1xcclxcbiAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcXHJcXG4gIGdhcDogOHB4O1xcclxcbiAgbWFyZ2luLXRvcDogMTZweDtcXHJcXG59XFxyXFxuXFxyXFxuLyogPT09PT0gUmVzcG9uc2l2ZSA9PT09PSAqL1xcclxcbkBtZWRpYSAobWF4LXdpZHRoOiA3NjhweCkge1xcclxcbiAgLnJldHJvLWJvZHkge1xcclxcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcclxcbiAgfVxcclxcbiAgLnNpZGViYXIge1xcclxcbiAgICB3aWR0aDogMTAwJTtcXHJcXG4gICAgcG9zaXRpb246IHN0YXRpYztcXHJcXG4gIH1cXHJcXG4gIC5yZXRyby1oZWFkZXIge1xcclxcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcclxcbiAgICBhbGlnbi1pdGVtczogZmxleC1zdGFydDtcXHJcXG4gIH1cXHJcXG4gIC5pZGVhLWJvYXJkIHtcXHJcXG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnI7XFxyXFxuICB9XFxyXFxuICAubW9kYWwge1xcclxcbiAgICBtaW4td2lkdGg6IGF1dG87XFxyXFxuICAgIG1hcmdpbjogMTZweDtcXHJcXG4gIH1cXHJcXG59XFxyXFxuXCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/css-loader/dist/cjs.js!./src/styles.css\n\n}");

/***/ },

/***/ "./node_modules/css-loader/dist/runtime/api.js"
/*!*****************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/api.js ***!
  \*****************************************************/
(module) {

"use strict";
eval("{\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = [];\n\n  // return the list of modules as css string\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n      content += cssWithMappingToString(item);\n      if (needLayer) {\n        content += \"}\";\n      }\n      if (item[2]) {\n        content += \"}\";\n      }\n      if (item[4]) {\n        content += \"}\";\n      }\n      return content;\n    }).join(\"\");\n  };\n\n  // import a list of modules into the list\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n    var alreadyImportedModules = {};\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n      list.push(item);\n    }\n  };\n  return list;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQ7QUFDckQ7QUFDQTtBQUNBLGdEQUFnRDtBQUNoRDtBQUNBO0FBQ0EscUZBQXFGO0FBQ3JGO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixpQkFBaUI7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLHFCQUFxQjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVixzRkFBc0YscUJBQXFCO0FBQzNHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVixpREFBaUQscUJBQXFCO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVixzREFBc0QscUJBQXFCO0FBQzNFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZXRyb2FwcC1jbGllbnQvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzPzI0ZmIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qXG4gIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gIEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKSB7XG4gIHZhciBsaXN0ID0gW107XG5cbiAgLy8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuICBsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICB2YXIgY29udGVudCA9IFwiXCI7XG4gICAgICB2YXIgbmVlZExheWVyID0gdHlwZW9mIGl0ZW1bNV0gIT09IFwidW5kZWZpbmVkXCI7XG4gICAgICBpZiAoaXRlbVs0XSkge1xuICAgICAgICBjb250ZW50ICs9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQoaXRlbVs0XSwgXCIpIHtcIik7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICBjb250ZW50ICs9IFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpO1xuICAgICAgfVxuICAgICAgaWYgKG5lZWRMYXllcikge1xuICAgICAgICBjb250ZW50ICs9IFwiQGxheWVyXCIuY29uY2F0KGl0ZW1bNV0ubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChpdGVtWzVdKSA6IFwiXCIsIFwiIHtcIik7XG4gICAgICB9XG4gICAgICBjb250ZW50ICs9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSk7XG4gICAgICBpZiAobmVlZExheWVyKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1bNF0pIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH0pLmpvaW4oXCJcIik7XG4gIH07XG5cbiAgLy8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3RcbiAgbGlzdC5pID0gZnVuY3Rpb24gaShtb2R1bGVzLCBtZWRpYSwgZGVkdXBlLCBzdXBwb3J0cywgbGF5ZXIpIHtcbiAgICBpZiAodHlwZW9mIG1vZHVsZXMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsIHVuZGVmaW5lZF1dO1xuICAgIH1cbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuICAgIGlmIChkZWR1cGUpIHtcbiAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgdGhpcy5sZW5ndGg7IGsrKykge1xuICAgICAgICB2YXIgaWQgPSB0aGlzW2tdWzBdO1xuICAgICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICAgIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKHZhciBfayA9IDA7IF9rIDwgbW9kdWxlcy5sZW5ndGg7IF9rKyspIHtcbiAgICAgIHZhciBpdGVtID0gW10uY29uY2F0KG1vZHVsZXNbX2tdKTtcbiAgICAgIGlmIChkZWR1cGUgJiYgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgbGF5ZXIgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpdGVtWzVdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgaXRlbVs1XSA9IGxheWVyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBsYXllclwiLmNvbmNhdChpdGVtWzVdLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQoaXRlbVs1XSkgOiBcIlwiLCBcIiB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVs1XSA9IGxheWVyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAobWVkaWEpIHtcbiAgICAgICAgaWYgKCFpdGVtWzJdKSB7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHN1cHBvcnRzKSB7XG4gICAgICAgIGlmICghaXRlbVs0XSkge1xuICAgICAgICAgIGl0ZW1bNF0gPSBcIlwiLmNvbmNhdChzdXBwb3J0cyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsxXSA9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQoaXRlbVs0XSwgXCIpIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzRdID0gc3VwcG9ydHM7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGxpc3QucHVzaChpdGVtKTtcbiAgICB9XG4gIH07XG4gIHJldHVybiBsaXN0O1xufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/css-loader/dist/runtime/api.js\n\n}");

/***/ },

/***/ "./node_modules/css-loader/dist/runtime/sourceMaps.js"
/*!************************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/sourceMaps.js ***!
  \************************************************************/
(module) {

"use strict";
eval("{\n\nmodule.exports = function (item) {\n  var content = item[1];\n  var cssMapping = item[3];\n  if (!cssMapping) {\n    return content;\n  }\n  if (typeof btoa === \"function\") {\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    return [content].concat([sourceMapping]).join(\"\\n\");\n  }\n  return [content].join(\"\\n\");\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVELGNBQWM7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3JldHJvYXBwLWNsaWVudC8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzP2FmMTIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgdmFyIGNvbnRlbnQgPSBpdGVtWzFdO1xuICB2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG4gIGlmICghY3NzTWFwcGluZykge1xuICAgIHJldHVybiBjb250ZW50O1xuICB9XG4gIGlmICh0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGNzc01hcHBpbmcpKSkpO1xuICAgIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcbiAgICB2YXIgc291cmNlTWFwcGluZyA9IFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbiAgICByZXR1cm4gW2NvbnRlbnRdLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oXCJcXG5cIik7XG4gIH1cbiAgcmV0dXJuIFtjb250ZW50XS5qb2luKFwiXFxuXCIpO1xufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/css-loader/dist/runtime/sourceMaps.js\n\n}");

/***/ },

/***/ "./node_modules/debug/src/browser.js"
/*!*******************************************!*\
  !*** ./node_modules/debug/src/browser.js ***!
  \*******************************************/
(module, exports, __webpack_require__) {

eval("{/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\nexports.destroy = (() => {\n\tlet warned = false;\n\n\treturn () => {\n\t\tif (!warned) {\n\t\t\twarned = true;\n\t\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t\t}\n\t};\n})();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\tlet m;\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\t// eslint-disable-next-line no-return-assign\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && (m = navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/)) && parseInt(m[1], 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.debug()` when available.\n * No-op when `console.debug` is not a \"function\".\n * If `console.debug` is not available, falls back\n * to `console.log`.\n *\n * @api public\n */\nexports.log = console.debug || console.log || (() => {});\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug') || exports.storage.getItem('DEBUG') ;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = __webpack_require__(/*! ./common */ \"./node_modules/debug/src/common.js\")(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZGVidWcvc3JjL2Jyb3dzZXIuanMiLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBLGtCQUFrQjtBQUNsQixZQUFZO0FBQ1osWUFBWTtBQUNaLGlCQUFpQjtBQUNqQixlQUFlO0FBQ2YsZUFBZTtBQUNmOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBOztBQUVBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLDRDQUE0Qzs7QUFFdkQ7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFlBQVksUUFBUTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGlCQUFpQixtQkFBTyxDQUFDLG9EQUFVOztBQUVuQyxPQUFPLFlBQVk7O0FBRW5CO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmV0cm9hcHAtY2xpZW50Ly4vbm9kZV9tb2R1bGVzL2RlYnVnL3NyYy9icm93c2VyLmpzPzM0ZWIiXSwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWVudiBicm93c2VyICovXG5cbi8qKlxuICogVGhpcyBpcyB0aGUgd2ViIGJyb3dzZXIgaW1wbGVtZW50YXRpb24gb2YgYGRlYnVnKClgLlxuICovXG5cbmV4cG9ydHMuZm9ybWF0QXJncyA9IGZvcm1hdEFyZ3M7XG5leHBvcnRzLnNhdmUgPSBzYXZlO1xuZXhwb3J0cy5sb2FkID0gbG9hZDtcbmV4cG9ydHMudXNlQ29sb3JzID0gdXNlQ29sb3JzO1xuZXhwb3J0cy5zdG9yYWdlID0gbG9jYWxzdG9yYWdlKCk7XG5leHBvcnRzLmRlc3Ryb3kgPSAoKCkgPT4ge1xuXHRsZXQgd2FybmVkID0gZmFsc2U7XG5cblx0cmV0dXJuICgpID0+IHtcblx0XHRpZiAoIXdhcm5lZCkge1xuXHRcdFx0d2FybmVkID0gdHJ1ZTtcblx0XHRcdGNvbnNvbGUud2FybignSW5zdGFuY2UgbWV0aG9kIGBkZWJ1Zy5kZXN0cm95KClgIGlzIGRlcHJlY2F0ZWQgYW5kIG5vIGxvbmdlciBkb2VzIGFueXRoaW5nLiBJdCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgdmVyc2lvbiBvZiBgZGVidWdgLicpO1xuXHRcdH1cblx0fTtcbn0pKCk7XG5cbi8qKlxuICogQ29sb3JzLlxuICovXG5cbmV4cG9ydHMuY29sb3JzID0gW1xuXHQnIzAwMDBDQycsXG5cdCcjMDAwMEZGJyxcblx0JyMwMDMzQ0MnLFxuXHQnIzAwMzNGRicsXG5cdCcjMDA2NkNDJyxcblx0JyMwMDY2RkYnLFxuXHQnIzAwOTlDQycsXG5cdCcjMDA5OUZGJyxcblx0JyMwMENDMDAnLFxuXHQnIzAwQ0MzMycsXG5cdCcjMDBDQzY2Jyxcblx0JyMwMENDOTknLFxuXHQnIzAwQ0NDQycsXG5cdCcjMDBDQ0ZGJyxcblx0JyMzMzAwQ0MnLFxuXHQnIzMzMDBGRicsXG5cdCcjMzMzM0NDJyxcblx0JyMzMzMzRkYnLFxuXHQnIzMzNjZDQycsXG5cdCcjMzM2NkZGJyxcblx0JyMzMzk5Q0MnLFxuXHQnIzMzOTlGRicsXG5cdCcjMzNDQzAwJyxcblx0JyMzM0NDMzMnLFxuXHQnIzMzQ0M2NicsXG5cdCcjMzNDQzk5Jyxcblx0JyMzM0NDQ0MnLFxuXHQnIzMzQ0NGRicsXG5cdCcjNjYwMENDJyxcblx0JyM2NjAwRkYnLFxuXHQnIzY2MzNDQycsXG5cdCcjNjYzM0ZGJyxcblx0JyM2NkNDMDAnLFxuXHQnIzY2Q0MzMycsXG5cdCcjOTkwMENDJyxcblx0JyM5OTAwRkYnLFxuXHQnIzk5MzNDQycsXG5cdCcjOTkzM0ZGJyxcblx0JyM5OUNDMDAnLFxuXHQnIzk5Q0MzMycsXG5cdCcjQ0MwMDAwJyxcblx0JyNDQzAwMzMnLFxuXHQnI0NDMDA2NicsXG5cdCcjQ0MwMDk5Jyxcblx0JyNDQzAwQ0MnLFxuXHQnI0NDMDBGRicsXG5cdCcjQ0MzMzAwJyxcblx0JyNDQzMzMzMnLFxuXHQnI0NDMzM2NicsXG5cdCcjQ0MzMzk5Jyxcblx0JyNDQzMzQ0MnLFxuXHQnI0NDMzNGRicsXG5cdCcjQ0M2NjAwJyxcblx0JyNDQzY2MzMnLFxuXHQnI0NDOTkwMCcsXG5cdCcjQ0M5OTMzJyxcblx0JyNDQ0NDMDAnLFxuXHQnI0NDQ0MzMycsXG5cdCcjRkYwMDAwJyxcblx0JyNGRjAwMzMnLFxuXHQnI0ZGMDA2NicsXG5cdCcjRkYwMDk5Jyxcblx0JyNGRjAwQ0MnLFxuXHQnI0ZGMDBGRicsXG5cdCcjRkYzMzAwJyxcblx0JyNGRjMzMzMnLFxuXHQnI0ZGMzM2NicsXG5cdCcjRkYzMzk5Jyxcblx0JyNGRjMzQ0MnLFxuXHQnI0ZGMzNGRicsXG5cdCcjRkY2NjAwJyxcblx0JyNGRjY2MzMnLFxuXHQnI0ZGOTkwMCcsXG5cdCcjRkY5OTMzJyxcblx0JyNGRkNDMDAnLFxuXHQnI0ZGQ0MzMydcbl07XG5cbi8qKlxuICogQ3VycmVudGx5IG9ubHkgV2ViS2l0LWJhc2VkIFdlYiBJbnNwZWN0b3JzLCBGaXJlZm94ID49IHYzMSxcbiAqIGFuZCB0aGUgRmlyZWJ1ZyBleHRlbnNpb24gKGFueSBGaXJlZm94IHZlcnNpb24pIGFyZSBrbm93blxuICogdG8gc3VwcG9ydCBcIiVjXCIgQ1NTIGN1c3RvbWl6YXRpb25zLlxuICpcbiAqIFRPRE86IGFkZCBhIGBsb2NhbFN0b3JhZ2VgIHZhcmlhYmxlIHRvIGV4cGxpY2l0bHkgZW5hYmxlL2Rpc2FibGUgY29sb3JzXG4gKi9cblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbXBsZXhpdHlcbmZ1bmN0aW9uIHVzZUNvbG9ycygpIHtcblx0Ly8gTkI6IEluIGFuIEVsZWN0cm9uIHByZWxvYWQgc2NyaXB0LCBkb2N1bWVudCB3aWxsIGJlIGRlZmluZWQgYnV0IG5vdCBmdWxseVxuXHQvLyBpbml0aWFsaXplZC4gU2luY2Ugd2Uga25vdyB3ZSdyZSBpbiBDaHJvbWUsIHdlJ2xsIGp1c3QgZGV0ZWN0IHRoaXMgY2FzZVxuXHQvLyBleHBsaWNpdGx5XG5cdGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cucHJvY2VzcyAmJiAod2luZG93LnByb2Nlc3MudHlwZSA9PT0gJ3JlbmRlcmVyJyB8fCB3aW5kb3cucHJvY2Vzcy5fX253anMpKSB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHQvLyBJbnRlcm5ldCBFeHBsb3JlciBhbmQgRWRnZSBkbyBub3Qgc3VwcG9ydCBjb2xvcnMuXG5cdGlmICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IudXNlckFnZW50ICYmIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5tYXRjaCgvKGVkZ2V8dHJpZGVudClcXC8oXFxkKykvKSkge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdGxldCBtO1xuXG5cdC8vIElzIHdlYmtpdD8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTY0NTk2MDYvMzc2NzczXG5cdC8vIGRvY3VtZW50IGlzIHVuZGVmaW5lZCBpbiByZWFjdC1uYXRpdmU6IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC1uYXRpdmUvcHVsbC8xNjMyXG5cdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXR1cm4tYXNzaWduXG5cdHJldHVybiAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5XZWJraXRBcHBlYXJhbmNlKSB8fFxuXHRcdC8vIElzIGZpcmVidWc/IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzM5ODEyMC8zNzY3NzNcblx0XHQodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmNvbnNvbGUgJiYgKHdpbmRvdy5jb25zb2xlLmZpcmVidWcgfHwgKHdpbmRvdy5jb25zb2xlLmV4Y2VwdGlvbiAmJiB3aW5kb3cuY29uc29sZS50YWJsZSkpKSB8fFxuXHRcdC8vIElzIGZpcmVmb3ggPj0gdjMxP1xuXHRcdC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvVG9vbHMvV2ViX0NvbnNvbGUjU3R5bGluZ19tZXNzYWdlc1xuXHRcdCh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IudXNlckFnZW50ICYmIChtID0gbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLm1hdGNoKC9maXJlZm94XFwvKFxcZCspLykpICYmIHBhcnNlSW50KG1bMV0sIDEwKSA+PSAzMSkgfHxcblx0XHQvLyBEb3VibGUgY2hlY2sgd2Via2l0IGluIHVzZXJBZ2VudCBqdXN0IGluIGNhc2Ugd2UgYXJlIGluIGEgd29ya2VyXG5cdFx0KHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIG5hdmlnYXRvci51c2VyQWdlbnQgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLm1hdGNoKC9hcHBsZXdlYmtpdFxcLyhcXGQrKS8pKTtcbn1cblxuLyoqXG4gKiBDb2xvcml6ZSBsb2cgYXJndW1lbnRzIGlmIGVuYWJsZWQuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBmb3JtYXRBcmdzKGFyZ3MpIHtcblx0YXJnc1swXSA9ICh0aGlzLnVzZUNvbG9ycyA/ICclYycgOiAnJykgK1xuXHRcdHRoaXMubmFtZXNwYWNlICtcblx0XHQodGhpcy51c2VDb2xvcnMgPyAnICVjJyA6ICcgJykgK1xuXHRcdGFyZ3NbMF0gK1xuXHRcdCh0aGlzLnVzZUNvbG9ycyA/ICclYyAnIDogJyAnKSArXG5cdFx0JysnICsgbW9kdWxlLmV4cG9ydHMuaHVtYW5pemUodGhpcy5kaWZmKTtcblxuXHRpZiAoIXRoaXMudXNlQ29sb3JzKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0Y29uc3QgYyA9ICdjb2xvcjogJyArIHRoaXMuY29sb3I7XG5cdGFyZ3Muc3BsaWNlKDEsIDAsIGMsICdjb2xvcjogaW5oZXJpdCcpO1xuXG5cdC8vIFRoZSBmaW5hbCBcIiVjXCIgaXMgc29tZXdoYXQgdHJpY2t5LCBiZWNhdXNlIHRoZXJlIGNvdWxkIGJlIG90aGVyXG5cdC8vIGFyZ3VtZW50cyBwYXNzZWQgZWl0aGVyIGJlZm9yZSBvciBhZnRlciB0aGUgJWMsIHNvIHdlIG5lZWQgdG9cblx0Ly8gZmlndXJlIG91dCB0aGUgY29ycmVjdCBpbmRleCB0byBpbnNlcnQgdGhlIENTUyBpbnRvXG5cdGxldCBpbmRleCA9IDA7XG5cdGxldCBsYXN0QyA9IDA7XG5cdGFyZ3NbMF0ucmVwbGFjZSgvJVthLXpBLVolXS9nLCBtYXRjaCA9PiB7XG5cdFx0aWYgKG1hdGNoID09PSAnJSUnKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGluZGV4Kys7XG5cdFx0aWYgKG1hdGNoID09PSAnJWMnKSB7XG5cdFx0XHQvLyBXZSBvbmx5IGFyZSBpbnRlcmVzdGVkIGluIHRoZSAqbGFzdCogJWNcblx0XHRcdC8vICh0aGUgdXNlciBtYXkgaGF2ZSBwcm92aWRlZCB0aGVpciBvd24pXG5cdFx0XHRsYXN0QyA9IGluZGV4O1xuXHRcdH1cblx0fSk7XG5cblx0YXJncy5zcGxpY2UobGFzdEMsIDAsIGMpO1xufVxuXG4vKipcbiAqIEludm9rZXMgYGNvbnNvbGUuZGVidWcoKWAgd2hlbiBhdmFpbGFibGUuXG4gKiBOby1vcCB3aGVuIGBjb25zb2xlLmRlYnVnYCBpcyBub3QgYSBcImZ1bmN0aW9uXCIuXG4gKiBJZiBgY29uc29sZS5kZWJ1Z2AgaXMgbm90IGF2YWlsYWJsZSwgZmFsbHMgYmFja1xuICogdG8gYGNvbnNvbGUubG9nYC5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5leHBvcnRzLmxvZyA9IGNvbnNvbGUuZGVidWcgfHwgY29uc29sZS5sb2cgfHwgKCgpID0+IHt9KTtcblxuLyoqXG4gKiBTYXZlIGBuYW1lc3BhY2VzYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlc1xuICogQGFwaSBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHNhdmUobmFtZXNwYWNlcykge1xuXHR0cnkge1xuXHRcdGlmIChuYW1lc3BhY2VzKSB7XG5cdFx0XHRleHBvcnRzLnN0b3JhZ2Uuc2V0SXRlbSgnZGVidWcnLCBuYW1lc3BhY2VzKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZXhwb3J0cy5zdG9yYWdlLnJlbW92ZUl0ZW0oJ2RlYnVnJyk7XG5cdFx0fVxuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdC8vIFN3YWxsb3dcblx0XHQvLyBYWFggKEBRaXgtKSBzaG91bGQgd2UgYmUgbG9nZ2luZyB0aGVzZT9cblx0fVxufVxuXG4vKipcbiAqIExvYWQgYG5hbWVzcGFjZXNgLlxuICpcbiAqIEByZXR1cm4ge1N0cmluZ30gcmV0dXJucyB0aGUgcHJldmlvdXNseSBwZXJzaXN0ZWQgZGVidWcgbW9kZXNcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBsb2FkKCkge1xuXHRsZXQgcjtcblx0dHJ5IHtcblx0XHRyID0gZXhwb3J0cy5zdG9yYWdlLmdldEl0ZW0oJ2RlYnVnJykgfHwgZXhwb3J0cy5zdG9yYWdlLmdldEl0ZW0oJ0RFQlVHJykgO1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdC8vIFN3YWxsb3dcblx0XHQvLyBYWFggKEBRaXgtKSBzaG91bGQgd2UgYmUgbG9nZ2luZyB0aGVzZT9cblx0fVxuXG5cdC8vIElmIGRlYnVnIGlzbid0IHNldCBpbiBMUywgYW5kIHdlJ3JlIGluIEVsZWN0cm9uLCB0cnkgdG8gbG9hZCAkREVCVUdcblx0aWYgKCFyICYmIHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiAnZW52JyBpbiBwcm9jZXNzKSB7XG5cdFx0ciA9IHByb2Nlc3MuZW52LkRFQlVHO1xuXHR9XG5cblx0cmV0dXJuIHI7XG59XG5cbi8qKlxuICogTG9jYWxzdG9yYWdlIGF0dGVtcHRzIHRvIHJldHVybiB0aGUgbG9jYWxzdG9yYWdlLlxuICpcbiAqIFRoaXMgaXMgbmVjZXNzYXJ5IGJlY2F1c2Ugc2FmYXJpIHRocm93c1xuICogd2hlbiBhIHVzZXIgZGlzYWJsZXMgY29va2llcy9sb2NhbHN0b3JhZ2VcbiAqIGFuZCB5b3UgYXR0ZW1wdCB0byBhY2Nlc3MgaXQuXG4gKlxuICogQHJldHVybiB7TG9jYWxTdG9yYWdlfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gbG9jYWxzdG9yYWdlKCkge1xuXHR0cnkge1xuXHRcdC8vIFRWTUxLaXQgKEFwcGxlIFRWIEpTIFJ1bnRpbWUpIGRvZXMgbm90IGhhdmUgYSB3aW5kb3cgb2JqZWN0LCBqdXN0IGxvY2FsU3RvcmFnZSBpbiB0aGUgZ2xvYmFsIGNvbnRleHRcblx0XHQvLyBUaGUgQnJvd3NlciBhbHNvIGhhcyBsb2NhbFN0b3JhZ2UgaW4gdGhlIGdsb2JhbCBjb250ZXh0LlxuXHRcdHJldHVybiBsb2NhbFN0b3JhZ2U7XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0Ly8gU3dhbGxvd1xuXHRcdC8vIFhYWCAoQFFpeC0pIHNob3VsZCB3ZSBiZSBsb2dnaW5nIHRoZXNlP1xuXHR9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9jb21tb24nKShleHBvcnRzKTtcblxuY29uc3Qge2Zvcm1hdHRlcnN9ID0gbW9kdWxlLmV4cG9ydHM7XG5cbi8qKlxuICogTWFwICVqIHRvIGBKU09OLnN0cmluZ2lmeSgpYCwgc2luY2Ugbm8gV2ViIEluc3BlY3RvcnMgZG8gdGhhdCBieSBkZWZhdWx0LlxuICovXG5cbmZvcm1hdHRlcnMuaiA9IGZ1bmN0aW9uICh2KSB7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIEpTT04uc3RyaW5naWZ5KHYpO1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiAnW1VuZXhwZWN0ZWRKU09OUGFyc2VFcnJvcl06ICcgKyBlcnJvci5tZXNzYWdlO1xuXHR9XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/debug/src/browser.js\n\n}");

/***/ },

/***/ "./node_modules/debug/src/common.js"
/*!******************************************!*\
  !*** ./node_modules/debug/src/common.js ***!
  \******************************************/
(module, __unused_webpack_exports, __webpack_require__) {

eval("{\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = __webpack_require__(/*! ms */ \"./node_modules/ms/index.js\");\n\tcreateDebug.destroy = destroy;\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\t\tlet enableOverride = null;\n\t\tlet namespacesCache;\n\t\tlet enabledCache;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn '%';\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = createDebug.selectColor(namespace);\n\t\tdebug.extend = extend;\n\t\tdebug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.\n\n\t\tObject.defineProperty(debug, 'enabled', {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: false,\n\t\t\tget: () => {\n\t\t\t\tif (enableOverride !== null) {\n\t\t\t\t\treturn enableOverride;\n\t\t\t\t}\n\t\t\t\tif (namespacesCache !== createDebug.namespaces) {\n\t\t\t\t\tnamespacesCache = createDebug.namespaces;\n\t\t\t\t\tenabledCache = createDebug.enabled(namespace);\n\t\t\t\t}\n\n\t\t\t\treturn enabledCache;\n\t\t\t},\n\t\t\tset: v => {\n\t\t\t\tenableOverride = v;\n\t\t\t}\n\t\t});\n\n\t\t// Env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\treturn debug;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\t\tcreateDebug.namespaces = namespaces;\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '')\n\t\t\t.trim()\n\t\t\t.replace(/\\s+/g, ',')\n\t\t\t.split(',')\n\t\t\t.filter(Boolean);\n\n\t\tfor (const ns of split) {\n\t\t\tif (ns[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(ns.slice(1));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(ns);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Checks if the given string matches a namespace template, honoring\n\t * asterisks as wildcards.\n\t *\n\t * @param {String} search\n\t * @param {String} template\n\t * @return {Boolean}\n\t */\n\tfunction matchesTemplate(search, template) {\n\t\tlet searchIndex = 0;\n\t\tlet templateIndex = 0;\n\t\tlet starIndex = -1;\n\t\tlet matchIndex = 0;\n\n\t\twhile (searchIndex < search.length) {\n\t\t\tif (templateIndex < template.length && (template[templateIndex] === search[searchIndex] || template[templateIndex] === '*')) {\n\t\t\t\t// Match character or proceed with wildcard\n\t\t\t\tif (template[templateIndex] === '*') {\n\t\t\t\t\tstarIndex = templateIndex;\n\t\t\t\t\tmatchIndex = searchIndex;\n\t\t\t\t\ttemplateIndex++; // Skip the '*'\n\t\t\t\t} else {\n\t\t\t\t\tsearchIndex++;\n\t\t\t\t\ttemplateIndex++;\n\t\t\t\t}\n\t\t\t} else if (starIndex !== -1) { // eslint-disable-line no-negated-condition\n\t\t\t\t// Backtrack to the last '*' and try to match more characters\n\t\t\t\ttemplateIndex = starIndex + 1;\n\t\t\t\tmatchIndex++;\n\t\t\t\tsearchIndex = matchIndex;\n\t\t\t} else {\n\t\t\t\treturn false; // No match\n\t\t\t}\n\t\t}\n\n\t\t// Handle trailing '*' in template\n\t\twhile (templateIndex < template.length && template[templateIndex] === '*') {\n\t\t\ttemplateIndex++;\n\t\t}\n\n\t\treturn templateIndex === template.length;\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names,\n\t\t\t...createDebug.skips.map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tfor (const skip of createDebug.skips) {\n\t\t\tif (matchesTemplate(name, skip)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (const ns of createDebug.names) {\n\t\t\tif (matchesTemplate(name, ns)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\t/**\n\t* XXX DO NOT USE. This is a temporary stub function.\n\t* XXX It WILL be removed in the next major release.\n\t*/\n\tfunction destroy() {\n\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZGVidWcvc3JjL2NvbW1vbi5qcyIsIm1hcHBpbmdzIjoiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsbUJBQU8sQ0FBQyxzQ0FBSTtBQUNwQzs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixZQUFZLGVBQWU7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsa0JBQWtCLHNCQUFzQjtBQUN4QztBQUNBLGNBQWM7QUFDZDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1Qzs7QUFFdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFFBQVE7QUFDcEIsWUFBWSxRQUFRO0FBQ3BCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxLQUFLLDZCQUE2QjtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxrQkFBa0I7QUFDbEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFlBQVksUUFBUTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmV0cm9hcHAtY2xpZW50Ly4vbm9kZV9tb2R1bGVzL2RlYnVnL3NyYy9jb21tb24uanM/ZGM5MCJdLCJzb3VyY2VzQ29udGVudCI6WyJcbi8qKlxuICogVGhpcyBpcyB0aGUgY29tbW9uIGxvZ2ljIGZvciBib3RoIHRoZSBOb2RlLmpzIGFuZCB3ZWIgYnJvd3NlclxuICogaW1wbGVtZW50YXRpb25zIG9mIGBkZWJ1ZygpYC5cbiAqL1xuXG5mdW5jdGlvbiBzZXR1cChlbnYpIHtcblx0Y3JlYXRlRGVidWcuZGVidWcgPSBjcmVhdGVEZWJ1Zztcblx0Y3JlYXRlRGVidWcuZGVmYXVsdCA9IGNyZWF0ZURlYnVnO1xuXHRjcmVhdGVEZWJ1Zy5jb2VyY2UgPSBjb2VyY2U7XG5cdGNyZWF0ZURlYnVnLmRpc2FibGUgPSBkaXNhYmxlO1xuXHRjcmVhdGVEZWJ1Zy5lbmFibGUgPSBlbmFibGU7XG5cdGNyZWF0ZURlYnVnLmVuYWJsZWQgPSBlbmFibGVkO1xuXHRjcmVhdGVEZWJ1Zy5odW1hbml6ZSA9IHJlcXVpcmUoJ21zJyk7XG5cdGNyZWF0ZURlYnVnLmRlc3Ryb3kgPSBkZXN0cm95O1xuXG5cdE9iamVjdC5rZXlzKGVudikuZm9yRWFjaChrZXkgPT4ge1xuXHRcdGNyZWF0ZURlYnVnW2tleV0gPSBlbnZba2V5XTtcblx0fSk7XG5cblx0LyoqXG5cdCogVGhlIGN1cnJlbnRseSBhY3RpdmUgZGVidWcgbW9kZSBuYW1lcywgYW5kIG5hbWVzIHRvIHNraXAuXG5cdCovXG5cblx0Y3JlYXRlRGVidWcubmFtZXMgPSBbXTtcblx0Y3JlYXRlRGVidWcuc2tpcHMgPSBbXTtcblxuXHQvKipcblx0KiBNYXAgb2Ygc3BlY2lhbCBcIiVuXCIgaGFuZGxpbmcgZnVuY3Rpb25zLCBmb3IgdGhlIGRlYnVnIFwiZm9ybWF0XCIgYXJndW1lbnQuXG5cdCpcblx0KiBWYWxpZCBrZXkgbmFtZXMgYXJlIGEgc2luZ2xlLCBsb3dlciBvciB1cHBlci1jYXNlIGxldHRlciwgaS5lLiBcIm5cIiBhbmQgXCJOXCIuXG5cdCovXG5cdGNyZWF0ZURlYnVnLmZvcm1hdHRlcnMgPSB7fTtcblxuXHQvKipcblx0KiBTZWxlY3RzIGEgY29sb3IgZm9yIGEgZGVidWcgbmFtZXNwYWNlXG5cdCogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZSBUaGUgbmFtZXNwYWNlIHN0cmluZyBmb3IgdGhlIGRlYnVnIGluc3RhbmNlIHRvIGJlIGNvbG9yZWRcblx0KiBAcmV0dXJuIHtOdW1iZXJ8U3RyaW5nfSBBbiBBTlNJIGNvbG9yIGNvZGUgZm9yIHRoZSBnaXZlbiBuYW1lc3BhY2Vcblx0KiBAYXBpIHByaXZhdGVcblx0Ki9cblx0ZnVuY3Rpb24gc2VsZWN0Q29sb3IobmFtZXNwYWNlKSB7XG5cdFx0bGV0IGhhc2ggPSAwO1xuXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBuYW1lc3BhY2UubGVuZ3RoOyBpKyspIHtcblx0XHRcdGhhc2ggPSAoKGhhc2ggPDwgNSkgLSBoYXNoKSArIG5hbWVzcGFjZS5jaGFyQ29kZUF0KGkpO1xuXHRcdFx0aGFzaCB8PSAwOyAvLyBDb252ZXJ0IHRvIDMyYml0IGludGVnZXJcblx0XHR9XG5cblx0XHRyZXR1cm4gY3JlYXRlRGVidWcuY29sb3JzW01hdGguYWJzKGhhc2gpICUgY3JlYXRlRGVidWcuY29sb3JzLmxlbmd0aF07XG5cdH1cblx0Y3JlYXRlRGVidWcuc2VsZWN0Q29sb3IgPSBzZWxlY3RDb2xvcjtcblxuXHQvKipcblx0KiBDcmVhdGUgYSBkZWJ1Z2dlciB3aXRoIHRoZSBnaXZlbiBgbmFtZXNwYWNlYC5cblx0KlxuXHQqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2Vcblx0KiBAcmV0dXJuIHtGdW5jdGlvbn1cblx0KiBAYXBpIHB1YmxpY1xuXHQqL1xuXHRmdW5jdGlvbiBjcmVhdGVEZWJ1ZyhuYW1lc3BhY2UpIHtcblx0XHRsZXQgcHJldlRpbWU7XG5cdFx0bGV0IGVuYWJsZU92ZXJyaWRlID0gbnVsbDtcblx0XHRsZXQgbmFtZXNwYWNlc0NhY2hlO1xuXHRcdGxldCBlbmFibGVkQ2FjaGU7XG5cblx0XHRmdW5jdGlvbiBkZWJ1ZyguLi5hcmdzKSB7XG5cdFx0XHQvLyBEaXNhYmxlZD9cblx0XHRcdGlmICghZGVidWcuZW5hYmxlZCkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IHNlbGYgPSBkZWJ1ZztcblxuXHRcdFx0Ly8gU2V0IGBkaWZmYCB0aW1lc3RhbXBcblx0XHRcdGNvbnN0IGN1cnIgPSBOdW1iZXIobmV3IERhdGUoKSk7XG5cdFx0XHRjb25zdCBtcyA9IGN1cnIgLSAocHJldlRpbWUgfHwgY3Vycik7XG5cdFx0XHRzZWxmLmRpZmYgPSBtcztcblx0XHRcdHNlbGYucHJldiA9IHByZXZUaW1lO1xuXHRcdFx0c2VsZi5jdXJyID0gY3Vycjtcblx0XHRcdHByZXZUaW1lID0gY3VycjtcblxuXHRcdFx0YXJnc1swXSA9IGNyZWF0ZURlYnVnLmNvZXJjZShhcmdzWzBdKTtcblxuXHRcdFx0aWYgKHR5cGVvZiBhcmdzWzBdICE9PSAnc3RyaW5nJykge1xuXHRcdFx0XHQvLyBBbnl0aGluZyBlbHNlIGxldCdzIGluc3BlY3Qgd2l0aCAlT1xuXHRcdFx0XHRhcmdzLnVuc2hpZnQoJyVPJyk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEFwcGx5IGFueSBgZm9ybWF0dGVyc2AgdHJhbnNmb3JtYXRpb25zXG5cdFx0XHRsZXQgaW5kZXggPSAwO1xuXHRcdFx0YXJnc1swXSA9IGFyZ3NbMF0ucmVwbGFjZSgvJShbYS16QS1aJV0pL2csIChtYXRjaCwgZm9ybWF0KSA9PiB7XG5cdFx0XHRcdC8vIElmIHdlIGVuY291bnRlciBhbiBlc2NhcGVkICUgdGhlbiBkb24ndCBpbmNyZWFzZSB0aGUgYXJyYXkgaW5kZXhcblx0XHRcdFx0aWYgKG1hdGNoID09PSAnJSUnKSB7XG5cdFx0XHRcdFx0cmV0dXJuICclJztcblx0XHRcdFx0fVxuXHRcdFx0XHRpbmRleCsrO1xuXHRcdFx0XHRjb25zdCBmb3JtYXR0ZXIgPSBjcmVhdGVEZWJ1Zy5mb3JtYXR0ZXJzW2Zvcm1hdF07XG5cdFx0XHRcdGlmICh0eXBlb2YgZm9ybWF0dGVyID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0Y29uc3QgdmFsID0gYXJnc1tpbmRleF07XG5cdFx0XHRcdFx0bWF0Y2ggPSBmb3JtYXR0ZXIuY2FsbChzZWxmLCB2YWwpO1xuXG5cdFx0XHRcdFx0Ly8gTm93IHdlIG5lZWQgdG8gcmVtb3ZlIGBhcmdzW2luZGV4XWAgc2luY2UgaXQncyBpbmxpbmVkIGluIHRoZSBgZm9ybWF0YFxuXHRcdFx0XHRcdGFyZ3Muc3BsaWNlKGluZGV4LCAxKTtcblx0XHRcdFx0XHRpbmRleC0tO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBtYXRjaDtcblx0XHRcdH0pO1xuXG5cdFx0XHQvLyBBcHBseSBlbnYtc3BlY2lmaWMgZm9ybWF0dGluZyAoY29sb3JzLCBldGMuKVxuXHRcdFx0Y3JlYXRlRGVidWcuZm9ybWF0QXJncy5jYWxsKHNlbGYsIGFyZ3MpO1xuXG5cdFx0XHRjb25zdCBsb2dGbiA9IHNlbGYubG9nIHx8IGNyZWF0ZURlYnVnLmxvZztcblx0XHRcdGxvZ0ZuLmFwcGx5KHNlbGYsIGFyZ3MpO1xuXHRcdH1cblxuXHRcdGRlYnVnLm5hbWVzcGFjZSA9IG5hbWVzcGFjZTtcblx0XHRkZWJ1Zy51c2VDb2xvcnMgPSBjcmVhdGVEZWJ1Zy51c2VDb2xvcnMoKTtcblx0XHRkZWJ1Zy5jb2xvciA9IGNyZWF0ZURlYnVnLnNlbGVjdENvbG9yKG5hbWVzcGFjZSk7XG5cdFx0ZGVidWcuZXh0ZW5kID0gZXh0ZW5kO1xuXHRcdGRlYnVnLmRlc3Ryb3kgPSBjcmVhdGVEZWJ1Zy5kZXN0cm95OyAvLyBYWFggVGVtcG9yYXJ5LiBXaWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgcmVsZWFzZS5cblxuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShkZWJ1ZywgJ2VuYWJsZWQnLCB7XG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcblx0XHRcdGdldDogKCkgPT4ge1xuXHRcdFx0XHRpZiAoZW5hYmxlT3ZlcnJpZGUgIT09IG51bGwpIHtcblx0XHRcdFx0XHRyZXR1cm4gZW5hYmxlT3ZlcnJpZGU7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKG5hbWVzcGFjZXNDYWNoZSAhPT0gY3JlYXRlRGVidWcubmFtZXNwYWNlcykge1xuXHRcdFx0XHRcdG5hbWVzcGFjZXNDYWNoZSA9IGNyZWF0ZURlYnVnLm5hbWVzcGFjZXM7XG5cdFx0XHRcdFx0ZW5hYmxlZENhY2hlID0gY3JlYXRlRGVidWcuZW5hYmxlZChuYW1lc3BhY2UpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGVuYWJsZWRDYWNoZTtcblx0XHRcdH0sXG5cdFx0XHRzZXQ6IHYgPT4ge1xuXHRcdFx0XHRlbmFibGVPdmVycmlkZSA9IHY7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHQvLyBFbnYtc3BlY2lmaWMgaW5pdGlhbGl6YXRpb24gbG9naWMgZm9yIGRlYnVnIGluc3RhbmNlc1xuXHRcdGlmICh0eXBlb2YgY3JlYXRlRGVidWcuaW5pdCA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0Y3JlYXRlRGVidWcuaW5pdChkZWJ1Zyk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGRlYnVnO1xuXHR9XG5cblx0ZnVuY3Rpb24gZXh0ZW5kKG5hbWVzcGFjZSwgZGVsaW1pdGVyKSB7XG5cdFx0Y29uc3QgbmV3RGVidWcgPSBjcmVhdGVEZWJ1Zyh0aGlzLm5hbWVzcGFjZSArICh0eXBlb2YgZGVsaW1pdGVyID09PSAndW5kZWZpbmVkJyA/ICc6JyA6IGRlbGltaXRlcikgKyBuYW1lc3BhY2UpO1xuXHRcdG5ld0RlYnVnLmxvZyA9IHRoaXMubG9nO1xuXHRcdHJldHVybiBuZXdEZWJ1Zztcblx0fVxuXG5cdC8qKlxuXHQqIEVuYWJsZXMgYSBkZWJ1ZyBtb2RlIGJ5IG5hbWVzcGFjZXMuIFRoaXMgY2FuIGluY2x1ZGUgbW9kZXNcblx0KiBzZXBhcmF0ZWQgYnkgYSBjb2xvbiBhbmQgd2lsZGNhcmRzLlxuXHQqXG5cdCogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZXNcblx0KiBAYXBpIHB1YmxpY1xuXHQqL1xuXHRmdW5jdGlvbiBlbmFibGUobmFtZXNwYWNlcykge1xuXHRcdGNyZWF0ZURlYnVnLnNhdmUobmFtZXNwYWNlcyk7XG5cdFx0Y3JlYXRlRGVidWcubmFtZXNwYWNlcyA9IG5hbWVzcGFjZXM7XG5cblx0XHRjcmVhdGVEZWJ1Zy5uYW1lcyA9IFtdO1xuXHRcdGNyZWF0ZURlYnVnLnNraXBzID0gW107XG5cblx0XHRjb25zdCBzcGxpdCA9ICh0eXBlb2YgbmFtZXNwYWNlcyA9PT0gJ3N0cmluZycgPyBuYW1lc3BhY2VzIDogJycpXG5cdFx0XHQudHJpbSgpXG5cdFx0XHQucmVwbGFjZSgvXFxzKy9nLCAnLCcpXG5cdFx0XHQuc3BsaXQoJywnKVxuXHRcdFx0LmZpbHRlcihCb29sZWFuKTtcblxuXHRcdGZvciAoY29uc3QgbnMgb2Ygc3BsaXQpIHtcblx0XHRcdGlmIChuc1swXSA9PT0gJy0nKSB7XG5cdFx0XHRcdGNyZWF0ZURlYnVnLnNraXBzLnB1c2gobnMuc2xpY2UoMSkpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y3JlYXRlRGVidWcubmFtZXMucHVzaChucyk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIENoZWNrcyBpZiB0aGUgZ2l2ZW4gc3RyaW5nIG1hdGNoZXMgYSBuYW1lc3BhY2UgdGVtcGxhdGUsIGhvbm9yaW5nXG5cdCAqIGFzdGVyaXNrcyBhcyB3aWxkY2FyZHMuXG5cdCAqXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBzZWFyY2hcblx0ICogQHBhcmFtIHtTdHJpbmd9IHRlbXBsYXRlXG5cdCAqIEByZXR1cm4ge0Jvb2xlYW59XG5cdCAqL1xuXHRmdW5jdGlvbiBtYXRjaGVzVGVtcGxhdGUoc2VhcmNoLCB0ZW1wbGF0ZSkge1xuXHRcdGxldCBzZWFyY2hJbmRleCA9IDA7XG5cdFx0bGV0IHRlbXBsYXRlSW5kZXggPSAwO1xuXHRcdGxldCBzdGFySW5kZXggPSAtMTtcblx0XHRsZXQgbWF0Y2hJbmRleCA9IDA7XG5cblx0XHR3aGlsZSAoc2VhcmNoSW5kZXggPCBzZWFyY2gubGVuZ3RoKSB7XG5cdFx0XHRpZiAodGVtcGxhdGVJbmRleCA8IHRlbXBsYXRlLmxlbmd0aCAmJiAodGVtcGxhdGVbdGVtcGxhdGVJbmRleF0gPT09IHNlYXJjaFtzZWFyY2hJbmRleF0gfHwgdGVtcGxhdGVbdGVtcGxhdGVJbmRleF0gPT09ICcqJykpIHtcblx0XHRcdFx0Ly8gTWF0Y2ggY2hhcmFjdGVyIG9yIHByb2NlZWQgd2l0aCB3aWxkY2FyZFxuXHRcdFx0XHRpZiAodGVtcGxhdGVbdGVtcGxhdGVJbmRleF0gPT09ICcqJykge1xuXHRcdFx0XHRcdHN0YXJJbmRleCA9IHRlbXBsYXRlSW5kZXg7XG5cdFx0XHRcdFx0bWF0Y2hJbmRleCA9IHNlYXJjaEluZGV4O1xuXHRcdFx0XHRcdHRlbXBsYXRlSW5kZXgrKzsgLy8gU2tpcCB0aGUgJyonXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0c2VhcmNoSW5kZXgrKztcblx0XHRcdFx0XHR0ZW1wbGF0ZUluZGV4Kys7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAoc3RhckluZGV4ICE9PSAtMSkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLW5lZ2F0ZWQtY29uZGl0aW9uXG5cdFx0XHRcdC8vIEJhY2t0cmFjayB0byB0aGUgbGFzdCAnKicgYW5kIHRyeSB0byBtYXRjaCBtb3JlIGNoYXJhY3RlcnNcblx0XHRcdFx0dGVtcGxhdGVJbmRleCA9IHN0YXJJbmRleCArIDE7XG5cdFx0XHRcdG1hdGNoSW5kZXgrKztcblx0XHRcdFx0c2VhcmNoSW5kZXggPSBtYXRjaEluZGV4O1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlOyAvLyBObyBtYXRjaFxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIEhhbmRsZSB0cmFpbGluZyAnKicgaW4gdGVtcGxhdGVcblx0XHR3aGlsZSAodGVtcGxhdGVJbmRleCA8IHRlbXBsYXRlLmxlbmd0aCAmJiB0ZW1wbGF0ZVt0ZW1wbGF0ZUluZGV4XSA9PT0gJyonKSB7XG5cdFx0XHR0ZW1wbGF0ZUluZGV4Kys7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRlbXBsYXRlSW5kZXggPT09IHRlbXBsYXRlLmxlbmd0aDtcblx0fVxuXG5cdC8qKlxuXHQqIERpc2FibGUgZGVidWcgb3V0cHV0LlxuXHQqXG5cdCogQHJldHVybiB7U3RyaW5nfSBuYW1lc3BhY2VzXG5cdCogQGFwaSBwdWJsaWNcblx0Ki9cblx0ZnVuY3Rpb24gZGlzYWJsZSgpIHtcblx0XHRjb25zdCBuYW1lc3BhY2VzID0gW1xuXHRcdFx0Li4uY3JlYXRlRGVidWcubmFtZXMsXG5cdFx0XHQuLi5jcmVhdGVEZWJ1Zy5za2lwcy5tYXAobmFtZXNwYWNlID0+ICctJyArIG5hbWVzcGFjZSlcblx0XHRdLmpvaW4oJywnKTtcblx0XHRjcmVhdGVEZWJ1Zy5lbmFibGUoJycpO1xuXHRcdHJldHVybiBuYW1lc3BhY2VzO1xuXHR9XG5cblx0LyoqXG5cdCogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiBtb2RlIG5hbWUgaXMgZW5hYmxlZCwgZmFsc2Ugb3RoZXJ3aXNlLlxuXHQqXG5cdCogQHBhcmFtIHtTdHJpbmd9IG5hbWVcblx0KiBAcmV0dXJuIHtCb29sZWFufVxuXHQqIEBhcGkgcHVibGljXG5cdCovXG5cdGZ1bmN0aW9uIGVuYWJsZWQobmFtZSkge1xuXHRcdGZvciAoY29uc3Qgc2tpcCBvZiBjcmVhdGVEZWJ1Zy5za2lwcykge1xuXHRcdFx0aWYgKG1hdGNoZXNUZW1wbGF0ZShuYW1lLCBza2lwKSkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Zm9yIChjb25zdCBucyBvZiBjcmVhdGVEZWJ1Zy5uYW1lcykge1xuXHRcdFx0aWYgKG1hdGNoZXNUZW1wbGF0ZShuYW1lLCBucykpIHtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0LyoqXG5cdCogQ29lcmNlIGB2YWxgLlxuXHQqXG5cdCogQHBhcmFtIHtNaXhlZH0gdmFsXG5cdCogQHJldHVybiB7TWl4ZWR9XG5cdCogQGFwaSBwcml2YXRlXG5cdCovXG5cdGZ1bmN0aW9uIGNvZXJjZSh2YWwpIHtcblx0XHRpZiAodmFsIGluc3RhbmNlb2YgRXJyb3IpIHtcblx0XHRcdHJldHVybiB2YWwuc3RhY2sgfHwgdmFsLm1lc3NhZ2U7XG5cdFx0fVxuXHRcdHJldHVybiB2YWw7XG5cdH1cblxuXHQvKipcblx0KiBYWFggRE8gTk9UIFVTRS4gVGhpcyBpcyBhIHRlbXBvcmFyeSBzdHViIGZ1bmN0aW9uLlxuXHQqIFhYWCBJdCBXSUxMIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgcmVsZWFzZS5cblx0Ki9cblx0ZnVuY3Rpb24gZGVzdHJveSgpIHtcblx0XHRjb25zb2xlLndhcm4oJ0luc3RhbmNlIG1ldGhvZCBgZGVidWcuZGVzdHJveSgpYCBpcyBkZXByZWNhdGVkIGFuZCBubyBsb25nZXIgZG9lcyBhbnl0aGluZy4gSXQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZXh0IG1ham9yIHZlcnNpb24gb2YgYGRlYnVnYC4nKTtcblx0fVxuXG5cdGNyZWF0ZURlYnVnLmVuYWJsZShjcmVhdGVEZWJ1Zy5sb2FkKCkpO1xuXG5cdHJldHVybiBjcmVhdGVEZWJ1Zztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzZXR1cDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/debug/src/common.js\n\n}");

/***/ },

/***/ "./node_modules/ms/index.js"
/*!**********************************!*\
  !*** ./node_modules/ms/index.js ***!
  \**********************************/
(module) {

eval("{/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function (val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbXMvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsZUFBZTtBQUMxQixXQUFXLFFBQVE7QUFDbkIsWUFBWSxPQUFPO0FBQ25CLFlBQVk7QUFDWjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFlBQVk7QUFDWjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFlBQVk7QUFDWjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixZQUFZO0FBQ1o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZXRyb2FwcC1jbGllbnQvLi9ub2RlX21vZHVsZXMvbXMvaW5kZXguanM/MTQ2OCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEhlbHBlcnMuXG4gKi9cblxudmFyIHMgPSAxMDAwO1xudmFyIG0gPSBzICogNjA7XG52YXIgaCA9IG0gKiA2MDtcbnZhciBkID0gaCAqIDI0O1xudmFyIHcgPSBkICogNztcbnZhciB5ID0gZCAqIDM2NS4yNTtcblxuLyoqXG4gKiBQYXJzZSBvciBmb3JtYXQgdGhlIGdpdmVuIGB2YWxgLlxuICpcbiAqIE9wdGlvbnM6XG4gKlxuICogIC0gYGxvbmdgIHZlcmJvc2UgZm9ybWF0dGluZyBbZmFsc2VdXG4gKlxuICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfSB2YWxcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAqIEB0aHJvd3Mge0Vycm9yfSB0aHJvdyBhbiBlcnJvciBpZiB2YWwgaXMgbm90IGEgbm9uLWVtcHR5IHN0cmluZyBvciBhIG51bWJlclxuICogQHJldHVybiB7U3RyaW5nfE51bWJlcn1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodmFsLCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWw7XG4gIGlmICh0eXBlID09PSAnc3RyaW5nJyAmJiB2YWwubGVuZ3RoID4gMCkge1xuICAgIHJldHVybiBwYXJzZSh2YWwpO1xuICB9IGVsc2UgaWYgKHR5cGUgPT09ICdudW1iZXInICYmIGlzRmluaXRlKHZhbCkpIHtcbiAgICByZXR1cm4gb3B0aW9ucy5sb25nID8gZm10TG9uZyh2YWwpIDogZm10U2hvcnQodmFsKTtcbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgJ3ZhbCBpcyBub3QgYSBub24tZW1wdHkgc3RyaW5nIG9yIGEgdmFsaWQgbnVtYmVyLiB2YWw9JyArXG4gICAgICBKU09OLnN0cmluZ2lmeSh2YWwpXG4gICk7XG59O1xuXG4vKipcbiAqIFBhcnNlIHRoZSBnaXZlbiBgc3RyYCBhbmQgcmV0dXJuIG1pbGxpc2Vjb25kcy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBwYXJzZShzdHIpIHtcbiAgc3RyID0gU3RyaW5nKHN0cik7XG4gIGlmIChzdHIubGVuZ3RoID4gMTAwKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBtYXRjaCA9IC9eKC0/KD86XFxkKyk/XFwuP1xcZCspICoobWlsbGlzZWNvbmRzP3xtc2Vjcz98bXN8c2Vjb25kcz98c2Vjcz98c3xtaW51dGVzP3xtaW5zP3xtfGhvdXJzP3xocnM/fGh8ZGF5cz98ZHx3ZWVrcz98d3x5ZWFycz98eXJzP3x5KT8kL2kuZXhlYyhcbiAgICBzdHJcbiAgKTtcbiAgaWYgKCFtYXRjaCkge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgbiA9IHBhcnNlRmxvYXQobWF0Y2hbMV0pO1xuICB2YXIgdHlwZSA9IChtYXRjaFsyXSB8fCAnbXMnKS50b0xvd2VyQ2FzZSgpO1xuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlICd5ZWFycyc6XG4gICAgY2FzZSAneWVhcic6XG4gICAgY2FzZSAneXJzJzpcbiAgICBjYXNlICd5cic6XG4gICAgY2FzZSAneSc6XG4gICAgICByZXR1cm4gbiAqIHk7XG4gICAgY2FzZSAnd2Vla3MnOlxuICAgIGNhc2UgJ3dlZWsnOlxuICAgIGNhc2UgJ3cnOlxuICAgICAgcmV0dXJuIG4gKiB3O1xuICAgIGNhc2UgJ2RheXMnOlxuICAgIGNhc2UgJ2RheSc6XG4gICAgY2FzZSAnZCc6XG4gICAgICByZXR1cm4gbiAqIGQ7XG4gICAgY2FzZSAnaG91cnMnOlxuICAgIGNhc2UgJ2hvdXInOlxuICAgIGNhc2UgJ2hycyc6XG4gICAgY2FzZSAnaHInOlxuICAgIGNhc2UgJ2gnOlxuICAgICAgcmV0dXJuIG4gKiBoO1xuICAgIGNhc2UgJ21pbnV0ZXMnOlxuICAgIGNhc2UgJ21pbnV0ZSc6XG4gICAgY2FzZSAnbWlucyc6XG4gICAgY2FzZSAnbWluJzpcbiAgICBjYXNlICdtJzpcbiAgICAgIHJldHVybiBuICogbTtcbiAgICBjYXNlICdzZWNvbmRzJzpcbiAgICBjYXNlICdzZWNvbmQnOlxuICAgIGNhc2UgJ3NlY3MnOlxuICAgIGNhc2UgJ3NlYyc6XG4gICAgY2FzZSAncyc6XG4gICAgICByZXR1cm4gbiAqIHM7XG4gICAgY2FzZSAnbWlsbGlzZWNvbmRzJzpcbiAgICBjYXNlICdtaWxsaXNlY29uZCc6XG4gICAgY2FzZSAnbXNlY3MnOlxuICAgIGNhc2UgJ21zZWMnOlxuICAgIGNhc2UgJ21zJzpcbiAgICAgIHJldHVybiBuO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG59XG5cbi8qKlxuICogU2hvcnQgZm9ybWF0IGZvciBgbXNgLlxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBtc1xuICogQHJldHVybiB7U3RyaW5nfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gZm10U2hvcnQobXMpIHtcbiAgdmFyIG1zQWJzID0gTWF0aC5hYnMobXMpO1xuICBpZiAobXNBYnMgPj0gZCkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gZCkgKyAnZCc7XG4gIH1cbiAgaWYgKG1zQWJzID49IGgpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIGgpICsgJ2gnO1xuICB9XG4gIGlmIChtc0FicyA+PSBtKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBtKSArICdtJztcbiAgfVxuICBpZiAobXNBYnMgPj0gcykge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gcykgKyAncyc7XG4gIH1cbiAgcmV0dXJuIG1zICsgJ21zJztcbn1cblxuLyoqXG4gKiBMb25nIGZvcm1hdCBmb3IgYG1zYC5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gbXNcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGZtdExvbmcobXMpIHtcbiAgdmFyIG1zQWJzID0gTWF0aC5hYnMobXMpO1xuICBpZiAobXNBYnMgPj0gZCkge1xuICAgIHJldHVybiBwbHVyYWwobXMsIG1zQWJzLCBkLCAnZGF5Jyk7XG4gIH1cbiAgaWYgKG1zQWJzID49IGgpIHtcbiAgICByZXR1cm4gcGx1cmFsKG1zLCBtc0FicywgaCwgJ2hvdXInKTtcbiAgfVxuICBpZiAobXNBYnMgPj0gbSkge1xuICAgIHJldHVybiBwbHVyYWwobXMsIG1zQWJzLCBtLCAnbWludXRlJyk7XG4gIH1cbiAgaWYgKG1zQWJzID49IHMpIHtcbiAgICByZXR1cm4gcGx1cmFsKG1zLCBtc0FicywgcywgJ3NlY29uZCcpO1xuICB9XG4gIHJldHVybiBtcyArICcgbXMnO1xufVxuXG4vKipcbiAqIFBsdXJhbGl6YXRpb24gaGVscGVyLlxuICovXG5cbmZ1bmN0aW9uIHBsdXJhbChtcywgbXNBYnMsIG4sIG5hbWUpIHtcbiAgdmFyIGlzUGx1cmFsID0gbXNBYnMgPj0gbiAqIDEuNTtcbiAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBuKSArICcgJyArIG5hbWUgKyAoaXNQbHVyYWwgPyAncycgOiAnJyk7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/ms/index.js\n\n}");

/***/ },

/***/ "./src/styles.css"
/*!************************!*\
  !*** ./src/styles.css ***!
  \************************/
(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ \"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/styleDomAPI.js */ \"./node_modules/style-loader/dist/runtime/styleDomAPI.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/insertBySelector.js */ \"./node_modules/style-loader/dist/runtime/insertBySelector.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ \"./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/insertStyleElement.js */ \"./node_modules/style-loader/dist/runtime/insertStyleElement.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/styleTagTransform.js */ \"./node_modules/style-loader/dist/runtime/styleTagTransform.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _node_modules_css_loader_dist_cjs_js_styles_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../node_modules/css-loader/dist/cjs.js!./styles.css */ \"./node_modules/css-loader/dist/cjs.js!./src/styles.css\");\n\n      \n      \n      \n      \n      \n      \n      \n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());\noptions.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());\n\n      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, \"head\");\n    \noptions.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());\noptions.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());\n\nvar update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_styles_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"], options);\n\n\n\n\n       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_styles_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"] && _node_modules_css_loader_dist_cjs_js_styles_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"].locals ? _node_modules_css_loader_dist_cjs_js_styles_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"].locals : undefined);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc3R5bGVzLmNzcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQSxNQUErRjtBQUMvRixNQUFxRjtBQUNyRixNQUE0RjtBQUM1RixNQUErRztBQUMvRyxNQUF3RztBQUN4RyxNQUF3RztBQUN4RyxNQUFvRztBQUNwRztBQUNBOztBQUVBOztBQUVBLDRCQUE0QixxR0FBbUI7QUFDL0Msd0JBQXdCLGtIQUFhOztBQUVyQyx1QkFBdUIsdUdBQWE7QUFDcEM7QUFDQSxpQkFBaUIsK0ZBQU07QUFDdkIsNkJBQTZCLHNHQUFrQjs7QUFFL0MsYUFBYSwwR0FBRyxDQUFDLHVGQUFPOzs7O0FBSThDO0FBQ3RFLE9BQU8saUVBQWUsdUZBQU8sSUFBSSx1RkFBTyxVQUFVLHVGQUFPLG1CQUFtQixFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmV0cm9hcHAtY2xpZW50Ly4vc3JjL3N0eWxlcy5jc3M/NDRiMiJdLCJzb3VyY2VzQ29udGVudCI6WyJcbiAgICAgIGltcG9ydCBBUEkgZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIjtcbiAgICAgIGltcG9ydCBkb21BUEkgZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydEZuIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0QnlTZWxlY3Rvci5qc1wiO1xuICAgICAgaW1wb3J0IHNldEF0dHJpYnV0ZXMgZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRTdHlsZUVsZW1lbnQgZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanNcIjtcbiAgICAgIGltcG9ydCBzdHlsZVRhZ1RyYW5zZm9ybUZuIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanNcIjtcbiAgICAgIGltcG9ydCBjb250ZW50LCAqIGFzIG5hbWVkRXhwb3J0IGZyb20gXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGVzLmNzc1wiO1xuICAgICAgXG4gICAgICBcblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybSA9IHN0eWxlVGFnVHJhbnNmb3JtRm47XG5vcHRpb25zLnNldEF0dHJpYnV0ZXMgPSBzZXRBdHRyaWJ1dGVzO1xuXG4gICAgICBvcHRpb25zLmluc2VydCA9IGluc2VydEZuLmJpbmQobnVsbCwgXCJoZWFkXCIpO1xuICAgIFxub3B0aW9ucy5kb21BUEkgPSBkb21BUEk7XG5vcHRpb25zLmluc2VydFN0eWxlRWxlbWVudCA9IGluc2VydFN0eWxlRWxlbWVudDtcblxudmFyIHVwZGF0ZSA9IEFQSShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbmV4cG9ydCAqIGZyb20gXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGVzLmNzc1wiO1xuICAgICAgIGV4cG9ydCBkZWZhdWx0IGNvbnRlbnQgJiYgY29udGVudC5sb2NhbHMgPyBjb250ZW50LmxvY2FscyA6IHVuZGVmaW5lZDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/styles.css\n\n}");

/***/ },

/***/ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"
/*!****************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js ***!
  \****************************************************************************/
(module) {

"use strict";
eval("{\n\nvar stylesInDOM = [];\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n  for (var i = 0; i < stylesInDOM.length; i++) {\n    if (stylesInDOM[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n  return result;\n}\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var indexByIdentifier = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3],\n      supports: item[4],\n      layer: item[5]\n    };\n    if (indexByIdentifier !== -1) {\n      stylesInDOM[indexByIdentifier].references++;\n      stylesInDOM[indexByIdentifier].updater(obj);\n    } else {\n      var updater = addElementStyle(obj, options);\n      options.byIndex = i;\n      stylesInDOM.splice(i, 0, {\n        identifier: identifier,\n        updater: updater,\n        references: 1\n      });\n    }\n    identifiers.push(identifier);\n  }\n  return identifiers;\n}\nfunction addElementStyle(obj, options) {\n  var api = options.domAPI(options);\n  api.update(obj);\n  var updater = function updater(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {\n        return;\n      }\n      api.update(obj = newObj);\n    } else {\n      api.remove();\n    }\n  };\n  return updater;\n}\nmodule.exports = function (list, options) {\n  options = options || {};\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDOM[index].references--;\n    }\n    var newLastIdentifiers = modulesToDom(newList, options);\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n      var _index = getIndexByIdentifier(_identifier);\n      if (stylesInDOM[_index].references === 0) {\n        stylesInDOM[_index].updater();\n        stylesInDOM.splice(_index, 1);\n      }\n    }\n    lastIdentifiers = newLastIdentifiers;\n  };\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLHdCQUF3QjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixpQkFBaUI7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiw0QkFBNEI7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQiw2QkFBNkI7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZXRyb2FwcC1jbGllbnQvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanM/MmRiYSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxudmFyIHN0eWxlc0luRE9NID0gW107XG5mdW5jdGlvbiBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gIHZhciByZXN1bHQgPSAtMTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXNJbkRPTS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChzdHlsZXNJbkRPTVtpXS5pZGVudGlmaWVyID09PSBpZGVudGlmaWVyKSB7XG4gICAgICByZXN1bHQgPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucykge1xuICB2YXIgaWRDb3VudE1hcCA9IHt9O1xuICB2YXIgaWRlbnRpZmllcnMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBsaXN0W2ldO1xuICAgIHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuICAgIHZhciBjb3VudCA9IGlkQ291bnRNYXBbaWRdIHx8IDA7XG4gICAgdmFyIGlkZW50aWZpZXIgPSBcIlwiLmNvbmNhdChpZCwgXCIgXCIpLmNvbmNhdChjb3VudCk7XG4gICAgaWRDb3VudE1hcFtpZF0gPSBjb3VudCArIDE7XG4gICAgdmFyIGluZGV4QnlJZGVudGlmaWVyID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgdmFyIG9iaiA9IHtcbiAgICAgIGNzczogaXRlbVsxXSxcbiAgICAgIG1lZGlhOiBpdGVtWzJdLFxuICAgICAgc291cmNlTWFwOiBpdGVtWzNdLFxuICAgICAgc3VwcG9ydHM6IGl0ZW1bNF0sXG4gICAgICBsYXllcjogaXRlbVs1XVxuICAgIH07XG4gICAgaWYgKGluZGV4QnlJZGVudGlmaWVyICE9PSAtMSkge1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhCeUlkZW50aWZpZXJdLnJlZmVyZW5jZXMrKztcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4QnlJZGVudGlmaWVyXS51cGRhdGVyKG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciB1cGRhdGVyID0gYWRkRWxlbWVudFN0eWxlKG9iaiwgb3B0aW9ucyk7XG4gICAgICBvcHRpb25zLmJ5SW5kZXggPSBpO1xuICAgICAgc3R5bGVzSW5ET00uc3BsaWNlKGksIDAsIHtcbiAgICAgICAgaWRlbnRpZmllcjogaWRlbnRpZmllcixcbiAgICAgICAgdXBkYXRlcjogdXBkYXRlcixcbiAgICAgICAgcmVmZXJlbmNlczogMVxuICAgICAgfSk7XG4gICAgfVxuICAgIGlkZW50aWZpZXJzLnB1c2goaWRlbnRpZmllcik7XG4gIH1cbiAgcmV0dXJuIGlkZW50aWZpZXJzO1xufVxuZnVuY3Rpb24gYWRkRWxlbWVudFN0eWxlKG9iaiwgb3B0aW9ucykge1xuICB2YXIgYXBpID0gb3B0aW9ucy5kb21BUEkob3B0aW9ucyk7XG4gIGFwaS51cGRhdGUob2JqKTtcbiAgdmFyIHVwZGF0ZXIgPSBmdW5jdGlvbiB1cGRhdGVyKG5ld09iaikge1xuICAgIGlmIChuZXdPYmopIHtcbiAgICAgIGlmIChuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXAgJiYgbmV3T2JqLnN1cHBvcnRzID09PSBvYmouc3VwcG9ydHMgJiYgbmV3T2JqLmxheWVyID09PSBvYmoubGF5ZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYXBpLnVwZGF0ZShvYmogPSBuZXdPYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVtb3ZlKCk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gdXBkYXRlcjtcbn1cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGxpc3QsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIGxpc3QgPSBsaXN0IHx8IFtdO1xuICB2YXIgbGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcbiAgICBuZXdMaXN0ID0gbmV3TGlzdCB8fCBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGlkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbaV07XG4gICAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4XS5yZWZlcmVuY2VzLS07XG4gICAgfVxuICAgIHZhciBuZXdMYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obmV3TGlzdCwgb3B0aW9ucyk7XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBfaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tfaV07XG4gICAgICB2YXIgX2luZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoX2lkZW50aWZpZXIpO1xuICAgICAgaWYgKHN0eWxlc0luRE9NW19pbmRleF0ucmVmZXJlbmNlcyA9PT0gMCkge1xuICAgICAgICBzdHlsZXNJbkRPTVtfaW5kZXhdLnVwZGF0ZXIoKTtcbiAgICAgICAgc3R5bGVzSW5ET00uc3BsaWNlKF9pbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuICAgIGxhc3RJZGVudGlmaWVycyA9IG5ld0xhc3RJZGVudGlmaWVycztcbiAgfTtcbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\n\n}");

/***/ },

/***/ "./node_modules/style-loader/dist/runtime/insertBySelector.js"
/*!********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/insertBySelector.js ***!
  \********************************************************************/
(module) {

"use strict";
eval("{\n\nvar memo = {};\n\n/* istanbul ignore next  */\nfunction getTarget(target) {\n  if (typeof memo[target] === \"undefined\") {\n    var styleTarget = document.querySelector(target);\n\n    // Special case to return head of iframe instead of iframe itself\n    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n      try {\n        // This will throw an exception if access to iframe is blocked\n        // due to cross-origin restrictions\n        styleTarget = styleTarget.contentDocument.head;\n      } catch (e) {\n        // istanbul ignore next\n        styleTarget = null;\n      }\n    }\n    memo[target] = styleTarget;\n  }\n  return memo[target];\n}\n\n/* istanbul ignore next  */\nfunction insertBySelector(insert, style) {\n  var target = getTarget(insert);\n  if (!target) {\n    throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n  }\n  target.appendChild(style);\n}\nmodule.exports = insertBySelector;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3JldHJvYXBwLWNsaWVudC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanM/YjIxNCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxudmFyIG1lbW8gPSB7fTtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBnZXRUYXJnZXQodGFyZ2V0KSB7XG4gIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgdmFyIHN0eWxlVGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpO1xuXG4gICAgLy8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcbiAgICBpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuICAgICAgICAvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuICAgICAgICBzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICBzdHlsZVRhcmdldCA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuICAgIG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuICB9XG4gIHJldHVybiBtZW1vW3RhcmdldF07XG59XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gaW5zZXJ0QnlTZWxlY3RvcihpbnNlcnQsIHN0eWxlKSB7XG4gIHZhciB0YXJnZXQgPSBnZXRUYXJnZXQoaW5zZXJ0KTtcbiAgaWYgKCF0YXJnZXQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydCcgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuICB9XG4gIHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGluc2VydEJ5U2VsZWN0b3I7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/style-loader/dist/runtime/insertBySelector.js\n\n}");

/***/ },

/***/ "./node_modules/style-loader/dist/runtime/insertStyleElement.js"
/*!**********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/insertStyleElement.js ***!
  \**********************************************************************/
(module) {

"use strict";
eval("{\n\n/* istanbul ignore next  */\nfunction insertStyleElement(options) {\n  var element = document.createElement(\"style\");\n  options.setAttributes(element, options.attributes);\n  options.insert(element, options.options);\n  return element;\n}\nmodule.exports = insertStyleElement;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3JldHJvYXBwLWNsaWVudC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qcz9kZTZjIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSB7XG4gIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICBvcHRpb25zLnNldEF0dHJpYnV0ZXMoZWxlbWVudCwgb3B0aW9ucy5hdHRyaWJ1dGVzKTtcbiAgb3B0aW9ucy5pbnNlcnQoZWxlbWVudCwgb3B0aW9ucy5vcHRpb25zKTtcbiAgcmV0dXJuIGVsZW1lbnQ7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGluc2VydFN0eWxlRWxlbWVudDsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/style-loader/dist/runtime/insertStyleElement.js\n\n}");

/***/ },

/***/ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"
/*!**********************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js ***!
  \**********************************************************************************/
(module, __unused_webpack_exports, __webpack_require__) {

"use strict";
eval("{\n\n/* istanbul ignore next  */\nfunction setAttributesWithoutAttributes(styleElement) {\n  var nonce =  true ? __webpack_require__.nc : 0;\n  if (nonce) {\n    styleElement.setAttribute(\"nonce\", nonce);\n  }\n}\nmodule.exports = setAttributesWithoutAttributes;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWI7QUFDQTtBQUNBLGNBQWMsS0FBd0MsR0FBRyxzQkFBaUIsR0FBRyxDQUFJO0FBQ2pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZXRyb2FwcC1jbGllbnQvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanM/ZGRjZSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBzZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMoc3R5bGVFbGVtZW50KSB7XG4gIHZhciBub25jZSA9IHR5cGVvZiBfX3dlYnBhY2tfbm9uY2VfXyAhPT0gXCJ1bmRlZmluZWRcIiA/IF9fd2VicGFja19ub25jZV9fIDogbnVsbDtcbiAgaWYgKG5vbmNlKSB7XG4gICAgc3R5bGVFbGVtZW50LnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsIG5vbmNlKTtcbiAgfVxufVxubW9kdWxlLmV4cG9ydHMgPSBzZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXM7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\n\n}");

/***/ },

/***/ "./node_modules/style-loader/dist/runtime/styleDomAPI.js"
/*!***************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/styleDomAPI.js ***!
  \***************************************************************/
(module) {

"use strict";
eval("{\n\n/* istanbul ignore next  */\nfunction apply(styleElement, options, obj) {\n  var css = \"\";\n  if (obj.supports) {\n    css += \"@supports (\".concat(obj.supports, \") {\");\n  }\n  if (obj.media) {\n    css += \"@media \".concat(obj.media, \" {\");\n  }\n  var needLayer = typeof obj.layer !== \"undefined\";\n  if (needLayer) {\n    css += \"@layer\".concat(obj.layer.length > 0 ? \" \".concat(obj.layer) : \"\", \" {\");\n  }\n  css += obj.css;\n  if (needLayer) {\n    css += \"}\";\n  }\n  if (obj.media) {\n    css += \"}\";\n  }\n  if (obj.supports) {\n    css += \"}\";\n  }\n  var sourceMap = obj.sourceMap;\n  if (sourceMap && typeof btoa !== \"undefined\") {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  }\n\n  // For old IE\n  /* istanbul ignore if  */\n  options.styleTagTransform(css, styleElement, options.options);\n}\nfunction removeStyleElement(styleElement) {\n  // istanbul ignore if\n  if (styleElement.parentNode === null) {\n    return false;\n  }\n  styleElement.parentNode.removeChild(styleElement);\n}\n\n/* istanbul ignore next  */\nfunction domAPI(options) {\n  if (typeof document === \"undefined\") {\n    return {\n      update: function update() {},\n      remove: function remove() {}\n    };\n  }\n  var styleElement = options.insertStyleElement(options);\n  return {\n    update: function update(obj) {\n      apply(styleElement, options, obj);\n    },\n    remove: function remove() {\n      removeStyleElement(styleElement);\n    }\n  };\n}\nmodule.exports = domAPI;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRDtBQUNsRDtBQUNBO0FBQ0EsMENBQTBDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBLGlGQUFpRjtBQUNqRjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RDtBQUN6RDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3JldHJvYXBwLWNsaWVudC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzP2U0NzkiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gYXBwbHkoc3R5bGVFbGVtZW50LCBvcHRpb25zLCBvYmopIHtcbiAgdmFyIGNzcyA9IFwiXCI7XG4gIGlmIChvYmouc3VwcG9ydHMpIHtcbiAgICBjc3MgKz0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChvYmouc3VwcG9ydHMsIFwiKSB7XCIpO1xuICB9XG4gIGlmIChvYmoubWVkaWEpIHtcbiAgICBjc3MgKz0gXCJAbWVkaWEgXCIuY29uY2F0KG9iai5tZWRpYSwgXCIge1wiKTtcbiAgfVxuICB2YXIgbmVlZExheWVyID0gdHlwZW9mIG9iai5sYXllciAhPT0gXCJ1bmRlZmluZWRcIjtcbiAgaWYgKG5lZWRMYXllcikge1xuICAgIGNzcyArPSBcIkBsYXllclwiLmNvbmNhdChvYmoubGF5ZXIubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChvYmoubGF5ZXIpIDogXCJcIiwgXCIge1wiKTtcbiAgfVxuICBjc3MgKz0gb2JqLmNzcztcbiAgaWYgKG5lZWRMYXllcikge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuICBpZiAob2JqLm1lZGlhKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG4gIGlmIChvYmouc3VwcG9ydHMpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cbiAgdmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG4gIGlmIChzb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiLmNvbmNhdChidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpLCBcIiAqL1wiKTtcbiAgfVxuXG4gIC8vIEZvciBvbGQgSUVcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuICBvcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtKGNzcywgc3R5bGVFbGVtZW50LCBvcHRpb25zLm9wdGlvbnMpO1xufVxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCkge1xuICAvLyBpc3RhbmJ1bCBpZ25vcmUgaWZcbiAgaWYgKHN0eWxlRWxlbWVudC5wYXJlbnROb2RlID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHN0eWxlRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudCk7XG59XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gZG9tQVBJKG9wdGlvbnMpIHtcbiAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHJldHVybiB7XG4gICAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZSgpIHt9LFxuICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7fVxuICAgIH07XG4gIH1cbiAgdmFyIHN0eWxlRWxlbWVudCA9IG9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuICByZXR1cm4ge1xuICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKG9iaikge1xuICAgICAgYXBwbHkoc3R5bGVFbGVtZW50LCBvcHRpb25zLCBvYmopO1xuICAgIH0sXG4gICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KTtcbiAgICB9XG4gIH07XG59XG5tb2R1bGUuZXhwb3J0cyA9IGRvbUFQSTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/style-loader/dist/runtime/styleDomAPI.js\n\n}");

/***/ },

/***/ "./node_modules/style-loader/dist/runtime/styleTagTransform.js"
/*!*********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/styleTagTransform.js ***!
  \*********************************************************************/
(module) {

"use strict";
eval("{\n\n/* istanbul ignore next  */\nfunction styleTagTransform(css, styleElement) {\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css;\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild);\n    }\n    styleElement.appendChild(document.createTextNode(css));\n  }\n}\nmodule.exports = styleTagTransform;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3JldHJvYXBwLWNsaWVudC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlVGFnVHJhbnNmb3JtLmpzPzFkZGUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gc3R5bGVUYWdUcmFuc2Zvcm0oY3NzLCBzdHlsZUVsZW1lbnQpIHtcbiAgaWYgKHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcbiAgfSBlbHNlIHtcbiAgICB3aGlsZSAoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpIHtcbiAgICAgIHN0eWxlRWxlbWVudC5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCk7XG4gICAgfVxuICAgIHN0eWxlRWxlbWVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcbiAgfVxufVxubW9kdWxlLmV4cG9ydHMgPSBzdHlsZVRhZ1RyYW5zZm9ybTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/style-loader/dist/runtime/styleTagTransform.js\n\n}");

/***/ },

/***/ "./src/main.ts"
/*!*********************!*\
  !*** ./src/main.ts ***!
  \*********************/
(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var aurelia__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! aurelia */ \"./node_modules/aurelia/dist/esm/index.mjs\");\n/* harmony import */ var aurelia__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! aurelia */ \"./node_modules/@aurelia/kernel/dist/esm/index.mjs\");\n/* harmony import */ var _aurelia_router_lite__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @aurelia/router-lite */ \"./node_modules/@aurelia/router-lite/dist/esm/index.mjs\");\n/* harmony import */ var _my_app__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./my-app */ \"./src/my-app.ts\");\n/* harmony import */ var _services_socket_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./services/socket-service */ \"./src/services/socket-service.ts\");\n/* harmony import */ var _services_retro_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./services/retro-service */ \"./src/services/retro-service.ts\");\n/* harmony import */ var _styles_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./styles.css */ \"./src/styles.css\");\n\n\n\n\n\n\nconst au = new aurelia__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n// Register singletons\nconst socketService = new _services_socket_service__WEBPACK_IMPORTED_MODULE_4__.SocketService();\nconst retroService = new _services_retro_service__WEBPACK_IMPORTED_MODULE_5__.RetroService(socketService);\nau.register(_aurelia_router_lite__WEBPACK_IMPORTED_MODULE_2__.RouterConfiguration.customize({ useUrlFragmentHash: false }), aurelia__WEBPACK_IMPORTED_MODULE_1__.Registration.instance(_services_socket_service__WEBPACK_IMPORTED_MODULE_4__.SocketService, socketService), aurelia__WEBPACK_IMPORTED_MODULE_1__.Registration.instance(_services_retro_service__WEBPACK_IMPORTED_MODULE_5__.RetroService, retroService));\nau.app({ host: document.querySelector('my-app'), component: _my_app__WEBPACK_IMPORTED_MODULE_3__.MyApp });\nau.start();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbWFpbi50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFnRDtBQUNXO0FBQzFCO0FBQ3lCO0FBQ0Y7QUFDbEM7QUFFdEIsTUFBTSxFQUFFLEdBQUcsSUFBSSwrQ0FBTyxFQUFFLENBQUM7QUFFekIsc0JBQXNCO0FBQ3RCLE1BQU0sYUFBYSxHQUFHLElBQUksbUVBQWEsRUFBRSxDQUFDO0FBQzFDLE1BQU0sWUFBWSxHQUFHLElBQUksaUVBQVksQ0FBQyxhQUFhLENBQUMsQ0FBQztBQUVyRCxFQUFFLENBQUMsUUFBUSxDQUNULHFFQUFtQixDQUFDLFNBQVMsQ0FBQyxFQUFFLGtCQUFrQixFQUFFLEtBQUssRUFBRSxDQUFDLEVBQzVELGlEQUFZLENBQUMsUUFBUSxDQUFDLG1FQUFhLEVBQUUsYUFBYSxDQUFDLEVBQ25ELGlEQUFZLENBQUMsUUFBUSxDQUFDLGlFQUFZLEVBQUUsWUFBWSxDQUFDLENBQ2xELENBQUM7QUFFRixFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsSUFBSSxFQUFFLFFBQVEsQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFFLEVBQUUsU0FBUyxFQUFFLDBDQUFLLEVBQUUsQ0FBQyxDQUFDO0FBQ3RFLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3JldHJvYXBwLWNsaWVudC8uL3NyYy9tYWluLnRzP2NkNDkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEF1cmVsaWEsIHsgUmVnaXN0cmF0aW9uIH0gZnJvbSAnYXVyZWxpYSc7XHJcbmltcG9ydCB7IFJvdXRlckNvbmZpZ3VyYXRpb24gfSBmcm9tICdAYXVyZWxpYS9yb3V0ZXItbGl0ZSc7XHJcbmltcG9ydCB7IE15QXBwIH0gZnJvbSAnLi9teS1hcHAnO1xyXG5pbXBvcnQgeyBTb2NrZXRTZXJ2aWNlIH0gZnJvbSAnLi9zZXJ2aWNlcy9zb2NrZXQtc2VydmljZSc7XHJcbmltcG9ydCB7IFJldHJvU2VydmljZSB9IGZyb20gJy4vc2VydmljZXMvcmV0cm8tc2VydmljZSc7XHJcbmltcG9ydCAnLi9zdHlsZXMuY3NzJztcclxuXHJcbmNvbnN0IGF1ID0gbmV3IEF1cmVsaWEoKTtcclxuXHJcbi8vIFJlZ2lzdGVyIHNpbmdsZXRvbnNcclxuY29uc3Qgc29ja2V0U2VydmljZSA9IG5ldyBTb2NrZXRTZXJ2aWNlKCk7XHJcbmNvbnN0IHJldHJvU2VydmljZSA9IG5ldyBSZXRyb1NlcnZpY2Uoc29ja2V0U2VydmljZSk7XHJcblxyXG5hdS5yZWdpc3RlcihcclxuICBSb3V0ZXJDb25maWd1cmF0aW9uLmN1c3RvbWl6ZSh7IHVzZVVybEZyYWdtZW50SGFzaDogZmFsc2UgfSksXHJcbiAgUmVnaXN0cmF0aW9uLmluc3RhbmNlKFNvY2tldFNlcnZpY2UsIHNvY2tldFNlcnZpY2UpLFxyXG4gIFJlZ2lzdHJhdGlvbi5pbnN0YW5jZShSZXRyb1NlcnZpY2UsIHJldHJvU2VydmljZSlcclxuKTtcclxuXHJcbmF1LmFwcCh7IGhvc3Q6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ215LWFwcCcpISwgY29tcG9uZW50OiBNeUFwcCB9KTtcclxuYXUuc3RhcnQoKTtcclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/main.ts\n\n}");

/***/ },

/***/ "./src/models/interfaces.ts"
/*!**********************************!*\
  !*** ./src/models/interfaces.ts ***!
  \**********************************/
(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NEXT_PHASE_LABELS: () => (/* binding */ NEXT_PHASE_LABELS),\n/* harmony export */   PHASE_LABELS: () => (/* binding */ PHASE_LABELS),\n/* harmony export */   PHASE_ORDER: () => (/* binding */ PHASE_ORDER),\n/* harmony export */   RetroPhase: () => (/* binding */ RetroPhase)\n/* harmony export */ });\nvar RetroPhase;\n(function (RetroPhase) {\n    RetroPhase[\"LOBBY\"] = \"lobby\";\n    RetroPhase[\"GOOD_ITEMS\"] = \"good_items\";\n    RetroPhase[\"GOOD_VOTING\"] = \"good_voting\";\n    RetroPhase[\"IMPROVE_ITEMS\"] = \"improve_items\";\n    RetroPhase[\"IMPROVE_VOTING\"] = \"improve_voting\";\n    RetroPhase[\"BRAINSTORMING\"] = \"brainstorming\";\n    RetroPhase[\"ACTION_POINTS\"] = \"action_points\";\n    RetroPhase[\"CLOSED\"] = \"closed\";\n})(RetroPhase || (RetroPhase = {}));\nconst PHASE_ORDER = [\n    RetroPhase.LOBBY,\n    RetroPhase.GOOD_ITEMS,\n    RetroPhase.GOOD_VOTING,\n    RetroPhase.IMPROVE_ITEMS,\n    RetroPhase.IMPROVE_VOTING,\n    RetroPhase.BRAINSTORMING,\n    RetroPhase.ACTION_POINTS,\n    RetroPhase.CLOSED\n];\nconst PHASE_LABELS = {\n    [RetroPhase.LOBBY]: 'Lobby - Waiting for participants',\n    [RetroPhase.GOOD_ITEMS]: 'What Went Well',\n    [RetroPhase.GOOD_VOTING]: 'Vote: What Went Well',\n    [RetroPhase.IMPROVE_ITEMS]: 'What Could Be Better',\n    [RetroPhase.IMPROVE_VOTING]: 'Vote: What Could Be Better',\n    [RetroPhase.BRAINSTORMING]: 'Brainstorming',\n    [RetroPhase.ACTION_POINTS]: 'Action Points',\n    [RetroPhase.CLOSED]: 'Retrospective Closed'\n};\nconst NEXT_PHASE_LABELS = {\n    [RetroPhase.LOBBY]: 'Start: What Went Well',\n    [RetroPhase.GOOD_ITEMS]: 'Start Voting: What Went Well',\n    [RetroPhase.GOOD_VOTING]: 'Start: What Could Be Better',\n    [RetroPhase.IMPROVE_ITEMS]: 'Start Voting: What Could Be Better',\n    [RetroPhase.IMPROVE_VOTING]: 'Start Brainstorming',\n    [RetroPhase.BRAINSTORMING]: 'Move to Action Points',\n    [RetroPhase.ACTION_POINTS]: 'Close Retrospective'\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbW9kZWxzL2ludGVyZmFjZXMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLElBQVksVUFTWDtBQVRELFdBQVksVUFBVTtJQUNwQiw2QkFBZTtJQUNmLHVDQUF5QjtJQUN6Qix5Q0FBMkI7SUFDM0IsNkNBQStCO0lBQy9CLCtDQUFpQztJQUNqQyw2Q0FBK0I7SUFDL0IsNkNBQStCO0lBQy9CLCtCQUFpQjtBQUNuQixDQUFDLEVBVFcsVUFBVSxLQUFWLFVBQVUsUUFTckI7QUFFTSxNQUFNLFdBQVcsR0FBaUI7SUFDdkMsVUFBVSxDQUFDLEtBQUs7SUFDaEIsVUFBVSxDQUFDLFVBQVU7SUFDckIsVUFBVSxDQUFDLFdBQVc7SUFDdEIsVUFBVSxDQUFDLGFBQWE7SUFDeEIsVUFBVSxDQUFDLGNBQWM7SUFDekIsVUFBVSxDQUFDLGFBQWE7SUFDeEIsVUFBVSxDQUFDLGFBQWE7SUFDeEIsVUFBVSxDQUFDLE1BQU07Q0FDbEIsQ0FBQztBQUVLLE1BQU0sWUFBWSxHQUErQjtJQUN0RCxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsRUFBRSxrQ0FBa0M7SUFDdEQsQ0FBQyxVQUFVLENBQUMsVUFBVSxDQUFDLEVBQUUsZ0JBQWdCO0lBQ3pDLENBQUMsVUFBVSxDQUFDLFdBQVcsQ0FBQyxFQUFFLHNCQUFzQjtJQUNoRCxDQUFDLFVBQVUsQ0FBQyxhQUFhLENBQUMsRUFBRSxzQkFBc0I7SUFDbEQsQ0FBQyxVQUFVLENBQUMsY0FBYyxDQUFDLEVBQUUsNEJBQTRCO0lBQ3pELENBQUMsVUFBVSxDQUFDLGFBQWEsQ0FBQyxFQUFFLGVBQWU7SUFDM0MsQ0FBQyxVQUFVLENBQUMsYUFBYSxDQUFDLEVBQUUsZUFBZTtJQUMzQyxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsRUFBRSxzQkFBc0I7Q0FDNUMsQ0FBQztBQUVLLE1BQU0saUJBQWlCLEdBQTJCO0lBQ3ZELENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxFQUFFLHVCQUF1QjtJQUMzQyxDQUFDLFVBQVUsQ0FBQyxVQUFVLENBQUMsRUFBRSw4QkFBOEI7SUFDdkQsQ0FBQyxVQUFVLENBQUMsV0FBVyxDQUFDLEVBQUUsNkJBQTZCO0lBQ3ZELENBQUMsVUFBVSxDQUFDLGFBQWEsQ0FBQyxFQUFFLG9DQUFvQztJQUNoRSxDQUFDLFVBQVUsQ0FBQyxjQUFjLENBQUMsRUFBRSxxQkFBcUI7SUFDbEQsQ0FBQyxVQUFVLENBQUMsYUFBYSxDQUFDLEVBQUUsdUJBQXVCO0lBQ25ELENBQUMsVUFBVSxDQUFDLGFBQWEsQ0FBQyxFQUFFLHFCQUFxQjtDQUNsRCxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmV0cm9hcHAtY2xpZW50Ly4vc3JjL21vZGVscy9pbnRlcmZhY2VzLnRzPzliMjEiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGVudW0gUmV0cm9QaGFzZSB7XHJcbiAgTE9CQlkgPSAnbG9iYnknLFxyXG4gIEdPT0RfSVRFTVMgPSAnZ29vZF9pdGVtcycsXHJcbiAgR09PRF9WT1RJTkcgPSAnZ29vZF92b3RpbmcnLFxyXG4gIElNUFJPVkVfSVRFTVMgPSAnaW1wcm92ZV9pdGVtcycsXHJcbiAgSU1QUk9WRV9WT1RJTkcgPSAnaW1wcm92ZV92b3RpbmcnLFxyXG4gIEJSQUlOU1RPUk1JTkcgPSAnYnJhaW5zdG9ybWluZycsXHJcbiAgQUNUSU9OX1BPSU5UUyA9ICdhY3Rpb25fcG9pbnRzJyxcclxuICBDTE9TRUQgPSAnY2xvc2VkJ1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgUEhBU0VfT1JERVI6IFJldHJvUGhhc2VbXSA9IFtcclxuICBSZXRyb1BoYXNlLkxPQkJZLFxyXG4gIFJldHJvUGhhc2UuR09PRF9JVEVNUyxcclxuICBSZXRyb1BoYXNlLkdPT0RfVk9USU5HLFxyXG4gIFJldHJvUGhhc2UuSU1QUk9WRV9JVEVNUyxcclxuICBSZXRyb1BoYXNlLklNUFJPVkVfVk9USU5HLFxyXG4gIFJldHJvUGhhc2UuQlJBSU5TVE9STUlORyxcclxuICBSZXRyb1BoYXNlLkFDVElPTl9QT0lOVFMsXHJcbiAgUmV0cm9QaGFzZS5DTE9TRURcclxuXTtcclxuXHJcbmV4cG9ydCBjb25zdCBQSEFTRV9MQUJFTFM6IFJlY29yZDxSZXRyb1BoYXNlLCBzdHJpbmc+ID0ge1xyXG4gIFtSZXRyb1BoYXNlLkxPQkJZXTogJ0xvYmJ5IC0gV2FpdGluZyBmb3IgcGFydGljaXBhbnRzJyxcclxuICBbUmV0cm9QaGFzZS5HT09EX0lURU1TXTogJ1doYXQgV2VudCBXZWxsJyxcclxuICBbUmV0cm9QaGFzZS5HT09EX1ZPVElOR106ICdWb3RlOiBXaGF0IFdlbnQgV2VsbCcsXHJcbiAgW1JldHJvUGhhc2UuSU1QUk9WRV9JVEVNU106ICdXaGF0IENvdWxkIEJlIEJldHRlcicsXHJcbiAgW1JldHJvUGhhc2UuSU1QUk9WRV9WT1RJTkddOiAnVm90ZTogV2hhdCBDb3VsZCBCZSBCZXR0ZXInLFxyXG4gIFtSZXRyb1BoYXNlLkJSQUlOU1RPUk1JTkddOiAnQnJhaW5zdG9ybWluZycsXHJcbiAgW1JldHJvUGhhc2UuQUNUSU9OX1BPSU5UU106ICdBY3Rpb24gUG9pbnRzJyxcclxuICBbUmV0cm9QaGFzZS5DTE9TRURdOiAnUmV0cm9zcGVjdGl2ZSBDbG9zZWQnXHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgTkVYVF9QSEFTRV9MQUJFTFM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XHJcbiAgW1JldHJvUGhhc2UuTE9CQlldOiAnU3RhcnQ6IFdoYXQgV2VudCBXZWxsJyxcclxuICBbUmV0cm9QaGFzZS5HT09EX0lURU1TXTogJ1N0YXJ0IFZvdGluZzogV2hhdCBXZW50IFdlbGwnLFxyXG4gIFtSZXRyb1BoYXNlLkdPT0RfVk9USU5HXTogJ1N0YXJ0OiBXaGF0IENvdWxkIEJlIEJldHRlcicsXHJcbiAgW1JldHJvUGhhc2UuSU1QUk9WRV9JVEVNU106ICdTdGFydCBWb3Rpbmc6IFdoYXQgQ291bGQgQmUgQmV0dGVyJyxcclxuICBbUmV0cm9QaGFzZS5JTVBST1ZFX1ZPVElOR106ICdTdGFydCBCcmFpbnN0b3JtaW5nJyxcclxuICBbUmV0cm9QaGFzZS5CUkFJTlNUT1JNSU5HXTogJ01vdmUgdG8gQWN0aW9uIFBvaW50cycsXHJcbiAgW1JldHJvUGhhc2UuQUNUSU9OX1BPSU5UU106ICdDbG9zZSBSZXRyb3NwZWN0aXZlJ1xyXG59O1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBSZXRyb0l0ZW0ge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgdGV4dDogc3RyaW5nO1xyXG4gIGF1dGhvcjogc3RyaW5nO1xyXG4gIHZvdGVzOiBzdHJpbmdbXTtcclxuICBjYXRlZ29yeTogJ2dvb2QnIHwgJ2ltcHJvdmUnO1xyXG4gIGNyZWF0ZWRBdDogc3RyaW5nO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEFjdGlvblBvaW50IHtcclxuICBpZDogc3RyaW5nO1xyXG4gIHRleHQ6IHN0cmluZztcclxuICBhc3NpZ25lZTogc3RyaW5nO1xyXG4gIGNyZWF0ZWRCeTogc3RyaW5nO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEJyYWluc3Rvcm1Db21tZW50IHtcclxuICBpZDogc3RyaW5nO1xyXG4gIGl0ZW1JZDogc3RyaW5nO1xyXG4gIHRleHQ6IHN0cmluZztcclxuICBhdXRob3I6IHN0cmluZztcclxuICBjcmVhdGVkQXQ6IHN0cmluZztcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBQYXJ0aWNpcGFudCB7XHJcbiAgbmFtZTogc3RyaW5nO1xyXG4gIGlzQWRtaW46IGJvb2xlYW47XHJcbiAgam9pbmVkQXQ6IHN0cmluZztcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBSZXRyb1Nlc3Npb24ge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgc3ByaW50TmFtZTogc3RyaW5nO1xyXG4gIHBoYXNlOiBSZXRyb1BoYXNlO1xyXG4gIHBhcnRpY2lwYW50czogUGFydGljaXBhbnRbXTtcclxuICBpdGVtczogUmV0cm9JdGVtW107XHJcbiAgYnJhaW5zdG9ybUNvbW1lbnRzOiBCcmFpbnN0b3JtQ29tbWVudFtdO1xyXG4gIGJyYWluc3Rvcm1JdGVtSWRzOiBzdHJpbmdbXTtcclxuICBhY3Rpb25Qb2ludHM6IEFjdGlvblBvaW50W107XHJcbiAgdGltZXJEdXJhdGlvbjogbnVtYmVyO1xyXG4gIHRpbWVyRW5kc0F0OiBzdHJpbmcgfCBudWxsO1xyXG4gIGNyZWF0ZWRBdDogc3RyaW5nO1xyXG4gIGNsb3NlZEF0OiBzdHJpbmcgfCBudWxsO1xyXG59XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/models/interfaces.ts\n\n}");

/***/ },

/***/ "./src/my-app.ts"
/*!***********************!*\
  !*** ./src/my-app.ts ***!
  \***********************/
(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MyApp: () => (/* binding */ MyApp)\n/* harmony export */ });\n/* harmony import */ var aurelia__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! aurelia */ \"./node_modules/@aurelia/runtime-html/dist/esm/index.mjs\");\n/* harmony import */ var _aurelia_router_lite__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @aurelia/router-lite */ \"./node_modules/@aurelia/router-lite/dist/esm/index.mjs\");\n/* harmony import */ var _my_app_html__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./my-app.html */ \"./src/my-app.html\");\n/* harmony import */ var _pages_home_home_page__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/home/home-page */ \"./src/pages/home/home-page.ts\");\n/* harmony import */ var _pages_join_join_page__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./pages/join/join-page */ \"./src/pages/join/join-page.ts\");\n/* harmony import */ var _pages_retro_room_retro_room__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./pages/retro-room/retro-room */ \"./src/pages/retro-room/retro-room.ts\");\nvar __esDecorate = (undefined && undefined.__esDecorate) || function (ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\n    function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\n    var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\n    var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\n    var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\n    var _, done = false;\n    for (var i = decorators.length - 1; i >= 0; i--) {\n        var context = {};\n        for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\n        for (var p in contextIn.access) context.access[p] = contextIn.access[p];\n        context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\n        var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\n        if (kind === \"accessor\") {\n            if (result === void 0) continue;\n            if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\n            if (_ = accept(result.get)) descriptor.get = _;\n            if (_ = accept(result.set)) descriptor.set = _;\n            if (_ = accept(result.init)) initializers.unshift(_);\n        }\n        else if (_ = accept(result)) {\n            if (kind === \"field\") initializers.unshift(_);\n            else descriptor[key] = _;\n        }\n    }\n    if (target) Object.defineProperty(target, contextIn.name, descriptor);\n    done = true;\n};\nvar __runInitializers = (undefined && undefined.__runInitializers) || function (thisArg, initializers, value) {\n    var useValue = arguments.length > 2;\n    for (var i = 0; i < initializers.length; i++) {\n        value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\n    }\n    return useValue ? value : void 0;\n};\n\n\n\n\n\n\nlet MyApp = (() => {\n    let _classDecorators = [(0,_aurelia_router_lite__WEBPACK_IMPORTED_MODULE_1__.route)({\n            routes: [\n                { path: '', component: _pages_home_home_page__WEBPACK_IMPORTED_MODULE_3__.HomePage, title: 'Home' },\n                { path: 'join/:retroId', component: _pages_join_join_page__WEBPACK_IMPORTED_MODULE_4__.JoinPage, title: 'Join Retro' },\n                { path: 'retro/:retroId', component: _pages_retro_room_retro_room__WEBPACK_IMPORTED_MODULE_5__.RetroRoom, title: 'Retro Room' }\n            ]\n        }), (0,aurelia__WEBPACK_IMPORTED_MODULE_0__.customElement)({ name: 'my-app', template: _my_app_html__WEBPACK_IMPORTED_MODULE_2__[\"default\"] })];\n    let _classDescriptor;\n    let _classExtraInitializers = [];\n    let _classThis;\n    var MyApp = class {\n        static { _classThis = this; }\n        static {\n            const _metadata = typeof Symbol === \"function\" && Symbol.metadata ? Object.create(null) : void 0;\n            __esDecorate(null, _classDescriptor = { value: _classThis }, _classDecorators, { kind: \"class\", name: _classThis.name, metadata: _metadata }, null, _classExtraInitializers);\n            MyApp = _classThis = _classDescriptor.value;\n            if (_metadata) Object.defineProperty(_classThis, Symbol.metadata, { enumerable: true, configurable: true, writable: true, value: _metadata });\n            __runInitializers(_classThis, _classExtraInitializers);\n        }\n    };\n    return MyApp = _classThis;\n})();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbXktYXBwLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXdDO0FBQ0s7QUFDUjtBQUNhO0FBQ0E7QUFDUTtJQVU3QyxLQUFLOzRCQVJqQiwyREFBSyxDQUFDO1lBQ0wsTUFBTSxFQUFFO2dCQUNOLEVBQUUsSUFBSSxFQUFFLEVBQUUsRUFBRSxTQUFTLEVBQUUsMkRBQVEsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFO2dCQUNoRCxFQUFFLElBQUksRUFBRSxlQUFlLEVBQUUsU0FBUyxFQUFFLDJEQUFRLEVBQUUsS0FBSyxFQUFFLFlBQVksRUFBRTtnQkFDbkUsRUFBRSxJQUFJLEVBQUUsZ0JBQWdCLEVBQUUsU0FBUyxFQUFFLG1FQUFTLEVBQUUsS0FBSyxFQUFFLFlBQVksRUFBRTthQUN0RTtTQUNGLENBQUMsRUFDRCxzREFBYSxDQUFDLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRSxRQUFRLHdEQUFFLENBQUM7Ozs7Ozs7O1lBQzVDLDZLQUFxQjs7O1lBQVIsdURBQUs7Ozs7O0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZXRyb2FwcC1jbGllbnQvLi9zcmMvbXktYXBwLnRzP2YzZWMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3VzdG9tRWxlbWVudCB9IGZyb20gJ2F1cmVsaWEnO1xyXG5pbXBvcnQgeyByb3V0ZSB9IGZyb20gJ0BhdXJlbGlhL3JvdXRlci1saXRlJztcclxuaW1wb3J0IHRlbXBsYXRlIGZyb20gJy4vbXktYXBwLmh0bWwnO1xyXG5pbXBvcnQgeyBIb21lUGFnZSB9IGZyb20gJy4vcGFnZXMvaG9tZS9ob21lLXBhZ2UnO1xyXG5pbXBvcnQgeyBKb2luUGFnZSB9IGZyb20gJy4vcGFnZXMvam9pbi9qb2luLXBhZ2UnO1xyXG5pbXBvcnQgeyBSZXRyb1Jvb20gfSBmcm9tICcuL3BhZ2VzL3JldHJvLXJvb20vcmV0cm8tcm9vbSc7XHJcblxyXG5Acm91dGUoe1xyXG4gIHJvdXRlczogW1xyXG4gICAgeyBwYXRoOiAnJywgY29tcG9uZW50OiBIb21lUGFnZSwgdGl0bGU6ICdIb21lJyB9LFxyXG4gICAgeyBwYXRoOiAnam9pbi86cmV0cm9JZCcsIGNvbXBvbmVudDogSm9pblBhZ2UsIHRpdGxlOiAnSm9pbiBSZXRybycgfSxcclxuICAgIHsgcGF0aDogJ3JldHJvLzpyZXRyb0lkJywgY29tcG9uZW50OiBSZXRyb1Jvb20sIHRpdGxlOiAnUmV0cm8gUm9vbScgfVxyXG4gIF1cclxufSlcclxuQGN1c3RvbUVsZW1lbnQoeyBuYW1lOiAnbXktYXBwJywgdGVtcGxhdGUgfSlcclxuZXhwb3J0IGNsYXNzIE15QXBwIHt9XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/my-app.ts\n\n}");

/***/ },

/***/ "./src/pages/home/home-page.ts"
/*!*************************************!*\
  !*** ./src/pages/home/home-page.ts ***!
  \*************************************/
(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HomePage: () => (/* binding */ HomePage)\n/* harmony export */ });\n/* harmony import */ var aurelia__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! aurelia */ \"./node_modules/@aurelia/kernel/dist/esm/index.mjs\");\n/* harmony import */ var aurelia__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! aurelia */ \"./node_modules/@aurelia/runtime-html/dist/esm/index.mjs\");\n/* harmony import */ var _aurelia_router_lite__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @aurelia/router-lite */ \"./node_modules/@aurelia/router-lite/dist/esm/index.mjs\");\n/* harmony import */ var _services_retro_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../services/retro-service */ \"./src/services/retro-service.ts\");\n/* harmony import */ var _home_page_html__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./home-page.html */ \"./src/pages/home/home-page.html\");\nvar __esDecorate = (undefined && undefined.__esDecorate) || function (ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\n    function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\n    var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\n    var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\n    var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\n    var _, done = false;\n    for (var i = decorators.length - 1; i >= 0; i--) {\n        var context = {};\n        for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\n        for (var p in contextIn.access) context.access[p] = contextIn.access[p];\n        context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\n        var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\n        if (kind === \"accessor\") {\n            if (result === void 0) continue;\n            if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\n            if (_ = accept(result.get)) descriptor.get = _;\n            if (_ = accept(result.set)) descriptor.set = _;\n            if (_ = accept(result.init)) initializers.unshift(_);\n        }\n        else if (_ = accept(result)) {\n            if (kind === \"field\") initializers.unshift(_);\n            else descriptor[key] = _;\n        }\n    }\n    if (target) Object.defineProperty(target, contextIn.name, descriptor);\n    done = true;\n};\nvar __runInitializers = (undefined && undefined.__runInitializers) || function (thisArg, initializers, value) {\n    var useValue = arguments.length > 2;\n    for (var i = 0; i < initializers.length; i++) {\n        value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\n    }\n    return useValue ? value : void 0;\n};\n\n\n\n\nlet HomePage = (() => {\n    let _classDecorators = [(0,aurelia__WEBPACK_IMPORTED_MODULE_1__.customElement)({ name: 'home-page', template: _home_page_html__WEBPACK_IMPORTED_MODULE_4__[\"default\"] })];\n    let _classDescriptor;\n    let _classExtraInitializers = [];\n    let _classThis;\n    var HomePage = class {\n        static { _classThis = this; }\n        static {\n            const _metadata = typeof Symbol === \"function\" && Symbol.metadata ? Object.create(null) : void 0;\n            __esDecorate(null, _classDescriptor = { value: _classThis }, _classDecorators, { kind: \"class\", name: _classThis.name, metadata: _metadata }, null, _classExtraInitializers);\n            HomePage = _classThis = _classDescriptor.value;\n            if (_metadata) Object.defineProperty(_classThis, Symbol.metadata, { enumerable: true, configurable: true, writable: true, value: _metadata });\n            __runInitializers(_classThis, _classExtraInitializers);\n        }\n        sprintName = '';\n        timerDuration = 300;\n        errorMessage = '';\n        loading = true;\n        activeRetro = null;\n        pastRetros = [];\n        router = (0,aurelia__WEBPACK_IMPORTED_MODULE_0__.resolve)(_aurelia_router_lite__WEBPACK_IMPORTED_MODULE_2__.IRouter);\n        retroService = (0,aurelia__WEBPACK_IMPORTED_MODULE_0__.resolve)(_services_retro_service__WEBPACK_IMPORTED_MODULE_3__.RetroService);\n        async binding() {\n            try {\n                const data = await this.retroService.fetchRetroList();\n                this.activeRetro = data.active;\n                this.pastRetros = data.pastRetros || [];\n            }\n            catch {\n                // ignore\n            }\n            finally {\n                this.loading = false;\n            }\n        }\n        async createRetro() {\n            if (!this.sprintName.trim()) {\n                this.errorMessage = 'Please enter a sprint name';\n                return;\n            }\n            this.errorMessage = '';\n            try {\n                const { retroId, adminToken } = await this.retroService.createRetro(this.sprintName.trim(), this.timerDuration);\n                sessionStorage.setItem('adminToken', adminToken);\n                sessionStorage.setItem('retroId', retroId);\n                this.router.load(`join/${retroId}`);\n            }\n            catch (err) {\n                this.errorMessage = err.message;\n            }\n        }\n        joinActive() {\n            if (this.activeRetro) {\n                this.router.load(`join/${this.activeRetro.id}`);\n            }\n        }\n        get timerMinutes() {\n            return Math.floor(this.timerDuration / 60);\n        }\n        set timerMinutes(val) {\n            this.timerDuration = val * 60;\n        }\n        exportCsv(retroId) {\n            window.open(this.retroService.exportCsvUrl(retroId), '_blank');\n        }\n    };\n    return HomePage = _classThis;\n})();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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InNvdXJjZXMiOlsid2VicGFjazovL3JldHJvYXBwLWNsaWVudC8uL3NyYy9wYWdlcy9ob21lL2hvbWUtcGFnZS50cz8xMzVjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGN1c3RvbUVsZW1lbnQsIHJlc29sdmUgfSBmcm9tICdhdXJlbGlhJztcclxuaW1wb3J0IHsgSVJvdXRlciB9IGZyb20gJ0BhdXJlbGlhL3JvdXRlci1saXRlJztcclxuaW1wb3J0IHsgUmV0cm9TZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvcmV0cm8tc2VydmljZSc7XHJcbmltcG9ydCB0ZW1wbGF0ZSBmcm9tICcuL2hvbWUtcGFnZS5odG1sJztcclxuXHJcbkBjdXN0b21FbGVtZW50KHsgbmFtZTogJ2hvbWUtcGFnZScsIHRlbXBsYXRlIH0pXHJcbmV4cG9ydCBjbGFzcyBIb21lUGFnZSB7XHJcbiAgc3ByaW50TmFtZTogc3RyaW5nID0gJyc7XHJcbiAgdGltZXJEdXJhdGlvbjogbnVtYmVyID0gMzAwO1xyXG4gIGVycm9yTWVzc2FnZTogc3RyaW5nID0gJyc7XHJcbiAgbG9hZGluZzogYm9vbGVhbiA9IHRydWU7XHJcbiAgYWN0aXZlUmV0cm86IGFueSA9IG51bGw7XHJcbiAgcGFzdFJldHJvczogYW55W10gPSBbXTtcclxuXHJcbiAgcHJpdmF0ZSByb3V0ZXI6IElSb3V0ZXIgPSByZXNvbHZlKElSb3V0ZXIpO1xyXG4gIHByaXZhdGUgcmV0cm9TZXJ2aWNlOiBSZXRyb1NlcnZpY2UgPSByZXNvbHZlKFJldHJvU2VydmljZSk7XHJcblxyXG4gIGFzeW5jIGJpbmRpbmcoKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5yZXRyb1NlcnZpY2UuZmV0Y2hSZXRyb0xpc3QoKTtcclxuICAgICAgdGhpcy5hY3RpdmVSZXRybyA9IGRhdGEuYWN0aXZlO1xyXG4gICAgICB0aGlzLnBhc3RSZXRyb3MgPSBkYXRhLnBhc3RSZXRyb3MgfHwgW107XHJcbiAgICB9IGNhdGNoIHtcclxuICAgICAgLy8gaWdub3JlXHJcbiAgICB9IGZpbmFsbHkge1xyXG4gICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIGNyZWF0ZVJldHJvKCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgaWYgKCF0aGlzLnNwcmludE5hbWUudHJpbSgpKSB7XHJcbiAgICAgIHRoaXMuZXJyb3JNZXNzYWdlID0gJ1BsZWFzZSBlbnRlciBhIHNwcmludCBuYW1lJztcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdGhpcy5lcnJvck1lc3NhZ2UgPSAnJztcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHsgcmV0cm9JZCwgYWRtaW5Ub2tlbiB9ID0gYXdhaXQgdGhpcy5yZXRyb1NlcnZpY2UuY3JlYXRlUmV0cm8oXHJcbiAgICAgICAgdGhpcy5zcHJpbnROYW1lLnRyaW0oKSxcclxuICAgICAgICB0aGlzLnRpbWVyRHVyYXRpb25cclxuICAgICAgKTtcclxuICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnYWRtaW5Ub2tlbicsIGFkbWluVG9rZW4pO1xyXG4gICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdyZXRyb0lkJywgcmV0cm9JZCk7XHJcbiAgICAgIHRoaXMucm91dGVyLmxvYWQoYGpvaW4vJHtyZXRyb0lkfWApO1xyXG4gICAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcclxuICAgICAgdGhpcy5lcnJvck1lc3NhZ2UgPSBlcnIubWVzc2FnZTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGpvaW5BY3RpdmUoKTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5hY3RpdmVSZXRybykge1xyXG4gICAgICB0aGlzLnJvdXRlci5sb2FkKGBqb2luLyR7dGhpcy5hY3RpdmVSZXRyby5pZH1gKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldCB0aW1lck1pbnV0ZXMoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiBNYXRoLmZsb29yKHRoaXMudGltZXJEdXJhdGlvbiAvIDYwKTtcclxuICB9XHJcblxyXG4gIHNldCB0aW1lck1pbnV0ZXModmFsOiBudW1iZXIpIHtcclxuICAgIHRoaXMudGltZXJEdXJhdGlvbiA9IHZhbCAqIDYwO1xyXG4gIH1cclxuXHJcbiAgZXhwb3J0Q3N2KHJldHJvSWQ6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgd2luZG93Lm9wZW4odGhpcy5yZXRyb1NlcnZpY2UuZXhwb3J0Q3N2VXJsKHJldHJvSWQpLCAnX2JsYW5rJyk7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/pages/home/home-page.ts\n\n}");

/***/ },

/***/ "./src/pages/join/join-page.ts"
/*!*************************************!*\
  !*** ./src/pages/join/join-page.ts ***!
  \*************************************/
(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   JoinPage: () => (/* binding */ JoinPage)\n/* harmony export */ });\n/* harmony import */ var aurelia__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! aurelia */ \"./node_modules/@aurelia/kernel/dist/esm/index.mjs\");\n/* harmony import */ var aurelia__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! aurelia */ \"./node_modules/@aurelia/runtime-html/dist/esm/index.mjs\");\n/* harmony import */ var _aurelia_router_lite__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @aurelia/router-lite */ \"./node_modules/@aurelia/router-lite/dist/esm/index.mjs\");\n/* harmony import */ var _services_retro_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../services/retro-service */ \"./src/services/retro-service.ts\");\n/* harmony import */ var _join_page_html__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./join-page.html */ \"./src/pages/join/join-page.html\");\nvar __esDecorate = (undefined && undefined.__esDecorate) || function (ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\n    function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\n    var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\n    var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\n    var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\n    var _, done = false;\n    for (var i = decorators.length - 1; i >= 0; i--) {\n        var context = {};\n        for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\n        for (var p in contextIn.access) context.access[p] = contextIn.access[p];\n        context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\n        var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\n        if (kind === \"accessor\") {\n            if (result === void 0) continue;\n            if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\n            if (_ = accept(result.get)) descriptor.get = _;\n            if (_ = accept(result.set)) descriptor.set = _;\n            if (_ = accept(result.init)) initializers.unshift(_);\n        }\n        else if (_ = accept(result)) {\n            if (kind === \"field\") initializers.unshift(_);\n            else descriptor[key] = _;\n        }\n    }\n    if (target) Object.defineProperty(target, contextIn.name, descriptor);\n    done = true;\n};\nvar __runInitializers = (undefined && undefined.__runInitializers) || function (thisArg, initializers, value) {\n    var useValue = arguments.length > 2;\n    for (var i = 0; i < initializers.length; i++) {\n        value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\n    }\n    return useValue ? value : void 0;\n};\n\n\n\n\nlet JoinPage = (() => {\n    let _classDecorators = [(0,aurelia__WEBPACK_IMPORTED_MODULE_1__.customElement)({ name: 'join-page', template: _join_page_html__WEBPACK_IMPORTED_MODULE_4__[\"default\"] })];\n    let _classDescriptor;\n    let _classExtraInitializers = [];\n    let _classThis;\n    var JoinPage = class {\n        static { _classThis = this; }\n        static {\n            const _metadata = typeof Symbol === \"function\" && Symbol.metadata ? Object.create(null) : void 0;\n            __esDecorate(null, _classDescriptor = { value: _classThis }, _classDecorators, { kind: \"class\", name: _classThis.name, metadata: _metadata }, null, _classExtraInitializers);\n            JoinPage = _classThis = _classDescriptor.value;\n            if (_metadata) Object.defineProperty(_classThis, Symbol.metadata, { enumerable: true, configurable: true, writable: true, value: _metadata });\n            __runInitializers(_classThis, _classExtraInitializers);\n        }\n        retroId = '';\n        participantName = '';\n        errorMessage = '';\n        retroInfo = null;\n        isLoading = true;\n        router = (0,aurelia__WEBPACK_IMPORTED_MODULE_0__.resolve)(_aurelia_router_lite__WEBPACK_IMPORTED_MODULE_2__.IRouter);\n        retroService = (0,aurelia__WEBPACK_IMPORTED_MODULE_0__.resolve)(_services_retro_service__WEBPACK_IMPORTED_MODULE_3__.RetroService);\n        async loading(params, next) {\n            this.retroId = params.retroId;\n            try {\n                const res = await fetch(`/api/retro/${this.retroId}`);\n                if (res.ok) {\n                    this.retroInfo = await res.json();\n                }\n                else {\n                    this.errorMessage = 'Retro not found';\n                }\n            }\n            catch {\n                this.errorMessage = 'Failed to load retro';\n            }\n            finally {\n                this.isLoading = false;\n            }\n        }\n        joinRetro() {\n            if (!this.participantName.trim()) {\n                this.errorMessage = 'Please enter your name';\n                return;\n            }\n            this.errorMessage = '';\n            sessionStorage.setItem('participantName', this.participantName.trim());\n            this.router.load(`retro/${this.retroId}`);\n        }\n        get isAdmin() {\n            return sessionStorage.getItem('adminToken') !== null\n                && sessionStorage.getItem('retroId') === this.retroId;\n        }\n    };\n    return JoinPage = _classThis;\n})();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFnZXMvam9pbi9qb2luLXBhZ2UudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFpRDtBQUNrQztBQUN2QjtBQUNwQjtJQUczQixRQUFROzRCQURwQixzREFBYSxDQUFDLEVBQUUsSUFBSSxFQUFFLFdBQVcsRUFBRSxRQUFRLDJEQUFFLENBQUM7Ozs7Ozs7O1lBQy9DLDZLQXdDQzs7O1lBeENZLHVEQUFROztRQUNuQixPQUFPLEdBQVcsRUFBRSxDQUFDO1FBQ3JCLGVBQWUsR0FBVyxFQUFFLENBQUM7UUFDN0IsWUFBWSxHQUFXLEVBQUUsQ0FBQztRQUMxQixTQUFTLEdBQVEsSUFBSSxDQUFDO1FBQ3RCLFNBQVMsR0FBWSxJQUFJLENBQUM7UUFFbEIsTUFBTSxHQUFZLGdEQUFPLENBQUMseURBQU8sQ0FBQyxDQUFDO1FBQ25DLFlBQVksR0FBaUIsZ0RBQU8sQ0FBQyxpRUFBWSxDQUFDLENBQUM7UUFFM0QsS0FBSyxDQUFDLE9BQU8sQ0FBQyxNQUFjLEVBQUUsSUFBZTtZQUMzQyxJQUFJLENBQUMsT0FBTyxHQUFHLE1BQU0sQ0FBQyxPQUFpQixDQUFDO1lBQ3hDLElBQUksQ0FBQztnQkFDSCxNQUFNLEdBQUcsR0FBRyxNQUFNLEtBQUssQ0FBQyw0QkFBNEIsQ0FBQyxDQUFDO2dCQUN0RCxJQUFJLEdBQUcsQ0FBQyxFQUFFLEVBQUUsQ0FBQztvQkFDWCxJQUFJLENBQUMsU0FBUyxHQUFHLE1BQU0sR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDO2dCQUNwQyxDQUFDO3FCQUFNLENBQUM7b0JBQ04sSUFBSSxDQUFDLFlBQVksR0FBRyxpQkFBaUIsQ0FBQztnQkFDeEMsQ0FBQztZQUNILENBQUM7WUFBQyxNQUFNLENBQUM7Z0JBQ1AsSUFBSSxDQUFDLFlBQVksR0FBRyxzQkFBc0IsQ0FBQztZQUM3QyxDQUFDO29CQUFTLENBQUM7Z0JBQ1QsSUFBSSxDQUFDLFNBQVMsR0FBRyxLQUFLLENBQUM7WUFDekIsQ0FBQztRQUNILENBQUM7UUFFRCxTQUFTO1lBQ1AsSUFBSSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQztnQkFDakMsSUFBSSxDQUFDLFlBQVksR0FBRyx3QkFBd0IsQ0FBQztnQkFDN0MsT0FBTztZQUNULENBQUM7WUFDRCxJQUFJLENBQUMsWUFBWSxHQUFHLEVBQUUsQ0FBQztZQUN2QixjQUFjLENBQUMsT0FBTyxDQUFDLGlCQUFpQixFQUFFLElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQztZQUN2RSxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDO1FBQzVDLENBQUM7UUFFRCxJQUFJLE9BQU87WUFDVCxPQUFPLGNBQWMsQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLEtBQUssSUFBSTttQkFDL0MsY0FBYyxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsS0FBSyxJQUFJLENBQUMsT0FBTyxDQUFDO1FBQzFELENBQUM7Ozs7QUF2Q2tCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmV0cm9hcHAtY2xpZW50Ly4vc3JjL3BhZ2VzL2pvaW4vam9pbi1wYWdlLnRzPzRlNjAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3VzdG9tRWxlbWVudCwgcmVzb2x2ZSB9IGZyb20gJ2F1cmVsaWEnO1xyXG5pbXBvcnQgeyBJUm91dGVyLCBJUm91dGVWaWV3TW9kZWwsIFBhcmFtcywgUm91dGVOb2RlIH0gZnJvbSAnQGF1cmVsaWEvcm91dGVyLWxpdGUnO1xyXG5pbXBvcnQgeyBSZXRyb1NlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9yZXRyby1zZXJ2aWNlJztcclxuaW1wb3J0IHRlbXBsYXRlIGZyb20gJy4vam9pbi1wYWdlLmh0bWwnO1xyXG5cclxuQGN1c3RvbUVsZW1lbnQoeyBuYW1lOiAnam9pbi1wYWdlJywgdGVtcGxhdGUgfSlcclxuZXhwb3J0IGNsYXNzIEpvaW5QYWdlIGltcGxlbWVudHMgSVJvdXRlVmlld01vZGVsIHtcclxuICByZXRyb0lkOiBzdHJpbmcgPSAnJztcclxuICBwYXJ0aWNpcGFudE5hbWU6IHN0cmluZyA9ICcnO1xyXG4gIGVycm9yTWVzc2FnZTogc3RyaW5nID0gJyc7XHJcbiAgcmV0cm9JbmZvOiBhbnkgPSBudWxsO1xyXG4gIGlzTG9hZGluZzogYm9vbGVhbiA9IHRydWU7XHJcblxyXG4gIHByaXZhdGUgcm91dGVyOiBJUm91dGVyID0gcmVzb2x2ZShJUm91dGVyKTtcclxuICBwcml2YXRlIHJldHJvU2VydmljZTogUmV0cm9TZXJ2aWNlID0gcmVzb2x2ZShSZXRyb1NlcnZpY2UpO1xyXG5cclxuICBhc3luYyBsb2FkaW5nKHBhcmFtczogUGFyYW1zLCBuZXh0OiBSb3V0ZU5vZGUpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIHRoaXMucmV0cm9JZCA9IHBhcmFtcy5yZXRyb0lkIGFzIHN0cmluZztcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGAvYXBpL3JldHJvLyR7dGhpcy5yZXRyb0lkfWApO1xyXG4gICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgdGhpcy5yZXRyb0luZm8gPSBhd2FpdCByZXMuanNvbigpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuZXJyb3JNZXNzYWdlID0gJ1JldHJvIG5vdCBmb3VuZCc7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2gge1xyXG4gICAgICB0aGlzLmVycm9yTWVzc2FnZSA9ICdGYWlsZWQgdG8gbG9hZCByZXRybyc7XHJcbiAgICB9IGZpbmFsbHkge1xyXG4gICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgam9pblJldHJvKCk6IHZvaWQge1xyXG4gICAgaWYgKCF0aGlzLnBhcnRpY2lwYW50TmFtZS50cmltKCkpIHtcclxuICAgICAgdGhpcy5lcnJvck1lc3NhZ2UgPSAnUGxlYXNlIGVudGVyIHlvdXIgbmFtZSc7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHRoaXMuZXJyb3JNZXNzYWdlID0gJyc7XHJcbiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdwYXJ0aWNpcGFudE5hbWUnLCB0aGlzLnBhcnRpY2lwYW50TmFtZS50cmltKCkpO1xyXG4gICAgdGhpcy5yb3V0ZXIubG9hZChgcmV0cm8vJHt0aGlzLnJldHJvSWR9YCk7XHJcbiAgfVxyXG5cclxuICBnZXQgaXNBZG1pbigpOiBib29sZWFuIHtcclxuICAgIHJldHVybiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdhZG1pblRva2VuJykgIT09IG51bGxcclxuICAgICAgJiYgc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgncmV0cm9JZCcpID09PSB0aGlzLnJldHJvSWQ7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/pages/join/join-page.ts\n\n}");

/***/ },

/***/ "./src/pages/retro-room/retro-room.ts"
/*!********************************************!*\
  !*** ./src/pages/retro-room/retro-room.ts ***!
  \********************************************/
(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RetroRoom: () => (/* binding */ RetroRoom)\n/* harmony export */ });\n/* harmony import */ var aurelia__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! aurelia */ \"./node_modules/@aurelia/kernel/dist/esm/index.mjs\");\n/* harmony import */ var aurelia__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! aurelia */ \"./node_modules/@aurelia/runtime-html/dist/esm/index.mjs\");\n/* harmony import */ var _aurelia_router_lite__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @aurelia/router-lite */ \"./node_modules/@aurelia/router-lite/dist/esm/index.mjs\");\n/* harmony import */ var _services_retro_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../services/retro-service */ \"./src/services/retro-service.ts\");\n/* harmony import */ var _services_socket_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../services/socket-service */ \"./src/services/socket-service.ts\");\n/* harmony import */ var _models_interfaces__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../models/interfaces */ \"./src/models/interfaces.ts\");\n/* harmony import */ var _retro_room_html__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./retro-room.html */ \"./src/pages/retro-room/retro-room.html\");\nvar __esDecorate = (undefined && undefined.__esDecorate) || function (ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\n    function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\n    var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\n    var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\n    var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\n    var _, done = false;\n    for (var i = decorators.length - 1; i >= 0; i--) {\n        var context = {};\n        for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\n        for (var p in contextIn.access) context.access[p] = contextIn.access[p];\n        context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\n        var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\n        if (kind === \"accessor\") {\n            if (result === void 0) continue;\n            if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\n            if (_ = accept(result.get)) descriptor.get = _;\n            if (_ = accept(result.set)) descriptor.set = _;\n            if (_ = accept(result.init)) initializers.unshift(_);\n        }\n        else if (_ = accept(result)) {\n            if (kind === \"field\") initializers.unshift(_);\n            else descriptor[key] = _;\n        }\n    }\n    if (target) Object.defineProperty(target, contextIn.name, descriptor);\n    done = true;\n};\nvar __runInitializers = (undefined && undefined.__runInitializers) || function (thisArg, initializers, value) {\n    var useValue = arguments.length > 2;\n    for (var i = 0; i < initializers.length; i++) {\n        value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\n    }\n    return useValue ? value : void 0;\n};\n\n\n\n\n\n\nlet RetroRoom = (() => {\n    let _classDecorators = [(0,aurelia__WEBPACK_IMPORTED_MODULE_1__.customElement)({ name: 'retro-room', template: _retro_room_html__WEBPACK_IMPORTED_MODULE_6__[\"default\"] })];\n    let _classDescriptor;\n    let _classExtraInitializers = [];\n    let _classThis;\n    var RetroRoom = class {\n        static { _classThis = this; }\n        static {\n            const _metadata = typeof Symbol === \"function\" && Symbol.metadata ? Object.create(null) : void 0;\n            __esDecorate(null, _classDescriptor = { value: _classThis }, _classDecorators, { kind: \"class\", name: _classThis.name, metadata: _metadata }, null, _classExtraInitializers);\n            RetroRoom = _classThis = _classDescriptor.value;\n            if (_metadata) Object.defineProperty(_classThis, Symbol.metadata, { enumerable: true, configurable: true, writable: true, value: _metadata });\n            __runInitializers(_classThis, _classExtraInitializers);\n        }\n        retroId = '';\n        // Dialog state\n        showAddDialog = false;\n        newItemText = '';\n        // Timer\n        timerDisplay = '';\n        timerInterval = null;\n        customTimerMinutes = 5;\n        // Brainstorm\n        newCommentText = '';\n        selectedCommentItemId = '';\n        selectedBrainstormItemIds = new Set();\n        // Action points\n        newActionText = '';\n        newActionAssignee = '';\n        // Confirm next phase\n        showConfirmNext = false;\n        router = (0,aurelia__WEBPACK_IMPORTED_MODULE_0__.resolve)(_aurelia_router_lite__WEBPACK_IMPORTED_MODULE_2__.IRouter);\n        retroService = (0,aurelia__WEBPACK_IMPORTED_MODULE_0__.resolve)(_services_retro_service__WEBPACK_IMPORTED_MODULE_3__.RetroService);\n        socketService = (0,aurelia__WEBPACK_IMPORTED_MODULE_0__.resolve)(_services_socket_service__WEBPACK_IMPORTED_MODULE_4__.SocketService);\n        loading(params, next) {\n            this.retroId = params.retroId;\n            const participantName = sessionStorage.getItem('participantName');\n            if (!participantName) {\n                this.router.load(`join/${this.retroId}`);\n                return;\n            }\n            this.retroService.connect();\n            const adminToken = sessionStorage.getItem('adminToken') || '';\n            this.retroService.joinRetro(this.retroId, participantName, adminToken || undefined);\n            this.retroService.onStateChange = () => {\n                this.updateTimer();\n            };\n            this.timerInterval = setInterval(() => this.updateTimer(), 1000);\n        }\n        detaching() {\n            if (this.timerInterval) {\n                clearInterval(this.timerInterval);\n            }\n            this.retroService.onStateChange = null;\n        }\n        // Phase helpers\n        get phaseLabel() {\n            const phase = this.retroService.currentPhase;\n            return phase ? _models_interfaces__WEBPACK_IMPORTED_MODULE_5__.PHASE_LABELS[phase] : '';\n        }\n        get nextPhaseLabel() {\n            const phase = this.retroService.currentPhase;\n            return phase ? (_models_interfaces__WEBPACK_IMPORTED_MODULE_5__.NEXT_PHASE_LABELS[phase] || '') : '';\n        }\n        get isAdmin() {\n            return this.retroService.isAdmin;\n        }\n        get phase() {\n            return this.retroService.currentPhase;\n        }\n        get isItemPhase() {\n            return this.phase === _models_interfaces__WEBPACK_IMPORTED_MODULE_5__.RetroPhase.GOOD_ITEMS || this.phase === _models_interfaces__WEBPACK_IMPORTED_MODULE_5__.RetroPhase.IMPROVE_ITEMS;\n        }\n        get isVotingPhase() {\n            return this.phase === _models_interfaces__WEBPACK_IMPORTED_MODULE_5__.RetroPhase.GOOD_VOTING || this.phase === _models_interfaces__WEBPACK_IMPORTED_MODULE_5__.RetroPhase.IMPROVE_VOTING;\n        }\n        get currentCategory() {\n            if (this.phase === _models_interfaces__WEBPACK_IMPORTED_MODULE_5__.RetroPhase.IMPROVE_ITEMS || this.phase === _models_interfaces__WEBPACK_IMPORTED_MODULE_5__.RetroPhase.IMPROVE_VOTING) {\n                return 'improve';\n            }\n            return 'good';\n        }\n        get visibleItems() {\n            const session = this.retroService.session;\n            if (!session)\n                return [];\n            if (this.phase === _models_interfaces__WEBPACK_IMPORTED_MODULE_5__.RetroPhase.GOOD_ITEMS || this.phase === _models_interfaces__WEBPACK_IMPORTED_MODULE_5__.RetroPhase.GOOD_VOTING) {\n                return session.items.filter(i => i.category === 'good');\n            }\n            if (this.phase === _models_interfaces__WEBPACK_IMPORTED_MODULE_5__.RetroPhase.IMPROVE_ITEMS || this.phase === _models_interfaces__WEBPACK_IMPORTED_MODULE_5__.RetroPhase.IMPROVE_VOTING) {\n                return session.items.filter(i => i.category === 'improve');\n            }\n            if (this.phase === _models_interfaces__WEBPACK_IMPORTED_MODULE_5__.RetroPhase.BRAINSTORMING) {\n                return session.items.filter(i => session.brainstormItemIds.includes(i.id));\n            }\n            return session.items;\n        }\n        get sortedVisibleItems() {\n            if (this.isVotingPhase || this.phase === _models_interfaces__WEBPACK_IMPORTED_MODULE_5__.RetroPhase.BRAINSTORMING || this.phase === _models_interfaces__WEBPACK_IMPORTED_MODULE_5__.RetroPhase.CLOSED) {\n                return [...this.visibleItems].sort((a, b) => b.votes.length - a.votes.length);\n            }\n            return this.visibleItems;\n        }\n        get improvementItemsSortedByVotes() {\n            const session = this.retroService.session;\n            if (!session)\n                return [];\n            return session.items\n                .filter(i => i.category === 'improve')\n                .sort((a, b) => b.votes.length - a.votes.length);\n        }\n        get brainstormItems() {\n            const session = this.retroService.session;\n            if (!session)\n                return [];\n            return session.items.filter(i => session.brainstormItemIds.includes(i.id));\n        }\n        // Actions\n        openAddDialog() {\n            this.newItemText = '';\n            this.showAddDialog = true;\n        }\n        closeAddDialog() {\n            this.showAddDialog = false;\n            this.newItemText = '';\n        }\n        saveItem() {\n            if (!this.newItemText.trim())\n                return;\n            this.retroService.addItem(this.newItemText.trim(), this.currentCategory);\n            this.closeAddDialog();\n        }\n        toggleVote(itemId) {\n            const item = this.retroService.session?.items.find(i => i.id === itemId);\n            if (!item)\n                return;\n            const name = this.retroService.participantName;\n            if (item.votes.includes(name)) {\n                this.retroService.unvote(itemId);\n            }\n            else {\n                this.retroService.vote(itemId);\n            }\n        }\n        hasVoted(item) {\n            return item.votes.includes(this.retroService.participantName);\n        }\n        confirmNextPhase() {\n            this.showConfirmNext = true;\n        }\n        cancelNextPhase() {\n            this.showConfirmNext = false;\n        }\n        nextPhase() {\n            this.showConfirmNext = false;\n            this.retroService.changePhase();\n        }\n        startTimer() {\n            this.retroService.startTimer(this.customTimerMinutes * 60);\n        }\n        updateTimer() {\n            const session = this.retroService.session;\n            if (!session?.timerEndsAt) {\n                this.timerDisplay = '';\n                return;\n            }\n            const remaining = Math.max(0, new Date(session.timerEndsAt).getTime() - Date.now());\n            if (remaining <= 0) {\n                this.timerDisplay = 'Time is up!';\n                return;\n            }\n            const minutes = Math.floor(remaining / 60000);\n            const seconds = Math.floor((remaining % 60000) / 1000);\n            this.timerDisplay = `${minutes}:${seconds.toString().padStart(2, '0')}`;\n        }\n        // Brainstorm\n        toggleBrainstormItem(itemId) {\n            if (this.selectedBrainstormItemIds.has(itemId)) {\n                this.selectedBrainstormItemIds.delete(itemId);\n            }\n            else {\n                this.selectedBrainstormItemIds.add(itemId);\n            }\n        }\n        isBrainstormSelected(itemId) {\n            return this.selectedBrainstormItemIds.has(itemId);\n        }\n        confirmBrainstormSelection() {\n            this.retroService.selectBrainstormItems(Array.from(this.selectedBrainstormItemIds));\n        }\n        addComment(itemId) {\n            if (!this.newCommentText.trim())\n                return;\n            this.retroService.addBrainstormComment(itemId, this.newCommentText.trim());\n            this.newCommentText = '';\n        }\n        getCommentsForItem(itemId) {\n            return this.retroService.session?.brainstormComments.filter(c => c.itemId === itemId) || [];\n        }\n        // Action points\n        addActionPoint() {\n            if (!this.newActionText.trim() || !this.newActionAssignee.trim())\n                return;\n            this.retroService.addActionPoint(this.newActionText.trim(), this.newActionAssignee.trim());\n            this.newActionText = '';\n            this.newActionAssignee = '';\n        }\n        exportCsv() {\n            window.open(this.retroService.exportCsvUrl(this.retroId), '_blank');\n        }\n        dismissError() {\n            this.retroService.clearError();\n        }\n    };\n    return RetroRoom = _classThis;\n})();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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dEUsQ0FBQztRQUVELFlBQVk7WUFDVixJQUFJLENBQUMsWUFBWSxDQUFDLFVBQVUsRUFBRSxDQUFDO1FBQ2pDLENBQUM7Ozs7QUF4T21CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmV0cm9hcHAtY2xpZW50Ly4vc3JjL3BhZ2VzL3JldHJvLXJvb20vcmV0cm8tcm9vbS50cz9lNzA5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGN1c3RvbUVsZW1lbnQsIHJlc29sdmUgfSBmcm9tICdhdXJlbGlhJztcclxuaW1wb3J0IHsgSVJvdXRlciwgSVJvdXRlVmlld01vZGVsLCBQYXJhbXMsIFJvdXRlTm9kZSB9IGZyb20gJ0BhdXJlbGlhL3JvdXRlci1saXRlJztcclxuaW1wb3J0IHsgUmV0cm9TZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvcmV0cm8tc2VydmljZSc7XHJcbmltcG9ydCB7IFNvY2tldFNlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9zb2NrZXQtc2VydmljZSc7XHJcbmltcG9ydCB7IFJldHJvUGhhc2UsIFBIQVNFX0xBQkVMUywgTkVYVF9QSEFTRV9MQUJFTFMsIFJldHJvSXRlbSB9IGZyb20gJy4uLy4uL21vZGVscy9pbnRlcmZhY2VzJztcclxuaW1wb3J0IHRlbXBsYXRlIGZyb20gJy4vcmV0cm8tcm9vbS5odG1sJztcclxuXHJcbkBjdXN0b21FbGVtZW50KHsgbmFtZTogJ3JldHJvLXJvb20nLCB0ZW1wbGF0ZSB9KVxyXG5leHBvcnQgY2xhc3MgUmV0cm9Sb29tIGltcGxlbWVudHMgSVJvdXRlVmlld01vZGVsIHtcclxuICByZXRyb0lkOiBzdHJpbmcgPSAnJztcclxuXHJcbiAgLy8gRGlhbG9nIHN0YXRlXHJcbiAgc2hvd0FkZERpYWxvZzogYm9vbGVhbiA9IGZhbHNlO1xyXG4gIG5ld0l0ZW1UZXh0OiBzdHJpbmcgPSAnJztcclxuXHJcbiAgLy8gVGltZXJcclxuICB0aW1lckRpc3BsYXk6IHN0cmluZyA9ICcnO1xyXG4gIHRpbWVySW50ZXJ2YWw6IGFueSA9IG51bGw7XHJcbiAgY3VzdG9tVGltZXJNaW51dGVzOiBudW1iZXIgPSA1O1xyXG5cclxuICAvLyBCcmFpbnN0b3JtXHJcbiAgbmV3Q29tbWVudFRleHQ6IHN0cmluZyA9ICcnO1xyXG4gIHNlbGVjdGVkQ29tbWVudEl0ZW1JZDogc3RyaW5nID0gJyc7XHJcbiAgc2VsZWN0ZWRCcmFpbnN0b3JtSXRlbUlkczogU2V0PHN0cmluZz4gPSBuZXcgU2V0KCk7XHJcblxyXG4gIC8vIEFjdGlvbiBwb2ludHNcclxuICBuZXdBY3Rpb25UZXh0OiBzdHJpbmcgPSAnJztcclxuICBuZXdBY3Rpb25Bc3NpZ25lZTogc3RyaW5nID0gJyc7XHJcblxyXG4gIC8vIENvbmZpcm0gbmV4dCBwaGFzZVxyXG4gIHNob3dDb25maXJtTmV4dDogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICBwcml2YXRlIHJvdXRlcjogSVJvdXRlciA9IHJlc29sdmUoSVJvdXRlcik7XHJcbiAgcHVibGljIHJldHJvU2VydmljZTogUmV0cm9TZXJ2aWNlID0gcmVzb2x2ZShSZXRyb1NlcnZpY2UpO1xyXG4gIHByaXZhdGUgc29ja2V0U2VydmljZTogU29ja2V0U2VydmljZSA9IHJlc29sdmUoU29ja2V0U2VydmljZSk7XHJcblxyXG4gIGxvYWRpbmcocGFyYW1zOiBQYXJhbXMsIG5leHQ6IFJvdXRlTm9kZSk6IHZvaWQge1xyXG4gICAgdGhpcy5yZXRyb0lkID0gcGFyYW1zLnJldHJvSWQgYXMgc3RyaW5nO1xyXG5cclxuICAgIGNvbnN0IHBhcnRpY2lwYW50TmFtZSA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3BhcnRpY2lwYW50TmFtZScpO1xyXG4gICAgaWYgKCFwYXJ0aWNpcGFudE5hbWUpIHtcclxuICAgICAgdGhpcy5yb3V0ZXIubG9hZChgam9pbi8ke3RoaXMucmV0cm9JZH1gKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMucmV0cm9TZXJ2aWNlLmNvbm5lY3QoKTtcclxuICAgIGNvbnN0IGFkbWluVG9rZW4gPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdhZG1pblRva2VuJykgfHwgJyc7XHJcbiAgICB0aGlzLnJldHJvU2VydmljZS5qb2luUmV0cm8odGhpcy5yZXRyb0lkLCBwYXJ0aWNpcGFudE5hbWUsIGFkbWluVG9rZW4gfHwgdW5kZWZpbmVkKTtcclxuXHJcbiAgICB0aGlzLnJldHJvU2VydmljZS5vblN0YXRlQ2hhbmdlID0gKCkgPT4ge1xyXG4gICAgICB0aGlzLnVwZGF0ZVRpbWVyKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMudGltZXJJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHRoaXMudXBkYXRlVGltZXIoKSwgMTAwMCk7XHJcbiAgfVxyXG5cclxuICBkZXRhY2hpbmcoKTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy50aW1lckludGVydmFsKSB7XHJcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lckludGVydmFsKTtcclxuICAgIH1cclxuICAgIHRoaXMucmV0cm9TZXJ2aWNlLm9uU3RhdGVDaGFuZ2UgPSBudWxsO1xyXG4gIH1cclxuXHJcbiAgLy8gUGhhc2UgaGVscGVyc1xyXG4gIGdldCBwaGFzZUxhYmVsKCk6IHN0cmluZyB7XHJcbiAgICBjb25zdCBwaGFzZSA9IHRoaXMucmV0cm9TZXJ2aWNlLmN1cnJlbnRQaGFzZTtcclxuICAgIHJldHVybiBwaGFzZSA/IFBIQVNFX0xBQkVMU1twaGFzZV0gOiAnJztcclxuICB9XHJcblxyXG4gIGdldCBuZXh0UGhhc2VMYWJlbCgpOiBzdHJpbmcge1xyXG4gICAgY29uc3QgcGhhc2UgPSB0aGlzLnJldHJvU2VydmljZS5jdXJyZW50UGhhc2U7XHJcbiAgICByZXR1cm4gcGhhc2UgPyAoTkVYVF9QSEFTRV9MQUJFTFNbcGhhc2VdIHx8ICcnKSA6ICcnO1xyXG4gIH1cclxuXHJcbiAgZ2V0IGlzQWRtaW4oKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy5yZXRyb1NlcnZpY2UuaXNBZG1pbjtcclxuICB9XHJcblxyXG4gIGdldCBwaGFzZSgpOiBSZXRyb1BoYXNlIHwgbnVsbCB7XHJcbiAgICByZXR1cm4gdGhpcy5yZXRyb1NlcnZpY2UuY3VycmVudFBoYXNlO1xyXG4gIH1cclxuXHJcbiAgZ2V0IGlzSXRlbVBoYXNlKCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMucGhhc2UgPT09IFJldHJvUGhhc2UuR09PRF9JVEVNUyB8fCB0aGlzLnBoYXNlID09PSBSZXRyb1BoYXNlLklNUFJPVkVfSVRFTVM7XHJcbiAgfVxyXG5cclxuICBnZXQgaXNWb3RpbmdQaGFzZSgpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLnBoYXNlID09PSBSZXRyb1BoYXNlLkdPT0RfVk9USU5HIHx8IHRoaXMucGhhc2UgPT09IFJldHJvUGhhc2UuSU1QUk9WRV9WT1RJTkc7XHJcbiAgfVxyXG5cclxuICBnZXQgY3VycmVudENhdGVnb3J5KCk6ICdnb29kJyB8ICdpbXByb3ZlJyB7XHJcbiAgICBpZiAodGhpcy5waGFzZSA9PT0gUmV0cm9QaGFzZS5JTVBST1ZFX0lURU1TIHx8IHRoaXMucGhhc2UgPT09IFJldHJvUGhhc2UuSU1QUk9WRV9WT1RJTkcpIHtcclxuICAgICAgcmV0dXJuICdpbXByb3ZlJztcclxuICAgIH1cclxuICAgIHJldHVybiAnZ29vZCc7XHJcbiAgfVxyXG5cclxuICBnZXQgdmlzaWJsZUl0ZW1zKCk6IFJldHJvSXRlbVtdIHtcclxuICAgIGNvbnN0IHNlc3Npb24gPSB0aGlzLnJldHJvU2VydmljZS5zZXNzaW9uO1xyXG4gICAgaWYgKCFzZXNzaW9uKSByZXR1cm4gW107XHJcblxyXG4gICAgaWYgKHRoaXMucGhhc2UgPT09IFJldHJvUGhhc2UuR09PRF9JVEVNUyB8fCB0aGlzLnBoYXNlID09PSBSZXRyb1BoYXNlLkdPT0RfVk9USU5HKSB7XHJcbiAgICAgIHJldHVybiBzZXNzaW9uLml0ZW1zLmZpbHRlcihpID0+IGkuY2F0ZWdvcnkgPT09ICdnb29kJyk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5waGFzZSA9PT0gUmV0cm9QaGFzZS5JTVBST1ZFX0lURU1TIHx8IHRoaXMucGhhc2UgPT09IFJldHJvUGhhc2UuSU1QUk9WRV9WT1RJTkcpIHtcclxuICAgICAgcmV0dXJuIHNlc3Npb24uaXRlbXMuZmlsdGVyKGkgPT4gaS5jYXRlZ29yeSA9PT0gJ2ltcHJvdmUnKTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzLnBoYXNlID09PSBSZXRyb1BoYXNlLkJSQUlOU1RPUk1JTkcpIHtcclxuICAgICAgcmV0dXJuIHNlc3Npb24uaXRlbXMuZmlsdGVyKGkgPT4gc2Vzc2lvbi5icmFpbnN0b3JtSXRlbUlkcy5pbmNsdWRlcyhpLmlkKSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gc2Vzc2lvbi5pdGVtcztcclxuICB9XHJcblxyXG4gIGdldCBzb3J0ZWRWaXNpYmxlSXRlbXMoKTogUmV0cm9JdGVtW10ge1xyXG4gICAgaWYgKHRoaXMuaXNWb3RpbmdQaGFzZSB8fCB0aGlzLnBoYXNlID09PSBSZXRyb1BoYXNlLkJSQUlOU1RPUk1JTkcgfHwgdGhpcy5waGFzZSA9PT0gUmV0cm9QaGFzZS5DTE9TRUQpIHtcclxuICAgICAgcmV0dXJuIFsuLi50aGlzLnZpc2libGVJdGVtc10uc29ydCgoYSwgYikgPT4gYi52b3Rlcy5sZW5ndGggLSBhLnZvdGVzLmxlbmd0aCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGhpcy52aXNpYmxlSXRlbXM7XHJcbiAgfVxyXG5cclxuICBnZXQgaW1wcm92ZW1lbnRJdGVtc1NvcnRlZEJ5Vm90ZXMoKTogUmV0cm9JdGVtW10ge1xyXG4gICAgY29uc3Qgc2Vzc2lvbiA9IHRoaXMucmV0cm9TZXJ2aWNlLnNlc3Npb247XHJcbiAgICBpZiAoIXNlc3Npb24pIHJldHVybiBbXTtcclxuICAgIHJldHVybiBzZXNzaW9uLml0ZW1zXHJcbiAgICAgIC5maWx0ZXIoaSA9PiBpLmNhdGVnb3J5ID09PSAnaW1wcm92ZScpXHJcbiAgICAgIC5zb3J0KChhLCBiKSA9PiBiLnZvdGVzLmxlbmd0aCAtIGEudm90ZXMubGVuZ3RoKTtcclxuICB9XHJcblxyXG4gIGdldCBicmFpbnN0b3JtSXRlbXMoKTogUmV0cm9JdGVtW10ge1xyXG4gICAgY29uc3Qgc2Vzc2lvbiA9IHRoaXMucmV0cm9TZXJ2aWNlLnNlc3Npb247XHJcbiAgICBpZiAoIXNlc3Npb24pIHJldHVybiBbXTtcclxuICAgIHJldHVybiBzZXNzaW9uLml0ZW1zLmZpbHRlcihpID0+IHNlc3Npb24uYnJhaW5zdG9ybUl0ZW1JZHMuaW5jbHVkZXMoaS5pZCkpO1xyXG4gIH1cclxuXHJcbiAgLy8gQWN0aW9uc1xyXG4gIG9wZW5BZGREaWFsb2coKTogdm9pZCB7XHJcbiAgICB0aGlzLm5ld0l0ZW1UZXh0ID0gJyc7XHJcbiAgICB0aGlzLnNob3dBZGREaWFsb2cgPSB0cnVlO1xyXG4gIH1cclxuXHJcbiAgY2xvc2VBZGREaWFsb2coKTogdm9pZCB7XHJcbiAgICB0aGlzLnNob3dBZGREaWFsb2cgPSBmYWxzZTtcclxuICAgIHRoaXMubmV3SXRlbVRleHQgPSAnJztcclxuICB9XHJcblxyXG4gIHNhdmVJdGVtKCk6IHZvaWQge1xyXG4gICAgaWYgKCF0aGlzLm5ld0l0ZW1UZXh0LnRyaW0oKSkgcmV0dXJuO1xyXG4gICAgdGhpcy5yZXRyb1NlcnZpY2UuYWRkSXRlbSh0aGlzLm5ld0l0ZW1UZXh0LnRyaW0oKSwgdGhpcy5jdXJyZW50Q2F0ZWdvcnkpO1xyXG4gICAgdGhpcy5jbG9zZUFkZERpYWxvZygpO1xyXG4gIH1cclxuXHJcbiAgdG9nZ2xlVm90ZShpdGVtSWQ6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgY29uc3QgaXRlbSA9IHRoaXMucmV0cm9TZXJ2aWNlLnNlc3Npb24/Lml0ZW1zLmZpbmQoaSA9PiBpLmlkID09PSBpdGVtSWQpO1xyXG4gICAgaWYgKCFpdGVtKSByZXR1cm47XHJcbiAgICBjb25zdCBuYW1lID0gdGhpcy5yZXRyb1NlcnZpY2UucGFydGljaXBhbnROYW1lO1xyXG4gICAgaWYgKGl0ZW0udm90ZXMuaW5jbHVkZXMobmFtZSkpIHtcclxuICAgICAgdGhpcy5yZXRyb1NlcnZpY2UudW52b3RlKGl0ZW1JZCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnJldHJvU2VydmljZS52b3RlKGl0ZW1JZCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBoYXNWb3RlZChpdGVtOiBSZXRyb0l0ZW0pOiBib29sZWFuIHtcclxuICAgIHJldHVybiBpdGVtLnZvdGVzLmluY2x1ZGVzKHRoaXMucmV0cm9TZXJ2aWNlLnBhcnRpY2lwYW50TmFtZSk7XHJcbiAgfVxyXG5cclxuICBjb25maXJtTmV4dFBoYXNlKCk6IHZvaWQge1xyXG4gICAgdGhpcy5zaG93Q29uZmlybU5leHQgPSB0cnVlO1xyXG4gIH1cclxuXHJcbiAgY2FuY2VsTmV4dFBoYXNlKCk6IHZvaWQge1xyXG4gICAgdGhpcy5zaG93Q29uZmlybU5leHQgPSBmYWxzZTtcclxuICB9XHJcblxyXG4gIG5leHRQaGFzZSgpOiB2b2lkIHtcclxuICAgIHRoaXMuc2hvd0NvbmZpcm1OZXh0ID0gZmFsc2U7XHJcbiAgICB0aGlzLnJldHJvU2VydmljZS5jaGFuZ2VQaGFzZSgpO1xyXG4gIH1cclxuXHJcbiAgc3RhcnRUaW1lcigpOiB2b2lkIHtcclxuICAgIHRoaXMucmV0cm9TZXJ2aWNlLnN0YXJ0VGltZXIodGhpcy5jdXN0b21UaW1lck1pbnV0ZXMgKiA2MCk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGVUaW1lcigpOiB2b2lkIHtcclxuICAgIGNvbnN0IHNlc3Npb24gPSB0aGlzLnJldHJvU2VydmljZS5zZXNzaW9uO1xyXG4gICAgaWYgKCFzZXNzaW9uPy50aW1lckVuZHNBdCkge1xyXG4gICAgICB0aGlzLnRpbWVyRGlzcGxheSA9ICcnO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBjb25zdCByZW1haW5pbmcgPSBNYXRoLm1heCgwLCBuZXcgRGF0ZShzZXNzaW9uLnRpbWVyRW5kc0F0KS5nZXRUaW1lKCkgLSBEYXRlLm5vdygpKTtcclxuICAgIGlmIChyZW1haW5pbmcgPD0gMCkge1xyXG4gICAgICB0aGlzLnRpbWVyRGlzcGxheSA9ICdUaW1lIGlzIHVwISc7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGNvbnN0IG1pbnV0ZXMgPSBNYXRoLmZsb29yKHJlbWFpbmluZyAvIDYwMDAwKTtcclxuICAgIGNvbnN0IHNlY29uZHMgPSBNYXRoLmZsb29yKChyZW1haW5pbmcgJSA2MDAwMCkgLyAxMDAwKTtcclxuICAgIHRoaXMudGltZXJEaXNwbGF5ID0gYCR7bWludXRlc306JHtzZWNvbmRzLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKX1gO1xyXG4gIH1cclxuXHJcbiAgLy8gQnJhaW5zdG9ybVxyXG4gIHRvZ2dsZUJyYWluc3Rvcm1JdGVtKGl0ZW1JZDogc3RyaW5nKTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5zZWxlY3RlZEJyYWluc3Rvcm1JdGVtSWRzLmhhcyhpdGVtSWQpKSB7XHJcbiAgICAgIHRoaXMuc2VsZWN0ZWRCcmFpbnN0b3JtSXRlbUlkcy5kZWxldGUoaXRlbUlkKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuc2VsZWN0ZWRCcmFpbnN0b3JtSXRlbUlkcy5hZGQoaXRlbUlkKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGlzQnJhaW5zdG9ybVNlbGVjdGVkKGl0ZW1JZDogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy5zZWxlY3RlZEJyYWluc3Rvcm1JdGVtSWRzLmhhcyhpdGVtSWQpO1xyXG4gIH1cclxuXHJcbiAgY29uZmlybUJyYWluc3Rvcm1TZWxlY3Rpb24oKTogdm9pZCB7XHJcbiAgICB0aGlzLnJldHJvU2VydmljZS5zZWxlY3RCcmFpbnN0b3JtSXRlbXMoQXJyYXkuZnJvbSh0aGlzLnNlbGVjdGVkQnJhaW5zdG9ybUl0ZW1JZHMpKTtcclxuICB9XHJcblxyXG4gIGFkZENvbW1lbnQoaXRlbUlkOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgIGlmICghdGhpcy5uZXdDb21tZW50VGV4dC50cmltKCkpIHJldHVybjtcclxuICAgIHRoaXMucmV0cm9TZXJ2aWNlLmFkZEJyYWluc3Rvcm1Db21tZW50KGl0ZW1JZCwgdGhpcy5uZXdDb21tZW50VGV4dC50cmltKCkpO1xyXG4gICAgdGhpcy5uZXdDb21tZW50VGV4dCA9ICcnO1xyXG4gIH1cclxuXHJcbiAgZ2V0Q29tbWVudHNGb3JJdGVtKGl0ZW1JZDogc3RyaW5nKSB7XHJcbiAgICByZXR1cm4gdGhpcy5yZXRyb1NlcnZpY2Uuc2Vzc2lvbj8uYnJhaW5zdG9ybUNvbW1lbnRzLmZpbHRlcihjID0+IGMuaXRlbUlkID09PSBpdGVtSWQpIHx8IFtdO1xyXG4gIH1cclxuXHJcbiAgLy8gQWN0aW9uIHBvaW50c1xyXG4gIGFkZEFjdGlvblBvaW50KCk6IHZvaWQge1xyXG4gICAgaWYgKCF0aGlzLm5ld0FjdGlvblRleHQudHJpbSgpIHx8ICF0aGlzLm5ld0FjdGlvbkFzc2lnbmVlLnRyaW0oKSkgcmV0dXJuO1xyXG4gICAgdGhpcy5yZXRyb1NlcnZpY2UuYWRkQWN0aW9uUG9pbnQodGhpcy5uZXdBY3Rpb25UZXh0LnRyaW0oKSwgdGhpcy5uZXdBY3Rpb25Bc3NpZ25lZS50cmltKCkpO1xyXG4gICAgdGhpcy5uZXdBY3Rpb25UZXh0ID0gJyc7XHJcbiAgICB0aGlzLm5ld0FjdGlvbkFzc2lnbmVlID0gJyc7XHJcbiAgfVxyXG5cclxuICBleHBvcnRDc3YoKTogdm9pZCB7XHJcbiAgICB3aW5kb3cub3Blbih0aGlzLnJldHJvU2VydmljZS5leHBvcnRDc3ZVcmwodGhpcy5yZXRyb0lkKSwgJ19ibGFuaycpO1xyXG4gIH1cclxuXHJcbiAgZGlzbWlzc0Vycm9yKCk6IHZvaWQge1xyXG4gICAgdGhpcy5yZXRyb1NlcnZpY2UuY2xlYXJFcnJvcigpO1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/pages/retro-room/retro-room.ts\n\n}");

/***/ },

/***/ "./src/services/retro-service.ts"
/*!***************************************!*\
  !*** ./src/services/retro-service.ts ***!
  \***************************************/
(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RetroService: () => (/* binding */ RetroService)\n/* harmony export */ });\n/* harmony import */ var _models_interfaces__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../models/interfaces */ \"./src/models/interfaces.ts\");\n\nclass RetroService {\n    socketService;\n    session = null;\n    participantName = '';\n    adminToken = '';\n    error = '';\n    // Callbacks for UI updates\n    onStateChange = null;\n    constructor(socketService) {\n        this.socketService = socketService;\n    }\n    get isAdmin() {\n        return this.adminToken !== '';\n    }\n    get currentPhase() {\n        return this.session?.phase ?? null;\n    }\n    connect() {\n        this.socketService.connect();\n        this.setupListeners();\n    }\n    setupListeners() {\n        this.socketService.on('retro:state', (data) => {\n            this.session = data;\n            this.notify();\n        });\n        this.socketService.on('retro:participant-joined', (participant) => {\n            if (this.session && !this.session.participants.find(p => p.name === participant.name)) {\n                this.session.participants.push(participant);\n                this.notify();\n            }\n        });\n        this.socketService.on('retro:participant-left', ({ name }) => {\n            if (this.session) {\n                this.session.participants = this.session.participants.filter(p => p.name !== name);\n                this.notify();\n            }\n        });\n        this.socketService.on('retro:item-added', (item) => {\n            if (this.session) {\n                this.session.items.push(item);\n                this.notify();\n            }\n        });\n        this.socketService.on('retro:vote-updated', ({ itemId, votes }) => {\n            if (this.session) {\n                const item = this.session.items.find(i => i.id === itemId);\n                if (item) {\n                    item.votes = votes;\n                    this.notify();\n                }\n            }\n        });\n        this.socketService.on('retro:phase-changed', ({ phase }) => {\n            if (this.session) {\n                this.session.phase = phase;\n                if (phase === _models_interfaces__WEBPACK_IMPORTED_MODULE_0__.RetroPhase.CLOSED) {\n                    this.session.closedAt = new Date().toISOString();\n                }\n                this.notify();\n            }\n        });\n        this.socketService.on('retro:timer-started', ({ endsAt }) => {\n            if (this.session) {\n                this.session.timerEndsAt = endsAt;\n                this.notify();\n            }\n        });\n        this.socketService.on('retro:brainstorm-items-selected', ({ itemIds }) => {\n            if (this.session) {\n                this.session.brainstormItemIds = itemIds;\n                this.notify();\n            }\n        });\n        this.socketService.on('retro:brainstorm-comment-added', (comment) => {\n            if (this.session) {\n                this.session.brainstormComments.push(comment);\n                this.notify();\n            }\n        });\n        this.socketService.on('retro:action-point-added', (actionPoint) => {\n            if (this.session) {\n                this.session.actionPoints.push(actionPoint);\n                this.notify();\n            }\n        });\n        this.socketService.on('retro:closed', ({ closedAt }) => {\n            if (this.session) {\n                this.session.phase = _models_interfaces__WEBPACK_IMPORTED_MODULE_0__.RetroPhase.CLOSED;\n                this.session.closedAt = closedAt;\n                this.notify();\n            }\n        });\n        this.socketService.on('retro:error', ({ message }) => {\n            this.error = message;\n            this.notify();\n        });\n    }\n    joinRetro(retroId, name, adminToken) {\n        this.participantName = name;\n        if (adminToken)\n            this.adminToken = adminToken;\n        this.socketService.emit('retro:join', { retroId, participantName: name, adminToken });\n    }\n    addItem(text, category) {\n        this.socketService.emit('retro:add-item', { text, category });\n    }\n    vote(itemId) {\n        this.socketService.emit('retro:vote', { itemId });\n    }\n    unvote(itemId) {\n        this.socketService.emit('retro:unvote', { itemId });\n    }\n    changePhase() {\n        this.socketService.emit('retro:change-phase', {});\n    }\n    startTimer(duration) {\n        this.socketService.emit('retro:start-timer', { duration });\n    }\n    selectBrainstormItems(itemIds) {\n        this.socketService.emit('retro:select-brainstorm-items', { itemIds });\n    }\n    addBrainstormComment(itemId, text) {\n        this.socketService.emit('retro:add-brainstorm-comment', { itemId, text });\n    }\n    addActionPoint(text, assignee) {\n        this.socketService.emit('retro:add-action-point', { text, assignee });\n    }\n    async createRetro(sprintName, timerDuration) {\n        const res = await fetch('/api/retro', {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({ sprintName, timerDuration })\n        });\n        if (!res.ok) {\n            const err = await res.json();\n            throw new Error(err.error);\n        }\n        const data = await res.json();\n        this.adminToken = data.adminToken;\n        return data;\n    }\n    async fetchRetroList() {\n        const res = await fetch('/api/retros');\n        return res.json();\n    }\n    exportCsvUrl(retroId) {\n        return `/api/retro/${retroId}/export`;\n    }\n    clearError() {\n        this.error = '';\n    }\n    notify() {\n        this.onStateChange?.();\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFHLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDcEIsQ0FBQztJQUVELFlBQVksQ0FBQyxPQUFlO1FBQzFCLE9BQU8sOEJBQThCLENBQUM7SUFDeEMsQ0FBQztJQUVELFVBQVU7UUFDUixJQUFJLENBQUMsS0FBSyxHQUFHLEVBQUUsQ0FBQztJQUNsQixDQUFDO0lBRU8sTUFBTTtRQUNaLElBQUksQ0FBQyxhQUFhLEVBQUUsRUFBRSxDQUFDO0lBQ3pCLENBQUM7Q0FDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3JldHJvYXBwLWNsaWVudC8uL3NyYy9zZXJ2aWNlcy9yZXRyby1zZXJ2aWNlLnRzPzRmMTkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU29ja2V0U2VydmljZSB9IGZyb20gJy4vc29ja2V0LXNlcnZpY2UnO1xyXG5pbXBvcnQge1xyXG4gIFJldHJvU2Vzc2lvbiwgUmV0cm9QaGFzZSwgUmV0cm9JdGVtLFxyXG4gIEFjdGlvblBvaW50LCBCcmFpbnN0b3JtQ29tbWVudCwgUGFydGljaXBhbnRcclxufSBmcm9tICcuLi9tb2RlbHMvaW50ZXJmYWNlcyc7XHJcblxyXG5leHBvcnQgY2xhc3MgUmV0cm9TZXJ2aWNlIHtcclxuICBwcml2YXRlIHNvY2tldFNlcnZpY2U6IFNvY2tldFNlcnZpY2U7XHJcblxyXG4gIHB1YmxpYyBzZXNzaW9uOiBSZXRyb1Nlc3Npb24gfCBudWxsID0gbnVsbDtcclxuICBwdWJsaWMgcGFydGljaXBhbnROYW1lOiBzdHJpbmcgPSAnJztcclxuICBwdWJsaWMgYWRtaW5Ub2tlbjogc3RyaW5nID0gJyc7XHJcbiAgcHVibGljIGVycm9yOiBzdHJpbmcgPSAnJztcclxuXHJcbiAgLy8gQ2FsbGJhY2tzIGZvciBVSSB1cGRhdGVzXHJcbiAgcHVibGljIG9uU3RhdGVDaGFuZ2U6ICgoKSA9PiB2b2lkKSB8IG51bGwgPSBudWxsO1xyXG5cclxuICBjb25zdHJ1Y3Rvcihzb2NrZXRTZXJ2aWNlOiBTb2NrZXRTZXJ2aWNlKSB7XHJcbiAgICB0aGlzLnNvY2tldFNlcnZpY2UgPSBzb2NrZXRTZXJ2aWNlO1xyXG4gIH1cclxuXHJcbiAgZ2V0IGlzQWRtaW4oKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy5hZG1pblRva2VuICE9PSAnJztcclxuICB9XHJcblxyXG4gIGdldCBjdXJyZW50UGhhc2UoKTogUmV0cm9QaGFzZSB8IG51bGwge1xyXG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbj8ucGhhc2UgPz8gbnVsbDtcclxuICB9XHJcblxyXG4gIGNvbm5lY3QoKTogdm9pZCB7XHJcbiAgICB0aGlzLnNvY2tldFNlcnZpY2UuY29ubmVjdCgpO1xyXG4gICAgdGhpcy5zZXR1cExpc3RlbmVycygpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBzZXR1cExpc3RlbmVycygpOiB2b2lkIHtcclxuICAgIHRoaXMuc29ja2V0U2VydmljZS5vbigncmV0cm86c3RhdGUnLCAoZGF0YTogUmV0cm9TZXNzaW9uKSA9PiB7XHJcbiAgICAgIHRoaXMuc2Vzc2lvbiA9IGRhdGE7XHJcbiAgICAgIHRoaXMubm90aWZ5KCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLnNvY2tldFNlcnZpY2Uub24oJ3JldHJvOnBhcnRpY2lwYW50LWpvaW5lZCcsIChwYXJ0aWNpcGFudDogUGFydGljaXBhbnQpID0+IHtcclxuICAgICAgaWYgKHRoaXMuc2Vzc2lvbiAmJiAhdGhpcy5zZXNzaW9uLnBhcnRpY2lwYW50cy5maW5kKHAgPT4gcC5uYW1lID09PSBwYXJ0aWNpcGFudC5uYW1lKSkge1xyXG4gICAgICAgIHRoaXMuc2Vzc2lvbi5wYXJ0aWNpcGFudHMucHVzaChwYXJ0aWNpcGFudCk7XHJcbiAgICAgICAgdGhpcy5ub3RpZnkoKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5zb2NrZXRTZXJ2aWNlLm9uKCdyZXRybzpwYXJ0aWNpcGFudC1sZWZ0JywgKHsgbmFtZSB9OiB7IG5hbWU6IHN0cmluZyB9KSA9PiB7XHJcbiAgICAgIGlmICh0aGlzLnNlc3Npb24pIHtcclxuICAgICAgICB0aGlzLnNlc3Npb24ucGFydGljaXBhbnRzID0gdGhpcy5zZXNzaW9uLnBhcnRpY2lwYW50cy5maWx0ZXIocCA9PiBwLm5hbWUgIT09IG5hbWUpO1xyXG4gICAgICAgIHRoaXMubm90aWZ5KCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuc29ja2V0U2VydmljZS5vbigncmV0cm86aXRlbS1hZGRlZCcsIChpdGVtOiBSZXRyb0l0ZW0pID0+IHtcclxuICAgICAgaWYgKHRoaXMuc2Vzc2lvbikge1xyXG4gICAgICAgIHRoaXMuc2Vzc2lvbi5pdGVtcy5wdXNoKGl0ZW0pO1xyXG4gICAgICAgIHRoaXMubm90aWZ5KCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuc29ja2V0U2VydmljZS5vbigncmV0cm86dm90ZS11cGRhdGVkJywgKHsgaXRlbUlkLCB2b3RlcyB9OiB7IGl0ZW1JZDogc3RyaW5nOyB2b3Rlczogc3RyaW5nW10gfSkgPT4ge1xyXG4gICAgICBpZiAodGhpcy5zZXNzaW9uKSB7XHJcbiAgICAgICAgY29uc3QgaXRlbSA9IHRoaXMuc2Vzc2lvbi5pdGVtcy5maW5kKGkgPT4gaS5pZCA9PT0gaXRlbUlkKTtcclxuICAgICAgICBpZiAoaXRlbSkge1xyXG4gICAgICAgICAgaXRlbS52b3RlcyA9IHZvdGVzO1xyXG4gICAgICAgICAgdGhpcy5ub3RpZnkoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuc29ja2V0U2VydmljZS5vbigncmV0cm86cGhhc2UtY2hhbmdlZCcsICh7IHBoYXNlIH06IHsgcGhhc2U6IFJldHJvUGhhc2UgfSkgPT4ge1xyXG4gICAgICBpZiAodGhpcy5zZXNzaW9uKSB7XHJcbiAgICAgICAgdGhpcy5zZXNzaW9uLnBoYXNlID0gcGhhc2U7XHJcbiAgICAgICAgaWYgKHBoYXNlID09PSBSZXRyb1BoYXNlLkNMT1NFRCkge1xyXG4gICAgICAgICAgdGhpcy5zZXNzaW9uLmNsb3NlZEF0ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm5vdGlmeSgpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLnNvY2tldFNlcnZpY2Uub24oJ3JldHJvOnRpbWVyLXN0YXJ0ZWQnLCAoeyBlbmRzQXQgfTogeyBlbmRzQXQ6IHN0cmluZyB9KSA9PiB7XHJcbiAgICAgIGlmICh0aGlzLnNlc3Npb24pIHtcclxuICAgICAgICB0aGlzLnNlc3Npb24udGltZXJFbmRzQXQgPSBlbmRzQXQ7XHJcbiAgICAgICAgdGhpcy5ub3RpZnkoKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5zb2NrZXRTZXJ2aWNlLm9uKCdyZXRybzpicmFpbnN0b3JtLWl0ZW1zLXNlbGVjdGVkJywgKHsgaXRlbUlkcyB9OiB7IGl0ZW1JZHM6IHN0cmluZ1tdIH0pID0+IHtcclxuICAgICAgaWYgKHRoaXMuc2Vzc2lvbikge1xyXG4gICAgICAgIHRoaXMuc2Vzc2lvbi5icmFpbnN0b3JtSXRlbUlkcyA9IGl0ZW1JZHM7XHJcbiAgICAgICAgdGhpcy5ub3RpZnkoKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5zb2NrZXRTZXJ2aWNlLm9uKCdyZXRybzpicmFpbnN0b3JtLWNvbW1lbnQtYWRkZWQnLCAoY29tbWVudDogQnJhaW5zdG9ybUNvbW1lbnQpID0+IHtcclxuICAgICAgaWYgKHRoaXMuc2Vzc2lvbikge1xyXG4gICAgICAgIHRoaXMuc2Vzc2lvbi5icmFpbnN0b3JtQ29tbWVudHMucHVzaChjb21tZW50KTtcclxuICAgICAgICB0aGlzLm5vdGlmeSgpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLnNvY2tldFNlcnZpY2Uub24oJ3JldHJvOmFjdGlvbi1wb2ludC1hZGRlZCcsIChhY3Rpb25Qb2ludDogQWN0aW9uUG9pbnQpID0+IHtcclxuICAgICAgaWYgKHRoaXMuc2Vzc2lvbikge1xyXG4gICAgICAgIHRoaXMuc2Vzc2lvbi5hY3Rpb25Qb2ludHMucHVzaChhY3Rpb25Qb2ludCk7XHJcbiAgICAgICAgdGhpcy5ub3RpZnkoKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5zb2NrZXRTZXJ2aWNlLm9uKCdyZXRybzpjbG9zZWQnLCAoeyBjbG9zZWRBdCB9OiB7IGNsb3NlZEF0OiBzdHJpbmcgfSkgPT4ge1xyXG4gICAgICBpZiAodGhpcy5zZXNzaW9uKSB7XHJcbiAgICAgICAgdGhpcy5zZXNzaW9uLnBoYXNlID0gUmV0cm9QaGFzZS5DTE9TRUQ7XHJcbiAgICAgICAgdGhpcy5zZXNzaW9uLmNsb3NlZEF0ID0gY2xvc2VkQXQ7XHJcbiAgICAgICAgdGhpcy5ub3RpZnkoKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5zb2NrZXRTZXJ2aWNlLm9uKCdyZXRybzplcnJvcicsICh7IG1lc3NhZ2UgfTogeyBtZXNzYWdlOiBzdHJpbmcgfSkgPT4ge1xyXG4gICAgICB0aGlzLmVycm9yID0gbWVzc2FnZTtcclxuICAgICAgdGhpcy5ub3RpZnkoKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgam9pblJldHJvKHJldHJvSWQ6IHN0cmluZywgbmFtZTogc3RyaW5nLCBhZG1pblRva2VuPzogc3RyaW5nKTogdm9pZCB7XHJcbiAgICB0aGlzLnBhcnRpY2lwYW50TmFtZSA9IG5hbWU7XHJcbiAgICBpZiAoYWRtaW5Ub2tlbikgdGhpcy5hZG1pblRva2VuID0gYWRtaW5Ub2tlbjtcclxuICAgIHRoaXMuc29ja2V0U2VydmljZS5lbWl0KCdyZXRybzpqb2luJywgeyByZXRyb0lkLCBwYXJ0aWNpcGFudE5hbWU6IG5hbWUsIGFkbWluVG9rZW4gfSk7XHJcbiAgfVxyXG5cclxuICBhZGRJdGVtKHRleHQ6IHN0cmluZywgY2F0ZWdvcnk6ICdnb29kJyB8ICdpbXByb3ZlJyk6IHZvaWQge1xyXG4gICAgdGhpcy5zb2NrZXRTZXJ2aWNlLmVtaXQoJ3JldHJvOmFkZC1pdGVtJywgeyB0ZXh0LCBjYXRlZ29yeSB9KTtcclxuICB9XHJcblxyXG4gIHZvdGUoaXRlbUlkOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgIHRoaXMuc29ja2V0U2VydmljZS5lbWl0KCdyZXRybzp2b3RlJywgeyBpdGVtSWQgfSk7XHJcbiAgfVxyXG5cclxuICB1bnZvdGUoaXRlbUlkOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgIHRoaXMuc29ja2V0U2VydmljZS5lbWl0KCdyZXRybzp1bnZvdGUnLCB7IGl0ZW1JZCB9KTtcclxuICB9XHJcblxyXG4gIGNoYW5nZVBoYXNlKCk6IHZvaWQge1xyXG4gICAgdGhpcy5zb2NrZXRTZXJ2aWNlLmVtaXQoJ3JldHJvOmNoYW5nZS1waGFzZScsIHt9KTtcclxuICB9XHJcblxyXG4gIHN0YXJ0VGltZXIoZHVyYXRpb246IG51bWJlcik6IHZvaWQge1xyXG4gICAgdGhpcy5zb2NrZXRTZXJ2aWNlLmVtaXQoJ3JldHJvOnN0YXJ0LXRpbWVyJywgeyBkdXJhdGlvbiB9KTtcclxuICB9XHJcblxyXG4gIHNlbGVjdEJyYWluc3Rvcm1JdGVtcyhpdGVtSWRzOiBzdHJpbmdbXSk6IHZvaWQge1xyXG4gICAgdGhpcy5zb2NrZXRTZXJ2aWNlLmVtaXQoJ3JldHJvOnNlbGVjdC1icmFpbnN0b3JtLWl0ZW1zJywgeyBpdGVtSWRzIH0pO1xyXG4gIH1cclxuXHJcbiAgYWRkQnJhaW5zdG9ybUNvbW1lbnQoaXRlbUlkOiBzdHJpbmcsIHRleHQ6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgdGhpcy5zb2NrZXRTZXJ2aWNlLmVtaXQoJ3JldHJvOmFkZC1icmFpbnN0b3JtLWNvbW1lbnQnLCB7IGl0ZW1JZCwgdGV4dCB9KTtcclxuICB9XHJcblxyXG4gIGFkZEFjdGlvblBvaW50KHRleHQ6IHN0cmluZywgYXNzaWduZWU6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgdGhpcy5zb2NrZXRTZXJ2aWNlLmVtaXQoJ3JldHJvOmFkZC1hY3Rpb24tcG9pbnQnLCB7IHRleHQsIGFzc2lnbmVlIH0pO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgY3JlYXRlUmV0cm8oc3ByaW50TmFtZTogc3RyaW5nLCB0aW1lckR1cmF0aW9uOiBudW1iZXIpOiBQcm9taXNlPHsgcmV0cm9JZDogc3RyaW5nOyBhZG1pblRva2VuOiBzdHJpbmcgfT4ge1xyXG4gICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goJy9hcGkvcmV0cm8nLCB7XHJcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBzcHJpbnROYW1lLCB0aW1lckR1cmF0aW9uIH0pXHJcbiAgICB9KTtcclxuICAgIGlmICghcmVzLm9rKSB7XHJcbiAgICAgIGNvbnN0IGVyciA9IGF3YWl0IHJlcy5qc29uKCk7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihlcnIuZXJyb3IpO1xyXG4gICAgfVxyXG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKCk7XHJcbiAgICB0aGlzLmFkbWluVG9rZW4gPSBkYXRhLmFkbWluVG9rZW47XHJcbiAgICByZXR1cm4gZGF0YTtcclxuICB9XHJcblxyXG4gIGFzeW5jIGZldGNoUmV0cm9MaXN0KCk6IFByb21pc2U8YW55PiB7XHJcbiAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaCgnL2FwaS9yZXRyb3MnKTtcclxuICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gIH1cclxuXHJcbiAgZXhwb3J0Q3N2VXJsKHJldHJvSWQ6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gYC9hcGkvcmV0cm8vJHtyZXRyb0lkfS9leHBvcnRgO1xyXG4gIH1cclxuXHJcbiAgY2xlYXJFcnJvcigpOiB2b2lkIHtcclxuICAgIHRoaXMuZXJyb3IgPSAnJztcclxuICB9XHJcblxyXG4gIHByaXZhdGUgbm90aWZ5KCk6IHZvaWQge1xyXG4gICAgdGhpcy5vblN0YXRlQ2hhbmdlPy4oKTtcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/services/retro-service.ts\n\n}");

/***/ },

/***/ "./src/services/socket-service.ts"
/*!****************************************!*\
  !*** ./src/services/socket-service.ts ***!
  \****************************************/
(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SocketService: () => (/* binding */ SocketService)\n/* harmony export */ });\n/* harmony import */ var socket_io_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! socket.io-client */ \"./node_modules/socket.io-client/build/esm/index.js\");\n\nclass SocketService {\n    socket = null;\n    listeners = new Map();\n    connect() {\n        if (this.socket?.connected)\n            return;\n        // In dev, webpack proxy handles /socket.io â†’ localhost:3000\n        // In prod, same origin\n        this.socket = (0,socket_io_client__WEBPACK_IMPORTED_MODULE_0__.io)({\n            transports: ['websocket', 'polling']\n        });\n        this.socket.on('connect', () => {\n            console.log('Socket connected');\n        });\n        this.socket.on('disconnect', () => {\n            console.log('Socket disconnected');\n        });\n        // Re-register all listeners on the new socket\n        for (const [event, callbacks] of this.listeners) {\n            for (const cb of callbacks) {\n                this.socket.on(event, cb);\n            }\n        }\n    }\n    disconnect() {\n        this.socket?.disconnect();\n        this.socket = null;\n    }\n    emit(event, data) {\n        this.socket?.emit(event, data);\n    }\n    on(event, callback) {\n        if (!this.listeners.has(event)) {\n            this.listeners.set(event, new Set());\n        }\n        this.listeners.get(event).add(callback);\n        this.socket?.on(event, callback);\n    }\n    off(event, callback) {\n        this.listeners.get(event)?.delete(callback);\n        this.socket?.off(event, callback);\n    }\n    get connected() {\n        return this.socket?.connected ?? false;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2VydmljZXMvc29ja2V0LXNlcnZpY2UudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBOEM7QUFFdkMsTUFBTSxhQUFhO0lBQ2hCLE1BQU0sR0FBa0IsSUFBSSxDQUFDO0lBQzdCLFNBQVMsR0FBK0IsSUFBSSxHQUFHLEVBQUUsQ0FBQztJQUUxRCxPQUFPO1FBQ0wsSUFBSSxJQUFJLENBQUMsTUFBTSxFQUFFLFNBQVM7WUFBRSxPQUFPO1FBRW5DLDREQUE0RDtRQUM1RCx1QkFBdUI7UUFDdkIsSUFBSSxDQUFDLE1BQU0sR0FBRyxvREFBRSxDQUFDO1lBQ2YsVUFBVSxFQUFFLENBQUMsV0FBVyxFQUFFLFNBQVMsQ0FBQztTQUNyQyxDQUFDLENBQUM7UUFFSCxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxTQUFTLEVBQUUsR0FBRyxFQUFFO1lBQzdCLE9BQU8sQ0FBQyxHQUFHLENBQUMsa0JBQWtCLENBQUMsQ0FBQztRQUNsQyxDQUFDLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLFlBQVksRUFBRSxHQUFHLEVBQUU7WUFDaEMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDO1FBQ3JDLENBQUMsQ0FBQyxDQUFDO1FBRUgsOENBQThDO1FBQzlDLEtBQUssTUFBTSxDQUFDLEtBQUssRUFBRSxTQUFTLENBQUMsSUFBSSxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7WUFDaEQsS0FBSyxNQUFNLEVBQUUsSUFBSSxTQUFTLEVBQUUsQ0FBQztnQkFDM0IsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsS0FBSyxFQUFFLEVBQVMsQ0FBQyxDQUFDO1lBQ25DLENBQUM7UUFDSCxDQUFDO0lBQ0gsQ0FBQztJQUVELFVBQVU7UUFDUixJQUFJLENBQUMsTUFBTSxFQUFFLFVBQVUsRUFBRSxDQUFDO1FBQzFCLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO0lBQ3JCLENBQUM7SUFFRCxJQUFJLENBQUMsS0FBYSxFQUFFLElBQVU7UUFDNUIsSUFBSSxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ2pDLENBQUM7SUFFRCxFQUFFLENBQUMsS0FBYSxFQUFFLFFBQWtCO1FBQ2xDLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDO1lBQy9CLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSxJQUFJLEdBQUcsRUFBRSxDQUFDLENBQUM7UUFDdkMsQ0FBQztRQUNELElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBRSxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUN6QyxJQUFJLENBQUMsTUFBTSxFQUFFLEVBQUUsQ0FBQyxLQUFLLEVBQUUsUUFBZSxDQUFDLENBQUM7SUFDMUMsQ0FBQztJQUVELEdBQUcsQ0FBQyxLQUFhLEVBQUUsUUFBa0I7UUFDbkMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLEVBQUUsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQzVDLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBRyxDQUFDLEtBQUssRUFBRSxRQUFlLENBQUMsQ0FBQztJQUMzQyxDQUFDO0lBRUQsSUFBSSxTQUFTO1FBQ1gsT0FBTyxJQUFJLENBQUMsTUFBTSxFQUFFLFNBQVMsSUFBSSxLQUFLLENBQUM7SUFDekMsQ0FBQztDQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmV0cm9hcHAtY2xpZW50Ly4vc3JjL3NlcnZpY2VzL3NvY2tldC1zZXJ2aWNlLnRzPzAwNDkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaW8sIFNvY2tldCB9IGZyb20gJ3NvY2tldC5pby1jbGllbnQnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNvY2tldFNlcnZpY2Uge1xyXG4gIHByaXZhdGUgc29ja2V0OiBTb2NrZXQgfCBudWxsID0gbnVsbDtcclxuICBwcml2YXRlIGxpc3RlbmVyczogTWFwPHN0cmluZywgU2V0PEZ1bmN0aW9uPj4gPSBuZXcgTWFwKCk7XHJcblxyXG4gIGNvbm5lY3QoKTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5zb2NrZXQ/LmNvbm5lY3RlZCkgcmV0dXJuO1xyXG5cclxuICAgIC8vIEluIGRldiwgd2VicGFjayBwcm94eSBoYW5kbGVzIC9zb2NrZXQuaW8g4oaSIGxvY2FsaG9zdDozMDAwXHJcbiAgICAvLyBJbiBwcm9kLCBzYW1lIG9yaWdpblxyXG4gICAgdGhpcy5zb2NrZXQgPSBpbyh7XHJcbiAgICAgIHRyYW5zcG9ydHM6IFsnd2Vic29ja2V0JywgJ3BvbGxpbmcnXVxyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5zb2NrZXQub24oJ2Nvbm5lY3QnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdTb2NrZXQgY29ubmVjdGVkJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLnNvY2tldC5vbignZGlzY29ubmVjdCcsICgpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coJ1NvY2tldCBkaXNjb25uZWN0ZWQnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIFJlLXJlZ2lzdGVyIGFsbCBsaXN0ZW5lcnMgb24gdGhlIG5ldyBzb2NrZXRcclxuICAgIGZvciAoY29uc3QgW2V2ZW50LCBjYWxsYmFja3NdIG9mIHRoaXMubGlzdGVuZXJzKSB7XHJcbiAgICAgIGZvciAoY29uc3QgY2Igb2YgY2FsbGJhY2tzKSB7XHJcbiAgICAgICAgdGhpcy5zb2NrZXQub24oZXZlbnQsIGNiIGFzIGFueSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGRpc2Nvbm5lY3QoKTogdm9pZCB7XHJcbiAgICB0aGlzLnNvY2tldD8uZGlzY29ubmVjdCgpO1xyXG4gICAgdGhpcy5zb2NrZXQgPSBudWxsO1xyXG4gIH1cclxuXHJcbiAgZW1pdChldmVudDogc3RyaW5nLCBkYXRhPzogYW55KTogdm9pZCB7XHJcbiAgICB0aGlzLnNvY2tldD8uZW1pdChldmVudCwgZGF0YSk7XHJcbiAgfVxyXG5cclxuICBvbihldmVudDogc3RyaW5nLCBjYWxsYmFjazogRnVuY3Rpb24pOiB2b2lkIHtcclxuICAgIGlmICghdGhpcy5saXN0ZW5lcnMuaGFzKGV2ZW50KSkge1xyXG4gICAgICB0aGlzLmxpc3RlbmVycy5zZXQoZXZlbnQsIG5ldyBTZXQoKSk7XHJcbiAgICB9XHJcbiAgICB0aGlzLmxpc3RlbmVycy5nZXQoZXZlbnQpIS5hZGQoY2FsbGJhY2spO1xyXG4gICAgdGhpcy5zb2NrZXQ/Lm9uKGV2ZW50LCBjYWxsYmFjayBhcyBhbnkpO1xyXG4gIH1cclxuXHJcbiAgb2ZmKGV2ZW50OiBzdHJpbmcsIGNhbGxiYWNrOiBGdW5jdGlvbik6IHZvaWQge1xyXG4gICAgdGhpcy5saXN0ZW5lcnMuZ2V0KGV2ZW50KT8uZGVsZXRlKGNhbGxiYWNrKTtcclxuICAgIHRoaXMuc29ja2V0Py5vZmYoZXZlbnQsIGNhbGxiYWNrIGFzIGFueSk7XHJcbiAgfVxyXG5cclxuICBnZXQgY29ubmVjdGVkKCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuc29ja2V0Py5jb25uZWN0ZWQgPz8gZmFsc2U7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/services/socket-service.ts\n\n}");

/***/ },

/***/ "./node_modules/@aurelia/expression-parser/dist/esm/index.mjs"
/*!********************************************************************!*\
  !*** ./node_modules/@aurelia/expression-parser/dist/esm/index.mjs ***!
  \********************************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AccessBoundaryExpression: () => (/* binding */ AccessBoundaryExpression),\n/* harmony export */   AccessGlobalExpression: () => (/* binding */ AccessGlobalExpression),\n/* harmony export */   AccessKeyedExpression: () => (/* binding */ AccessKeyedExpression),\n/* harmony export */   AccessMemberExpression: () => (/* binding */ AccessMemberExpression),\n/* harmony export */   AccessScopeExpression: () => (/* binding */ AccessScopeExpression),\n/* harmony export */   AccessThisExpression: () => (/* binding */ AccessThisExpression),\n/* harmony export */   ArrayBindingPattern: () => (/* binding */ ArrayBindingPattern),\n/* harmony export */   ArrayLiteralExpression: () => (/* binding */ ArrayLiteralExpression),\n/* harmony export */   ArrowFunction: () => (/* binding */ ArrowFunction),\n/* harmony export */   AssignExpression: () => (/* binding */ AssignExpression),\n/* harmony export */   BinaryExpression: () => (/* binding */ BinaryExpression),\n/* harmony export */   BindingBehaviorExpression: () => (/* binding */ BindingBehaviorExpression),\n/* harmony export */   BindingIdentifier: () => (/* binding */ BindingIdentifier),\n/* harmony export */   CallFunctionExpression: () => (/* binding */ CallFunctionExpression),\n/* harmony export */   CallGlobalExpression: () => (/* binding */ CallGlobalExpression),\n/* harmony export */   CallMemberExpression: () => (/* binding */ CallMemberExpression),\n/* harmony export */   CallScopeExpression: () => (/* binding */ CallScopeExpression),\n/* harmony export */   ConditionalExpression: () => (/* binding */ ConditionalExpression),\n/* harmony export */   CustomExpression: () => (/* binding */ CustomExpression),\n/* harmony export */   DestructuringAssignmentExpression: () => (/* binding */ DestructuringAssignmentExpression),\n/* harmony export */   DestructuringAssignmentRestExpression: () => (/* binding */ DestructuringAssignmentRestExpression),\n/* harmony export */   DestructuringAssignmentSingleExpression: () => (/* binding */ DestructuringAssignmentSingleExpression),\n/* harmony export */   ExpressionParser: () => (/* binding */ ExpressionParser),\n/* harmony export */   ForOfStatement: () => (/* binding */ ForOfStatement),\n/* harmony export */   IExpressionParser: () => (/* binding */ F),\n/* harmony export */   Interpolation: () => (/* binding */ Interpolation),\n/* harmony export */   ObjectBindingPattern: () => (/* binding */ ObjectBindingPattern),\n/* harmony export */   ObjectLiteralExpression: () => (/* binding */ ObjectLiteralExpression),\n/* harmony export */   PrimitiveLiteralExpression: () => (/* binding */ PrimitiveLiteralExpression),\n/* harmony export */   TaggedTemplateExpression: () => (/* binding */ TaggedTemplateExpression),\n/* harmony export */   TemplateExpression: () => (/* binding */ TemplateExpression),\n/* harmony export */   UnaryExpression: () => (/* binding */ UnaryExpression),\n/* harmony export */   Unparser: () => (/* binding */ Unparser),\n/* harmony export */   ValueConverterExpression: () => (/* binding */ ValueConverterExpression),\n/* harmony export */   astVisit: () => (/* binding */ astVisit),\n/* harmony export */   parseExpression: () => (/* binding */ parseExpression)\n/* harmony export */ });\n/* harmony import */ var _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/kernel */ \"./node_modules/@aurelia/kernel/dist/esm/index.mjs\");\n\n\nconst t = \"AccessThis\";\n\nconst r = \"AccessBoundary\";\n\nconst n = \"AccessGlobal\";\n\nconst i = \"AccessScope\";\n\nconst o = \"ArrayLiteral\";\n\nconst a = \"ObjectLiteral\";\n\nconst c = \"PrimitiveLiteral\";\n\nconst h = \"Template\";\n\nconst l = \"Unary\";\n\nconst u = \"CallScope\";\n\nconst p = \"CallMember\";\n\nconst f = \"CallFunction\";\n\nconst x = \"CallGlobal\";\n\nconst w = \"AccessMember\";\n\nconst E = \"AccessKeyed\";\n\nconst d = \"TaggedTemplate\";\n\nconst m = \"Binary\";\n\nconst k = \"Conditional\";\n\nconst b = \"Assign\";\n\nconst A = \"ArrowFunction\";\n\nconst C = \"ValueConverter\";\n\nconst g = \"BindingBehavior\";\n\nconst T = \"ArrayBindingPattern\";\n\nconst v = \"ObjectBindingPattern\";\n\nconst y = \"BindingIdentifier\";\n\nconst L = \"ForOfStatement\";\n\nconst P = \"Interpolation\";\n\nconst I = \"ArrayDestructuring\";\n\nconst S = \"ObjectDestructuring\";\n\nconst B = \"DestructuringAssignmentLeaf\";\n\nconst $ = \"Custom\";\n\nclass CustomExpression {\n    constructor(e) {\n        this.value = e;\n        this.$kind = $;\n    }\n    evaluate(...e) {\n        return this.value;\n    }\n    assign(...e) {\n        return e;\n    }\n    bind(...e) {}\n    unbind(...e) {}\n    accept(e) {\n        return void 0;\n    }\n}\n\nclass BindingBehaviorExpression {\n    constructor(e, s, t) {\n        this.expression = e;\n        this.name = s;\n        this.args = t;\n        this.$kind = g;\n        this.key = `_bb_${s}`;\n    }\n}\n\nclass ValueConverterExpression {\n    constructor(e, s, t) {\n        this.expression = e;\n        this.name = s;\n        this.args = t;\n        this.$kind = C;\n    }\n}\n\nclass AssignExpression {\n    constructor(e, s, t = \"=\") {\n        this.target = e;\n        this.value = s;\n        this.op = t;\n        this.$kind = b;\n    }\n}\n\nclass ConditionalExpression {\n    constructor(e, s, t) {\n        this.condition = e;\n        this.yes = s;\n        this.no = t;\n        this.$kind = k;\n    }\n}\n\nclass AccessGlobalExpression {\n    constructor(e) {\n        this.name = e;\n        this.$kind = n;\n    }\n}\n\nclass AccessThisExpression {\n    constructor(e = 0) {\n        this.ancestor = e;\n        this.$kind = t;\n    }\n}\n\nclass AccessBoundaryExpression {\n    constructor() {\n        this.$kind = r;\n    }\n}\n\nclass AccessScopeExpression {\n    constructor(e, s = 0) {\n        this.name = e;\n        this.ancestor = s;\n        this.$kind = i;\n    }\n}\n\nconst isAccessGlobal = e => e.$kind === n || (e.$kind === w || e.$kind === E) && e.accessGlobal;\n\nclass AccessMemberExpression {\n    constructor(e, s, t = false) {\n        this.object = e;\n        this.name = s;\n        this.optional = t;\n        this.$kind = w;\n        this.accessGlobal = isAccessGlobal(e);\n    }\n}\n\nclass AccessKeyedExpression {\n    constructor(e, s, t = false) {\n        this.object = e;\n        this.key = s;\n        this.optional = t;\n        this.$kind = E;\n        this.accessGlobal = isAccessGlobal(e);\n    }\n}\n\nclass CallScopeExpression {\n    constructor(e, s, t = 0, r = false) {\n        this.name = e;\n        this.args = s;\n        this.ancestor = t;\n        this.optional = r;\n        this.$kind = u;\n    }\n}\n\nclass CallMemberExpression {\n    constructor(e, s, t, r = false, n = false) {\n        this.object = e;\n        this.name = s;\n        this.args = t;\n        this.optionalMember = r;\n        this.optionalCall = n;\n        this.$kind = p;\n    }\n}\n\nclass CallFunctionExpression {\n    constructor(e, s, t = false) {\n        this.func = e;\n        this.args = s;\n        this.optional = t;\n        this.$kind = f;\n    }\n}\n\nclass CallGlobalExpression {\n    constructor(e, s) {\n        this.name = e;\n        this.args = s;\n        this.$kind = x;\n    }\n}\n\nclass BinaryExpression {\n    constructor(e, s, t) {\n        this.operation = e;\n        this.left = s;\n        this.right = t;\n        this.$kind = m;\n    }\n}\n\nclass UnaryExpression {\n    constructor(e, s, t = 0) {\n        this.operation = e;\n        this.expression = s;\n        this.pos = t;\n        this.$kind = l;\n    }\n}\n\nclass PrimitiveLiteralExpression {\n    constructor(e) {\n        this.value = e;\n        this.$kind = c;\n    }\n}\n\nPrimitiveLiteralExpression.$undefined = new PrimitiveLiteralExpression(void 0);\n\nPrimitiveLiteralExpression.$null = new PrimitiveLiteralExpression(null);\n\nPrimitiveLiteralExpression.$true = new PrimitiveLiteralExpression(true);\n\nPrimitiveLiteralExpression.$false = new PrimitiveLiteralExpression(false);\n\nPrimitiveLiteralExpression.$empty = new PrimitiveLiteralExpression(\"\");\n\nclass ArrayLiteralExpression {\n    constructor(e) {\n        this.elements = e;\n        this.$kind = o;\n    }\n}\n\nArrayLiteralExpression.$empty = new ArrayLiteralExpression(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.emptyArray);\n\nclass ObjectLiteralExpression {\n    constructor(e, s) {\n        this.keys = e;\n        this.values = s;\n        this.$kind = a;\n    }\n}\n\nObjectLiteralExpression.$empty = new ObjectLiteralExpression(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.emptyArray, _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.emptyArray);\n\nclass TemplateExpression {\n    constructor(s, t = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.emptyArray) {\n        this.cooked = s;\n        this.expressions = t;\n        this.$kind = h;\n    }\n}\n\nTemplateExpression.$empty = new TemplateExpression([ \"\" ]);\n\nclass TaggedTemplateExpression {\n    constructor(s, t, r, n = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.emptyArray) {\n        this.cooked = s;\n        this.func = r;\n        this.expressions = n;\n        this.$kind = d;\n        s.raw = t;\n    }\n}\n\nclass ArrayBindingPattern {\n    constructor(e) {\n        this.elements = e;\n        this.$kind = T;\n    }\n}\n\nclass ObjectBindingPattern {\n    constructor(e, s) {\n        this.keys = e;\n        this.values = s;\n        this.$kind = v;\n    }\n}\n\nclass BindingIdentifier {\n    constructor(e) {\n        this.name = e;\n        this.$kind = y;\n    }\n}\n\nclass ForOfStatement {\n    constructor(e, s, t) {\n        this.declaration = e;\n        this.iterable = s;\n        this.semiIdx = t;\n        this.$kind = L;\n    }\n}\n\nclass Interpolation {\n    constructor(s, t = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.emptyArray) {\n        this.parts = s;\n        this.expressions = t;\n        this.$kind = P;\n        this.isMulti = t.length > 1;\n        this.firstExpression = t[0];\n    }\n}\n\nclass DestructuringAssignmentExpression {\n    constructor(e, s, t, r) {\n        this.$kind = e;\n        this.list = s;\n        this.source = t;\n        this.initializer = r;\n    }\n}\n\nclass DestructuringAssignmentSingleExpression {\n    constructor(e, s, t) {\n        this.target = e;\n        this.source = s;\n        this.initializer = t;\n        this.$kind = B;\n    }\n}\n\nclass DestructuringAssignmentRestExpression {\n    constructor(e, s) {\n        this.target = e;\n        this.indexOrProperties = s;\n        this.$kind = B;\n    }\n}\n\nclass ArrowFunction {\n    constructor(e, s, t = false) {\n        this.args = e;\n        this.body = s;\n        this.rest = t;\n        this.$kind = A;\n    }\n}\n\nconst createError = e => new Error(e);\n\nconst isString = e => typeof e === \"string\";\n\nconst O = String;\n\nconst createLookup = () => Object.create(null);\n\nconst astVisit = (e, s) => {\n    switch (e.$kind) {\n      case E:\n        return s.visitAccessKeyed(e);\n\n      case w:\n        return s.visitAccessMember(e);\n\n      case i:\n        return s.visitAccessScope(e);\n\n      case t:\n        return s.visitAccessThis(e);\n\n      case r:\n        return s.visitAccessBoundary(e);\n\n      case T:\n        return s.visitArrayBindingPattern(e);\n\n      case I:\n        return s.visitDestructuringAssignmentExpression(e);\n\n      case o:\n        return s.visitArrayLiteral(e);\n\n      case A:\n        return s.visitArrowFunction(e);\n\n      case b:\n        return s.visitAssign(e);\n\n      case m:\n        return s.visitBinary(e);\n\n      case g:\n        return s.visitBindingBehavior(e);\n\n      case y:\n        return s.visitBindingIdentifier(e);\n\n      case f:\n        return s.visitCallFunction(e);\n\n      case p:\n        return s.visitCallMember(e);\n\n      case u:\n        return s.visitCallScope(e);\n\n      case k:\n        return s.visitConditional(e);\n\n      case B:\n        return s.visitDestructuringAssignmentSingleExpression(e);\n\n      case L:\n        return s.visitForOfStatement(e);\n\n      case P:\n        return s.visitInterpolation(e);\n\n      case v:\n        return s.visitObjectBindingPattern(e);\n\n      case S:\n        return s.visitDestructuringAssignmentExpression(e);\n\n      case a:\n        return s.visitObjectLiteral(e);\n\n      case c:\n        return s.visitPrimitiveLiteral(e);\n\n      case d:\n        return s.visitTaggedTemplate(e);\n\n      case h:\n        return s.visitTemplate(e);\n\n      case l:\n        return s.visitUnary(e);\n\n      case C:\n        return s.visitValueConverter(e);\n\n      case $:\n        return s.visitCustom(e);\n\n      default:\n        {\n            throw createError(`Trying to visit unknown ast node ${JSON.stringify(e)}`);\n        }\n    }\n};\n\nclass Unparser {\n    constructor() {\n        this.text = \"\";\n    }\n    static unparse(e) {\n        const s = new Unparser;\n        astVisit(e, s);\n        return s.text;\n    }\n    visitAccessMember(e) {\n        astVisit(e.object, this);\n        this.text += `${e.optional ? \"?\" : \"\"}.${e.name}`;\n    }\n    visitAccessKeyed(e) {\n        astVisit(e.object, this);\n        this.text += `${e.optional ? \"?.\" : \"\"}[`;\n        astVisit(e.key, this);\n        this.text += \"]\";\n    }\n    visitAccessThis(e) {\n        if (e.ancestor === 0) {\n            this.text += \"$this\";\n            return;\n        }\n        this.text += \"$parent\";\n        let s = e.ancestor - 1;\n        while (s--) {\n            this.text += \".$parent\";\n        }\n    }\n    visitAccessBoundary(e) {\n        this.text += \"this\";\n    }\n    visitAccessScope(e) {\n        let s = e.ancestor;\n        while (s--) {\n            this.text += \"$parent.\";\n        }\n        this.text += e.name;\n    }\n    visitArrayLiteral(e) {\n        const s = e.elements;\n        this.text += \"[\";\n        for (let e = 0, t = s.length; e < t; ++e) {\n            if (e !== 0) {\n                this.text += \",\";\n            }\n            astVisit(s[e], this);\n        }\n        this.text += \"]\";\n    }\n    visitArrowFunction(e) {\n        const s = e.args;\n        const t = s.length;\n        let r = 0;\n        let n = \"(\";\n        let i;\n        for (;r < t; ++r) {\n            i = s[r].name;\n            if (r > 0) {\n                n += \", \";\n            }\n            if (r < t - 1) {\n                n += i;\n            } else {\n                n += e.rest ? `...${i}` : i;\n            }\n        }\n        this.text += `${n}) => `;\n        astVisit(e.body, this);\n    }\n    visitObjectLiteral(e) {\n        const s = e.keys;\n        const t = e.values;\n        this.text += \"{\";\n        for (let e = 0, r = s.length; e < r; ++e) {\n            if (e !== 0) {\n                this.text += \",\";\n            }\n            this.text += `'${s[e]}':`;\n            astVisit(t[e], this);\n        }\n        this.text += \"}\";\n    }\n    visitPrimitiveLiteral(e) {\n        this.text += \"(\";\n        if (isString(e.value)) {\n            const s = e.value.replace(/'/g, \"\\\\'\");\n            this.text += `'${s}'`;\n        } else {\n            this.text += `${e.value}`;\n        }\n        this.text += \")\";\n    }\n    visitCallFunction(e) {\n        this.text += \"(\";\n        astVisit(e.func, this);\n        this.text += e.optional ? \"?.\" : \"\";\n        this.writeArgs(e.args);\n        this.text += \")\";\n    }\n    visitCallMember(e) {\n        this.text += \"(\";\n        astVisit(e.object, this);\n        this.text += `${e.optionalMember ? \"?.\" : \"\"}.${e.name}${e.optionalCall ? \"?.\" : \"\"}`;\n        this.writeArgs(e.args);\n        this.text += \")\";\n    }\n    visitCallScope(e) {\n        this.text += \"(\";\n        let s = e.ancestor;\n        while (s--) {\n            this.text += \"$parent.\";\n        }\n        this.text += `${e.name}${e.optional ? \"?.\" : \"\"}`;\n        this.writeArgs(e.args);\n        this.text += \")\";\n    }\n    visitTemplate(e) {\n        const {cooked: s, expressions: t} = e;\n        const r = t.length;\n        this.text += \"`\";\n        this.text += s[0];\n        for (let e = 0; e < r; e++) {\n            astVisit(t[e], this);\n            this.text += s[e + 1];\n        }\n        this.text += \"`\";\n    }\n    visitTaggedTemplate(e) {\n        const {cooked: s, expressions: t} = e;\n        const r = t.length;\n        astVisit(e.func, this);\n        this.text += \"`\";\n        this.text += s[0];\n        for (let e = 0; e < r; e++) {\n            astVisit(t[e], this);\n            this.text += s[e + 1];\n        }\n        this.text += \"`\";\n    }\n    visitUnary(e) {\n        this.text += `(${e.operation}`;\n        if (e.operation.charCodeAt(0) >= 97) {\n            this.text += \" \";\n        }\n        astVisit(e.expression, this);\n        this.text += \")\";\n    }\n    visitBinary(e) {\n        this.text += \"(\";\n        astVisit(e.left, this);\n        if (e.operation.charCodeAt(0) === 105) {\n            this.text += ` ${e.operation} `;\n        } else {\n            this.text += e.operation;\n        }\n        astVisit(e.right, this);\n        this.text += \")\";\n    }\n    visitConditional(e) {\n        this.text += \"(\";\n        astVisit(e.condition, this);\n        this.text += \"?\";\n        astVisit(e.yes, this);\n        this.text += \":\";\n        astVisit(e.no, this);\n        this.text += \")\";\n    }\n    visitAssign(e) {\n        this.text += \"(\";\n        astVisit(e.target, this);\n        this.text += \"=\";\n        astVisit(e.value, this);\n        this.text += \")\";\n    }\n    visitValueConverter(e) {\n        const s = e.args;\n        astVisit(e.expression, this);\n        this.text += `|${e.name}`;\n        for (let e = 0, t = s.length; e < t; ++e) {\n            this.text += \":\";\n            astVisit(s[e], this);\n        }\n    }\n    visitBindingBehavior(e) {\n        const s = e.args;\n        astVisit(e.expression, this);\n        this.text += `&${e.name}`;\n        for (let e = 0, t = s.length; e < t; ++e) {\n            this.text += \":\";\n            astVisit(s[e], this);\n        }\n    }\n    visitArrayBindingPattern(e) {\n        const s = e.elements;\n        this.text += \"[\";\n        for (let e = 0, t = s.length; e < t; ++e) {\n            if (e !== 0) {\n                this.text += \",\";\n            }\n            astVisit(s[e], this);\n        }\n        this.text += \"]\";\n    }\n    visitObjectBindingPattern(e) {\n        const s = e.keys;\n        const t = e.values;\n        this.text += \"{\";\n        for (let e = 0, r = s.length; e < r; ++e) {\n            if (e !== 0) {\n                this.text += \",\";\n            }\n            this.text += `'${s[e]}':`;\n            astVisit(t[e], this);\n        }\n        this.text += \"}\";\n    }\n    visitBindingIdentifier(e) {\n        this.text += e.name;\n    }\n    visitForOfStatement(e) {\n        astVisit(e.declaration, this);\n        this.text += \" of \";\n        astVisit(e.iterable, this);\n    }\n    visitInterpolation(e) {\n        const {parts: s, expressions: t} = e;\n        const r = t.length;\n        this.text += \"${\";\n        this.text += s[0];\n        for (let e = 0; e < r; e++) {\n            astVisit(t[e], this);\n            this.text += s[e + 1];\n        }\n        this.text += \"}\";\n    }\n    visitDestructuringAssignmentExpression(e) {\n        const s = e.$kind;\n        const t = s === S;\n        this.text += t ? \"{\" : \"[\";\n        const r = e.list;\n        const n = r.length;\n        let i;\n        let o;\n        for (i = 0; i < n; i++) {\n            o = r[i];\n            switch (o.$kind) {\n              case B:\n                astVisit(o, this);\n                break;\n\n              case I:\n              case S:\n                {\n                    const e = o.source;\n                    if (e) {\n                        astVisit(e, this);\n                        this.text += \":\";\n                    }\n                    astVisit(o, this);\n                    break;\n                }\n            }\n        }\n        this.text += t ? \"}\" : \"]\";\n    }\n    visitDestructuringAssignmentSingleExpression(e) {\n        astVisit(e.source, this);\n        this.text += \":\";\n        astVisit(e.target, this);\n        const s = e.initializer;\n        if (s !== void 0) {\n            this.text += \"=\";\n            astVisit(s, this);\n        }\n    }\n    visitDestructuringAssignmentRestExpression(e) {\n        this.text += \"...\";\n        astVisit(e.target, this);\n    }\n    visitCustom(e) {\n        this.text += O(e.value);\n    }\n    writeArgs(e) {\n        this.text += \"(\";\n        for (let s = 0, t = e.length; s < t; ++s) {\n            if (s !== 0) {\n                this.text += \",\";\n            }\n            astVisit(e[s], this);\n        }\n        this.text += \")\";\n    }\n}\n\nconst createMappedError = (e, ...s) => new Error(`AUR${O(e).padStart(4, \"0\")}:${s.map(O)}`);\n\nconst F = /*@__PURE__*/ _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.DI.createInterface(\"IExpressionParser\", (e => e.singleton(ExpressionParser)));\n\nclass ExpressionParser {\n    constructor() {\n        this.t = createLookup();\n        this.i = createLookup();\n        this.h = createLookup();\n    }\n    parse(e, s) {\n        let t;\n        switch (s) {\n          case q:\n            return new CustomExpression(e);\n\n          case H:\n            t = this.h[e];\n            if (t === void 0) {\n                t = this.h[e] = this.$parse(e, s);\n            }\n            return t;\n\n          case V:\n            t = this.i[e];\n            if (t === void 0) {\n                t = this.i[e] = this.$parse(e, s);\n            }\n            return t;\n\n          default:\n            {\n                if (e.length === 0) {\n                    if (s === J || s === _) {\n                        return PrimitiveLiteralExpression.$empty;\n                    }\n                    throw invalidEmptyExpression();\n                }\n                t = this.t[e];\n                if (t === void 0) {\n                    t = this.t[e] = this.$parse(e, s);\n                }\n                return t;\n            }\n        }\n    }\n    $parse(e, s) {\n        Q = e;\n        W = 0;\n        X = e.length;\n        Y = 0;\n        Z = 0;\n        ee = 6291456;\n        se = \"\";\n        te = $charCodeAt(0);\n        re = true;\n        ne = false;\n        ie = true;\n        oe = -1;\n        return parse(61, s === void 0 ? _ : s);\n    }\n}\n\nfunction unescapeCode(e) {\n    switch (e) {\n      case 98:\n        return 8;\n\n      case 116:\n        return 9;\n\n      case 110:\n        return 10;\n\n      case 118:\n        return 11;\n\n      case 102:\n        return 12;\n\n      case 114:\n        return 13;\n\n      case 34:\n        return 34;\n\n      case 39:\n        return 39;\n\n      case 92:\n        return 92;\n\n      default:\n        return e;\n    }\n}\n\nconst M = PrimitiveLiteralExpression.$false;\n\nconst j = PrimitiveLiteralExpression.$true;\n\nconst D = PrimitiveLiteralExpression.$null;\n\nconst U = PrimitiveLiteralExpression.$undefined;\n\nconst K = new AccessThisExpression(0);\n\nconst N = new AccessThisExpression(1);\n\nconst R = new AccessBoundaryExpression;\n\nconst G = \"None\";\n\nconst H = \"Interpolation\";\n\nconst V = \"IsIterator\";\n\nconst z = \"IsChainable\";\n\nconst J = \"IsFunction\";\n\nconst _ = \"IsProperty\";\n\nconst q = \"IsCustom\";\n\nlet Q = \"\";\n\nlet W = 0;\n\nlet X = 0;\n\nlet Y = 0;\n\nlet Z = 0;\n\nlet ee = 6291456;\n\nlet se = \"\";\n\nlet te;\n\nlet re = true;\n\nlet ne = false;\n\nlet ie = true;\n\nlet oe = -1;\n\nconst ae = String.fromCharCode;\n\nconst $charCodeAt = e => Q.charCodeAt(e);\n\nconst $tokenRaw = () => Q.slice(Z, W);\n\nconst ce = (\"Infinity NaN isFinite isNaN parseFloat parseInt decodeURI decodeURIComponent encodeURI encodeURIComponent\" + \" Array BigInt Boolean Date Map Number Object RegExp Set String JSON Math Intl\").split(\" \");\n\nfunction parseExpression(e, s) {\n    Q = e;\n    W = 0;\n    X = e.length;\n    Y = 0;\n    Z = 0;\n    ee = 6291456;\n    se = \"\";\n    te = $charCodeAt(0);\n    re = true;\n    ne = false;\n    ie = true;\n    oe = -1;\n    return parse(61, s === void 0 ? _ : s);\n}\n\nfunction parse(e, s) {\n    if (s === q) {\n        return new CustomExpression(Q);\n    }\n    if (W === 0) {\n        if (s === H) {\n            return parseInterpolation();\n        }\n        nextToken();\n        if (ee & 4194304) {\n            throw invalidStartOfExpression();\n        }\n    }\n    re = 513 > e;\n    ne = false;\n    ie = 514 > e;\n    let r = false;\n    let o = void 0;\n    let a = 0;\n    if (ee & 131072) {\n        const e = le[ee & 63];\n        nextToken();\n        o = new UnaryExpression(e, parse(514, s));\n        re = false;\n    } else {\n        e: switch (ee) {\n          case 12295:\n            a = Y;\n            re = false;\n            ie = false;\n            do {\n                nextToken();\n                ++a;\n                switch (ee) {\n                  case 65546:\n                    nextToken();\n                    if ((ee & 12288) === 0) {\n                        throw expectedIdentifier();\n                    }\n                    break;\n\n                  case 11:\n                  case 12:\n                    throw expectedIdentifier();\n\n                  case 2162701:\n                    ne = true;\n                    nextToken();\n                    if ((ee & 12288) === 0) {\n                        o = a === 0 ? K : a === 1 ? N : new AccessThisExpression(a);\n                        r = true;\n                        break e;\n                    }\n                    break;\n\n                  default:\n                    if (ee & 2097152) {\n                        o = a === 0 ? K : a === 1 ? N : new AccessThisExpression(a);\n                        break e;\n                    }\n                    throw invalidMemberExpression();\n                }\n            } while (ee === 12295);\n\n          case 4096:\n            {\n                const e = se;\n                if (s === V) {\n                    o = new BindingIdentifier(e);\n                } else if (ie && ce.includes(e)) {\n                    o = new AccessGlobalExpression(e);\n                } else if (ie && e === \"import\") {\n                    throw unexpectedImportKeyword();\n                } else {\n                    o = new AccessScopeExpression(e, a);\n                }\n                re = !ne;\n                nextToken();\n                if (consumeOpt(51)) {\n                    if (ee === 524297) {\n                        throw functionBodyInArrowFn();\n                    }\n                    const s = ne;\n                    const t = Y;\n                    ++Y;\n                    const r = parse(62, G);\n                    ne = s;\n                    Y = t;\n                    re = false;\n                    o = new ArrowFunction([ new BindingIdentifier(e) ], r);\n                }\n                break;\n            }\n\n          case 11:\n            throw unexpectedDoubleDot();\n\n          case 12:\n            throw invalidSpreadOp();\n\n          case 12292:\n            re = false;\n            nextToken();\n            switch (Y) {\n              case 0:\n                o = K;\n                break;\n\n              case 1:\n                o = N;\n                break;\n\n              default:\n                o = new AccessThisExpression(Y);\n                break;\n            }\n            break;\n\n          case 12293:\n            re = false;\n            nextToken();\n            o = R;\n            break;\n\n          case 2688008:\n            o = parseCoverParenthesizedExpressionAndArrowParameterList(s);\n            break;\n\n          case 2688019:\n            o = Q.search(/\\s+of\\s+/) > W ? parseArrayDestructuring() : parseArrayLiteralExpression(s);\n            break;\n\n          case 524297:\n            o = parseObjectLiteralExpression(s);\n            break;\n\n          case 2163760:\n            o = new TemplateExpression([ se ]);\n            re = false;\n            nextToken();\n            break;\n\n          case 2163761:\n            o = parseTemplate(s, o, false);\n            break;\n\n          case 16384:\n          case 32768:\n            o = new PrimitiveLiteralExpression(se);\n            re = false;\n            nextToken();\n            break;\n\n          case 8194:\n          case 8195:\n          case 8193:\n          case 8192:\n            o = le[ee & 63];\n            re = false;\n            nextToken();\n            break;\n\n          default:\n            if (W >= X) {\n                throw unexpectedEndOfExpression();\n            } else {\n                throw unconsumedToken();\n            }\n        }\n        if (s === V) {\n            return parseForOfStatement(o);\n        }\n        switch (ee) {\n          case 2228280:\n          case 2228281:\n            o = new UnaryExpression(le[ee & 63], o, 1);\n            nextToken();\n            re = false;\n            break;\n        }\n        if (514 < e) {\n            return o;\n        }\n        if (ee === 11 || ee === 12) {\n            throw expectedIdentifier();\n        }\n        if (o.$kind === t) {\n            switch (ee) {\n              case 2162701:\n                ne = true;\n                re = false;\n                nextToken();\n                if ((ee & 13312) === 0) {\n                    throw unexpectedTokenInOptionalChain();\n                }\n                if (ee & 12288) {\n                    o = new AccessScopeExpression(se, o.ancestor);\n                    nextToken();\n                } else if (ee === 2688008) {\n                    o = new CallFunctionExpression(o, parseArguments(), true);\n                } else if (ee === 2688019) {\n                    o = parseKeyedExpression(o, true);\n                } else {\n                    throw invalidTaggedTemplateOnOptionalChain();\n                }\n                break;\n\n              case 65546:\n                re = !ne;\n                nextToken();\n                if ((ee & 12288) === 0) {\n                    throw expectedIdentifier();\n                }\n                o = new AccessScopeExpression(se, o.ancestor);\n                nextToken();\n                break;\n\n              case 11:\n              case 12:\n                throw expectedIdentifier();\n\n              case 2688008:\n                o = new CallFunctionExpression(o, parseArguments(), r);\n                break;\n\n              case 2688019:\n                o = parseKeyedExpression(o, r);\n                break;\n\n              case 2163760:\n                o = createTemplateTail(o);\n                break;\n\n              case 2163761:\n                o = parseTemplate(s, o, true);\n                break;\n            }\n        }\n        while ((ee & 65536) > 0) {\n            switch (ee) {\n              case 2162701:\n                o = parseOptionalChainLHS(o);\n                break;\n\n              case 65546:\n                nextToken();\n                if ((ee & 12288) === 0) {\n                    throw expectedIdentifier();\n                }\n                o = parseMemberExpressionLHS(o, false);\n                break;\n\n              case 11:\n              case 12:\n                throw expectedIdentifier();\n\n              case 2688008:\n                if (o.$kind === i) {\n                    o = new CallScopeExpression(o.name, parseArguments(), o.ancestor, false);\n                } else if (o.$kind === w) {\n                    o = new CallMemberExpression(o.object, o.name, parseArguments(), o.optional, false);\n                } else if (o.$kind === n) {\n                    o = new CallGlobalExpression(o.name, parseArguments());\n                } else {\n                    o = new CallFunctionExpression(o, parseArguments(), false);\n                }\n                break;\n\n              case 2688019:\n                o = parseKeyedExpression(o, false);\n                break;\n\n              case 2163760:\n                if (ne) {\n                    throw invalidTaggedTemplateOnOptionalChain();\n                }\n                o = createTemplateTail(o);\n                break;\n\n              case 2163761:\n                if (ne) {\n                    throw invalidTaggedTemplateOnOptionalChain();\n                }\n                o = parseTemplate(s, o, true);\n                break;\n            }\n        }\n    }\n    if (ee === 11 || ee === 12) {\n        throw expectedIdentifier();\n    }\n    if (513 < e) {\n        return o;\n    }\n    while ((ee & 262144) > 0) {\n        const t = ee;\n        if ((t & 960) <= e) {\n            break;\n        }\n        nextToken();\n        o = new BinaryExpression(le[t & 63], o, parse(t & 960, s));\n        re = false;\n    }\n    if (63 < e) {\n        return o;\n    }\n    if (consumeOpt(6291479)) {\n        const e = parse(62, s);\n        consume(6291477);\n        o = new ConditionalExpression(o, e, parse(62, s));\n        re = false;\n    }\n    if (62 < e) {\n        return o;\n    }\n    switch (ee) {\n      case 4194350:\n      case 4194356:\n      case 4194357:\n      case 4194358:\n      case 4194359:\n        {\n            if (!re) {\n                throw lhsNotAssignable();\n            }\n            const e = le[ee & 63];\n            nextToken();\n            o = new AssignExpression(o, parse(62, s), e);\n            break;\n        }\n    }\n    if (61 < e) {\n        return o;\n    }\n    while (consumeOpt(6291481)) {\n        if (ee === 6291456) {\n            throw expectedValueConverterIdentifier();\n        }\n        const e = se;\n        nextToken();\n        const t = new Array;\n        while (consumeOpt(6291477)) {\n            t.push(parse(62, s));\n        }\n        o = new ValueConverterExpression(o, e, t);\n    }\n    while (consumeOpt(6291480)) {\n        if (ee === 6291456) {\n            throw expectedBindingBehaviorIdentifier();\n        }\n        const e = se;\n        nextToken();\n        const t = new Array;\n        while (consumeOpt(6291477)) {\n            t.push(parse(62, s));\n        }\n        o = new BindingBehaviorExpression(o, e, t);\n    }\n    if (ee !== 6291456) {\n        if (s === H && ee === 7340046) {\n            return o;\n        }\n        if (s === z && ee === 6291478) {\n            if (W === X) {\n                throw unconsumedToken();\n            }\n            oe = W - 1;\n            return o;\n        }\n        if ($tokenRaw() === \"of\") {\n            throw unexpectedOfKeyword();\n        }\n        throw unconsumedToken();\n    }\n    return o;\n}\n\nfunction parseArrayDestructuring() {\n    const e = [];\n    const s = new DestructuringAssignmentExpression(I, e, void 0, void 0);\n    let t = \"\";\n    let r = true;\n    let n = 0;\n    while (r) {\n        nextToken();\n        switch (ee) {\n          case 7340052:\n            r = false;\n            addItem();\n            break;\n\n          case 6291472:\n            addItem();\n            break;\n\n          case 4096:\n            t = $tokenRaw();\n            break;\n\n          default:\n            throw unexpectedTokenInDestructuring();\n        }\n    }\n    consume(7340052);\n    return s;\n    function addItem() {\n        if (t !== \"\") {\n            e.push(new DestructuringAssignmentSingleExpression(new AccessMemberExpression(K, t), new AccessKeyedExpression(K, new PrimitiveLiteralExpression(n++)), void 0));\n            t = \"\";\n        } else {\n            n++;\n        }\n    }\n}\n\nfunction parseArguments() {\n    const e = ne;\n    nextToken();\n    const s = [];\n    while (ee !== 7340047) {\n        s.push(parse(62, G));\n        if (!consumeOpt(6291472)) {\n            break;\n        }\n    }\n    consume(7340047);\n    re = false;\n    ne = e;\n    return s;\n}\n\nfunction parseKeyedExpression(e, s) {\n    const t = ne;\n    nextToken();\n    e = new AccessKeyedExpression(e, parse(62, G), s);\n    consume(7340052);\n    re = !t;\n    ne = t;\n    return e;\n}\n\nfunction parseOptionalChainLHS(e) {\n    ne = true;\n    re = false;\n    nextToken();\n    if ((ee & 13312) === 0) {\n        throw unexpectedTokenInOptionalChain();\n    }\n    if (ee & 12288) {\n        return parseMemberExpressionLHS(e, true);\n    }\n    if (ee === 2688008) {\n        if (e.$kind === i) {\n            return new CallScopeExpression(e.name, parseArguments(), e.ancestor, true);\n        } else if (e.$kind === w) {\n            return new CallMemberExpression(e.object, e.name, parseArguments(), e.optional, true);\n        } else {\n            return new CallFunctionExpression(e, parseArguments(), true);\n        }\n    }\n    if (ee === 2688019) {\n        return parseKeyedExpression(e, true);\n    }\n    throw invalidTaggedTemplateOnOptionalChain();\n}\n\nfunction parseMemberExpressionLHS(e, s) {\n    const t = se;\n    switch (ee) {\n      case 2162701:\n        {\n            ne = true;\n            re = false;\n            const r = W;\n            const n = Z;\n            const i = ee;\n            const o = te;\n            const a = se;\n            const c = re;\n            const h = ne;\n            nextToken();\n            if ((ee & 13312) === 0) {\n                throw unexpectedTokenInOptionalChain();\n            }\n            if (ee === 2688008) {\n                return new CallMemberExpression(e, t, parseArguments(), s, true);\n            }\n            W = r;\n            Z = n;\n            ee = i;\n            te = o;\n            se = a;\n            re = c;\n            ne = h;\n            return new AccessMemberExpression(e, t, s);\n        }\n\n      case 2688008:\n        {\n            re = false;\n            return new CallMemberExpression(e, t, parseArguments(), s, false);\n        }\n\n      default:\n        {\n            re = !ne;\n            nextToken();\n            return new AccessMemberExpression(e, t, s);\n        }\n    }\n}\n\nfunction parseCoverParenthesizedExpressionAndArrowParameterList(e) {\n    nextToken();\n    const s = W;\n    const t = Z;\n    const r = ee;\n    const n = te;\n    const i = se;\n    const o = ne;\n    const a = [];\n    let c = 1;\n    let h = false;\n    e: while (true) {\n        if (ee === 12) {\n            nextToken();\n            if (ee !== 4096) {\n                throw expectedIdentifier();\n            }\n            a.push(new BindingIdentifier(se));\n            nextToken();\n            if (ee === 6291472) {\n                throw restParamsMustBeLastParam();\n            }\n            if (ee !== 7340047) {\n                throw invalidSpreadOp();\n            }\n            nextToken();\n            if (ee !== 51) {\n                throw invalidSpreadOp();\n            }\n            nextToken();\n            const e = ne;\n            const s = Y;\n            ++Y;\n            const t = parse(62, G);\n            ne = e;\n            Y = s;\n            re = false;\n            return new ArrowFunction(a, t, true);\n        }\n        switch (ee) {\n          case 4096:\n            a.push(new BindingIdentifier(se));\n            nextToken();\n            break;\n\n          case 7340047:\n            nextToken();\n            break e;\n\n          case 524297:\n          case 2688019:\n            nextToken();\n            c = 4;\n            break;\n\n          case 6291472:\n            c = 2;\n            h = true;\n            break e;\n\n          case 2688008:\n            c = 2;\n            break e;\n\n          default:\n            nextToken();\n            c = 2;\n            break;\n        }\n        switch (ee) {\n          case 6291472:\n            nextToken();\n            h = true;\n            if (c === 1) {\n                break;\n            }\n            break e;\n\n          case 7340047:\n            nextToken();\n            break e;\n\n          case 4194350:\n            if (c === 1) {\n                c = 3;\n            }\n            break e;\n\n          case 51:\n            if (h) {\n                throw invalidArrowParameterList();\n            }\n            nextToken();\n            c = 2;\n            break e;\n\n          default:\n            if (c === 1) {\n                c = 2;\n            }\n            break e;\n        }\n    }\n    if (ee === 51) {\n        if (c === 1) {\n            nextToken();\n            if (ee === 524297) {\n                throw functionBodyInArrowFn();\n            }\n            const e = ne;\n            const s = Y;\n            ++Y;\n            const t = parse(62, G);\n            ne = e;\n            Y = s;\n            re = false;\n            return new ArrowFunction(a, t);\n        }\n        throw invalidArrowParameterList();\n    } else if (c === 1 && a.length === 0) {\n        throw missingExpectedToken();\n    }\n    if (h) {\n        switch (c) {\n          case 2:\n            throw invalidArrowParameterList();\n\n          case 3:\n            throw defaultParamsInArrowFn();\n\n          case 4:\n            throw destructuringParamsInArrowFn();\n        }\n    }\n    W = s;\n    Z = t;\n    ee = r;\n    te = n;\n    se = i;\n    ne = o;\n    const l = ne;\n    const u = parse(62, e);\n    ne = l;\n    consume(7340047);\n    if (ee === 51) {\n        switch (c) {\n          case 2:\n            throw invalidArrowParameterList();\n\n          case 3:\n            throw defaultParamsInArrowFn();\n\n          case 4:\n            throw destructuringParamsInArrowFn();\n        }\n    }\n    return u;\n}\n\nfunction parseArrayLiteralExpression(e) {\n    const s = ne;\n    nextToken();\n    const t = new Array;\n    while (ee !== 7340052) {\n        if (consumeOpt(6291472)) {\n            t.push(U);\n            if (ee === 7340052) {\n                break;\n            }\n        } else {\n            t.push(parse(62, e === V ? G : e));\n            if (consumeOpt(6291472)) {\n                if (ee === 7340052) {\n                    break;\n                }\n            } else {\n                break;\n            }\n        }\n    }\n    ne = s;\n    consume(7340052);\n    if (e === V) {\n        return new ArrayBindingPattern(t);\n    } else {\n        re = false;\n        return new ArrayLiteralExpression(t);\n    }\n}\n\nconst he = [ T, v, y, I, S ];\n\nfunction parseForOfStatement(e) {\n    if (!he.includes(e.$kind)) {\n        throw invalidLHSBindingIdentifierInForOf(e.$kind);\n    }\n    if (ee !== 4204594) {\n        throw invalidLHSBindingIdentifierInForOf(e.$kind);\n    }\n    nextToken();\n    const s = e;\n    const t = parse(61, z);\n    return new ForOfStatement(s, t, oe);\n}\n\nfunction parseObjectLiteralExpression(e) {\n    const s = ne;\n    const t = new Array;\n    const r = new Array;\n    nextToken();\n    while (ee !== 7340046) {\n        t.push(se);\n        if (ee & 49152) {\n            nextToken();\n            consume(6291477);\n            r.push(parse(62, e === V ? G : e));\n        } else if (ee & 12288) {\n            const s = te;\n            const t = ee;\n            const n = W;\n            nextToken();\n            if (consumeOpt(6291477)) {\n                r.push(parse(62, e === V ? G : e));\n            } else {\n                te = s;\n                ee = t;\n                W = n;\n                r.push(parse(515, e === V ? G : e));\n            }\n        } else {\n            throw invalidPropDefInObjLiteral();\n        }\n        if (ee !== 7340046) {\n            consume(6291472);\n        }\n    }\n    ne = s;\n    consume(7340046);\n    if (e === V) {\n        return new ObjectBindingPattern(t, r);\n    } else {\n        re = false;\n        return new ObjectLiteralExpression(t, r);\n    }\n}\n\nfunction parseInterpolation() {\n    const e = [];\n    const s = [];\n    const t = X;\n    let r = \"\";\n    while (W < t) {\n        switch (te) {\n          case 36:\n            if ($charCodeAt(W + 1) === 123) {\n                e.push(r);\n                r = \"\";\n                W += 2;\n                te = $charCodeAt(W);\n                nextToken();\n                const t = parse(61, H);\n                s.push(t);\n                continue;\n            } else {\n                r += \"$\";\n            }\n            break;\n\n          case 92:\n            r += ae(unescapeCode(nextChar()));\n            break;\n\n          default:\n            r += ae(te);\n        }\n        nextChar();\n    }\n    if (s.length) {\n        e.push(r);\n        return new Interpolation(e, s);\n    }\n    return null;\n}\n\nfunction parseTemplate(e, s, t) {\n    const r = ne;\n    const n = [ se ];\n    consume(2163761);\n    const i = [ parse(62, e) ];\n    while ((ee = scanTemplateTail()) !== 2163760) {\n        n.push(se);\n        consume(2163761);\n        i.push(parse(62, e));\n    }\n    n.push(se);\n    re = false;\n    ne = r;\n    if (t) {\n        nextToken();\n        return new TaggedTemplateExpression(n, n, s, i);\n    } else {\n        nextToken();\n        return new TemplateExpression(n, i);\n    }\n}\n\nfunction createTemplateTail(e) {\n    re = false;\n    const s = [ se ];\n    nextToken();\n    return new TaggedTemplateExpression(s, s, e);\n}\n\nfunction nextToken() {\n    while (W < X) {\n        Z = W;\n        if ((ee = pe[te]()) != null) {\n            return;\n        }\n    }\n    ee = 6291456;\n}\n\nfunction nextChar() {\n    return te = $charCodeAt(++W);\n}\n\nfunction scanIdentifier() {\n    while (fe[nextChar()]) ;\n    const e = ue[se = $tokenRaw()];\n    return e === undefined ? 4096 : e;\n}\n\nfunction scanNumber(e) {\n    let s = te;\n    if (e === false) {\n        do {\n            s = nextChar();\n        } while (s <= 57 && s >= 48);\n        if (s !== 46) {\n            se = parseInt($tokenRaw(), 10);\n            return 32768;\n        }\n        s = nextChar();\n        if (W >= X) {\n            se = parseInt($tokenRaw().slice(0, -1), 10);\n            return 32768;\n        }\n    }\n    if (s <= 57 && s >= 48) {\n        do {\n            s = nextChar();\n        } while (s <= 57 && s >= 48);\n    } else {\n        te = $charCodeAt(--W);\n    }\n    se = parseFloat($tokenRaw());\n    return 32768;\n}\n\nfunction scanString() {\n    const e = te;\n    nextChar();\n    let s = 0;\n    const t = new Array;\n    let r = W;\n    while (te !== e) {\n        if (te === 92) {\n            t.push(Q.slice(r, W));\n            nextChar();\n            s = unescapeCode(te);\n            nextChar();\n            t.push(ae(s));\n            r = W;\n        } else if (W >= X) {\n            throw unterminatedStringLiteral();\n        } else {\n            nextChar();\n        }\n    }\n    const n = Q.slice(r, W);\n    nextChar();\n    t.push(n);\n    const i = t.join(\"\");\n    se = i;\n    return 16384;\n}\n\nfunction scanTemplate() {\n    let e = true;\n    let s = \"\";\n    while (nextChar() !== 96) {\n        if (te === 36) {\n            if (W + 1 < X && $charCodeAt(W + 1) === 123) {\n                W++;\n                e = false;\n                break;\n            } else {\n                s += \"$\";\n            }\n        } else if (te === 92) {\n            s += ae(unescapeCode(nextChar()));\n        } else {\n            if (W >= X) {\n                throw unterminatedTemplateLiteral();\n            }\n            s += ae(te);\n        }\n    }\n    nextChar();\n    se = s;\n    if (e) {\n        return 2163760;\n    }\n    return 2163761;\n}\n\nconst scanTemplateTail = () => {\n    if (W >= X) {\n        throw unterminatedTemplateLiteral();\n    }\n    W--;\n    return scanTemplate();\n};\n\nconst consumeOpt = e => {\n    if (ee === e) {\n        nextToken();\n        return true;\n    }\n    return false;\n};\n\nconst consume = e => {\n    if (ee === e) {\n        nextToken();\n    } else {\n        throw missingExpectedToken();\n    }\n};\n\nconst invalidStartOfExpression = () => createMappedError(151, Q);\n\nconst invalidSpreadOp = () => createMappedError(152, Q);\n\nconst expectedIdentifier = () => createMappedError(153, Q);\n\nconst invalidMemberExpression = () => createMappedError(154, Q);\n\nconst unexpectedEndOfExpression = () => createMappedError(155, Q);\n\nconst unconsumedToken = () => createMappedError(156, $tokenRaw(), W, Q);\n\nconst invalidEmptyExpression = () => createMappedError(157);\n\nconst lhsNotAssignable = () => createMappedError(158, Q);\n\nconst expectedValueConverterIdentifier = () => createMappedError(159, Q);\n\nconst expectedBindingBehaviorIdentifier = () => createMappedError(160, Q);\n\nconst unexpectedOfKeyword = () => createMappedError(161, Q);\n\nconst unexpectedImportKeyword = () => createMappedError(162, Q);\n\nconst invalidLHSBindingIdentifierInForOf = e => createMappedError(163, Q, e);\n\nconst invalidPropDefInObjLiteral = () => createMappedError(164, Q);\n\nconst unterminatedStringLiteral = () => createMappedError(165, Q);\n\nconst unterminatedTemplateLiteral = () => createMappedError(166, Q);\n\nconst missingExpectedToken = e => createMappedError(167, Q);\n\nconst unexpectedTokenInDestructuring = () => createMappedError(170, Q);\n\nconst unexpectedTokenInOptionalChain = () => createMappedError(171, Q);\n\nconst invalidTaggedTemplateOnOptionalChain = () => createMappedError(172, Q);\n\nconst invalidArrowParameterList = () => createMappedError(173, Q);\n\nconst defaultParamsInArrowFn = () => createMappedError(174, Q);\n\nconst destructuringParamsInArrowFn = () => createMappedError(175, Q);\n\nconst restParamsMustBeLastParam = () => createMappedError(176, Q);\n\nconst functionBodyInArrowFn = () => createMappedError(178, Q);\n\nconst unexpectedDoubleDot = () => createMappedError(179, Q);\n\nconst le = [ M, j, D, U, \"this\", \"$this\", null, \"$parent\", \"(\", \"{\", \".\", \"..\", \"...\", \"?.\", \"}\", \")\", \",\", \"[\", \"]\", \":\", \";\", \"?\", \"'\", '\"', \"&\", \"|\", \"??\", \"||\", \"&&\", \"==\", \"!=\", \"===\", \"!==\", \"<\", \">\", \"<=\", \">=\", \"in\", \"instanceof\", \"+\", \"-\", \"typeof\", \"void\", \"*\", \"%\", \"/\", \"=\", \"!\", 2163760, 2163761, \"of\", \"=>\", \"+=\", \"-=\", \"*=\", \"/=\", \"++\", \"--\" ];\n\nconst ue = /*@__PURE__*/ Object.assign(createLookup(), {\n    true: 8193,\n    null: 8194,\n    false: 8192,\n    undefined: 8195,\n    this: 12293,\n    $this: 12292,\n    $parent: 12295,\n    in: 6562213,\n    instanceof: 6562214,\n    typeof: 139305,\n    void: 139306,\n    of: 4204594\n});\n\nconst {CharScanners: pe, IdParts: fe} = /*@__PURE__*/ (() => {\n    const unexpectedCharacter = () => {\n        throw createMappedError(168, Q);\n    };\n    unexpectedCharacter.notMapped = true;\n    const e = {\n        AsciiIdPart: [ 36, 0, 48, 58, 65, 91, 95, 0, 97, 123 ],\n        IdStart: [ 36, 0, 65, 91, 95, 0, 97, 123, 170, 0, 186, 0, 192, 215, 216, 247, 248, 697, 736, 741, 7424, 7462, 7468, 7517, 7522, 7526, 7531, 7544, 7545, 7615, 7680, 7936, 8305, 0, 8319, 0, 8336, 8349, 8490, 8492, 8498, 0, 8526, 0, 8544, 8585, 11360, 11392, 42786, 42888, 42891, 42927, 42928, 42936, 42999, 43008, 43824, 43867, 43868, 43877, 64256, 64263, 65313, 65339, 65345, 65371 ],\n        Digit: [ 48, 58 ],\n        Skip: [ 0, 33, 127, 161 ]\n    };\n    const decompress = (e, s, t, r) => {\n        const n = t.length;\n        for (let i = 0; i < n; i += 2) {\n            const n = t[i];\n            let o = t[i + 1];\n            o = o > 0 ? o : n + 1;\n            if (e) {\n                e.fill(r, n, o);\n            }\n            if (s) {\n                for (let e = n; e < o; e++) {\n                    s.add(e);\n                }\n            }\n        }\n    };\n    const s = /*@__PURE__*/ (s => {\n        decompress(s, null, e.IdStart, 1);\n        decompress(s, null, e.Digit, 1);\n        return s;\n    })(new Uint8Array(65535));\n    const returnToken = e => () => {\n        nextChar();\n        return e;\n    };\n    const t = new Array(65535);\n    t.fill(unexpectedCharacter, 0, 65535);\n    decompress(t, null, e.Skip, (() => {\n        nextChar();\n        return null;\n    }));\n    decompress(t, null, e.IdStart, scanIdentifier);\n    decompress(t, null, e.Digit, (() => scanNumber(false)));\n    t[34] = t[39] = () => scanString();\n    t[96] = () => scanTemplate();\n    t[33] = () => {\n        if (nextChar() !== 61) {\n            return 131119;\n        }\n        if (nextChar() !== 61) {\n            return 6553950;\n        }\n        nextChar();\n        return 6553952;\n    };\n    t[61] = () => {\n        if (nextChar() === 62) {\n            nextChar();\n            return 51;\n        }\n        if (te !== 61) {\n            return 4194350;\n        }\n        if (nextChar() !== 61) {\n            return 6553949;\n        }\n        nextChar();\n        return 6553951;\n    };\n    t[38] = () => {\n        if (nextChar() !== 38) {\n            return 6291480;\n        }\n        nextChar();\n        return 6553884;\n    };\n    t[124] = () => {\n        if (nextChar() !== 124) {\n            return 6291481;\n        }\n        nextChar();\n        return 6553819;\n    };\n    t[63] = () => {\n        if (nextChar() === 46) {\n            const e = $charCodeAt(W + 1);\n            if (e <= 48 || e >= 57) {\n                nextChar();\n                return 2162701;\n            }\n            return 6291479;\n        }\n        if (te !== 63) {\n            return 6291479;\n        }\n        nextChar();\n        return 6553754;\n    };\n    t[46] = () => {\n        if (nextChar() <= 57 && te >= 48) {\n            return scanNumber(true);\n        }\n        if (te === 46) {\n            if (nextChar() !== 46) {\n                return 11;\n            }\n            nextChar();\n            return 12;\n        }\n        return 65546;\n    };\n    t[60] = () => {\n        if (nextChar() !== 61) {\n            return 6554017;\n        }\n        nextChar();\n        return 6554019;\n    };\n    t[62] = () => {\n        if (nextChar() !== 61) {\n            return 6554018;\n        }\n        nextChar();\n        return 6554020;\n    };\n    t[37] = returnToken(6554156);\n    t[40] = returnToken(2688008);\n    t[41] = returnToken(7340047);\n    t[42] = () => {\n        if (nextChar() !== 61) {\n            return 6554155;\n        }\n        nextChar();\n        return 4194358;\n    };\n    t[43] = () => {\n        if (nextChar() === 43) {\n            nextChar();\n            return 2228280;\n        }\n        if (te !== 61) {\n            return 2490855;\n        }\n        nextChar();\n        return 4194356;\n    };\n    t[44] = returnToken(6291472);\n    t[45] = () => {\n        if (nextChar() === 45) {\n            nextChar();\n            return 2228281;\n        }\n        if (te !== 61) {\n            return 2490856;\n        }\n        nextChar();\n        return 4194357;\n    };\n    t[47] = () => {\n        if (nextChar() !== 61) {\n            return 6554157;\n        }\n        nextChar();\n        return 4194359;\n    };\n    t[58] = returnToken(6291477);\n    t[59] = returnToken(6291478);\n    t[91] = returnToken(2688019);\n    t[93] = returnToken(7340052);\n    t[123] = returnToken(524297);\n    t[125] = returnToken(7340046);\n    return {\n        CharScanners: t,\n        IdParts: s\n    };\n})();\n\n\n//# sourceMappingURL=index.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvZXhwcmVzc2lvbi1wYXJzZXIvZGlzdC9lc20vaW5kZXgubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBMkQ7O0FBRTNEOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLEVBQUU7QUFDNUI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSwyREFBMkQsdURBQUM7O0FBRTVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDZEQUE2RCx1REFBQyxFQUFFLHVEQUFDOztBQUVqRTtBQUNBLHVCQUF1Qix1REFBQztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsNkJBQTZCLHVEQUFDO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHVCQUF1Qix1REFBQztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7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RUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYzs7QUFFZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQSxrRUFBa0UsNkJBQTZCLDhCQUE4Qjs7QUFFN0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVELE9BQU8sK0JBQStCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixPQUFPO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLE9BQU87QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFNHlCO0FBQzd5QiIsInNvdXJjZXMiOlsid2VicGFjazovL3JldHJvYXBwLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXVyZWxpYS9leHByZXNzaW9uLXBhcnNlci9kaXN0L2VzbS9pbmRleC5tanM/NjVmMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBlbXB0eUFycmF5IGFzIGUsIERJIGFzIHMgfSBmcm9tIFwiQGF1cmVsaWEva2VybmVsXCI7XG5cbmNvbnN0IHQgPSBcIkFjY2Vzc1RoaXNcIjtcblxuY29uc3QgciA9IFwiQWNjZXNzQm91bmRhcnlcIjtcblxuY29uc3QgbiA9IFwiQWNjZXNzR2xvYmFsXCI7XG5cbmNvbnN0IGkgPSBcIkFjY2Vzc1Njb3BlXCI7XG5cbmNvbnN0IG8gPSBcIkFycmF5TGl0ZXJhbFwiO1xuXG5jb25zdCBhID0gXCJPYmplY3RMaXRlcmFsXCI7XG5cbmNvbnN0IGMgPSBcIlByaW1pdGl2ZUxpdGVyYWxcIjtcblxuY29uc3QgaCA9IFwiVGVtcGxhdGVcIjtcblxuY29uc3QgbCA9IFwiVW5hcnlcIjtcblxuY29uc3QgdSA9IFwiQ2FsbFNjb3BlXCI7XG5cbmNvbnN0IHAgPSBcIkNhbGxNZW1iZXJcIjtcblxuY29uc3QgZiA9IFwiQ2FsbEZ1bmN0aW9uXCI7XG5cbmNvbnN0IHggPSBcIkNhbGxHbG9iYWxcIjtcblxuY29uc3QgdyA9IFwiQWNjZXNzTWVtYmVyXCI7XG5cbmNvbnN0IEUgPSBcIkFjY2Vzc0tleWVkXCI7XG5cbmNvbnN0IGQgPSBcIlRhZ2dlZFRlbXBsYXRlXCI7XG5cbmNvbnN0IG0gPSBcIkJpbmFyeVwiO1xuXG5jb25zdCBrID0gXCJDb25kaXRpb25hbFwiO1xuXG5jb25zdCBiID0gXCJBc3NpZ25cIjtcblxuY29uc3QgQSA9IFwiQXJyb3dGdW5jdGlvblwiO1xuXG5jb25zdCBDID0gXCJWYWx1ZUNvbnZlcnRlclwiO1xuXG5jb25zdCBnID0gXCJCaW5kaW5nQmVoYXZpb3JcIjtcblxuY29uc3QgVCA9IFwiQXJyYXlCaW5kaW5nUGF0dGVyblwiO1xuXG5jb25zdCB2ID0gXCJPYmplY3RCaW5kaW5nUGF0dGVyblwiO1xuXG5jb25zdCB5ID0gXCJCaW5kaW5nSWRlbnRpZmllclwiO1xuXG5jb25zdCBMID0gXCJGb3JPZlN0YXRlbWVudFwiO1xuXG5jb25zdCBQID0gXCJJbnRlcnBvbGF0aW9uXCI7XG5cbmNvbnN0IEkgPSBcIkFycmF5RGVzdHJ1Y3R1cmluZ1wiO1xuXG5jb25zdCBTID0gXCJPYmplY3REZXN0cnVjdHVyaW5nXCI7XG5cbmNvbnN0IEIgPSBcIkRlc3RydWN0dXJpbmdBc3NpZ25tZW50TGVhZlwiO1xuXG5jb25zdCAkID0gXCJDdXN0b21cIjtcblxuY2xhc3MgQ3VzdG9tRXhwcmVzc2lvbiB7XG4gICAgY29uc3RydWN0b3IoZSkge1xuICAgICAgICB0aGlzLnZhbHVlID0gZTtcbiAgICAgICAgdGhpcy4ka2luZCA9ICQ7XG4gICAgfVxuICAgIGV2YWx1YXRlKC4uLmUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWU7XG4gICAgfVxuICAgIGFzc2lnbiguLi5lKSB7XG4gICAgICAgIHJldHVybiBlO1xuICAgIH1cbiAgICBiaW5kKC4uLmUpIHt9XG4gICAgdW5iaW5kKC4uLmUpIHt9XG4gICAgYWNjZXB0KGUpIHtcbiAgICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICB9XG59XG5cbmNsYXNzIEJpbmRpbmdCZWhhdmlvckV4cHJlc3Npb24ge1xuICAgIGNvbnN0cnVjdG9yKGUsIHMsIHQpIHtcbiAgICAgICAgdGhpcy5leHByZXNzaW9uID0gZTtcbiAgICAgICAgdGhpcy5uYW1lID0gcztcbiAgICAgICAgdGhpcy5hcmdzID0gdDtcbiAgICAgICAgdGhpcy4ka2luZCA9IGc7XG4gICAgICAgIHRoaXMua2V5ID0gYF9iYl8ke3N9YDtcbiAgICB9XG59XG5cbmNsYXNzIFZhbHVlQ29udmVydGVyRXhwcmVzc2lvbiB7XG4gICAgY29uc3RydWN0b3IoZSwgcywgdCkge1xuICAgICAgICB0aGlzLmV4cHJlc3Npb24gPSBlO1xuICAgICAgICB0aGlzLm5hbWUgPSBzO1xuICAgICAgICB0aGlzLmFyZ3MgPSB0O1xuICAgICAgICB0aGlzLiRraW5kID0gQztcbiAgICB9XG59XG5cbmNsYXNzIEFzc2lnbkV4cHJlc3Npb24ge1xuICAgIGNvbnN0cnVjdG9yKGUsIHMsIHQgPSBcIj1cIikge1xuICAgICAgICB0aGlzLnRhcmdldCA9IGU7XG4gICAgICAgIHRoaXMudmFsdWUgPSBzO1xuICAgICAgICB0aGlzLm9wID0gdDtcbiAgICAgICAgdGhpcy4ka2luZCA9IGI7XG4gICAgfVxufVxuXG5jbGFzcyBDb25kaXRpb25hbEV4cHJlc3Npb24ge1xuICAgIGNvbnN0cnVjdG9yKGUsIHMsIHQpIHtcbiAgICAgICAgdGhpcy5jb25kaXRpb24gPSBlO1xuICAgICAgICB0aGlzLnllcyA9IHM7XG4gICAgICAgIHRoaXMubm8gPSB0O1xuICAgICAgICB0aGlzLiRraW5kID0gaztcbiAgICB9XG59XG5cbmNsYXNzIEFjY2Vzc0dsb2JhbEV4cHJlc3Npb24ge1xuICAgIGNvbnN0cnVjdG9yKGUpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gZTtcbiAgICAgICAgdGhpcy4ka2luZCA9IG47XG4gICAgfVxufVxuXG5jbGFzcyBBY2Nlc3NUaGlzRXhwcmVzc2lvbiB7XG4gICAgY29uc3RydWN0b3IoZSA9IDApIHtcbiAgICAgICAgdGhpcy5hbmNlc3RvciA9IGU7XG4gICAgICAgIHRoaXMuJGtpbmQgPSB0O1xuICAgIH1cbn1cblxuY2xhc3MgQWNjZXNzQm91bmRhcnlFeHByZXNzaW9uIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy4ka2luZCA9IHI7XG4gICAgfVxufVxuXG5jbGFzcyBBY2Nlc3NTY29wZUV4cHJlc3Npb24ge1xuICAgIGNvbnN0cnVjdG9yKGUsIHMgPSAwKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IGU7XG4gICAgICAgIHRoaXMuYW5jZXN0b3IgPSBzO1xuICAgICAgICB0aGlzLiRraW5kID0gaTtcbiAgICB9XG59XG5cbmNvbnN0IGlzQWNjZXNzR2xvYmFsID0gZSA9PiBlLiRraW5kID09PSBuIHx8IChlLiRraW5kID09PSB3IHx8IGUuJGtpbmQgPT09IEUpICYmIGUuYWNjZXNzR2xvYmFsO1xuXG5jbGFzcyBBY2Nlc3NNZW1iZXJFeHByZXNzaW9uIHtcbiAgICBjb25zdHJ1Y3RvcihlLCBzLCB0ID0gZmFsc2UpIHtcbiAgICAgICAgdGhpcy5vYmplY3QgPSBlO1xuICAgICAgICB0aGlzLm5hbWUgPSBzO1xuICAgICAgICB0aGlzLm9wdGlvbmFsID0gdDtcbiAgICAgICAgdGhpcy4ka2luZCA9IHc7XG4gICAgICAgIHRoaXMuYWNjZXNzR2xvYmFsID0gaXNBY2Nlc3NHbG9iYWwoZSk7XG4gICAgfVxufVxuXG5jbGFzcyBBY2Nlc3NLZXllZEV4cHJlc3Npb24ge1xuICAgIGNvbnN0cnVjdG9yKGUsIHMsIHQgPSBmYWxzZSkge1xuICAgICAgICB0aGlzLm9iamVjdCA9IGU7XG4gICAgICAgIHRoaXMua2V5ID0gcztcbiAgICAgICAgdGhpcy5vcHRpb25hbCA9IHQ7XG4gICAgICAgIHRoaXMuJGtpbmQgPSBFO1xuICAgICAgICB0aGlzLmFjY2Vzc0dsb2JhbCA9IGlzQWNjZXNzR2xvYmFsKGUpO1xuICAgIH1cbn1cblxuY2xhc3MgQ2FsbFNjb3BlRXhwcmVzc2lvbiB7XG4gICAgY29uc3RydWN0b3IoZSwgcywgdCA9IDAsIHIgPSBmYWxzZSkge1xuICAgICAgICB0aGlzLm5hbWUgPSBlO1xuICAgICAgICB0aGlzLmFyZ3MgPSBzO1xuICAgICAgICB0aGlzLmFuY2VzdG9yID0gdDtcbiAgICAgICAgdGhpcy5vcHRpb25hbCA9IHI7XG4gICAgICAgIHRoaXMuJGtpbmQgPSB1O1xuICAgIH1cbn1cblxuY2xhc3MgQ2FsbE1lbWJlckV4cHJlc3Npb24ge1xuICAgIGNvbnN0cnVjdG9yKGUsIHMsIHQsIHIgPSBmYWxzZSwgbiA9IGZhbHNlKSB7XG4gICAgICAgIHRoaXMub2JqZWN0ID0gZTtcbiAgICAgICAgdGhpcy5uYW1lID0gcztcbiAgICAgICAgdGhpcy5hcmdzID0gdDtcbiAgICAgICAgdGhpcy5vcHRpb25hbE1lbWJlciA9IHI7XG4gICAgICAgIHRoaXMub3B0aW9uYWxDYWxsID0gbjtcbiAgICAgICAgdGhpcy4ka2luZCA9IHA7XG4gICAgfVxufVxuXG5jbGFzcyBDYWxsRnVuY3Rpb25FeHByZXNzaW9uIHtcbiAgICBjb25zdHJ1Y3RvcihlLCBzLCB0ID0gZmFsc2UpIHtcbiAgICAgICAgdGhpcy5mdW5jID0gZTtcbiAgICAgICAgdGhpcy5hcmdzID0gcztcbiAgICAgICAgdGhpcy5vcHRpb25hbCA9IHQ7XG4gICAgICAgIHRoaXMuJGtpbmQgPSBmO1xuICAgIH1cbn1cblxuY2xhc3MgQ2FsbEdsb2JhbEV4cHJlc3Npb24ge1xuICAgIGNvbnN0cnVjdG9yKGUsIHMpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gZTtcbiAgICAgICAgdGhpcy5hcmdzID0gcztcbiAgICAgICAgdGhpcy4ka2luZCA9IHg7XG4gICAgfVxufVxuXG5jbGFzcyBCaW5hcnlFeHByZXNzaW9uIHtcbiAgICBjb25zdHJ1Y3RvcihlLCBzLCB0KSB7XG4gICAgICAgIHRoaXMub3BlcmF0aW9uID0gZTtcbiAgICAgICAgdGhpcy5sZWZ0ID0gcztcbiAgICAgICAgdGhpcy5yaWdodCA9IHQ7XG4gICAgICAgIHRoaXMuJGtpbmQgPSBtO1xuICAgIH1cbn1cblxuY2xhc3MgVW5hcnlFeHByZXNzaW9uIHtcbiAgICBjb25zdHJ1Y3RvcihlLCBzLCB0ID0gMCkge1xuICAgICAgICB0aGlzLm9wZXJhdGlvbiA9IGU7XG4gICAgICAgIHRoaXMuZXhwcmVzc2lvbiA9IHM7XG4gICAgICAgIHRoaXMucG9zID0gdDtcbiAgICAgICAgdGhpcy4ka2luZCA9IGw7XG4gICAgfVxufVxuXG5jbGFzcyBQcmltaXRpdmVMaXRlcmFsRXhwcmVzc2lvbiB7XG4gICAgY29uc3RydWN0b3IoZSkge1xuICAgICAgICB0aGlzLnZhbHVlID0gZTtcbiAgICAgICAgdGhpcy4ka2luZCA9IGM7XG4gICAgfVxufVxuXG5QcmltaXRpdmVMaXRlcmFsRXhwcmVzc2lvbi4kdW5kZWZpbmVkID0gbmV3IFByaW1pdGl2ZUxpdGVyYWxFeHByZXNzaW9uKHZvaWQgMCk7XG5cblByaW1pdGl2ZUxpdGVyYWxFeHByZXNzaW9uLiRudWxsID0gbmV3IFByaW1pdGl2ZUxpdGVyYWxFeHByZXNzaW9uKG51bGwpO1xuXG5QcmltaXRpdmVMaXRlcmFsRXhwcmVzc2lvbi4kdHJ1ZSA9IG5ldyBQcmltaXRpdmVMaXRlcmFsRXhwcmVzc2lvbih0cnVlKTtcblxuUHJpbWl0aXZlTGl0ZXJhbEV4cHJlc3Npb24uJGZhbHNlID0gbmV3IFByaW1pdGl2ZUxpdGVyYWxFeHByZXNzaW9uKGZhbHNlKTtcblxuUHJpbWl0aXZlTGl0ZXJhbEV4cHJlc3Npb24uJGVtcHR5ID0gbmV3IFByaW1pdGl2ZUxpdGVyYWxFeHByZXNzaW9uKFwiXCIpO1xuXG5jbGFzcyBBcnJheUxpdGVyYWxFeHByZXNzaW9uIHtcbiAgICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudHMgPSBlO1xuICAgICAgICB0aGlzLiRraW5kID0gbztcbiAgICB9XG59XG5cbkFycmF5TGl0ZXJhbEV4cHJlc3Npb24uJGVtcHR5ID0gbmV3IEFycmF5TGl0ZXJhbEV4cHJlc3Npb24oZSk7XG5cbmNsYXNzIE9iamVjdExpdGVyYWxFeHByZXNzaW9uIHtcbiAgICBjb25zdHJ1Y3RvcihlLCBzKSB7XG4gICAgICAgIHRoaXMua2V5cyA9IGU7XG4gICAgICAgIHRoaXMudmFsdWVzID0gcztcbiAgICAgICAgdGhpcy4ka2luZCA9IGE7XG4gICAgfVxufVxuXG5PYmplY3RMaXRlcmFsRXhwcmVzc2lvbi4kZW1wdHkgPSBuZXcgT2JqZWN0TGl0ZXJhbEV4cHJlc3Npb24oZSwgZSk7XG5cbmNsYXNzIFRlbXBsYXRlRXhwcmVzc2lvbiB7XG4gICAgY29uc3RydWN0b3IocywgdCA9IGUpIHtcbiAgICAgICAgdGhpcy5jb29rZWQgPSBzO1xuICAgICAgICB0aGlzLmV4cHJlc3Npb25zID0gdDtcbiAgICAgICAgdGhpcy4ka2luZCA9IGg7XG4gICAgfVxufVxuXG5UZW1wbGF0ZUV4cHJlc3Npb24uJGVtcHR5ID0gbmV3IFRlbXBsYXRlRXhwcmVzc2lvbihbIFwiXCIgXSk7XG5cbmNsYXNzIFRhZ2dlZFRlbXBsYXRlRXhwcmVzc2lvbiB7XG4gICAgY29uc3RydWN0b3IocywgdCwgciwgbiA9IGUpIHtcbiAgICAgICAgdGhpcy5jb29rZWQgPSBzO1xuICAgICAgICB0aGlzLmZ1bmMgPSByO1xuICAgICAgICB0aGlzLmV4cHJlc3Npb25zID0gbjtcbiAgICAgICAgdGhpcy4ka2luZCA9IGQ7XG4gICAgICAgIHMucmF3ID0gdDtcbiAgICB9XG59XG5cbmNsYXNzIEFycmF5QmluZGluZ1BhdHRlcm4ge1xuICAgIGNvbnN0cnVjdG9yKGUpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50cyA9IGU7XG4gICAgICAgIHRoaXMuJGtpbmQgPSBUO1xuICAgIH1cbn1cblxuY2xhc3MgT2JqZWN0QmluZGluZ1BhdHRlcm4ge1xuICAgIGNvbnN0cnVjdG9yKGUsIHMpIHtcbiAgICAgICAgdGhpcy5rZXlzID0gZTtcbiAgICAgICAgdGhpcy52YWx1ZXMgPSBzO1xuICAgICAgICB0aGlzLiRraW5kID0gdjtcbiAgICB9XG59XG5cbmNsYXNzIEJpbmRpbmdJZGVudGlmaWVyIHtcbiAgICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IGU7XG4gICAgICAgIHRoaXMuJGtpbmQgPSB5O1xuICAgIH1cbn1cblxuY2xhc3MgRm9yT2ZTdGF0ZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKGUsIHMsIHQpIHtcbiAgICAgICAgdGhpcy5kZWNsYXJhdGlvbiA9IGU7XG4gICAgICAgIHRoaXMuaXRlcmFibGUgPSBzO1xuICAgICAgICB0aGlzLnNlbWlJZHggPSB0O1xuICAgICAgICB0aGlzLiRraW5kID0gTDtcbiAgICB9XG59XG5cbmNsYXNzIEludGVycG9sYXRpb24ge1xuICAgIGNvbnN0cnVjdG9yKHMsIHQgPSBlKSB7XG4gICAgICAgIHRoaXMucGFydHMgPSBzO1xuICAgICAgICB0aGlzLmV4cHJlc3Npb25zID0gdDtcbiAgICAgICAgdGhpcy4ka2luZCA9IFA7XG4gICAgICAgIHRoaXMuaXNNdWx0aSA9IHQubGVuZ3RoID4gMTtcbiAgICAgICAgdGhpcy5maXJzdEV4cHJlc3Npb24gPSB0WzBdO1xuICAgIH1cbn1cblxuY2xhc3MgRGVzdHJ1Y3R1cmluZ0Fzc2lnbm1lbnRFeHByZXNzaW9uIHtcbiAgICBjb25zdHJ1Y3RvcihlLCBzLCB0LCByKSB7XG4gICAgICAgIHRoaXMuJGtpbmQgPSBlO1xuICAgICAgICB0aGlzLmxpc3QgPSBzO1xuICAgICAgICB0aGlzLnNvdXJjZSA9IHQ7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZXIgPSByO1xuICAgIH1cbn1cblxuY2xhc3MgRGVzdHJ1Y3R1cmluZ0Fzc2lnbm1lbnRTaW5nbGVFeHByZXNzaW9uIHtcbiAgICBjb25zdHJ1Y3RvcihlLCBzLCB0KSB7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gZTtcbiAgICAgICAgdGhpcy5zb3VyY2UgPSBzO1xuICAgICAgICB0aGlzLmluaXRpYWxpemVyID0gdDtcbiAgICAgICAgdGhpcy4ka2luZCA9IEI7XG4gICAgfVxufVxuXG5jbGFzcyBEZXN0cnVjdHVyaW5nQXNzaWdubWVudFJlc3RFeHByZXNzaW9uIHtcbiAgICBjb25zdHJ1Y3RvcihlLCBzKSB7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gZTtcbiAgICAgICAgdGhpcy5pbmRleE9yUHJvcGVydGllcyA9IHM7XG4gICAgICAgIHRoaXMuJGtpbmQgPSBCO1xuICAgIH1cbn1cblxuY2xhc3MgQXJyb3dGdW5jdGlvbiB7XG4gICAgY29uc3RydWN0b3IoZSwgcywgdCA9IGZhbHNlKSB7XG4gICAgICAgIHRoaXMuYXJncyA9IGU7XG4gICAgICAgIHRoaXMuYm9keSA9IHM7XG4gICAgICAgIHRoaXMucmVzdCA9IHQ7XG4gICAgICAgIHRoaXMuJGtpbmQgPSBBO1xuICAgIH1cbn1cblxuY29uc3QgY3JlYXRlRXJyb3IgPSBlID0+IG5ldyBFcnJvcihlKTtcblxuY29uc3QgaXNTdHJpbmcgPSBlID0+IHR5cGVvZiBlID09PSBcInN0cmluZ1wiO1xuXG5jb25zdCBPID0gU3RyaW5nO1xuXG5jb25zdCBjcmVhdGVMb29rdXAgPSAoKSA9PiBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG5jb25zdCBhc3RWaXNpdCA9IChlLCBzKSA9PiB7XG4gICAgc3dpdGNoIChlLiRraW5kKSB7XG4gICAgICBjYXNlIEU6XG4gICAgICAgIHJldHVybiBzLnZpc2l0QWNjZXNzS2V5ZWQoZSk7XG5cbiAgICAgIGNhc2UgdzpcbiAgICAgICAgcmV0dXJuIHMudmlzaXRBY2Nlc3NNZW1iZXIoZSk7XG5cbiAgICAgIGNhc2UgaTpcbiAgICAgICAgcmV0dXJuIHMudmlzaXRBY2Nlc3NTY29wZShlKTtcblxuICAgICAgY2FzZSB0OlxuICAgICAgICByZXR1cm4gcy52aXNpdEFjY2Vzc1RoaXMoZSk7XG5cbiAgICAgIGNhc2UgcjpcbiAgICAgICAgcmV0dXJuIHMudmlzaXRBY2Nlc3NCb3VuZGFyeShlKTtcblxuICAgICAgY2FzZSBUOlxuICAgICAgICByZXR1cm4gcy52aXNpdEFycmF5QmluZGluZ1BhdHRlcm4oZSk7XG5cbiAgICAgIGNhc2UgSTpcbiAgICAgICAgcmV0dXJuIHMudmlzaXREZXN0cnVjdHVyaW5nQXNzaWdubWVudEV4cHJlc3Npb24oZSk7XG5cbiAgICAgIGNhc2UgbzpcbiAgICAgICAgcmV0dXJuIHMudmlzaXRBcnJheUxpdGVyYWwoZSk7XG5cbiAgICAgIGNhc2UgQTpcbiAgICAgICAgcmV0dXJuIHMudmlzaXRBcnJvd0Z1bmN0aW9uKGUpO1xuXG4gICAgICBjYXNlIGI6XG4gICAgICAgIHJldHVybiBzLnZpc2l0QXNzaWduKGUpO1xuXG4gICAgICBjYXNlIG06XG4gICAgICAgIHJldHVybiBzLnZpc2l0QmluYXJ5KGUpO1xuXG4gICAgICBjYXNlIGc6XG4gICAgICAgIHJldHVybiBzLnZpc2l0QmluZGluZ0JlaGF2aW9yKGUpO1xuXG4gICAgICBjYXNlIHk6XG4gICAgICAgIHJldHVybiBzLnZpc2l0QmluZGluZ0lkZW50aWZpZXIoZSk7XG5cbiAgICAgIGNhc2UgZjpcbiAgICAgICAgcmV0dXJuIHMudmlzaXRDYWxsRnVuY3Rpb24oZSk7XG5cbiAgICAgIGNhc2UgcDpcbiAgICAgICAgcmV0dXJuIHMudmlzaXRDYWxsTWVtYmVyKGUpO1xuXG4gICAgICBjYXNlIHU6XG4gICAgICAgIHJldHVybiBzLnZpc2l0Q2FsbFNjb3BlKGUpO1xuXG4gICAgICBjYXNlIGs6XG4gICAgICAgIHJldHVybiBzLnZpc2l0Q29uZGl0aW9uYWwoZSk7XG5cbiAgICAgIGNhc2UgQjpcbiAgICAgICAgcmV0dXJuIHMudmlzaXREZXN0cnVjdHVyaW5nQXNzaWdubWVudFNpbmdsZUV4cHJlc3Npb24oZSk7XG5cbiAgICAgIGNhc2UgTDpcbiAgICAgICAgcmV0dXJuIHMudmlzaXRGb3JPZlN0YXRlbWVudChlKTtcblxuICAgICAgY2FzZSBQOlxuICAgICAgICByZXR1cm4gcy52aXNpdEludGVycG9sYXRpb24oZSk7XG5cbiAgICAgIGNhc2UgdjpcbiAgICAgICAgcmV0dXJuIHMudmlzaXRPYmplY3RCaW5kaW5nUGF0dGVybihlKTtcblxuICAgICAgY2FzZSBTOlxuICAgICAgICByZXR1cm4gcy52aXNpdERlc3RydWN0dXJpbmdBc3NpZ25tZW50RXhwcmVzc2lvbihlKTtcblxuICAgICAgY2FzZSBhOlxuICAgICAgICByZXR1cm4gcy52aXNpdE9iamVjdExpdGVyYWwoZSk7XG5cbiAgICAgIGNhc2UgYzpcbiAgICAgICAgcmV0dXJuIHMudmlzaXRQcmltaXRpdmVMaXRlcmFsKGUpO1xuXG4gICAgICBjYXNlIGQ6XG4gICAgICAgIHJldHVybiBzLnZpc2l0VGFnZ2VkVGVtcGxhdGUoZSk7XG5cbiAgICAgIGNhc2UgaDpcbiAgICAgICAgcmV0dXJuIHMudmlzaXRUZW1wbGF0ZShlKTtcblxuICAgICAgY2FzZSBsOlxuICAgICAgICByZXR1cm4gcy52aXNpdFVuYXJ5KGUpO1xuXG4gICAgICBjYXNlIEM6XG4gICAgICAgIHJldHVybiBzLnZpc2l0VmFsdWVDb252ZXJ0ZXIoZSk7XG5cbiAgICAgIGNhc2UgJDpcbiAgICAgICAgcmV0dXJuIHMudmlzaXRDdXN0b20oZSk7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUVycm9yKGBUcnlpbmcgdG8gdmlzaXQgdW5rbm93biBhc3Qgbm9kZSAke0pTT04uc3RyaW5naWZ5KGUpfWApO1xuICAgICAgICB9XG4gICAgfVxufTtcblxuY2xhc3MgVW5wYXJzZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnRleHQgPSBcIlwiO1xuICAgIH1cbiAgICBzdGF0aWMgdW5wYXJzZShlKSB7XG4gICAgICAgIGNvbnN0IHMgPSBuZXcgVW5wYXJzZXI7XG4gICAgICAgIGFzdFZpc2l0KGUsIHMpO1xuICAgICAgICByZXR1cm4gcy50ZXh0O1xuICAgIH1cbiAgICB2aXNpdEFjY2Vzc01lbWJlcihlKSB7XG4gICAgICAgIGFzdFZpc2l0KGUub2JqZWN0LCB0aGlzKTtcbiAgICAgICAgdGhpcy50ZXh0ICs9IGAke2Uub3B0aW9uYWwgPyBcIj9cIiA6IFwiXCJ9LiR7ZS5uYW1lfWA7XG4gICAgfVxuICAgIHZpc2l0QWNjZXNzS2V5ZWQoZSkge1xuICAgICAgICBhc3RWaXNpdChlLm9iamVjdCwgdGhpcyk7XG4gICAgICAgIHRoaXMudGV4dCArPSBgJHtlLm9wdGlvbmFsID8gXCI/LlwiIDogXCJcIn1bYDtcbiAgICAgICAgYXN0VmlzaXQoZS5rZXksIHRoaXMpO1xuICAgICAgICB0aGlzLnRleHQgKz0gXCJdXCI7XG4gICAgfVxuICAgIHZpc2l0QWNjZXNzVGhpcyhlKSB7XG4gICAgICAgIGlmIChlLmFuY2VzdG9yID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnRleHQgKz0gXCIkdGhpc1wiO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudGV4dCArPSBcIiRwYXJlbnRcIjtcbiAgICAgICAgbGV0IHMgPSBlLmFuY2VzdG9yIC0gMTtcbiAgICAgICAgd2hpbGUgKHMtLSkge1xuICAgICAgICAgICAgdGhpcy50ZXh0ICs9IFwiLiRwYXJlbnRcIjtcbiAgICAgICAgfVxuICAgIH1cbiAgICB2aXNpdEFjY2Vzc0JvdW5kYXJ5KGUpIHtcbiAgICAgICAgdGhpcy50ZXh0ICs9IFwidGhpc1wiO1xuICAgIH1cbiAgICB2aXNpdEFjY2Vzc1Njb3BlKGUpIHtcbiAgICAgICAgbGV0IHMgPSBlLmFuY2VzdG9yO1xuICAgICAgICB3aGlsZSAocy0tKSB7XG4gICAgICAgICAgICB0aGlzLnRleHQgKz0gXCIkcGFyZW50LlwiO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudGV4dCArPSBlLm5hbWU7XG4gICAgfVxuICAgIHZpc2l0QXJyYXlMaXRlcmFsKGUpIHtcbiAgICAgICAgY29uc3QgcyA9IGUuZWxlbWVudHM7XG4gICAgICAgIHRoaXMudGV4dCArPSBcIltcIjtcbiAgICAgICAgZm9yIChsZXQgZSA9IDAsIHQgPSBzLmxlbmd0aDsgZSA8IHQ7ICsrZSkge1xuICAgICAgICAgICAgaWYgKGUgIT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRleHQgKz0gXCIsXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhc3RWaXNpdChzW2VdLCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRleHQgKz0gXCJdXCI7XG4gICAgfVxuICAgIHZpc2l0QXJyb3dGdW5jdGlvbihlKSB7XG4gICAgICAgIGNvbnN0IHMgPSBlLmFyZ3M7XG4gICAgICAgIGNvbnN0IHQgPSBzLmxlbmd0aDtcbiAgICAgICAgbGV0IHIgPSAwO1xuICAgICAgICBsZXQgbiA9IFwiKFwiO1xuICAgICAgICBsZXQgaTtcbiAgICAgICAgZm9yICg7ciA8IHQ7ICsrcikge1xuICAgICAgICAgICAgaSA9IHNbcl0ubmFtZTtcbiAgICAgICAgICAgIGlmIChyID4gMCkge1xuICAgICAgICAgICAgICAgIG4gKz0gXCIsIFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHIgPCB0IC0gMSkge1xuICAgICAgICAgICAgICAgIG4gKz0gaTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbiArPSBlLnJlc3QgPyBgLi4uJHtpfWAgOiBpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMudGV4dCArPSBgJHtufSkgPT4gYDtcbiAgICAgICAgYXN0VmlzaXQoZS5ib2R5LCB0aGlzKTtcbiAgICB9XG4gICAgdmlzaXRPYmplY3RMaXRlcmFsKGUpIHtcbiAgICAgICAgY29uc3QgcyA9IGUua2V5cztcbiAgICAgICAgY29uc3QgdCA9IGUudmFsdWVzO1xuICAgICAgICB0aGlzLnRleHQgKz0gXCJ7XCI7XG4gICAgICAgIGZvciAobGV0IGUgPSAwLCByID0gcy5sZW5ndGg7IGUgPCByOyArK2UpIHtcbiAgICAgICAgICAgIGlmIChlICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0ICs9IFwiLFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy50ZXh0ICs9IGAnJHtzW2VdfSc6YDtcbiAgICAgICAgICAgIGFzdFZpc2l0KHRbZV0sIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudGV4dCArPSBcIn1cIjtcbiAgICB9XG4gICAgdmlzaXRQcmltaXRpdmVMaXRlcmFsKGUpIHtcbiAgICAgICAgdGhpcy50ZXh0ICs9IFwiKFwiO1xuICAgICAgICBpZiAoaXNTdHJpbmcoZS52YWx1ZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IHMgPSBlLnZhbHVlLnJlcGxhY2UoLycvZywgXCJcXFxcJ1wiKTtcbiAgICAgICAgICAgIHRoaXMudGV4dCArPSBgJyR7c30nYDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudGV4dCArPSBgJHtlLnZhbHVlfWA7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50ZXh0ICs9IFwiKVwiO1xuICAgIH1cbiAgICB2aXNpdENhbGxGdW5jdGlvbihlKSB7XG4gICAgICAgIHRoaXMudGV4dCArPSBcIihcIjtcbiAgICAgICAgYXN0VmlzaXQoZS5mdW5jLCB0aGlzKTtcbiAgICAgICAgdGhpcy50ZXh0ICs9IGUub3B0aW9uYWwgPyBcIj8uXCIgOiBcIlwiO1xuICAgICAgICB0aGlzLndyaXRlQXJncyhlLmFyZ3MpO1xuICAgICAgICB0aGlzLnRleHQgKz0gXCIpXCI7XG4gICAgfVxuICAgIHZpc2l0Q2FsbE1lbWJlcihlKSB7XG4gICAgICAgIHRoaXMudGV4dCArPSBcIihcIjtcbiAgICAgICAgYXN0VmlzaXQoZS5vYmplY3QsIHRoaXMpO1xuICAgICAgICB0aGlzLnRleHQgKz0gYCR7ZS5vcHRpb25hbE1lbWJlciA/IFwiPy5cIiA6IFwiXCJ9LiR7ZS5uYW1lfSR7ZS5vcHRpb25hbENhbGwgPyBcIj8uXCIgOiBcIlwifWA7XG4gICAgICAgIHRoaXMud3JpdGVBcmdzKGUuYXJncyk7XG4gICAgICAgIHRoaXMudGV4dCArPSBcIilcIjtcbiAgICB9XG4gICAgdmlzaXRDYWxsU2NvcGUoZSkge1xuICAgICAgICB0aGlzLnRleHQgKz0gXCIoXCI7XG4gICAgICAgIGxldCBzID0gZS5hbmNlc3RvcjtcbiAgICAgICAgd2hpbGUgKHMtLSkge1xuICAgICAgICAgICAgdGhpcy50ZXh0ICs9IFwiJHBhcmVudC5cIjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRleHQgKz0gYCR7ZS5uYW1lfSR7ZS5vcHRpb25hbCA/IFwiPy5cIiA6IFwiXCJ9YDtcbiAgICAgICAgdGhpcy53cml0ZUFyZ3MoZS5hcmdzKTtcbiAgICAgICAgdGhpcy50ZXh0ICs9IFwiKVwiO1xuICAgIH1cbiAgICB2aXNpdFRlbXBsYXRlKGUpIHtcbiAgICAgICAgY29uc3Qge2Nvb2tlZDogcywgZXhwcmVzc2lvbnM6IHR9ID0gZTtcbiAgICAgICAgY29uc3QgciA9IHQubGVuZ3RoO1xuICAgICAgICB0aGlzLnRleHQgKz0gXCJgXCI7XG4gICAgICAgIHRoaXMudGV4dCArPSBzWzBdO1xuICAgICAgICBmb3IgKGxldCBlID0gMDsgZSA8IHI7IGUrKykge1xuICAgICAgICAgICAgYXN0VmlzaXQodFtlXSwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLnRleHQgKz0gc1tlICsgMV07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50ZXh0ICs9IFwiYFwiO1xuICAgIH1cbiAgICB2aXNpdFRhZ2dlZFRlbXBsYXRlKGUpIHtcbiAgICAgICAgY29uc3Qge2Nvb2tlZDogcywgZXhwcmVzc2lvbnM6IHR9ID0gZTtcbiAgICAgICAgY29uc3QgciA9IHQubGVuZ3RoO1xuICAgICAgICBhc3RWaXNpdChlLmZ1bmMsIHRoaXMpO1xuICAgICAgICB0aGlzLnRleHQgKz0gXCJgXCI7XG4gICAgICAgIHRoaXMudGV4dCArPSBzWzBdO1xuICAgICAgICBmb3IgKGxldCBlID0gMDsgZSA8IHI7IGUrKykge1xuICAgICAgICAgICAgYXN0VmlzaXQodFtlXSwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLnRleHQgKz0gc1tlICsgMV07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50ZXh0ICs9IFwiYFwiO1xuICAgIH1cbiAgICB2aXNpdFVuYXJ5KGUpIHtcbiAgICAgICAgdGhpcy50ZXh0ICs9IGAoJHtlLm9wZXJhdGlvbn1gO1xuICAgICAgICBpZiAoZS5vcGVyYXRpb24uY2hhckNvZGVBdCgwKSA+PSA5Nykge1xuICAgICAgICAgICAgdGhpcy50ZXh0ICs9IFwiIFwiO1xuICAgICAgICB9XG4gICAgICAgIGFzdFZpc2l0KGUuZXhwcmVzc2lvbiwgdGhpcyk7XG4gICAgICAgIHRoaXMudGV4dCArPSBcIilcIjtcbiAgICB9XG4gICAgdmlzaXRCaW5hcnkoZSkge1xuICAgICAgICB0aGlzLnRleHQgKz0gXCIoXCI7XG4gICAgICAgIGFzdFZpc2l0KGUubGVmdCwgdGhpcyk7XG4gICAgICAgIGlmIChlLm9wZXJhdGlvbi5jaGFyQ29kZUF0KDApID09PSAxMDUpIHtcbiAgICAgICAgICAgIHRoaXMudGV4dCArPSBgICR7ZS5vcGVyYXRpb259IGA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnRleHQgKz0gZS5vcGVyYXRpb247XG4gICAgICAgIH1cbiAgICAgICAgYXN0VmlzaXQoZS5yaWdodCwgdGhpcyk7XG4gICAgICAgIHRoaXMudGV4dCArPSBcIilcIjtcbiAgICB9XG4gICAgdmlzaXRDb25kaXRpb25hbChlKSB7XG4gICAgICAgIHRoaXMudGV4dCArPSBcIihcIjtcbiAgICAgICAgYXN0VmlzaXQoZS5jb25kaXRpb24sIHRoaXMpO1xuICAgICAgICB0aGlzLnRleHQgKz0gXCI/XCI7XG4gICAgICAgIGFzdFZpc2l0KGUueWVzLCB0aGlzKTtcbiAgICAgICAgdGhpcy50ZXh0ICs9IFwiOlwiO1xuICAgICAgICBhc3RWaXNpdChlLm5vLCB0aGlzKTtcbiAgICAgICAgdGhpcy50ZXh0ICs9IFwiKVwiO1xuICAgIH1cbiAgICB2aXNpdEFzc2lnbihlKSB7XG4gICAgICAgIHRoaXMudGV4dCArPSBcIihcIjtcbiAgICAgICAgYXN0VmlzaXQoZS50YXJnZXQsIHRoaXMpO1xuICAgICAgICB0aGlzLnRleHQgKz0gXCI9XCI7XG4gICAgICAgIGFzdFZpc2l0KGUudmFsdWUsIHRoaXMpO1xuICAgICAgICB0aGlzLnRleHQgKz0gXCIpXCI7XG4gICAgfVxuICAgIHZpc2l0VmFsdWVDb252ZXJ0ZXIoZSkge1xuICAgICAgICBjb25zdCBzID0gZS5hcmdzO1xuICAgICAgICBhc3RWaXNpdChlLmV4cHJlc3Npb24sIHRoaXMpO1xuICAgICAgICB0aGlzLnRleHQgKz0gYHwke2UubmFtZX1gO1xuICAgICAgICBmb3IgKGxldCBlID0gMCwgdCA9IHMubGVuZ3RoOyBlIDwgdDsgKytlKSB7XG4gICAgICAgICAgICB0aGlzLnRleHQgKz0gXCI6XCI7XG4gICAgICAgICAgICBhc3RWaXNpdChzW2VdLCB0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB2aXNpdEJpbmRpbmdCZWhhdmlvcihlKSB7XG4gICAgICAgIGNvbnN0IHMgPSBlLmFyZ3M7XG4gICAgICAgIGFzdFZpc2l0KGUuZXhwcmVzc2lvbiwgdGhpcyk7XG4gICAgICAgIHRoaXMudGV4dCArPSBgJiR7ZS5uYW1lfWA7XG4gICAgICAgIGZvciAobGV0IGUgPSAwLCB0ID0gcy5sZW5ndGg7IGUgPCB0OyArK2UpIHtcbiAgICAgICAgICAgIHRoaXMudGV4dCArPSBcIjpcIjtcbiAgICAgICAgICAgIGFzdFZpc2l0KHNbZV0sIHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHZpc2l0QXJyYXlCaW5kaW5nUGF0dGVybihlKSB7XG4gICAgICAgIGNvbnN0IHMgPSBlLmVsZW1lbnRzO1xuICAgICAgICB0aGlzLnRleHQgKz0gXCJbXCI7XG4gICAgICAgIGZvciAobGV0IGUgPSAwLCB0ID0gcy5sZW5ndGg7IGUgPCB0OyArK2UpIHtcbiAgICAgICAgICAgIGlmIChlICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0ICs9IFwiLFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXN0VmlzaXQoc1tlXSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50ZXh0ICs9IFwiXVwiO1xuICAgIH1cbiAgICB2aXNpdE9iamVjdEJpbmRpbmdQYXR0ZXJuKGUpIHtcbiAgICAgICAgY29uc3QgcyA9IGUua2V5cztcbiAgICAgICAgY29uc3QgdCA9IGUudmFsdWVzO1xuICAgICAgICB0aGlzLnRleHQgKz0gXCJ7XCI7XG4gICAgICAgIGZvciAobGV0IGUgPSAwLCByID0gcy5sZW5ndGg7IGUgPCByOyArK2UpIHtcbiAgICAgICAgICAgIGlmIChlICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0ICs9IFwiLFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy50ZXh0ICs9IGAnJHtzW2VdfSc6YDtcbiAgICAgICAgICAgIGFzdFZpc2l0KHRbZV0sIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudGV4dCArPSBcIn1cIjtcbiAgICB9XG4gICAgdmlzaXRCaW5kaW5nSWRlbnRpZmllcihlKSB7XG4gICAgICAgIHRoaXMudGV4dCArPSBlLm5hbWU7XG4gICAgfVxuICAgIHZpc2l0Rm9yT2ZTdGF0ZW1lbnQoZSkge1xuICAgICAgICBhc3RWaXNpdChlLmRlY2xhcmF0aW9uLCB0aGlzKTtcbiAgICAgICAgdGhpcy50ZXh0ICs9IFwiIG9mIFwiO1xuICAgICAgICBhc3RWaXNpdChlLml0ZXJhYmxlLCB0aGlzKTtcbiAgICB9XG4gICAgdmlzaXRJbnRlcnBvbGF0aW9uKGUpIHtcbiAgICAgICAgY29uc3Qge3BhcnRzOiBzLCBleHByZXNzaW9uczogdH0gPSBlO1xuICAgICAgICBjb25zdCByID0gdC5sZW5ndGg7XG4gICAgICAgIHRoaXMudGV4dCArPSBcIiR7XCI7XG4gICAgICAgIHRoaXMudGV4dCArPSBzWzBdO1xuICAgICAgICBmb3IgKGxldCBlID0gMDsgZSA8IHI7IGUrKykge1xuICAgICAgICAgICAgYXN0VmlzaXQodFtlXSwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLnRleHQgKz0gc1tlICsgMV07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50ZXh0ICs9IFwifVwiO1xuICAgIH1cbiAgICB2aXNpdERlc3RydWN0dXJpbmdBc3NpZ25tZW50RXhwcmVzc2lvbihlKSB7XG4gICAgICAgIGNvbnN0IHMgPSBlLiRraW5kO1xuICAgICAgICBjb25zdCB0ID0gcyA9PT0gUztcbiAgICAgICAgdGhpcy50ZXh0ICs9IHQgPyBcIntcIiA6IFwiW1wiO1xuICAgICAgICBjb25zdCByID0gZS5saXN0O1xuICAgICAgICBjb25zdCBuID0gci5sZW5ndGg7XG4gICAgICAgIGxldCBpO1xuICAgICAgICBsZXQgbztcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgbyA9IHJbaV07XG4gICAgICAgICAgICBzd2l0Y2ggKG8uJGtpbmQpIHtcbiAgICAgICAgICAgICAgY2FzZSBCOlxuICAgICAgICAgICAgICAgIGFzdFZpc2l0KG8sIHRoaXMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgSTpcbiAgICAgICAgICAgICAgY2FzZSBTOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZSA9IG8uc291cmNlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXN0VmlzaXQoZSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRleHQgKz0gXCI6XCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYXN0VmlzaXQobywgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRleHQgKz0gdCA/IFwifVwiIDogXCJdXCI7XG4gICAgfVxuICAgIHZpc2l0RGVzdHJ1Y3R1cmluZ0Fzc2lnbm1lbnRTaW5nbGVFeHByZXNzaW9uKGUpIHtcbiAgICAgICAgYXN0VmlzaXQoZS5zb3VyY2UsIHRoaXMpO1xuICAgICAgICB0aGlzLnRleHQgKz0gXCI6XCI7XG4gICAgICAgIGFzdFZpc2l0KGUudGFyZ2V0LCB0aGlzKTtcbiAgICAgICAgY29uc3QgcyA9IGUuaW5pdGlhbGl6ZXI7XG4gICAgICAgIGlmIChzICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgIHRoaXMudGV4dCArPSBcIj1cIjtcbiAgICAgICAgICAgIGFzdFZpc2l0KHMsIHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHZpc2l0RGVzdHJ1Y3R1cmluZ0Fzc2lnbm1lbnRSZXN0RXhwcmVzc2lvbihlKSB7XG4gICAgICAgIHRoaXMudGV4dCArPSBcIi4uLlwiO1xuICAgICAgICBhc3RWaXNpdChlLnRhcmdldCwgdGhpcyk7XG4gICAgfVxuICAgIHZpc2l0Q3VzdG9tKGUpIHtcbiAgICAgICAgdGhpcy50ZXh0ICs9IE8oZS52YWx1ZSk7XG4gICAgfVxuICAgIHdyaXRlQXJncyhlKSB7XG4gICAgICAgIHRoaXMudGV4dCArPSBcIihcIjtcbiAgICAgICAgZm9yIChsZXQgcyA9IDAsIHQgPSBlLmxlbmd0aDsgcyA8IHQ7ICsrcykge1xuICAgICAgICAgICAgaWYgKHMgIT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRleHQgKz0gXCIsXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhc3RWaXNpdChlW3NdLCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRleHQgKz0gXCIpXCI7XG4gICAgfVxufVxuXG5jb25zdCBjcmVhdGVNYXBwZWRFcnJvciA9IChlLCAuLi5zKSA9PiBuZXcgRXJyb3IoYEFVUiR7TyhlKS5wYWRTdGFydCg0LCBcIjBcIil9OiR7cy5tYXAoTyl9YCk7XG5cbmNvbnN0IEYgPSAvKkBfX1BVUkVfXyovIHMuY3JlYXRlSW50ZXJmYWNlKFwiSUV4cHJlc3Npb25QYXJzZXJcIiwgKGUgPT4gZS5zaW5nbGV0b24oRXhwcmVzc2lvblBhcnNlcikpKTtcblxuY2xhc3MgRXhwcmVzc2lvblBhcnNlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMudCA9IGNyZWF0ZUxvb2t1cCgpO1xuICAgICAgICB0aGlzLmkgPSBjcmVhdGVMb29rdXAoKTtcbiAgICAgICAgdGhpcy5oID0gY3JlYXRlTG9va3VwKCk7XG4gICAgfVxuICAgIHBhcnNlKGUsIHMpIHtcbiAgICAgICAgbGV0IHQ7XG4gICAgICAgIHN3aXRjaCAocykge1xuICAgICAgICAgIGNhc2UgcTpcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ3VzdG9tRXhwcmVzc2lvbihlKTtcblxuICAgICAgICAgIGNhc2UgSDpcbiAgICAgICAgICAgIHQgPSB0aGlzLmhbZV07XG4gICAgICAgICAgICBpZiAodCA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgdCA9IHRoaXMuaFtlXSA9IHRoaXMuJHBhcnNlKGUsIHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHQ7XG5cbiAgICAgICAgICBjYXNlIFY6XG4gICAgICAgICAgICB0ID0gdGhpcy5pW2VdO1xuICAgICAgICAgICAgaWYgKHQgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgIHQgPSB0aGlzLmlbZV0gPSB0aGlzLiRwYXJzZShlLCBzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0O1xuXG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHMgPT09IEogfHwgcyA9PT0gXykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByaW1pdGl2ZUxpdGVyYWxFeHByZXNzaW9uLiRlbXB0eTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBpbnZhbGlkRW1wdHlFeHByZXNzaW9uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHQgPSB0aGlzLnRbZV07XG4gICAgICAgICAgICAgICAgaWYgKHQgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgICAgICB0ID0gdGhpcy50W2VdID0gdGhpcy4kcGFyc2UoZSwgcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgICRwYXJzZShlLCBzKSB7XG4gICAgICAgIFEgPSBlO1xuICAgICAgICBXID0gMDtcbiAgICAgICAgWCA9IGUubGVuZ3RoO1xuICAgICAgICBZID0gMDtcbiAgICAgICAgWiA9IDA7XG4gICAgICAgIGVlID0gNjI5MTQ1NjtcbiAgICAgICAgc2UgPSBcIlwiO1xuICAgICAgICB0ZSA9ICRjaGFyQ29kZUF0KDApO1xuICAgICAgICByZSA9IHRydWU7XG4gICAgICAgIG5lID0gZmFsc2U7XG4gICAgICAgIGllID0gdHJ1ZTtcbiAgICAgICAgb2UgPSAtMTtcbiAgICAgICAgcmV0dXJuIHBhcnNlKDYxLCBzID09PSB2b2lkIDAgPyBfIDogcyk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiB1bmVzY2FwZUNvZGUoZSkge1xuICAgIHN3aXRjaCAoZSkge1xuICAgICAgY2FzZSA5ODpcbiAgICAgICAgcmV0dXJuIDg7XG5cbiAgICAgIGNhc2UgMTE2OlxuICAgICAgICByZXR1cm4gOTtcblxuICAgICAgY2FzZSAxMTA6XG4gICAgICAgIHJldHVybiAxMDtcblxuICAgICAgY2FzZSAxMTg6XG4gICAgICAgIHJldHVybiAxMTtcblxuICAgICAgY2FzZSAxMDI6XG4gICAgICAgIHJldHVybiAxMjtcblxuICAgICAgY2FzZSAxMTQ6XG4gICAgICAgIHJldHVybiAxMztcblxuICAgICAgY2FzZSAzNDpcbiAgICAgICAgcmV0dXJuIDM0O1xuXG4gICAgICBjYXNlIDM5OlxuICAgICAgICByZXR1cm4gMzk7XG5cbiAgICAgIGNhc2UgOTI6XG4gICAgICAgIHJldHVybiA5MjtcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGU7XG4gICAgfVxufVxuXG5jb25zdCBNID0gUHJpbWl0aXZlTGl0ZXJhbEV4cHJlc3Npb24uJGZhbHNlO1xuXG5jb25zdCBqID0gUHJpbWl0aXZlTGl0ZXJhbEV4cHJlc3Npb24uJHRydWU7XG5cbmNvbnN0IEQgPSBQcmltaXRpdmVMaXRlcmFsRXhwcmVzc2lvbi4kbnVsbDtcblxuY29uc3QgVSA9IFByaW1pdGl2ZUxpdGVyYWxFeHByZXNzaW9uLiR1bmRlZmluZWQ7XG5cbmNvbnN0IEsgPSBuZXcgQWNjZXNzVGhpc0V4cHJlc3Npb24oMCk7XG5cbmNvbnN0IE4gPSBuZXcgQWNjZXNzVGhpc0V4cHJlc3Npb24oMSk7XG5cbmNvbnN0IFIgPSBuZXcgQWNjZXNzQm91bmRhcnlFeHByZXNzaW9uO1xuXG5jb25zdCBHID0gXCJOb25lXCI7XG5cbmNvbnN0IEggPSBcIkludGVycG9sYXRpb25cIjtcblxuY29uc3QgViA9IFwiSXNJdGVyYXRvclwiO1xuXG5jb25zdCB6ID0gXCJJc0NoYWluYWJsZVwiO1xuXG5jb25zdCBKID0gXCJJc0Z1bmN0aW9uXCI7XG5cbmNvbnN0IF8gPSBcIklzUHJvcGVydHlcIjtcblxuY29uc3QgcSA9IFwiSXNDdXN0b21cIjtcblxubGV0IFEgPSBcIlwiO1xuXG5sZXQgVyA9IDA7XG5cbmxldCBYID0gMDtcblxubGV0IFkgPSAwO1xuXG5sZXQgWiA9IDA7XG5cbmxldCBlZSA9IDYyOTE0NTY7XG5cbmxldCBzZSA9IFwiXCI7XG5cbmxldCB0ZTtcblxubGV0IHJlID0gdHJ1ZTtcblxubGV0IG5lID0gZmFsc2U7XG5cbmxldCBpZSA9IHRydWU7XG5cbmxldCBvZSA9IC0xO1xuXG5jb25zdCBhZSA9IFN0cmluZy5mcm9tQ2hhckNvZGU7XG5cbmNvbnN0ICRjaGFyQ29kZUF0ID0gZSA9PiBRLmNoYXJDb2RlQXQoZSk7XG5cbmNvbnN0ICR0b2tlblJhdyA9ICgpID0+IFEuc2xpY2UoWiwgVyk7XG5cbmNvbnN0IGNlID0gKFwiSW5maW5pdHkgTmFOIGlzRmluaXRlIGlzTmFOIHBhcnNlRmxvYXQgcGFyc2VJbnQgZGVjb2RlVVJJIGRlY29kZVVSSUNvbXBvbmVudCBlbmNvZGVVUkkgZW5jb2RlVVJJQ29tcG9uZW50XCIgKyBcIiBBcnJheSBCaWdJbnQgQm9vbGVhbiBEYXRlIE1hcCBOdW1iZXIgT2JqZWN0IFJlZ0V4cCBTZXQgU3RyaW5nIEpTT04gTWF0aCBJbnRsXCIpLnNwbGl0KFwiIFwiKTtcblxuZnVuY3Rpb24gcGFyc2VFeHByZXNzaW9uKGUsIHMpIHtcbiAgICBRID0gZTtcbiAgICBXID0gMDtcbiAgICBYID0gZS5sZW5ndGg7XG4gICAgWSA9IDA7XG4gICAgWiA9IDA7XG4gICAgZWUgPSA2MjkxNDU2O1xuICAgIHNlID0gXCJcIjtcbiAgICB0ZSA9ICRjaGFyQ29kZUF0KDApO1xuICAgIHJlID0gdHJ1ZTtcbiAgICBuZSA9IGZhbHNlO1xuICAgIGllID0gdHJ1ZTtcbiAgICBvZSA9IC0xO1xuICAgIHJldHVybiBwYXJzZSg2MSwgcyA9PT0gdm9pZCAwID8gXyA6IHMpO1xufVxuXG5mdW5jdGlvbiBwYXJzZShlLCBzKSB7XG4gICAgaWYgKHMgPT09IHEpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDdXN0b21FeHByZXNzaW9uKFEpO1xuICAgIH1cbiAgICBpZiAoVyA9PT0gMCkge1xuICAgICAgICBpZiAocyA9PT0gSCkge1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50ZXJwb2xhdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIG5leHRUb2tlbigpO1xuICAgICAgICBpZiAoZWUgJiA0MTk0MzA0KSB7XG4gICAgICAgICAgICB0aHJvdyBpbnZhbGlkU3RhcnRPZkV4cHJlc3Npb24oKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZSA9IDUxMyA+IGU7XG4gICAgbmUgPSBmYWxzZTtcbiAgICBpZSA9IDUxNCA+IGU7XG4gICAgbGV0IHIgPSBmYWxzZTtcbiAgICBsZXQgbyA9IHZvaWQgMDtcbiAgICBsZXQgYSA9IDA7XG4gICAgaWYgKGVlICYgMTMxMDcyKSB7XG4gICAgICAgIGNvbnN0IGUgPSBsZVtlZSAmIDYzXTtcbiAgICAgICAgbmV4dFRva2VuKCk7XG4gICAgICAgIG8gPSBuZXcgVW5hcnlFeHByZXNzaW9uKGUsIHBhcnNlKDUxNCwgcykpO1xuICAgICAgICByZSA9IGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGU6IHN3aXRjaCAoZWUpIHtcbiAgICAgICAgICBjYXNlIDEyMjk1OlxuICAgICAgICAgICAgYSA9IFk7XG4gICAgICAgICAgICByZSA9IGZhbHNlO1xuICAgICAgICAgICAgaWUgPSBmYWxzZTtcbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICBuZXh0VG9rZW4oKTtcbiAgICAgICAgICAgICAgICArK2E7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChlZSkge1xuICAgICAgICAgICAgICAgICAgY2FzZSA2NTU0NjpcbiAgICAgICAgICAgICAgICAgICAgbmV4dFRva2VuKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICgoZWUgJiAxMjI4OCkgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGV4cGVjdGVkSWRlbnRpZmllcigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICBjYXNlIDExOlxuICAgICAgICAgICAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXhwZWN0ZWRJZGVudGlmaWVyKCk7XG5cbiAgICAgICAgICAgICAgICAgIGNhc2UgMjE2MjcwMTpcbiAgICAgICAgICAgICAgICAgICAgbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBuZXh0VG9rZW4oKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKChlZSAmIDEyMjg4KSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbyA9IGEgPT09IDAgPyBLIDogYSA9PT0gMSA/IE4gOiBuZXcgQWNjZXNzVGhpc0V4cHJlc3Npb24oYSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGlmIChlZSAmIDIwOTcxNTIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG8gPSBhID09PSAwID8gSyA6IGEgPT09IDEgPyBOIDogbmV3IEFjY2Vzc1RoaXNFeHByZXNzaW9uKGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsgZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBpbnZhbGlkTWVtYmVyRXhwcmVzc2lvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gd2hpbGUgKGVlID09PSAxMjI5NSk7XG5cbiAgICAgICAgICBjYXNlIDQwOTY6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgZSA9IHNlO1xuICAgICAgICAgICAgICAgIGlmIChzID09PSBWKSB7XG4gICAgICAgICAgICAgICAgICAgIG8gPSBuZXcgQmluZGluZ0lkZW50aWZpZXIoZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpZSAmJiBjZS5pbmNsdWRlcyhlKSkge1xuICAgICAgICAgICAgICAgICAgICBvID0gbmV3IEFjY2Vzc0dsb2JhbEV4cHJlc3Npb24oZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpZSAmJiBlID09PSBcImltcG9ydFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IHVuZXhwZWN0ZWRJbXBvcnRLZXl3b3JkKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbyA9IG5ldyBBY2Nlc3NTY29wZUV4cHJlc3Npb24oZSwgYSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlID0gIW5lO1xuICAgICAgICAgICAgICAgIG5leHRUb2tlbigpO1xuICAgICAgICAgICAgICAgIGlmIChjb25zdW1lT3B0KDUxKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZWUgPT09IDUyNDI5Nykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZnVuY3Rpb25Cb2R5SW5BcnJvd0ZuKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcyA9IG5lO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ID0gWTtcbiAgICAgICAgICAgICAgICAgICAgKytZO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByID0gcGFyc2UoNjIsIEcpO1xuICAgICAgICAgICAgICAgICAgICBuZSA9IHM7XG4gICAgICAgICAgICAgICAgICAgIFkgPSB0O1xuICAgICAgICAgICAgICAgICAgICByZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBvID0gbmV3IEFycm93RnVuY3Rpb24oWyBuZXcgQmluZGluZ0lkZW50aWZpZXIoZSkgXSwgcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICAgIHRocm93IHVuZXhwZWN0ZWREb3VibGVEb3QoKTtcblxuICAgICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgICB0aHJvdyBpbnZhbGlkU3ByZWFkT3AoKTtcblxuICAgICAgICAgIGNhc2UgMTIyOTI6XG4gICAgICAgICAgICByZSA9IGZhbHNlO1xuICAgICAgICAgICAgbmV4dFRva2VuKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKFkpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIG8gPSBLO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICBvID0gTjtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIG8gPSBuZXcgQWNjZXNzVGhpc0V4cHJlc3Npb24oWSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgMTIyOTM6XG4gICAgICAgICAgICByZSA9IGZhbHNlO1xuICAgICAgICAgICAgbmV4dFRva2VuKCk7XG4gICAgICAgICAgICBvID0gUjtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAyNjg4MDA4OlxuICAgICAgICAgICAgbyA9IHBhcnNlQ292ZXJQYXJlbnRoZXNpemVkRXhwcmVzc2lvbkFuZEFycm93UGFyYW1ldGVyTGlzdChzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAyNjg4MDE5OlxuICAgICAgICAgICAgbyA9IFEuc2VhcmNoKC9cXHMrb2ZcXHMrLykgPiBXID8gcGFyc2VBcnJheURlc3RydWN0dXJpbmcoKSA6IHBhcnNlQXJyYXlMaXRlcmFsRXhwcmVzc2lvbihzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSA1MjQyOTc6XG4gICAgICAgICAgICBvID0gcGFyc2VPYmplY3RMaXRlcmFsRXhwcmVzc2lvbihzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAyMTYzNzYwOlxuICAgICAgICAgICAgbyA9IG5ldyBUZW1wbGF0ZUV4cHJlc3Npb24oWyBzZSBdKTtcbiAgICAgICAgICAgIHJlID0gZmFsc2U7XG4gICAgICAgICAgICBuZXh0VG9rZW4oKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAyMTYzNzYxOlxuICAgICAgICAgICAgbyA9IHBhcnNlVGVtcGxhdGUocywgbywgZmFsc2UpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIDE2Mzg0OlxuICAgICAgICAgIGNhc2UgMzI3Njg6XG4gICAgICAgICAgICBvID0gbmV3IFByaW1pdGl2ZUxpdGVyYWxFeHByZXNzaW9uKHNlKTtcbiAgICAgICAgICAgIHJlID0gZmFsc2U7XG4gICAgICAgICAgICBuZXh0VG9rZW4oKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSA4MTk0OlxuICAgICAgICAgIGNhc2UgODE5NTpcbiAgICAgICAgICBjYXNlIDgxOTM6XG4gICAgICAgICAgY2FzZSA4MTkyOlxuICAgICAgICAgICAgbyA9IGxlW2VlICYgNjNdO1xuICAgICAgICAgICAgcmUgPSBmYWxzZTtcbiAgICAgICAgICAgIG5leHRUb2tlbigpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgaWYgKFcgPj0gWCkge1xuICAgICAgICAgICAgICAgIHRocm93IHVuZXhwZWN0ZWRFbmRPZkV4cHJlc3Npb24oKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgdW5jb25zdW1lZFRva2VuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMgPT09IFYpIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUZvck9mU3RhdGVtZW50KG8pO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAoZWUpIHtcbiAgICAgICAgICBjYXNlIDIyMjgyODA6XG4gICAgICAgICAgY2FzZSAyMjI4MjgxOlxuICAgICAgICAgICAgbyA9IG5ldyBVbmFyeUV4cHJlc3Npb24obGVbZWUgJiA2M10sIG8sIDEpO1xuICAgICAgICAgICAgbmV4dFRva2VuKCk7XG4gICAgICAgICAgICByZSA9IGZhbHNlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKDUxNCA8IGUpIHtcbiAgICAgICAgICAgIHJldHVybiBvO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlZSA9PT0gMTEgfHwgZWUgPT09IDEyKSB7XG4gICAgICAgICAgICB0aHJvdyBleHBlY3RlZElkZW50aWZpZXIoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoby4ka2luZCA9PT0gdCkge1xuICAgICAgICAgICAgc3dpdGNoIChlZSkge1xuICAgICAgICAgICAgICBjYXNlIDIxNjI3MDE6XG4gICAgICAgICAgICAgICAgbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgbmV4dFRva2VuKCk7XG4gICAgICAgICAgICAgICAgaWYgKChlZSAmIDEzMzEyKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyB1bmV4cGVjdGVkVG9rZW5Jbk9wdGlvbmFsQ2hhaW4oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGVlICYgMTIyODgpIHtcbiAgICAgICAgICAgICAgICAgICAgbyA9IG5ldyBBY2Nlc3NTY29wZUV4cHJlc3Npb24oc2UsIG8uYW5jZXN0b3IpO1xuICAgICAgICAgICAgICAgICAgICBuZXh0VG9rZW4oKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGVlID09PSAyNjg4MDA4KSB7XG4gICAgICAgICAgICAgICAgICAgIG8gPSBuZXcgQ2FsbEZ1bmN0aW9uRXhwcmVzc2lvbihvLCBwYXJzZUFyZ3VtZW50cygpLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGVlID09PSAyNjg4MDE5KSB7XG4gICAgICAgICAgICAgICAgICAgIG8gPSBwYXJzZUtleWVkRXhwcmVzc2lvbihvLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBpbnZhbGlkVGFnZ2VkVGVtcGxhdGVPbk9wdGlvbmFsQ2hhaW4oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSA2NTU0NjpcbiAgICAgICAgICAgICAgICByZSA9ICFuZTtcbiAgICAgICAgICAgICAgICBuZXh0VG9rZW4oKTtcbiAgICAgICAgICAgICAgICBpZiAoKGVlICYgMTIyODgpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGV4cGVjdGVkSWRlbnRpZmllcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvID0gbmV3IEFjY2Vzc1Njb3BlRXhwcmVzc2lvbihzZSwgby5hbmNlc3Rvcik7XG4gICAgICAgICAgICAgICAgbmV4dFRva2VuKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICAgICAgICB0aHJvdyBleHBlY3RlZElkZW50aWZpZXIoKTtcblxuICAgICAgICAgICAgICBjYXNlIDI2ODgwMDg6XG4gICAgICAgICAgICAgICAgbyA9IG5ldyBDYWxsRnVuY3Rpb25FeHByZXNzaW9uKG8sIHBhcnNlQXJndW1lbnRzKCksIHIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjY4ODAxOTpcbiAgICAgICAgICAgICAgICBvID0gcGFyc2VLZXllZEV4cHJlc3Npb24obywgcik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSAyMTYzNzYwOlxuICAgICAgICAgICAgICAgIG8gPSBjcmVhdGVUZW1wbGF0ZVRhaWwobyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSAyMTYzNzYxOlxuICAgICAgICAgICAgICAgIG8gPSBwYXJzZVRlbXBsYXRlKHMsIG8sIHRydWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHdoaWxlICgoZWUgJiA2NTUzNikgPiAwKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGVlKSB7XG4gICAgICAgICAgICAgIGNhc2UgMjE2MjcwMTpcbiAgICAgICAgICAgICAgICBvID0gcGFyc2VPcHRpb25hbENoYWluTEhTKG8pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgNjU1NDY6XG4gICAgICAgICAgICAgICAgbmV4dFRva2VuKCk7XG4gICAgICAgICAgICAgICAgaWYgKChlZSAmIDEyMjg4KSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBleHBlY3RlZElkZW50aWZpZXIoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbyA9IHBhcnNlTWVtYmVyRXhwcmVzc2lvbkxIUyhvLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICAgICAgICB0aHJvdyBleHBlY3RlZElkZW50aWZpZXIoKTtcblxuICAgICAgICAgICAgICBjYXNlIDI2ODgwMDg6XG4gICAgICAgICAgICAgICAgaWYgKG8uJGtpbmQgPT09IGkpIHtcbiAgICAgICAgICAgICAgICAgICAgbyA9IG5ldyBDYWxsU2NvcGVFeHByZXNzaW9uKG8ubmFtZSwgcGFyc2VBcmd1bWVudHMoKSwgby5hbmNlc3RvciwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoby4ka2luZCA9PT0gdykge1xuICAgICAgICAgICAgICAgICAgICBvID0gbmV3IENhbGxNZW1iZXJFeHByZXNzaW9uKG8ub2JqZWN0LCBvLm5hbWUsIHBhcnNlQXJndW1lbnRzKCksIG8ub3B0aW9uYWwsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG8uJGtpbmQgPT09IG4pIHtcbiAgICAgICAgICAgICAgICAgICAgbyA9IG5ldyBDYWxsR2xvYmFsRXhwcmVzc2lvbihvLm5hbWUsIHBhcnNlQXJndW1lbnRzKCkpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG8gPSBuZXcgQ2FsbEZ1bmN0aW9uRXhwcmVzc2lvbihvLCBwYXJzZUFyZ3VtZW50cygpLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjY4ODAxOTpcbiAgICAgICAgICAgICAgICBvID0gcGFyc2VLZXllZEV4cHJlc3Npb24obywgZmFsc2UpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjE2Mzc2MDpcbiAgICAgICAgICAgICAgICBpZiAobmUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgaW52YWxpZFRhZ2dlZFRlbXBsYXRlT25PcHRpb25hbENoYWluKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG8gPSBjcmVhdGVUZW1wbGF0ZVRhaWwobyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSAyMTYzNzYxOlxuICAgICAgICAgICAgICAgIGlmIChuZSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBpbnZhbGlkVGFnZ2VkVGVtcGxhdGVPbk9wdGlvbmFsQ2hhaW4oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbyA9IHBhcnNlVGVtcGxhdGUocywgbywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGVlID09PSAxMSB8fCBlZSA9PT0gMTIpIHtcbiAgICAgICAgdGhyb3cgZXhwZWN0ZWRJZGVudGlmaWVyKCk7XG4gICAgfVxuICAgIGlmICg1MTMgPCBlKSB7XG4gICAgICAgIHJldHVybiBvO1xuICAgIH1cbiAgICB3aGlsZSAoKGVlICYgMjYyMTQ0KSA+IDApIHtcbiAgICAgICAgY29uc3QgdCA9IGVlO1xuICAgICAgICBpZiAoKHQgJiA5NjApIDw9IGUpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIG5leHRUb2tlbigpO1xuICAgICAgICBvID0gbmV3IEJpbmFyeUV4cHJlc3Npb24obGVbdCAmIDYzXSwgbywgcGFyc2UodCAmIDk2MCwgcykpO1xuICAgICAgICByZSA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAoNjMgPCBlKSB7XG4gICAgICAgIHJldHVybiBvO1xuICAgIH1cbiAgICBpZiAoY29uc3VtZU9wdCg2MjkxNDc5KSkge1xuICAgICAgICBjb25zdCBlID0gcGFyc2UoNjIsIHMpO1xuICAgICAgICBjb25zdW1lKDYyOTE0NzcpO1xuICAgICAgICBvID0gbmV3IENvbmRpdGlvbmFsRXhwcmVzc2lvbihvLCBlLCBwYXJzZSg2MiwgcykpO1xuICAgICAgICByZSA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAoNjIgPCBlKSB7XG4gICAgICAgIHJldHVybiBvO1xuICAgIH1cbiAgICBzd2l0Y2ggKGVlKSB7XG4gICAgICBjYXNlIDQxOTQzNTA6XG4gICAgICBjYXNlIDQxOTQzNTY6XG4gICAgICBjYXNlIDQxOTQzNTc6XG4gICAgICBjYXNlIDQxOTQzNTg6XG4gICAgICBjYXNlIDQxOTQzNTk6XG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghcmUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBsaHNOb3RBc3NpZ25hYmxlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBlID0gbGVbZWUgJiA2M107XG4gICAgICAgICAgICBuZXh0VG9rZW4oKTtcbiAgICAgICAgICAgIG8gPSBuZXcgQXNzaWduRXhwcmVzc2lvbihvLCBwYXJzZSg2MiwgcyksIGUpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKDYxIDwgZSkge1xuICAgICAgICByZXR1cm4gbztcbiAgICB9XG4gICAgd2hpbGUgKGNvbnN1bWVPcHQoNjI5MTQ4MSkpIHtcbiAgICAgICAgaWYgKGVlID09PSA2MjkxNDU2KSB7XG4gICAgICAgICAgICB0aHJvdyBleHBlY3RlZFZhbHVlQ29udmVydGVySWRlbnRpZmllcigpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGUgPSBzZTtcbiAgICAgICAgbmV4dFRva2VuKCk7XG4gICAgICAgIGNvbnN0IHQgPSBuZXcgQXJyYXk7XG4gICAgICAgIHdoaWxlIChjb25zdW1lT3B0KDYyOTE0NzcpKSB7XG4gICAgICAgICAgICB0LnB1c2gocGFyc2UoNjIsIHMpKTtcbiAgICAgICAgfVxuICAgICAgICBvID0gbmV3IFZhbHVlQ29udmVydGVyRXhwcmVzc2lvbihvLCBlLCB0KTtcbiAgICB9XG4gICAgd2hpbGUgKGNvbnN1bWVPcHQoNjI5MTQ4MCkpIHtcbiAgICAgICAgaWYgKGVlID09PSA2MjkxNDU2KSB7XG4gICAgICAgICAgICB0aHJvdyBleHBlY3RlZEJpbmRpbmdCZWhhdmlvcklkZW50aWZpZXIoKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlID0gc2U7XG4gICAgICAgIG5leHRUb2tlbigpO1xuICAgICAgICBjb25zdCB0ID0gbmV3IEFycmF5O1xuICAgICAgICB3aGlsZSAoY29uc3VtZU9wdCg2MjkxNDc3KSkge1xuICAgICAgICAgICAgdC5wdXNoKHBhcnNlKDYyLCBzKSk7XG4gICAgICAgIH1cbiAgICAgICAgbyA9IG5ldyBCaW5kaW5nQmVoYXZpb3JFeHByZXNzaW9uKG8sIGUsIHQpO1xuICAgIH1cbiAgICBpZiAoZWUgIT09IDYyOTE0NTYpIHtcbiAgICAgICAgaWYgKHMgPT09IEggJiYgZWUgPT09IDczNDAwNDYpIHtcbiAgICAgICAgICAgIHJldHVybiBvO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzID09PSB6ICYmIGVlID09PSA2MjkxNDc4KSB7XG4gICAgICAgICAgICBpZiAoVyA9PT0gWCkge1xuICAgICAgICAgICAgICAgIHRocm93IHVuY29uc3VtZWRUb2tlbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb2UgPSBXIC0gMTtcbiAgICAgICAgICAgIHJldHVybiBvO1xuICAgICAgICB9XG4gICAgICAgIGlmICgkdG9rZW5SYXcoKSA9PT0gXCJvZlwiKSB7XG4gICAgICAgICAgICB0aHJvdyB1bmV4cGVjdGVkT2ZLZXl3b3JkKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgdW5jb25zdW1lZFRva2VuKCk7XG4gICAgfVxuICAgIHJldHVybiBvO1xufVxuXG5mdW5jdGlvbiBwYXJzZUFycmF5RGVzdHJ1Y3R1cmluZygpIHtcbiAgICBjb25zdCBlID0gW107XG4gICAgY29uc3QgcyA9IG5ldyBEZXN0cnVjdHVyaW5nQXNzaWdubWVudEV4cHJlc3Npb24oSSwgZSwgdm9pZCAwLCB2b2lkIDApO1xuICAgIGxldCB0ID0gXCJcIjtcbiAgICBsZXQgciA9IHRydWU7XG4gICAgbGV0IG4gPSAwO1xuICAgIHdoaWxlIChyKSB7XG4gICAgICAgIG5leHRUb2tlbigpO1xuICAgICAgICBzd2l0Y2ggKGVlKSB7XG4gICAgICAgICAgY2FzZSA3MzQwMDUyOlxuICAgICAgICAgICAgciA9IGZhbHNlO1xuICAgICAgICAgICAgYWRkSXRlbSgpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIDYyOTE0NzI6XG4gICAgICAgICAgICBhZGRJdGVtKCk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgNDA5NjpcbiAgICAgICAgICAgIHQgPSAkdG9rZW5SYXcoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IHVuZXhwZWN0ZWRUb2tlbkluRGVzdHJ1Y3R1cmluZygpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN1bWUoNzM0MDA1Mik7XG4gICAgcmV0dXJuIHM7XG4gICAgZnVuY3Rpb24gYWRkSXRlbSgpIHtcbiAgICAgICAgaWYgKHQgIT09IFwiXCIpIHtcbiAgICAgICAgICAgIGUucHVzaChuZXcgRGVzdHJ1Y3R1cmluZ0Fzc2lnbm1lbnRTaW5nbGVFeHByZXNzaW9uKG5ldyBBY2Nlc3NNZW1iZXJFeHByZXNzaW9uKEssIHQpLCBuZXcgQWNjZXNzS2V5ZWRFeHByZXNzaW9uKEssIG5ldyBQcmltaXRpdmVMaXRlcmFsRXhwcmVzc2lvbihuKyspKSwgdm9pZCAwKSk7XG4gICAgICAgICAgICB0ID0gXCJcIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG4rKztcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gcGFyc2VBcmd1bWVudHMoKSB7XG4gICAgY29uc3QgZSA9IG5lO1xuICAgIG5leHRUb2tlbigpO1xuICAgIGNvbnN0IHMgPSBbXTtcbiAgICB3aGlsZSAoZWUgIT09IDczNDAwNDcpIHtcbiAgICAgICAgcy5wdXNoKHBhcnNlKDYyLCBHKSk7XG4gICAgICAgIGlmICghY29uc3VtZU9wdCg2MjkxNDcyKSkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3VtZSg3MzQwMDQ3KTtcbiAgICByZSA9IGZhbHNlO1xuICAgIG5lID0gZTtcbiAgICByZXR1cm4gcztcbn1cblxuZnVuY3Rpb24gcGFyc2VLZXllZEV4cHJlc3Npb24oZSwgcykge1xuICAgIGNvbnN0IHQgPSBuZTtcbiAgICBuZXh0VG9rZW4oKTtcbiAgICBlID0gbmV3IEFjY2Vzc0tleWVkRXhwcmVzc2lvbihlLCBwYXJzZSg2MiwgRyksIHMpO1xuICAgIGNvbnN1bWUoNzM0MDA1Mik7XG4gICAgcmUgPSAhdDtcbiAgICBuZSA9IHQ7XG4gICAgcmV0dXJuIGU7XG59XG5cbmZ1bmN0aW9uIHBhcnNlT3B0aW9uYWxDaGFpbkxIUyhlKSB7XG4gICAgbmUgPSB0cnVlO1xuICAgIHJlID0gZmFsc2U7XG4gICAgbmV4dFRva2VuKCk7XG4gICAgaWYgKChlZSAmIDEzMzEyKSA9PT0gMCkge1xuICAgICAgICB0aHJvdyB1bmV4cGVjdGVkVG9rZW5Jbk9wdGlvbmFsQ2hhaW4oKTtcbiAgICB9XG4gICAgaWYgKGVlICYgMTIyODgpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlTWVtYmVyRXhwcmVzc2lvbkxIUyhlLCB0cnVlKTtcbiAgICB9XG4gICAgaWYgKGVlID09PSAyNjg4MDA4KSB7XG4gICAgICAgIGlmIChlLiRraW5kID09PSBpKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IENhbGxTY29wZUV4cHJlc3Npb24oZS5uYW1lLCBwYXJzZUFyZ3VtZW50cygpLCBlLmFuY2VzdG9yLCB0cnVlKTtcbiAgICAgICAgfSBlbHNlIGlmIChlLiRraW5kID09PSB3KSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IENhbGxNZW1iZXJFeHByZXNzaW9uKGUub2JqZWN0LCBlLm5hbWUsIHBhcnNlQXJndW1lbnRzKCksIGUub3B0aW9uYWwsIHRydWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBDYWxsRnVuY3Rpb25FeHByZXNzaW9uKGUsIHBhcnNlQXJndW1lbnRzKCksIHRydWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChlZSA9PT0gMjY4ODAxOSkge1xuICAgICAgICByZXR1cm4gcGFyc2VLZXllZEV4cHJlc3Npb24oZSwgdHJ1ZSk7XG4gICAgfVxuICAgIHRocm93IGludmFsaWRUYWdnZWRUZW1wbGF0ZU9uT3B0aW9uYWxDaGFpbigpO1xufVxuXG5mdW5jdGlvbiBwYXJzZU1lbWJlckV4cHJlc3Npb25MSFMoZSwgcykge1xuICAgIGNvbnN0IHQgPSBzZTtcbiAgICBzd2l0Y2ggKGVlKSB7XG4gICAgICBjYXNlIDIxNjI3MDE6XG4gICAgICAgIHtcbiAgICAgICAgICAgIG5lID0gdHJ1ZTtcbiAgICAgICAgICAgIHJlID0gZmFsc2U7XG4gICAgICAgICAgICBjb25zdCByID0gVztcbiAgICAgICAgICAgIGNvbnN0IG4gPSBaO1xuICAgICAgICAgICAgY29uc3QgaSA9IGVlO1xuICAgICAgICAgICAgY29uc3QgbyA9IHRlO1xuICAgICAgICAgICAgY29uc3QgYSA9IHNlO1xuICAgICAgICAgICAgY29uc3QgYyA9IHJlO1xuICAgICAgICAgICAgY29uc3QgaCA9IG5lO1xuICAgICAgICAgICAgbmV4dFRva2VuKCk7XG4gICAgICAgICAgICBpZiAoKGVlICYgMTMzMTIpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgdW5leHBlY3RlZFRva2VuSW5PcHRpb25hbENoYWluKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZWUgPT09IDI2ODgwMDgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENhbGxNZW1iZXJFeHByZXNzaW9uKGUsIHQsIHBhcnNlQXJndW1lbnRzKCksIHMsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgVyA9IHI7XG4gICAgICAgICAgICBaID0gbjtcbiAgICAgICAgICAgIGVlID0gaTtcbiAgICAgICAgICAgIHRlID0gbztcbiAgICAgICAgICAgIHNlID0gYTtcbiAgICAgICAgICAgIHJlID0gYztcbiAgICAgICAgICAgIG5lID0gaDtcbiAgICAgICAgICAgIHJldHVybiBuZXcgQWNjZXNzTWVtYmVyRXhwcmVzc2lvbihlLCB0LCBzKTtcbiAgICAgICAgfVxuXG4gICAgICBjYXNlIDI2ODgwMDg6XG4gICAgICAgIHtcbiAgICAgICAgICAgIHJlID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm4gbmV3IENhbGxNZW1iZXJFeHByZXNzaW9uKGUsIHQsIHBhcnNlQXJndW1lbnRzKCksIHMsIGZhbHNlKTtcbiAgICAgICAgfVxuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICB7XG4gICAgICAgICAgICByZSA9ICFuZTtcbiAgICAgICAgICAgIG5leHRUb2tlbigpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBBY2Nlc3NNZW1iZXJFeHByZXNzaW9uKGUsIHQsIHMpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBwYXJzZUNvdmVyUGFyZW50aGVzaXplZEV4cHJlc3Npb25BbmRBcnJvd1BhcmFtZXRlckxpc3QoZSkge1xuICAgIG5leHRUb2tlbigpO1xuICAgIGNvbnN0IHMgPSBXO1xuICAgIGNvbnN0IHQgPSBaO1xuICAgIGNvbnN0IHIgPSBlZTtcbiAgICBjb25zdCBuID0gdGU7XG4gICAgY29uc3QgaSA9IHNlO1xuICAgIGNvbnN0IG8gPSBuZTtcbiAgICBjb25zdCBhID0gW107XG4gICAgbGV0IGMgPSAxO1xuICAgIGxldCBoID0gZmFsc2U7XG4gICAgZTogd2hpbGUgKHRydWUpIHtcbiAgICAgICAgaWYgKGVlID09PSAxMikge1xuICAgICAgICAgICAgbmV4dFRva2VuKCk7XG4gICAgICAgICAgICBpZiAoZWUgIT09IDQwOTYpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBleHBlY3RlZElkZW50aWZpZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGEucHVzaChuZXcgQmluZGluZ0lkZW50aWZpZXIoc2UpKTtcbiAgICAgICAgICAgIG5leHRUb2tlbigpO1xuICAgICAgICAgICAgaWYgKGVlID09PSA2MjkxNDcyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgcmVzdFBhcmFtc011c3RCZUxhc3RQYXJhbSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGVlICE9PSA3MzQwMDQ3KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgaW52YWxpZFNwcmVhZE9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXh0VG9rZW4oKTtcbiAgICAgICAgICAgIGlmIChlZSAhPT0gNTEpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBpbnZhbGlkU3ByZWFkT3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5leHRUb2tlbigpO1xuICAgICAgICAgICAgY29uc3QgZSA9IG5lO1xuICAgICAgICAgICAgY29uc3QgcyA9IFk7XG4gICAgICAgICAgICArK1k7XG4gICAgICAgICAgICBjb25zdCB0ID0gcGFyc2UoNjIsIEcpO1xuICAgICAgICAgICAgbmUgPSBlO1xuICAgICAgICAgICAgWSA9IHM7XG4gICAgICAgICAgICByZSA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBBcnJvd0Z1bmN0aW9uKGEsIHQsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAoZWUpIHtcbiAgICAgICAgICBjYXNlIDQwOTY6XG4gICAgICAgICAgICBhLnB1c2gobmV3IEJpbmRpbmdJZGVudGlmaWVyKHNlKSk7XG4gICAgICAgICAgICBuZXh0VG9rZW4oKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSA3MzQwMDQ3OlxuICAgICAgICAgICAgbmV4dFRva2VuKCk7XG4gICAgICAgICAgICBicmVhayBlO1xuXG4gICAgICAgICAgY2FzZSA1MjQyOTc6XG4gICAgICAgICAgY2FzZSAyNjg4MDE5OlxuICAgICAgICAgICAgbmV4dFRva2VuKCk7XG4gICAgICAgICAgICBjID0gNDtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSA2MjkxNDcyOlxuICAgICAgICAgICAgYyA9IDI7XG4gICAgICAgICAgICBoID0gdHJ1ZTtcbiAgICAgICAgICAgIGJyZWFrIGU7XG5cbiAgICAgICAgICBjYXNlIDI2ODgwMDg6XG4gICAgICAgICAgICBjID0gMjtcbiAgICAgICAgICAgIGJyZWFrIGU7XG5cbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgbmV4dFRva2VuKCk7XG4gICAgICAgICAgICBjID0gMjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAoZWUpIHtcbiAgICAgICAgICBjYXNlIDYyOTE0NzI6XG4gICAgICAgICAgICBuZXh0VG9rZW4oKTtcbiAgICAgICAgICAgIGggPSB0cnVlO1xuICAgICAgICAgICAgaWYgKGMgPT09IDEpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrIGU7XG5cbiAgICAgICAgICBjYXNlIDczNDAwNDc6XG4gICAgICAgICAgICBuZXh0VG9rZW4oKTtcbiAgICAgICAgICAgIGJyZWFrIGU7XG5cbiAgICAgICAgICBjYXNlIDQxOTQzNTA6XG4gICAgICAgICAgICBpZiAoYyA9PT0gMSkge1xuICAgICAgICAgICAgICAgIGMgPSAzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWsgZTtcblxuICAgICAgICAgIGNhc2UgNTE6XG4gICAgICAgICAgICBpZiAoaCkge1xuICAgICAgICAgICAgICAgIHRocm93IGludmFsaWRBcnJvd1BhcmFtZXRlckxpc3QoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5leHRUb2tlbigpO1xuICAgICAgICAgICAgYyA9IDI7XG4gICAgICAgICAgICBicmVhayBlO1xuXG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGlmIChjID09PSAxKSB7XG4gICAgICAgICAgICAgICAgYyA9IDI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhayBlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChlZSA9PT0gNTEpIHtcbiAgICAgICAgaWYgKGMgPT09IDEpIHtcbiAgICAgICAgICAgIG5leHRUb2tlbigpO1xuICAgICAgICAgICAgaWYgKGVlID09PSA1MjQyOTcpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBmdW5jdGlvbkJvZHlJbkFycm93Rm4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGUgPSBuZTtcbiAgICAgICAgICAgIGNvbnN0IHMgPSBZO1xuICAgICAgICAgICAgKytZO1xuICAgICAgICAgICAgY29uc3QgdCA9IHBhcnNlKDYyLCBHKTtcbiAgICAgICAgICAgIG5lID0gZTtcbiAgICAgICAgICAgIFkgPSBzO1xuICAgICAgICAgICAgcmUgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgQXJyb3dGdW5jdGlvbihhLCB0KTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBpbnZhbGlkQXJyb3dQYXJhbWV0ZXJMaXN0KCk7XG4gICAgfSBlbHNlIGlmIChjID09PSAxICYmIGEubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRocm93IG1pc3NpbmdFeHBlY3RlZFRva2VuKCk7XG4gICAgfVxuICAgIGlmIChoKSB7XG4gICAgICAgIHN3aXRjaCAoYykge1xuICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIHRocm93IGludmFsaWRBcnJvd1BhcmFtZXRlckxpc3QoKTtcblxuICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgIHRocm93IGRlZmF1bHRQYXJhbXNJbkFycm93Rm4oKTtcblxuICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgIHRocm93IGRlc3RydWN0dXJpbmdQYXJhbXNJbkFycm93Rm4oKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBXID0gcztcbiAgICBaID0gdDtcbiAgICBlZSA9IHI7XG4gICAgdGUgPSBuO1xuICAgIHNlID0gaTtcbiAgICBuZSA9IG87XG4gICAgY29uc3QgbCA9IG5lO1xuICAgIGNvbnN0IHUgPSBwYXJzZSg2MiwgZSk7XG4gICAgbmUgPSBsO1xuICAgIGNvbnN1bWUoNzM0MDA0Nyk7XG4gICAgaWYgKGVlID09PSA1MSkge1xuICAgICAgICBzd2l0Y2ggKGMpIHtcbiAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICB0aHJvdyBpbnZhbGlkQXJyb3dQYXJhbWV0ZXJMaXN0KCk7XG5cbiAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICB0aHJvdyBkZWZhdWx0UGFyYW1zSW5BcnJvd0ZuKCk7XG5cbiAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICB0aHJvdyBkZXN0cnVjdHVyaW5nUGFyYW1zSW5BcnJvd0ZuKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHU7XG59XG5cbmZ1bmN0aW9uIHBhcnNlQXJyYXlMaXRlcmFsRXhwcmVzc2lvbihlKSB7XG4gICAgY29uc3QgcyA9IG5lO1xuICAgIG5leHRUb2tlbigpO1xuICAgIGNvbnN0IHQgPSBuZXcgQXJyYXk7XG4gICAgd2hpbGUgKGVlICE9PSA3MzQwMDUyKSB7XG4gICAgICAgIGlmIChjb25zdW1lT3B0KDYyOTE0NzIpKSB7XG4gICAgICAgICAgICB0LnB1c2goVSk7XG4gICAgICAgICAgICBpZiAoZWUgPT09IDczNDAwNTIpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHQucHVzaChwYXJzZSg2MiwgZSA9PT0gViA/IEcgOiBlKSk7XG4gICAgICAgICAgICBpZiAoY29uc3VtZU9wdCg2MjkxNDcyKSkge1xuICAgICAgICAgICAgICAgIGlmIChlZSA9PT0gNzM0MDA1Mikge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIG5lID0gcztcbiAgICBjb25zdW1lKDczNDAwNTIpO1xuICAgIGlmIChlID09PSBWKSB7XG4gICAgICAgIHJldHVybiBuZXcgQXJyYXlCaW5kaW5nUGF0dGVybih0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZSA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gbmV3IEFycmF5TGl0ZXJhbEV4cHJlc3Npb24odCk7XG4gICAgfVxufVxuXG5jb25zdCBoZSA9IFsgVCwgdiwgeSwgSSwgUyBdO1xuXG5mdW5jdGlvbiBwYXJzZUZvck9mU3RhdGVtZW50KGUpIHtcbiAgICBpZiAoIWhlLmluY2x1ZGVzKGUuJGtpbmQpKSB7XG4gICAgICAgIHRocm93IGludmFsaWRMSFNCaW5kaW5nSWRlbnRpZmllckluRm9yT2YoZS4ka2luZCk7XG4gICAgfVxuICAgIGlmIChlZSAhPT0gNDIwNDU5NCkge1xuICAgICAgICB0aHJvdyBpbnZhbGlkTEhTQmluZGluZ0lkZW50aWZpZXJJbkZvck9mKGUuJGtpbmQpO1xuICAgIH1cbiAgICBuZXh0VG9rZW4oKTtcbiAgICBjb25zdCBzID0gZTtcbiAgICBjb25zdCB0ID0gcGFyc2UoNjEsIHopO1xuICAgIHJldHVybiBuZXcgRm9yT2ZTdGF0ZW1lbnQocywgdCwgb2UpO1xufVxuXG5mdW5jdGlvbiBwYXJzZU9iamVjdExpdGVyYWxFeHByZXNzaW9uKGUpIHtcbiAgICBjb25zdCBzID0gbmU7XG4gICAgY29uc3QgdCA9IG5ldyBBcnJheTtcbiAgICBjb25zdCByID0gbmV3IEFycmF5O1xuICAgIG5leHRUb2tlbigpO1xuICAgIHdoaWxlIChlZSAhPT0gNzM0MDA0Nikge1xuICAgICAgICB0LnB1c2goc2UpO1xuICAgICAgICBpZiAoZWUgJiA0OTE1Mikge1xuICAgICAgICAgICAgbmV4dFRva2VuKCk7XG4gICAgICAgICAgICBjb25zdW1lKDYyOTE0NzcpO1xuICAgICAgICAgICAgci5wdXNoKHBhcnNlKDYyLCBlID09PSBWID8gRyA6IGUpKTtcbiAgICAgICAgfSBlbHNlIGlmIChlZSAmIDEyMjg4KSB7XG4gICAgICAgICAgICBjb25zdCBzID0gdGU7XG4gICAgICAgICAgICBjb25zdCB0ID0gZWU7XG4gICAgICAgICAgICBjb25zdCBuID0gVztcbiAgICAgICAgICAgIG5leHRUb2tlbigpO1xuICAgICAgICAgICAgaWYgKGNvbnN1bWVPcHQoNjI5MTQ3NykpIHtcbiAgICAgICAgICAgICAgICByLnB1c2gocGFyc2UoNjIsIGUgPT09IFYgPyBHIDogZSkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0ZSA9IHM7XG4gICAgICAgICAgICAgICAgZWUgPSB0O1xuICAgICAgICAgICAgICAgIFcgPSBuO1xuICAgICAgICAgICAgICAgIHIucHVzaChwYXJzZSg1MTUsIGUgPT09IFYgPyBHIDogZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgaW52YWxpZFByb3BEZWZJbk9iakxpdGVyYWwoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZWUgIT09IDczNDAwNDYpIHtcbiAgICAgICAgICAgIGNvbnN1bWUoNjI5MTQ3Mik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbmUgPSBzO1xuICAgIGNvbnN1bWUoNzM0MDA0Nik7XG4gICAgaWYgKGUgPT09IFYpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBPYmplY3RCaW5kaW5nUGF0dGVybih0LCByKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZSA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gbmV3IE9iamVjdExpdGVyYWxFeHByZXNzaW9uKHQsIHIpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gcGFyc2VJbnRlcnBvbGF0aW9uKCkge1xuICAgIGNvbnN0IGUgPSBbXTtcbiAgICBjb25zdCBzID0gW107XG4gICAgY29uc3QgdCA9IFg7XG4gICAgbGV0IHIgPSBcIlwiO1xuICAgIHdoaWxlIChXIDwgdCkge1xuICAgICAgICBzd2l0Y2ggKHRlKSB7XG4gICAgICAgICAgY2FzZSAzNjpcbiAgICAgICAgICAgIGlmICgkY2hhckNvZGVBdChXICsgMSkgPT09IDEyMykge1xuICAgICAgICAgICAgICAgIGUucHVzaChyKTtcbiAgICAgICAgICAgICAgICByID0gXCJcIjtcbiAgICAgICAgICAgICAgICBXICs9IDI7XG4gICAgICAgICAgICAgICAgdGUgPSAkY2hhckNvZGVBdChXKTtcbiAgICAgICAgICAgICAgICBuZXh0VG9rZW4oKTtcbiAgICAgICAgICAgICAgICBjb25zdCB0ID0gcGFyc2UoNjEsIEgpO1xuICAgICAgICAgICAgICAgIHMucHVzaCh0KTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgciArPSBcIiRcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSA5MjpcbiAgICAgICAgICAgIHIgKz0gYWUodW5lc2NhcGVDb2RlKG5leHRDaGFyKCkpKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHIgKz0gYWUodGUpO1xuICAgICAgICB9XG4gICAgICAgIG5leHRDaGFyKCk7XG4gICAgfVxuICAgIGlmIChzLmxlbmd0aCkge1xuICAgICAgICBlLnB1c2gocik7XG4gICAgICAgIHJldHVybiBuZXcgSW50ZXJwb2xhdGlvbihlLCBzKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIHBhcnNlVGVtcGxhdGUoZSwgcywgdCkge1xuICAgIGNvbnN0IHIgPSBuZTtcbiAgICBjb25zdCBuID0gWyBzZSBdO1xuICAgIGNvbnN1bWUoMjE2Mzc2MSk7XG4gICAgY29uc3QgaSA9IFsgcGFyc2UoNjIsIGUpIF07XG4gICAgd2hpbGUgKChlZSA9IHNjYW5UZW1wbGF0ZVRhaWwoKSkgIT09IDIxNjM3NjApIHtcbiAgICAgICAgbi5wdXNoKHNlKTtcbiAgICAgICAgY29uc3VtZSgyMTYzNzYxKTtcbiAgICAgICAgaS5wdXNoKHBhcnNlKDYyLCBlKSk7XG4gICAgfVxuICAgIG4ucHVzaChzZSk7XG4gICAgcmUgPSBmYWxzZTtcbiAgICBuZSA9IHI7XG4gICAgaWYgKHQpIHtcbiAgICAgICAgbmV4dFRva2VuKCk7XG4gICAgICAgIHJldHVybiBuZXcgVGFnZ2VkVGVtcGxhdGVFeHByZXNzaW9uKG4sIG4sIHMsIGkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIG5leHRUb2tlbigpO1xuICAgICAgICByZXR1cm4gbmV3IFRlbXBsYXRlRXhwcmVzc2lvbihuLCBpKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVRlbXBsYXRlVGFpbChlKSB7XG4gICAgcmUgPSBmYWxzZTtcbiAgICBjb25zdCBzID0gWyBzZSBdO1xuICAgIG5leHRUb2tlbigpO1xuICAgIHJldHVybiBuZXcgVGFnZ2VkVGVtcGxhdGVFeHByZXNzaW9uKHMsIHMsIGUpO1xufVxuXG5mdW5jdGlvbiBuZXh0VG9rZW4oKSB7XG4gICAgd2hpbGUgKFcgPCBYKSB7XG4gICAgICAgIFogPSBXO1xuICAgICAgICBpZiAoKGVlID0gcGVbdGVdKCkpICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlZSA9IDYyOTE0NTY7XG59XG5cbmZ1bmN0aW9uIG5leHRDaGFyKCkge1xuICAgIHJldHVybiB0ZSA9ICRjaGFyQ29kZUF0KCsrVyk7XG59XG5cbmZ1bmN0aW9uIHNjYW5JZGVudGlmaWVyKCkge1xuICAgIHdoaWxlIChmZVtuZXh0Q2hhcigpXSkgO1xuICAgIGNvbnN0IGUgPSB1ZVtzZSA9ICR0b2tlblJhdygpXTtcbiAgICByZXR1cm4gZSA9PT0gdW5kZWZpbmVkID8gNDA5NiA6IGU7XG59XG5cbmZ1bmN0aW9uIHNjYW5OdW1iZXIoZSkge1xuICAgIGxldCBzID0gdGU7XG4gICAgaWYgKGUgPT09IGZhbHNlKSB7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIHMgPSBuZXh0Q2hhcigpO1xuICAgICAgICB9IHdoaWxlIChzIDw9IDU3ICYmIHMgPj0gNDgpO1xuICAgICAgICBpZiAocyAhPT0gNDYpIHtcbiAgICAgICAgICAgIHNlID0gcGFyc2VJbnQoJHRva2VuUmF3KCksIDEwKTtcbiAgICAgICAgICAgIHJldHVybiAzMjc2ODtcbiAgICAgICAgfVxuICAgICAgICBzID0gbmV4dENoYXIoKTtcbiAgICAgICAgaWYgKFcgPj0gWCkge1xuICAgICAgICAgICAgc2UgPSBwYXJzZUludCgkdG9rZW5SYXcoKS5zbGljZSgwLCAtMSksIDEwKTtcbiAgICAgICAgICAgIHJldHVybiAzMjc2ODtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAocyA8PSA1NyAmJiBzID49IDQ4KSB7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIHMgPSBuZXh0Q2hhcigpO1xuICAgICAgICB9IHdoaWxlIChzIDw9IDU3ICYmIHMgPj0gNDgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRlID0gJGNoYXJDb2RlQXQoLS1XKTtcbiAgICB9XG4gICAgc2UgPSBwYXJzZUZsb2F0KCR0b2tlblJhdygpKTtcbiAgICByZXR1cm4gMzI3Njg7XG59XG5cbmZ1bmN0aW9uIHNjYW5TdHJpbmcoKSB7XG4gICAgY29uc3QgZSA9IHRlO1xuICAgIG5leHRDaGFyKCk7XG4gICAgbGV0IHMgPSAwO1xuICAgIGNvbnN0IHQgPSBuZXcgQXJyYXk7XG4gICAgbGV0IHIgPSBXO1xuICAgIHdoaWxlICh0ZSAhPT0gZSkge1xuICAgICAgICBpZiAodGUgPT09IDkyKSB7XG4gICAgICAgICAgICB0LnB1c2goUS5zbGljZShyLCBXKSk7XG4gICAgICAgICAgICBuZXh0Q2hhcigpO1xuICAgICAgICAgICAgcyA9IHVuZXNjYXBlQ29kZSh0ZSk7XG4gICAgICAgICAgICBuZXh0Q2hhcigpO1xuICAgICAgICAgICAgdC5wdXNoKGFlKHMpKTtcbiAgICAgICAgICAgIHIgPSBXO1xuICAgICAgICB9IGVsc2UgaWYgKFcgPj0gWCkge1xuICAgICAgICAgICAgdGhyb3cgdW50ZXJtaW5hdGVkU3RyaW5nTGl0ZXJhbCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbmV4dENoYXIoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBuID0gUS5zbGljZShyLCBXKTtcbiAgICBuZXh0Q2hhcigpO1xuICAgIHQucHVzaChuKTtcbiAgICBjb25zdCBpID0gdC5qb2luKFwiXCIpO1xuICAgIHNlID0gaTtcbiAgICByZXR1cm4gMTYzODQ7XG59XG5cbmZ1bmN0aW9uIHNjYW5UZW1wbGF0ZSgpIHtcbiAgICBsZXQgZSA9IHRydWU7XG4gICAgbGV0IHMgPSBcIlwiO1xuICAgIHdoaWxlIChuZXh0Q2hhcigpICE9PSA5Nikge1xuICAgICAgICBpZiAodGUgPT09IDM2KSB7XG4gICAgICAgICAgICBpZiAoVyArIDEgPCBYICYmICRjaGFyQ29kZUF0KFcgKyAxKSA9PT0gMTIzKSB7XG4gICAgICAgICAgICAgICAgVysrO1xuICAgICAgICAgICAgICAgIGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcyArPSBcIiRcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh0ZSA9PT0gOTIpIHtcbiAgICAgICAgICAgIHMgKz0gYWUodW5lc2NhcGVDb2RlKG5leHRDaGFyKCkpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChXID49IFgpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyB1bnRlcm1pbmF0ZWRUZW1wbGF0ZUxpdGVyYWwoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHMgKz0gYWUodGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG5leHRDaGFyKCk7XG4gICAgc2UgPSBzO1xuICAgIGlmIChlKSB7XG4gICAgICAgIHJldHVybiAyMTYzNzYwO1xuICAgIH1cbiAgICByZXR1cm4gMjE2Mzc2MTtcbn1cblxuY29uc3Qgc2NhblRlbXBsYXRlVGFpbCA9ICgpID0+IHtcbiAgICBpZiAoVyA+PSBYKSB7XG4gICAgICAgIHRocm93IHVudGVybWluYXRlZFRlbXBsYXRlTGl0ZXJhbCgpO1xuICAgIH1cbiAgICBXLS07XG4gICAgcmV0dXJuIHNjYW5UZW1wbGF0ZSgpO1xufTtcblxuY29uc3QgY29uc3VtZU9wdCA9IGUgPT4ge1xuICAgIGlmIChlZSA9PT0gZSkge1xuICAgICAgICBuZXh0VG9rZW4oKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn07XG5cbmNvbnN0IGNvbnN1bWUgPSBlID0+IHtcbiAgICBpZiAoZWUgPT09IGUpIHtcbiAgICAgICAgbmV4dFRva2VuKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbWlzc2luZ0V4cGVjdGVkVG9rZW4oKTtcbiAgICB9XG59O1xuXG5jb25zdCBpbnZhbGlkU3RhcnRPZkV4cHJlc3Npb24gPSAoKSA9PiBjcmVhdGVNYXBwZWRFcnJvcigxNTEsIFEpO1xuXG5jb25zdCBpbnZhbGlkU3ByZWFkT3AgPSAoKSA9PiBjcmVhdGVNYXBwZWRFcnJvcigxNTIsIFEpO1xuXG5jb25zdCBleHBlY3RlZElkZW50aWZpZXIgPSAoKSA9PiBjcmVhdGVNYXBwZWRFcnJvcigxNTMsIFEpO1xuXG5jb25zdCBpbnZhbGlkTWVtYmVyRXhwcmVzc2lvbiA9ICgpID0+IGNyZWF0ZU1hcHBlZEVycm9yKDE1NCwgUSk7XG5cbmNvbnN0IHVuZXhwZWN0ZWRFbmRPZkV4cHJlc3Npb24gPSAoKSA9PiBjcmVhdGVNYXBwZWRFcnJvcigxNTUsIFEpO1xuXG5jb25zdCB1bmNvbnN1bWVkVG9rZW4gPSAoKSA9PiBjcmVhdGVNYXBwZWRFcnJvcigxNTYsICR0b2tlblJhdygpLCBXLCBRKTtcblxuY29uc3QgaW52YWxpZEVtcHR5RXhwcmVzc2lvbiA9ICgpID0+IGNyZWF0ZU1hcHBlZEVycm9yKDE1Nyk7XG5cbmNvbnN0IGxoc05vdEFzc2lnbmFibGUgPSAoKSA9PiBjcmVhdGVNYXBwZWRFcnJvcigxNTgsIFEpO1xuXG5jb25zdCBleHBlY3RlZFZhbHVlQ29udmVydGVySWRlbnRpZmllciA9ICgpID0+IGNyZWF0ZU1hcHBlZEVycm9yKDE1OSwgUSk7XG5cbmNvbnN0IGV4cGVjdGVkQmluZGluZ0JlaGF2aW9ySWRlbnRpZmllciA9ICgpID0+IGNyZWF0ZU1hcHBlZEVycm9yKDE2MCwgUSk7XG5cbmNvbnN0IHVuZXhwZWN0ZWRPZktleXdvcmQgPSAoKSA9PiBjcmVhdGVNYXBwZWRFcnJvcigxNjEsIFEpO1xuXG5jb25zdCB1bmV4cGVjdGVkSW1wb3J0S2V5d29yZCA9ICgpID0+IGNyZWF0ZU1hcHBlZEVycm9yKDE2MiwgUSk7XG5cbmNvbnN0IGludmFsaWRMSFNCaW5kaW5nSWRlbnRpZmllckluRm9yT2YgPSBlID0+IGNyZWF0ZU1hcHBlZEVycm9yKDE2MywgUSwgZSk7XG5cbmNvbnN0IGludmFsaWRQcm9wRGVmSW5PYmpMaXRlcmFsID0gKCkgPT4gY3JlYXRlTWFwcGVkRXJyb3IoMTY0LCBRKTtcblxuY29uc3QgdW50ZXJtaW5hdGVkU3RyaW5nTGl0ZXJhbCA9ICgpID0+IGNyZWF0ZU1hcHBlZEVycm9yKDE2NSwgUSk7XG5cbmNvbnN0IHVudGVybWluYXRlZFRlbXBsYXRlTGl0ZXJhbCA9ICgpID0+IGNyZWF0ZU1hcHBlZEVycm9yKDE2NiwgUSk7XG5cbmNvbnN0IG1pc3NpbmdFeHBlY3RlZFRva2VuID0gZSA9PiBjcmVhdGVNYXBwZWRFcnJvcigxNjcsIFEpO1xuXG5jb25zdCB1bmV4cGVjdGVkVG9rZW5JbkRlc3RydWN0dXJpbmcgPSAoKSA9PiBjcmVhdGVNYXBwZWRFcnJvcigxNzAsIFEpO1xuXG5jb25zdCB1bmV4cGVjdGVkVG9rZW5Jbk9wdGlvbmFsQ2hhaW4gPSAoKSA9PiBjcmVhdGVNYXBwZWRFcnJvcigxNzEsIFEpO1xuXG5jb25zdCBpbnZhbGlkVGFnZ2VkVGVtcGxhdGVPbk9wdGlvbmFsQ2hhaW4gPSAoKSA9PiBjcmVhdGVNYXBwZWRFcnJvcigxNzIsIFEpO1xuXG5jb25zdCBpbnZhbGlkQXJyb3dQYXJhbWV0ZXJMaXN0ID0gKCkgPT4gY3JlYXRlTWFwcGVkRXJyb3IoMTczLCBRKTtcblxuY29uc3QgZGVmYXVsdFBhcmFtc0luQXJyb3dGbiA9ICgpID0+IGNyZWF0ZU1hcHBlZEVycm9yKDE3NCwgUSk7XG5cbmNvbnN0IGRlc3RydWN0dXJpbmdQYXJhbXNJbkFycm93Rm4gPSAoKSA9PiBjcmVhdGVNYXBwZWRFcnJvcigxNzUsIFEpO1xuXG5jb25zdCByZXN0UGFyYW1zTXVzdEJlTGFzdFBhcmFtID0gKCkgPT4gY3JlYXRlTWFwcGVkRXJyb3IoMTc2LCBRKTtcblxuY29uc3QgZnVuY3Rpb25Cb2R5SW5BcnJvd0ZuID0gKCkgPT4gY3JlYXRlTWFwcGVkRXJyb3IoMTc4LCBRKTtcblxuY29uc3QgdW5leHBlY3RlZERvdWJsZURvdCA9ICgpID0+IGNyZWF0ZU1hcHBlZEVycm9yKDE3OSwgUSk7XG5cbmNvbnN0IGxlID0gWyBNLCBqLCBELCBVLCBcInRoaXNcIiwgXCIkdGhpc1wiLCBudWxsLCBcIiRwYXJlbnRcIiwgXCIoXCIsIFwie1wiLCBcIi5cIiwgXCIuLlwiLCBcIi4uLlwiLCBcIj8uXCIsIFwifVwiLCBcIilcIiwgXCIsXCIsIFwiW1wiLCBcIl1cIiwgXCI6XCIsIFwiO1wiLCBcIj9cIiwgXCInXCIsICdcIicsIFwiJlwiLCBcInxcIiwgXCI/P1wiLCBcInx8XCIsIFwiJiZcIiwgXCI9PVwiLCBcIiE9XCIsIFwiPT09XCIsIFwiIT09XCIsIFwiPFwiLCBcIj5cIiwgXCI8PVwiLCBcIj49XCIsIFwiaW5cIiwgXCJpbnN0YW5jZW9mXCIsIFwiK1wiLCBcIi1cIiwgXCJ0eXBlb2ZcIiwgXCJ2b2lkXCIsIFwiKlwiLCBcIiVcIiwgXCIvXCIsIFwiPVwiLCBcIiFcIiwgMjE2Mzc2MCwgMjE2Mzc2MSwgXCJvZlwiLCBcIj0+XCIsIFwiKz1cIiwgXCItPVwiLCBcIio9XCIsIFwiLz1cIiwgXCIrK1wiLCBcIi0tXCIgXTtcblxuY29uc3QgdWUgPSAvKkBfX1BVUkVfXyovIE9iamVjdC5hc3NpZ24oY3JlYXRlTG9va3VwKCksIHtcbiAgICB0cnVlOiA4MTkzLFxuICAgIG51bGw6IDgxOTQsXG4gICAgZmFsc2U6IDgxOTIsXG4gICAgdW5kZWZpbmVkOiA4MTk1LFxuICAgIHRoaXM6IDEyMjkzLFxuICAgICR0aGlzOiAxMjI5MixcbiAgICAkcGFyZW50OiAxMjI5NSxcbiAgICBpbjogNjU2MjIxMyxcbiAgICBpbnN0YW5jZW9mOiA2NTYyMjE0LFxuICAgIHR5cGVvZjogMTM5MzA1LFxuICAgIHZvaWQ6IDEzOTMwNixcbiAgICBvZjogNDIwNDU5NFxufSk7XG5cbmNvbnN0IHtDaGFyU2Nhbm5lcnM6IHBlLCBJZFBhcnRzOiBmZX0gPSAvKkBfX1BVUkVfXyovICgoKSA9PiB7XG4gICAgY29uc3QgdW5leHBlY3RlZENoYXJhY3RlciA9ICgpID0+IHtcbiAgICAgICAgdGhyb3cgY3JlYXRlTWFwcGVkRXJyb3IoMTY4LCBRKTtcbiAgICB9O1xuICAgIHVuZXhwZWN0ZWRDaGFyYWN0ZXIubm90TWFwcGVkID0gdHJ1ZTtcbiAgICBjb25zdCBlID0ge1xuICAgICAgICBBc2NpaUlkUGFydDogWyAzNiwgMCwgNDgsIDU4LCA2NSwgOTEsIDk1LCAwLCA5NywgMTIzIF0sXG4gICAgICAgIElkU3RhcnQ6IFsgMzYsIDAsIDY1LCA5MSwgOTUsIDAsIDk3LCAxMjMsIDE3MCwgMCwgMTg2LCAwLCAxOTIsIDIxNSwgMjE2LCAyNDcsIDI0OCwgNjk3LCA3MzYsIDc0MSwgNzQyNCwgNzQ2MiwgNzQ2OCwgNzUxNywgNzUyMiwgNzUyNiwgNzUzMSwgNzU0NCwgNzU0NSwgNzYxNSwgNzY4MCwgNzkzNiwgODMwNSwgMCwgODMxOSwgMCwgODMzNiwgODM0OSwgODQ5MCwgODQ5MiwgODQ5OCwgMCwgODUyNiwgMCwgODU0NCwgODU4NSwgMTEzNjAsIDExMzkyLCA0Mjc4NiwgNDI4ODgsIDQyODkxLCA0MjkyNywgNDI5MjgsIDQyOTM2LCA0Mjk5OSwgNDMwMDgsIDQzODI0LCA0Mzg2NywgNDM4NjgsIDQzODc3LCA2NDI1NiwgNjQyNjMsIDY1MzEzLCA2NTMzOSwgNjUzNDUsIDY1MzcxIF0sXG4gICAgICAgIERpZ2l0OiBbIDQ4LCA1OCBdLFxuICAgICAgICBTa2lwOiBbIDAsIDMzLCAxMjcsIDE2MSBdXG4gICAgfTtcbiAgICBjb25zdCBkZWNvbXByZXNzID0gKGUsIHMsIHQsIHIpID0+IHtcbiAgICAgICAgY29uc3QgbiA9IHQubGVuZ3RoO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG47IGkgKz0gMikge1xuICAgICAgICAgICAgY29uc3QgbiA9IHRbaV07XG4gICAgICAgICAgICBsZXQgbyA9IHRbaSArIDFdO1xuICAgICAgICAgICAgbyA9IG8gPiAwID8gbyA6IG4gKyAxO1xuICAgICAgICAgICAgaWYgKGUpIHtcbiAgICAgICAgICAgICAgICBlLmZpbGwociwgbiwgbyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocykge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGUgPSBuOyBlIDwgbzsgZSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHMuYWRkKGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgcyA9IC8qQF9fUFVSRV9fKi8gKHMgPT4ge1xuICAgICAgICBkZWNvbXByZXNzKHMsIG51bGwsIGUuSWRTdGFydCwgMSk7XG4gICAgICAgIGRlY29tcHJlc3MocywgbnVsbCwgZS5EaWdpdCwgMSk7XG4gICAgICAgIHJldHVybiBzO1xuICAgIH0pKG5ldyBVaW50OEFycmF5KDY1NTM1KSk7XG4gICAgY29uc3QgcmV0dXJuVG9rZW4gPSBlID0+ICgpID0+IHtcbiAgICAgICAgbmV4dENoYXIoKTtcbiAgICAgICAgcmV0dXJuIGU7XG4gICAgfTtcbiAgICBjb25zdCB0ID0gbmV3IEFycmF5KDY1NTM1KTtcbiAgICB0LmZpbGwodW5leHBlY3RlZENoYXJhY3RlciwgMCwgNjU1MzUpO1xuICAgIGRlY29tcHJlc3ModCwgbnVsbCwgZS5Ta2lwLCAoKCkgPT4ge1xuICAgICAgICBuZXh0Q2hhcigpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9KSk7XG4gICAgZGVjb21wcmVzcyh0LCBudWxsLCBlLklkU3RhcnQsIHNjYW5JZGVudGlmaWVyKTtcbiAgICBkZWNvbXByZXNzKHQsIG51bGwsIGUuRGlnaXQsICgoKSA9PiBzY2FuTnVtYmVyKGZhbHNlKSkpO1xuICAgIHRbMzRdID0gdFszOV0gPSAoKSA9PiBzY2FuU3RyaW5nKCk7XG4gICAgdFs5Nl0gPSAoKSA9PiBzY2FuVGVtcGxhdGUoKTtcbiAgICB0WzMzXSA9ICgpID0+IHtcbiAgICAgICAgaWYgKG5leHRDaGFyKCkgIT09IDYxKSB7XG4gICAgICAgICAgICByZXR1cm4gMTMxMTE5O1xuICAgICAgICB9XG4gICAgICAgIGlmIChuZXh0Q2hhcigpICE9PSA2MSkge1xuICAgICAgICAgICAgcmV0dXJuIDY1NTM5NTA7XG4gICAgICAgIH1cbiAgICAgICAgbmV4dENoYXIoKTtcbiAgICAgICAgcmV0dXJuIDY1NTM5NTI7XG4gICAgfTtcbiAgICB0WzYxXSA9ICgpID0+IHtcbiAgICAgICAgaWYgKG5leHRDaGFyKCkgPT09IDYyKSB7XG4gICAgICAgICAgICBuZXh0Q2hhcigpO1xuICAgICAgICAgICAgcmV0dXJuIDUxO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0ZSAhPT0gNjEpIHtcbiAgICAgICAgICAgIHJldHVybiA0MTk0MzUwO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuZXh0Q2hhcigpICE9PSA2MSkge1xuICAgICAgICAgICAgcmV0dXJuIDY1NTM5NDk7XG4gICAgICAgIH1cbiAgICAgICAgbmV4dENoYXIoKTtcbiAgICAgICAgcmV0dXJuIDY1NTM5NTE7XG4gICAgfTtcbiAgICB0WzM4XSA9ICgpID0+IHtcbiAgICAgICAgaWYgKG5leHRDaGFyKCkgIT09IDM4KSB7XG4gICAgICAgICAgICByZXR1cm4gNjI5MTQ4MDtcbiAgICAgICAgfVxuICAgICAgICBuZXh0Q2hhcigpO1xuICAgICAgICByZXR1cm4gNjU1Mzg4NDtcbiAgICB9O1xuICAgIHRbMTI0XSA9ICgpID0+IHtcbiAgICAgICAgaWYgKG5leHRDaGFyKCkgIT09IDEyNCkge1xuICAgICAgICAgICAgcmV0dXJuIDYyOTE0ODE7XG4gICAgICAgIH1cbiAgICAgICAgbmV4dENoYXIoKTtcbiAgICAgICAgcmV0dXJuIDY1NTM4MTk7XG4gICAgfTtcbiAgICB0WzYzXSA9ICgpID0+IHtcbiAgICAgICAgaWYgKG5leHRDaGFyKCkgPT09IDQ2KSB7XG4gICAgICAgICAgICBjb25zdCBlID0gJGNoYXJDb2RlQXQoVyArIDEpO1xuICAgICAgICAgICAgaWYgKGUgPD0gNDggfHwgZSA+PSA1Nykge1xuICAgICAgICAgICAgICAgIG5leHRDaGFyKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDIxNjI3MDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gNjI5MTQ3OTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGUgIT09IDYzKSB7XG4gICAgICAgICAgICByZXR1cm4gNjI5MTQ3OTtcbiAgICAgICAgfVxuICAgICAgICBuZXh0Q2hhcigpO1xuICAgICAgICByZXR1cm4gNjU1Mzc1NDtcbiAgICB9O1xuICAgIHRbNDZdID0gKCkgPT4ge1xuICAgICAgICBpZiAobmV4dENoYXIoKSA8PSA1NyAmJiB0ZSA+PSA0OCkge1xuICAgICAgICAgICAgcmV0dXJuIHNjYW5OdW1iZXIodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRlID09PSA0Nikge1xuICAgICAgICAgICAgaWYgKG5leHRDaGFyKCkgIT09IDQ2KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDExO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV4dENoYXIoKTtcbiAgICAgICAgICAgIHJldHVybiAxMjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gNjU1NDY7XG4gICAgfTtcbiAgICB0WzYwXSA9ICgpID0+IHtcbiAgICAgICAgaWYgKG5leHRDaGFyKCkgIT09IDYxKSB7XG4gICAgICAgICAgICByZXR1cm4gNjU1NDAxNztcbiAgICAgICAgfVxuICAgICAgICBuZXh0Q2hhcigpO1xuICAgICAgICByZXR1cm4gNjU1NDAxOTtcbiAgICB9O1xuICAgIHRbNjJdID0gKCkgPT4ge1xuICAgICAgICBpZiAobmV4dENoYXIoKSAhPT0gNjEpIHtcbiAgICAgICAgICAgIHJldHVybiA2NTU0MDE4O1xuICAgICAgICB9XG4gICAgICAgIG5leHRDaGFyKCk7XG4gICAgICAgIHJldHVybiA2NTU0MDIwO1xuICAgIH07XG4gICAgdFszN10gPSByZXR1cm5Ub2tlbig2NTU0MTU2KTtcbiAgICB0WzQwXSA9IHJldHVyblRva2VuKDI2ODgwMDgpO1xuICAgIHRbNDFdID0gcmV0dXJuVG9rZW4oNzM0MDA0Nyk7XG4gICAgdFs0Ml0gPSAoKSA9PiB7XG4gICAgICAgIGlmIChuZXh0Q2hhcigpICE9PSA2MSkge1xuICAgICAgICAgICAgcmV0dXJuIDY1NTQxNTU7XG4gICAgICAgIH1cbiAgICAgICAgbmV4dENoYXIoKTtcbiAgICAgICAgcmV0dXJuIDQxOTQzNTg7XG4gICAgfTtcbiAgICB0WzQzXSA9ICgpID0+IHtcbiAgICAgICAgaWYgKG5leHRDaGFyKCkgPT09IDQzKSB7XG4gICAgICAgICAgICBuZXh0Q2hhcigpO1xuICAgICAgICAgICAgcmV0dXJuIDIyMjgyODA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRlICE9PSA2MSkge1xuICAgICAgICAgICAgcmV0dXJuIDI0OTA4NTU7XG4gICAgICAgIH1cbiAgICAgICAgbmV4dENoYXIoKTtcbiAgICAgICAgcmV0dXJuIDQxOTQzNTY7XG4gICAgfTtcbiAgICB0WzQ0XSA9IHJldHVyblRva2VuKDYyOTE0NzIpO1xuICAgIHRbNDVdID0gKCkgPT4ge1xuICAgICAgICBpZiAobmV4dENoYXIoKSA9PT0gNDUpIHtcbiAgICAgICAgICAgIG5leHRDaGFyKCk7XG4gICAgICAgICAgICByZXR1cm4gMjIyODI4MTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGUgIT09IDYxKSB7XG4gICAgICAgICAgICByZXR1cm4gMjQ5MDg1NjtcbiAgICAgICAgfVxuICAgICAgICBuZXh0Q2hhcigpO1xuICAgICAgICByZXR1cm4gNDE5NDM1NztcbiAgICB9O1xuICAgIHRbNDddID0gKCkgPT4ge1xuICAgICAgICBpZiAobmV4dENoYXIoKSAhPT0gNjEpIHtcbiAgICAgICAgICAgIHJldHVybiA2NTU0MTU3O1xuICAgICAgICB9XG4gICAgICAgIG5leHRDaGFyKCk7XG4gICAgICAgIHJldHVybiA0MTk0MzU5O1xuICAgIH07XG4gICAgdFs1OF0gPSByZXR1cm5Ub2tlbig2MjkxNDc3KTtcbiAgICB0WzU5XSA9IHJldHVyblRva2VuKDYyOTE0NzgpO1xuICAgIHRbOTFdID0gcmV0dXJuVG9rZW4oMjY4ODAxOSk7XG4gICAgdFs5M10gPSByZXR1cm5Ub2tlbig3MzQwMDUyKTtcbiAgICB0WzEyM10gPSByZXR1cm5Ub2tlbig1MjQyOTcpO1xuICAgIHRbMTI1XSA9IHJldHVyblRva2VuKDczNDAwNDYpO1xuICAgIHJldHVybiB7XG4gICAgICAgIENoYXJTY2FubmVyczogdCxcbiAgICAgICAgSWRQYXJ0czogc1xuICAgIH07XG59KSgpO1xuXG5leHBvcnQgeyBBY2Nlc3NCb3VuZGFyeUV4cHJlc3Npb24sIEFjY2Vzc0dsb2JhbEV4cHJlc3Npb24sIEFjY2Vzc0tleWVkRXhwcmVzc2lvbiwgQWNjZXNzTWVtYmVyRXhwcmVzc2lvbiwgQWNjZXNzU2NvcGVFeHByZXNzaW9uLCBBY2Nlc3NUaGlzRXhwcmVzc2lvbiwgQXJyYXlCaW5kaW5nUGF0dGVybiwgQXJyYXlMaXRlcmFsRXhwcmVzc2lvbiwgQXJyb3dGdW5jdGlvbiwgQXNzaWduRXhwcmVzc2lvbiwgQmluYXJ5RXhwcmVzc2lvbiwgQmluZGluZ0JlaGF2aW9yRXhwcmVzc2lvbiwgQmluZGluZ0lkZW50aWZpZXIsIENhbGxGdW5jdGlvbkV4cHJlc3Npb24sIENhbGxHbG9iYWxFeHByZXNzaW9uLCBDYWxsTWVtYmVyRXhwcmVzc2lvbiwgQ2FsbFNjb3BlRXhwcmVzc2lvbiwgQ29uZGl0aW9uYWxFeHByZXNzaW9uLCBDdXN0b21FeHByZXNzaW9uLCBEZXN0cnVjdHVyaW5nQXNzaWdubWVudEV4cHJlc3Npb24sIERlc3RydWN0dXJpbmdBc3NpZ25tZW50UmVzdEV4cHJlc3Npb24sIERlc3RydWN0dXJpbmdBc3NpZ25tZW50U2luZ2xlRXhwcmVzc2lvbiwgRXhwcmVzc2lvblBhcnNlciwgRm9yT2ZTdGF0ZW1lbnQsIEYgYXMgSUV4cHJlc3Npb25QYXJzZXIsIEludGVycG9sYXRpb24sIE9iamVjdEJpbmRpbmdQYXR0ZXJuLCBPYmplY3RMaXRlcmFsRXhwcmVzc2lvbiwgUHJpbWl0aXZlTGl0ZXJhbEV4cHJlc3Npb24sIFRhZ2dlZFRlbXBsYXRlRXhwcmVzc2lvbiwgVGVtcGxhdGVFeHByZXNzaW9uLCBVbmFyeUV4cHJlc3Npb24sIFVucGFyc2VyLCBWYWx1ZUNvbnZlcnRlckV4cHJlc3Npb24sIGFzdFZpc2l0LCBwYXJzZUV4cHJlc3Npb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/expression-parser/dist/esm/index.mjs\n\n}");

/***/ },

/***/ "./node_modules/@aurelia/kernel/dist/esm/index.mjs"
/*!*********************************************************!*\
  !*** ./node_modules/@aurelia/kernel/dist/esm/index.mjs ***!
  \*********************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AnalyzedModule: () => (/* binding */ AnalyzedModule),\n/* harmony export */   ConsoleSink: () => (/* binding */ ConsoleSink),\n/* harmony export */   ContainerConfiguration: () => (/* binding */ ContainerConfiguration),\n/* harmony export */   DI: () => (/* binding */ L),\n/* harmony export */   DefaultLogEvent: () => (/* binding */ DefaultLogEvent),\n/* harmony export */   DefaultLogEventFactory: () => (/* binding */ DefaultLogEventFactory),\n/* harmony export */   DefaultLogger: () => (/* binding */ ft),\n/* harmony export */   DefaultResolver: () => (/* binding */ D),\n/* harmony export */   EventAggregator: () => (/* binding */ EventAggregator),\n/* harmony export */   IContainer: () => (/* binding */ j),\n/* harmony export */   IEventAggregator: () => (/* binding */ vt),\n/* harmony export */   ILogConfig: () => (/* binding */ rt),\n/* harmony export */   ILogEventFactory: () => (/* binding */ it),\n/* harmony export */   ILogger: () => (/* binding */ ot),\n/* harmony export */   IModuleLoader: () => (/* binding */ dt),\n/* harmony export */   IPlatform: () => (/* binding */ P),\n/* harmony export */   IServiceLocator: () => (/* binding */ F),\n/* harmony export */   ISink: () => (/* binding */ st),\n/* harmony export */   InstanceProvider: () => (/* binding */ InstanceProvider),\n/* harmony export */   LogConfig: () => (/* binding */ LogConfig),\n/* harmony export */   LogLevel: () => (/* binding */ nt),\n/* harmony export */   LoggerConfiguration: () => (/* binding */ ht),\n/* harmony export */   ModuleItem: () => (/* binding */ ModuleItem),\n/* harmony export */   Protocol: () => (/* binding */ b),\n/* harmony export */   Registration: () => (/* binding */ w),\n/* harmony export */   aliasedResourcesRegistry: () => (/* binding */ aliasedResourcesRegistry),\n/* harmony export */   all: () => (/* binding */ all),\n/* harmony export */   allResources: () => (/* binding */ U),\n/* harmony export */   areEqual: () => (/* binding */ c),\n/* harmony export */   bound: () => (/* binding */ bound),\n/* harmony export */   camelCase: () => (/* binding */ f),\n/* harmony export */   createImplementationRegister: () => (/* binding */ createImplementationRegister),\n/* harmony export */   createLookup: () => (/* binding */ createLookup),\n/* harmony export */   createResolver: () => (/* binding */ createResolver),\n/* harmony export */   emptyArray: () => (/* binding */ M),\n/* harmony export */   emptyObject: () => (/* binding */ T),\n/* harmony export */   factory: () => (/* binding */ G),\n/* harmony export */   firstDefined: () => (/* binding */ firstDefined),\n/* harmony export */   format: () => (/* binding */ at),\n/* harmony export */   fromAnnotationOrDefinitionOrTypeOrDefault: () => (/* binding */ fromAnnotationOrDefinitionOrTypeOrDefault),\n/* harmony export */   fromAnnotationOrTypeOrDefault: () => (/* binding */ fromAnnotationOrTypeOrDefault),\n/* harmony export */   fromDefinitionOrDefault: () => (/* binding */ fromDefinitionOrDefault),\n/* harmony export */   getPrototypeChain: () => (/* binding */ v),\n/* harmony export */   getResourceKeyFor: () => (/* binding */ getResourceKeyFor),\n/* harmony export */   ignore: () => (/* binding */ z),\n/* harmony export */   inject: () => (/* binding */ inject),\n/* harmony export */   isArray: () => (/* binding */ isArray),\n/* harmony export */   isArrayIndex: () => (/* binding */ a),\n/* harmony export */   isFunction: () => (/* binding */ isFunction),\n/* harmony export */   isMap: () => (/* binding */ isMap),\n/* harmony export */   isNativeFunction: () => (/* binding */ g),\n/* harmony export */   isNumber: () => (/* binding */ isNumber),\n/* harmony export */   isObject: () => (/* binding */ isObject),\n/* harmony export */   isPromise: () => (/* binding */ isPromise),\n/* harmony export */   isSet: () => (/* binding */ isSet),\n/* harmony export */   isString: () => (/* binding */ isString),\n/* harmony export */   isSymbol: () => (/* binding */ isSymbol),\n/* harmony export */   kebabCase: () => (/* binding */ d),\n/* harmony export */   last: () => (/* binding */ last),\n/* harmony export */   lazy: () => (/* binding */ K),\n/* harmony export */   mergeArrays: () => (/* binding */ mergeArrays),\n/* harmony export */   newInstanceForScope: () => (/* binding */ x),\n/* harmony export */   newInstanceOf: () => (/* binding */ H),\n/* harmony export */   noop: () => (/* binding */ noop),\n/* harmony export */   onResolve: () => (/* binding */ onResolve),\n/* harmony export */   onResolveAll: () => (/* binding */ onResolveAll),\n/* harmony export */   optional: () => (/* binding */ N),\n/* harmony export */   optionalResource: () => (/* binding */ Q),\n/* harmony export */   own: () => (/* binding */ W),\n/* harmony export */   pascalCase: () => (/* binding */ h),\n/* harmony export */   registrableMetadataKey: () => (/* binding */ C),\n/* harmony export */   resolve: () => (/* binding */ resolve),\n/* harmony export */   resource: () => (/* binding */ B),\n/* harmony export */   resourceBaseName: () => (/* binding */ R),\n/* harmony export */   singleton: () => (/* binding */ singleton),\n/* harmony export */   sink: () => (/* binding */ sink),\n/* harmony export */   toArray: () => (/* binding */ toArray),\n/* harmony export */   transient: () => (/* binding */ transient)\n/* harmony export */ });\n/* harmony import */ var _aurelia_metadata__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/metadata */ \"./node_modules/@aurelia/metadata/dist/esm/index.mjs\");\n\n\nconst r = Object.freeze;\n\nconst s = Object.assign;\n\nconst i = String;\n\nconst o = _aurelia_metadata__WEBPACK_IMPORTED_MODULE_0__.Metadata.get;\n\n_aurelia_metadata__WEBPACK_IMPORTED_MODULE_0__.Metadata.has;\n\nconst l = _aurelia_metadata__WEBPACK_IMPORTED_MODULE_0__.Metadata.define;\n\nconst isPromise = t => t instanceof Promise;\n\nconst isArray = t => t instanceof Array;\n\nconst isSet = t => t instanceof Set;\n\nconst isMap = t => t instanceof Map;\n\nconst isObject = t => t instanceof Object;\n\nconst isFunction = t => typeof t === \"function\";\n\nconst isString = t => typeof t === \"string\";\n\nconst isSymbol = t => typeof t === \"symbol\";\n\nconst isNumber = t => typeof t === \"number\";\n\nconst createLookup = () => Object.create(null);\n\nconst c = Object.is;\n\nconst createMappedError = (t, ...e) => new Error(`AUR${i(t).padStart(4, \"0\")}:${e.map(i)}`);\n\nconst a = (() => {\n    const t = {};\n    let e = false;\n    let n = 0;\n    let r = 0;\n    let s = 0;\n    return i => {\n        switch (typeof i) {\n          case \"number\":\n            return i >= 0 && (i | 0) === i;\n\n          case \"string\":\n            e = t[i];\n            if (e !== void 0) {\n                return e;\n            }\n            n = i.length;\n            if (n === 0) {\n                return t[i] = false;\n            }\n            r = 0;\n            s = 0;\n            for (;s < n; ++s) {\n                r = i.charCodeAt(s);\n                if (s === 0 && r === 48 && n > 1 || r < 48 || r > 57) {\n                    return t[i] = false;\n                }\n            }\n            return t[i] = true;\n\n          default:\n            return false;\n        }\n    };\n})();\n\nconst u = /*@__PURE__*/ function() {\n    const t = s(createLookup(), {\n        0: true,\n        1: true,\n        2: true,\n        3: true,\n        4: true,\n        5: true,\n        6: true,\n        7: true,\n        8: true,\n        9: true\n    });\n    const charToKind = e => {\n        if (e === \"\") {\n            return 0;\n        }\n        if (e !== e.toUpperCase()) {\n            return 3;\n        }\n        if (e !== e.toLowerCase()) {\n            return 2;\n        }\n        if (t[e] === true) {\n            return 1;\n        }\n        return 0;\n    };\n    return (t, e) => {\n        const n = t.length;\n        if (n === 0) {\n            return t;\n        }\n        let r = false;\n        let s = \"\";\n        let i;\n        let o = \"\";\n        let l = 0;\n        let c = t.charAt(0);\n        let a = charToKind(c);\n        let u = 0;\n        for (;u < n; ++u) {\n            i = l;\n            o = c;\n            l = a;\n            c = t.charAt(u + 1);\n            a = charToKind(c);\n            if (l === 0) {\n                if (s.length > 0) {\n                    r = true;\n                }\n            } else {\n                if (!r && s.length > 0 && l === 2) {\n                    r = i === 3 || a === 3;\n                }\n                s += e(o, r);\n                r = false;\n            }\n        }\n        return s;\n    };\n}();\n\nconst f = /*@__PURE__*/ function() {\n    const t = createLookup();\n    const callback = (t, e) => e ? t.toUpperCase() : t.toLowerCase();\n    return e => {\n        let n = t[e];\n        if (n === void 0) {\n            n = t[e] = u(e, callback);\n        }\n        return n;\n    };\n}();\n\nconst h = /*@__PURE__*/ function() {\n    const t = createLookup();\n    return e => {\n        let n = t[e];\n        if (n === void 0) {\n            n = f(e);\n            if (n.length > 0) {\n                n = n[0].toUpperCase() + n.slice(1);\n            }\n            t[e] = n;\n        }\n        return n;\n    };\n}();\n\nconst d = /*@__PURE__*/ function() {\n    const t = createLookup();\n    const callback = (t, e) => e ? `-${t.toLowerCase()}` : t.toLowerCase();\n    return e => {\n        let n = t[e];\n        if (n === void 0) {\n            n = t[e] = u(e, callback);\n        }\n        return n;\n    };\n}();\n\nconst toArray = t => {\n    const e = t.length;\n    const n = Array(e);\n    let r = 0;\n    for (;r < e; ++r) {\n        n[r] = t[r];\n    }\n    return n;\n};\n\nconst bound = (t, e) => {\n    const n = e.name;\n    e.addInitializer((function() {\n        Reflect.defineProperty(this, n, {\n            value: t.bind(this),\n            writable: true,\n            configurable: true,\n            enumerable: false\n        });\n    }));\n};\n\nconst mergeArrays = (...t) => {\n    const e = [];\n    let n = 0;\n    const r = t.length;\n    let s = 0;\n    let i;\n    let o = 0;\n    for (;o < r; ++o) {\n        i = t[o];\n        if (i !== void 0) {\n            s = i.length;\n            let t = 0;\n            for (;t < s; ++t) {\n                e[n++] = i[t];\n            }\n        }\n    }\n    return e;\n};\n\nconst firstDefined = (...t) => {\n    const e = t.length;\n    let n;\n    let r = 0;\n    for (;e > r; ++r) {\n        n = t[r];\n        if (n !== void 0) {\n            return n;\n        }\n    }\n    throw createMappedError(20);\n};\n\nconst v = /*@__PURE__*/ function() {\n    const t = Function.prototype;\n    const e = Object.getPrototypeOf;\n    const n = new WeakMap;\n    let r = t;\n    let s = 0;\n    let i = void 0;\n    return function(o) {\n        i = n.get(o);\n        if (i === void 0) {\n            n.set(o, i = [ r = o ]);\n            s = 0;\n            while ((r = e(r)) !== t) {\n                i[++s] = r;\n            }\n        }\n        return i;\n    };\n}();\n\nfunction toLookup(...t) {\n    return s(createLookup(), ...t);\n}\n\nconst g = /*@__PURE__*/ (() => {\n    const t = new WeakMap;\n    let e = false;\n    let n = \"\";\n    let r = 0;\n    return s => {\n        e = t.get(s);\n        if (e == null) {\n            r = (n = s.toString()).length;\n            e = r > 28 && n.indexOf(\"[native code] }\") === r - 15;\n            t.set(s, e);\n        }\n        return e;\n    };\n})();\n\nconst onResolve = (t, e) => {\n    if (isPromise(t)) {\n        return t.then(e);\n    }\n    return e(t);\n};\n\nconst onResolveAll = (...t) => {\n    let e = void 0;\n    let n = void 0;\n    let r = void 0;\n    let s = 0;\n    let i = t.length;\n    for (;s < i; ++s) {\n        e = t[s];\n        if (isPromise(e = t[s])) {\n            if (n === void 0) {\n                n = e;\n            } else if (r === void 0) {\n                r = [ n, e ];\n            } else {\n                r.push(e);\n            }\n        }\n    }\n    if (r === void 0) {\n        return n;\n    }\n    return Promise.all(r);\n};\n\nconst instanceRegistration = (t, e) => new Resolver(t, 0, e);\n\nconst singletonRegistration = (t, e) => new Resolver(t, 1, e);\n\nconst transientRegistation = (t, e) => new Resolver(t, 2, e);\n\nconst callbackRegistration = (t, e) => new Resolver(t, 3, e);\n\nconst cachedCallbackRegistration = (t, e) => new Resolver(t, 3, cacheCallbackResult(e));\n\nconst aliasToRegistration = (t, e) => new Resolver(e, 5, t);\n\nconst deferRegistration = (t, ...e) => new ParameterizedRegistry(t, e);\n\nconst y = new WeakMap;\n\nconst cacheCallbackResult = t => (e, n, r) => {\n    let s = y.get(e);\n    if (s === void 0) {\n        y.set(e, s = new WeakMap);\n    }\n    if (s.has(r)) {\n        return s.get(r);\n    }\n    const i = t(e, n, r);\n    s.set(r, i);\n    return i;\n};\n\nconst w = {\n    instance: instanceRegistration,\n    singleton: singletonRegistration,\n    transient: transientRegistation,\n    callback: callbackRegistration,\n    cachedCallback: cachedCallbackRegistration,\n    aliasTo: aliasToRegistration,\n    defer: deferRegistration\n};\n\nconst createImplementationRegister = function(t) {\n    return function register(e) {\n        e.register(singletonRegistration(this, this), aliasToRegistration(this, t));\n    };\n};\n\nconst p = \"au:annotation\";\n\nconst getAnnotationKeyFor = (t, e) => {\n    if (e === void 0) {\n        return `${p}:${t}`;\n    }\n    return `${p}:${t}:${e}`;\n};\n\nconst appendAnnotation = (t, e) => {\n    const n = o(p, t);\n    if (n === void 0) {\n        l([ e ], t, p);\n    } else {\n        n.push(e);\n    }\n};\n\nconst m = /*@__PURE__*/ r({\n    name: \"au:annotation\",\n    appendTo: appendAnnotation,\n    set(t, e, n) {\n        l(n, t, getAnnotationKeyFor(e));\n    },\n    get: (t, e) => o(getAnnotationKeyFor(e), t),\n    getKeys(t) {\n        let e = o(p, t);\n        if (e === void 0) {\n            l(e = [], t, p);\n        }\n        return e;\n    },\n    isKey: t => t.startsWith(p),\n    keyFor: getAnnotationKeyFor\n});\n\nconst R = \"au:resource\";\n\nconst getResourceKeyFor = (t, e, n) => {\n    if (e == null) {\n        return `${R}:${t}`;\n    }\n    if (n == null) {\n        return `${R}:${t}:${e}`;\n    }\n    return `${R}:${t}:${e}:${n}`;\n};\n\nconst b = {\n    annotation: m\n};\n\nconst $ = Object.prototype.hasOwnProperty;\n\nfunction fromAnnotationOrDefinitionOrTypeOrDefault(t, e, n, r) {\n    let s = o(getAnnotationKeyFor(t), n);\n    if (s === void 0) {\n        s = e[t];\n        if (s === void 0) {\n            s = n[t];\n            if (s === void 0 || !$.call(n, t)) {\n                return r();\n            }\n            return s;\n        }\n        return s;\n    }\n    return s;\n}\n\nfunction fromAnnotationOrTypeOrDefault(t, e, n) {\n    let r = o(getAnnotationKeyFor(t), e);\n    if (r === void 0) {\n        r = e[t];\n        if (r === void 0 || !$.call(e, t)) {\n            return n();\n        }\n        return r;\n    }\n    return r;\n}\n\nfunction fromDefinitionOrDefault(t, e, n) {\n    const r = e[t];\n    if (r === void 0) {\n        return n();\n    }\n    return r;\n}\n\nconst C = Symbol.for(\"au:registrable\");\n\nconst D = {\n    none(t) {\n        throw createMappedError(2, t);\n    },\n    singleton: t => new Resolver(t, 1, t),\n    transient: t => new Resolver(t, 2, t)\n};\n\nclass ContainerConfiguration {\n    constructor(t, e) {\n        this.inheritParentResources = t;\n        this.defaultResolver = e;\n    }\n    static from(t) {\n        if (t === void 0 || t === ContainerConfiguration.DEFAULT) {\n            return ContainerConfiguration.DEFAULT;\n        }\n        return new ContainerConfiguration(t.inheritParentResources ?? false, t.defaultResolver ?? D.singleton);\n    }\n}\n\nContainerConfiguration.DEFAULT = ContainerConfiguration.from({});\n\nconst createContainer = t => new Container(null, ContainerConfiguration.from(t));\n\nconst k = new Set(\"Array ArrayBuffer Boolean DataView Date Error EvalError Float32Array Float64Array Function Int8Array Int16Array Int32Array Map Number Object Promise RangeError ReferenceError RegExp Set SharedArrayBuffer String SyntaxError TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array URIError WeakMap WeakSet\".split(\" \"));\n\nlet O = 0;\n\nlet E = null;\n\nclass Container {\n    get depth() {\n        return this.t === null ? 0 : this.t.depth + 1;\n    }\n    get parent() {\n        return this.t;\n    }\n    constructor(t, e) {\n        this.id = ++O;\n        this.i = 0;\n        this.u = new Map;\n        this.t = t;\n        this.config = e;\n        this.h = new Map;\n        this.res = {};\n        if (t === null) {\n            this.root = this;\n            this.R = new Map;\n        } else {\n            this.root = t.root;\n            this.R = t.R;\n            if (e.inheritParentResources) {\n                for (const e in t.res) {\n                    this.registerResolver(e, t.res[e]);\n                }\n            }\n        }\n        this.h.set(j, I);\n    }\n    register(...t) {\n        if (++this.i === 100) {\n            throw createMappedError(6, ...t);\n        }\n        let n;\n        let r;\n        let s;\n        let i;\n        let l;\n        let c = 0;\n        let a = t.length;\n        let u;\n        for (;c < a; ++c) {\n            n = t[c];\n            if (!(0,_aurelia_metadata__WEBPACK_IMPORTED_MODULE_0__.isObject)(n)) {\n                continue;\n            }\n            if (isRegistry(n)) {\n                n.register(this);\n            } else if ((u = o(R, n)) != null) {\n                u.register(this);\n            } else if (isClass(n)) {\n                const t = n[Symbol.metadata]?.[C];\n                if (isRegistry(t)) {\n                    t.register(this);\n                } else if (isString(n.$au?.type)) {\n                    const t = n.$au;\n                    const e = (n.aliases ?? M).concat(t.aliases ?? M);\n                    let r = `${R}:${t.type}:${t.name}`;\n                    if (this.has(r, false)) {\n                        continue;\n                    }\n                    aliasToRegistration(n, r).register(this);\n                    if (!this.has(n, false)) {\n                        singletonRegistration(n, n).register(this);\n                    }\n                    i = 0;\n                    l = e.length;\n                    for (;i < l; ++i) {\n                        r = `${R}:${t.type}:${e[i]}`;\n                        if (this.has(r, false)) {\n                            continue;\n                        }\n                        aliasToRegistration(n, r).register(this);\n                    }\n                } else {\n                    singletonRegistration(n, n).register(this);\n                }\n            } else {\n                r = Object.keys(n);\n                i = 0;\n                l = r.length;\n                for (;i < l; ++i) {\n                    s = n[r[i]];\n                    if (!(0,_aurelia_metadata__WEBPACK_IMPORTED_MODULE_0__.isObject)(s)) {\n                        continue;\n                    }\n                    if (isRegistry(s)) {\n                        s.register(this);\n                    } else {\n                        this.register(s);\n                    }\n                }\n            }\n        }\n        --this.i;\n        return this;\n    }\n    registerResolver(t, e, n = false) {\n        validateKey(t);\n        const r = this.h;\n        const s = r.get(t);\n        if (s == null) {\n            r.set(t, e);\n            if (isResourceKey(t)) {\n                if (this.res[t] !== void 0) {\n                    throw createMappedError(7, t);\n                }\n                this.res[t] = e;\n            }\n        } else if (s instanceof Resolver && s.$ === 4) {\n            s._state.push(e);\n        } else {\n            r.set(t, new Resolver(t, 4, [ s, e ]));\n        }\n        if (n) {\n            this.u.set(t, e);\n        }\n        return e;\n    }\n    deregister(t) {\n        validateKey(t);\n        const e = this.h.get(t);\n        if (e != null) {\n            this.h.delete(t);\n            if (isResourceKey(t)) {\n                delete this.res[t];\n            }\n            if (this.u.has(t)) {\n                e.dispose();\n                this.u.delete(t);\n            }\n        }\n    }\n    registerTransformer(t, e) {\n        const n = this.getResolver(t);\n        if (n == null) {\n            return false;\n        }\n        if (n.getFactory) {\n            const t = n.getFactory(this);\n            if (t == null) {\n                return false;\n            }\n            t.registerTransformer(e);\n            return true;\n        }\n        return false;\n    }\n    getResolver(t, e = true) {\n        validateKey(t);\n        if (t.resolve !== void 0) {\n            return t;\n        }\n        const n = E;\n        let r = E = this;\n        let s;\n        let i;\n        try {\n            while (r != null) {\n                s = r.h.get(t);\n                if (s == null) {\n                    if (r.t == null) {\n                        i = isRegisterInRequester(t) ? this : r;\n                        if (e) {\n                            return this.C(t, i);\n                        }\n                        return null;\n                    }\n                    r = r.t;\n                } else {\n                    return s;\n                }\n            }\n        } finally {\n            E = n;\n        }\n        return null;\n    }\n    has(t, e = false) {\n        return this.h.has(t) || isResourceKey(t) && t in this.res || ((e && this.t?.has(t, true)) ?? false);\n    }\n    get(t) {\n        validateKey(t);\n        if (t.$isResolver) {\n            return t.resolve(this, this);\n        }\n        const e = E;\n        let n = E = this;\n        let r;\n        let s;\n        try {\n            while (n != null) {\n                r = n.h.get(t);\n                if (r == null) {\n                    if (n.t == null) {\n                        s = isRegisterInRequester(t) ? this : n;\n                        r = this.C(t, s);\n                        return r.resolve(n, this);\n                    }\n                    n = n.t;\n                } else {\n                    return r.resolve(n, this);\n                }\n            }\n        } finally {\n            E = e;\n        }\n        throw createMappedError(8, t);\n    }\n    getAll(t, e = false) {\n        validateKey(t);\n        const n = E;\n        const r = E = this;\n        let s = r;\n        let i;\n        let o = M;\n        try {\n            if (e) {\n                while (s != null) {\n                    i = s.h.get(t);\n                    if (i != null) {\n                        o = o.concat(buildAllResponse(i, s, r));\n                    }\n                    s = s.t;\n                }\n                return o;\n            }\n            while (s != null) {\n                i = s.h.get(t);\n                if (i == null) {\n                    s = s.t;\n                    if (s == null) {\n                        return M;\n                    }\n                } else {\n                    return buildAllResponse(i, s, r);\n                }\n            }\n        } finally {\n            E = n;\n        }\n        return M;\n    }\n    invoke(t, e) {\n        if (g(t)) {\n            throw createMappedError(15, t);\n        }\n        const n = E;\n        E = this;\n        try {\n            return e === void 0 ? new t(...getDependencies(t).map(containerGetKey, this)) : new t(...getDependencies(t).map(containerGetKey, this), ...e);\n        } finally {\n            E = n;\n        }\n    }\n    hasFactory(t) {\n        return this.R.has(t);\n    }\n    getFactory(t) {\n        let e = this.R.get(t);\n        if (e === void 0) {\n            if (g(t)) {\n                throw createMappedError(15, t);\n            }\n            this.R.set(t, e = new Factory(t, getDependencies(t)));\n        }\n        return e;\n    }\n    registerFactory(t, e) {\n        this.R.set(t, e);\n    }\n    createChild(t) {\n        if (t === void 0 && this.config.inheritParentResources) {\n            if (this.config === ContainerConfiguration.DEFAULT) {\n                return new Container(this, this.config);\n            }\n            return new Container(this, ContainerConfiguration.from({\n                ...this.config,\n                inheritParentResources: false\n            }));\n        }\n        return new Container(this, ContainerConfiguration.from(t ?? this.config));\n    }\n    disposeResolvers() {\n        const t = this.h;\n        const e = this.u;\n        let n;\n        let r;\n        for ([r, n] of e.entries()) {\n            n.dispose?.();\n            t.delete(r);\n        }\n        e.clear();\n    }\n    useResources(t) {\n        const e = t.res;\n        for (const t in e) {\n            this.registerResolver(t, e[t]);\n        }\n    }\n    find(t, e) {\n        const n = isString(e) ? `${R}:${t}:${e}` : t;\n        let r = this;\n        let s = r.res[n];\n        if (s == null) {\n            r = r.root;\n            s = r.res[n];\n        }\n        if (s == null) {\n            return null;\n        }\n        return s.getFactory?.(r)?.Type ?? null;\n    }\n    dispose() {\n        if (this.u.size > 0) {\n            this.disposeResolvers();\n        }\n        this.h.clear();\n        if (this.root === this) {\n            this.R.clear();\n            this.res = {};\n        }\n    }\n    C(t, e) {\n        const n = isRegistry(t);\n        if (!isFunction(t) && !n) {\n            throw createMappedError(9, t);\n        }\n        if (k.has(t.name)) {\n            throw createMappedError(10, t);\n        }\n        if (n) {\n            const n = t.register(e, t);\n            if (!(n instanceof Object) || n.resolve == null) {\n                const n = e.h.get(t);\n                if (n != null) {\n                    return n;\n                }\n                throw createMappedError(11, t);\n            }\n            return n;\n        }\n        if (t.$isInterface) {\n            throw createMappedError(12, t.friendlyName);\n        }\n        const r = this.config.defaultResolver(t, e);\n        e.h.set(t, r);\n        return r;\n    }\n}\n\nclass Factory {\n    constructor(t, e) {\n        this.Type = t;\n        this.dependencies = e;\n        this.transformers = null;\n    }\n    construct(t, e) {\n        const n = E;\n        E = t;\n        let r;\n        try {\n            if (e === void 0) {\n                r = new this.Type(...this.dependencies.map(containerGetKey, t));\n            } else {\n                r = new this.Type(...this.dependencies.map(containerGetKey, t), ...e);\n            }\n            if (this.transformers == null) {\n                return r;\n            }\n            return this.transformers.reduce(transformInstance, r);\n        } finally {\n            E = n;\n        }\n    }\n    registerTransformer(t) {\n        (this.transformers ??= []).push(t);\n    }\n}\n\nfunction transformInstance(t, e) {\n    return e(t);\n}\n\nfunction validateKey(t) {\n    if (t === null || t === void 0) {\n        throw createMappedError(14);\n    }\n}\n\nfunction containerGetKey(t) {\n    return this.get(t);\n}\n\nfunction resolve(...t) {\n    if (E == null) {\n        throw createMappedError(16, ...t);\n    }\n    return t.length === 1 ? E.get(t[0]) : t.map(containerGetKey, E);\n}\n\nconst buildAllResponse = (t, e, n) => {\n    if (t instanceof Resolver && t.$ === 4) {\n        const r = t._state;\n        const s = r.length;\n        const i = Array(s);\n        let o = 0;\n        for (;o < s; ++o) {\n            i[o] = r[o].resolve(e, n);\n        }\n        return i;\n    }\n    return [ t.resolve(e, n) ];\n};\n\nconst I = {\n    $isResolver: true,\n    resolve(t, e) {\n        return e;\n    }\n};\n\nconst isRegistry = t => isFunction(t?.register);\n\nconst isSelfRegistry = t => isRegistry(t) && typeof t.registerInRequestor === \"boolean\";\n\nconst isRegisterInRequester = t => isSelfRegistry(t) && t.registerInRequestor;\n\nconst isClass = t => t.prototype !== void 0;\n\nconst isResourceKey = t => isString(t) && t.indexOf(\":\") > 0;\n\nclass ResolverBuilder {\n    constructor(t, e) {\n        this.c = t;\n        this.k = e;\n    }\n    instance(t) {\n        return this.O(0, t);\n    }\n    singleton(t) {\n        return this.O(1, t);\n    }\n    transient(t) {\n        return this.O(2, t);\n    }\n    callback(t) {\n        return this.O(3, t);\n    }\n    cachedCallback(t) {\n        return this.O(3, cacheCallbackResult(t));\n    }\n    aliasTo(t) {\n        return this.O(5, t);\n    }\n    O(t, e) {\n        const {c: n, k: r} = this;\n        this.c = this.k = void 0;\n        return n.registerResolver(r, new Resolver(r, t, e));\n    }\n}\n\nconst cloneArrayWithPossibleProps = t => {\n    const e = t.slice();\n    const n = Object.keys(t);\n    const r = n.length;\n    let s;\n    for (let i = 0; i < r; ++i) {\n        s = n[i];\n        if (!a(s)) {\n            e[s] = t[s];\n        }\n    }\n    return e;\n};\n\nconst A = getAnnotationKeyFor(\"di:paramtypes\");\n\nconst getAnnotationParamtypes = t => o(A, t);\n\nconst getDesignParamtypes = t => o(\"design:paramtypes\", t);\n\nconst getOrCreateAnnotationParamTypes = t => t.metadata[A] ??= [];\n\nconst getDependencies = t => {\n    const e = getAnnotationKeyFor(\"di:dependencies\");\n    let n = o(e, t);\n    if (n === void 0) {\n        const r = t.inject;\n        if (r === void 0) {\n            const e = getDesignParamtypes(t);\n            const r = getAnnotationParamtypes(t);\n            if (e === void 0) {\n                if (r === void 0) {\n                    const e = Object.getPrototypeOf(t);\n                    if (isFunction(e) && e !== Function.prototype) {\n                        n = cloneArrayWithPossibleProps(getDependencies(e));\n                    } else {\n                        n = [];\n                    }\n                } else {\n                    n = cloneArrayWithPossibleProps(r);\n                }\n            } else if (r === void 0) {\n                n = cloneArrayWithPossibleProps(e);\n            } else {\n                n = cloneArrayWithPossibleProps(e);\n                let t = r.length;\n                let s;\n                let i = 0;\n                for (;i < t; ++i) {\n                    s = r[i];\n                    if (s !== void 0) {\n                        n[i] = s;\n                    }\n                }\n                const o = Object.keys(r);\n                let l;\n                i = 0;\n                t = o.length;\n                for (i = 0; i < t; ++i) {\n                    l = o[i];\n                    if (!a(l)) {\n                        n[l] = r[l];\n                    }\n                }\n            }\n        } else {\n            n = cloneArrayWithPossibleProps(r);\n        }\n        l(n, t, e);\n    }\n    return n;\n};\n\nconst createInterface = (t, e) => {\n    const n = isFunction(t) ? t : e;\n    const r = (isString(t) ? t : undefined) ?? \"(anonymous)\";\n    const s = {\n        $isInterface: true,\n        friendlyName: r,\n        toString: () => `InterfaceSymbol<${r}>`,\n        register: n != null ? (t, e) => n(new ResolverBuilder(t, e ?? s)) : void 0\n    };\n    return s;\n};\n\nconst inject = (...t) => (e, n) => {\n    switch (n.kind) {\n      case \"class\":\n        {\n            const e = getOrCreateAnnotationParamTypes(n);\n            let r;\n            let s = 0;\n            for (;s < t.length; ++s) {\n                r = t[s];\n                if (r !== void 0) {\n                    e[s] = r;\n                }\n            }\n            break;\n        }\n\n      case \"field\":\n        {\n            const e = getOrCreateAnnotationParamTypes(n);\n            const r = t[0];\n            if (r !== void 0) {\n                e[n.name] = r;\n            }\n            break;\n        }\n\n      default:\n        throw createMappedError(22, String(n.name), n.kind);\n    }\n};\n\nconst L = /*@__PURE__*/ (() => {\n    (0,_aurelia_metadata__WEBPACK_IMPORTED_MODULE_0__.initializeTC39Metadata)();\n    return {\n        createContainer: createContainer,\n        getDesignParamtypes: getDesignParamtypes,\n        getDependencies: getDependencies,\n        createInterface: createInterface,\n        inject: inject,\n        transient(t) {\n            t.register = function(e) {\n                const n = transientRegistation(t, t);\n                return n.register(e, t);\n            };\n            t.registerInRequestor = false;\n            return t;\n        },\n        singleton(t, e = S) {\n            t.register = function(e) {\n                const n = singletonRegistration(t, t);\n                return n.register(e, t);\n            };\n            t.registerInRequestor = e.scoped;\n            return t;\n        }\n    };\n})();\n\nconst j = /*@__PURE__*/ createInterface(\"IContainer\");\n\nconst F = j;\n\nfunction transientDecorator(t, e) {\n    return L.transient(t);\n}\n\nfunction transient(t, e) {\n    return t == null ? transientDecorator : transientDecorator(t);\n}\n\nconst S = {\n    scoped: false\n};\n\nconst _ = L.singleton;\n\nfunction singleton(t, e) {\n    return isFunction(t) ? _(t) : function(e, n) {\n        return _(e, t);\n    };\n}\n\nclass Resolver {\n    get $isResolver() {\n        return true;\n    }\n    constructor(t, e, n) {\n        this.I = false;\n        this.A = null;\n        this.k = t;\n        this.$ = e;\n        this._state = n;\n    }\n    register(t, e) {\n        return t.registerResolver(e || this.k, this);\n    }\n    resolve(t, e) {\n        switch (this.$) {\n          case 0:\n            return this._state;\n\n          case 1:\n            {\n                if (this.I) {\n                    throw createMappedError(3, this._state.name);\n                }\n                this.I = true;\n                this._state = (this.A = t.getFactory(this._state)).construct(e);\n                this.$ = 0;\n                this.I = false;\n                return this._state;\n            }\n\n          case 2:\n            {\n                const n = t.getFactory(this._state);\n                if (n === null) {\n                    throw createMappedError(4, this.k);\n                }\n                return n.construct(e);\n            }\n\n          case 3:\n            return this._state(t, e, this);\n\n          case 4:\n            return this._state[0].resolve(t, e);\n\n          case 5:\n            return e.get(this._state);\n\n          default:\n            throw createMappedError(5, this.$);\n        }\n    }\n    getFactory(t) {\n        switch (this.$) {\n          case 1:\n          case 2:\n            return t.getFactory(this._state);\n\n          case 5:\n            return t.getResolver(this._state)?.getFactory?.(t) ?? null;\n\n          case 0:\n            return this.A;\n\n          default:\n            return null;\n        }\n    }\n}\n\nclass InstanceProvider {\n    get friendlyName() {\n        return this.L;\n    }\n    constructor(t, e = null, n = null) {\n        this.L = t;\n        this.j = e;\n        this.F = n;\n    }\n    prepare(t) {\n        this.j = t;\n    }\n    get $isResolver() {\n        return true;\n    }\n    resolve() {\n        if (this.j == null) {\n            throw createMappedError(13, this.L);\n        }\n        return this.j;\n    }\n    getFactory(t) {\n        return this.F == null ? null : t.getFactory(this.F);\n    }\n    dispose() {\n        this.j = null;\n    }\n}\n\nclass ParameterizedRegistry {\n    constructor(t, e) {\n        this.key = t;\n        this.params = e;\n    }\n    register(t) {\n        if (t.has(this.key, true)) {\n            const e = t.get(this.key);\n            e.register(t, ...this.params);\n        } else {\n            t.register(...this.params.filter((t => typeof t === \"object\")));\n        }\n    }\n}\n\nconst M = r([]);\n\nconst T = r({});\n\nfunction noop() {}\n\nconst P = /*@__PURE__*/ createInterface(\"IPlatform\");\n\nfunction createResolver(t) {\n    return function(e) {\n        function Resolver(t, e) {\n            inject(Resolver)(t, e);\n        }\n        Resolver.$isResolver = true;\n        Resolver.resolve = function(n, r) {\n            return t(e, n, r);\n        };\n        return Resolver;\n    };\n}\n\nconst all = (t, e = false) => {\n    function resolver(t, e) {\n        inject(resolver)(t, e);\n    }\n    resolver.$isResolver = true;\n    resolver.resolve = (n, r) => r.getAll(t, e);\n    return resolver;\n};\n\nconst last = t => ({\n    $isResolver: true,\n    resolve: e => {\n        const n = e.getAll(t);\n        return n.length > 0 ? n[n.length - 1] : undefined;\n    }\n});\n\nconst K = /*@__PURE__*/ createResolver(((t, e, n) => () => n.get(t)));\n\nconst N = /*@__PURE__*/ createResolver(((t, e, n) => {\n    if (n.has(t, true)) {\n        return n.get(t);\n    } else {\n        return undefined;\n    }\n}));\n\nconst z = /*@__PURE__*/ s(((t, e) => {\n    inject(z)(t, e);\n}), {\n    $isResolver: true,\n    resolve: () => void 0\n});\n\nconst G = /*@__PURE__*/ createResolver(((t, e, n) => (...r) => e.getFactory(t).construct(n, r)));\n\nconst W = /*@__PURE__*/ createResolver(((t, e, n) => n.has(t, false) ? n.get(t) : void 0));\n\nconst B = /*@__PURE__*/ createResolver(((t, e, n) => n.has(t, false) ? n.get(t) : n.root.get(t)));\n\nconst Q = /*@__PURE__*/ createResolver(((t, e, n) => n.has(t, false) ? n.get(t) : n.root.has(t, false) ? n.root.get(t) : void 0));\n\nconst U = /*@__PURE__*/ createResolver(((t, e, n) => n === n.root ? n.getAll(t, false) : n.has(t, false) ? n.getAll(t, false).concat(n.root.getAll(t, false)) : n.root.getAll(t, false)));\n\nconst x = /*@__PURE__*/ createResolver(((t, e, n) => {\n    const r = createNewInstance(t, e, n);\n    const s = new InstanceProvider(i(t), r);\n    n.registerResolver(t, s, true);\n    return r;\n}));\n\nconst H = /*@__PURE__*/ createResolver(((t, e, n) => createNewInstance(t, e, n)));\n\nconst createNewInstance = (t, e, n) => {\n    if (e.hasFactory(t)) {\n        return e.getFactory(t).construct(n);\n    }\n    if (isInterface(t)) {\n        const r = isFunction(t.register);\n        const s = e.getResolver(t, false);\n        let i;\n        if (s == null) {\n            if (r) {\n                i = (V ??= createContainer()).getResolver(t, true)?.getFactory?.(e);\n            }\n            V.dispose();\n        } else {\n            i = s.getFactory?.(e);\n        }\n        if (i != null) {\n            return i.construct(n);\n        }\n        throw createMappedError(17, t);\n    }\n    return e.getFactory(t).construct(n);\n};\n\nconst isInterface = t => t?.$isInterface === true;\n\nlet V;\n\nfunction __esDecorate(t, e, n, r, s, i) {\n    function accept(t) {\n        if (t !== void 0 && typeof t !== \"function\") throw new TypeError(\"Function expected\");\n        return t;\n    }\n    var o = r.kind, l = o === \"getter\" ? \"get\" : o === \"setter\" ? \"set\" : \"value\";\n    var c = !e && t ? r[\"static\"] ? t : t.prototype : null;\n    var a = e || (c ? Object.getOwnPropertyDescriptor(c, r.name) : {});\n    var u, f = false;\n    for (var h = n.length - 1; h >= 0; h--) {\n        var d = {};\n        for (var v in r) d[v] = v === \"access\" ? {} : r[v];\n        for (var v in r.access) d.access[v] = r.access[v];\n        d.addInitializer = function(t) {\n            if (f) throw new TypeError(\"Cannot add initializers after decoration has completed\");\n            i.push(accept(t || null));\n        };\n        var g = (0, n[h])(o === \"accessor\" ? {\n            get: a.get,\n            set: a.set\n        } : a[l], d);\n        if (o === \"accessor\") {\n            if (g === void 0) continue;\n            if (g === null || typeof g !== \"object\") throw new TypeError(\"Object expected\");\n            if (u = accept(g.get)) a.get = u;\n            if (u = accept(g.set)) a.set = u;\n            if (u = accept(g.init)) s.unshift(u);\n        } else if (u = accept(g)) {\n            if (o === \"field\") s.unshift(u); else a[l] = u;\n        }\n    }\n    if (c) Object.defineProperty(c, r.name, a);\n    f = true;\n}\n\nfunction __runInitializers(t, e, n) {\n    var r = arguments.length > 2;\n    for (var s = 0; s < e.length; s++) {\n        n = r ? e[s].call(t, n) : e[s].call(t);\n    }\n    return r ? n : void 0;\n}\n\ntypeof SuppressedError === \"function\" ? SuppressedError : function(t, e, n) {\n    var r = new Error(n);\n    return r.name = \"SuppressedError\", r.error = t, r.suppressed = e, r;\n};\n\nconst q = 0;\n\nconst J = 1;\n\nconst X = 2;\n\nconst Y = 3;\n\nconst Z = 4;\n\nconst tt = 5;\n\nconst et = 6;\n\nconst nt = r({\n    trace: q,\n    debug: J,\n    info: X,\n    warn: Y,\n    error: Z,\n    fatal: tt,\n    none: et\n});\n\nconst rt = /*@__PURE__*/ createInterface(\"ILogConfig\", (t => t.instance(new LogConfig(\"no-colors\", Y))));\n\nconst st = /*@__PURE__*/ createInterface(\"ISink\");\n\nconst it = /*@__PURE__*/ createInterface(\"ILogEventFactory\", (t => t.singleton(DefaultLogEventFactory)));\n\nconst ot = /*@__PURE__*/ createInterface(\"ILogger\", (t => t.singleton(ft)));\n\nconst lt = /*@__PURE__*/ createInterface(\"ILogScope\");\n\nconst ct = /*@__PURE__*/ r({\n    key: getAnnotationKeyFor(\"logger-sink-handles\"),\n    define(t, e) {\n        l(e.handles, t, this.key);\n    },\n    getHandles(t) {\n        return o(this.key, t.constructor);\n    }\n});\n\nconst sink = t => (e, n) => n.addInitializer((function() {\n    ct.define(this, t);\n}));\n\nconst at = toLookup({\n    red(t) {\n        return `\u001b[31m${t}\u001b[39m`;\n    },\n    green(t) {\n        return `\u001b[32m${t}\u001b[39m`;\n    },\n    yellow(t) {\n        return `\u001b[33m${t}\u001b[39m`;\n    },\n    blue(t) {\n        return `\u001b[34m${t}\u001b[39m`;\n    },\n    magenta(t) {\n        return `\u001b[35m${t}\u001b[39m`;\n    },\n    cyan(t) {\n        return `\u001b[36m${t}\u001b[39m`;\n    },\n    white(t) {\n        return `\u001b[37m${t}\u001b[39m`;\n    },\n    grey(t) {\n        return `\u001b[90m${t}\u001b[39m`;\n    }\n});\n\nclass LogConfig {\n    constructor(t, e) {\n        this.colorOptions = t;\n        this.level = e;\n    }\n}\n\nconst ut = function() {\n    const t = {\n        \"no-colors\": toLookup({\n            TRC: \"TRC\",\n            DBG: \"DBG\",\n            INF: \"INF\",\n            WRN: \"WRN\",\n            ERR: \"ERR\",\n            FTL: \"FTL\",\n            QQQ: \"???\"\n        }),\n        colors: toLookup({\n            TRC: at.grey(\"TRC\"),\n            DBG: at.grey(\"DBG\"),\n            INF: at.white(\"INF\"),\n            WRN: at.yellow(\"WRN\"),\n            ERR: at.red(\"ERR\"),\n            FTL: at.red(\"FTL\"),\n            QQQ: at.grey(\"???\")\n        })\n    };\n    return (e, n) => {\n        if (e <= q) {\n            return t[n].TRC;\n        }\n        if (e <= J) {\n            return t[n].DBG;\n        }\n        if (e <= X) {\n            return t[n].INF;\n        }\n        if (e <= Y) {\n            return t[n].WRN;\n        }\n        if (e <= Z) {\n            return t[n].ERR;\n        }\n        if (e <= tt) {\n            return t[n].FTL;\n        }\n        return t[n].QQQ;\n    };\n}();\n\nconst getScopeString = (t, e) => {\n    if (e === \"no-colors\") {\n        return t.join(\".\");\n    }\n    return t.map(at.cyan).join(\".\");\n};\n\nconst getIsoString = (t, e) => {\n    if (e === \"no-colors\") {\n        return new Date(t).toISOString();\n    }\n    return at.grey(new Date(t).toISOString());\n};\n\nclass DefaultLogEvent {\n    constructor(t, e, n, r, s, i) {\n        this.severity = t;\n        this.message = e;\n        this.optionalParams = n;\n        this.scope = r;\n        this.colorOptions = s;\n        this.timestamp = i;\n    }\n    toString() {\n        const {severity: t, message: e, scope: n, colorOptions: r, timestamp: s} = this;\n        if (n.length === 0) {\n            return `${getIsoString(s, r)} [${ut(t, r)}] ${e}`;\n        }\n        return `${getIsoString(s, r)} [${ut(t, r)} ${getScopeString(n, r)}] ${e}`;\n    }\n    getFormattedLogInfo(t = false) {\n        const {severity: e, message: n, scope: r, colorOptions: s, timestamp: i, optionalParams: o} = this;\n        let l = null;\n        let c = \"\";\n        if (t && n instanceof Error) {\n            l = n;\n        } else {\n            c = n;\n        }\n        const a = r.length === 0 ? \"\" : ` ${getScopeString(r, s)}`;\n        let u = `${getIsoString(i, s)} [${ut(e, s)}${a}] ${c}`;\n        if (o === void 0 || o.length === 0) {\n            return l === null ? [ u ] : [ u, l ];\n        }\n        let f = 0;\n        while (u.includes(\"%s\")) {\n            u = u.replace(\"%s\", String(o[f++]));\n        }\n        return l !== null ? [ u, l, ...o.slice(f) ] : [ u, ...o.slice(f) ];\n    }\n}\n\nclass DefaultLogEventFactory {\n    constructor() {\n        this.config = resolve(rt);\n    }\n    createLogEvent(t, e, n, r) {\n        return new DefaultLogEvent(e, n, r, t.scope, this.config.colorOptions, Date.now());\n    }\n}\n\nclass ConsoleSink {\n    static register(t) {\n        singletonRegistration(st, ConsoleSink).register(t);\n    }\n    constructor(t = resolve(P)) {\n        const e = t.console;\n        this.handleEvent = function emit(t) {\n            const n = t.getFormattedLogInfo(true);\n            switch (t.severity) {\n              case q:\n              case J:\n                return e.debug(...n);\n\n              case X:\n                return e.info(...n);\n\n              case Y:\n                return e.warn(...n);\n\n              case Z:\n              case tt:\n                return e.error(...n);\n            }\n        };\n    }\n}\n\nlet ft = (() => {\n    var t;\n    let e = [];\n    let n;\n    let r;\n    let s;\n    let i;\n    let o;\n    let l;\n    return t = class DefaultLogger {\n        constructor(t = resolve(rt), n = resolve(it), r = resolve(all(st)), s = resolve(N(lt)) ?? [], i = null) {\n            this.scope = (__runInitializers(this, e), s);\n            this._ = createLookup();\n            let o;\n            let l;\n            let c;\n            let a;\n            let u;\n            let f;\n            this.config = t;\n            this.f = n;\n            this.sinks = r;\n            if (i === null) {\n                this.root = this;\n                this.parent = this;\n                o = this.M = [];\n                l = this.T = [];\n                c = this.P = [];\n                a = this.K = [];\n                u = this.N = [];\n                f = this.G = [];\n                for (const t of r) {\n                    const e = ct.getHandles(t);\n                    if (e?.includes(q) ?? true) {\n                        o.push(t);\n                    }\n                    if (e?.includes(J) ?? true) {\n                        l.push(t);\n                    }\n                    if (e?.includes(X) ?? true) {\n                        c.push(t);\n                    }\n                    if (e?.includes(Y) ?? true) {\n                        a.push(t);\n                    }\n                    if (e?.includes(Z) ?? true) {\n                        u.push(t);\n                    }\n                    if (e?.includes(tt) ?? true) {\n                        f.push(t);\n                    }\n                }\n            } else {\n                this.root = i.root;\n                this.parent = i;\n                o = this.M = i.M;\n                l = this.T = i.T;\n                c = this.P = i.P;\n                a = this.K = i.K;\n                u = this.N = i.N;\n                f = this.G = i.G;\n            }\n        }\n        trace(t, ...e) {\n            if (this.config.level <= q) {\n                this.W(this.M, q, t, e);\n            }\n        }\n        debug(t, ...e) {\n            if (this.config.level <= J) {\n                this.W(this.T, J, t, e);\n            }\n        }\n        info(t, ...e) {\n            if (this.config.level <= X) {\n                this.W(this.P, X, t, e);\n            }\n        }\n        warn(t, ...e) {\n            if (this.config.level <= Y) {\n                this.W(this.K, Y, t, e);\n            }\n        }\n        error(t, ...e) {\n            if (this.config.level <= Z) {\n                this.W(this.N, Z, t, e);\n            }\n        }\n        fatal(t, ...e) {\n            if (this.config.level <= tt) {\n                this.W(this.G, tt, t, e);\n            }\n        }\n        scopeTo(e) {\n            const n = this._;\n            let r = n[e];\n            if (r === void 0) {\n                r = n[e] = new t(this.config, this.f, null, this.scope.concat(e), this);\n            }\n            return r;\n        }\n        W(t, e, n, r) {\n            const s = isFunction(n) ? n() : n;\n            const i = this.f.createLogEvent(this, e, s, r);\n            for (let e = 0, n = t.length; e < n; ++e) {\n                t[e].handleEvent(i);\n            }\n        }\n    }, (() => {\n        const c = typeof Symbol === \"function\" && Symbol.metadata ? Object.create(null) : void 0;\n        n = [ bound ];\n        r = [ bound ];\n        s = [ bound ];\n        i = [ bound ];\n        o = [ bound ];\n        l = [ bound ];\n        __esDecorate(t, null, n, {\n            kind: \"method\",\n            name: \"trace\",\n            static: false,\n            private: false,\n            access: {\n                has: t => \"trace\" in t,\n                get: t => t.trace\n            },\n            metadata: c\n        }, null, e);\n        __esDecorate(t, null, r, {\n            kind: \"method\",\n            name: \"debug\",\n            static: false,\n            private: false,\n            access: {\n                has: t => \"debug\" in t,\n                get: t => t.debug\n            },\n            metadata: c\n        }, null, e);\n        __esDecorate(t, null, s, {\n            kind: \"method\",\n            name: \"info\",\n            static: false,\n            private: false,\n            access: {\n                has: t => \"info\" in t,\n                get: t => t.info\n            },\n            metadata: c\n        }, null, e);\n        __esDecorate(t, null, i, {\n            kind: \"method\",\n            name: \"warn\",\n            static: false,\n            private: false,\n            access: {\n                has: t => \"warn\" in t,\n                get: t => t.warn\n            },\n            metadata: c\n        }, null, e);\n        __esDecorate(t, null, o, {\n            kind: \"method\",\n            name: \"error\",\n            static: false,\n            private: false,\n            access: {\n                has: t => \"error\" in t,\n                get: t => t.error\n            },\n            metadata: c\n        }, null, e);\n        __esDecorate(t, null, l, {\n            kind: \"method\",\n            name: \"fatal\",\n            static: false,\n            private: false,\n            access: {\n                has: t => \"fatal\" in t,\n                get: t => t.fatal\n            },\n            metadata: c\n        }, null, e);\n        if (c) Object.defineProperty(t, Symbol.metadata, {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: c\n        });\n    })(), t;\n})();\n\nconst ht = /*@__PURE__*/ toLookup({\n    create({level: t = Y, colorOptions: e = \"no-colors\", sinks: n = []} = {}) {\n        return toLookup({\n            register(r) {\n                r.register(instanceRegistration(rt, new LogConfig(e, t)));\n                for (const t of n) {\n                    if (isFunction(t)) {\n                        r.register(singletonRegistration(st, t));\n                    } else {\n                        r.register(t);\n                    }\n                }\n                return r;\n            }\n        });\n    }\n});\n\nconst dt = /*@__PURE__*/ createInterface((t => t.singleton(ModuleLoader)));\n\nconst noTransform = t => t;\n\nclass ModuleTransformer {\n    constructor(t) {\n        this.B = new Map;\n        this.U = new Map;\n        this.H = t;\n    }\n    transform(t) {\n        if (t instanceof Promise) {\n            return this.V(t);\n        } else if (typeof t === \"object\" && t !== null) {\n            return this.q(t);\n        } else {\n            throw createMappedError(21, t);\n        }\n    }\n    V(t) {\n        if (this.B.has(t)) {\n            return this.B.get(t);\n        }\n        const e = t.then((t => this.q(t)));\n        this.B.set(t, e);\n        void e.then((e => {\n            this.B.set(t, e);\n        }));\n        return e;\n    }\n    q(t) {\n        if (this.U.has(t)) {\n            return this.U.get(t);\n        }\n        const e = this.H(this.J(t));\n        this.U.set(t, e);\n        if (e instanceof Promise) {\n            void e.then((e => {\n                this.U.set(t, e);\n            }));\n        }\n        return e;\n    }\n    J(t) {\n        if (t == null) throw createMappedError(21, t);\n        if (typeof t !== \"object\") return new AnalyzedModule(t, []);\n        let e;\n        let n;\n        let r;\n        let s;\n        const i = [];\n        for (const l in t) {\n            switch (typeof (e = t[l])) {\n              case \"object\":\n                if (e === null) {\n                    continue;\n                }\n                n = isFunction(e.register);\n                r = false;\n                s = null;\n                break;\n\n              case \"function\":\n                n = isFunction(e.register);\n                r = e.prototype !== void 0;\n                s = o(R, e) ?? null;\n                break;\n\n              default:\n                continue;\n            }\n            i.push(new ModuleItem(l, e, n, r, s));\n        }\n        return new AnalyzedModule(t, i);\n    }\n}\n\nclass ModuleLoader {\n    constructor() {\n        this.transformers = new Map;\n    }\n    load(t, e = noTransform) {\n        const n = this.transformers;\n        let r = n.get(e);\n        if (r === void 0) {\n            n.set(e, r = new ModuleTransformer(e));\n        }\n        return r.transform(t);\n    }\n    dispose() {\n        this.transformers.clear();\n    }\n}\n\nclass AnalyzedModule {\n    constructor(t, e) {\n        this.raw = t;\n        this.items = e;\n    }\n}\n\nclass ModuleItem {\n    constructor(t, e, n, r, s) {\n        this.key = t;\n        this.value = e;\n        this.isRegistry = n;\n        this.isConstructable = r;\n        this.definition = s;\n    }\n}\n\nconst aliasedResourcesRegistry = (t, e, n = {}) => ({\n    register(r) {\n        const s = r.get(dt).load(t);\n        let i = false;\n        s.items.forEach((t => {\n            const s = t.definition;\n            if (s == null) {\n                r.register(t.value);\n                return;\n            }\n            if (!i && e != null) {\n                i = true;\n                s.register(r, e);\n                return;\n            }\n            const o = n[s.name];\n            s.register(r, o);\n        }));\n    }\n});\n\nclass Handler {\n    constructor(t, e) {\n        this.type = t;\n        this.cb = e;\n    }\n    handle(t) {\n        if (t instanceof this.type) {\n            this.cb.call(null, t);\n        }\n    }\n}\n\nconst vt = /*@__PURE__*/ createInterface(\"IEventAggregator\", (t => t.singleton(EventAggregator)));\n\nclass EventAggregator {\n    constructor() {\n        this.eventLookup = {};\n        this.messageHandlers = [];\n    }\n    publish(t, e) {\n        if (!t) {\n            throw createMappedError(18, t);\n        }\n        if (isString(t)) {\n            let n = this.eventLookup[t];\n            if (n !== void 0) {\n                n = n.slice();\n                let r = n.length;\n                while (r-- > 0) {\n                    n[r](e, t);\n                }\n            }\n        } else {\n            const e = this.messageHandlers.slice();\n            let n = e.length;\n            while (n-- > 0) {\n                e[n].handle(t);\n            }\n        }\n    }\n    subscribe(t, e) {\n        if (!t) {\n            throw createMappedError(19, t);\n        }\n        let n;\n        let r;\n        if (isString(t)) {\n            if (this.eventLookup[t] === void 0) {\n                this.eventLookup[t] = [];\n            }\n            n = e;\n            r = this.eventLookup[t];\n        } else {\n            n = new Handler(t, e);\n            r = this.messageHandlers;\n        }\n        r.push(n);\n        return {\n            dispose() {\n                const t = r.indexOf(n);\n                if (t !== -1) {\n                    r.splice(t, 1);\n                }\n            }\n        };\n    }\n    subscribeOnce(t, e) {\n        const n = this.subscribe(t, ((t, r) => {\n            n.dispose();\n            e(t, r);\n        }));\n        return n;\n    }\n}\n\n\n//# sourceMappingURL=index.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEva2VybmVsL2Rpc3QvZXNtL2luZGV4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQThGOztBQUU5Rjs7QUFFQTs7QUFFQTs7QUFFQSxVQUFVLHVEQUFDOztBQUVYLHVEQUFDOztBQUVELFVBQVUsdURBQUM7O0FBRVg7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUEsdURBQXVELHNCQUFzQixHQUFHLFNBQVM7O0FBRXpGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsT0FBTztBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsT0FBTztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUU7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsT0FBTztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsWUFBWTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLE9BQU87QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLE9BQU87QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLE9BQU87QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsRUFBRTtBQUM3QztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixjQUFjO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLElBQUkseUVBQUM7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLGNBQWM7O0FBRWQ7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxRUFBcUU7QUFDckU7QUFDQSwrQkFBK0IsUUFBUTtBQUN2QztBQUNBLG9EQUFvRDtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDViw2Q0FBNkM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esb0JBQW9CLGNBQWM7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0EsdUJBQXVCLEVBQUU7QUFDekIsS0FBSztBQUNMO0FBQ0EsdUJBQXVCLEVBQUU7QUFDekIsS0FBSztBQUNMO0FBQ0EsdUJBQXVCLEVBQUU7QUFDekIsS0FBSztBQUNMO0FBQ0EsdUJBQXVCLEVBQUU7QUFDekIsS0FBSztBQUNMO0FBQ0EsdUJBQXVCLEVBQUU7QUFDekIsS0FBSztBQUNMO0FBQ0EsdUJBQXVCLEVBQUU7QUFDekIsS0FBSztBQUNMO0FBQ0EsdUJBQXVCLEVBQUU7QUFDekIsS0FBSztBQUNMO0FBQ0EsdUJBQXVCLEVBQUU7QUFDekI7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxrRUFBa0U7QUFDakY7QUFDQSxzQkFBc0Isb0JBQW9CLEdBQUcsU0FBUyxJQUFJLEVBQUU7QUFDNUQ7QUFDQSxrQkFBa0Isb0JBQW9CLEdBQUcsVUFBVSxFQUFFLHFCQUFxQixJQUFJLEVBQUU7QUFDaEY7QUFDQTtBQUNBLGVBQWUscUZBQXFGO0FBQ3BHO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSw0Q0FBNEMscUJBQXFCO0FBQ2pFLG1CQUFtQixvQkFBb0IsR0FBRyxTQUFTLEVBQUUsRUFBRSxJQUFJLEVBQUU7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyxPQUFPO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMLENBQUM7O0FBRUQ7QUFDQSxZQUFZLDREQUE0RCxJQUFJO0FBQzVFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsQ0FBQzs7QUFFRDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSw4Q0FBOEM7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUU4dkM7QUFDOXZDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmV0cm9hcHAtY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhdXJlbGlhL2tlcm5lbC9kaXN0L2VzbS9pbmRleC5tanM/YzZjNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNZXRhZGF0YSBhcyB0LCBpc09iamVjdCBhcyBlLCBpbml0aWFsaXplVEMzOU1ldGFkYXRhIGFzIG4gfSBmcm9tIFwiQGF1cmVsaWEvbWV0YWRhdGFcIjtcblxuY29uc3QgciA9IE9iamVjdC5mcmVlemU7XG5cbmNvbnN0IHMgPSBPYmplY3QuYXNzaWduO1xuXG5jb25zdCBpID0gU3RyaW5nO1xuXG5jb25zdCBvID0gdC5nZXQ7XG5cbnQuaGFzO1xuXG5jb25zdCBsID0gdC5kZWZpbmU7XG5cbmNvbnN0IGlzUHJvbWlzZSA9IHQgPT4gdCBpbnN0YW5jZW9mIFByb21pc2U7XG5cbmNvbnN0IGlzQXJyYXkgPSB0ID0+IHQgaW5zdGFuY2VvZiBBcnJheTtcblxuY29uc3QgaXNTZXQgPSB0ID0+IHQgaW5zdGFuY2VvZiBTZXQ7XG5cbmNvbnN0IGlzTWFwID0gdCA9PiB0IGluc3RhbmNlb2YgTWFwO1xuXG5jb25zdCBpc09iamVjdCA9IHQgPT4gdCBpbnN0YW5jZW9mIE9iamVjdDtcblxuY29uc3QgaXNGdW5jdGlvbiA9IHQgPT4gdHlwZW9mIHQgPT09IFwiZnVuY3Rpb25cIjtcblxuY29uc3QgaXNTdHJpbmcgPSB0ID0+IHR5cGVvZiB0ID09PSBcInN0cmluZ1wiO1xuXG5jb25zdCBpc1N5bWJvbCA9IHQgPT4gdHlwZW9mIHQgPT09IFwic3ltYm9sXCI7XG5cbmNvbnN0IGlzTnVtYmVyID0gdCA9PiB0eXBlb2YgdCA9PT0gXCJudW1iZXJcIjtcblxuY29uc3QgY3JlYXRlTG9va3VwID0gKCkgPT4gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuY29uc3QgYyA9IE9iamVjdC5pcztcblxuY29uc3QgY3JlYXRlTWFwcGVkRXJyb3IgPSAodCwgLi4uZSkgPT4gbmV3IEVycm9yKGBBVVIke2kodCkucGFkU3RhcnQoNCwgXCIwXCIpfToke2UubWFwKGkpfWApO1xuXG5jb25zdCBhID0gKCgpID0+IHtcbiAgICBjb25zdCB0ID0ge307XG4gICAgbGV0IGUgPSBmYWxzZTtcbiAgICBsZXQgbiA9IDA7XG4gICAgbGV0IHIgPSAwO1xuICAgIGxldCBzID0gMDtcbiAgICByZXR1cm4gaSA9PiB7XG4gICAgICAgIHN3aXRjaCAodHlwZW9mIGkpIHtcbiAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgICAgICByZXR1cm4gaSA+PSAwICYmIChpIHwgMCkgPT09IGk7XG5cbiAgICAgICAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICAgICAgICBlID0gdFtpXTtcbiAgICAgICAgICAgIGlmIChlICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG4gPSBpLmxlbmd0aDtcbiAgICAgICAgICAgIGlmIChuID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRbaV0gPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHIgPSAwO1xuICAgICAgICAgICAgcyA9IDA7XG4gICAgICAgICAgICBmb3IgKDtzIDwgbjsgKytzKSB7XG4gICAgICAgICAgICAgICAgciA9IGkuY2hhckNvZGVBdChzKTtcbiAgICAgICAgICAgICAgICBpZiAocyA9PT0gMCAmJiByID09PSA0OCAmJiBuID4gMSB8fCByIDwgNDggfHwgciA+IDU3KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0W2ldID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRbaV0gPSB0cnVlO1xuXG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG59KSgpO1xuXG5jb25zdCB1ID0gLypAX19QVVJFX18qLyBmdW5jdGlvbigpIHtcbiAgICBjb25zdCB0ID0gcyhjcmVhdGVMb29rdXAoKSwge1xuICAgICAgICAwOiB0cnVlLFxuICAgICAgICAxOiB0cnVlLFxuICAgICAgICAyOiB0cnVlLFxuICAgICAgICAzOiB0cnVlLFxuICAgICAgICA0OiB0cnVlLFxuICAgICAgICA1OiB0cnVlLFxuICAgICAgICA2OiB0cnVlLFxuICAgICAgICA3OiB0cnVlLFxuICAgICAgICA4OiB0cnVlLFxuICAgICAgICA5OiB0cnVlXG4gICAgfSk7XG4gICAgY29uc3QgY2hhclRvS2luZCA9IGUgPT4ge1xuICAgICAgICBpZiAoZSA9PT0gXCJcIikge1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGUgIT09IGUudG9VcHBlckNhc2UoKSkge1xuICAgICAgICAgICAgcmV0dXJuIDM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGUgIT09IGUudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICAgICAgcmV0dXJuIDI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRbZV0gPT09IHRydWUpIHtcbiAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAwO1xuICAgIH07XG4gICAgcmV0dXJuICh0LCBlKSA9PiB7XG4gICAgICAgIGNvbnN0IG4gPSB0Lmxlbmd0aDtcbiAgICAgICAgaWYgKG4gPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0O1xuICAgICAgICB9XG4gICAgICAgIGxldCByID0gZmFsc2U7XG4gICAgICAgIGxldCBzID0gXCJcIjtcbiAgICAgICAgbGV0IGk7XG4gICAgICAgIGxldCBvID0gXCJcIjtcbiAgICAgICAgbGV0IGwgPSAwO1xuICAgICAgICBsZXQgYyA9IHQuY2hhckF0KDApO1xuICAgICAgICBsZXQgYSA9IGNoYXJUb0tpbmQoYyk7XG4gICAgICAgIGxldCB1ID0gMDtcbiAgICAgICAgZm9yICg7dSA8IG47ICsrdSkge1xuICAgICAgICAgICAgaSA9IGw7XG4gICAgICAgICAgICBvID0gYztcbiAgICAgICAgICAgIGwgPSBhO1xuICAgICAgICAgICAgYyA9IHQuY2hhckF0KHUgKyAxKTtcbiAgICAgICAgICAgIGEgPSBjaGFyVG9LaW5kKGMpO1xuICAgICAgICAgICAgaWYgKGwgPT09IDApIHtcbiAgICAgICAgICAgICAgICBpZiAocy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHIgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKCFyICYmIHMubGVuZ3RoID4gMCAmJiBsID09PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgIHIgPSBpID09PSAzIHx8IGEgPT09IDM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHMgKz0gZShvLCByKTtcbiAgICAgICAgICAgICAgICByID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHM7XG4gICAgfTtcbn0oKTtcblxuY29uc3QgZiA9IC8qQF9fUFVSRV9fKi8gZnVuY3Rpb24oKSB7XG4gICAgY29uc3QgdCA9IGNyZWF0ZUxvb2t1cCgpO1xuICAgIGNvbnN0IGNhbGxiYWNrID0gKHQsIGUpID0+IGUgPyB0LnRvVXBwZXJDYXNlKCkgOiB0LnRvTG93ZXJDYXNlKCk7XG4gICAgcmV0dXJuIGUgPT4ge1xuICAgICAgICBsZXQgbiA9IHRbZV07XG4gICAgICAgIGlmIChuID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIG4gPSB0W2VdID0gdShlLCBjYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG47XG4gICAgfTtcbn0oKTtcblxuY29uc3QgaCA9IC8qQF9fUFVSRV9fKi8gZnVuY3Rpb24oKSB7XG4gICAgY29uc3QgdCA9IGNyZWF0ZUxvb2t1cCgpO1xuICAgIHJldHVybiBlID0+IHtcbiAgICAgICAgbGV0IG4gPSB0W2VdO1xuICAgICAgICBpZiAobiA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBuID0gZihlKTtcbiAgICAgICAgICAgIGlmIChuLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBuID0gblswXS50b1VwcGVyQ2FzZSgpICsgbi5zbGljZSgxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRbZV0gPSBuO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuO1xuICAgIH07XG59KCk7XG5cbmNvbnN0IGQgPSAvKkBfX1BVUkVfXyovIGZ1bmN0aW9uKCkge1xuICAgIGNvbnN0IHQgPSBjcmVhdGVMb29rdXAoKTtcbiAgICBjb25zdCBjYWxsYmFjayA9ICh0LCBlKSA9PiBlID8gYC0ke3QudG9Mb3dlckNhc2UoKX1gIDogdC50b0xvd2VyQ2FzZSgpO1xuICAgIHJldHVybiBlID0+IHtcbiAgICAgICAgbGV0IG4gPSB0W2VdO1xuICAgICAgICBpZiAobiA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBuID0gdFtlXSA9IHUoZSwgY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuO1xuICAgIH07XG59KCk7XG5cbmNvbnN0IHRvQXJyYXkgPSB0ID0+IHtcbiAgICBjb25zdCBlID0gdC5sZW5ndGg7XG4gICAgY29uc3QgbiA9IEFycmF5KGUpO1xuICAgIGxldCByID0gMDtcbiAgICBmb3IgKDtyIDwgZTsgKytyKSB7XG4gICAgICAgIG5bcl0gPSB0W3JdO1xuICAgIH1cbiAgICByZXR1cm4gbjtcbn07XG5cbmNvbnN0IGJvdW5kID0gKHQsIGUpID0+IHtcbiAgICBjb25zdCBuID0gZS5uYW1lO1xuICAgIGUuYWRkSW5pdGlhbGl6ZXIoKGZ1bmN0aW9uKCkge1xuICAgICAgICBSZWZsZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIG4sIHtcbiAgICAgICAgICAgIHZhbHVlOiB0LmJpbmQodGhpcyksXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgIH0pKTtcbn07XG5cbmNvbnN0IG1lcmdlQXJyYXlzID0gKC4uLnQpID0+IHtcbiAgICBjb25zdCBlID0gW107XG4gICAgbGV0IG4gPSAwO1xuICAgIGNvbnN0IHIgPSB0Lmxlbmd0aDtcbiAgICBsZXQgcyA9IDA7XG4gICAgbGV0IGk7XG4gICAgbGV0IG8gPSAwO1xuICAgIGZvciAoO28gPCByOyArK28pIHtcbiAgICAgICAgaSA9IHRbb107XG4gICAgICAgIGlmIChpICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgIHMgPSBpLmxlbmd0aDtcbiAgICAgICAgICAgIGxldCB0ID0gMDtcbiAgICAgICAgICAgIGZvciAoO3QgPCBzOyArK3QpIHtcbiAgICAgICAgICAgICAgICBlW24rK10gPSBpW3RdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBlO1xufTtcblxuY29uc3QgZmlyc3REZWZpbmVkID0gKC4uLnQpID0+IHtcbiAgICBjb25zdCBlID0gdC5sZW5ndGg7XG4gICAgbGV0IG47XG4gICAgbGV0IHIgPSAwO1xuICAgIGZvciAoO2UgPiByOyArK3IpIHtcbiAgICAgICAgbiA9IHRbcl07XG4gICAgICAgIGlmIChuICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgIHJldHVybiBuO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRocm93IGNyZWF0ZU1hcHBlZEVycm9yKDIwKTtcbn07XG5cbmNvbnN0IHYgPSAvKkBfX1BVUkVfXyovIGZ1bmN0aW9uKCkge1xuICAgIGNvbnN0IHQgPSBGdW5jdGlvbi5wcm90b3R5cGU7XG4gICAgY29uc3QgZSA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjtcbiAgICBjb25zdCBuID0gbmV3IFdlYWtNYXA7XG4gICAgbGV0IHIgPSB0O1xuICAgIGxldCBzID0gMDtcbiAgICBsZXQgaSA9IHZvaWQgMDtcbiAgICByZXR1cm4gZnVuY3Rpb24obykge1xuICAgICAgICBpID0gbi5nZXQobyk7XG4gICAgICAgIGlmIChpID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIG4uc2V0KG8sIGkgPSBbIHIgPSBvIF0pO1xuICAgICAgICAgICAgcyA9IDA7XG4gICAgICAgICAgICB3aGlsZSAoKHIgPSBlKHIpKSAhPT0gdCkge1xuICAgICAgICAgICAgICAgIGlbKytzXSA9IHI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGk7XG4gICAgfTtcbn0oKTtcblxuZnVuY3Rpb24gdG9Mb29rdXAoLi4udCkge1xuICAgIHJldHVybiBzKGNyZWF0ZUxvb2t1cCgpLCAuLi50KTtcbn1cblxuY29uc3QgZyA9IC8qQF9fUFVSRV9fKi8gKCgpID0+IHtcbiAgICBjb25zdCB0ID0gbmV3IFdlYWtNYXA7XG4gICAgbGV0IGUgPSBmYWxzZTtcbiAgICBsZXQgbiA9IFwiXCI7XG4gICAgbGV0IHIgPSAwO1xuICAgIHJldHVybiBzID0+IHtcbiAgICAgICAgZSA9IHQuZ2V0KHMpO1xuICAgICAgICBpZiAoZSA9PSBudWxsKSB7XG4gICAgICAgICAgICByID0gKG4gPSBzLnRvU3RyaW5nKCkpLmxlbmd0aDtcbiAgICAgICAgICAgIGUgPSByID4gMjggJiYgbi5pbmRleE9mKFwiW25hdGl2ZSBjb2RlXSB9XCIpID09PSByIC0gMTU7XG4gICAgICAgICAgICB0LnNldChzLCBlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZTtcbiAgICB9O1xufSkoKTtcblxuY29uc3Qgb25SZXNvbHZlID0gKHQsIGUpID0+IHtcbiAgICBpZiAoaXNQcm9taXNlKHQpKSB7XG4gICAgICAgIHJldHVybiB0LnRoZW4oZSk7XG4gICAgfVxuICAgIHJldHVybiBlKHQpO1xufTtcblxuY29uc3Qgb25SZXNvbHZlQWxsID0gKC4uLnQpID0+IHtcbiAgICBsZXQgZSA9IHZvaWQgMDtcbiAgICBsZXQgbiA9IHZvaWQgMDtcbiAgICBsZXQgciA9IHZvaWQgMDtcbiAgICBsZXQgcyA9IDA7XG4gICAgbGV0IGkgPSB0Lmxlbmd0aDtcbiAgICBmb3IgKDtzIDwgaTsgKytzKSB7XG4gICAgICAgIGUgPSB0W3NdO1xuICAgICAgICBpZiAoaXNQcm9taXNlKGUgPSB0W3NdKSkge1xuICAgICAgICAgICAgaWYgKG4gPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgIG4gPSBlO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChyID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICByID0gWyBuLCBlIF07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHIucHVzaChlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAociA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHJldHVybiBuO1xuICAgIH1cbiAgICByZXR1cm4gUHJvbWlzZS5hbGwocik7XG59O1xuXG5jb25zdCBpbnN0YW5jZVJlZ2lzdHJhdGlvbiA9ICh0LCBlKSA9PiBuZXcgUmVzb2x2ZXIodCwgMCwgZSk7XG5cbmNvbnN0IHNpbmdsZXRvblJlZ2lzdHJhdGlvbiA9ICh0LCBlKSA9PiBuZXcgUmVzb2x2ZXIodCwgMSwgZSk7XG5cbmNvbnN0IHRyYW5zaWVudFJlZ2lzdGF0aW9uID0gKHQsIGUpID0+IG5ldyBSZXNvbHZlcih0LCAyLCBlKTtcblxuY29uc3QgY2FsbGJhY2tSZWdpc3RyYXRpb24gPSAodCwgZSkgPT4gbmV3IFJlc29sdmVyKHQsIDMsIGUpO1xuXG5jb25zdCBjYWNoZWRDYWxsYmFja1JlZ2lzdHJhdGlvbiA9ICh0LCBlKSA9PiBuZXcgUmVzb2x2ZXIodCwgMywgY2FjaGVDYWxsYmFja1Jlc3VsdChlKSk7XG5cbmNvbnN0IGFsaWFzVG9SZWdpc3RyYXRpb24gPSAodCwgZSkgPT4gbmV3IFJlc29sdmVyKGUsIDUsIHQpO1xuXG5jb25zdCBkZWZlclJlZ2lzdHJhdGlvbiA9ICh0LCAuLi5lKSA9PiBuZXcgUGFyYW1ldGVyaXplZFJlZ2lzdHJ5KHQsIGUpO1xuXG5jb25zdCB5ID0gbmV3IFdlYWtNYXA7XG5cbmNvbnN0IGNhY2hlQ2FsbGJhY2tSZXN1bHQgPSB0ID0+IChlLCBuLCByKSA9PiB7XG4gICAgbGV0IHMgPSB5LmdldChlKTtcbiAgICBpZiAocyA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHkuc2V0KGUsIHMgPSBuZXcgV2Vha01hcCk7XG4gICAgfVxuICAgIGlmIChzLmhhcyhyKSkge1xuICAgICAgICByZXR1cm4gcy5nZXQocik7XG4gICAgfVxuICAgIGNvbnN0IGkgPSB0KGUsIG4sIHIpO1xuICAgIHMuc2V0KHIsIGkpO1xuICAgIHJldHVybiBpO1xufTtcblxuY29uc3QgdyA9IHtcbiAgICBpbnN0YW5jZTogaW5zdGFuY2VSZWdpc3RyYXRpb24sXG4gICAgc2luZ2xldG9uOiBzaW5nbGV0b25SZWdpc3RyYXRpb24sXG4gICAgdHJhbnNpZW50OiB0cmFuc2llbnRSZWdpc3RhdGlvbixcbiAgICBjYWxsYmFjazogY2FsbGJhY2tSZWdpc3RyYXRpb24sXG4gICAgY2FjaGVkQ2FsbGJhY2s6IGNhY2hlZENhbGxiYWNrUmVnaXN0cmF0aW9uLFxuICAgIGFsaWFzVG86IGFsaWFzVG9SZWdpc3RyYXRpb24sXG4gICAgZGVmZXI6IGRlZmVyUmVnaXN0cmF0aW9uXG59O1xuXG5jb25zdCBjcmVhdGVJbXBsZW1lbnRhdGlvblJlZ2lzdGVyID0gZnVuY3Rpb24odCkge1xuICAgIHJldHVybiBmdW5jdGlvbiByZWdpc3RlcihlKSB7XG4gICAgICAgIGUucmVnaXN0ZXIoc2luZ2xldG9uUmVnaXN0cmF0aW9uKHRoaXMsIHRoaXMpLCBhbGlhc1RvUmVnaXN0cmF0aW9uKHRoaXMsIHQpKTtcbiAgICB9O1xufTtcblxuY29uc3QgcCA9IFwiYXU6YW5ub3RhdGlvblwiO1xuXG5jb25zdCBnZXRBbm5vdGF0aW9uS2V5Rm9yID0gKHQsIGUpID0+IHtcbiAgICBpZiAoZSA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHJldHVybiBgJHtwfToke3R9YDtcbiAgICB9XG4gICAgcmV0dXJuIGAke3B9OiR7dH06JHtlfWA7XG59O1xuXG5jb25zdCBhcHBlbmRBbm5vdGF0aW9uID0gKHQsIGUpID0+IHtcbiAgICBjb25zdCBuID0gbyhwLCB0KTtcbiAgICBpZiAobiA9PT0gdm9pZCAwKSB7XG4gICAgICAgIGwoWyBlIF0sIHQsIHApO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIG4ucHVzaChlKTtcbiAgICB9XG59O1xuXG5jb25zdCBtID0gLypAX19QVVJFX18qLyByKHtcbiAgICBuYW1lOiBcImF1OmFubm90YXRpb25cIixcbiAgICBhcHBlbmRUbzogYXBwZW5kQW5ub3RhdGlvbixcbiAgICBzZXQodCwgZSwgbikge1xuICAgICAgICBsKG4sIHQsIGdldEFubm90YXRpb25LZXlGb3IoZSkpO1xuICAgIH0sXG4gICAgZ2V0OiAodCwgZSkgPT4gbyhnZXRBbm5vdGF0aW9uS2V5Rm9yKGUpLCB0KSxcbiAgICBnZXRLZXlzKHQpIHtcbiAgICAgICAgbGV0IGUgPSBvKHAsIHQpO1xuICAgICAgICBpZiAoZSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBsKGUgPSBbXSwgdCwgcCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGU7XG4gICAgfSxcbiAgICBpc0tleTogdCA9PiB0LnN0YXJ0c1dpdGgocCksXG4gICAga2V5Rm9yOiBnZXRBbm5vdGF0aW9uS2V5Rm9yXG59KTtcblxuY29uc3QgUiA9IFwiYXU6cmVzb3VyY2VcIjtcblxuY29uc3QgZ2V0UmVzb3VyY2VLZXlGb3IgPSAodCwgZSwgbikgPT4ge1xuICAgIGlmIChlID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGAke1J9OiR7dH1gO1xuICAgIH1cbiAgICBpZiAobiA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBgJHtSfToke3R9OiR7ZX1gO1xuICAgIH1cbiAgICByZXR1cm4gYCR7Un06JHt0fToke2V9OiR7bn1gO1xufTtcblxuY29uc3QgYiA9IHtcbiAgICBhbm5vdGF0aW9uOiBtXG59O1xuXG5jb25zdCAkID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcblxuZnVuY3Rpb24gZnJvbUFubm90YXRpb25PckRlZmluaXRpb25PclR5cGVPckRlZmF1bHQodCwgZSwgbiwgcikge1xuICAgIGxldCBzID0gbyhnZXRBbm5vdGF0aW9uS2V5Rm9yKHQpLCBuKTtcbiAgICBpZiAocyA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHMgPSBlW3RdO1xuICAgICAgICBpZiAocyA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBzID0gblt0XTtcbiAgICAgICAgICAgIGlmIChzID09PSB2b2lkIDAgfHwgISQuY2FsbChuLCB0KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiByKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcztcbiAgICB9XG4gICAgcmV0dXJuIHM7XG59XG5cbmZ1bmN0aW9uIGZyb21Bbm5vdGF0aW9uT3JUeXBlT3JEZWZhdWx0KHQsIGUsIG4pIHtcbiAgICBsZXQgciA9IG8oZ2V0QW5ub3RhdGlvbktleUZvcih0KSwgZSk7XG4gICAgaWYgKHIgPT09IHZvaWQgMCkge1xuICAgICAgICByID0gZVt0XTtcbiAgICAgICAgaWYgKHIgPT09IHZvaWQgMCB8fCAhJC5jYWxsKGUsIHQpKSB7XG4gICAgICAgICAgICByZXR1cm4gbigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByO1xuICAgIH1cbiAgICByZXR1cm4gcjtcbn1cblxuZnVuY3Rpb24gZnJvbURlZmluaXRpb25PckRlZmF1bHQodCwgZSwgbikge1xuICAgIGNvbnN0IHIgPSBlW3RdO1xuICAgIGlmIChyID09PSB2b2lkIDApIHtcbiAgICAgICAgcmV0dXJuIG4oKTtcbiAgICB9XG4gICAgcmV0dXJuIHI7XG59XG5cbmNvbnN0IEMgPSBTeW1ib2wuZm9yKFwiYXU6cmVnaXN0cmFibGVcIik7XG5cbmNvbnN0IEQgPSB7XG4gICAgbm9uZSh0KSB7XG4gICAgICAgIHRocm93IGNyZWF0ZU1hcHBlZEVycm9yKDIsIHQpO1xuICAgIH0sXG4gICAgc2luZ2xldG9uOiB0ID0+IG5ldyBSZXNvbHZlcih0LCAxLCB0KSxcbiAgICB0cmFuc2llbnQ6IHQgPT4gbmV3IFJlc29sdmVyKHQsIDIsIHQpXG59O1xuXG5jbGFzcyBDb250YWluZXJDb25maWd1cmF0aW9uIHtcbiAgICBjb25zdHJ1Y3Rvcih0LCBlKSB7XG4gICAgICAgIHRoaXMuaW5oZXJpdFBhcmVudFJlc291cmNlcyA9IHQ7XG4gICAgICAgIHRoaXMuZGVmYXVsdFJlc29sdmVyID0gZTtcbiAgICB9XG4gICAgc3RhdGljIGZyb20odCkge1xuICAgICAgICBpZiAodCA9PT0gdm9pZCAwIHx8IHQgPT09IENvbnRhaW5lckNvbmZpZ3VyYXRpb24uREVGQVVMVCkge1xuICAgICAgICAgICAgcmV0dXJuIENvbnRhaW5lckNvbmZpZ3VyYXRpb24uREVGQVVMVDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IENvbnRhaW5lckNvbmZpZ3VyYXRpb24odC5pbmhlcml0UGFyZW50UmVzb3VyY2VzID8/IGZhbHNlLCB0LmRlZmF1bHRSZXNvbHZlciA/PyBELnNpbmdsZXRvbik7XG4gICAgfVxufVxuXG5Db250YWluZXJDb25maWd1cmF0aW9uLkRFRkFVTFQgPSBDb250YWluZXJDb25maWd1cmF0aW9uLmZyb20oe30pO1xuXG5jb25zdCBjcmVhdGVDb250YWluZXIgPSB0ID0+IG5ldyBDb250YWluZXIobnVsbCwgQ29udGFpbmVyQ29uZmlndXJhdGlvbi5mcm9tKHQpKTtcblxuY29uc3QgayA9IG5ldyBTZXQoXCJBcnJheSBBcnJheUJ1ZmZlciBCb29sZWFuIERhdGFWaWV3IERhdGUgRXJyb3IgRXZhbEVycm9yIEZsb2F0MzJBcnJheSBGbG9hdDY0QXJyYXkgRnVuY3Rpb24gSW50OEFycmF5IEludDE2QXJyYXkgSW50MzJBcnJheSBNYXAgTnVtYmVyIE9iamVjdCBQcm9taXNlIFJhbmdlRXJyb3IgUmVmZXJlbmNlRXJyb3IgUmVnRXhwIFNldCBTaGFyZWRBcnJheUJ1ZmZlciBTdHJpbmcgU3ludGF4RXJyb3IgVHlwZUVycm9yIFVpbnQ4QXJyYXkgVWludDhDbGFtcGVkQXJyYXkgVWludDE2QXJyYXkgVWludDMyQXJyYXkgVVJJRXJyb3IgV2Vha01hcCBXZWFrU2V0XCIuc3BsaXQoXCIgXCIpKTtcblxubGV0IE8gPSAwO1xuXG5sZXQgRSA9IG51bGw7XG5cbmNsYXNzIENvbnRhaW5lciB7XG4gICAgZ2V0IGRlcHRoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50ID09PSBudWxsID8gMCA6IHRoaXMudC5kZXB0aCArIDE7XG4gICAgfVxuICAgIGdldCBwYXJlbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnQ7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKHQsIGUpIHtcbiAgICAgICAgdGhpcy5pZCA9ICsrTztcbiAgICAgICAgdGhpcy5pID0gMDtcbiAgICAgICAgdGhpcy51ID0gbmV3IE1hcDtcbiAgICAgICAgdGhpcy50ID0gdDtcbiAgICAgICAgdGhpcy5jb25maWcgPSBlO1xuICAgICAgICB0aGlzLmggPSBuZXcgTWFwO1xuICAgICAgICB0aGlzLnJlcyA9IHt9O1xuICAgICAgICBpZiAodCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5yb290ID0gdGhpcztcbiAgICAgICAgICAgIHRoaXMuUiA9IG5ldyBNYXA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJvb3QgPSB0LnJvb3Q7XG4gICAgICAgICAgICB0aGlzLlIgPSB0LlI7XG4gICAgICAgICAgICBpZiAoZS5pbmhlcml0UGFyZW50UmVzb3VyY2VzKSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBlIGluIHQucmVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVnaXN0ZXJSZXNvbHZlcihlLCB0LnJlc1tlXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuaC5zZXQoaiwgSSk7XG4gICAgfVxuICAgIHJlZ2lzdGVyKC4uLnQpIHtcbiAgICAgICAgaWYgKCsrdGhpcy5pID09PSAxMDApIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZU1hcHBlZEVycm9yKDYsIC4uLnQpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBuO1xuICAgICAgICBsZXQgcjtcbiAgICAgICAgbGV0IHM7XG4gICAgICAgIGxldCBpO1xuICAgICAgICBsZXQgbDtcbiAgICAgICAgbGV0IGMgPSAwO1xuICAgICAgICBsZXQgYSA9IHQubGVuZ3RoO1xuICAgICAgICBsZXQgdTtcbiAgICAgICAgZm9yICg7YyA8IGE7ICsrYykge1xuICAgICAgICAgICAgbiA9IHRbY107XG4gICAgICAgICAgICBpZiAoIWUobikpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc1JlZ2lzdHJ5KG4pKSB7XG4gICAgICAgICAgICAgICAgbi5yZWdpc3Rlcih0aGlzKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoKHUgPSBvKFIsIG4pKSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdS5yZWdpc3Rlcih0aGlzKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNDbGFzcyhuKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBuW1N5bWJvbC5tZXRhZGF0YV0/LltDXTtcbiAgICAgICAgICAgICAgICBpZiAoaXNSZWdpc3RyeSh0KSkge1xuICAgICAgICAgICAgICAgICAgICB0LnJlZ2lzdGVyKHRoaXMpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNTdHJpbmcobi4kYXU/LnR5cGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBuLiRhdTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZSA9IChuLmFsaWFzZXMgPz8gTSkuY29uY2F0KHQuYWxpYXNlcyA/PyBNKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHIgPSBgJHtSfToke3QudHlwZX06JHt0Lm5hbWV9YDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaGFzKHIsIGZhbHNlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYWxpYXNUb1JlZ2lzdHJhdGlvbihuLCByKS5yZWdpc3Rlcih0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmhhcyhuLCBmYWxzZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpbmdsZXRvblJlZ2lzdHJhdGlvbihuLCBuKS5yZWdpc3Rlcih0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpID0gMDtcbiAgICAgICAgICAgICAgICAgICAgbCA9IGUubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKDtpIDwgbDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByID0gYCR7Un06JHt0LnR5cGV9OiR7ZVtpXX1gO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaGFzKHIsIGZhbHNlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYWxpYXNUb1JlZ2lzdHJhdGlvbihuLCByKS5yZWdpc3Rlcih0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNpbmdsZXRvblJlZ2lzdHJhdGlvbihuLCBuKS5yZWdpc3Rlcih0aGlzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHIgPSBPYmplY3Qua2V5cyhuKTtcbiAgICAgICAgICAgICAgICBpID0gMDtcbiAgICAgICAgICAgICAgICBsID0gci5sZW5ndGg7XG4gICAgICAgICAgICAgICAgZm9yICg7aSA8IGw7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICBzID0gbltyW2ldXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFlKHMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNSZWdpc3RyeShzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcy5yZWdpc3Rlcih0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVnaXN0ZXIocyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLS10aGlzLmk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZWdpc3RlclJlc29sdmVyKHQsIGUsIG4gPSBmYWxzZSkge1xuICAgICAgICB2YWxpZGF0ZUtleSh0KTtcbiAgICAgICAgY29uc3QgciA9IHRoaXMuaDtcbiAgICAgICAgY29uc3QgcyA9IHIuZ2V0KHQpO1xuICAgICAgICBpZiAocyA9PSBudWxsKSB7XG4gICAgICAgICAgICByLnNldCh0LCBlKTtcbiAgICAgICAgICAgIGlmIChpc1Jlc291cmNlS2V5KHQpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucmVzW3RdICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlTWFwcGVkRXJyb3IoNywgdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMucmVzW3RdID0gZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChzIGluc3RhbmNlb2YgUmVzb2x2ZXIgJiYgcy4kID09PSA0KSB7XG4gICAgICAgICAgICBzLl9zdGF0ZS5wdXNoKGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgci5zZXQodCwgbmV3IFJlc29sdmVyKHQsIDQsIFsgcywgZSBdKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG4pIHtcbiAgICAgICAgICAgIHRoaXMudS5zZXQodCwgZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGU7XG4gICAgfVxuICAgIGRlcmVnaXN0ZXIodCkge1xuICAgICAgICB2YWxpZGF0ZUtleSh0KTtcbiAgICAgICAgY29uc3QgZSA9IHRoaXMuaC5nZXQodCk7XG4gICAgICAgIGlmIChlICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuaC5kZWxldGUodCk7XG4gICAgICAgICAgICBpZiAoaXNSZXNvdXJjZUtleSh0KSkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnJlc1t0XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnUuaGFzKHQpKSB7XG4gICAgICAgICAgICAgICAgZS5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy51LmRlbGV0ZSh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZWdpc3RlclRyYW5zZm9ybWVyKHQsIGUpIHtcbiAgICAgICAgY29uc3QgbiA9IHRoaXMuZ2V0UmVzb2x2ZXIodCk7XG4gICAgICAgIGlmIChuID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobi5nZXRGYWN0b3J5KSB7XG4gICAgICAgICAgICBjb25zdCB0ID0gbi5nZXRGYWN0b3J5KHRoaXMpO1xuICAgICAgICAgICAgaWYgKHQgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHQucmVnaXN0ZXJUcmFuc2Zvcm1lcihlKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZ2V0UmVzb2x2ZXIodCwgZSA9IHRydWUpIHtcbiAgICAgICAgdmFsaWRhdGVLZXkodCk7XG4gICAgICAgIGlmICh0LnJlc29sdmUgIT09IHZvaWQgMCkge1xuICAgICAgICAgICAgcmV0dXJuIHQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbiA9IEU7XG4gICAgICAgIGxldCByID0gRSA9IHRoaXM7XG4gICAgICAgIGxldCBzO1xuICAgICAgICBsZXQgaTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHdoaWxlIChyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBzID0gci5oLmdldCh0KTtcbiAgICAgICAgICAgICAgICBpZiAocyA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyLnQgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaSA9IGlzUmVnaXN0ZXJJblJlcXVlc3Rlcih0KSA/IHRoaXMgOiByO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5DKHQsIGkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgciA9IHIudDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBFID0gbjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaGFzKHQsIGUgPSBmYWxzZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5oLmhhcyh0KSB8fCBpc1Jlc291cmNlS2V5KHQpICYmIHQgaW4gdGhpcy5yZXMgfHwgKChlICYmIHRoaXMudD8uaGFzKHQsIHRydWUpKSA/PyBmYWxzZSk7XG4gICAgfVxuICAgIGdldCh0KSB7XG4gICAgICAgIHZhbGlkYXRlS2V5KHQpO1xuICAgICAgICBpZiAodC4kaXNSZXNvbHZlcikge1xuICAgICAgICAgICAgcmV0dXJuIHQucmVzb2x2ZSh0aGlzLCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlID0gRTtcbiAgICAgICAgbGV0IG4gPSBFID0gdGhpcztcbiAgICAgICAgbGV0IHI7XG4gICAgICAgIGxldCBzO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgd2hpbGUgKG4gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHIgPSBuLmguZ2V0KHQpO1xuICAgICAgICAgICAgICAgIGlmIChyID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG4udCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzID0gaXNSZWdpc3RlckluUmVxdWVzdGVyKHQpID8gdGhpcyA6IG47XG4gICAgICAgICAgICAgICAgICAgICAgICByID0gdGhpcy5DKHQsIHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHIucmVzb2x2ZShuLCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBuID0gbi50O1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByLnJlc29sdmUobiwgdGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgRSA9IGU7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgY3JlYXRlTWFwcGVkRXJyb3IoOCwgdCk7XG4gICAgfVxuICAgIGdldEFsbCh0LCBlID0gZmFsc2UpIHtcbiAgICAgICAgdmFsaWRhdGVLZXkodCk7XG4gICAgICAgIGNvbnN0IG4gPSBFO1xuICAgICAgICBjb25zdCByID0gRSA9IHRoaXM7XG4gICAgICAgIGxldCBzID0gcjtcbiAgICAgICAgbGV0IGk7XG4gICAgICAgIGxldCBvID0gTTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChlKSB7XG4gICAgICAgICAgICAgICAgd2hpbGUgKHMgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBpID0gcy5oLmdldCh0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbyA9IG8uY29uY2F0KGJ1aWxkQWxsUmVzcG9uc2UoaSwgcywgcikpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHMgPSBzLnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBvO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2hpbGUgKHMgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGkgPSBzLmguZ2V0KHQpO1xuICAgICAgICAgICAgICAgIGlmIChpID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcyA9IHMudDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHMgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYnVpbGRBbGxSZXNwb25zZShpLCBzLCByKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBFID0gbjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gTTtcbiAgICB9XG4gICAgaW52b2tlKHQsIGUpIHtcbiAgICAgICAgaWYgKGcodCkpIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZU1hcHBlZEVycm9yKDE1LCB0KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuID0gRTtcbiAgICAgICAgRSA9IHRoaXM7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gZSA9PT0gdm9pZCAwID8gbmV3IHQoLi4uZ2V0RGVwZW5kZW5jaWVzKHQpLm1hcChjb250YWluZXJHZXRLZXksIHRoaXMpKSA6IG5ldyB0KC4uLmdldERlcGVuZGVuY2llcyh0KS5tYXAoY29udGFpbmVyR2V0S2V5LCB0aGlzKSwgLi4uZSk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBFID0gbjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBoYXNGYWN0b3J5KHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuUi5oYXModCk7XG4gICAgfVxuICAgIGdldEZhY3RvcnkodCkge1xuICAgICAgICBsZXQgZSA9IHRoaXMuUi5nZXQodCk7XG4gICAgICAgIGlmIChlID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGlmIChnKHQpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlTWFwcGVkRXJyb3IoMTUsIHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5SLnNldCh0LCBlID0gbmV3IEZhY3RvcnkodCwgZ2V0RGVwZW5kZW5jaWVzKHQpKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGU7XG4gICAgfVxuICAgIHJlZ2lzdGVyRmFjdG9yeSh0LCBlKSB7XG4gICAgICAgIHRoaXMuUi5zZXQodCwgZSk7XG4gICAgfVxuICAgIGNyZWF0ZUNoaWxkKHQpIHtcbiAgICAgICAgaWYgKHQgPT09IHZvaWQgMCAmJiB0aGlzLmNvbmZpZy5pbmhlcml0UGFyZW50UmVzb3VyY2VzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jb25maWcgPT09IENvbnRhaW5lckNvbmZpZ3VyYXRpb24uREVGQVVMVCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29udGFpbmVyKHRoaXMsIHRoaXMuY29uZmlnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXcgQ29udGFpbmVyKHRoaXMsIENvbnRhaW5lckNvbmZpZ3VyYXRpb24uZnJvbSh7XG4gICAgICAgICAgICAgICAgLi4udGhpcy5jb25maWcsXG4gICAgICAgICAgICAgICAgaW5oZXJpdFBhcmVudFJlc291cmNlczogZmFsc2VcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IENvbnRhaW5lcih0aGlzLCBDb250YWluZXJDb25maWd1cmF0aW9uLmZyb20odCA/PyB0aGlzLmNvbmZpZykpO1xuICAgIH1cbiAgICBkaXNwb3NlUmVzb2x2ZXJzKCkge1xuICAgICAgICBjb25zdCB0ID0gdGhpcy5oO1xuICAgICAgICBjb25zdCBlID0gdGhpcy51O1xuICAgICAgICBsZXQgbjtcbiAgICAgICAgbGV0IHI7XG4gICAgICAgIGZvciAoW3IsIG5dIG9mIGUuZW50cmllcygpKSB7XG4gICAgICAgICAgICBuLmRpc3Bvc2U/LigpO1xuICAgICAgICAgICAgdC5kZWxldGUocik7XG4gICAgICAgIH1cbiAgICAgICAgZS5jbGVhcigpO1xuICAgIH1cbiAgICB1c2VSZXNvdXJjZXModCkge1xuICAgICAgICBjb25zdCBlID0gdC5yZXM7XG4gICAgICAgIGZvciAoY29uc3QgdCBpbiBlKSB7XG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyUmVzb2x2ZXIodCwgZVt0XSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZmluZCh0LCBlKSB7XG4gICAgICAgIGNvbnN0IG4gPSBpc1N0cmluZyhlKSA/IGAke1J9OiR7dH06JHtlfWAgOiB0O1xuICAgICAgICBsZXQgciA9IHRoaXM7XG4gICAgICAgIGxldCBzID0gci5yZXNbbl07XG4gICAgICAgIGlmIChzID09IG51bGwpIHtcbiAgICAgICAgICAgIHIgPSByLnJvb3Q7XG4gICAgICAgICAgICBzID0gci5yZXNbbl07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHMuZ2V0RmFjdG9yeT8uKHIpPy5UeXBlID8/IG51bGw7XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIGlmICh0aGlzLnUuc2l6ZSA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcG9zZVJlc29sdmVycygpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaC5jbGVhcigpO1xuICAgICAgICBpZiAodGhpcy5yb290ID09PSB0aGlzKSB7XG4gICAgICAgICAgICB0aGlzLlIuY2xlYXIoKTtcbiAgICAgICAgICAgIHRoaXMucmVzID0ge307XG4gICAgICAgIH1cbiAgICB9XG4gICAgQyh0LCBlKSB7XG4gICAgICAgIGNvbnN0IG4gPSBpc1JlZ2lzdHJ5KHQpO1xuICAgICAgICBpZiAoIWlzRnVuY3Rpb24odCkgJiYgIW4pIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZU1hcHBlZEVycm9yKDksIHQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChrLmhhcyh0Lm5hbWUpKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVNYXBwZWRFcnJvcigxMCwgdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG4pIHtcbiAgICAgICAgICAgIGNvbnN0IG4gPSB0LnJlZ2lzdGVyKGUsIHQpO1xuICAgICAgICAgICAgaWYgKCEobiBpbnN0YW5jZW9mIE9iamVjdCkgfHwgbi5yZXNvbHZlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuID0gZS5oLmdldCh0KTtcbiAgICAgICAgICAgICAgICBpZiAobiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVNYXBwZWRFcnJvcigxMSwgdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodC4kaXNJbnRlcmZhY2UpIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZU1hcHBlZEVycm9yKDEyLCB0LmZyaWVuZGx5TmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgciA9IHRoaXMuY29uZmlnLmRlZmF1bHRSZXNvbHZlcih0LCBlKTtcbiAgICAgICAgZS5oLnNldCh0LCByKTtcbiAgICAgICAgcmV0dXJuIHI7XG4gICAgfVxufVxuXG5jbGFzcyBGYWN0b3J5IHtcbiAgICBjb25zdHJ1Y3Rvcih0LCBlKSB7XG4gICAgICAgIHRoaXMuVHlwZSA9IHQ7XG4gICAgICAgIHRoaXMuZGVwZW5kZW5jaWVzID0gZTtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm1lcnMgPSBudWxsO1xuICAgIH1cbiAgICBjb25zdHJ1Y3QodCwgZSkge1xuICAgICAgICBjb25zdCBuID0gRTtcbiAgICAgICAgRSA9IHQ7XG4gICAgICAgIGxldCByO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKGUgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgIHIgPSBuZXcgdGhpcy5UeXBlKC4uLnRoaXMuZGVwZW5kZW5jaWVzLm1hcChjb250YWluZXJHZXRLZXksIHQpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgciA9IG5ldyB0aGlzLlR5cGUoLi4udGhpcy5kZXBlbmRlbmNpZXMubWFwKGNvbnRhaW5lckdldEtleSwgdCksIC4uLmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMudHJhbnNmb3JtZXJzID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybWVycy5yZWR1Y2UodHJhbnNmb3JtSW5zdGFuY2UsIHIpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgRSA9IG47XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVnaXN0ZXJUcmFuc2Zvcm1lcih0KSB7XG4gICAgICAgICh0aGlzLnRyYW5zZm9ybWVycyA/Pz0gW10pLnB1c2godCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiB0cmFuc2Zvcm1JbnN0YW5jZSh0LCBlKSB7XG4gICAgcmV0dXJuIGUodCk7XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlS2V5KHQpIHtcbiAgICBpZiAodCA9PT0gbnVsbCB8fCB0ID09PSB2b2lkIDApIHtcbiAgICAgICAgdGhyb3cgY3JlYXRlTWFwcGVkRXJyb3IoMTQpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gY29udGFpbmVyR2V0S2V5KHQpIHtcbiAgICByZXR1cm4gdGhpcy5nZXQodCk7XG59XG5cbmZ1bmN0aW9uIHJlc29sdmUoLi4udCkge1xuICAgIGlmIChFID09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgY3JlYXRlTWFwcGVkRXJyb3IoMTYsIC4uLnQpO1xuICAgIH1cbiAgICByZXR1cm4gdC5sZW5ndGggPT09IDEgPyBFLmdldCh0WzBdKSA6IHQubWFwKGNvbnRhaW5lckdldEtleSwgRSk7XG59XG5cbmNvbnN0IGJ1aWxkQWxsUmVzcG9uc2UgPSAodCwgZSwgbikgPT4ge1xuICAgIGlmICh0IGluc3RhbmNlb2YgUmVzb2x2ZXIgJiYgdC4kID09PSA0KSB7XG4gICAgICAgIGNvbnN0IHIgPSB0Ll9zdGF0ZTtcbiAgICAgICAgY29uc3QgcyA9IHIubGVuZ3RoO1xuICAgICAgICBjb25zdCBpID0gQXJyYXkocyk7XG4gICAgICAgIGxldCBvID0gMDtcbiAgICAgICAgZm9yICg7byA8IHM7ICsrbykge1xuICAgICAgICAgICAgaVtvXSA9IHJbb10ucmVzb2x2ZShlLCBuKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaTtcbiAgICB9XG4gICAgcmV0dXJuIFsgdC5yZXNvbHZlKGUsIG4pIF07XG59O1xuXG5jb25zdCBJID0ge1xuICAgICRpc1Jlc29sdmVyOiB0cnVlLFxuICAgIHJlc29sdmUodCwgZSkge1xuICAgICAgICByZXR1cm4gZTtcbiAgICB9XG59O1xuXG5jb25zdCBpc1JlZ2lzdHJ5ID0gdCA9PiBpc0Z1bmN0aW9uKHQ/LnJlZ2lzdGVyKTtcblxuY29uc3QgaXNTZWxmUmVnaXN0cnkgPSB0ID0+IGlzUmVnaXN0cnkodCkgJiYgdHlwZW9mIHQucmVnaXN0ZXJJblJlcXVlc3RvciA9PT0gXCJib29sZWFuXCI7XG5cbmNvbnN0IGlzUmVnaXN0ZXJJblJlcXVlc3RlciA9IHQgPT4gaXNTZWxmUmVnaXN0cnkodCkgJiYgdC5yZWdpc3RlckluUmVxdWVzdG9yO1xuXG5jb25zdCBpc0NsYXNzID0gdCA9PiB0LnByb3RvdHlwZSAhPT0gdm9pZCAwO1xuXG5jb25zdCBpc1Jlc291cmNlS2V5ID0gdCA9PiBpc1N0cmluZyh0KSAmJiB0LmluZGV4T2YoXCI6XCIpID4gMDtcblxuY2xhc3MgUmVzb2x2ZXJCdWlsZGVyIHtcbiAgICBjb25zdHJ1Y3Rvcih0LCBlKSB7XG4gICAgICAgIHRoaXMuYyA9IHQ7XG4gICAgICAgIHRoaXMuayA9IGU7XG4gICAgfVxuICAgIGluc3RhbmNlKHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuTygwLCB0KTtcbiAgICB9XG4gICAgc2luZ2xldG9uKHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuTygxLCB0KTtcbiAgICB9XG4gICAgdHJhbnNpZW50KHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuTygyLCB0KTtcbiAgICB9XG4gICAgY2FsbGJhY2sodCkge1xuICAgICAgICByZXR1cm4gdGhpcy5PKDMsIHQpO1xuICAgIH1cbiAgICBjYWNoZWRDYWxsYmFjayh0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLk8oMywgY2FjaGVDYWxsYmFja1Jlc3VsdCh0KSk7XG4gICAgfVxuICAgIGFsaWFzVG8odCkge1xuICAgICAgICByZXR1cm4gdGhpcy5PKDUsIHQpO1xuICAgIH1cbiAgICBPKHQsIGUpIHtcbiAgICAgICAgY29uc3Qge2M6IG4sIGs6IHJ9ID0gdGhpcztcbiAgICAgICAgdGhpcy5jID0gdGhpcy5rID0gdm9pZCAwO1xuICAgICAgICByZXR1cm4gbi5yZWdpc3RlclJlc29sdmVyKHIsIG5ldyBSZXNvbHZlcihyLCB0LCBlKSk7XG4gICAgfVxufVxuXG5jb25zdCBjbG9uZUFycmF5V2l0aFBvc3NpYmxlUHJvcHMgPSB0ID0+IHtcbiAgICBjb25zdCBlID0gdC5zbGljZSgpO1xuICAgIGNvbnN0IG4gPSBPYmplY3Qua2V5cyh0KTtcbiAgICBjb25zdCByID0gbi5sZW5ndGg7XG4gICAgbGV0IHM7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByOyArK2kpIHtcbiAgICAgICAgcyA9IG5baV07XG4gICAgICAgIGlmICghYShzKSkge1xuICAgICAgICAgICAgZVtzXSA9IHRbc107XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGU7XG59O1xuXG5jb25zdCBBID0gZ2V0QW5ub3RhdGlvbktleUZvcihcImRpOnBhcmFtdHlwZXNcIik7XG5cbmNvbnN0IGdldEFubm90YXRpb25QYXJhbXR5cGVzID0gdCA9PiBvKEEsIHQpO1xuXG5jb25zdCBnZXREZXNpZ25QYXJhbXR5cGVzID0gdCA9PiBvKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgdCk7XG5cbmNvbnN0IGdldE9yQ3JlYXRlQW5ub3RhdGlvblBhcmFtVHlwZXMgPSB0ID0+IHQubWV0YWRhdGFbQV0gPz89IFtdO1xuXG5jb25zdCBnZXREZXBlbmRlbmNpZXMgPSB0ID0+IHtcbiAgICBjb25zdCBlID0gZ2V0QW5ub3RhdGlvbktleUZvcihcImRpOmRlcGVuZGVuY2llc1wiKTtcbiAgICBsZXQgbiA9IG8oZSwgdCk7XG4gICAgaWYgKG4gPT09IHZvaWQgMCkge1xuICAgICAgICBjb25zdCByID0gdC5pbmplY3Q7XG4gICAgICAgIGlmIChyID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGNvbnN0IGUgPSBnZXREZXNpZ25QYXJhbXR5cGVzKHQpO1xuICAgICAgICAgICAgY29uc3QgciA9IGdldEFubm90YXRpb25QYXJhbXR5cGVzKHQpO1xuICAgICAgICAgICAgaWYgKGUgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgIGlmIChyID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZSA9IE9iamVjdC5nZXRQcm90b3R5cGVPZih0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24oZSkgJiYgZSAhPT0gRnVuY3Rpb24ucHJvdG90eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuID0gY2xvbmVBcnJheVdpdGhQb3NzaWJsZVByb3BzKGdldERlcGVuZGVuY2llcyhlKSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuID0gW107XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBuID0gY2xvbmVBcnJheVdpdGhQb3NzaWJsZVByb3BzKHIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAociA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgbiA9IGNsb25lQXJyYXlXaXRoUG9zc2libGVQcm9wcyhlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbiA9IGNsb25lQXJyYXlXaXRoUG9zc2libGVQcm9wcyhlKTtcbiAgICAgICAgICAgICAgICBsZXQgdCA9IHIubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGxldCBzO1xuICAgICAgICAgICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgICAgICAgICBmb3IgKDtpIDwgdDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgIHMgPSByW2ldO1xuICAgICAgICAgICAgICAgICAgICBpZiAocyAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuW2ldID0gcztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBvID0gT2JqZWN0LmtleXMocik7XG4gICAgICAgICAgICAgICAgbGV0IGw7XG4gICAgICAgICAgICAgICAgaSA9IDA7XG4gICAgICAgICAgICAgICAgdCA9IG8ubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCB0OyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgbCA9IG9baV07XG4gICAgICAgICAgICAgICAgICAgIGlmICghYShsKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbltsXSA9IHJbbF07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuID0gY2xvbmVBcnJheVdpdGhQb3NzaWJsZVByb3BzKHIpO1xuICAgICAgICB9XG4gICAgICAgIGwobiwgdCwgZSk7XG4gICAgfVxuICAgIHJldHVybiBuO1xufTtcblxuY29uc3QgY3JlYXRlSW50ZXJmYWNlID0gKHQsIGUpID0+IHtcbiAgICBjb25zdCBuID0gaXNGdW5jdGlvbih0KSA/IHQgOiBlO1xuICAgIGNvbnN0IHIgPSAoaXNTdHJpbmcodCkgPyB0IDogdW5kZWZpbmVkKSA/PyBcIihhbm9ueW1vdXMpXCI7XG4gICAgY29uc3QgcyA9IHtcbiAgICAgICAgJGlzSW50ZXJmYWNlOiB0cnVlLFxuICAgICAgICBmcmllbmRseU5hbWU6IHIsXG4gICAgICAgIHRvU3RyaW5nOiAoKSA9PiBgSW50ZXJmYWNlU3ltYm9sPCR7cn0+YCxcbiAgICAgICAgcmVnaXN0ZXI6IG4gIT0gbnVsbCA/ICh0LCBlKSA9PiBuKG5ldyBSZXNvbHZlckJ1aWxkZXIodCwgZSA/PyBzKSkgOiB2b2lkIDBcbiAgICB9O1xuICAgIHJldHVybiBzO1xufTtcblxuY29uc3QgaW5qZWN0ID0gKC4uLnQpID0+IChlLCBuKSA9PiB7XG4gICAgc3dpdGNoIChuLmtpbmQpIHtcbiAgICAgIGNhc2UgXCJjbGFzc1wiOlxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBlID0gZ2V0T3JDcmVhdGVBbm5vdGF0aW9uUGFyYW1UeXBlcyhuKTtcbiAgICAgICAgICAgIGxldCByO1xuICAgICAgICAgICAgbGV0IHMgPSAwO1xuICAgICAgICAgICAgZm9yICg7cyA8IHQubGVuZ3RoOyArK3MpIHtcbiAgICAgICAgICAgICAgICByID0gdFtzXTtcbiAgICAgICAgICAgICAgICBpZiAociAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGVbc10gPSByO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgIGNhc2UgXCJmaWVsZFwiOlxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBlID0gZ2V0T3JDcmVhdGVBbm5vdGF0aW9uUGFyYW1UeXBlcyhuKTtcbiAgICAgICAgICAgIGNvbnN0IHIgPSB0WzBdO1xuICAgICAgICAgICAgaWYgKHIgIT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgIGVbbi5uYW1lXSA9IHI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBjcmVhdGVNYXBwZWRFcnJvcigyMiwgU3RyaW5nKG4ubmFtZSksIG4ua2luZCk7XG4gICAgfVxufTtcblxuY29uc3QgTCA9IC8qQF9fUFVSRV9fKi8gKCgpID0+IHtcbiAgICBuKCk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY3JlYXRlQ29udGFpbmVyOiBjcmVhdGVDb250YWluZXIsXG4gICAgICAgIGdldERlc2lnblBhcmFtdHlwZXM6IGdldERlc2lnblBhcmFtdHlwZXMsXG4gICAgICAgIGdldERlcGVuZGVuY2llczogZ2V0RGVwZW5kZW5jaWVzLFxuICAgICAgICBjcmVhdGVJbnRlcmZhY2U6IGNyZWF0ZUludGVyZmFjZSxcbiAgICAgICAgaW5qZWN0OiBpbmplY3QsXG4gICAgICAgIHRyYW5zaWVudCh0KSB7XG4gICAgICAgICAgICB0LnJlZ2lzdGVyID0gZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG4gPSB0cmFuc2llbnRSZWdpc3RhdGlvbih0LCB0KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbi5yZWdpc3RlcihlLCB0KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0LnJlZ2lzdGVySW5SZXF1ZXN0b3IgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiB0O1xuICAgICAgICB9LFxuICAgICAgICBzaW5nbGV0b24odCwgZSA9IFMpIHtcbiAgICAgICAgICAgIHQucmVnaXN0ZXIgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbiA9IHNpbmdsZXRvblJlZ2lzdHJhdGlvbih0LCB0KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbi5yZWdpc3RlcihlLCB0KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0LnJlZ2lzdGVySW5SZXF1ZXN0b3IgPSBlLnNjb3BlZDtcbiAgICAgICAgICAgIHJldHVybiB0O1xuICAgICAgICB9XG4gICAgfTtcbn0pKCk7XG5cbmNvbnN0IGogPSAvKkBfX1BVUkVfXyovIGNyZWF0ZUludGVyZmFjZShcIklDb250YWluZXJcIik7XG5cbmNvbnN0IEYgPSBqO1xuXG5mdW5jdGlvbiB0cmFuc2llbnREZWNvcmF0b3IodCwgZSkge1xuICAgIHJldHVybiBMLnRyYW5zaWVudCh0KTtcbn1cblxuZnVuY3Rpb24gdHJhbnNpZW50KHQsIGUpIHtcbiAgICByZXR1cm4gdCA9PSBudWxsID8gdHJhbnNpZW50RGVjb3JhdG9yIDogdHJhbnNpZW50RGVjb3JhdG9yKHQpO1xufVxuXG5jb25zdCBTID0ge1xuICAgIHNjb3BlZDogZmFsc2Vcbn07XG5cbmNvbnN0IF8gPSBMLnNpbmdsZXRvbjtcblxuZnVuY3Rpb24gc2luZ2xldG9uKHQsIGUpIHtcbiAgICByZXR1cm4gaXNGdW5jdGlvbih0KSA/IF8odCkgOiBmdW5jdGlvbihlLCBuKSB7XG4gICAgICAgIHJldHVybiBfKGUsIHQpO1xuICAgIH07XG59XG5cbmNsYXNzIFJlc29sdmVyIHtcbiAgICBnZXQgJGlzUmVzb2x2ZXIoKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBjb25zdHJ1Y3Rvcih0LCBlLCBuKSB7XG4gICAgICAgIHRoaXMuSSA9IGZhbHNlO1xuICAgICAgICB0aGlzLkEgPSBudWxsO1xuICAgICAgICB0aGlzLmsgPSB0O1xuICAgICAgICB0aGlzLiQgPSBlO1xuICAgICAgICB0aGlzLl9zdGF0ZSA9IG47XG4gICAgfVxuICAgIHJlZ2lzdGVyKHQsIGUpIHtcbiAgICAgICAgcmV0dXJuIHQucmVnaXN0ZXJSZXNvbHZlcihlIHx8IHRoaXMuaywgdGhpcyk7XG4gICAgfVxuICAgIHJlc29sdmUodCwgZSkge1xuICAgICAgICBzd2l0Y2ggKHRoaXMuJCkge1xuICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdGF0ZTtcblxuICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5JKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZU1hcHBlZEVycm9yKDMsIHRoaXMuX3N0YXRlLm5hbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLkkgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0YXRlID0gKHRoaXMuQSA9IHQuZ2V0RmFjdG9yeSh0aGlzLl9zdGF0ZSkpLmNvbnN0cnVjdChlKTtcbiAgICAgICAgICAgICAgICB0aGlzLiQgPSAwO1xuICAgICAgICAgICAgICAgIHRoaXMuSSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdGF0ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuID0gdC5nZXRGYWN0b3J5KHRoaXMuX3N0YXRlKTtcbiAgICAgICAgICAgICAgICBpZiAobiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVNYXBwZWRFcnJvcig0LCB0aGlzLmspO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbi5jb25zdHJ1Y3QoZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc3RhdGUodCwgZSwgdGhpcyk7XG5cbiAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc3RhdGVbMF0ucmVzb2x2ZSh0LCBlKTtcblxuICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgIHJldHVybiBlLmdldCh0aGlzLl9zdGF0ZSk7XG5cbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgY3JlYXRlTWFwcGVkRXJyb3IoNSwgdGhpcy4kKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRGYWN0b3J5KHQpIHtcbiAgICAgICAgc3dpdGNoICh0aGlzLiQpIHtcbiAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgcmV0dXJuIHQuZ2V0RmFjdG9yeSh0aGlzLl9zdGF0ZSk7XG5cbiAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICByZXR1cm4gdC5nZXRSZXNvbHZlcih0aGlzLl9zdGF0ZSk/LmdldEZhY3Rvcnk/Lih0KSA/PyBudWxsO1xuXG4gICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuQTtcblxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuY2xhc3MgSW5zdGFuY2VQcm92aWRlciB7XG4gICAgZ2V0IGZyaWVuZGx5TmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuTDtcbiAgICB9XG4gICAgY29uc3RydWN0b3IodCwgZSA9IG51bGwsIG4gPSBudWxsKSB7XG4gICAgICAgIHRoaXMuTCA9IHQ7XG4gICAgICAgIHRoaXMuaiA9IGU7XG4gICAgICAgIHRoaXMuRiA9IG47XG4gICAgfVxuICAgIHByZXBhcmUodCkge1xuICAgICAgICB0aGlzLmogPSB0O1xuICAgIH1cbiAgICBnZXQgJGlzUmVzb2x2ZXIoKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXNvbHZlKCkge1xuICAgICAgICBpZiAodGhpcy5qID09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZU1hcHBlZEVycm9yKDEzLCB0aGlzLkwpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmo7XG4gICAgfVxuICAgIGdldEZhY3RvcnkodCkge1xuICAgICAgICByZXR1cm4gdGhpcy5GID09IG51bGwgPyBudWxsIDogdC5nZXRGYWN0b3J5KHRoaXMuRik7XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHRoaXMuaiA9IG51bGw7XG4gICAgfVxufVxuXG5jbGFzcyBQYXJhbWV0ZXJpemVkUmVnaXN0cnkge1xuICAgIGNvbnN0cnVjdG9yKHQsIGUpIHtcbiAgICAgICAgdGhpcy5rZXkgPSB0O1xuICAgICAgICB0aGlzLnBhcmFtcyA9IGU7XG4gICAgfVxuICAgIHJlZ2lzdGVyKHQpIHtcbiAgICAgICAgaWYgKHQuaGFzKHRoaXMua2V5LCB0cnVlKSkge1xuICAgICAgICAgICAgY29uc3QgZSA9IHQuZ2V0KHRoaXMua2V5KTtcbiAgICAgICAgICAgIGUucmVnaXN0ZXIodCwgLi4udGhpcy5wYXJhbXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdC5yZWdpc3RlciguLi50aGlzLnBhcmFtcy5maWx0ZXIoKHQgPT4gdHlwZW9mIHQgPT09IFwib2JqZWN0XCIpKSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmNvbnN0IE0gPSByKFtdKTtcblxuY29uc3QgVCA9IHIoe30pO1xuXG5mdW5jdGlvbiBub29wKCkge31cblxuY29uc3QgUCA9IC8qQF9fUFVSRV9fKi8gY3JlYXRlSW50ZXJmYWNlKFwiSVBsYXRmb3JtXCIpO1xuXG5mdW5jdGlvbiBjcmVhdGVSZXNvbHZlcih0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgZnVuY3Rpb24gUmVzb2x2ZXIodCwgZSkge1xuICAgICAgICAgICAgaW5qZWN0KFJlc29sdmVyKSh0LCBlKTtcbiAgICAgICAgfVxuICAgICAgICBSZXNvbHZlci4kaXNSZXNvbHZlciA9IHRydWU7XG4gICAgICAgIFJlc29sdmVyLnJlc29sdmUgPSBmdW5jdGlvbihuLCByKSB7XG4gICAgICAgICAgICByZXR1cm4gdChlLCBuLCByKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIFJlc29sdmVyO1xuICAgIH07XG59XG5cbmNvbnN0IGFsbCA9ICh0LCBlID0gZmFsc2UpID0+IHtcbiAgICBmdW5jdGlvbiByZXNvbHZlcih0LCBlKSB7XG4gICAgICAgIGluamVjdChyZXNvbHZlcikodCwgZSk7XG4gICAgfVxuICAgIHJlc29sdmVyLiRpc1Jlc29sdmVyID0gdHJ1ZTtcbiAgICByZXNvbHZlci5yZXNvbHZlID0gKG4sIHIpID0+IHIuZ2V0QWxsKHQsIGUpO1xuICAgIHJldHVybiByZXNvbHZlcjtcbn07XG5cbmNvbnN0IGxhc3QgPSB0ID0+ICh7XG4gICAgJGlzUmVzb2x2ZXI6IHRydWUsXG4gICAgcmVzb2x2ZTogZSA9PiB7XG4gICAgICAgIGNvbnN0IG4gPSBlLmdldEFsbCh0KTtcbiAgICAgICAgcmV0dXJuIG4ubGVuZ3RoID4gMCA/IG5bbi5sZW5ndGggLSAxXSA6IHVuZGVmaW5lZDtcbiAgICB9XG59KTtcblxuY29uc3QgSyA9IC8qQF9fUFVSRV9fKi8gY3JlYXRlUmVzb2x2ZXIoKCh0LCBlLCBuKSA9PiAoKSA9PiBuLmdldCh0KSkpO1xuXG5jb25zdCBOID0gLypAX19QVVJFX18qLyBjcmVhdGVSZXNvbHZlcigoKHQsIGUsIG4pID0+IHtcbiAgICBpZiAobi5oYXModCwgdHJ1ZSkpIHtcbiAgICAgICAgcmV0dXJuIG4uZ2V0KHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxufSkpO1xuXG5jb25zdCB6ID0gLypAX19QVVJFX18qLyBzKCgodCwgZSkgPT4ge1xuICAgIGluamVjdCh6KSh0LCBlKTtcbn0pLCB7XG4gICAgJGlzUmVzb2x2ZXI6IHRydWUsXG4gICAgcmVzb2x2ZTogKCkgPT4gdm9pZCAwXG59KTtcblxuY29uc3QgRyA9IC8qQF9fUFVSRV9fKi8gY3JlYXRlUmVzb2x2ZXIoKCh0LCBlLCBuKSA9PiAoLi4ucikgPT4gZS5nZXRGYWN0b3J5KHQpLmNvbnN0cnVjdChuLCByKSkpO1xuXG5jb25zdCBXID0gLypAX19QVVJFX18qLyBjcmVhdGVSZXNvbHZlcigoKHQsIGUsIG4pID0+IG4uaGFzKHQsIGZhbHNlKSA/IG4uZ2V0KHQpIDogdm9pZCAwKSk7XG5cbmNvbnN0IEIgPSAvKkBfX1BVUkVfXyovIGNyZWF0ZVJlc29sdmVyKCgodCwgZSwgbikgPT4gbi5oYXModCwgZmFsc2UpID8gbi5nZXQodCkgOiBuLnJvb3QuZ2V0KHQpKSk7XG5cbmNvbnN0IFEgPSAvKkBfX1BVUkVfXyovIGNyZWF0ZVJlc29sdmVyKCgodCwgZSwgbikgPT4gbi5oYXModCwgZmFsc2UpID8gbi5nZXQodCkgOiBuLnJvb3QuaGFzKHQsIGZhbHNlKSA/IG4ucm9vdC5nZXQodCkgOiB2b2lkIDApKTtcblxuY29uc3QgVSA9IC8qQF9fUFVSRV9fKi8gY3JlYXRlUmVzb2x2ZXIoKCh0LCBlLCBuKSA9PiBuID09PSBuLnJvb3QgPyBuLmdldEFsbCh0LCBmYWxzZSkgOiBuLmhhcyh0LCBmYWxzZSkgPyBuLmdldEFsbCh0LCBmYWxzZSkuY29uY2F0KG4ucm9vdC5nZXRBbGwodCwgZmFsc2UpKSA6IG4ucm9vdC5nZXRBbGwodCwgZmFsc2UpKSk7XG5cbmNvbnN0IHggPSAvKkBfX1BVUkVfXyovIGNyZWF0ZVJlc29sdmVyKCgodCwgZSwgbikgPT4ge1xuICAgIGNvbnN0IHIgPSBjcmVhdGVOZXdJbnN0YW5jZSh0LCBlLCBuKTtcbiAgICBjb25zdCBzID0gbmV3IEluc3RhbmNlUHJvdmlkZXIoaSh0KSwgcik7XG4gICAgbi5yZWdpc3RlclJlc29sdmVyKHQsIHMsIHRydWUpO1xuICAgIHJldHVybiByO1xufSkpO1xuXG5jb25zdCBIID0gLypAX19QVVJFX18qLyBjcmVhdGVSZXNvbHZlcigoKHQsIGUsIG4pID0+IGNyZWF0ZU5ld0luc3RhbmNlKHQsIGUsIG4pKSk7XG5cbmNvbnN0IGNyZWF0ZU5ld0luc3RhbmNlID0gKHQsIGUsIG4pID0+IHtcbiAgICBpZiAoZS5oYXNGYWN0b3J5KHQpKSB7XG4gICAgICAgIHJldHVybiBlLmdldEZhY3RvcnkodCkuY29uc3RydWN0KG4pO1xuICAgIH1cbiAgICBpZiAoaXNJbnRlcmZhY2UodCkpIHtcbiAgICAgICAgY29uc3QgciA9IGlzRnVuY3Rpb24odC5yZWdpc3Rlcik7XG4gICAgICAgIGNvbnN0IHMgPSBlLmdldFJlc29sdmVyKHQsIGZhbHNlKTtcbiAgICAgICAgbGV0IGk7XG4gICAgICAgIGlmIChzID09IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChyKSB7XG4gICAgICAgICAgICAgICAgaSA9IChWID8/PSBjcmVhdGVDb250YWluZXIoKSkuZ2V0UmVzb2x2ZXIodCwgdHJ1ZSk/LmdldEZhY3Rvcnk/LihlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFYuZGlzcG9zZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaSA9IHMuZ2V0RmFjdG9yeT8uKGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBpLmNvbnN0cnVjdChuKTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBjcmVhdGVNYXBwZWRFcnJvcigxNywgdCk7XG4gICAgfVxuICAgIHJldHVybiBlLmdldEZhY3RvcnkodCkuY29uc3RydWN0KG4pO1xufTtcblxuY29uc3QgaXNJbnRlcmZhY2UgPSB0ID0+IHQ/LiRpc0ludGVyZmFjZSA9PT0gdHJ1ZTtcblxubGV0IFY7XG5cbmZ1bmN0aW9uIF9fZXNEZWNvcmF0ZSh0LCBlLCBuLCByLCBzLCBpKSB7XG4gICAgZnVuY3Rpb24gYWNjZXB0KHQpIHtcbiAgICAgICAgaWYgKHQgIT09IHZvaWQgMCAmJiB0eXBlb2YgdCAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRnVuY3Rpb24gZXhwZWN0ZWRcIik7XG4gICAgICAgIHJldHVybiB0O1xuICAgIH1cbiAgICB2YXIgbyA9IHIua2luZCwgbCA9IG8gPT09IFwiZ2V0dGVyXCIgPyBcImdldFwiIDogbyA9PT0gXCJzZXR0ZXJcIiA/IFwic2V0XCIgOiBcInZhbHVlXCI7XG4gICAgdmFyIGMgPSAhZSAmJiB0ID8gcltcInN0YXRpY1wiXSA/IHQgOiB0LnByb3RvdHlwZSA6IG51bGw7XG4gICAgdmFyIGEgPSBlIHx8IChjID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihjLCByLm5hbWUpIDoge30pO1xuICAgIHZhciB1LCBmID0gZmFsc2U7XG4gICAgZm9yICh2YXIgaCA9IG4ubGVuZ3RoIC0gMTsgaCA+PSAwOyBoLS0pIHtcbiAgICAgICAgdmFyIGQgPSB7fTtcbiAgICAgICAgZm9yICh2YXIgdiBpbiByKSBkW3ZdID0gdiA9PT0gXCJhY2Nlc3NcIiA/IHt9IDogclt2XTtcbiAgICAgICAgZm9yICh2YXIgdiBpbiByLmFjY2VzcykgZC5hY2Nlc3Nbdl0gPSByLmFjY2Vzc1t2XTtcbiAgICAgICAgZC5hZGRJbml0aWFsaXplciA9IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGFkZCBpbml0aWFsaXplcnMgYWZ0ZXIgZGVjb3JhdGlvbiBoYXMgY29tcGxldGVkXCIpO1xuICAgICAgICAgICAgaS5wdXNoKGFjY2VwdCh0IHx8IG51bGwpKTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGcgPSAoMCwgbltoXSkobyA9PT0gXCJhY2Nlc3NvclwiID8ge1xuICAgICAgICAgICAgZ2V0OiBhLmdldCxcbiAgICAgICAgICAgIHNldDogYS5zZXRcbiAgICAgICAgfSA6IGFbbF0sIGQpO1xuICAgICAgICBpZiAobyA9PT0gXCJhY2Nlc3NvclwiKSB7XG4gICAgICAgICAgICBpZiAoZyA9PT0gdm9pZCAwKSBjb250aW51ZTtcbiAgICAgICAgICAgIGlmIChnID09PSBudWxsIHx8IHR5cGVvZiBnICE9PSBcIm9iamVjdFwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiT2JqZWN0IGV4cGVjdGVkXCIpO1xuICAgICAgICAgICAgaWYgKHUgPSBhY2NlcHQoZy5nZXQpKSBhLmdldCA9IHU7XG4gICAgICAgICAgICBpZiAodSA9IGFjY2VwdChnLnNldCkpIGEuc2V0ID0gdTtcbiAgICAgICAgICAgIGlmICh1ID0gYWNjZXB0KGcuaW5pdCkpIHMudW5zaGlmdCh1KTtcbiAgICAgICAgfSBlbHNlIGlmICh1ID0gYWNjZXB0KGcpKSB7XG4gICAgICAgICAgICBpZiAobyA9PT0gXCJmaWVsZFwiKSBzLnVuc2hpZnQodSk7IGVsc2UgYVtsXSA9IHU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGMpIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjLCByLm5hbWUsIGEpO1xuICAgIGYgPSB0cnVlO1xufVxuXG5mdW5jdGlvbiBfX3J1bkluaXRpYWxpemVycyh0LCBlLCBuKSB7XG4gICAgdmFyIHIgPSBhcmd1bWVudHMubGVuZ3RoID4gMjtcbiAgICBmb3IgKHZhciBzID0gMDsgcyA8IGUubGVuZ3RoOyBzKyspIHtcbiAgICAgICAgbiA9IHIgPyBlW3NdLmNhbGwodCwgbikgOiBlW3NdLmNhbGwodCk7XG4gICAgfVxuICAgIHJldHVybiByID8gbiA6IHZvaWQgMDtcbn1cblxudHlwZW9mIFN1cHByZXNzZWRFcnJvciA9PT0gXCJmdW5jdGlvblwiID8gU3VwcHJlc3NlZEVycm9yIDogZnVuY3Rpb24odCwgZSwgbikge1xuICAgIHZhciByID0gbmV3IEVycm9yKG4pO1xuICAgIHJldHVybiByLm5hbWUgPSBcIlN1cHByZXNzZWRFcnJvclwiLCByLmVycm9yID0gdCwgci5zdXBwcmVzc2VkID0gZSwgcjtcbn07XG5cbmNvbnN0IHEgPSAwO1xuXG5jb25zdCBKID0gMTtcblxuY29uc3QgWCA9IDI7XG5cbmNvbnN0IFkgPSAzO1xuXG5jb25zdCBaID0gNDtcblxuY29uc3QgdHQgPSA1O1xuXG5jb25zdCBldCA9IDY7XG5cbmNvbnN0IG50ID0gcih7XG4gICAgdHJhY2U6IHEsXG4gICAgZGVidWc6IEosXG4gICAgaW5mbzogWCxcbiAgICB3YXJuOiBZLFxuICAgIGVycm9yOiBaLFxuICAgIGZhdGFsOiB0dCxcbiAgICBub25lOiBldFxufSk7XG5cbmNvbnN0IHJ0ID0gLypAX19QVVJFX18qLyBjcmVhdGVJbnRlcmZhY2UoXCJJTG9nQ29uZmlnXCIsICh0ID0+IHQuaW5zdGFuY2UobmV3IExvZ0NvbmZpZyhcIm5vLWNvbG9yc1wiLCBZKSkpKTtcblxuY29uc3Qgc3QgPSAvKkBfX1BVUkVfXyovIGNyZWF0ZUludGVyZmFjZShcIklTaW5rXCIpO1xuXG5jb25zdCBpdCA9IC8qQF9fUFVSRV9fKi8gY3JlYXRlSW50ZXJmYWNlKFwiSUxvZ0V2ZW50RmFjdG9yeVwiLCAodCA9PiB0LnNpbmdsZXRvbihEZWZhdWx0TG9nRXZlbnRGYWN0b3J5KSkpO1xuXG5jb25zdCBvdCA9IC8qQF9fUFVSRV9fKi8gY3JlYXRlSW50ZXJmYWNlKFwiSUxvZ2dlclwiLCAodCA9PiB0LnNpbmdsZXRvbihmdCkpKTtcblxuY29uc3QgbHQgPSAvKkBfX1BVUkVfXyovIGNyZWF0ZUludGVyZmFjZShcIklMb2dTY29wZVwiKTtcblxuY29uc3QgY3QgPSAvKkBfX1BVUkVfXyovIHIoe1xuICAgIGtleTogZ2V0QW5ub3RhdGlvbktleUZvcihcImxvZ2dlci1zaW5rLWhhbmRsZXNcIiksXG4gICAgZGVmaW5lKHQsIGUpIHtcbiAgICAgICAgbChlLmhhbmRsZXMsIHQsIHRoaXMua2V5KTtcbiAgICB9LFxuICAgIGdldEhhbmRsZXModCkge1xuICAgICAgICByZXR1cm4gbyh0aGlzLmtleSwgdC5jb25zdHJ1Y3Rvcik7XG4gICAgfVxufSk7XG5cbmNvbnN0IHNpbmsgPSB0ID0+IChlLCBuKSA9PiBuLmFkZEluaXRpYWxpemVyKChmdW5jdGlvbigpIHtcbiAgICBjdC5kZWZpbmUodGhpcywgdCk7XG59KSk7XG5cbmNvbnN0IGF0ID0gdG9Mb29rdXAoe1xuICAgIHJlZCh0KSB7XG4gICAgICAgIHJldHVybiBgXHUwMDFiWzMxbSR7dH1cdTAwMWJbMzltYDtcbiAgICB9LFxuICAgIGdyZWVuKHQpIHtcbiAgICAgICAgcmV0dXJuIGBcdTAwMWJbMzJtJHt0fVx1MDAxYlszOW1gO1xuICAgIH0sXG4gICAgeWVsbG93KHQpIHtcbiAgICAgICAgcmV0dXJuIGBcdTAwMWJbMzNtJHt0fVx1MDAxYlszOW1gO1xuICAgIH0sXG4gICAgYmx1ZSh0KSB7XG4gICAgICAgIHJldHVybiBgXHUwMDFiWzM0bSR7dH1cdTAwMWJbMzltYDtcbiAgICB9LFxuICAgIG1hZ2VudGEodCkge1xuICAgICAgICByZXR1cm4gYFx1MDAxYlszNW0ke3R9XHUwMDFiWzM5bWA7XG4gICAgfSxcbiAgICBjeWFuKHQpIHtcbiAgICAgICAgcmV0dXJuIGBcdTAwMWJbMzZtJHt0fVx1MDAxYlszOW1gO1xuICAgIH0sXG4gICAgd2hpdGUodCkge1xuICAgICAgICByZXR1cm4gYFx1MDAxYlszN20ke3R9XHUwMDFiWzM5bWA7XG4gICAgfSxcbiAgICBncmV5KHQpIHtcbiAgICAgICAgcmV0dXJuIGBcdTAwMWJbOTBtJHt0fVx1MDAxYlszOW1gO1xuICAgIH1cbn0pO1xuXG5jbGFzcyBMb2dDb25maWcge1xuICAgIGNvbnN0cnVjdG9yKHQsIGUpIHtcbiAgICAgICAgdGhpcy5jb2xvck9wdGlvbnMgPSB0O1xuICAgICAgICB0aGlzLmxldmVsID0gZTtcbiAgICB9XG59XG5cbmNvbnN0IHV0ID0gZnVuY3Rpb24oKSB7XG4gICAgY29uc3QgdCA9IHtcbiAgICAgICAgXCJuby1jb2xvcnNcIjogdG9Mb29rdXAoe1xuICAgICAgICAgICAgVFJDOiBcIlRSQ1wiLFxuICAgICAgICAgICAgREJHOiBcIkRCR1wiLFxuICAgICAgICAgICAgSU5GOiBcIklORlwiLFxuICAgICAgICAgICAgV1JOOiBcIldSTlwiLFxuICAgICAgICAgICAgRVJSOiBcIkVSUlwiLFxuICAgICAgICAgICAgRlRMOiBcIkZUTFwiLFxuICAgICAgICAgICAgUVFROiBcIj8/P1wiXG4gICAgICAgIH0pLFxuICAgICAgICBjb2xvcnM6IHRvTG9va3VwKHtcbiAgICAgICAgICAgIFRSQzogYXQuZ3JleShcIlRSQ1wiKSxcbiAgICAgICAgICAgIERCRzogYXQuZ3JleShcIkRCR1wiKSxcbiAgICAgICAgICAgIElORjogYXQud2hpdGUoXCJJTkZcIiksXG4gICAgICAgICAgICBXUk46IGF0LnllbGxvdyhcIldSTlwiKSxcbiAgICAgICAgICAgIEVSUjogYXQucmVkKFwiRVJSXCIpLFxuICAgICAgICAgICAgRlRMOiBhdC5yZWQoXCJGVExcIiksXG4gICAgICAgICAgICBRUVE6IGF0LmdyZXkoXCI/Pz9cIilcbiAgICAgICAgfSlcbiAgICB9O1xuICAgIHJldHVybiAoZSwgbikgPT4ge1xuICAgICAgICBpZiAoZSA8PSBxKSB7XG4gICAgICAgICAgICByZXR1cm4gdFtuXS5UUkM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGUgPD0gSikge1xuICAgICAgICAgICAgcmV0dXJuIHRbbl0uREJHO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlIDw9IFgpIHtcbiAgICAgICAgICAgIHJldHVybiB0W25dLklORjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZSA8PSBZKSB7XG4gICAgICAgICAgICByZXR1cm4gdFtuXS5XUk47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGUgPD0gWikge1xuICAgICAgICAgICAgcmV0dXJuIHRbbl0uRVJSO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlIDw9IHR0KSB7XG4gICAgICAgICAgICByZXR1cm4gdFtuXS5GVEw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRbbl0uUVFRO1xuICAgIH07XG59KCk7XG5cbmNvbnN0IGdldFNjb3BlU3RyaW5nID0gKHQsIGUpID0+IHtcbiAgICBpZiAoZSA9PT0gXCJuby1jb2xvcnNcIikge1xuICAgICAgICByZXR1cm4gdC5qb2luKFwiLlwiKTtcbiAgICB9XG4gICAgcmV0dXJuIHQubWFwKGF0LmN5YW4pLmpvaW4oXCIuXCIpO1xufTtcblxuY29uc3QgZ2V0SXNvU3RyaW5nID0gKHQsIGUpID0+IHtcbiAgICBpZiAoZSA9PT0gXCJuby1jb2xvcnNcIikge1xuICAgICAgICByZXR1cm4gbmV3IERhdGUodCkudG9JU09TdHJpbmcoKTtcbiAgICB9XG4gICAgcmV0dXJuIGF0LmdyZXkobmV3IERhdGUodCkudG9JU09TdHJpbmcoKSk7XG59O1xuXG5jbGFzcyBEZWZhdWx0TG9nRXZlbnQge1xuICAgIGNvbnN0cnVjdG9yKHQsIGUsIG4sIHIsIHMsIGkpIHtcbiAgICAgICAgdGhpcy5zZXZlcml0eSA9IHQ7XG4gICAgICAgIHRoaXMubWVzc2FnZSA9IGU7XG4gICAgICAgIHRoaXMub3B0aW9uYWxQYXJhbXMgPSBuO1xuICAgICAgICB0aGlzLnNjb3BlID0gcjtcbiAgICAgICAgdGhpcy5jb2xvck9wdGlvbnMgPSBzO1xuICAgICAgICB0aGlzLnRpbWVzdGFtcCA9IGk7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICBjb25zdCB7c2V2ZXJpdHk6IHQsIG1lc3NhZ2U6IGUsIHNjb3BlOiBuLCBjb2xvck9wdGlvbnM6IHIsIHRpbWVzdGFtcDogc30gPSB0aGlzO1xuICAgICAgICBpZiAobi5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBgJHtnZXRJc29TdHJpbmcocywgcil9IFske3V0KHQsIHIpfV0gJHtlfWA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGAke2dldElzb1N0cmluZyhzLCByKX0gWyR7dXQodCwgcil9ICR7Z2V0U2NvcGVTdHJpbmcobiwgcil9XSAke2V9YDtcbiAgICB9XG4gICAgZ2V0Rm9ybWF0dGVkTG9nSW5mbyh0ID0gZmFsc2UpIHtcbiAgICAgICAgY29uc3Qge3NldmVyaXR5OiBlLCBtZXNzYWdlOiBuLCBzY29wZTogciwgY29sb3JPcHRpb25zOiBzLCB0aW1lc3RhbXA6IGksIG9wdGlvbmFsUGFyYW1zOiBvfSA9IHRoaXM7XG4gICAgICAgIGxldCBsID0gbnVsbDtcbiAgICAgICAgbGV0IGMgPSBcIlwiO1xuICAgICAgICBpZiAodCAmJiBuIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgIGwgPSBuO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYyA9IG47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYSA9IHIubGVuZ3RoID09PSAwID8gXCJcIiA6IGAgJHtnZXRTY29wZVN0cmluZyhyLCBzKX1gO1xuICAgICAgICBsZXQgdSA9IGAke2dldElzb1N0cmluZyhpLCBzKX0gWyR7dXQoZSwgcyl9JHthfV0gJHtjfWA7XG4gICAgICAgIGlmIChvID09PSB2b2lkIDAgfHwgby5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBsID09PSBudWxsID8gWyB1IF0gOiBbIHUsIGwgXTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZiA9IDA7XG4gICAgICAgIHdoaWxlICh1LmluY2x1ZGVzKFwiJXNcIikpIHtcbiAgICAgICAgICAgIHUgPSB1LnJlcGxhY2UoXCIlc1wiLCBTdHJpbmcob1tmKytdKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGwgIT09IG51bGwgPyBbIHUsIGwsIC4uLm8uc2xpY2UoZikgXSA6IFsgdSwgLi4uby5zbGljZShmKSBdO1xuICAgIH1cbn1cblxuY2xhc3MgRGVmYXVsdExvZ0V2ZW50RmFjdG9yeSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuY29uZmlnID0gcmVzb2x2ZShydCk7XG4gICAgfVxuICAgIGNyZWF0ZUxvZ0V2ZW50KHQsIGUsIG4sIHIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEZWZhdWx0TG9nRXZlbnQoZSwgbiwgciwgdC5zY29wZSwgdGhpcy5jb25maWcuY29sb3JPcHRpb25zLCBEYXRlLm5vdygpKTtcbiAgICB9XG59XG5cbmNsYXNzIENvbnNvbGVTaW5rIHtcbiAgICBzdGF0aWMgcmVnaXN0ZXIodCkge1xuICAgICAgICBzaW5nbGV0b25SZWdpc3RyYXRpb24oc3QsIENvbnNvbGVTaW5rKS5yZWdpc3Rlcih0KTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IodCA9IHJlc29sdmUoUCkpIHtcbiAgICAgICAgY29uc3QgZSA9IHQuY29uc29sZTtcbiAgICAgICAgdGhpcy5oYW5kbGVFdmVudCA9IGZ1bmN0aW9uIGVtaXQodCkge1xuICAgICAgICAgICAgY29uc3QgbiA9IHQuZ2V0Rm9ybWF0dGVkTG9nSW5mbyh0cnVlKTtcbiAgICAgICAgICAgIHN3aXRjaCAodC5zZXZlcml0eSkge1xuICAgICAgICAgICAgICBjYXNlIHE6XG4gICAgICAgICAgICAgIGNhc2UgSjpcbiAgICAgICAgICAgICAgICByZXR1cm4gZS5kZWJ1ZyguLi5uKTtcblxuICAgICAgICAgICAgICBjYXNlIFg6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGUuaW5mbyguLi5uKTtcblxuICAgICAgICAgICAgICBjYXNlIFk6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGUud2FybiguLi5uKTtcblxuICAgICAgICAgICAgICBjYXNlIFo6XG4gICAgICAgICAgICAgIGNhc2UgdHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGUuZXJyb3IoLi4ubik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxufVxuXG5sZXQgZnQgPSAoKCkgPT4ge1xuICAgIHZhciB0O1xuICAgIGxldCBlID0gW107XG4gICAgbGV0IG47XG4gICAgbGV0IHI7XG4gICAgbGV0IHM7XG4gICAgbGV0IGk7XG4gICAgbGV0IG87XG4gICAgbGV0IGw7XG4gICAgcmV0dXJuIHQgPSBjbGFzcyBEZWZhdWx0TG9nZ2VyIHtcbiAgICAgICAgY29uc3RydWN0b3IodCA9IHJlc29sdmUocnQpLCBuID0gcmVzb2x2ZShpdCksIHIgPSByZXNvbHZlKGFsbChzdCkpLCBzID0gcmVzb2x2ZShOKGx0KSkgPz8gW10sIGkgPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLnNjb3BlID0gKF9fcnVuSW5pdGlhbGl6ZXJzKHRoaXMsIGUpLCBzKTtcbiAgICAgICAgICAgIHRoaXMuXyA9IGNyZWF0ZUxvb2t1cCgpO1xuICAgICAgICAgICAgbGV0IG87XG4gICAgICAgICAgICBsZXQgbDtcbiAgICAgICAgICAgIGxldCBjO1xuICAgICAgICAgICAgbGV0IGE7XG4gICAgICAgICAgICBsZXQgdTtcbiAgICAgICAgICAgIGxldCBmO1xuICAgICAgICAgICAgdGhpcy5jb25maWcgPSB0O1xuICAgICAgICAgICAgdGhpcy5mID0gbjtcbiAgICAgICAgICAgIHRoaXMuc2lua3MgPSByO1xuICAgICAgICAgICAgaWYgKGkgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJvb3QgPSB0aGlzO1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50ID0gdGhpcztcbiAgICAgICAgICAgICAgICBvID0gdGhpcy5NID0gW107XG4gICAgICAgICAgICAgICAgbCA9IHRoaXMuVCA9IFtdO1xuICAgICAgICAgICAgICAgIGMgPSB0aGlzLlAgPSBbXTtcbiAgICAgICAgICAgICAgICBhID0gdGhpcy5LID0gW107XG4gICAgICAgICAgICAgICAgdSA9IHRoaXMuTiA9IFtdO1xuICAgICAgICAgICAgICAgIGYgPSB0aGlzLkcgPSBbXTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHQgb2Ygcikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlID0gY3QuZ2V0SGFuZGxlcyh0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGU/LmluY2x1ZGVzKHEpID8/IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG8ucHVzaCh0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoZT8uaW5jbHVkZXMoSikgPz8gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbC5wdXNoKHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChlPy5pbmNsdWRlcyhYKSA/PyB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjLnB1c2godCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGU/LmluY2x1ZGVzKFkpID8/IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGEucHVzaCh0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoZT8uaW5jbHVkZXMoWikgPz8gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdS5wdXNoKHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChlPy5pbmNsdWRlcyh0dCkgPz8gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZi5wdXNoKHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJvb3QgPSBpLnJvb3Q7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQgPSBpO1xuICAgICAgICAgICAgICAgIG8gPSB0aGlzLk0gPSBpLk07XG4gICAgICAgICAgICAgICAgbCA9IHRoaXMuVCA9IGkuVDtcbiAgICAgICAgICAgICAgICBjID0gdGhpcy5QID0gaS5QO1xuICAgICAgICAgICAgICAgIGEgPSB0aGlzLksgPSBpLks7XG4gICAgICAgICAgICAgICAgdSA9IHRoaXMuTiA9IGkuTjtcbiAgICAgICAgICAgICAgICBmID0gdGhpcy5HID0gaS5HO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRyYWNlKHQsIC4uLmUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbmZpZy5sZXZlbCA8PSBxKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5XKHRoaXMuTSwgcSwgdCwgZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZGVidWcodCwgLi4uZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuY29uZmlnLmxldmVsIDw9IEopIHtcbiAgICAgICAgICAgICAgICB0aGlzLlcodGhpcy5ULCBKLCB0LCBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpbmZvKHQsIC4uLmUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbmZpZy5sZXZlbCA8PSBYKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5XKHRoaXMuUCwgWCwgdCwgZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgd2Fybih0LCAuLi5lKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jb25maWcubGV2ZWwgPD0gWSkge1xuICAgICAgICAgICAgICAgIHRoaXMuVyh0aGlzLkssIFksIHQsIGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVycm9yKHQsIC4uLmUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbmZpZy5sZXZlbCA8PSBaKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5XKHRoaXMuTiwgWiwgdCwgZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZmF0YWwodCwgLi4uZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuY29uZmlnLmxldmVsIDw9IHR0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5XKHRoaXMuRywgdHQsIHQsIGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHNjb3BlVG8oZSkge1xuICAgICAgICAgICAgY29uc3QgbiA9IHRoaXMuXztcbiAgICAgICAgICAgIGxldCByID0gbltlXTtcbiAgICAgICAgICAgIGlmIChyID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICByID0gbltlXSA9IG5ldyB0KHRoaXMuY29uZmlnLCB0aGlzLmYsIG51bGwsIHRoaXMuc2NvcGUuY29uY2F0KGUpLCB0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByO1xuICAgICAgICB9XG4gICAgICAgIFcodCwgZSwgbiwgcikge1xuICAgICAgICAgICAgY29uc3QgcyA9IGlzRnVuY3Rpb24obikgPyBuKCkgOiBuO1xuICAgICAgICAgICAgY29uc3QgaSA9IHRoaXMuZi5jcmVhdGVMb2dFdmVudCh0aGlzLCBlLCBzLCByKTtcbiAgICAgICAgICAgIGZvciAobGV0IGUgPSAwLCBuID0gdC5sZW5ndGg7IGUgPCBuOyArK2UpIHtcbiAgICAgICAgICAgICAgICB0W2VdLmhhbmRsZUV2ZW50KGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwgKCgpID0+IHtcbiAgICAgICAgY29uc3QgYyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wubWV0YWRhdGEgPyBPYmplY3QuY3JlYXRlKG51bGwpIDogdm9pZCAwO1xuICAgICAgICBuID0gWyBib3VuZCBdO1xuICAgICAgICByID0gWyBib3VuZCBdO1xuICAgICAgICBzID0gWyBib3VuZCBdO1xuICAgICAgICBpID0gWyBib3VuZCBdO1xuICAgICAgICBvID0gWyBib3VuZCBdO1xuICAgICAgICBsID0gWyBib3VuZCBdO1xuICAgICAgICBfX2VzRGVjb3JhdGUodCwgbnVsbCwgbiwge1xuICAgICAgICAgICAga2luZDogXCJtZXRob2RcIixcbiAgICAgICAgICAgIG5hbWU6IFwidHJhY2VcIixcbiAgICAgICAgICAgIHN0YXRpYzogZmFsc2UsXG4gICAgICAgICAgICBwcml2YXRlOiBmYWxzZSxcbiAgICAgICAgICAgIGFjY2Vzczoge1xuICAgICAgICAgICAgICAgIGhhczogdCA9PiBcInRyYWNlXCIgaW4gdCxcbiAgICAgICAgICAgICAgICBnZXQ6IHQgPT4gdC50cmFjZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG1ldGFkYXRhOiBjXG4gICAgICAgIH0sIG51bGwsIGUpO1xuICAgICAgICBfX2VzRGVjb3JhdGUodCwgbnVsbCwgciwge1xuICAgICAgICAgICAga2luZDogXCJtZXRob2RcIixcbiAgICAgICAgICAgIG5hbWU6IFwiZGVidWdcIixcbiAgICAgICAgICAgIHN0YXRpYzogZmFsc2UsXG4gICAgICAgICAgICBwcml2YXRlOiBmYWxzZSxcbiAgICAgICAgICAgIGFjY2Vzczoge1xuICAgICAgICAgICAgICAgIGhhczogdCA9PiBcImRlYnVnXCIgaW4gdCxcbiAgICAgICAgICAgICAgICBnZXQ6IHQgPT4gdC5kZWJ1Z1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG1ldGFkYXRhOiBjXG4gICAgICAgIH0sIG51bGwsIGUpO1xuICAgICAgICBfX2VzRGVjb3JhdGUodCwgbnVsbCwgcywge1xuICAgICAgICAgICAga2luZDogXCJtZXRob2RcIixcbiAgICAgICAgICAgIG5hbWU6IFwiaW5mb1wiLFxuICAgICAgICAgICAgc3RhdGljOiBmYWxzZSxcbiAgICAgICAgICAgIHByaXZhdGU6IGZhbHNlLFxuICAgICAgICAgICAgYWNjZXNzOiB7XG4gICAgICAgICAgICAgICAgaGFzOiB0ID0+IFwiaW5mb1wiIGluIHQsXG4gICAgICAgICAgICAgICAgZ2V0OiB0ID0+IHQuaW5mb1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG1ldGFkYXRhOiBjXG4gICAgICAgIH0sIG51bGwsIGUpO1xuICAgICAgICBfX2VzRGVjb3JhdGUodCwgbnVsbCwgaSwge1xuICAgICAgICAgICAga2luZDogXCJtZXRob2RcIixcbiAgICAgICAgICAgIG5hbWU6IFwid2FyblwiLFxuICAgICAgICAgICAgc3RhdGljOiBmYWxzZSxcbiAgICAgICAgICAgIHByaXZhdGU6IGZhbHNlLFxuICAgICAgICAgICAgYWNjZXNzOiB7XG4gICAgICAgICAgICAgICAgaGFzOiB0ID0+IFwid2FyblwiIGluIHQsXG4gICAgICAgICAgICAgICAgZ2V0OiB0ID0+IHQud2FyblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG1ldGFkYXRhOiBjXG4gICAgICAgIH0sIG51bGwsIGUpO1xuICAgICAgICBfX2VzRGVjb3JhdGUodCwgbnVsbCwgbywge1xuICAgICAgICAgICAga2luZDogXCJtZXRob2RcIixcbiAgICAgICAgICAgIG5hbWU6IFwiZXJyb3JcIixcbiAgICAgICAgICAgIHN0YXRpYzogZmFsc2UsXG4gICAgICAgICAgICBwcml2YXRlOiBmYWxzZSxcbiAgICAgICAgICAgIGFjY2Vzczoge1xuICAgICAgICAgICAgICAgIGhhczogdCA9PiBcImVycm9yXCIgaW4gdCxcbiAgICAgICAgICAgICAgICBnZXQ6IHQgPT4gdC5lcnJvclxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG1ldGFkYXRhOiBjXG4gICAgICAgIH0sIG51bGwsIGUpO1xuICAgICAgICBfX2VzRGVjb3JhdGUodCwgbnVsbCwgbCwge1xuICAgICAgICAgICAga2luZDogXCJtZXRob2RcIixcbiAgICAgICAgICAgIG5hbWU6IFwiZmF0YWxcIixcbiAgICAgICAgICAgIHN0YXRpYzogZmFsc2UsXG4gICAgICAgICAgICBwcml2YXRlOiBmYWxzZSxcbiAgICAgICAgICAgIGFjY2Vzczoge1xuICAgICAgICAgICAgICAgIGhhczogdCA9PiBcImZhdGFsXCIgaW4gdCxcbiAgICAgICAgICAgICAgICBnZXQ6IHQgPT4gdC5mYXRhbFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG1ldGFkYXRhOiBjXG4gICAgICAgIH0sIG51bGwsIGUpO1xuICAgICAgICBpZiAoYykgT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIFN5bWJvbC5tZXRhZGF0YSwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IGNcbiAgICAgICAgfSk7XG4gICAgfSkoKSwgdDtcbn0pKCk7XG5cbmNvbnN0IGh0ID0gLypAX19QVVJFX18qLyB0b0xvb2t1cCh7XG4gICAgY3JlYXRlKHtsZXZlbDogdCA9IFksIGNvbG9yT3B0aW9uczogZSA9IFwibm8tY29sb3JzXCIsIHNpbmtzOiBuID0gW119ID0ge30pIHtcbiAgICAgICAgcmV0dXJuIHRvTG9va3VwKHtcbiAgICAgICAgICAgIHJlZ2lzdGVyKHIpIHtcbiAgICAgICAgICAgICAgICByLnJlZ2lzdGVyKGluc3RhbmNlUmVnaXN0cmF0aW9uKHJ0LCBuZXcgTG9nQ29uZmlnKGUsIHQpKSk7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCB0IG9mIG4pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24odCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHIucmVnaXN0ZXIoc2luZ2xldG9uUmVnaXN0cmF0aW9uKHN0LCB0KSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByLnJlZ2lzdGVyKHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiByO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59KTtcblxuY29uc3QgZHQgPSAvKkBfX1BVUkVfXyovIGNyZWF0ZUludGVyZmFjZSgodCA9PiB0LnNpbmdsZXRvbihNb2R1bGVMb2FkZXIpKSk7XG5cbmNvbnN0IG5vVHJhbnNmb3JtID0gdCA9PiB0O1xuXG5jbGFzcyBNb2R1bGVUcmFuc2Zvcm1lciB7XG4gICAgY29uc3RydWN0b3IodCkge1xuICAgICAgICB0aGlzLkIgPSBuZXcgTWFwO1xuICAgICAgICB0aGlzLlUgPSBuZXcgTWFwO1xuICAgICAgICB0aGlzLkggPSB0O1xuICAgIH1cbiAgICB0cmFuc2Zvcm0odCkge1xuICAgICAgICBpZiAodCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLlYodCk7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHQgPT09IFwib2JqZWN0XCIgJiYgdCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucSh0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZU1hcHBlZEVycm9yKDIxLCB0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBWKHQpIHtcbiAgICAgICAgaWYgKHRoaXMuQi5oYXModCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLkIuZ2V0KHQpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGUgPSB0LnRoZW4oKHQgPT4gdGhpcy5xKHQpKSk7XG4gICAgICAgIHRoaXMuQi5zZXQodCwgZSk7XG4gICAgICAgIHZvaWQgZS50aGVuKChlID0+IHtcbiAgICAgICAgICAgIHRoaXMuQi5zZXQodCwgZSk7XG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuIGU7XG4gICAgfVxuICAgIHEodCkge1xuICAgICAgICBpZiAodGhpcy5VLmhhcyh0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuVS5nZXQodCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZSA9IHRoaXMuSCh0aGlzLkoodCkpO1xuICAgICAgICB0aGlzLlUuc2V0KHQsIGUpO1xuICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgIHZvaWQgZS50aGVuKChlID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLlUuc2V0KHQsIGUpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlO1xuICAgIH1cbiAgICBKKHQpIHtcbiAgICAgICAgaWYgKHQgPT0gbnVsbCkgdGhyb3cgY3JlYXRlTWFwcGVkRXJyb3IoMjEsIHQpO1xuICAgICAgICBpZiAodHlwZW9mIHQgIT09IFwib2JqZWN0XCIpIHJldHVybiBuZXcgQW5hbHl6ZWRNb2R1bGUodCwgW10pO1xuICAgICAgICBsZXQgZTtcbiAgICAgICAgbGV0IG47XG4gICAgICAgIGxldCByO1xuICAgICAgICBsZXQgcztcbiAgICAgICAgY29uc3QgaSA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IGwgaW4gdCkge1xuICAgICAgICAgICAgc3dpdGNoICh0eXBlb2YgKGUgPSB0W2xdKSkge1xuICAgICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgICAgICAgICAgaWYgKGUgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG4gPSBpc0Z1bmN0aW9uKGUucmVnaXN0ZXIpO1xuICAgICAgICAgICAgICAgIHIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBzID0gbnVsbDtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgICAgICAgICAgICBuID0gaXNGdW5jdGlvbihlLnJlZ2lzdGVyKTtcbiAgICAgICAgICAgICAgICByID0gZS5wcm90b3R5cGUgIT09IHZvaWQgMDtcbiAgICAgICAgICAgICAgICBzID0gbyhSLCBlKSA/PyBudWxsO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpLnB1c2gobmV3IE1vZHVsZUl0ZW0obCwgZSwgbiwgciwgcykpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgQW5hbHl6ZWRNb2R1bGUodCwgaSk7XG4gICAgfVxufVxuXG5jbGFzcyBNb2R1bGVMb2FkZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnRyYW5zZm9ybWVycyA9IG5ldyBNYXA7XG4gICAgfVxuICAgIGxvYWQodCwgZSA9IG5vVHJhbnNmb3JtKSB7XG4gICAgICAgIGNvbnN0IG4gPSB0aGlzLnRyYW5zZm9ybWVycztcbiAgICAgICAgbGV0IHIgPSBuLmdldChlKTtcbiAgICAgICAgaWYgKHIgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgbi5zZXQoZSwgciA9IG5ldyBNb2R1bGVUcmFuc2Zvcm1lcihlKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHIudHJhbnNmb3JtKHQpO1xuICAgIH1cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICB0aGlzLnRyYW5zZm9ybWVycy5jbGVhcigpO1xuICAgIH1cbn1cblxuY2xhc3MgQW5hbHl6ZWRNb2R1bGUge1xuICAgIGNvbnN0cnVjdG9yKHQsIGUpIHtcbiAgICAgICAgdGhpcy5yYXcgPSB0O1xuICAgICAgICB0aGlzLml0ZW1zID0gZTtcbiAgICB9XG59XG5cbmNsYXNzIE1vZHVsZUl0ZW0ge1xuICAgIGNvbnN0cnVjdG9yKHQsIGUsIG4sIHIsIHMpIHtcbiAgICAgICAgdGhpcy5rZXkgPSB0O1xuICAgICAgICB0aGlzLnZhbHVlID0gZTtcbiAgICAgICAgdGhpcy5pc1JlZ2lzdHJ5ID0gbjtcbiAgICAgICAgdGhpcy5pc0NvbnN0cnVjdGFibGUgPSByO1xuICAgICAgICB0aGlzLmRlZmluaXRpb24gPSBzO1xuICAgIH1cbn1cblxuY29uc3QgYWxpYXNlZFJlc291cmNlc1JlZ2lzdHJ5ID0gKHQsIGUsIG4gPSB7fSkgPT4gKHtcbiAgICByZWdpc3RlcihyKSB7XG4gICAgICAgIGNvbnN0IHMgPSByLmdldChkdCkubG9hZCh0KTtcbiAgICAgICAgbGV0IGkgPSBmYWxzZTtcbiAgICAgICAgcy5pdGVtcy5mb3JFYWNoKCh0ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHMgPSB0LmRlZmluaXRpb247XG4gICAgICAgICAgICBpZiAocyA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgci5yZWdpc3Rlcih0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWkgJiYgZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaSA9IHRydWU7XG4gICAgICAgICAgICAgICAgcy5yZWdpc3RlcihyLCBlKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBvID0gbltzLm5hbWVdO1xuICAgICAgICAgICAgcy5yZWdpc3RlcihyLCBvKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbn0pO1xuXG5jbGFzcyBIYW5kbGVyIHtcbiAgICBjb25zdHJ1Y3Rvcih0LCBlKSB7XG4gICAgICAgIHRoaXMudHlwZSA9IHQ7XG4gICAgICAgIHRoaXMuY2IgPSBlO1xuICAgIH1cbiAgICBoYW5kbGUodCkge1xuICAgICAgICBpZiAodCBpbnN0YW5jZW9mIHRoaXMudHlwZSkge1xuICAgICAgICAgICAgdGhpcy5jYi5jYWxsKG51bGwsIHQpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5jb25zdCB2dCA9IC8qQF9fUFVSRV9fKi8gY3JlYXRlSW50ZXJmYWNlKFwiSUV2ZW50QWdncmVnYXRvclwiLCAodCA9PiB0LnNpbmdsZXRvbihFdmVudEFnZ3JlZ2F0b3IpKSk7XG5cbmNsYXNzIEV2ZW50QWdncmVnYXRvciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuZXZlbnRMb29rdXAgPSB7fTtcbiAgICAgICAgdGhpcy5tZXNzYWdlSGFuZGxlcnMgPSBbXTtcbiAgICB9XG4gICAgcHVibGlzaCh0LCBlKSB7XG4gICAgICAgIGlmICghdCkge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlTWFwcGVkRXJyb3IoMTgsIHQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1N0cmluZyh0KSkge1xuICAgICAgICAgICAgbGV0IG4gPSB0aGlzLmV2ZW50TG9va3VwW3RdO1xuICAgICAgICAgICAgaWYgKG4gIT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgIG4gPSBuLnNsaWNlKCk7XG4gICAgICAgICAgICAgICAgbGV0IHIgPSBuLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB3aGlsZSAoci0tID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBuW3JdKGUsIHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGUgPSB0aGlzLm1lc3NhZ2VIYW5kbGVycy5zbGljZSgpO1xuICAgICAgICAgICAgbGV0IG4gPSBlLmxlbmd0aDtcbiAgICAgICAgICAgIHdoaWxlIChuLS0gPiAwKSB7XG4gICAgICAgICAgICAgICAgZVtuXS5oYW5kbGUodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3Vic2NyaWJlKHQsIGUpIHtcbiAgICAgICAgaWYgKCF0KSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVNYXBwZWRFcnJvcigxOSwgdCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG47XG4gICAgICAgIGxldCByO1xuICAgICAgICBpZiAoaXNTdHJpbmcodCkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmV2ZW50TG9va3VwW3RdID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50TG9va3VwW3RdID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuID0gZTtcbiAgICAgICAgICAgIHIgPSB0aGlzLmV2ZW50TG9va3VwW3RdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbiA9IG5ldyBIYW5kbGVyKHQsIGUpO1xuICAgICAgICAgICAgciA9IHRoaXMubWVzc2FnZUhhbmRsZXJzO1xuICAgICAgICB9XG4gICAgICAgIHIucHVzaChuKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdCA9IHIuaW5kZXhPZihuKTtcbiAgICAgICAgICAgICAgICBpZiAodCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgci5zcGxpY2UodCwgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICBzdWJzY3JpYmVPbmNlKHQsIGUpIHtcbiAgICAgICAgY29uc3QgbiA9IHRoaXMuc3Vic2NyaWJlKHQsICgodCwgcikgPT4ge1xuICAgICAgICAgICAgbi5kaXNwb3NlKCk7XG4gICAgICAgICAgICBlKHQsIHIpO1xuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybiBuO1xuICAgIH1cbn1cblxuZXhwb3J0IHsgQW5hbHl6ZWRNb2R1bGUsIENvbnNvbGVTaW5rLCBDb250YWluZXJDb25maWd1cmF0aW9uLCBMIGFzIERJLCBEZWZhdWx0TG9nRXZlbnQsIERlZmF1bHRMb2dFdmVudEZhY3RvcnksIGZ0IGFzIERlZmF1bHRMb2dnZXIsIEQgYXMgRGVmYXVsdFJlc29sdmVyLCBFdmVudEFnZ3JlZ2F0b3IsIGogYXMgSUNvbnRhaW5lciwgdnQgYXMgSUV2ZW50QWdncmVnYXRvciwgcnQgYXMgSUxvZ0NvbmZpZywgaXQgYXMgSUxvZ0V2ZW50RmFjdG9yeSwgb3QgYXMgSUxvZ2dlciwgZHQgYXMgSU1vZHVsZUxvYWRlciwgUCBhcyBJUGxhdGZvcm0sIEYgYXMgSVNlcnZpY2VMb2NhdG9yLCBzdCBhcyBJU2luaywgSW5zdGFuY2VQcm92aWRlciwgTG9nQ29uZmlnLCBudCBhcyBMb2dMZXZlbCwgaHQgYXMgTG9nZ2VyQ29uZmlndXJhdGlvbiwgTW9kdWxlSXRlbSwgYiBhcyBQcm90b2NvbCwgdyBhcyBSZWdpc3RyYXRpb24sIGFsaWFzZWRSZXNvdXJjZXNSZWdpc3RyeSwgYWxsLCBVIGFzIGFsbFJlc291cmNlcywgYyBhcyBhcmVFcXVhbCwgYm91bmQsIGYgYXMgY2FtZWxDYXNlLCBjcmVhdGVJbXBsZW1lbnRhdGlvblJlZ2lzdGVyLCBjcmVhdGVMb29rdXAsIGNyZWF0ZVJlc29sdmVyLCBNIGFzIGVtcHR5QXJyYXksIFQgYXMgZW1wdHlPYmplY3QsIEcgYXMgZmFjdG9yeSwgZmlyc3REZWZpbmVkLCBhdCBhcyBmb3JtYXQsIGZyb21Bbm5vdGF0aW9uT3JEZWZpbml0aW9uT3JUeXBlT3JEZWZhdWx0LCBmcm9tQW5ub3RhdGlvbk9yVHlwZU9yRGVmYXVsdCwgZnJvbURlZmluaXRpb25PckRlZmF1bHQsIHYgYXMgZ2V0UHJvdG90eXBlQ2hhaW4sIGdldFJlc291cmNlS2V5Rm9yLCB6IGFzIGlnbm9yZSwgaW5qZWN0LCBpc0FycmF5LCBhIGFzIGlzQXJyYXlJbmRleCwgaXNGdW5jdGlvbiwgaXNNYXAsIGcgYXMgaXNOYXRpdmVGdW5jdGlvbiwgaXNOdW1iZXIsIGlzT2JqZWN0LCBpc1Byb21pc2UsIGlzU2V0LCBpc1N0cmluZywgaXNTeW1ib2wsIGQgYXMga2ViYWJDYXNlLCBsYXN0LCBLIGFzIGxhenksIG1lcmdlQXJyYXlzLCB4IGFzIG5ld0luc3RhbmNlRm9yU2NvcGUsIEggYXMgbmV3SW5zdGFuY2VPZiwgbm9vcCwgb25SZXNvbHZlLCBvblJlc29sdmVBbGwsIE4gYXMgb3B0aW9uYWwsIFEgYXMgb3B0aW9uYWxSZXNvdXJjZSwgVyBhcyBvd24sIGggYXMgcGFzY2FsQ2FzZSwgQyBhcyByZWdpc3RyYWJsZU1ldGFkYXRhS2V5LCByZXNvbHZlLCBCIGFzIHJlc291cmNlLCBSIGFzIHJlc291cmNlQmFzZU5hbWUsIHNpbmdsZXRvbiwgc2luaywgdG9BcnJheSwgdHJhbnNpZW50IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/kernel/dist/esm/index.mjs\n\n}");

/***/ },

/***/ "./node_modules/@aurelia/metadata/dist/esm/index.mjs"
/*!***********************************************************!*\
  !*** ./node_modules/@aurelia/metadata/dist/esm/index.mjs ***!
  \***********************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Metadata: () => (/* binding */ e),\n/* harmony export */   initializeTC39Metadata: () => (/* binding */ initializeTC39Metadata),\n/* harmony export */   isNullOrUndefined: () => (/* binding */ isNullOrUndefined),\n/* harmony export */   isObject: () => (/* binding */ isObject)\n/* harmony export */ });\nfunction initializeTC39Metadata() {\n    Symbol.metadata ??= Symbol.for(\"Symbol.metadata\");\n}\n\nfunction isObject(e) {\n    return typeof e === \"object\" && e !== null || typeof e === \"function\";\n}\n\nfunction isNullOrUndefined(e) {\n    return e === null || e === void 0;\n}\n\nconst e = {\n    get(e, t) {\n        return t[Symbol.metadata]?.[e];\n    },\n    define(e, t, ...n) {\n        let l = Object.getOwnPropertyDescriptor(t, Symbol.metadata)?.value;\n        if (l == null) {\n            Object.defineProperty(t, Symbol.metadata, {\n                value: l = Object.create(null),\n                enumerable: true,\n                configurable: true,\n                writable: true\n            });\n        }\n        const r = n.length;\n        switch (r) {\n          case 0:\n            throw new Error(\"At least one key must be provided\");\n\n          case 1:\n            l[n[0]] = e;\n            return;\n\n          case 2:\n            l[n[0]] = l[n[1]] = e;\n            return;\n\n          default:\n            {\n                for (let t = 0; t < r; ++t) {\n                    l[n[t]] = e;\n                }\n                return;\n            }\n        }\n    },\n    has(e, t) {\n        const n = t[Symbol.metadata];\n        return n == null ? false : e in n;\n    },\n    delete(e, t) {\n        const n = t[Symbol.metadata];\n        if (n == null) return;\n        Reflect.deleteProperty(n, e);\n        return;\n    }\n};\n\n\n//# sourceMappingURL=index.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvbWV0YWRhdGEvZGlzdC9lc20vaW5kZXgubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGdDQUFnQyxPQUFPO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUU4RTtBQUM5RSIsInNvdXJjZXMiOlsid2VicGFjazovL3JldHJvYXBwLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXVyZWxpYS9tZXRhZGF0YS9kaXN0L2VzbS9pbmRleC5tanM/MTY3OCJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBpbml0aWFsaXplVEMzOU1ldGFkYXRhKCkge1xuICAgIFN5bWJvbC5tZXRhZGF0YSA/Pz0gU3ltYm9sLmZvcihcIlN5bWJvbC5tZXRhZGF0YVwiKTtcbn1cblxuZnVuY3Rpb24gaXNPYmplY3QoZSkge1xuICAgIHJldHVybiB0eXBlb2YgZSA9PT0gXCJvYmplY3RcIiAmJiBlICE9PSBudWxsIHx8IHR5cGVvZiBlID09PSBcImZ1bmN0aW9uXCI7XG59XG5cbmZ1bmN0aW9uIGlzTnVsbE9yVW5kZWZpbmVkKGUpIHtcbiAgICByZXR1cm4gZSA9PT0gbnVsbCB8fCBlID09PSB2b2lkIDA7XG59XG5cbmNvbnN0IGUgPSB7XG4gICAgZ2V0KGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIHRbU3ltYm9sLm1ldGFkYXRhXT8uW2VdO1xuICAgIH0sXG4gICAgZGVmaW5lKGUsIHQsIC4uLm4pIHtcbiAgICAgICAgbGV0IGwgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsIFN5bWJvbC5tZXRhZGF0YSk/LnZhbHVlO1xuICAgICAgICBpZiAobCA9PSBudWxsKSB7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodCwgU3ltYm9sLm1ldGFkYXRhLCB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IGwgPSBPYmplY3QuY3JlYXRlKG51bGwpLFxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByID0gbi5sZW5ndGg7XG4gICAgICAgIHN3aXRjaCAocikge1xuICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkF0IGxlYXN0IG9uZSBrZXkgbXVzdCBiZSBwcm92aWRlZFwiKTtcblxuICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIGxbblswXV0gPSBlO1xuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgbFtuWzBdXSA9IGxbblsxXV0gPSBlO1xuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCB0ID0gMDsgdCA8IHI7ICsrdCkge1xuICAgICAgICAgICAgICAgICAgICBsW25bdF1dID0gZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcbiAgICBoYXMoZSwgdCkge1xuICAgICAgICBjb25zdCBuID0gdFtTeW1ib2wubWV0YWRhdGFdO1xuICAgICAgICByZXR1cm4gbiA9PSBudWxsID8gZmFsc2UgOiBlIGluIG47XG4gICAgfSxcbiAgICBkZWxldGUoZSwgdCkge1xuICAgICAgICBjb25zdCBuID0gdFtTeW1ib2wubWV0YWRhdGFdO1xuICAgICAgICBpZiAobiA9PSBudWxsKSByZXR1cm47XG4gICAgICAgIFJlZmxlY3QuZGVsZXRlUHJvcGVydHkobiwgZSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG59O1xuXG5leHBvcnQgeyBlIGFzIE1ldGFkYXRhLCBpbml0aWFsaXplVEMzOU1ldGFkYXRhLCBpc051bGxPclVuZGVmaW5lZCwgaXNPYmplY3QgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/metadata/dist/esm/index.mjs\n\n}");

/***/ },

/***/ "./node_modules/@aurelia/platform-browser/dist/esm/index.mjs"
/*!*******************************************************************!*\
  !*** ./node_modules/@aurelia/platform-browser/dist/esm/index.mjs ***!
  \*******************************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BrowserPlatform: () => (/* binding */ BrowserPlatform)\n/* harmony export */ });\n/* harmony import */ var _aurelia_platform__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/platform */ \"./node_modules/@aurelia/platform/dist/esm/index.mjs\");\n\n\nclass BrowserPlatform extends _aurelia_platform__WEBPACK_IMPORTED_MODULE_0__.Platform {\n    static getOrCreate(e, t = {}) {\n        let r = BrowserPlatform.t.get(e);\n        if (r === void 0) {\n            BrowserPlatform.t.set(e, r = new BrowserPlatform(e, t));\n        }\n        return r;\n    }\n    static set(e, t) {\n        BrowserPlatform.t.set(e, t);\n    }\n    get domWriteQueue() {\n        return this.domQueue;\n    }\n    get domReadQueue() {\n        return this.domQueue;\n    }\n    constructor(e, r = {}) {\n        super(e, r);\n        const notImplemented = e => () => {\n            throw new Error(`The PLATFORM did not receive a valid reference to the global function '${e}'.`);\n        };\n        (\"Node Element HTMLElement CustomEvent CSSStyleSheet ShadowRoot MutationObserver \" + \"window document customElements\").split(\" \").forEach((t => this[t] = t in r ? r[t] : e[t]));\n        \"fetch requestAnimationFrame cancelAnimationFrame\".split(\" \").forEach((t => this[t] = t in r ? r[t] : e[t]?.bind(e) ?? notImplemented(t)));\n        this.domQueue = (() => {\n            let e = false;\n            let r = -1;\n            const requestDomFlush = () => {\n                e = true;\n                if (r === -1) {\n                    r = this.requestAnimationFrame(flushDomQueue);\n                }\n            };\n            const cancelDomFlush = () => {\n                e = false;\n                if (r > -1) {\n                    this.cancelAnimationFrame(r);\n                    r = -1;\n                }\n            };\n            const flushDomQueue = () => {\n                r = -1;\n                if (e === true) {\n                    e = false;\n                    o.flush();\n                }\n            };\n            const o = new _aurelia_platform__WEBPACK_IMPORTED_MODULE_0__.TaskQueue(this, requestDomFlush, cancelDomFlush);\n            return o;\n        })();\n    }\n}\n\nBrowserPlatform.t = new WeakMap;\n\n\n//# sourceMappingURL=index.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcGxhdGZvcm0tYnJvd3Nlci9kaXN0L2VzbS9pbmRleC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBa0U7O0FBRWxFLDhCQUE4Qix1REFBQztBQUMvQixnQ0FBZ0M7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQSxzR0FBc0csRUFBRTtBQUN4RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLHdEQUFDO0FBQzNCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7O0FBRTJCO0FBQzNCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmV0cm9hcHAtY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhdXJlbGlhL3BsYXRmb3JtLWJyb3dzZXIvZGlzdC9lc20vaW5kZXgubWpzP2IzNzMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGxhdGZvcm0gYXMgZSwgVGFza1F1ZXVlIGFzIHQgfSBmcm9tIFwiQGF1cmVsaWEvcGxhdGZvcm1cIjtcblxuY2xhc3MgQnJvd3NlclBsYXRmb3JtIGV4dGVuZHMgZSB7XG4gICAgc3RhdGljIGdldE9yQ3JlYXRlKGUsIHQgPSB7fSkge1xuICAgICAgICBsZXQgciA9IEJyb3dzZXJQbGF0Zm9ybS50LmdldChlKTtcbiAgICAgICAgaWYgKHIgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgQnJvd3NlclBsYXRmb3JtLnQuc2V0KGUsIHIgPSBuZXcgQnJvd3NlclBsYXRmb3JtKGUsIHQpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcjtcbiAgICB9XG4gICAgc3RhdGljIHNldChlLCB0KSB7XG4gICAgICAgIEJyb3dzZXJQbGF0Zm9ybS50LnNldChlLCB0KTtcbiAgICB9XG4gICAgZ2V0IGRvbVdyaXRlUXVldWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRvbVF1ZXVlO1xuICAgIH1cbiAgICBnZXQgZG9tUmVhZFF1ZXVlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kb21RdWV1ZTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoZSwgciA9IHt9KSB7XG4gICAgICAgIHN1cGVyKGUsIHIpO1xuICAgICAgICBjb25zdCBub3RJbXBsZW1lbnRlZCA9IGUgPT4gKCkgPT4ge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUaGUgUExBVEZPUk0gZGlkIG5vdCByZWNlaXZlIGEgdmFsaWQgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWwgZnVuY3Rpb24gJyR7ZX0nLmApO1xuICAgICAgICB9O1xuICAgICAgICAoXCJOb2RlIEVsZW1lbnQgSFRNTEVsZW1lbnQgQ3VzdG9tRXZlbnQgQ1NTU3R5bGVTaGVldCBTaGFkb3dSb290IE11dGF0aW9uT2JzZXJ2ZXIgXCIgKyBcIndpbmRvdyBkb2N1bWVudCBjdXN0b21FbGVtZW50c1wiKS5zcGxpdChcIiBcIikuZm9yRWFjaCgodCA9PiB0aGlzW3RdID0gdCBpbiByID8gclt0XSA6IGVbdF0pKTtcbiAgICAgICAgXCJmZXRjaCByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgY2FuY2VsQW5pbWF0aW9uRnJhbWVcIi5zcGxpdChcIiBcIikuZm9yRWFjaCgodCA9PiB0aGlzW3RdID0gdCBpbiByID8gclt0XSA6IGVbdF0/LmJpbmQoZSkgPz8gbm90SW1wbGVtZW50ZWQodCkpKTtcbiAgICAgICAgdGhpcy5kb21RdWV1ZSA9ICgoKSA9PiB7XG4gICAgICAgICAgICBsZXQgZSA9IGZhbHNlO1xuICAgICAgICAgICAgbGV0IHIgPSAtMTtcbiAgICAgICAgICAgIGNvbnN0IHJlcXVlc3REb21GbHVzaCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAociA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgciA9IHRoaXMucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZsdXNoRG9tUXVldWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBjYW5jZWxEb21GbHVzaCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaWYgKHIgPiAtMSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbmNlbEFuaW1hdGlvbkZyYW1lKHIpO1xuICAgICAgICAgICAgICAgICAgICByID0gLTE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGZsdXNoRG9tUXVldWUgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgciA9IC0xO1xuICAgICAgICAgICAgICAgIGlmIChlID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgby5mbHVzaCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBvID0gbmV3IHQodGhpcywgcmVxdWVzdERvbUZsdXNoLCBjYW5jZWxEb21GbHVzaCk7XG4gICAgICAgICAgICByZXR1cm4gbztcbiAgICAgICAgfSkoKTtcbiAgICB9XG59XG5cbkJyb3dzZXJQbGF0Zm9ybS50ID0gbmV3IFdlYWtNYXA7XG5cbmV4cG9ydCB7IEJyb3dzZXJQbGF0Zm9ybSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/platform-browser/dist/esm/index.mjs\n\n}");

/***/ },

/***/ "./node_modules/@aurelia/platform/dist/esm/index.mjs"
/*!***********************************************************!*\
  !*** ./node_modules/@aurelia/platform/dist/esm/index.mjs ***!
  \***********************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Platform: () => (/* binding */ Platform),\n/* harmony export */   Task: () => (/* binding */ Task),\n/* harmony export */   TaskAbortError: () => (/* binding */ TaskAbortError),\n/* harmony export */   TaskQueue: () => (/* binding */ TaskQueue),\n/* harmony export */   ensureEmpty: () => (/* binding */ ensureEmpty),\n/* harmony export */   reportTaskQueue: () => (/* binding */ reportTaskQueue)\n/* harmony export */ });\nconst s = \"pending\";\n\nconst t = \"running\";\n\nconst i = \"completed\";\n\nconst e = \"canceled\";\n\nconst h = new Map;\n\nconst notImplemented = s => () => {\n    throw createError(`AUR1005:${s}`);\n};\n\nclass Platform {\n    constructor(s, t = {}) {\n        this.macroTaskRequested = false;\n        this.macroTaskHandle = -1;\n        this.globalThis = s;\n        \"decodeURI decodeURIComponent encodeURI encodeURIComponent Date Reflect console\".split(\" \").forEach((i => {\n            this[i] = i in t ? t[i] : s[i];\n        }));\n        \"clearInterval clearTimeout queueMicrotask setInterval setTimeout\".split(\" \").forEach((i => {\n            this[i] = i in t ? t[i] : s[i]?.bind(s) ?? notImplemented(i);\n        }));\n        this.performanceNow = \"performanceNow\" in t ? t.performanceNow : s.performance?.now?.bind(s.performance) ?? notImplemented(\"performance.now\");\n        this.flushMacroTask = this.flushMacroTask.bind(this);\n        this.taskQueue = new TaskQueue(this, this.requestMacroTask.bind(this), this.cancelMacroTask.bind(this));\n    }\n    static getOrCreate(s, t = {}) {\n        let i = h.get(s);\n        if (i === void 0) {\n            h.set(s, i = new Platform(s, t));\n        }\n        return i;\n    }\n    static set(s, t) {\n        h.set(s, t);\n    }\n    requestMacroTask() {\n        this.macroTaskRequested = true;\n        if (this.macroTaskHandle === -1) {\n            this.macroTaskHandle = this.setTimeout(this.flushMacroTask, 0);\n        }\n    }\n    cancelMacroTask() {\n        this.macroTaskRequested = false;\n        if (this.macroTaskHandle > -1) {\n            this.clearTimeout(this.macroTaskHandle);\n            this.macroTaskHandle = -1;\n        }\n    }\n    flushMacroTask() {\n        this.macroTaskHandle = -1;\n        if (this.macroTaskRequested === true) {\n            this.macroTaskRequested = false;\n            this.taskQueue.flush();\n        }\n    }\n}\n\nclass TaskQueue {\n    get isEmpty() {\n        return this.t === 0 && this.i.length === 0 && this.h.length === 0 && this.u.length === 0;\n    }\n    get T() {\n        return this.t === 0 && this.i.every(isPersistent) && this.h.every(isPersistent) && this.u.every(isPersistent);\n    }\n    constructor(s, t, i) {\n        this.platform = s;\n        this.$request = t;\n        this.$cancel = i;\n        this.$ = void 0;\n        this.t = 0;\n        this.i = [];\n        this.h = [];\n        this.u = [];\n        this.R = false;\n        this.A = void 0;\n        this.M = 0;\n        this.P = 0;\n        this.U = () => {\n            if (!this.R) {\n                this.R = true;\n                this.M = this.q();\n                this.$request();\n            }\n        };\n        this.q = s.performanceNow;\n        this.I = new Tracer(s.console);\n    }\n    flush(s = this.q()) {\n        this.R = false;\n        this.P = s;\n        if (this.$ === void 0) {\n            let i;\n            if (this.h.length > 0) {\n                this.i.push(...this.h);\n                this.h.length = 0;\n            }\n            if (this.u.length > 0) {\n                for (let t = 0; t < this.u.length; ++t) {\n                    i = this.u[t];\n                    if (i.queueTime <= s) {\n                        this.i.push(i);\n                        this.u.splice(t--, 1);\n                    }\n                }\n            }\n            let e;\n            while (this.i.length > 0) {\n                (e = this.i.shift()).run();\n                if (e.status === t) {\n                    if (e.suspend === true) {\n                        this.$ = e;\n                        this.U();\n                        return;\n                    } else {\n                        ++this.t;\n                    }\n                }\n            }\n            if (this.h.length > 0) {\n                this.i.push(...this.h);\n                this.h.length = 0;\n            }\n            if (this.u.length > 0) {\n                for (let t = 0; t < this.u.length; ++t) {\n                    i = this.u[t];\n                    if (i.queueTime <= s) {\n                        this.i.push(i);\n                        this.u.splice(t--, 1);\n                    }\n                }\n            }\n            if (this.i.length > 0 || this.u.length > 0 || this.t > 0) {\n                this.U();\n            }\n            if (this.A !== void 0 && this.T) {\n                const s = this.A;\n                this.A = void 0;\n                s.resolve();\n            }\n        } else {\n            this.U();\n        }\n    }\n    cancel() {\n        if (this.R) {\n            this.$cancel();\n            this.R = false;\n        }\n    }\n    async yield() {\n        if (this.isEmpty) ; else {\n            if (this.A === void 0) {\n                this.A = createExposedPromise();\n            }\n            await this.A;\n        }\n    }\n    queueTask(s, t) {\n        const {delay: i, preempt: e, persistent: h, suspend: o} = {\n            ...r,\n            ...t\n        };\n        if (e) {\n            if (i > 0) {\n                throw preemptDelayComboError();\n            }\n            if (h) {\n                throw preemptyPersistentComboError();\n            }\n        }\n        if (this.i.length === 0) {\n            this.U();\n        }\n        const n = this.q();\n        const c = new Task(this.I, this, n, n + i, e, h, o, s);\n        if (e) {\n            this.i[this.i.length] = c;\n        } else if (i === 0) {\n            this.h[this.h.length] = c;\n        } else {\n            this.u[this.u.length] = c;\n        }\n        return c;\n    }\n    remove(s) {\n        let t = this.i.indexOf(s);\n        if (t > -1) {\n            this.i.splice(t, 1);\n            return;\n        }\n        t = this.h.indexOf(s);\n        if (t > -1) {\n            this.h.splice(t, 1);\n            return;\n        }\n        t = this.u.indexOf(s);\n        if (t > -1) {\n            this.u.splice(t, 1);\n            return;\n        }\n        throw createError(`Task #${s.id} could not be found`);\n    }\n    _(s) {\n        s.reset(this.q());\n        if (s.createdTime === s.queueTime) {\n            this.h[this.h.length] = s;\n        } else {\n            this.u[this.u.length] = s;\n        }\n    }\n    C(s) {\n        if (s.suspend === true) {\n            if (this.$ !== s) {\n                throw createError(`Async task completion mismatch: suspenderTask=${this.$?.id}, task=${s.id}`);\n            }\n            this.$ = void 0;\n        } else {\n            --this.t;\n        }\n        if (this.A !== void 0 && this.T) {\n            const s = this.A;\n            this.A = void 0;\n            s.resolve();\n        }\n        if (this.isEmpty) {\n            this.cancel();\n        }\n    }\n}\n\nclass TaskAbortError extends Error {\n    constructor(s) {\n        super(\"Task was canceled.\");\n        this.task = s;\n    }\n}\n\nlet o = 0;\n\nclass Task {\n    get result() {\n        const h = this.N;\n        if (h === void 0) {\n            switch (this.j) {\n              case s:\n                {\n                    const s = this.N = createExposedPromise();\n                    this.F = s.resolve;\n                    this.O = s.reject;\n                    return s;\n                }\n\n              case t:\n                throw createError(\"Trying to await task from within task will cause a deadlock.\");\n\n              case i:\n                return this.N = Promise.resolve();\n\n              case e:\n                return this.N = Promise.reject(new TaskAbortError(this));\n            }\n        }\n        return h;\n    }\n    get status() {\n        return this.j;\n    }\n    constructor(t, i, e, h, r, n, c, a) {\n        this.taskQueue = i;\n        this.createdTime = e;\n        this.queueTime = h;\n        this.preempt = r;\n        this.persistent = n;\n        this.suspend = c;\n        this.callback = a;\n        this.id = ++o;\n        this.F = void 0;\n        this.O = void 0;\n        this.N = void 0;\n        this.j = s;\n        this.I = t;\n    }\n    run(h = this.taskQueue.platform.performanceNow()) {\n        if (this.j !== s) {\n            throw createError(`Cannot run task in ${this.j} state`);\n        }\n        const {persistent: o, taskQueue: r, callback: n, F: c, O: a, createdTime: f} = this;\n        let l;\n        this.j = t;\n        try {\n            l = n(h - f);\n            if (l instanceof Promise) {\n                l.then((s => {\n                    if (this.persistent) {\n                        r._(this);\n                    } else {\n                        if (o) {\n                            this.j = e;\n                        } else {\n                            this.j = i;\n                        }\n                        this.dispose();\n                    }\n                    r.C(this);\n                    if (false) // removed by dead control flow\n{}\n                    if (c !== void 0) {\n                        c(s);\n                    }\n                })).catch((s => {\n                    if (!this.persistent) {\n                        this.dispose();\n                    }\n                    r.C(this);\n                    if (false) // removed by dead control flow\n{}\n                    if (a !== void 0) {\n                        a(s);\n                    } else {\n                        throw s;\n                    }\n                }));\n            } else {\n                if (this.persistent) {\n                    r._(this);\n                } else {\n                    if (o) {\n                        this.j = e;\n                    } else {\n                        this.j = i;\n                    }\n                    this.dispose();\n                }\n                if (false) // removed by dead control flow\n{}\n                if (c !== void 0) {\n                    c(l);\n                }\n            }\n        } catch (s) {\n            if (!this.persistent) {\n                this.dispose();\n            }\n            if (a !== void 0) {\n                a(s);\n            } else {\n                throw s;\n            }\n        }\n    }\n    cancel() {\n        if (this.j === s) {\n            const s = this.taskQueue;\n            const t = this.O;\n            s.remove(this);\n            if (s.isEmpty) {\n                s.cancel();\n            }\n            this.j = e;\n            this.dispose();\n            if (t !== void 0) {\n                t(new TaskAbortError(this));\n            }\n            return true;\n        } else if (this.j === t && this.persistent) {\n            this.persistent = false;\n            return true;\n        }\n        return false;\n    }\n    reset(t) {\n        const i = this.queueTime - this.createdTime;\n        this.createdTime = t;\n        this.queueTime = t + i;\n        this.j = s;\n        this.F = void 0;\n        this.O = void 0;\n        this.N = void 0;\n    }\n    dispose() {\n        this.callback = void 0;\n        this.F = void 0;\n        this.O = void 0;\n        this.N = void 0;\n    }\n}\n\nclass Tracer {\n    constructor(s) {\n        this.console = s;\n        this.enabled = false;\n        this.depth = 0;\n    }\n    enter(s, t) {\n        this.log(`${\"  \".repeat(this.depth++)}> `, s, t);\n    }\n    leave(s, t) {\n        this.log(`${\"  \".repeat(--this.depth)}< `, s, t);\n    }\n    trace(s, t) {\n        this.log(`${\"  \".repeat(this.depth)}- `, s, t);\n    }\n    log(s, t, i) {\n        if (t instanceof TaskQueue) {\n            const e = t.i.length;\n            const h = t.h.length;\n            const o = t.u.length;\n            const r = t.R;\n            const n = !!t.$;\n            const c = `processing=${e} pending=${h} delayed=${o} flushReq=${r} susTask=${n}`;\n            this.console.log(`${s}[Q.${i}] ${c}`);\n        } else {\n            const e = t[\"id\"];\n            const h = Math.round(t[\"createdTime\"] * 10) / 10;\n            const o = Math.round(t[\"queueTime\"] * 10) / 10;\n            const r = t[\"preempt\"];\n            const n = t[\"persistent\"];\n            const c = t[\"suspend\"];\n            const a = t[\"j\"];\n            const f = `id=${e} created=${h} queue=${o} preempt=${r} persistent=${n} status=${a} suspend=${c}`;\n            this.console.log(`${s}[T.${i}] ${f}`);\n        }\n    }\n}\n\nconst r = {\n    delay: 0,\n    preempt: false,\n    persistent: false,\n    suspend: false\n};\n\nlet n;\n\nlet c;\n\nconst executor = (s, t) => {\n    n = s;\n    c = t;\n};\n\nconst createExposedPromise = () => {\n    const s = new Promise(executor);\n    s.resolve = n;\n    s.reject = c;\n    return s;\n};\n\nconst isPersistent = s => s.persistent;\n\nconst preemptDelayComboError = () => createError(`AUR1006`);\n\nconst preemptyPersistentComboError = () => createError(`AUR1007`);\n\nconst createError = s => new Error(s);\n\nconst reportTaskQueue = s => {\n    const t = s.i;\n    const i = s.h;\n    const e = s.u;\n    const h = s.R;\n    return {\n        processing: t,\n        pending: i,\n        delayed: e,\n        flushRequested: h\n    };\n};\n\nconst ensureEmpty = s => {\n    s.flush();\n    s.h.forEach((s => s.cancel()));\n};\n\n\n//# sourceMappingURL=index.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcGxhdGZvcm0vZGlzdC9lc20vaW5kZXgubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0EsaUNBQWlDLEVBQUU7QUFDbkM7O0FBRUE7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxtQkFBbUI7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxtQkFBbUI7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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QUFDNUcsZ0NBQWdDLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRTtBQUMvQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRW1GO0FBQ25GIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmV0cm9hcHAtY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhdXJlbGlhL3BsYXRmb3JtL2Rpc3QvZXNtL2luZGV4Lm1qcz9jZGExIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHMgPSBcInBlbmRpbmdcIjtcblxuY29uc3QgdCA9IFwicnVubmluZ1wiO1xuXG5jb25zdCBpID0gXCJjb21wbGV0ZWRcIjtcblxuY29uc3QgZSA9IFwiY2FuY2VsZWRcIjtcblxuY29uc3QgaCA9IG5ldyBNYXA7XG5cbmNvbnN0IG5vdEltcGxlbWVudGVkID0gcyA9PiAoKSA9PiB7XG4gICAgdGhyb3cgY3JlYXRlRXJyb3IoYEFVUjEwMDU6JHtzfWApO1xufTtcblxuY2xhc3MgUGxhdGZvcm0ge1xuICAgIGNvbnN0cnVjdG9yKHMsIHQgPSB7fSkge1xuICAgICAgICB0aGlzLm1hY3JvVGFza1JlcXVlc3RlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLm1hY3JvVGFza0hhbmRsZSA9IC0xO1xuICAgICAgICB0aGlzLmdsb2JhbFRoaXMgPSBzO1xuICAgICAgICBcImRlY29kZVVSSSBkZWNvZGVVUklDb21wb25lbnQgZW5jb2RlVVJJIGVuY29kZVVSSUNvbXBvbmVudCBEYXRlIFJlZmxlY3QgY29uc29sZVwiLnNwbGl0KFwiIFwiKS5mb3JFYWNoKChpID0+IHtcbiAgICAgICAgICAgIHRoaXNbaV0gPSBpIGluIHQgPyB0W2ldIDogc1tpXTtcbiAgICAgICAgfSkpO1xuICAgICAgICBcImNsZWFySW50ZXJ2YWwgY2xlYXJUaW1lb3V0IHF1ZXVlTWljcm90YXNrIHNldEludGVydmFsIHNldFRpbWVvdXRcIi5zcGxpdChcIiBcIikuZm9yRWFjaCgoaSA9PiB7XG4gICAgICAgICAgICB0aGlzW2ldID0gaSBpbiB0ID8gdFtpXSA6IHNbaV0/LmJpbmQocykgPz8gbm90SW1wbGVtZW50ZWQoaSk7XG4gICAgICAgIH0pKTtcbiAgICAgICAgdGhpcy5wZXJmb3JtYW5jZU5vdyA9IFwicGVyZm9ybWFuY2VOb3dcIiBpbiB0ID8gdC5wZXJmb3JtYW5jZU5vdyA6IHMucGVyZm9ybWFuY2U/Lm5vdz8uYmluZChzLnBlcmZvcm1hbmNlKSA/PyBub3RJbXBsZW1lbnRlZChcInBlcmZvcm1hbmNlLm5vd1wiKTtcbiAgICAgICAgdGhpcy5mbHVzaE1hY3JvVGFzayA9IHRoaXMuZmx1c2hNYWNyb1Rhc2suYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy50YXNrUXVldWUgPSBuZXcgVGFza1F1ZXVlKHRoaXMsIHRoaXMucmVxdWVzdE1hY3JvVGFzay5iaW5kKHRoaXMpLCB0aGlzLmNhbmNlbE1hY3JvVGFzay5iaW5kKHRoaXMpKTtcbiAgICB9XG4gICAgc3RhdGljIGdldE9yQ3JlYXRlKHMsIHQgPSB7fSkge1xuICAgICAgICBsZXQgaSA9IGguZ2V0KHMpO1xuICAgICAgICBpZiAoaSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBoLnNldChzLCBpID0gbmV3IFBsYXRmb3JtKHMsIHQpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaTtcbiAgICB9XG4gICAgc3RhdGljIHNldChzLCB0KSB7XG4gICAgICAgIGguc2V0KHMsIHQpO1xuICAgIH1cbiAgICByZXF1ZXN0TWFjcm9UYXNrKCkge1xuICAgICAgICB0aGlzLm1hY3JvVGFza1JlcXVlc3RlZCA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLm1hY3JvVGFza0hhbmRsZSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMubWFjcm9UYXNrSGFuZGxlID0gdGhpcy5zZXRUaW1lb3V0KHRoaXMuZmx1c2hNYWNyb1Rhc2ssIDApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhbmNlbE1hY3JvVGFzaygpIHtcbiAgICAgICAgdGhpcy5tYWNyb1Rhc2tSZXF1ZXN0ZWQgPSBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMubWFjcm9UYXNrSGFuZGxlID4gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuY2xlYXJUaW1lb3V0KHRoaXMubWFjcm9UYXNrSGFuZGxlKTtcbiAgICAgICAgICAgIHRoaXMubWFjcm9UYXNrSGFuZGxlID0gLTE7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZmx1c2hNYWNyb1Rhc2soKSB7XG4gICAgICAgIHRoaXMubWFjcm9UYXNrSGFuZGxlID0gLTE7XG4gICAgICAgIGlmICh0aGlzLm1hY3JvVGFza1JlcXVlc3RlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgdGhpcy5tYWNyb1Rhc2tSZXF1ZXN0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMudGFza1F1ZXVlLmZsdXNoKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmNsYXNzIFRhc2tRdWV1ZSB7XG4gICAgZ2V0IGlzRW1wdHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnQgPT09IDAgJiYgdGhpcy5pLmxlbmd0aCA9PT0gMCAmJiB0aGlzLmgubGVuZ3RoID09PSAwICYmIHRoaXMudS5sZW5ndGggPT09IDA7XG4gICAgfVxuICAgIGdldCBUKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50ID09PSAwICYmIHRoaXMuaS5ldmVyeShpc1BlcnNpc3RlbnQpICYmIHRoaXMuaC5ldmVyeShpc1BlcnNpc3RlbnQpICYmIHRoaXMudS5ldmVyeShpc1BlcnNpc3RlbnQpO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihzLCB0LCBpKSB7XG4gICAgICAgIHRoaXMucGxhdGZvcm0gPSBzO1xuICAgICAgICB0aGlzLiRyZXF1ZXN0ID0gdDtcbiAgICAgICAgdGhpcy4kY2FuY2VsID0gaTtcbiAgICAgICAgdGhpcy4kID0gdm9pZCAwO1xuICAgICAgICB0aGlzLnQgPSAwO1xuICAgICAgICB0aGlzLmkgPSBbXTtcbiAgICAgICAgdGhpcy5oID0gW107XG4gICAgICAgIHRoaXMudSA9IFtdO1xuICAgICAgICB0aGlzLlIgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5BID0gdm9pZCAwO1xuICAgICAgICB0aGlzLk0gPSAwO1xuICAgICAgICB0aGlzLlAgPSAwO1xuICAgICAgICB0aGlzLlUgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuUikge1xuICAgICAgICAgICAgICAgIHRoaXMuUiA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5NID0gdGhpcy5xKCk7XG4gICAgICAgICAgICAgICAgdGhpcy4kcmVxdWVzdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnEgPSBzLnBlcmZvcm1hbmNlTm93O1xuICAgICAgICB0aGlzLkkgPSBuZXcgVHJhY2VyKHMuY29uc29sZSk7XG4gICAgfVxuICAgIGZsdXNoKHMgPSB0aGlzLnEoKSkge1xuICAgICAgICB0aGlzLlIgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5QID0gcztcbiAgICAgICAgaWYgKHRoaXMuJCA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBsZXQgaTtcbiAgICAgICAgICAgIGlmICh0aGlzLmgubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuaS5wdXNoKC4uLnRoaXMuaCk7XG4gICAgICAgICAgICAgICAgdGhpcy5oLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy51Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCB0ID0gMDsgdCA8IHRoaXMudS5sZW5ndGg7ICsrdCkge1xuICAgICAgICAgICAgICAgICAgICBpID0gdGhpcy51W3RdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaS5xdWV1ZVRpbWUgPD0gcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pLnB1c2goaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnUuc3BsaWNlKHQtLSwgMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgZTtcbiAgICAgICAgICAgIHdoaWxlICh0aGlzLmkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIChlID0gdGhpcy5pLnNoaWZ0KCkpLnJ1bigpO1xuICAgICAgICAgICAgICAgIGlmIChlLnN0YXR1cyA9PT0gdCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZS5zdXNwZW5kID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiQgPSBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5VKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICArK3RoaXMudDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmgubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuaS5wdXNoKC4uLnRoaXMuaCk7XG4gICAgICAgICAgICAgICAgdGhpcy5oLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy51Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCB0ID0gMDsgdCA8IHRoaXMudS5sZW5ndGg7ICsrdCkge1xuICAgICAgICAgICAgICAgICAgICBpID0gdGhpcy51W3RdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaS5xdWV1ZVRpbWUgPD0gcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pLnB1c2goaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnUuc3BsaWNlKHQtLSwgMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5pLmxlbmd0aCA+IDAgfHwgdGhpcy51Lmxlbmd0aCA+IDAgfHwgdGhpcy50ID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuVSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuQSAhPT0gdm9pZCAwICYmIHRoaXMuVCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHMgPSB0aGlzLkE7XG4gICAgICAgICAgICAgICAgdGhpcy5BID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgIHMucmVzb2x2ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5VKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2FuY2VsKCkge1xuICAgICAgICBpZiAodGhpcy5SKSB7XG4gICAgICAgICAgICB0aGlzLiRjYW5jZWwoKTtcbiAgICAgICAgICAgIHRoaXMuUiA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIHlpZWxkKCkge1xuICAgICAgICBpZiAodGhpcy5pc0VtcHR5KSA7IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRoaXMuQSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5BID0gY3JlYXRlRXhwb3NlZFByb21pc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuQTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZVRhc2socywgdCkge1xuICAgICAgICBjb25zdCB7ZGVsYXk6IGksIHByZWVtcHQ6IGUsIHBlcnNpc3RlbnQ6IGgsIHN1c3BlbmQ6IG99ID0ge1xuICAgICAgICAgICAgLi4ucixcbiAgICAgICAgICAgIC4uLnRcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGUpIHtcbiAgICAgICAgICAgIGlmIChpID4gMCkge1xuICAgICAgICAgICAgICAgIHRocm93IHByZWVtcHREZWxheUNvbWJvRXJyb3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChoKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgcHJlZW1wdHlQZXJzaXN0ZW50Q29tYm9FcnJvcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLlUoKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuID0gdGhpcy5xKCk7XG4gICAgICAgIGNvbnN0IGMgPSBuZXcgVGFzayh0aGlzLkksIHRoaXMsIG4sIG4gKyBpLCBlLCBoLCBvLCBzKTtcbiAgICAgICAgaWYgKGUpIHtcbiAgICAgICAgICAgIHRoaXMuaVt0aGlzLmkubGVuZ3RoXSA9IGM7XG4gICAgICAgIH0gZWxzZSBpZiAoaSA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5oW3RoaXMuaC5sZW5ndGhdID0gYztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudVt0aGlzLnUubGVuZ3RoXSA9IGM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGM7XG4gICAgfVxuICAgIHJlbW92ZShzKSB7XG4gICAgICAgIGxldCB0ID0gdGhpcy5pLmluZGV4T2Yocyk7XG4gICAgICAgIGlmICh0ID4gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuaS5zcGxpY2UodCwgMSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdCA9IHRoaXMuaC5pbmRleE9mKHMpO1xuICAgICAgICBpZiAodCA+IC0xKSB7XG4gICAgICAgICAgICB0aGlzLmguc3BsaWNlKHQsIDEpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHQgPSB0aGlzLnUuaW5kZXhPZihzKTtcbiAgICAgICAgaWYgKHQgPiAtMSkge1xuICAgICAgICAgICAgdGhpcy51LnNwbGljZSh0LCAxKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcihgVGFzayAjJHtzLmlkfSBjb3VsZCBub3QgYmUgZm91bmRgKTtcbiAgICB9XG4gICAgXyhzKSB7XG4gICAgICAgIHMucmVzZXQodGhpcy5xKCkpO1xuICAgICAgICBpZiAocy5jcmVhdGVkVGltZSA9PT0gcy5xdWV1ZVRpbWUpIHtcbiAgICAgICAgICAgIHRoaXMuaFt0aGlzLmgubGVuZ3RoXSA9IHM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnVbdGhpcy51Lmxlbmd0aF0gPSBzO1xuICAgICAgICB9XG4gICAgfVxuICAgIEMocykge1xuICAgICAgICBpZiAocy5zdXNwZW5kID09PSB0cnVlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy4kICE9PSBzKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoYEFzeW5jIHRhc2sgY29tcGxldGlvbiBtaXNtYXRjaDogc3VzcGVuZGVyVGFzaz0ke3RoaXMuJD8uaWR9LCB0YXNrPSR7cy5pZH1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuJCA9IHZvaWQgMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC0tdGhpcy50O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLkEgIT09IHZvaWQgMCAmJiB0aGlzLlQpIHtcbiAgICAgICAgICAgIGNvbnN0IHMgPSB0aGlzLkE7XG4gICAgICAgICAgICB0aGlzLkEgPSB2b2lkIDA7XG4gICAgICAgICAgICBzLnJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5pc0VtcHR5KSB7XG4gICAgICAgICAgICB0aGlzLmNhbmNlbCgpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5jbGFzcyBUYXNrQWJvcnRFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihzKSB7XG4gICAgICAgIHN1cGVyKFwiVGFzayB3YXMgY2FuY2VsZWQuXCIpO1xuICAgICAgICB0aGlzLnRhc2sgPSBzO1xuICAgIH1cbn1cblxubGV0IG8gPSAwO1xuXG5jbGFzcyBUYXNrIHtcbiAgICBnZXQgcmVzdWx0KCkge1xuICAgICAgICBjb25zdCBoID0gdGhpcy5OO1xuICAgICAgICBpZiAoaCA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMuaikge1xuICAgICAgICAgICAgICBjYXNlIHM6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzID0gdGhpcy5OID0gY3JlYXRlRXhwb3NlZFByb21pc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5GID0gcy5yZXNvbHZlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLk8gPSBzLnJlamVjdDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHM7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGNhc2UgdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcihcIlRyeWluZyB0byBhd2FpdCB0YXNrIGZyb20gd2l0aGluIHRhc2sgd2lsbCBjYXVzZSBhIGRlYWRsb2NrLlwiKTtcblxuICAgICAgICAgICAgICBjYXNlIGk6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuTiA9IFByb21pc2UucmVzb2x2ZSgpO1xuXG4gICAgICAgICAgICAgIGNhc2UgZTpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5OID0gUHJvbWlzZS5yZWplY3QobmV3IFRhc2tBYm9ydEVycm9yKHRoaXMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaDtcbiAgICB9XG4gICAgZ2V0IHN0YXR1cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuajtcbiAgICB9XG4gICAgY29uc3RydWN0b3IodCwgaSwgZSwgaCwgciwgbiwgYywgYSkge1xuICAgICAgICB0aGlzLnRhc2tRdWV1ZSA9IGk7XG4gICAgICAgIHRoaXMuY3JlYXRlZFRpbWUgPSBlO1xuICAgICAgICB0aGlzLnF1ZXVlVGltZSA9IGg7XG4gICAgICAgIHRoaXMucHJlZW1wdCA9IHI7XG4gICAgICAgIHRoaXMucGVyc2lzdGVudCA9IG47XG4gICAgICAgIHRoaXMuc3VzcGVuZCA9IGM7XG4gICAgICAgIHRoaXMuY2FsbGJhY2sgPSBhO1xuICAgICAgICB0aGlzLmlkID0gKytvO1xuICAgICAgICB0aGlzLkYgPSB2b2lkIDA7XG4gICAgICAgIHRoaXMuTyA9IHZvaWQgMDtcbiAgICAgICAgdGhpcy5OID0gdm9pZCAwO1xuICAgICAgICB0aGlzLmogPSBzO1xuICAgICAgICB0aGlzLkkgPSB0O1xuICAgIH1cbiAgICBydW4oaCA9IHRoaXMudGFza1F1ZXVlLnBsYXRmb3JtLnBlcmZvcm1hbmNlTm93KCkpIHtcbiAgICAgICAgaWYgKHRoaXMuaiAhPT0gcykge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoYENhbm5vdCBydW4gdGFzayBpbiAke3RoaXMuan0gc3RhdGVgKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7cGVyc2lzdGVudDogbywgdGFza1F1ZXVlOiByLCBjYWxsYmFjazogbiwgRjogYywgTzogYSwgY3JlYXRlZFRpbWU6IGZ9ID0gdGhpcztcbiAgICAgICAgbGV0IGw7XG4gICAgICAgIHRoaXMuaiA9IHQ7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsID0gbihoIC0gZik7XG4gICAgICAgICAgICBpZiAobCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICBsLnRoZW4oKHMgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wZXJzaXN0ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByLl8odGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaiA9IGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaiA9IGk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByLkModGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmYWxzZSAmJiB0aGlzLkkuZW5hYmxlZCkgO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYyAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjKHMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSkpLmNhdGNoKChzID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLnBlcnNpc3RlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHIuQyh0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZhbHNlICYmIHRoaXMuSS5lbmFibGVkKSA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGEocyk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBzO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wZXJzaXN0ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHIuXyh0aGlzKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAobykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5qID0gZTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaiA9IGk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChmYWxzZSAmJiB0aGlzLkkuZW5hYmxlZCkgO1xuICAgICAgICAgICAgICAgIGlmIChjICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICAgICAgYyhsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKHMpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5wZXJzaXN0ZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYSAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgYShzKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBjYW5jZWwoKSB7XG4gICAgICAgIGlmICh0aGlzLmogPT09IHMpIHtcbiAgICAgICAgICAgIGNvbnN0IHMgPSB0aGlzLnRhc2tRdWV1ZTtcbiAgICAgICAgICAgIGNvbnN0IHQgPSB0aGlzLk87XG4gICAgICAgICAgICBzLnJlbW92ZSh0aGlzKTtcbiAgICAgICAgICAgIGlmIChzLmlzRW1wdHkpIHtcbiAgICAgICAgICAgICAgICBzLmNhbmNlbCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5qID0gZTtcbiAgICAgICAgICAgIHRoaXMuZGlzcG9zZSgpO1xuICAgICAgICAgICAgaWYgKHQgIT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgIHQobmV3IFRhc2tBYm9ydEVycm9yKHRoaXMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaiA9PT0gdCAmJiB0aGlzLnBlcnNpc3RlbnQpIHtcbiAgICAgICAgICAgIHRoaXMucGVyc2lzdGVudCA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXNldCh0KSB7XG4gICAgICAgIGNvbnN0IGkgPSB0aGlzLnF1ZXVlVGltZSAtIHRoaXMuY3JlYXRlZFRpbWU7XG4gICAgICAgIHRoaXMuY3JlYXRlZFRpbWUgPSB0O1xuICAgICAgICB0aGlzLnF1ZXVlVGltZSA9IHQgKyBpO1xuICAgICAgICB0aGlzLmogPSBzO1xuICAgICAgICB0aGlzLkYgPSB2b2lkIDA7XG4gICAgICAgIHRoaXMuTyA9IHZvaWQgMDtcbiAgICAgICAgdGhpcy5OID0gdm9pZCAwO1xuICAgIH1cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICB0aGlzLmNhbGxiYWNrID0gdm9pZCAwO1xuICAgICAgICB0aGlzLkYgPSB2b2lkIDA7XG4gICAgICAgIHRoaXMuTyA9IHZvaWQgMDtcbiAgICAgICAgdGhpcy5OID0gdm9pZCAwO1xuICAgIH1cbn1cblxuY2xhc3MgVHJhY2VyIHtcbiAgICBjb25zdHJ1Y3RvcihzKSB7XG4gICAgICAgIHRoaXMuY29uc29sZSA9IHM7XG4gICAgICAgIHRoaXMuZW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmRlcHRoID0gMDtcbiAgICB9XG4gICAgZW50ZXIocywgdCkge1xuICAgICAgICB0aGlzLmxvZyhgJHtcIiAgXCIucmVwZWF0KHRoaXMuZGVwdGgrKyl9PiBgLCBzLCB0KTtcbiAgICB9XG4gICAgbGVhdmUocywgdCkge1xuICAgICAgICB0aGlzLmxvZyhgJHtcIiAgXCIucmVwZWF0KC0tdGhpcy5kZXB0aCl9PCBgLCBzLCB0KTtcbiAgICB9XG4gICAgdHJhY2UocywgdCkge1xuICAgICAgICB0aGlzLmxvZyhgJHtcIiAgXCIucmVwZWF0KHRoaXMuZGVwdGgpfS0gYCwgcywgdCk7XG4gICAgfVxuICAgIGxvZyhzLCB0LCBpKSB7XG4gICAgICAgIGlmICh0IGluc3RhbmNlb2YgVGFza1F1ZXVlKSB7XG4gICAgICAgICAgICBjb25zdCBlID0gdC5pLmxlbmd0aDtcbiAgICAgICAgICAgIGNvbnN0IGggPSB0LmgubGVuZ3RoO1xuICAgICAgICAgICAgY29uc3QgbyA9IHQudS5sZW5ndGg7XG4gICAgICAgICAgICBjb25zdCByID0gdC5SO1xuICAgICAgICAgICAgY29uc3QgbiA9ICEhdC4kO1xuICAgICAgICAgICAgY29uc3QgYyA9IGBwcm9jZXNzaW5nPSR7ZX0gcGVuZGluZz0ke2h9IGRlbGF5ZWQ9JHtvfSBmbHVzaFJlcT0ke3J9IHN1c1Rhc2s9JHtufWA7XG4gICAgICAgICAgICB0aGlzLmNvbnNvbGUubG9nKGAke3N9W1EuJHtpfV0gJHtjfWApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgZSA9IHRbXCJpZFwiXTtcbiAgICAgICAgICAgIGNvbnN0IGggPSBNYXRoLnJvdW5kKHRbXCJjcmVhdGVkVGltZVwiXSAqIDEwKSAvIDEwO1xuICAgICAgICAgICAgY29uc3QgbyA9IE1hdGgucm91bmQodFtcInF1ZXVlVGltZVwiXSAqIDEwKSAvIDEwO1xuICAgICAgICAgICAgY29uc3QgciA9IHRbXCJwcmVlbXB0XCJdO1xuICAgICAgICAgICAgY29uc3QgbiA9IHRbXCJwZXJzaXN0ZW50XCJdO1xuICAgICAgICAgICAgY29uc3QgYyA9IHRbXCJzdXNwZW5kXCJdO1xuICAgICAgICAgICAgY29uc3QgYSA9IHRbXCJqXCJdO1xuICAgICAgICAgICAgY29uc3QgZiA9IGBpZD0ke2V9IGNyZWF0ZWQ9JHtofSBxdWV1ZT0ke299IHByZWVtcHQ9JHtyfSBwZXJzaXN0ZW50PSR7bn0gc3RhdHVzPSR7YX0gc3VzcGVuZD0ke2N9YDtcbiAgICAgICAgICAgIHRoaXMuY29uc29sZS5sb2coYCR7c31bVC4ke2l9XSAke2Z9YCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmNvbnN0IHIgPSB7XG4gICAgZGVsYXk6IDAsXG4gICAgcHJlZW1wdDogZmFsc2UsXG4gICAgcGVyc2lzdGVudDogZmFsc2UsXG4gICAgc3VzcGVuZDogZmFsc2Vcbn07XG5cbmxldCBuO1xuXG5sZXQgYztcblxuY29uc3QgZXhlY3V0b3IgPSAocywgdCkgPT4ge1xuICAgIG4gPSBzO1xuICAgIGMgPSB0O1xufTtcblxuY29uc3QgY3JlYXRlRXhwb3NlZFByb21pc2UgPSAoKSA9PiB7XG4gICAgY29uc3QgcyA9IG5ldyBQcm9taXNlKGV4ZWN1dG9yKTtcbiAgICBzLnJlc29sdmUgPSBuO1xuICAgIHMucmVqZWN0ID0gYztcbiAgICByZXR1cm4gcztcbn07XG5cbmNvbnN0IGlzUGVyc2lzdGVudCA9IHMgPT4gcy5wZXJzaXN0ZW50O1xuXG5jb25zdCBwcmVlbXB0RGVsYXlDb21ib0Vycm9yID0gKCkgPT4gY3JlYXRlRXJyb3IoYEFVUjEwMDZgKTtcblxuY29uc3QgcHJlZW1wdHlQZXJzaXN0ZW50Q29tYm9FcnJvciA9ICgpID0+IGNyZWF0ZUVycm9yKGBBVVIxMDA3YCk7XG5cbmNvbnN0IGNyZWF0ZUVycm9yID0gcyA9PiBuZXcgRXJyb3Iocyk7XG5cbmNvbnN0IHJlcG9ydFRhc2tRdWV1ZSA9IHMgPT4ge1xuICAgIGNvbnN0IHQgPSBzLmk7XG4gICAgY29uc3QgaSA9IHMuaDtcbiAgICBjb25zdCBlID0gcy51O1xuICAgIGNvbnN0IGggPSBzLlI7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcHJvY2Vzc2luZzogdCxcbiAgICAgICAgcGVuZGluZzogaSxcbiAgICAgICAgZGVsYXllZDogZSxcbiAgICAgICAgZmx1c2hSZXF1ZXN0ZWQ6IGhcbiAgICB9O1xufTtcblxuY29uc3QgZW5zdXJlRW1wdHkgPSBzID0+IHtcbiAgICBzLmZsdXNoKCk7XG4gICAgcy5oLmZvckVhY2goKHMgPT4gcy5jYW5jZWwoKSkpO1xufTtcblxuZXhwb3J0IHsgUGxhdGZvcm0sIFRhc2ssIFRhc2tBYm9ydEVycm9yLCBUYXNrUXVldWUsIGVuc3VyZUVtcHR5LCByZXBvcnRUYXNrUXVldWUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/platform/dist/esm/index.mjs\n\n}");

/***/ },

/***/ "./node_modules/@aurelia/route-recognizer/dist/esm/index.mjs"
/*!*******************************************************************!*\
  !*** ./node_modules/@aurelia/route-recognizer/dist/esm/index.mjs ***!
  \*******************************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConfigurableRoute: () => (/* binding */ ConfigurableRoute),\n/* harmony export */   Endpoint: () => (/* binding */ Endpoint),\n/* harmony export */   Parameter: () => (/* binding */ Parameter),\n/* harmony export */   RESIDUE: () => (/* binding */ t),\n/* harmony export */   RecognizedRoute: () => (/* binding */ RecognizedRoute),\n/* harmony export */   RouteRecognizer: () => (/* binding */ RouteRecognizer)\n/* harmony export */ });\nclass Parameter {\n    constructor(t, e, s, i) {\n        this.name = t;\n        this.isOptional = e;\n        this.isStar = s;\n        this.pattern = i;\n    }\n    satisfiesPattern(t) {\n        if (this.pattern === null) return true;\n        this.pattern.lastIndex = 0;\n        return this.pattern.test(t);\n    }\n}\n\nclass ConfigurableRoute {\n    constructor(t, e, s) {\n        this.path = t;\n        this.caseSensitive = e;\n        this.handler = s;\n    }\n}\n\nclass Endpoint {\n    get residualEndpoint() {\n        return this.t;\n    }\n    set residualEndpoint(t) {\n        if (this.t !== null) throw new Error(\"Residual endpoint is already set\");\n        this.t = t;\n    }\n    constructor(t, e) {\n        this.route = t;\n        this.params = e;\n        this.t = null;\n    }\n    equalsOrResidual(t) {\n        return t != null && this === t || this.t === t;\n    }\n}\n\nclass RecognizedRoute {\n    constructor(t, e) {\n        this.endpoint = t;\n        const s = Object.create(null);\n        for (const t in e) {\n            const i = e[t];\n            s[t] = i != null ? decodeURIComponent(i) : i;\n        }\n        this.params = Object.freeze(s);\n    }\n}\n\nclass Candidate {\n    constructor(t, e, s, i) {\n        this.chars = t;\n        this.states = e;\n        this.skippedStates = s;\n        this.result = i;\n        this.params = null;\n        this.isConstrained = false;\n        this.satisfiesConstraints = null;\n        this.head = e[e.length - 1];\n        this.endpoint = this.head?.endpoint;\n    }\n    advance(t) {\n        const {chars: e, states: s, skippedStates: i, result: n} = this;\n        let r = null;\n        let o = 0;\n        const l = s[s.length - 1];\n        function $process(a, u) {\n            if (a.isMatch(t)) {\n                if (++o === 1) {\n                    r = a;\n                } else {\n                    n.add(new Candidate(e.concat(t), s.concat(a), u === null ? i : i.concat(u), n));\n                }\n            }\n            if (l.segment === null && a.isOptional && a.nextStates !== null) {\n                if (a.nextStates.length > 1) {\n                    throw createError(`${a.nextStates.length} nextStates`);\n                }\n                const t = a.nextStates[0];\n                if (!t.isSeparator) {\n                    throw createError(`Not a separator`);\n                }\n                if (t.nextStates !== null) {\n                    for (const e of t.nextStates) {\n                        $process(e, a);\n                    }\n                }\n            }\n        }\n        if (l.isDynamic) {\n            $process(l, null);\n        }\n        if (l.nextStates !== null) {\n            for (const t of l.nextStates) {\n                $process(t, null);\n            }\n        }\n        if (r !== null) {\n            s.push(this.head = r);\n            e.push(t);\n            this.isConstrained = this.isConstrained || r.isDynamic && r.segment.isConstrained;\n            if (r.endpoint !== null) {\n                this.endpoint = r.endpoint;\n            }\n        }\n        if (o === 0) {\n            n.remove(this);\n        }\n    }\n    i() {\n        function collectSkippedStates(t, e) {\n            const s = e.nextStates;\n            if (s !== null) {\n                if (s.length === 1 && s[0].segment === null) {\n                    collectSkippedStates(t, s[0]);\n                } else {\n                    for (const e of s) {\n                        if (e.isOptional && e.endpoint !== null) {\n                            t.push(e);\n                            if (e.nextStates !== null) {\n                                for (const s of e.nextStates) {\n                                    collectSkippedStates(t, s);\n                                }\n                            }\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n        collectSkippedStates(this.skippedStates, this.head);\n        if (!this.isConstrained) return true;\n        this.u();\n        return this.satisfiesConstraints;\n    }\n    u() {\n        let t = this.params;\n        if (t != null) return t;\n        const {states: e, chars: s, endpoint: i} = this;\n        t = {};\n        this.satisfiesConstraints = true;\n        for (const e of i.params) {\n            t[e.name] = void 0;\n        }\n        for (let i = 0, n = e.length; i < n; ++i) {\n            const n = e[i];\n            if (n.isDynamic) {\n                const r = n.segment;\n                const o = r.name;\n                if (t[o] === void 0) {\n                    t[o] = s[i];\n                } else {\n                    t[o] += s[i];\n                }\n                const l = n.isConstrained && !Object.is(e[i + 1]?.segment, r);\n                if (!l) continue;\n                this.satisfiesConstraints = this.satisfiesConstraints && n.satisfiesConstraint(t[o]);\n            }\n        }\n        if (this.satisfiesConstraints) {\n            this.params = t;\n        }\n        return t;\n    }\n    compareTo(t) {\n        const e = this.states;\n        const s = t.states;\n        for (let t = 0, i = 0, n = Math.max(e.length, s.length); t < n; ++t) {\n            let n = e[t];\n            if (n === void 0) {\n                return 1;\n            }\n            let r = s[i];\n            if (r === void 0) {\n                return -1;\n            }\n            let o = n.segment;\n            let l = r.segment;\n            if (o === null) {\n                if (l === null) {\n                    ++i;\n                    continue;\n                }\n                if ((n = e[++t]) === void 0) {\n                    return 1;\n                }\n                o = n.segment;\n            } else if (l === null) {\n                if ((r = s[++i]) === void 0) {\n                    return -1;\n                }\n                l = r.segment;\n            }\n            if (o.kind < l.kind) {\n                return 1;\n            }\n            if (o.kind > l.kind) {\n                return -1;\n            }\n            ++i;\n        }\n        const i = this.skippedStates;\n        const n = t.skippedStates;\n        const r = i.length;\n        const o = n.length;\n        if (r < o) {\n            return 1;\n        }\n        if (r > o) {\n            return -1;\n        }\n        for (let t = 0; t < r; ++t) {\n            const e = i[t];\n            const s = n[t];\n            if (e.length < s.length) {\n                return 1;\n            }\n            if (e.length > s.length) {\n                return -1;\n            }\n        }\n        return 0;\n    }\n}\n\nfunction hasEndpoint(t) {\n    return t.head.endpoint !== null;\n}\n\nfunction compareChains(t, e) {\n    return t.compareTo(e);\n}\n\nclass RecognizeResult {\n    get isEmpty() {\n        return this.candidates.length === 0;\n    }\n    constructor(t) {\n        this.candidates = [];\n        this.candidates = [ new Candidate([ \"\" ], [ t ], [], this) ];\n    }\n    getSolution() {\n        const t = this.candidates.filter((t => hasEndpoint(t) && t.i()));\n        if (t.length === 0) {\n            return null;\n        }\n        t.sort(compareChains);\n        return t[0];\n    }\n    add(t) {\n        this.candidates.push(t);\n    }\n    remove(t) {\n        this.candidates.splice(this.candidates.indexOf(t), 1);\n    }\n    advance(t) {\n        const e = this.candidates.slice();\n        for (const s of e) {\n            s.advance(t);\n        }\n    }\n}\n\nconst t = \"$$residue\";\n\nconst e = /^:(?<name>[^?\\s{}]+)(?:\\{\\{(?<constraint>.+)\\}\\})?(?<optional>\\?)?$/g;\n\nclass RouteRecognizer {\n    constructor() {\n        this.rootState = new State(null, null, \"\");\n        this.cache = new Map;\n        this.endpointLookup = new Map;\n    }\n    add(e, s = false) {\n        let i;\n        let n;\n        if (e instanceof Array) {\n            for (const r of e) {\n                n = this.$add(r, false);\n                i = n.params;\n                if (!s || (i[i.length - 1]?.isStar ?? false)) continue;\n                n.residualEndpoint = this.$add({\n                    ...r,\n                    path: `${r.path}/*${t}`\n                }, true);\n            }\n        } else {\n            n = this.$add(e, false);\n            i = n.params;\n            if (s && !(i[i.length - 1]?.isStar ?? false)) {\n                n.residualEndpoint = this.$add({\n                    ...e,\n                    path: `${e.path}/*${t}`\n                }, true);\n            }\n        }\n        this.cache.clear();\n    }\n    $add(s, i) {\n        const n = s.path;\n        const r = this.endpointLookup;\n        if (r.has(n)) throw createError(`Cannot add duplicate path '${n}'.`);\n        const o = new ConfigurableRoute(n, s.caseSensitive === true, s.handler);\n        const l = n === \"\" ? [ \"\" ] : n.split(\"/\").filter(isNotEmpty);\n        const a = [];\n        let u = this.rootState;\n        for (const s of l) {\n            u = u.append(null, \"/\");\n            switch (s.charAt(0)) {\n              case \":\":\n                {\n                    e.lastIndex = 0;\n                    const i = e.exec(s);\n                    const {name: n, optional: r} = i?.groups ?? {};\n                    const o = r === \"?\";\n                    if (n === t) throw new Error(`Invalid parameter name; usage of the reserved parameter name '${t}' is used.`);\n                    const l = i?.groups?.constraint;\n                    const h = l != null ? new RegExp(l) : null;\n                    a.push(new Parameter(n, o, false, h));\n                    u = new DynamicSegment(n, o, h).appendTo(u);\n                    break;\n                }\n\n              case \"*\":\n                {\n                    const e = s.slice(1);\n                    let n;\n                    if (e === t) {\n                        if (!i) throw new Error(`Invalid parameter name; usage of the reserved parameter name '${t}' is used.`);\n                        n = 1;\n                    } else {\n                        n = 2;\n                    }\n                    a.push(new Parameter(e, true, true, null));\n                    u = new StarSegment(e, n).appendTo(u);\n                    break;\n                }\n\n              default:\n                {\n                    u = new StaticSegment(s, o.caseSensitive).appendTo(u);\n                    break;\n                }\n            }\n        }\n        const h = new Endpoint(o, a);\n        u.setEndpoint(h);\n        r.set(n, h);\n        return h;\n    }\n    recognize(t) {\n        let e = this.cache.get(t);\n        if (e === void 0) {\n            this.cache.set(t, e = this.$recognize(t));\n        }\n        return e;\n    }\n    $recognize(t) {\n        t = decodeURI(t);\n        if (!t.startsWith(\"/\")) {\n            t = `/${t}`;\n        }\n        if (t.length > 1 && t.endsWith(\"/\")) {\n            t = t.slice(0, -1);\n        }\n        const e = new RecognizeResult(this.rootState);\n        for (let s = 0, i = t.length; s < i; ++s) {\n            const i = t.charAt(s);\n            e.advance(i);\n            if (e.isEmpty) {\n                return null;\n            }\n        }\n        const s = e.getSolution();\n        if (s === null) {\n            return null;\n        }\n        const {endpoint: i} = s;\n        const n = s.u();\n        return new RecognizedRoute(i, n);\n    }\n    getEndpoint(t) {\n        return this.endpointLookup.get(t) ?? null;\n    }\n}\n\nclass State {\n    constructor(t, e, s) {\n        this.prevState = t;\n        this.segment = e;\n        this.value = s;\n        this.nextStates = null;\n        this.endpoint = null;\n        this.isConstrained = false;\n        switch (e?.kind) {\n          case 3:\n            this.length = t.length + 1;\n            this.isSeparator = false;\n            this.isDynamic = true;\n            this.isOptional = e.optional;\n            this.isConstrained = e.isConstrained;\n            break;\n\n          case 2:\n          case 1:\n            this.length = t.length + 1;\n            this.isSeparator = false;\n            this.isDynamic = true;\n            this.isOptional = false;\n            break;\n\n          case 4:\n            this.length = t.length + 1;\n            this.isSeparator = false;\n            this.isDynamic = false;\n            this.isOptional = false;\n            break;\n\n          case undefined:\n            this.length = t === null ? 0 : t.length;\n            this.isSeparator = true;\n            this.isDynamic = false;\n            this.isOptional = false;\n            break;\n        }\n    }\n    append(t, e) {\n        let s;\n        let i = this.nextStates;\n        if (i === null) {\n            s = void 0;\n            i = this.nextStates = [];\n        } else if (t === null) {\n            s = i.find((t => t.value === e));\n        } else {\n            s = i.find((e => e.segment?.equals(t)));\n        }\n        if (s === void 0) {\n            i.push(s = new State(this, t, e));\n        }\n        return s;\n    }\n    setEndpoint(t) {\n        if (this.endpoint !== null) {\n            throw createError(`Cannot add ambiguous route. The pattern '${t.route.path}' clashes with '${this.endpoint.route.path}'`);\n        }\n        this.endpoint = t;\n        if (this.isOptional) {\n            this.prevState.setEndpoint(t);\n            if (this.prevState.isSeparator && this.prevState.prevState !== null) {\n                this.prevState.prevState.setEndpoint(t);\n            }\n        }\n    }\n    isMatch(t) {\n        const e = this.segment;\n        switch (e?.kind) {\n          case 3:\n            return !this.value.includes(t);\n\n          case 2:\n          case 1:\n            return true;\n\n          case 4:\n          case undefined:\n            return this.value.includes(t);\n        }\n    }\n    satisfiesConstraint(t) {\n        return this.isConstrained ? this.segment.satisfiesPattern(t) : true;\n    }\n}\n\nfunction isNotEmpty(t) {\n    return t.length > 0;\n}\n\nclass StaticSegment {\n    get kind() {\n        return 4;\n    }\n    constructor(t, e) {\n        this.value = t;\n        this.caseSensitive = e;\n    }\n    appendTo(t) {\n        const {value: e, value: {length: s}} = this;\n        if (this.caseSensitive) {\n            for (let i = 0; i < s; ++i) {\n                t = t.append(this, e.charAt(i));\n            }\n        } else {\n            for (let i = 0; i < s; ++i) {\n                const s = e.charAt(i);\n                t = t.append(this, s.toUpperCase() + s.toLowerCase());\n            }\n        }\n        return t;\n    }\n    equals(t) {\n        return t.kind === 4 && t.caseSensitive === this.caseSensitive && t.value === this.value;\n    }\n}\n\nclass DynamicSegment {\n    get kind() {\n        return 3;\n    }\n    constructor(t, e, s) {\n        this.name = t;\n        this.optional = e;\n        this.pattern = s;\n        if (s === void 0) throw new Error(`Pattern is undefined`);\n        this.isConstrained = s !== null;\n    }\n    appendTo(t) {\n        t = t.append(this, \"/\");\n        return t;\n    }\n    equals(t) {\n        return t.kind === 3 && t.optional === this.optional && t.name === this.name;\n    }\n    satisfiesPattern(t) {\n        if (this.pattern === null) return true;\n        this.pattern.lastIndex = 0;\n        return this.pattern.test(t);\n    }\n}\n\nclass StarSegment {\n    constructor(t, e) {\n        this.name = t;\n        this.kind = e;\n    }\n    appendTo(t) {\n        t = t.append(this, \"\");\n        return t;\n    }\n    equals(t) {\n        return (t.kind === 2 || t.kind === 1) && t.name === this.name;\n    }\n}\n\nconst createError = t => new Error(t);\n\n\n//# sourceMappingURL=index.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcm91dGUtcmVjb2duaXplci9kaXN0L2VzbS9pbmRleC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxrREFBa0Q7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QyxxQkFBcUI7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsa0NBQWtDO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsT0FBTztBQUM3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QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGtCQUFrQixZQUFZO0FBQzdDO0FBQ0EsNEJBQTRCLE9BQU87QUFDbkM7QUFDQTtBQUNBLFVBQVU7QUFDViw0QkFBNEIsT0FBTztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRWtHO0FBQ2xHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmV0cm9hcHAtY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhdXJlbGlhL3JvdXRlLXJlY29nbml6ZXIvZGlzdC9lc20vaW5kZXgubWpzP2JiYTQiXSwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgUGFyYW1ldGVyIHtcbiAgICBjb25zdHJ1Y3Rvcih0LCBlLCBzLCBpKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IHQ7XG4gICAgICAgIHRoaXMuaXNPcHRpb25hbCA9IGU7XG4gICAgICAgIHRoaXMuaXNTdGFyID0gcztcbiAgICAgICAgdGhpcy5wYXR0ZXJuID0gaTtcbiAgICB9XG4gICAgc2F0aXNmaWVzUGF0dGVybih0KSB7XG4gICAgICAgIGlmICh0aGlzLnBhdHRlcm4gPT09IG51bGwpIHJldHVybiB0cnVlO1xuICAgICAgICB0aGlzLnBhdHRlcm4ubGFzdEluZGV4ID0gMDtcbiAgICAgICAgcmV0dXJuIHRoaXMucGF0dGVybi50ZXN0KHQpO1xuICAgIH1cbn1cblxuY2xhc3MgQ29uZmlndXJhYmxlUm91dGUge1xuICAgIGNvbnN0cnVjdG9yKHQsIGUsIHMpIHtcbiAgICAgICAgdGhpcy5wYXRoID0gdDtcbiAgICAgICAgdGhpcy5jYXNlU2Vuc2l0aXZlID0gZTtcbiAgICAgICAgdGhpcy5oYW5kbGVyID0gcztcbiAgICB9XG59XG5cbmNsYXNzIEVuZHBvaW50IHtcbiAgICBnZXQgcmVzaWR1YWxFbmRwb2ludCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudDtcbiAgICB9XG4gICAgc2V0IHJlc2lkdWFsRW5kcG9pbnQodCkge1xuICAgICAgICBpZiAodGhpcy50ICE9PSBudWxsKSB0aHJvdyBuZXcgRXJyb3IoXCJSZXNpZHVhbCBlbmRwb2ludCBpcyBhbHJlYWR5IHNldFwiKTtcbiAgICAgICAgdGhpcy50ID0gdDtcbiAgICB9XG4gICAgY29uc3RydWN0b3IodCwgZSkge1xuICAgICAgICB0aGlzLnJvdXRlID0gdDtcbiAgICAgICAgdGhpcy5wYXJhbXMgPSBlO1xuICAgICAgICB0aGlzLnQgPSBudWxsO1xuICAgIH1cbiAgICBlcXVhbHNPclJlc2lkdWFsKHQpIHtcbiAgICAgICAgcmV0dXJuIHQgIT0gbnVsbCAmJiB0aGlzID09PSB0IHx8IHRoaXMudCA9PT0gdDtcbiAgICB9XG59XG5cbmNsYXNzIFJlY29nbml6ZWRSb3V0ZSB7XG4gICAgY29uc3RydWN0b3IodCwgZSkge1xuICAgICAgICB0aGlzLmVuZHBvaW50ID0gdDtcbiAgICAgICAgY29uc3QgcyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIGZvciAoY29uc3QgdCBpbiBlKSB7XG4gICAgICAgICAgICBjb25zdCBpID0gZVt0XTtcbiAgICAgICAgICAgIHNbdF0gPSBpICE9IG51bGwgPyBkZWNvZGVVUklDb21wb25lbnQoaSkgOiBpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucGFyYW1zID0gT2JqZWN0LmZyZWV6ZShzKTtcbiAgICB9XG59XG5cbmNsYXNzIENhbmRpZGF0ZSB7XG4gICAgY29uc3RydWN0b3IodCwgZSwgcywgaSkge1xuICAgICAgICB0aGlzLmNoYXJzID0gdDtcbiAgICAgICAgdGhpcy5zdGF0ZXMgPSBlO1xuICAgICAgICB0aGlzLnNraXBwZWRTdGF0ZXMgPSBzO1xuICAgICAgICB0aGlzLnJlc3VsdCA9IGk7XG4gICAgICAgIHRoaXMucGFyYW1zID0gbnVsbDtcbiAgICAgICAgdGhpcy5pc0NvbnN0cmFpbmVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc2F0aXNmaWVzQ29uc3RyYWludHMgPSBudWxsO1xuICAgICAgICB0aGlzLmhlYWQgPSBlW2UubGVuZ3RoIC0gMV07XG4gICAgICAgIHRoaXMuZW5kcG9pbnQgPSB0aGlzLmhlYWQ/LmVuZHBvaW50O1xuICAgIH1cbiAgICBhZHZhbmNlKHQpIHtcbiAgICAgICAgY29uc3Qge2NoYXJzOiBlLCBzdGF0ZXM6IHMsIHNraXBwZWRTdGF0ZXM6IGksIHJlc3VsdDogbn0gPSB0aGlzO1xuICAgICAgICBsZXQgciA9IG51bGw7XG4gICAgICAgIGxldCBvID0gMDtcbiAgICAgICAgY29uc3QgbCA9IHNbcy5sZW5ndGggLSAxXTtcbiAgICAgICAgZnVuY3Rpb24gJHByb2Nlc3MoYSwgdSkge1xuICAgICAgICAgICAgaWYgKGEuaXNNYXRjaCh0KSkge1xuICAgICAgICAgICAgICAgIGlmICgrK28gPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgciA9IGE7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbi5hZGQobmV3IENhbmRpZGF0ZShlLmNvbmNhdCh0KSwgcy5jb25jYXQoYSksIHUgPT09IG51bGwgPyBpIDogaS5jb25jYXQodSksIG4pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobC5zZWdtZW50ID09PSBudWxsICYmIGEuaXNPcHRpb25hbCAmJiBhLm5leHRTdGF0ZXMgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAoYS5uZXh0U3RhdGVzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoYCR7YS5uZXh0U3RhdGVzLmxlbmd0aH0gbmV4dFN0YXRlc2ApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCB0ID0gYS5uZXh0U3RhdGVzWzBdO1xuICAgICAgICAgICAgICAgIGlmICghdC5pc1NlcGFyYXRvcikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcihgTm90IGEgc2VwYXJhdG9yYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0Lm5leHRTdGF0ZXMgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBlIG9mIHQubmV4dFN0YXRlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHByb2Nlc3MoZSwgYSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGwuaXNEeW5hbWljKSB7XG4gICAgICAgICAgICAkcHJvY2VzcyhsLCBudWxsKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobC5uZXh0U3RhdGVzICE9PSBudWxsKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHQgb2YgbC5uZXh0U3RhdGVzKSB7XG4gICAgICAgICAgICAgICAgJHByb2Nlc3ModCwgbnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHIgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHMucHVzaCh0aGlzLmhlYWQgPSByKTtcbiAgICAgICAgICAgIGUucHVzaCh0KTtcbiAgICAgICAgICAgIHRoaXMuaXNDb25zdHJhaW5lZCA9IHRoaXMuaXNDb25zdHJhaW5lZCB8fCByLmlzRHluYW1pYyAmJiByLnNlZ21lbnQuaXNDb25zdHJhaW5lZDtcbiAgICAgICAgICAgIGlmIChyLmVuZHBvaW50ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbmRwb2ludCA9IHIuZW5kcG9pbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG8gPT09IDApIHtcbiAgICAgICAgICAgIG4ucmVtb3ZlKHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGkoKSB7XG4gICAgICAgIGZ1bmN0aW9uIGNvbGxlY3RTa2lwcGVkU3RhdGVzKHQsIGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHMgPSBlLm5leHRTdGF0ZXM7XG4gICAgICAgICAgICBpZiAocyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmIChzLmxlbmd0aCA9PT0gMSAmJiBzWzBdLnNlZ21lbnQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY29sbGVjdFNraXBwZWRTdGF0ZXModCwgc1swXSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBlIG9mIHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLmlzT3B0aW9uYWwgJiYgZS5lbmRwb2ludCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQucHVzaChlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS5uZXh0U3RhdGVzICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcyBvZiBlLm5leHRTdGF0ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxlY3RTa2lwcGVkU3RhdGVzKHQsIHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbGxlY3RTa2lwcGVkU3RhdGVzKHRoaXMuc2tpcHBlZFN0YXRlcywgdGhpcy5oZWFkKTtcbiAgICAgICAgaWYgKCF0aGlzLmlzQ29uc3RyYWluZWQpIHJldHVybiB0cnVlO1xuICAgICAgICB0aGlzLnUoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2F0aXNmaWVzQ29uc3RyYWludHM7XG4gICAgfVxuICAgIHUoKSB7XG4gICAgICAgIGxldCB0ID0gdGhpcy5wYXJhbXM7XG4gICAgICAgIGlmICh0ICE9IG51bGwpIHJldHVybiB0O1xuICAgICAgICBjb25zdCB7c3RhdGVzOiBlLCBjaGFyczogcywgZW5kcG9pbnQ6IGl9ID0gdGhpcztcbiAgICAgICAgdCA9IHt9O1xuICAgICAgICB0aGlzLnNhdGlzZmllc0NvbnN0cmFpbnRzID0gdHJ1ZTtcbiAgICAgICAgZm9yIChjb25zdCBlIG9mIGkucGFyYW1zKSB7XG4gICAgICAgICAgICB0W2UubmFtZV0gPSB2b2lkIDA7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIG4gPSBlLmxlbmd0aDsgaSA8IG47ICsraSkge1xuICAgICAgICAgICAgY29uc3QgbiA9IGVbaV07XG4gICAgICAgICAgICBpZiAobi5pc0R5bmFtaWMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByID0gbi5zZWdtZW50O1xuICAgICAgICAgICAgICAgIGNvbnN0IG8gPSByLm5hbWU7XG4gICAgICAgICAgICAgICAgaWYgKHRbb10gPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgICAgICB0W29dID0gc1tpXTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0W29dICs9IHNbaV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGwgPSBuLmlzQ29uc3RyYWluZWQgJiYgIU9iamVjdC5pcyhlW2kgKyAxXT8uc2VnbWVudCwgcik7XG4gICAgICAgICAgICAgICAgaWYgKCFsKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB0aGlzLnNhdGlzZmllc0NvbnN0cmFpbnRzID0gdGhpcy5zYXRpc2ZpZXNDb25zdHJhaW50cyAmJiBuLnNhdGlzZmllc0NvbnN0cmFpbnQodFtvXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuc2F0aXNmaWVzQ29uc3RyYWludHMpIHtcbiAgICAgICAgICAgIHRoaXMucGFyYW1zID0gdDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9XG4gICAgY29tcGFyZVRvKHQpIHtcbiAgICAgICAgY29uc3QgZSA9IHRoaXMuc3RhdGVzO1xuICAgICAgICBjb25zdCBzID0gdC5zdGF0ZXM7XG4gICAgICAgIGZvciAobGV0IHQgPSAwLCBpID0gMCwgbiA9IE1hdGgubWF4KGUubGVuZ3RoLCBzLmxlbmd0aCk7IHQgPCBuOyArK3QpIHtcbiAgICAgICAgICAgIGxldCBuID0gZVt0XTtcbiAgICAgICAgICAgIGlmIChuID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCByID0gc1tpXTtcbiAgICAgICAgICAgIGlmIChyID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgbyA9IG4uc2VnbWVudDtcbiAgICAgICAgICAgIGxldCBsID0gci5zZWdtZW50O1xuICAgICAgICAgICAgaWYgKG8gPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAobCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICArK2k7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoKG4gPSBlWysrdF0pID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG8gPSBuLnNlZ21lbnQ7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGwgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAoKHIgPSBzWysraV0pID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsID0gci5zZWdtZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG8ua2luZCA8IGwua2luZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG8ua2luZCA+IGwua2luZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICsraTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpID0gdGhpcy5za2lwcGVkU3RhdGVzO1xuICAgICAgICBjb25zdCBuID0gdC5za2lwcGVkU3RhdGVzO1xuICAgICAgICBjb25zdCByID0gaS5sZW5ndGg7XG4gICAgICAgIGNvbnN0IG8gPSBuLmxlbmd0aDtcbiAgICAgICAgaWYgKHIgPCBvKSB7XG4gICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAociA+IG8pIHtcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCB0ID0gMDsgdCA8IHI7ICsrdCkge1xuICAgICAgICAgICAgY29uc3QgZSA9IGlbdF07XG4gICAgICAgICAgICBjb25zdCBzID0gblt0XTtcbiAgICAgICAgICAgIGlmIChlLmxlbmd0aCA8IHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZS5sZW5ndGggPiBzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGhhc0VuZHBvaW50KHQpIHtcbiAgICByZXR1cm4gdC5oZWFkLmVuZHBvaW50ICE9PSBudWxsO1xufVxuXG5mdW5jdGlvbiBjb21wYXJlQ2hhaW5zKHQsIGUpIHtcbiAgICByZXR1cm4gdC5jb21wYXJlVG8oZSk7XG59XG5cbmNsYXNzIFJlY29nbml6ZVJlc3VsdCB7XG4gICAgZ2V0IGlzRW1wdHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbmRpZGF0ZXMubGVuZ3RoID09PSAwO1xuICAgIH1cbiAgICBjb25zdHJ1Y3Rvcih0KSB7XG4gICAgICAgIHRoaXMuY2FuZGlkYXRlcyA9IFtdO1xuICAgICAgICB0aGlzLmNhbmRpZGF0ZXMgPSBbIG5ldyBDYW5kaWRhdGUoWyBcIlwiIF0sIFsgdCBdLCBbXSwgdGhpcykgXTtcbiAgICB9XG4gICAgZ2V0U29sdXRpb24oKSB7XG4gICAgICAgIGNvbnN0IHQgPSB0aGlzLmNhbmRpZGF0ZXMuZmlsdGVyKCh0ID0+IGhhc0VuZHBvaW50KHQpICYmIHQuaSgpKSk7XG4gICAgICAgIGlmICh0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdC5zb3J0KGNvbXBhcmVDaGFpbnMpO1xuICAgICAgICByZXR1cm4gdFswXTtcbiAgICB9XG4gICAgYWRkKHQpIHtcbiAgICAgICAgdGhpcy5jYW5kaWRhdGVzLnB1c2godCk7XG4gICAgfVxuICAgIHJlbW92ZSh0KSB7XG4gICAgICAgIHRoaXMuY2FuZGlkYXRlcy5zcGxpY2UodGhpcy5jYW5kaWRhdGVzLmluZGV4T2YodCksIDEpO1xuICAgIH1cbiAgICBhZHZhbmNlKHQpIHtcbiAgICAgICAgY29uc3QgZSA9IHRoaXMuY2FuZGlkYXRlcy5zbGljZSgpO1xuICAgICAgICBmb3IgKGNvbnN0IHMgb2YgZSkge1xuICAgICAgICAgICAgcy5hZHZhbmNlKHQpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5jb25zdCB0ID0gXCIkJHJlc2lkdWVcIjtcblxuY29uc3QgZSA9IC9eOig/PG5hbWU+W14/XFxze31dKykoPzpcXHtcXHsoPzxjb25zdHJhaW50Pi4rKVxcfVxcfSk/KD88b3B0aW9uYWw+XFw/KT8kL2c7XG5cbmNsYXNzIFJvdXRlUmVjb2duaXplciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMucm9vdFN0YXRlID0gbmV3IFN0YXRlKG51bGwsIG51bGwsIFwiXCIpO1xuICAgICAgICB0aGlzLmNhY2hlID0gbmV3IE1hcDtcbiAgICAgICAgdGhpcy5lbmRwb2ludExvb2t1cCA9IG5ldyBNYXA7XG4gICAgfVxuICAgIGFkZChlLCBzID0gZmFsc2UpIHtcbiAgICAgICAgbGV0IGk7XG4gICAgICAgIGxldCBuO1xuICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHIgb2YgZSkge1xuICAgICAgICAgICAgICAgIG4gPSB0aGlzLiRhZGQociwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIGkgPSBuLnBhcmFtcztcbiAgICAgICAgICAgICAgICBpZiAoIXMgfHwgKGlbaS5sZW5ndGggLSAxXT8uaXNTdGFyID8/IGZhbHNlKSkgY29udGludWU7XG4gICAgICAgICAgICAgICAgbi5yZXNpZHVhbEVuZHBvaW50ID0gdGhpcy4kYWRkKHtcbiAgICAgICAgICAgICAgICAgICAgLi4ucixcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogYCR7ci5wYXRofS8qJHt0fWBcbiAgICAgICAgICAgICAgICB9LCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG4gPSB0aGlzLiRhZGQoZSwgZmFsc2UpO1xuICAgICAgICAgICAgaSA9IG4ucGFyYW1zO1xuICAgICAgICAgICAgaWYgKHMgJiYgIShpW2kubGVuZ3RoIC0gMV0/LmlzU3RhciA/PyBmYWxzZSkpIHtcbiAgICAgICAgICAgICAgICBuLnJlc2lkdWFsRW5kcG9pbnQgPSB0aGlzLiRhZGQoe1xuICAgICAgICAgICAgICAgICAgICAuLi5lLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBgJHtlLnBhdGh9Lyoke3R9YFxuICAgICAgICAgICAgICAgIH0sIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2FjaGUuY2xlYXIoKTtcbiAgICB9XG4gICAgJGFkZChzLCBpKSB7XG4gICAgICAgIGNvbnN0IG4gPSBzLnBhdGg7XG4gICAgICAgIGNvbnN0IHIgPSB0aGlzLmVuZHBvaW50TG9va3VwO1xuICAgICAgICBpZiAoci5oYXMobikpIHRocm93IGNyZWF0ZUVycm9yKGBDYW5ub3QgYWRkIGR1cGxpY2F0ZSBwYXRoICcke259Jy5gKTtcbiAgICAgICAgY29uc3QgbyA9IG5ldyBDb25maWd1cmFibGVSb3V0ZShuLCBzLmNhc2VTZW5zaXRpdmUgPT09IHRydWUsIHMuaGFuZGxlcik7XG4gICAgICAgIGNvbnN0IGwgPSBuID09PSBcIlwiID8gWyBcIlwiIF0gOiBuLnNwbGl0KFwiL1wiKS5maWx0ZXIoaXNOb3RFbXB0eSk7XG4gICAgICAgIGNvbnN0IGEgPSBbXTtcbiAgICAgICAgbGV0IHUgPSB0aGlzLnJvb3RTdGF0ZTtcbiAgICAgICAgZm9yIChjb25zdCBzIG9mIGwpIHtcbiAgICAgICAgICAgIHUgPSB1LmFwcGVuZChudWxsLCBcIi9cIik7XG4gICAgICAgICAgICBzd2l0Y2ggKHMuY2hhckF0KDApKSB7XG4gICAgICAgICAgICAgIGNhc2UgXCI6XCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBlLmxhc3RJbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGkgPSBlLmV4ZWMocyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHtuYW1lOiBuLCBvcHRpb25hbDogcn0gPSBpPy5ncm91cHMgPz8ge307XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG8gPSByID09PSBcIj9cIjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG4gPT09IHQpIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBwYXJhbWV0ZXIgbmFtZTsgdXNhZ2Ugb2YgdGhlIHJlc2VydmVkIHBhcmFtZXRlciBuYW1lICcke3R9JyBpcyB1c2VkLmApO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsID0gaT8uZ3JvdXBzPy5jb25zdHJhaW50O1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBoID0gbCAhPSBudWxsID8gbmV3IFJlZ0V4cChsKSA6IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGEucHVzaChuZXcgUGFyYW1ldGVyKG4sIG8sIGZhbHNlLCBoKSk7XG4gICAgICAgICAgICAgICAgICAgIHUgPSBuZXcgRHluYW1pY1NlZ21lbnQobiwgbywgaCkuYXBwZW5kVG8odSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBjYXNlIFwiKlwiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZSA9IHMuc2xpY2UoMSk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBuO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZSA9PT0gdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpKSB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgcGFyYW1ldGVyIG5hbWU7IHVzYWdlIG9mIHRoZSByZXNlcnZlZCBwYXJhbWV0ZXIgbmFtZSAnJHt0fScgaXMgdXNlZC5gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG4gPSAxO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbiA9IDI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYS5wdXNoKG5ldyBQYXJhbWV0ZXIoZSwgdHJ1ZSwgdHJ1ZSwgbnVsbCkpO1xuICAgICAgICAgICAgICAgICAgICB1ID0gbmV3IFN0YXJTZWdtZW50KGUsIG4pLmFwcGVuZFRvKHUpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHUgPSBuZXcgU3RhdGljU2VnbWVudChzLCBvLmNhc2VTZW5zaXRpdmUpLmFwcGVuZFRvKHUpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaCA9IG5ldyBFbmRwb2ludChvLCBhKTtcbiAgICAgICAgdS5zZXRFbmRwb2ludChoKTtcbiAgICAgICAgci5zZXQobiwgaCk7XG4gICAgICAgIHJldHVybiBoO1xuICAgIH1cbiAgICByZWNvZ25pemUodCkge1xuICAgICAgICBsZXQgZSA9IHRoaXMuY2FjaGUuZ2V0KHQpO1xuICAgICAgICBpZiAoZSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICB0aGlzLmNhY2hlLnNldCh0LCBlID0gdGhpcy4kcmVjb2duaXplKHQpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZTtcbiAgICB9XG4gICAgJHJlY29nbml6ZSh0KSB7XG4gICAgICAgIHQgPSBkZWNvZGVVUkkodCk7XG4gICAgICAgIGlmICghdC5zdGFydHNXaXRoKFwiL1wiKSkge1xuICAgICAgICAgICAgdCA9IGAvJHt0fWA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHQubGVuZ3RoID4gMSAmJiB0LmVuZHNXaXRoKFwiL1wiKSkge1xuICAgICAgICAgICAgdCA9IHQuc2xpY2UoMCwgLTEpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGUgPSBuZXcgUmVjb2duaXplUmVzdWx0KHRoaXMucm9vdFN0YXRlKTtcbiAgICAgICAgZm9yIChsZXQgcyA9IDAsIGkgPSB0Lmxlbmd0aDsgcyA8IGk7ICsrcykge1xuICAgICAgICAgICAgY29uc3QgaSA9IHQuY2hhckF0KHMpO1xuICAgICAgICAgICAgZS5hZHZhbmNlKGkpO1xuICAgICAgICAgICAgaWYgKGUuaXNFbXB0eSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHMgPSBlLmdldFNvbHV0aW9uKCk7XG4gICAgICAgIGlmIChzID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7ZW5kcG9pbnQ6IGl9ID0gcztcbiAgICAgICAgY29uc3QgbiA9IHMudSgpO1xuICAgICAgICByZXR1cm4gbmV3IFJlY29nbml6ZWRSb3V0ZShpLCBuKTtcbiAgICB9XG4gICAgZ2V0RW5kcG9pbnQodCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lbmRwb2ludExvb2t1cC5nZXQodCkgPz8gbnVsbDtcbiAgICB9XG59XG5cbmNsYXNzIFN0YXRlIHtcbiAgICBjb25zdHJ1Y3Rvcih0LCBlLCBzKSB7XG4gICAgICAgIHRoaXMucHJldlN0YXRlID0gdDtcbiAgICAgICAgdGhpcy5zZWdtZW50ID0gZTtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHM7XG4gICAgICAgIHRoaXMubmV4dFN0YXRlcyA9IG51bGw7XG4gICAgICAgIHRoaXMuZW5kcG9pbnQgPSBudWxsO1xuICAgICAgICB0aGlzLmlzQ29uc3RyYWluZWQgPSBmYWxzZTtcbiAgICAgICAgc3dpdGNoIChlPy5raW5kKSB7XG4gICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgdGhpcy5sZW5ndGggPSB0Lmxlbmd0aCArIDE7XG4gICAgICAgICAgICB0aGlzLmlzU2VwYXJhdG9yID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmlzRHluYW1pYyA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmlzT3B0aW9uYWwgPSBlLm9wdGlvbmFsO1xuICAgICAgICAgICAgdGhpcy5pc0NvbnN0cmFpbmVkID0gZS5pc0NvbnN0cmFpbmVkO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgdGhpcy5sZW5ndGggPSB0Lmxlbmd0aCArIDE7XG4gICAgICAgICAgICB0aGlzLmlzU2VwYXJhdG9yID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmlzRHluYW1pYyA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmlzT3B0aW9uYWwgPSBmYWxzZTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgdGhpcy5sZW5ndGggPSB0Lmxlbmd0aCArIDE7XG4gICAgICAgICAgICB0aGlzLmlzU2VwYXJhdG9yID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmlzRHluYW1pYyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5pc09wdGlvbmFsID0gZmFsc2U7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgdW5kZWZpbmVkOlxuICAgICAgICAgICAgdGhpcy5sZW5ndGggPSB0ID09PSBudWxsID8gMCA6IHQubGVuZ3RoO1xuICAgICAgICAgICAgdGhpcy5pc1NlcGFyYXRvciA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmlzRHluYW1pYyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5pc09wdGlvbmFsID0gZmFsc2U7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICBhcHBlbmQodCwgZSkge1xuICAgICAgICBsZXQgcztcbiAgICAgICAgbGV0IGkgPSB0aGlzLm5leHRTdGF0ZXM7XG4gICAgICAgIGlmIChpID09PSBudWxsKSB7XG4gICAgICAgICAgICBzID0gdm9pZCAwO1xuICAgICAgICAgICAgaSA9IHRoaXMubmV4dFN0YXRlcyA9IFtdO1xuICAgICAgICB9IGVsc2UgaWYgKHQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHMgPSBpLmZpbmQoKHQgPT4gdC52YWx1ZSA9PT0gZSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcyA9IGkuZmluZCgoZSA9PiBlLnNlZ21lbnQ/LmVxdWFscyh0KSkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGkucHVzaChzID0gbmV3IFN0YXRlKHRoaXMsIHQsIGUpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcztcbiAgICB9XG4gICAgc2V0RW5kcG9pbnQodCkge1xuICAgICAgICBpZiAodGhpcy5lbmRwb2ludCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoYENhbm5vdCBhZGQgYW1iaWd1b3VzIHJvdXRlLiBUaGUgcGF0dGVybiAnJHt0LnJvdXRlLnBhdGh9JyBjbGFzaGVzIHdpdGggJyR7dGhpcy5lbmRwb2ludC5yb3V0ZS5wYXRofSdgKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVuZHBvaW50ID0gdDtcbiAgICAgICAgaWYgKHRoaXMuaXNPcHRpb25hbCkge1xuICAgICAgICAgICAgdGhpcy5wcmV2U3RhdGUuc2V0RW5kcG9pbnQodCk7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2U3RhdGUuaXNTZXBhcmF0b3IgJiYgdGhpcy5wcmV2U3RhdGUucHJldlN0YXRlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcmV2U3RhdGUucHJldlN0YXRlLnNldEVuZHBvaW50KHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGlzTWF0Y2godCkge1xuICAgICAgICBjb25zdCBlID0gdGhpcy5zZWdtZW50O1xuICAgICAgICBzd2l0Y2ggKGU/LmtpbmQpIHtcbiAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICByZXR1cm4gIXRoaXMudmFsdWUuaW5jbHVkZXModCk7XG5cbiAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgY2FzZSB1bmRlZmluZWQ6XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52YWx1ZS5pbmNsdWRlcyh0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzYXRpc2ZpZXNDb25zdHJhaW50KHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNDb25zdHJhaW5lZCA/IHRoaXMuc2VnbWVudC5zYXRpc2ZpZXNQYXR0ZXJuKHQpIDogdHJ1ZTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGlzTm90RW1wdHkodCkge1xuICAgIHJldHVybiB0Lmxlbmd0aCA+IDA7XG59XG5cbmNsYXNzIFN0YXRpY1NlZ21lbnQge1xuICAgIGdldCBraW5kKCkge1xuICAgICAgICByZXR1cm4gNDtcbiAgICB9XG4gICAgY29uc3RydWN0b3IodCwgZSkge1xuICAgICAgICB0aGlzLnZhbHVlID0gdDtcbiAgICAgICAgdGhpcy5jYXNlU2Vuc2l0aXZlID0gZTtcbiAgICB9XG4gICAgYXBwZW5kVG8odCkge1xuICAgICAgICBjb25zdCB7dmFsdWU6IGUsIHZhbHVlOiB7bGVuZ3RoOiBzfX0gPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5jYXNlU2Vuc2l0aXZlKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHM7ICsraSkge1xuICAgICAgICAgICAgICAgIHQgPSB0LmFwcGVuZCh0aGlzLCBlLmNoYXJBdChpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHM7ICsraSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHMgPSBlLmNoYXJBdChpKTtcbiAgICAgICAgICAgICAgICB0ID0gdC5hcHBlbmQodGhpcywgcy50b1VwcGVyQ2FzZSgpICsgcy50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9XG4gICAgZXF1YWxzKHQpIHtcbiAgICAgICAgcmV0dXJuIHQua2luZCA9PT0gNCAmJiB0LmNhc2VTZW5zaXRpdmUgPT09IHRoaXMuY2FzZVNlbnNpdGl2ZSAmJiB0LnZhbHVlID09PSB0aGlzLnZhbHVlO1xuICAgIH1cbn1cblxuY2xhc3MgRHluYW1pY1NlZ21lbnQge1xuICAgIGdldCBraW5kKCkge1xuICAgICAgICByZXR1cm4gMztcbiAgICB9XG4gICAgY29uc3RydWN0b3IodCwgZSwgcykge1xuICAgICAgICB0aGlzLm5hbWUgPSB0O1xuICAgICAgICB0aGlzLm9wdGlvbmFsID0gZTtcbiAgICAgICAgdGhpcy5wYXR0ZXJuID0gcztcbiAgICAgICAgaWYgKHMgPT09IHZvaWQgMCkgdGhyb3cgbmV3IEVycm9yKGBQYXR0ZXJuIGlzIHVuZGVmaW5lZGApO1xuICAgICAgICB0aGlzLmlzQ29uc3RyYWluZWQgPSBzICE9PSBudWxsO1xuICAgIH1cbiAgICBhcHBlbmRUbyh0KSB7XG4gICAgICAgIHQgPSB0LmFwcGVuZCh0aGlzLCBcIi9cIik7XG4gICAgICAgIHJldHVybiB0O1xuICAgIH1cbiAgICBlcXVhbHModCkge1xuICAgICAgICByZXR1cm4gdC5raW5kID09PSAzICYmIHQub3B0aW9uYWwgPT09IHRoaXMub3B0aW9uYWwgJiYgdC5uYW1lID09PSB0aGlzLm5hbWU7XG4gICAgfVxuICAgIHNhdGlzZmllc1BhdHRlcm4odCkge1xuICAgICAgICBpZiAodGhpcy5wYXR0ZXJuID09PSBudWxsKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgdGhpcy5wYXR0ZXJuLmxhc3RJbmRleCA9IDA7XG4gICAgICAgIHJldHVybiB0aGlzLnBhdHRlcm4udGVzdCh0KTtcbiAgICB9XG59XG5cbmNsYXNzIFN0YXJTZWdtZW50IHtcbiAgICBjb25zdHJ1Y3Rvcih0LCBlKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IHQ7XG4gICAgICAgIHRoaXMua2luZCA9IGU7XG4gICAgfVxuICAgIGFwcGVuZFRvKHQpIHtcbiAgICAgICAgdCA9IHQuYXBwZW5kKHRoaXMsIFwiXCIpO1xuICAgICAgICByZXR1cm4gdDtcbiAgICB9XG4gICAgZXF1YWxzKHQpIHtcbiAgICAgICAgcmV0dXJuICh0LmtpbmQgPT09IDIgfHwgdC5raW5kID09PSAxKSAmJiB0Lm5hbWUgPT09IHRoaXMubmFtZTtcbiAgICB9XG59XG5cbmNvbnN0IGNyZWF0ZUVycm9yID0gdCA9PiBuZXcgRXJyb3IodCk7XG5cbmV4cG9ydCB7IENvbmZpZ3VyYWJsZVJvdXRlLCBFbmRwb2ludCwgUGFyYW1ldGVyLCB0IGFzIFJFU0lEVUUsIFJlY29nbml6ZWRSb3V0ZSwgUm91dGVSZWNvZ25pemVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/route-recognizer/dist/esm/index.mjs\n\n}");

/***/ },

/***/ "./node_modules/@aurelia/router-lite/dist/esm/index.mjs"
/*!**************************************************************!*\
  !*** ./node_modules/@aurelia/router-lite/dist/esm/index.mjs ***!
  \**************************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AST: () => (/* binding */ K),\n/* harmony export */   AuNavId: () => (/* binding */ H),\n/* harmony export */   ComponentExpression: () => (/* binding */ ComponentExpression),\n/* harmony export */   CompositeSegmentExpression: () => (/* binding */ CompositeSegmentExpression),\n/* harmony export */   DefaultComponents: () => (/* binding */ ut),\n/* harmony export */   DefaultResources: () => (/* binding */ pt),\n/* harmony export */   HrefCustomAttribute: () => (/* binding */ HrefCustomAttribute),\n/* harmony export */   HrefCustomAttributeRegistration: () => (/* binding */ ft),\n/* harmony export */   ICurrentRoute: () => (/* binding */ wt),\n/* harmony export */   ILocationManager: () => (/* binding */ F),\n/* harmony export */   IRouteContext: () => (/* binding */ rt),\n/* harmony export */   IRouter: () => (/* binding */ tt),\n/* harmony export */   IRouterEvents: () => (/* binding */ D),\n/* harmony export */   IRouterOptions: () => (/* binding */ it),\n/* harmony export */   IStateManager: () => (/* binding */ dt),\n/* harmony export */   LoadCustomAttribute: () => (/* binding */ LoadCustomAttribute),\n/* harmony export */   LoadCustomAttributeRegistration: () => (/* binding */ lt),\n/* harmony export */   LocationChangeEvent: () => (/* binding */ LocationChangeEvent),\n/* harmony export */   NavigationCancelEvent: () => (/* binding */ NavigationCancelEvent),\n/* harmony export */   NavigationEndEvent: () => (/* binding */ NavigationEndEvent),\n/* harmony export */   NavigationErrorEvent: () => (/* binding */ NavigationErrorEvent),\n/* harmony export */   NavigationOptions: () => (/* binding */ NavigationOptions),\n/* harmony export */   NavigationStartEvent: () => (/* binding */ NavigationStartEvent),\n/* harmony export */   ParameterExpression: () => (/* binding */ ParameterExpression),\n/* harmony export */   ParameterListExpression: () => (/* binding */ ParameterListExpression),\n/* harmony export */   Route: () => (/* binding */ W),\n/* harmony export */   RouteConfig: () => (/* binding */ RouteConfig),\n/* harmony export */   RouteContext: () => (/* binding */ RouteContext),\n/* harmony export */   RouteExpression: () => (/* binding */ RouteExpression),\n/* harmony export */   RouteNode: () => (/* binding */ RouteNode),\n/* harmony export */   RouteTree: () => (/* binding */ RouteTree),\n/* harmony export */   Router: () => (/* binding */ Router),\n/* harmony export */   RouterConfiguration: () => (/* binding */ gt),\n/* harmony export */   RouterOptions: () => (/* binding */ RouterOptions),\n/* harmony export */   RouterRegistration: () => (/* binding */ ct),\n/* harmony export */   ScopedSegmentExpression: () => (/* binding */ ScopedSegmentExpression),\n/* harmony export */   SegmentExpression: () => (/* binding */ SegmentExpression),\n/* harmony export */   SegmentGroupExpression: () => (/* binding */ SegmentGroupExpression),\n/* harmony export */   Transition: () => (/* binding */ Transition),\n/* harmony export */   ViewportAgent: () => (/* binding */ ViewportAgent),\n/* harmony export */   ViewportCustomElement: () => (/* binding */ ViewportCustomElement),\n/* harmony export */   ViewportCustomElementRegistration: () => (/* binding */ ht),\n/* harmony export */   ViewportExpression: () => (/* binding */ ViewportExpression),\n/* harmony export */   fragmentUrlParser: () => (/* binding */ st),\n/* harmony export */   isManagedState: () => (/* binding */ isManagedState),\n/* harmony export */   pathUrlParser: () => (/* binding */ et),\n/* harmony export */   route: () => (/* binding */ route),\n/* harmony export */   toManagedState: () => (/* binding */ toManagedState)\n/* harmony export */ });\n/* harmony import */ var _aurelia_metadata__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/metadata */ \"./node_modules/@aurelia/metadata/dist/esm/index.mjs\");\n/* harmony import */ var _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @aurelia/kernel */ \"./node_modules/@aurelia/kernel/dist/esm/index.mjs\");\n/* harmony import */ var _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @aurelia/runtime-html */ \"./node_modules/@aurelia/runtime-html/dist/esm/index.mjs\");\n/* harmony import */ var _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @aurelia/runtime-html */ \"./node_modules/@aurelia/template-compiler/dist/esm/index.mjs\");\n/* harmony import */ var _aurelia_route_recognizer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @aurelia/route-recognizer */ \"./node_modules/@aurelia/route-recognizer/dist/esm/index.mjs\");\n/* harmony import */ var _aurelia_runtime__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @aurelia/runtime */ \"./node_modules/@aurelia/runtime/dist/esm/index.mjs\");\n\n\n\n\n\n\n\n\n\n\nfunction error(t, e, ...s) {\n    {\n        t.error(`AUR${e}`, ...s.map((t => String(t))));\n    }\n}\n\nfunction getMessage(t, ...e) {\n    return `AUR${t}:${e.map((t => String(t))).join(\":\")}`;\n}\n\nfunction logAndThrow(t, e) {\n    e.error(t);\n    throw t;\n}\n\nclass Batch {\n    constructor(t, e, s) {\n        this.t = t;\n        this.i = e;\n        this.u = false;\n        this.h = null;\n        this.R = s ?? this;\n    }\n    static C(t) {\n        return new Batch(0, t, null);\n    }\n    N() {\n        let t = this;\n        do {\n            ++t.t;\n            t = t.h;\n        } while (t !== null);\n    }\n    $() {\n        let t = this;\n        do {\n            if (--t.t === 0) {\n                t._();\n            }\n            t = t.h;\n        } while (t !== null);\n    }\n    _() {\n        const t = this.i;\n        if (t !== null) {\n            this.i = null;\n            t(this);\n            this.u = true;\n        }\n    }\n    T(t) {\n        if (this.h === null) {\n            return this.h = new Batch(this.t, t, this.R);\n        } else {\n            return this.h.T(t);\n        }\n    }\n    C() {\n        this.R.N();\n        this.R.$();\n        return this;\n    }\n}\n\nfunction mergeDistinct(t, e) {\n    t = t.slice();\n    e = e.slice();\n    const s = [];\n    while (t.length > 0) {\n        const i = t.shift();\n        const n = i.context.vpa;\n        if (s.every((t => t.context.vpa !== n))) {\n            const t = e.findIndex((t => t.context.vpa === n));\n            if (t >= 0) {\n                s.push(...e.splice(0, t + 1));\n            } else {\n                s.push(i);\n            }\n        }\n    }\n    s.push(...e);\n    return s;\n}\n\nfunction tryStringify(t) {\n    try {\n        return JSON.stringify(t);\n    } catch {\n        return Object.prototype.toString.call(t);\n    }\n}\n\nfunction ensureArrayOfStrings(t) {\n    return typeof t === \"string\" ? [ t ] : t;\n}\n\nfunction ensureString(t) {\n    return typeof t === \"string\" ? t : t[0];\n}\n\nfunction mergeURLSearchParams(t, e, s) {\n    const i = s ? new URLSearchParams(t) : t;\n    if (e == null) return i;\n    for (const [t, s] of Object.entries(e)) {\n        if (s == null) continue;\n        i.append(t, s);\n    }\n    return i;\n}\n\nconst z = _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_3__.BindingMode.toView;\n\nconst B = _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_3__.BindingMode.fromView;\n\nfunction isNotNullishOrTypeOrViewModel(t) {\n    return typeof t === \"object\" && t !== null && !(0,_aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_2__.isCustomElementViewModel)(t);\n}\n\nfunction isPartialCustomElementDefinition(t) {\n    return isNotNullishOrTypeOrViewModel(t) && Object.prototype.hasOwnProperty.call(t, \"name\") === true;\n}\n\nfunction isPartialChildRouteConfig(t) {\n    return isNotNullishOrTypeOrViewModel(t) && Object.prototype.hasOwnProperty.call(t, \"component\") === true;\n}\n\nfunction isPartialRedirectRouteConfig(t) {\n    return isNotNullishOrTypeOrViewModel(t) && Object.prototype.hasOwnProperty.call(t, \"redirectTo\") === true;\n}\n\nfunction isPartialViewportInstruction(t) {\n    return isNotNullishOrTypeOrViewModel(t) && Object.prototype.hasOwnProperty.call(t, \"component\") === true;\n}\n\nfunction expectType(t, e, s) {\n    throw new Error(getMessage(3554, e, t, tryStringify(s)));\n}\n\nfunction validateRouteConfig(t, e) {\n    if (t == null) throw new Error(getMessage(3555, t));\n    const s = Object.keys(t);\n    for (const i of s) {\n        const s = t[i];\n        const n = [ e, i ].join(\".\");\n        switch (i) {\n          case \"id\":\n          case \"viewport\":\n          case \"redirectTo\":\n            if (typeof s !== \"string\") {\n                expectType(\"string\", n, s);\n            }\n            break;\n\n          case \"caseSensitive\":\n          case \"nav\":\n            if (typeof s !== \"boolean\") {\n                expectType(\"boolean\", n, s);\n            }\n            break;\n\n          case \"data\":\n            if (typeof s !== \"object\" || s === null) {\n                expectType(\"object\", n, s);\n            }\n            break;\n\n          case \"title\":\n            switch (typeof s) {\n              case \"string\":\n              case \"function\":\n                break;\n\n              default:\n                expectType(\"string or function\", n, s);\n            }\n            break;\n\n          case \"path\":\n            if (s instanceof Array) {\n                for (let t = 0; t < s.length; ++t) {\n                    if (typeof s[t] !== \"string\") {\n                        expectType(\"string\", `${n}[${t}]`, s[t]);\n                    }\n                }\n            } else if (typeof s !== \"string\") {\n                expectType(\"string or Array of strings\", n, s);\n            }\n            break;\n\n          case \"component\":\n            validateComponent(s, n, \"component\");\n            break;\n\n          case \"routes\":\n            {\n                if (!(s instanceof Array)) {\n                    expectType(\"Array\", n, s);\n                }\n                for (const t of s) {\n                    const e = `${n}[${s.indexOf(t)}]`;\n                    validateComponent(t, e, \"component\");\n                }\n                break;\n            }\n\n          case \"transitionPlan\":\n            switch (typeof s) {\n              case \"string\":\n                switch (s) {\n                  case \"none\":\n                  case \"replace\":\n                  case \"invoke-lifecycles\":\n                    break;\n\n                  default:\n                    expectType(\"string('none'|'replace'|'invoke-lifecycles') or function\", n, s);\n                }\n                break;\n\n              case \"function\":\n                break;\n\n              default:\n                expectType(\"string('none'|'replace'|'invoke-lifecycles') or function\", n, s);\n            }\n            break;\n\n          case \"fallback\":\n            validateComponent(s, n, \"fallback\");\n            break;\n\n          default:\n            throw new Error(getMessage(3556, e, i));\n        }\n    }\n}\n\nfunction validateRedirectRouteConfig(t, e) {\n    if (t == null) throw new Error(getMessage(3555, t));\n    const s = Object.keys(t);\n    for (const i of s) {\n        const s = t[i];\n        const n = [ e, i ].join(\".\");\n        switch (i) {\n          case \"path\":\n            if (s instanceof Array) {\n                for (let t = 0; t < s.length; ++t) {\n                    if (typeof s[t] !== \"string\") {\n                        expectType(\"string\", `${n}[${t}]`, s[t]);\n                    }\n                }\n            } else if (typeof s !== \"string\") {\n                expectType(\"string or Array of strings\", n, s);\n            }\n            break;\n\n          case \"redirectTo\":\n            if (typeof s !== \"string\") {\n                expectType(\"string\", n, s);\n            }\n            break;\n\n          default:\n            throw new Error(getMessage(3557, e, i));\n        }\n    }\n}\n\nfunction validateComponent(t, e, s) {\n    switch (typeof t) {\n      case \"function\":\n        break;\n\n      case \"object\":\n        if (t instanceof Promise) {\n            break;\n        }\n        if (isPartialRedirectRouteConfig(t)) {\n            validateRedirectRouteConfig(t, e);\n            break;\n        }\n        if (isPartialChildRouteConfig(t)) {\n            validateRouteConfig(t, e);\n            break;\n        }\n        if (!(0,_aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_2__.isCustomElementViewModel)(t) && !isPartialCustomElementDefinition(t)) {\n            expectType(`an object with at least a '${s}' property (see Routeable)`, e, t);\n        }\n        break;\n\n      case \"string\":\n        break;\n\n      default:\n        expectType(\"function, object or string (see Routeable)\", e, t);\n    }\n}\n\nfunction shallowEquals(t, e) {\n    if (t === e) {\n        return true;\n    }\n    if (typeof t !== typeof e) {\n        return false;\n    }\n    if (t === null || e === null) {\n        return false;\n    }\n    if (Object.getPrototypeOf(t) !== Object.getPrototypeOf(e)) {\n        return false;\n    }\n    const s = Object.keys(t);\n    const i = Object.keys(e);\n    if (s.length !== i.length) {\n        return false;\n    }\n    for (let n = 0, r = s.length; n < r; ++n) {\n        const r = s[n];\n        if (r !== i[n]) {\n            return false;\n        }\n        if (t[r] !== e[r]) {\n            return false;\n        }\n    }\n    return true;\n}\n\nconst H = \"au-nav-id\";\n\nclass Subscription {\n    constructor(t, e, s) {\n        this.I = t;\n        this.P = e;\n        this.V = s;\n        this.A = false;\n    }\n    dispose() {\n        if (!this.A) {\n            this.A = true;\n            this.V.dispose();\n            const t = this.I[\"O\"];\n            t.splice(t.indexOf(this), 1);\n        }\n    }\n}\n\nconst D = /*@__PURE__*/ _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.DI.createInterface(\"IRouterEvents\", (t => t.singleton(RouterEvents)));\n\nclass RouterEvents {\n    constructor() {\n        this.M = 0;\n        this.O = [];\n        this.j = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.IEventAggregator);\n        this.L = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.ILogger).scopeTo(\"RouterEvents\");\n    }\n    publish(t) {\n        this.j.publish(t.name, t);\n    }\n    subscribe(t, e) {\n        const s = new Subscription(this, ++this.M, this.j.subscribe(t, (t => {\n            e(t);\n        })));\n        this.O.push(s);\n        return s;\n    }\n}\n\nclass LocationChangeEvent {\n    get name() {\n        return \"au:router:location-change\";\n    }\n    constructor(t, e, s, i) {\n        this.id = t;\n        this.url = e;\n        this.trigger = s;\n        this.state = i;\n    }\n    toString() {\n        return `LocationChangeEvent`;\n    }\n}\n\nclass NavigationStartEvent {\n    get name() {\n        return \"au:router:navigation-start\";\n    }\n    constructor(t, e, s, i) {\n        this.id = t;\n        this.instructions = e;\n        this.trigger = s;\n        this.managedState = i;\n    }\n    toString() {\n        return `NavigationStartEvent`;\n    }\n}\n\nclass NavigationEndEvent {\n    get name() {\n        return \"au:router:navigation-end\";\n    }\n    constructor(t, e, s) {\n        this.id = t;\n        this.instructions = e;\n        this.finalInstructions = s;\n    }\n    toString() {\n        return `NavigationEndEvent`;\n    }\n}\n\nclass NavigationCancelEvent {\n    get name() {\n        return \"au:router:navigation-cancel\";\n    }\n    constructor(t, e, s) {\n        this.id = t;\n        this.instructions = e;\n        this.reason = s;\n    }\n    toString() {\n        return `NavigationCancelEvent`;\n    }\n}\n\nclass NavigationErrorEvent {\n    get name() {\n        return \"au:router:navigation-error\";\n    }\n    constructor(t, e, s) {\n        this.id = t;\n        this.instructions = e;\n        this.error = s;\n    }\n    toString() {\n        return `NavigationErrorEvent`;\n    }\n}\n\nconst q = /*@__PURE__*/ _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.DI.createInterface(\"IBaseHref\");\n\nconst F = /*@__PURE__*/ _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.DI.createInterface(\"ILocationManager\", (t => t.singleton(BrowserLocationManager)));\n\nclass BrowserLocationManager {\n    constructor() {\n        this.U = 0;\n        this.L = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.ILogger).root.scopeTo(\"LocationManager\");\n        this.I = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(D);\n        this.B = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(_aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_2__.IHistory);\n        this.l = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(_aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_2__.ILocation);\n        this.H = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(_aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_2__.IWindow);\n        this.q = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(q);\n        this.F = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(it).useUrlFragmentHash ? \"hashchange\" : \"popstate\";\n    }\n    startListening() {\n        this.H.addEventListener(this.F, this, false);\n    }\n    stopListening() {\n        this.H.removeEventListener(this.F, this, false);\n    }\n    handleEvent(t) {\n        this.I.publish(new LocationChangeEvent(++this.U, this.getPath(), this.F, \"state\" in t ? t.state : null));\n    }\n    pushState(t, e, s) {\n        s = this.addBaseHref(s);\n        this.B.pushState(t, e, s);\n    }\n    replaceState(t, e, s) {\n        s = this.addBaseHref(s);\n        this.B.replaceState(t, e, s);\n    }\n    getPath() {\n        const {pathname: t, search: e, hash: s} = this.l;\n        return this.removeBaseHref(`${t}${normalizeQuery(e)}${s}`);\n    }\n    addBaseHref(t) {\n        let e;\n        let s = this.q.href;\n        if (s.endsWith(\"/\")) {\n            s = s.slice(0, -1);\n        }\n        if (s.length === 0) {\n            e = t;\n        } else {\n            if (t.startsWith(\"/\")) {\n                t = t.slice(1);\n            }\n            e = `${s}/${t}`;\n        }\n        return e;\n    }\n    removeBaseHref(t) {\n        const e = this.q.pathname;\n        if (t.startsWith(e)) {\n            t = t.slice(e.length);\n        }\n        return normalizePath(t);\n    }\n}\n\nfunction normalizePath(t) {\n    let e;\n    let s;\n    let i;\n    if ((i = t.indexOf(\"?\")) >= 0 || (i = t.indexOf(\"#\")) >= 0) {\n        e = t.slice(0, i);\n        s = t.slice(i);\n    } else {\n        e = t;\n        s = \"\";\n    }\n    if (e.endsWith(\"/\")) {\n        e = e.slice(0, -1);\n    } else if (e.endsWith(\"/index.html\")) {\n        e = e.slice(0, -11);\n    }\n    return `${e}${s}`;\n}\n\nfunction normalizeQuery(t) {\n    return t.length > 0 && !t.startsWith(\"?\") ? `?${t}` : t;\n}\n\nconst G = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.emptyArray;\n\nclass RouteConfig {\n    get path() {\n        const t = this.G;\n        if (t.length > 0) return t;\n        const e = _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_2__.CustomElement.getDefinition(this.component);\n        return this.G = [ e.name, ...e.aliases ];\n    }\n    constructor(t, e, s, i, n, r, o, a, c, u, h, l) {\n        this.id = t;\n        this.G = e;\n        this.title = s;\n        this.redirectTo = i;\n        this.caseSensitive = n;\n        this.transitionPlan = r;\n        this.viewport = o;\n        this.data = a;\n        this.routes = c;\n        this.fallback = u;\n        this.component = h;\n        this.nav = l;\n        this.W = false;\n    }\n    static J(t, e) {\n        if (typeof t === \"string\" || t instanceof Array) {\n            const s = ensureArrayOfStrings(t);\n            const i = e?.redirectTo ?? null;\n            const n = e?.caseSensitive ?? false;\n            const r = ensureString(e?.id ?? (s instanceof Array ? s[0] : s));\n            const o = e?.title ?? null;\n            const a = e?.transitionPlan ?? null;\n            const c = e?.viewport ?? nt;\n            const u = e?.data ?? {};\n            const h = e?.routes ?? G;\n            return new RouteConfig(r, s, o, i, n, a, c, u, h, e?.fallback ?? null, e, e?.nav ?? true);\n        } else if (typeof t === \"object\") {\n            const s = t;\n            validateRouteConfig(s, \"\");\n            const i = ensureArrayOfStrings(s.path ?? e?.path ?? _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.emptyArray);\n            const n = s.title ?? e?.title ?? null;\n            const r = s.redirectTo ?? e?.redirectTo ?? null;\n            const a = s.caseSensitive ?? e?.caseSensitive ?? false;\n            const c = s.id ?? e?.id ?? (i instanceof Array ? i[0] : i);\n            const u = s.transitionPlan ?? e?.transitionPlan ?? null;\n            const h = s.viewport ?? e?.viewport ?? nt;\n            const l = {\n                ...e?.data,\n                ...s.data\n            };\n            const f = [ ...s.routes ?? G, ...e?.routes ?? G ];\n            return new RouteConfig(c, i, n, r, a, u, h, l, f, s.fallback ?? e?.fallback ?? null, s.component ?? e ?? null, s.nav ?? true);\n        } else {\n            expectType(\"string, function/class or object\", \"\", t);\n        }\n    }\n    K(t, e) {\n        validateRouteConfig(t, this.path[0] ?? \"\");\n        const s = ensureArrayOfStrings(t.path ?? this.path);\n        return new RouteConfig(ensureString(t.id ?? this.id ?? s), s, t.title ?? this.title, t.redirectTo ?? this.redirectTo, t.caseSensitive ?? this.caseSensitive, t.transitionPlan ?? this.transitionPlan ?? e?.transitionPlan ?? null, t.viewport ?? this.viewport, t.data ?? this.data, t.routes ?? this.routes, t.fallback ?? this.fallback ?? e?.fallback ?? null, this.component, t.nav ?? this.nav);\n    }\n    X(t, e, s) {\n        if (hasSamePath(t, e) && shallowEquals(t.params, e.params)) return \"none\";\n        if (s != null) return s;\n        const i = this.transitionPlan ?? \"replace\";\n        return typeof i === \"function\" ? i(t, e) : i;\n        function cleanPath(t) {\n            return t.replace(`/*${_aurelia_route_recognizer__WEBPACK_IMPORTED_MODULE_4__.RESIDUE}`, \"\");\n        }\n        function hasSamePath(t, e) {\n            const s = t.finalPath;\n            const i = e.finalPath;\n            return s.length === 0 || i.length === 0 || cleanPath(s) === cleanPath(i);\n        }\n    }\n    Y(t, e, s) {\n        if (this.W) throw new Error(getMessage(3550));\n        if (typeof t.getRouteConfig !== \"function\") return;\n        return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)(t.getRouteConfig(e, s), (t => {\n            this.W = true;\n            if (t == null) return;\n            let s = e?.path ?? \"\";\n            if (typeof s !== \"string\") {\n                s = s[0];\n            }\n            validateRouteConfig(t, s);\n            this.id = t.id ?? this.id;\n            this.G = ensureArrayOfStrings(t.path ?? this.path);\n            this.title = t.title ?? this.title;\n            this.redirectTo = t.redirectTo ?? this.redirectTo;\n            this.caseSensitive = t.caseSensitive ?? this.caseSensitive;\n            this.transitionPlan = t.transitionPlan ?? this.transitionPlan;\n            this.viewport = t.viewport ?? this.viewport;\n            this.data = t.data ?? this.data;\n            this.routes = t.routes ?? this.routes;\n            this.fallback = t.fallback ?? this.fallback;\n            this.nav = t.nav ?? this.nav;\n        }));\n    }\n    Z() {\n        return new RouteConfig(this.id, this.path, this.title, this.redirectTo, this.caseSensitive, this.transitionPlan, this.viewport, this.data, this.routes, this.fallback, this.component, this.nav);\n    }\n    tt(t, e, s) {\n        const i = this.fallback;\n        return typeof i === \"function\" && !_aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_2__.CustomElement.isType(i) ? i(t, e, s) : i;\n    }\n}\n\nconst W = {\n    name: /*@__PURE__*/ (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.getResourceKeyFor)(\"route-configuration\"),\n    isConfigured(e) {\n        return _aurelia_metadata__WEBPACK_IMPORTED_MODULE_0__.Metadata.has(W.name, e);\n    },\n    configure(e, s) {\n        const i = RouteConfig.J(e, s);\n        _aurelia_metadata__WEBPACK_IMPORTED_MODULE_0__.Metadata.define(i, s, W.name);\n        return s;\n    },\n    getConfig(e) {\n        if (!W.isConfigured(e)) {\n            W.configure({}, e);\n        }\n        return _aurelia_metadata__WEBPACK_IMPORTED_MODULE_0__.Metadata.get(W.name, e);\n    }\n};\n\nfunction route(t) {\n    return function(e, s) {\n        s.addInitializer((function() {\n            W.configure(t, this);\n        }));\n        return e;\n    };\n}\n\nfunction resolveRouteConfiguration(t, e, s, i, n) {\n    if (isPartialRedirectRouteConfig(t)) return RouteConfig.J(t, null);\n    const [r, o] = resolveCustomElementDefinition(t, n);\n    return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)(o, (n => {\n        const o = n.Type;\n        const c = W.getConfig(o);\n        if (isPartialChildRouteConfig(t)) return c.K(t, s);\n        if (e) return c.Z();\n        if (!c.W && r.type === 4 && typeof t.getRouteConfig === \"function\") {\n            return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)(c.Y(t, s, i), (() => c));\n        }\n        return c;\n    }));\n}\n\nfunction resolveCustomElementDefinition(t, e) {\n    const s = createNavigationInstruction(t);\n    let i;\n    switch (s.type) {\n      case 0:\n        {\n            if (e == null) throw new Error(getMessage(3551));\n            const t = _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_2__.CustomElement.find(e.container, s.value);\n            if (t === null) throw new Error(getMessage(3552, s.value, e));\n            i = t;\n            break;\n        }\n\n      case 2:\n        i = s.value;\n        break;\n\n      case 4:\n        i = _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_2__.CustomElement.getDefinition(s.value.constructor);\n        break;\n\n      case 3:\n        if (e == null) throw new Error(getMessage(3553));\n        i = e.et(s.value);\n        break;\n    }\n    return [ s, i ];\n}\n\nfunction createNavigationInstruction(t) {\n    return isPartialChildRouteConfig(t) ? createNavigationInstruction(t.component) : TypedNavigationInstruction.create(t);\n}\n\nconst Q = [ \"?\", \"#\", \"/\", \"+\", \"(\", \")\", \".\", \"@\", \"!\", \"=\", \",\", \"&\", \"'\", \"~\", \";\" ];\n\nclass ParserState {\n    get u() {\n        return this.st.length === 0;\n    }\n    constructor(t) {\n        this.it = t;\n        this.nt = [];\n        this.rt = 0;\n        this.ot = 0;\n        this.st = t;\n    }\n    ct(...t) {\n        const e = this.st;\n        return t.some((function(t) {\n            return e.startsWith(t);\n        }));\n    }\n    ut(t) {\n        if (this.ct(t)) {\n            this.st = this.st.slice(t.length);\n            this.ot += t.length;\n            this.ht(t);\n            return true;\n        }\n        return false;\n    }\n    lt(t) {\n        if (!this.ut(t)) {\n            this.ft(`'${t}'`);\n        }\n    }\n    ft(t) {\n        throw new Error(getMessage(3500, t, this.ot, this.it, this.st, this.st));\n    }\n    gt() {\n        if (!this.u) {\n            throw new Error(getMessage(3501, this.st, this.ot, this.it));\n        }\n    }\n    dt() {\n        const t = this.st[0];\n        this.st = this.st.slice(1);\n        ++this.ot;\n        this.ht(t);\n    }\n    wt() {\n        this.nt[this.rt++] = \"\";\n    }\n    vt() {\n        const t = --this.rt;\n        const e = this.nt;\n        const s = e[t];\n        e[t] = \"\";\n        return s;\n    }\n    Et() {\n        this.nt[--this.rt] = \"\";\n    }\n    ht(t) {\n        const e = this.rt;\n        const s = this.nt;\n        for (let i = 0; i < e; ++i) {\n            s[i] += t;\n        }\n    }\n}\n\nconst J = new Map;\n\nclass RouteExpression {\n    get kind() {\n        return \"Route\";\n    }\n    constructor(t, e, s, i) {\n        this.isAbsolute = t;\n        this.root = e;\n        this.queryParams = s;\n        this.fragment = i;\n    }\n    static parse(t) {\n        const e = t.toString();\n        let s = J.get(e);\n        if (s === void 0) {\n            J.set(e, s = RouteExpression.Rt(t));\n        }\n        return s;\n    }\n    static Rt(t) {\n        const e = t.path;\n        if (e === \"\") {\n            return new RouteExpression(false, SegmentExpression.Empty, t.query, t.fragment);\n        }\n        const s = new ParserState(e);\n        s.wt();\n        const i = s.ut(\"/\");\n        const n = CompositeSegmentExpression.yt(s);\n        s.gt();\n        s.Et();\n        return new RouteExpression(i, n, t.query, t.fragment);\n    }\n    toInstructionTree(t) {\n        return new ViewportInstructionTree(t, this.isAbsolute, this.root.bt(0, 0), mergeURLSearchParams(this.queryParams, t.queryParams, true), this.fragment ?? t.fragment);\n    }\n}\n\nclass CompositeSegmentExpression {\n    get kind() {\n        return \"CompositeSegment\";\n    }\n    constructor(t) {\n        this.siblings = t;\n    }\n    static yt(t) {\n        t.wt();\n        const e = t.ut(\"+\");\n        const s = [];\n        do {\n            s.push(ScopedSegmentExpression.yt(t));\n        } while (t.ut(\"+\"));\n        if (!e && s.length === 1) {\n            t.Et();\n            return s[0];\n        }\n        t.Et();\n        return new CompositeSegmentExpression(s);\n    }\n    bt(t, e) {\n        switch (this.siblings.length) {\n          case 0:\n            return [];\n\n          case 1:\n            return this.siblings[0].bt(t, e);\n\n          case 2:\n            return [ ...this.siblings[0].bt(t, 0), ...this.siblings[1].bt(0, e) ];\n\n          default:\n            return [ ...this.siblings[0].bt(t, 0), ...this.siblings.slice(1, -1).flatMap((function(t) {\n                return t.bt(0, 0);\n            })), ...this.siblings[this.siblings.length - 1].bt(0, e) ];\n        }\n    }\n}\n\nclass ScopedSegmentExpression {\n    get kind() {\n        return \"ScopedSegment\";\n    }\n    constructor(t, e) {\n        this.left = t;\n        this.right = e;\n    }\n    static yt(t) {\n        t.wt();\n        const e = SegmentGroupExpression.yt(t);\n        if (t.ut(\"/\")) {\n            const s = ScopedSegmentExpression.yt(t);\n            t.Et();\n            return new ScopedSegmentExpression(e, s);\n        }\n        t.Et();\n        return e;\n    }\n    bt(t, e) {\n        const s = this.left.bt(t, 0);\n        const i = this.right.bt(0, e);\n        let n = s[s.length - 1];\n        while (n.children.length > 0) {\n            n = n.children[n.children.length - 1];\n        }\n        n.children.push(...i);\n        return s;\n    }\n}\n\nclass SegmentGroupExpression {\n    get kind() {\n        return \"SegmentGroup\";\n    }\n    constructor(t) {\n        this.expression = t;\n    }\n    static yt(t) {\n        t.wt();\n        if (t.ut(\"(\")) {\n            const e = CompositeSegmentExpression.yt(t);\n            t.lt(\")\");\n            t.Et();\n            return new SegmentGroupExpression(e);\n        }\n        t.Et();\n        return SegmentExpression.yt(t);\n    }\n    bt(t, e) {\n        return this.expression.bt(t + 1, e + 1);\n    }\n}\n\nclass SegmentExpression {\n    get kind() {\n        return \"Segment\";\n    }\n    static get Empty() {\n        return new SegmentExpression(ComponentExpression.Empty, ViewportExpression.Empty, true);\n    }\n    constructor(t, e, s) {\n        this.component = t;\n        this.viewport = e;\n        this.scoped = s;\n    }\n    static yt(t) {\n        t.wt();\n        const e = ComponentExpression.yt(t);\n        const s = ViewportExpression.yt(t);\n        const i = !t.ut(\"!\");\n        t.Et();\n        return new SegmentExpression(e, s, i);\n    }\n    bt(t, e) {\n        return [ ViewportInstruction.create({\n            component: this.component.name,\n            params: this.component.parameterList.St(),\n            viewport: this.viewport.name,\n            open: t,\n            close: e\n        }) ];\n    }\n}\n\nclass ComponentExpression {\n    get kind() {\n        return \"Component\";\n    }\n    static get Empty() {\n        return new ComponentExpression(\"\", ParameterListExpression.Empty);\n    }\n    constructor(t, e) {\n        this.name = t;\n        this.parameterList = e;\n        switch (t.charAt(0)) {\n          case \":\":\n            this.isParameter = true;\n            this.isStar = false;\n            this.isDynamic = true;\n            this.parameterName = t.slice(1);\n            break;\n\n          case \"*\":\n            this.isParameter = false;\n            this.isStar = true;\n            this.isDynamic = true;\n            this.parameterName = t.slice(1);\n            break;\n\n          default:\n            this.isParameter = false;\n            this.isStar = false;\n            this.isDynamic = false;\n            this.parameterName = t;\n            break;\n        }\n    }\n    static yt(t) {\n        t.wt();\n        t.wt();\n        if (!t.u) {\n            if (t.ct(\"./\")) {\n                t.dt();\n            } else if (t.ct(\"../\")) {\n                t.dt();\n                t.dt();\n            } else {\n                while (!t.u && !t.ct(...Q)) {\n                    t.dt();\n                }\n            }\n        }\n        const e = t.vt();\n        if (e.length === 0) {\n            t.ft(\"component name\");\n        }\n        const s = ParameterListExpression.yt(t);\n        t.Et();\n        return new ComponentExpression(e, s);\n    }\n}\n\nclass ViewportExpression {\n    get kind() {\n        return \"Viewport\";\n    }\n    static get Empty() {\n        return new ViewportExpression(\"\");\n    }\n    constructor(t) {\n        this.name = t;\n    }\n    static yt(t) {\n        t.wt();\n        let e = null;\n        if (t.ut(\"@\")) {\n            t.wt();\n            while (!t.u && !t.ct(...Q)) {\n                t.dt();\n            }\n            e = decodeURIComponent(t.vt());\n            if (e.length === 0) {\n                t.ft(\"viewport name\");\n            }\n        }\n        t.Et();\n        return new ViewportExpression(e);\n    }\n}\n\nclass ParameterListExpression {\n    get kind() {\n        return \"ParameterList\";\n    }\n    static get Empty() {\n        return new ParameterListExpression([]);\n    }\n    constructor(t) {\n        this.expressions = t;\n    }\n    static yt(t) {\n        t.wt();\n        const e = [];\n        if (t.ut(\"(\")) {\n            do {\n                e.push(ParameterExpression.yt(t, e.length));\n                if (!t.ut(\",\")) {\n                    break;\n                }\n            } while (!t.u && !t.ct(\")\"));\n            t.lt(\")\");\n        }\n        t.Et();\n        return new ParameterListExpression(e);\n    }\n    St() {\n        const t = {};\n        for (const e of this.expressions) {\n            t[e.key] = e.value;\n        }\n        return t;\n    }\n}\n\nclass ParameterExpression {\n    get kind() {\n        return \"Parameter\";\n    }\n    static get Empty() {\n        return new ParameterExpression(\"\", \"\");\n    }\n    constructor(t, e) {\n        this.key = t;\n        this.value = e;\n    }\n    static yt(t, e) {\n        t.wt();\n        t.wt();\n        while (!t.u && !t.ct(...Q)) {\n            t.dt();\n        }\n        let s = t.vt();\n        if (s.length === 0) {\n            t.ft(\"parameter key\");\n        }\n        let i;\n        if (t.ut(\"=\")) {\n            t.wt();\n            while (!t.u && !t.ct(...Q)) {\n                t.dt();\n            }\n            i = decodeURIComponent(t.vt());\n            if (i.length === 0) {\n                t.ft(\"parameter value\");\n            }\n        } else {\n            i = s;\n            s = e.toString();\n        }\n        t.Et();\n        return new ParameterExpression(s, i);\n    }\n}\n\nconst K = Object.freeze({\n    RouteExpression: RouteExpression,\n    CompositeSegmentExpression: CompositeSegmentExpression,\n    ScopedSegmentExpression: ScopedSegmentExpression,\n    SegmentGroupExpression: SegmentGroupExpression,\n    SegmentExpression: SegmentExpression,\n    ComponentExpression: ComponentExpression,\n    ViewportExpression: ViewportExpression,\n    ParameterListExpression: ParameterListExpression,\n    ParameterExpression: ParameterExpression\n});\n\nclass ViewportRequest {\n    constructor(t, e) {\n        this.viewportName = t;\n        this.componentName = e;\n    }\n    toString() {\n        return `VR(viewport:'${this.viewportName}',component:'${this.componentName}')`;\n    }\n}\n\nconst X = new WeakMap;\n\nclass ViewportAgent {\n    get Ct() {\n        return this._state & 16256;\n    }\n    set Ct(t) {\n        this._state = this._state & 127 | t;\n    }\n    get xt() {\n        return this._state & 127;\n    }\n    set xt(t) {\n        this._state = this._state & 16256 | t;\n    }\n    constructor(t, e, s) {\n        this.viewport = t;\n        this.hostController = e;\n        this.Nt = false;\n        this.kt = null;\n        this.$t = null;\n        this._state = 8256;\n        this._t = \"replace\";\n        this.Tt = null;\n        this.It = null;\n        this.Pt = null;\n        this.Vt = null;\n        this.L = s.container.get(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.ILogger).scopeTo(`ViewportAgent<${s.At}>`);\n    }\n    static for(t, e) {\n        let s = X.get(t);\n        if (s === void 0) {\n            const i = _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_2__.Controller.getCachedOrThrow(t);\n            X.set(t, s = new ViewportAgent(t, i, e));\n        }\n        return s;\n    }\n    Ot(t, e) {\n        const s = this.Pt;\n        if (s !== null) {\n            ensureTransitionHasNotErrored(s);\n        }\n        this.Nt = true;\n        switch (this.xt) {\n          case 64:\n            switch (this.Ct) {\n              case 8192:\n                return;\n\n              case 4096:\n                return this.kt.Mt(t, e);\n\n              default:\n                this.jt(\"activateFromViewport 1\");\n            }\n\n          case 2:\n            {\n                if (this.Pt === null) throw new Error(getMessage(3350, this));\n                const e = Batch.C((e => {\n                    this.Mt(t, this.Pt, e);\n                }));\n                const s = new Promise((t => {\n                    e.T((() => {\n                        t();\n                    }));\n                }));\n                return e.C().u ? void 0 : s;\n            }\n\n          default:\n            this.jt(\"activateFromViewport 2\");\n        }\n    }\n    Lt(t, e) {\n        const s = this.Pt;\n        if (s !== null) {\n            ensureTransitionHasNotErrored(s);\n        }\n        this.Nt = false;\n        switch (this.Ct) {\n          case 8192:\n            return;\n\n          case 4096:\n            return this.kt.Ut(t, e);\n\n          case 128:\n            return;\n\n          default:\n            {\n                if (this.Pt === null) throw new Error(getMessage(3351, this));\n                const e = Batch.C((e => {\n                    this.Ut(t, this.Pt, e);\n                }));\n                const s = new Promise((t => {\n                    e.T((() => {\n                        t();\n                    }));\n                }));\n                return e.C().u ? void 0 : s;\n            }\n        }\n    }\n    zt(t) {\n        if (!this.Bt()) {\n            return false;\n        }\n        const e = this.viewport;\n        const s = t.viewportName;\n        const i = e.name;\n        if (s !== nt && i !== s) {\n            return false;\n        }\n        const n = e.usedBy;\n        if (n.length > 0 && !n.split(\",\").includes(t.componentName)) {\n            return false;\n        }\n        return true;\n    }\n    Bt() {\n        if (!this.Nt) {\n            return false;\n        }\n        if (this.xt !== 64) {\n            return false;\n        }\n        return true;\n    }\n    Ht(t, e) {\n        if (this.Pt === null) {\n            this.Pt = t;\n        }\n        ensureTransitionHasNotErrored(t);\n        if (t.guardsResult !== true) {\n            return;\n        }\n        e.N();\n        void (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)(this.Vt, (() => {\n            Batch.C((e => {\n                for (const s of this.Tt.children) {\n                    s.context.vpa.Ht(t, e);\n                }\n            })).T((e => {\n                switch (this.Ct) {\n                  case 4096:\n                    switch (this._t) {\n                      case \"none\":\n                        this.Ct = 1024;\n                        return;\n\n                      case \"invoke-lifecycles\":\n                      case \"replace\":\n                        this.Ct = 2048;\n                        e.N();\n                        Batch.C((e => {\n                            this.kt.Ht(t, this.It, e);\n                        })).T((() => {\n                            this.Ct = 1024;\n                            e.$();\n                        })).C();\n                        return;\n                    }\n\n                  case 8192:\n                    return;\n\n                  default:\n                    t.Dt(new Error(`Unexpected state at canUnload of ${this}`));\n                }\n            })).T((() => {\n                e.$();\n            })).C();\n        }));\n    }\n    qt(t, e) {\n        if (this.Pt === null) {\n            this.Pt = t;\n        }\n        ensureTransitionHasNotErrored(t);\n        if (t.guardsResult !== true) {\n            return;\n        }\n        e.N();\n        Batch.C((e => {\n            switch (this.xt) {\n              case 32:\n                this.xt = 16;\n                switch (this._t) {\n                  case \"none\":\n                    return;\n\n                  case \"invoke-lifecycles\":\n                    return this.kt.qt(t, this.It, e);\n\n                  case \"replace\":\n                    e.N();\n                    void (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)(this.It.context.Ft(this.hostController, this.It), (s => {\n                        (this.$t = s).qt(t, this.It, e);\n                        e.$();\n                    }));\n                }\n\n              case 64:\n                return;\n\n              default:\n                this.jt(\"canLoad\");\n            }\n        })).T((t => {\n            const e = this.It;\n            switch (this._t) {\n              case \"none\":\n              case \"invoke-lifecycles\":\n                {\n                    t.N();\n                    const s = e.context;\n                    void (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)(s.allResolved, (() => (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolveAll)(...e.residue.splice(0).map((t => createAndAppendNodes(this.L, e, t)))), (() => (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolveAll)(...s.getAvailableViewportAgents().reduce(((t, s) => {\n                        const i = s.viewport;\n                        const n = i.default;\n                        if (n === null) return t;\n                        t.push(createAndAppendNodes(this.L, e, ViewportInstruction.create({\n                            component: n,\n                            viewport: i.name\n                        })));\n                        return t;\n                    }), [])))), (() => {\n                        t.$();\n                    }))));\n                    return;\n                }\n\n              case \"replace\":\n                return;\n            }\n        })).T((e => {\n            switch (this.xt) {\n              case 16:\n                this.xt = 8;\n                for (const s of this.It.children) {\n                    s.context.vpa.qt(t, e);\n                }\n                return;\n\n              case 64:\n                return;\n\n              default:\n                this.jt(\"canLoad\");\n            }\n        })).T((() => {\n            e.$();\n        })).C();\n    }\n    Gt(t, e) {\n        ensureTransitionHasNotErrored(t);\n        ensureGuardsResultIsTrue(this, t);\n        e.N();\n        Batch.C((e => {\n            for (const s of this.Tt.children) {\n                s.context.vpa.Gt(t, e);\n            }\n        })).T((s => {\n            switch (this.Ct) {\n              case 1024:\n                switch (this._t) {\n                  case \"none\":\n                    this.Ct = 256;\n                    return;\n\n                  case \"invoke-lifecycles\":\n                  case \"replace\":\n                    this.Ct = 512;\n                    s.N();\n                    Batch.C((e => {\n                        this.kt.Gt(t, this.It, e);\n                    })).T((() => {\n                        this.Ct = 256;\n                        s.$();\n                    })).C();\n                    return;\n                }\n\n              case 8192:\n                for (const s of this.Tt.children) {\n                    s.context.vpa.Gt(t, e);\n                }\n                return;\n\n              default:\n                this.jt(\"unloading\");\n            }\n        })).T((() => {\n            e.$();\n        })).C();\n    }\n    Wt(t, e) {\n        ensureTransitionHasNotErrored(t);\n        ensureGuardsResultIsTrue(this, t);\n        e.N();\n        Batch.C((e => {\n            switch (this.xt) {\n              case 8:\n                {\n                    this.xt = 4;\n                    switch (this._t) {\n                      case \"none\":\n                        return;\n\n                      case \"invoke-lifecycles\":\n                        return this.kt.Wt(t, this.It, e);\n\n                      case \"replace\":\n                        return this.$t.Wt(t, this.It, e);\n                    }\n                }\n\n              case 64:\n                return;\n\n              default:\n                this.jt(\"loading\");\n            }\n        })).T((e => {\n            switch (this.xt) {\n              case 4:\n                this.xt = 2;\n                for (const s of this.It.children) {\n                    s.context.vpa.Wt(t, e);\n                }\n                return;\n\n              case 64:\n                return;\n\n              default:\n                this.jt(\"loading\");\n            }\n        })).T((() => {\n            e.$();\n        })).C();\n    }\n    Ut(t, e, s) {\n        ensureTransitionHasNotErrored(e);\n        ensureGuardsResultIsTrue(this, e);\n        s.N();\n        switch (this.Ct) {\n          case 256:\n            this.Ct = 128;\n            switch (this._t) {\n              case \"none\":\n              case \"invoke-lifecycles\":\n                s.$();\n                return;\n\n              case \"replace\":\n                {\n                    const i = this.hostController;\n                    const n = this.kt;\n                    e.Qt((() => (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)(n.Ut(t, i), (() => {\n                        if (t === null) {\n                            n.Jt();\n                        }\n                    }))), (() => {\n                        s.$();\n                    }));\n                }\n            }\n            return;\n\n          case 8192:\n            s.$();\n            return;\n\n          case 128:\n            s.$();\n            return;\n\n          default:\n            this.jt(\"deactivate\");\n        }\n    }\n    Mt(t, e, s) {\n        ensureTransitionHasNotErrored(e);\n        ensureGuardsResultIsTrue(this, e);\n        s.N();\n        if (this.xt === 32) {\n            Batch.C((t => {\n                this.qt(e, t);\n            })).T((t => {\n                this.Wt(e, t);\n            })).T((s => {\n                this.Mt(t, e, s);\n            })).T((() => {\n                s.$();\n            })).C();\n            return;\n        }\n        switch (this.xt) {\n          case 2:\n            this.xt = 1;\n            Batch.C((s => {\n                switch (this._t) {\n                  case \"none\":\n                  case \"invoke-lifecycles\":\n                    return;\n\n                  case \"replace\":\n                    {\n                        const i = this.hostController;\n                        e.Qt((() => {\n                            s.N();\n                            return this.$t.Mt(t, i);\n                        }), (() => {\n                            s.$();\n                        }));\n                    }\n                }\n            })).T((t => {\n                this.Kt(e, t);\n            })).T((() => {\n                s.$();\n            })).C();\n            return;\n\n          case 64:\n            s.$();\n            return;\n\n          default:\n            this.jt(\"activate\");\n        }\n    }\n    Xt(t, e) {\n        if (this.Ct === 8192) {\n            this.Mt(null, t, e);\n            return;\n        }\n        if (this.xt === 64) {\n            this.Ut(null, t, e);\n            return;\n        }\n        ensureTransitionHasNotErrored(t);\n        ensureGuardsResultIsTrue(this, t);\n        if (!(this.Ct === 256 && this.xt === 2)) {\n            this.jt(\"swap\");\n        }\n        this.Ct = 128;\n        this.xt = 1;\n        switch (this._t) {\n          case \"none\":\n          case \"invoke-lifecycles\":\n            {\n                const s = mergeDistinct(this.It.children, this.Tt.children);\n                for (const i of s) {\n                    i.context.vpa.Xt(t, e);\n                }\n                return;\n            }\n\n          case \"replace\":\n            {\n                const s = this.hostController;\n                const i = this.kt;\n                const n = this.$t;\n                e.N();\n                Batch.C((e => {\n                    t.Qt((() => {\n                        e.N();\n                        return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)(i.Ut(null, s), (() => i.Jt()));\n                    }), (() => {\n                        e.$();\n                    }));\n                })).T((e => {\n                    t.Qt((() => {\n                        e.N();\n                        return n.Mt(null, s);\n                    }), (() => {\n                        e.$();\n                    }));\n                })).T((e => {\n                    this.Kt(t, e);\n                })).T((() => {\n                    e.$();\n                })).C();\n                return;\n            }\n        }\n    }\n    Kt(t, e) {\n        const s = this.It;\n        t.Qt((() => {\n            e.N();\n            const t = s.context;\n            return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)(t.allResolved, (() => {\n                const e = s.children.slice();\n                return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolveAll)(...s.residue.splice(0).map((t => createAndAppendNodes(this.L, s, t)))), (() => (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolveAll)(...t.getAvailableViewportAgents().reduce(((t, e) => {\n                    const i = e.viewport;\n                    const n = i.default;\n                    if (n === null) return t;\n                    t.push(createAndAppendNodes(this.L, s, ViewportInstruction.create({\n                        component: n,\n                        viewport: i.name\n                    })));\n                    return t;\n                }), [])), (() => s.children.filter((t => !e.includes(t)))))));\n            }));\n        }), (s => {\n            Batch.C((e => {\n                for (const i of s) {\n                    t.Qt((() => {\n                        e.N();\n                        return i.context.vpa.qt(t, e);\n                    }), (() => {\n                        e.$();\n                    }));\n                }\n            })).T((e => {\n                for (const i of s) {\n                    t.Qt((() => {\n                        e.N();\n                        return i.context.vpa.Wt(t, e);\n                    }), (() => {\n                        e.$();\n                    }));\n                }\n            })).T((e => {\n                for (const i of s) {\n                    t.Qt((() => {\n                        e.N();\n                        return i.context.vpa.Mt(null, t, e);\n                    }), (() => {\n                        e.$();\n                    }));\n                }\n            })).T((() => {\n                e.$();\n            })).C();\n        }));\n    }\n    Yt(t, e) {\n        switch (this.xt) {\n          case 64:\n            this.It = e;\n            this.xt = 32;\n            break;\n\n          default:\n            this.jt(\"scheduleUpdate 1\");\n        }\n        switch (this.Ct) {\n          case 8192:\n          case 4096:\n          case 1024:\n            break;\n\n          default:\n            this.jt(\"scheduleUpdate 2\");\n        }\n        const s = this.kt?.Zt ?? null;\n        if (s === null || s.component !== e.component) {\n            this._t = \"replace\";\n        } else {\n            this._t = e.context.config.X(s, e, t.transitionPlan);\n        }\n    }\n    te() {\n        if (this.Tt !== null) {\n            this.Tt.children.forEach((function(t) {\n                t.context.vpa.te();\n            }));\n        }\n        if (this.It !== null) {\n            this.It.children.forEach((function(t) {\n                t.context.vpa.te();\n            }));\n        }\n        let t = null;\n        let e = null;\n        switch (this.Ct) {\n          case 8192:\n          case 4096:\n            this.Pt = null;\n            break;\n\n          case 2048:\n          case 1024:\n            this.Ct = 4096;\n            this.Pt = null;\n            break;\n\n          case 512:\n          case 256:\n          case 128:\n            t = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)(this.kt?.Ut(null, this.hostController), (() => {\n                this.kt?.Jt();\n                this.Ct = 8192;\n                this.kt = null;\n            }));\n            break;\n        }\n        switch (this.xt) {\n          case 64:\n          case 32:\n          case 16:\n          case 8:\n            this.It = null;\n            this.xt = 64;\n            break;\n\n          case 4:\n          case 2:\n          case 1:\n            {\n                e = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)(this.$t?.Ut(null, this.hostController), (() => {\n                    this.$t?.Jt();\n                    this._t = \"replace\";\n                    this.xt = 64;\n                    this.$t = null;\n                    this.It = null;\n                }));\n                break;\n            }\n        }\n        if (t !== null && e !== null) {\n            this.Vt = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolveAll)(t, e), (() => {\n                this.Pt = null;\n                this.Vt = null;\n            }));\n        }\n    }\n    ee() {\n        if (this.Tt !== null) {\n            this.Tt.children.forEach((function(t) {\n                t.context.vpa.ee();\n            }));\n        }\n        if (this.It !== null) {\n            this.It.children.forEach((function(t) {\n                t.context.vpa.ee();\n            }));\n        }\n        if (this.Pt !== null) {\n            ensureTransitionHasNotErrored(this.Pt);\n            switch (this.xt) {\n              case 64:\n                switch (this.Ct) {\n                  case 8192:\n                  case 128:\n                    this.Ct = 8192;\n                    this.kt = null;\n                    break;\n\n                  default:\n                    this.jt(\"endTransition 1\");\n                }\n                break;\n\n              case 1:\n                switch (this.Ct) {\n                  case 8192:\n                  case 128:\n                    switch (this._t) {\n                      case \"none\":\n                        this.Ct = 4096;\n                        break;\n\n                      case \"invoke-lifecycles\":\n                        this.Ct = 4096;\n                        this.kt.Zt = this.It;\n                        break;\n\n                      case \"replace\":\n                        this.Ct = 4096;\n                        this.kt = this.$t;\n                        break;\n                    }\n                    this.Tt = this.It;\n                    break;\n\n                  default:\n                    this.jt(\"endTransition 2\");\n                }\n                break;\n\n              default:\n                this.jt(\"endTransition 3\");\n            }\n            this._t = \"replace\";\n            this.xt = 64;\n            this.It = null;\n            this.$t = null;\n            this.Pt = null;\n        }\n    }\n    toString() {\n        return `VPA(state:${$state(this._state)},plan:'${this._t}',n:${this.It},c:${this.Tt},viewport:${this.viewport})`;\n    }\n    Jt() {\n        this.kt?.Jt();\n    }\n    jt(t) {\n        throw new Error(getMessage(3352, t, this));\n    }\n}\n\nfunction ensureGuardsResultIsTrue(t, e) {\n    if (e.guardsResult !== true) throw new Error(getMessage(3353, e.guardsResult, t));\n}\n\nfunction ensureTransitionHasNotErrored(t) {\n    if (t.error !== void 0 && !t.erredWithUnknownRoute) throw t.error;\n}\n\nconst Y = new Map;\n\nfunction $state(t) {\n    let e = Y.get(t);\n    if (e === void 0) {\n        Y.set(t, e = stringifyState(t));\n    }\n    return e;\n}\n\nfunction stringifyState(t) {\n    const e = [];\n    if ((t & 8192) === 8192) {\n        e.push(\"currIsEmpty\");\n    }\n    if ((t & 4096) === 4096) {\n        e.push(\"currIsActive\");\n    }\n    if ((t & 2048) === 2048) {\n        e.push(\"currCanUnload\");\n    }\n    if ((t & 1024) === 1024) {\n        e.push(\"currCanUnloadDone\");\n    }\n    if ((t & 512) === 512) {\n        e.push(\"currUnload\");\n    }\n    if ((t & 256) === 256) {\n        e.push(\"currUnloadDone\");\n    }\n    if ((t & 128) === 128) {\n        e.push(\"currDeactivate\");\n    }\n    if ((t & 64) === 64) {\n        e.push(\"nextIsEmpty\");\n    }\n    if ((t & 32) === 32) {\n        e.push(\"nextIsScheduled\");\n    }\n    if ((t & 16) === 16) {\n        e.push(\"nextCanLoad\");\n    }\n    if ((t & 8) === 8) {\n        e.push(\"nextCanLoadDone\");\n    }\n    if ((t & 4) === 4) {\n        e.push(\"nextLoad\");\n    }\n    if ((t & 2) === 2) {\n        e.push(\"nextLoadDone\");\n    }\n    if ((t & 1) === 1) {\n        e.push(\"nextActivate\");\n    }\n    return e.join(\"|\");\n}\n\nclass RouteNode {\n    get root() {\n        return this.se.root;\n    }\n    get isInstructionsFinalized() {\n        return this.ie;\n    }\n    constructor(t, e, s, i, n, r, o, a, c, u, h, l, f) {\n        this.path = t;\n        this.finalPath = e;\n        this.context = s;\n        this.ne = i;\n        this.instruction = n;\n        this.params = r;\n        this.queryParams = o;\n        this.fragment = a;\n        this.data = c;\n        this.re = u;\n        this.title = h;\n        this.component = l;\n        this.residue = f;\n        this.oe = 1;\n        this.ie = false;\n        this.children = [];\n        this.ne ??= n;\n    }\n    static create(t) {\n        const {[_aurelia_route_recognizer__WEBPACK_IMPORTED_MODULE_4__.RESIDUE]: e, ...s} = t.params ?? {};\n        return new RouteNode(t.path, t.finalPath, t.context, t.originalInstruction ?? t.instruction, t.instruction, Object.freeze(s), t.queryParams ?? Z, t.fragment ?? null, Object.freeze(t.data ?? _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.emptyObject), t.re ?? null, t.title ?? null, t.component, t.residue ?? []);\n    }\n    contains(t, e = false) {\n        if (this.context === t.options.context) {\n            const s = this.children;\n            const i = t.children;\n            for (let t = 0, n = s.length; t < n; ++t) {\n                for (let r = 0, o = i.length; r < o; ++r) {\n                    const a = i[r];\n                    const c = e ? a.recognizedRoute?.route.endpoint : null;\n                    const u = s[t + r] ?? null;\n                    const h = u !== null ? u.isInstructionsFinalized ? u.instruction : u.ne : null;\n                    const l = h?.recognizedRoute?.route.endpoint;\n                    if (t + r < n && ((c?.equalsOrResidual(l) ?? false) || (h?.contains(a) ?? false))) {\n                        if (r + 1 === o) {\n                            return true;\n                        }\n                    } else {\n                        break;\n                    }\n                }\n            }\n        }\n        return this.children.some((function(s) {\n            return s.contains(t, e);\n        }));\n    }\n    ae(t) {\n        this.children.push(t);\n        t.ce(this.se);\n    }\n    ue() {\n        for (const t of this.children) {\n            t.ue();\n            t.context.vpa.te();\n        }\n        this.children.length = 0;\n    }\n    getTitle(t) {\n        const e = [ ...this.children.map((e => e.getTitle(t))), typeof this.title === \"function\" ? this.title.call(void 0, this) : this.title ].filter((t => t !== null));\n        return e.length === 0 ? null : e.join(t);\n    }\n    computeAbsolutePath() {\n        if (this.context.isRoot) {\n            return \"\";\n        }\n        const t = this.context.parent.node.computeAbsolutePath();\n        const e = this.instruction.toUrlComponent(false);\n        return t.length > 0 ? e.length > 0 ? `${t}/${e}` : t : e;\n    }\n    ce(t) {\n        this.se = t;\n        for (const e of this.children) {\n            e.ce(t);\n        }\n    }\n    he() {\n        this.ie = true;\n        const t = this.children.map((t => t.he()));\n        const e = this.instruction.Z();\n        e.children.splice(0, e.children.length, ...t);\n        return this.instruction = e;\n    }\n    Z() {\n        const t = new RouteNode(this.path, this.finalPath, this.context, this.ne, this.instruction, this.params, this.queryParams, this.fragment, this.data, this.re, this.title, this.component, [ ...this.residue ]);\n        const e = this.children;\n        const s = e.length;\n        for (let i = 0; i < s; ++i) {\n            t.children.push(e[i].Z());\n        }\n        t.oe = this.oe + 1;\n        if (t.context.node === this) {\n            t.context.node = t;\n        }\n        return t;\n    }\n    toString() {\n        const t = [];\n        const e = this.context?.config.component?.name ?? \"\";\n        if (e.length > 0) {\n            t.push(`c:'${e}'`);\n        }\n        const s = this.context?.config.path ?? \"\";\n        if (s.length > 0) {\n            t.push(`path:'${s}'`);\n        }\n        if (this.children.length > 0) {\n            t.push(`children:[${this.children.map(String).join(\",\")}]`);\n        }\n        if (this.residue.length > 0) {\n            t.push(`residue:${this.residue.map((function(t) {\n                if (typeof t === \"string\") {\n                    return `'${t}'`;\n                }\n                return String(t);\n            })).join(\",\")}`);\n        }\n        return `RN(ctx:'${this.context?.At}',${t.join(\",\")})`;\n    }\n}\n\nclass RouteTree {\n    constructor(t, e, s, i) {\n        this.options = t;\n        this.queryParams = e;\n        this.fragment = s;\n        this.root = i;\n    }\n    contains(t, e = false) {\n        return this.root.contains(t, e);\n    }\n    Z() {\n        const t = new RouteTree(this.options.Z(), this.queryParams, this.fragment, this.root.Z());\n        t.root.ce(this);\n        return t;\n    }\n    le() {\n        return new ViewportInstructionTree(this.options, true, this.root.children.map((t => t.he())), this.queryParams, this.fragment);\n    }\n    fe(t) {\n        this.queryParams = Object.freeze(mergeURLSearchParams(this.queryParams, t, true));\n    }\n    toString() {\n        return this.root.toString();\n    }\n}\n\nfunction createAndAppendNodes(t, e, s) {\n    t.trace(`createAndAppendNodes(node:%s,vi:%s`, e, s);\n    switch (s.component.type) {\n      case 0:\n        switch (s.component.value) {\n          case \"..\":\n            e = e.context.parent?.node ?? e;\n            e.ue();\n\n          case \".\":\n            return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolveAll)(...s.children.map((s => createAndAppendNodes(t, e, s))));\n\n          default:\n            {\n                t.trace(`createAndAppendNodes invoking createNode`);\n                const i = e.context;\n                const n = s.Z();\n                let r = s.recognizedRoute;\n                if (r !== null) return appendNode(t, e, createConfiguredNode(t, e, s, r, n));\n                if (s.children.length === 0) {\n                    const n = i.pe(s);\n                    if (n !== null) {\n                        e.se.fe(n.query);\n                        const i = n.vi;\n                        i.children.push(...s.children);\n                        return appendNode(t, e, createConfiguredNode(t, e, i, i.recognizedRoute, s));\n                    }\n                }\n                let o = 0;\n                let c = s.component.value;\n                let u = s;\n                while (u.children.length === 1) {\n                    u = u.children[0];\n                    if (u.component.type === 0) {\n                        ++o;\n                        c = `${c}/${u.component.value}`;\n                    } else {\n                        break;\n                    }\n                }\n                r = i.recognize(c);\n                t.trace(\"createNode recognized route: %s\", r);\n                const l = r?.residue ?? null;\n                t.trace(\"createNode residue:\", l);\n                const f = l === null;\n                if (r === null || l === c) {\n                    const n = i.pe({\n                        component: s.component.value,\n                        params: s.params ?? _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.emptyObject,\n                        open: s.open,\n                        close: s.close,\n                        viewport: s.viewport,\n                        children: s.children\n                    });\n                    if (n !== null) {\n                        e.se.fe(n.query);\n                        return appendNode(t, e, createConfiguredNode(t, e, n.vi, n.vi.recognizedRoute, s));\n                    }\n                    const r = s.component.value;\n                    if (r === \"\") return;\n                    let o = s.viewport;\n                    if (o === null || o.length === 0) o = nt;\n                    const c = i.getFallbackViewportAgent(o);\n                    const u = c !== null ? c.viewport.tt(s, e, i) : i.config.tt(s, e, i);\n                    if (u === null) throw new UnknownRouteError(getMessage(3401, r, i.At, o, r, i.component.name));\n                    if (typeof u === \"string\") {\n                        t.trace(`Fallback is set to '${u}'. Looking for a recognized route.`);\n                        const n = i.childRoutes.find((t => t.id === u));\n                        if (n !== void 0) return appendNode(t, e, createFallbackNode(t, n, e, s));\n                        t.trace(`No route configuration for the fallback '${u}' is found; trying to recognize the route.`);\n                        const r = i.recognize(u, true);\n                        if (r !== null && r.residue !== u) return appendNode(t, e, createConfiguredNode(t, e, s, r, null));\n                    }\n                    t.trace(`The fallback '${u}' is not recognized as a route; treating as custom element name.`);\n                    return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)(resolveRouteConfiguration(u, false, i.config, null, i), (i => appendNode(t, e, createFallbackNode(t, i, e, s))));\n                }\n                r.residue = null;\n                s.component.value = f ? c : c.slice(0, -(l.length + 1));\n                let p = !f;\n                for (let t = 0; t < o; ++t) {\n                    const t = s.children[0];\n                    if (l?.startsWith(t.component.value) ?? false) {\n                        p = false;\n                        break;\n                    }\n                    s.viewport = t.viewport;\n                    s.children = t.children;\n                }\n                if (p) {\n                    s.children.unshift(ViewportInstruction.create(l));\n                }\n                s.recognizedRoute = r;\n                t.trace(\"createNode after adjustment vi:%s\", s);\n                return appendNode(t, e, createConfiguredNode(t, e, s, r, n));\n            }\n        }\n\n      case 3:\n      case 4:\n      case 2:\n        {\n            const i = e.context;\n            return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)(resolveCustomElementDefinition(s.component.value, i)[1], (n => {\n                const {vi: r, query: o} = i.pe({\n                    component: n,\n                    params: s.params ?? _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.emptyObject,\n                    open: s.open,\n                    close: s.close,\n                    viewport: s.viewport,\n                    children: s.children\n                });\n                e.se.fe(o);\n                return appendNode(t, e, createConfiguredNode(t, e, r, r.recognizedRoute, s));\n            }));\n        }\n    }\n}\n\nfunction createConfiguredNode(t, e, s, i, n, r = i.route.endpoint.route) {\n    const o = e.context;\n    const c = e.se;\n    return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)(r.handler, (u => {\n        r.handler = u;\n        t.trace(`creatingConfiguredNode(rdc:%s, vi:%s)`, u, s);\n        if (u.redirectTo === null) {\n            const h = (s.viewport?.length ?? 0) > 0;\n            const l = h ? s.viewport : u.viewport;\n            return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)(resolveCustomElementDefinition(u.component, o)[1], (f => {\n                const p = o.ge(new ViewportRequest(l, f.name));\n                if (!h) {\n                    s.viewport = p.viewport.name;\n                }\n                const g = o.container.get(tt);\n                return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)(g.getRouteContext(p, f, null, p.hostController.container, o.config, o, u), (o => {\n                    t.trace(\"createConfiguredNode setting the context node\");\n                    const a = o.node = RouteNode.create({\n                        path: i.route.endpoint.route.path,\n                        finalPath: r.path,\n                        context: o,\n                        instruction: s,\n                        originalInstruction: n,\n                        params: i.route.params,\n                        queryParams: c.queryParams,\n                        fragment: c.fragment,\n                        data: u.data,\n                        re: l,\n                        component: f,\n                        title: u.title,\n                        residue: s.children.slice()\n                    });\n                    a.ce(e.se);\n                    t.trace(`createConfiguredNode(vi:%s) -> %s`, s, a);\n                    return a;\n                }));\n            }));\n        }\n        const h = RouteExpression.parse(et.parse(r.path));\n        const l = RouteExpression.parse(et.parse(u.redirectTo));\n        let f;\n        let p;\n        const g = [];\n        switch (h.root.kind) {\n          case \"ScopedSegment\":\n          case \"Segment\":\n            f = h.root;\n            break;\n\n          default:\n            throw new Error(getMessage(3502, h.root.kind));\n        }\n        switch (l.root.kind) {\n          case \"ScopedSegment\":\n          case \"Segment\":\n            p = l.root;\n            break;\n\n          default:\n            throw new Error(getMessage(3502, l.root.kind));\n        }\n        let d;\n        let w;\n        let m = false;\n        let v = false;\n        while (!(m && v)) {\n            if (m) {\n                d = null;\n            } else if (f.kind === \"Segment\") {\n                d = f;\n                m = true;\n            } else if (f.left.kind === \"Segment\") {\n                d = f.left;\n                switch (f.right.kind) {\n                  case \"ScopedSegment\":\n                  case \"Segment\":\n                    f = f.right;\n                    break;\n\n                  default:\n                    throw new Error(getMessage(3502, f.right.kind));\n                }\n            } else {\n                throw new Error(getMessage(3502, f.left.kind));\n            }\n            if (v) {\n                w = null;\n            } else if (p.kind === \"Segment\") {\n                w = p;\n                v = true;\n            } else if (p.left.kind === \"Segment\") {\n                w = p.left;\n                switch (p.right.kind) {\n                  case \"ScopedSegment\":\n                  case \"Segment\":\n                    p = p.right;\n                    break;\n\n                  default:\n                    throw new Error(getMessage(3502, p.right.kind));\n                }\n            } else {\n                throw new Error(getMessage(3502, p.left.kind));\n            }\n            if (w !== null) {\n                if (w.component.isDynamic && (d?.component.isDynamic ?? false)) {\n                    g.push(i.route.params[w.component.parameterName]);\n                } else {\n                    g.push(w.component.name);\n                }\n            }\n        }\n        const E = g.filter(Boolean).join(\"/\");\n        const R = o.recognize(E);\n        if (R === null) throw new UnknownRouteError(getMessage(3402, E, o.At, E, o.component.name));\n        return createConfiguredNode(t, e, ViewportInstruction.create({\n            recognizedRoute: R,\n            component: E,\n            children: s.children,\n            viewport: s.viewport,\n            open: s.open,\n            close: s.close\n        }), R, n);\n    }));\n}\n\nfunction appendNode(t, e, s) {\n    return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)(s, (s => {\n        t.trace(`appendNode($childNode:%s)`, s);\n        e.ae(s);\n        return s.context.vpa.Yt(e.se.options, s);\n    }));\n}\n\nfunction createFallbackNode(t, e, s, i) {\n    const n = new $RecognizedRoute(new _aurelia_route_recognizer__WEBPACK_IMPORTED_MODULE_4__.RecognizedRoute(new _aurelia_route_recognizer__WEBPACK_IMPORTED_MODULE_4__.Endpoint(new _aurelia_route_recognizer__WEBPACK_IMPORTED_MODULE_4__.ConfigurableRoute(e.path[0], e.caseSensitive, e), []), _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.emptyObject), null);\n    i.children.length = 0;\n    return createConfiguredNode(t, s, i, n, null);\n}\n\nconst Z = Object.freeze(new URLSearchParams);\n\nfunction isManagedState(t) {\n    return (0,_aurelia_metadata__WEBPACK_IMPORTED_MODULE_0__.isObject)(t) && Object.prototype.hasOwnProperty.call(t, H) === true;\n}\n\nfunction toManagedState(t, e) {\n    return {\n        ...t,\n        [H]: e\n    };\n}\n\nclass UnknownRouteError extends Error {}\n\nclass Transition {\n    get erredWithUnknownRoute() {\n        return this.de;\n    }\n    constructor(t, e, s, i, n, r, o, a, c, u, h, l, f, p, g) {\n        this.id = t;\n        this.prevInstructions = e;\n        this.instructions = s;\n        this.finalInstructions = i;\n        this.instructionsChanged = n;\n        this.trigger = r;\n        this.options = o;\n        this.managedState = a;\n        this.previousRouteTree = c;\n        this.routeTree = u;\n        this.promise = h;\n        this.resolve = l;\n        this.reject = f;\n        this.guardsResult = p;\n        this.error = g;\n        this.de = false;\n    }\n    static J(t) {\n        return new Transition(t.id, t.prevInstructions, t.instructions, t.finalInstructions, t.instructionsChanged, t.trigger, t.options, t.managedState, t.previousRouteTree, t.routeTree, t.promise, t.resolve, t.reject, t.guardsResult, void 0);\n    }\n    Qt(t, e) {\n        if (this.guardsResult !== true) {\n            return;\n        }\n        try {\n            const s = t();\n            if (s instanceof Promise) {\n                s.then(e).catch((t => {\n                    this.Dt(t);\n                }));\n            } else {\n                e(s);\n            }\n        } catch (t) {\n            this.Dt(t);\n        }\n    }\n    Dt(t) {\n        this.de = t instanceof UnknownRouteError;\n        this.reject(this.error = t);\n    }\n    toString() {\n        return `T(id:${this.id},trigger:'${this.trigger}',instructions:${this.instructions})`;\n    }\n}\n\nconst tt = /*@__PURE__*/ _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.DI.createInterface(\"IRouter\", (t => t.singleton(Router)));\n\nclass Router {\n    get we() {\n        const t = this.me;\n        if (t !== null) return t;\n        if (!this.c.has(rt, true)) throw new Error(getMessage(3271));\n        return this.me = this.c.get(rt);\n    }\n    get routeTree() {\n        let t = this.ve;\n        if (t === null) {\n            const e = this.we;\n            t = this.ve = new RouteTree(NavigationOptions.create(this.options, {}), Z, null, RouteNode.create({\n                path: \"\",\n                finalPath: \"\",\n                context: e,\n                instruction: null,\n                component: _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_2__.CustomElement.getDefinition(e.config.component),\n                title: e.config.title\n            }));\n        }\n        return t;\n    }\n    get currentTr() {\n        return this.Ee ??= Transition.J({\n            id: 0,\n            prevInstructions: this.Re,\n            instructions: this.Re,\n            finalInstructions: this.Re,\n            instructionsChanged: true,\n            trigger: \"api\",\n            options: NavigationOptions.create(this.options, {}),\n            managedState: null,\n            previousRouteTree: this.routeTree.Z(),\n            routeTree: this.routeTree,\n            resolve: null,\n            reject: null,\n            promise: null,\n            guardsResult: true,\n            error: void 0\n        });\n    }\n    set currentTr(t) {\n        this.Ee = t;\n    }\n    get isNavigating() {\n        return this.ye;\n    }\n    constructor() {\n        this.me = null;\n        this.ve = null;\n        this.Ee = null;\n        this.be = false;\n        this.Se = 0;\n        this.Ce = null;\n        this.xe = null;\n        this.Ne = false;\n        this.ye = false;\n        this.c = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.IContainer);\n        this.ke = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(_aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_2__.IPlatform);\n        this.L = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.ILogger).root.scopeTo(\"Router\");\n        this.I = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(D);\n        this.$e = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(F);\n        this.options = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(it);\n        this._e = new Map;\n        this.Re = ViewportInstructionTree.create(\"\", this.options);\n        this.c.registerResolver(Router, _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.Registration.instance(Router, this));\n    }\n    Te(t) {\n        return RouteContext.resolve(this.we, t);\n    }\n    start(t) {\n        this.Ne = typeof this.options.buildTitle === \"function\";\n        this.$e.startListening();\n        this.xe = this.I.subscribe(\"au:router:location-change\", (t => {\n            this.ke.taskQueue.queueTask((() => {\n                const e = isManagedState(t.state) ? t.state : null;\n                const s = this.options;\n                const i = NavigationOptions.create(s, {\n                    historyStrategy: \"replace\"\n                });\n                const n = ViewportInstructionTree.create(t.url, s, i, this.we);\n                this.Ie(n, t.trigger, e, null);\n            }));\n        }));\n        if (!this.be && t) {\n            return this.load(this.$e.getPath(), {\n                historyStrategy: this.options.historyStrategy !== \"none\" ? \"replace\" : \"none\"\n            });\n        }\n    }\n    stop() {\n        this.$e.stopListening();\n        this.xe?.dispose();\n    }\n    load(t, e) {\n        const s = this.createViewportInstructions(t, e);\n        return this.Ie(s, \"api\", null, null);\n    }\n    isActive(t, e) {\n        const s = this.Te(e);\n        const i = t instanceof ViewportInstructionTree ? t : this.createViewportInstructions(t, {\n            context: s,\n            historyStrategy: this.options.historyStrategy\n        });\n        return this.routeTree.contains(i, false);\n    }\n    getRouteContext(t, e, s, i, n, r, o) {\n        return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)(o instanceof RouteConfig ? o : resolveRouteConfiguration(typeof s?.getRouteConfig === \"function\" ? s : e.Type, false, n, null, r), (s => {\n            let n = this._e.get(t);\n            if (n === void 0) {\n                this._e.set(t, n = new WeakMap);\n            }\n            let r = n.get(s);\n            if (r !== void 0) {\n                return r;\n            }\n            const o = i.has(rt, true) ? i.get(rt) : null;\n            n.set(s, r = new RouteContext(t, o, e, s, i, this));\n            return r;\n        }));\n    }\n    createViewportInstructions(t, e) {\n        if (t instanceof ViewportInstructionTree) return t;\n        let s = e?.context ?? null;\n        if (typeof t === \"string\") {\n            t = this.$e.removeBaseHref(t);\n        }\n        const i = isPartialViewportInstruction(t);\n        let n = i ? t.component : t;\n        if (typeof n === \"string\" && n.startsWith(\"../\") && s !== null) {\n            s = this.Te(s);\n            while (n.startsWith(\"../\") && (s?.parent ?? null) !== null) {\n                n = n.slice(3);\n                s = s.parent;\n            }\n        }\n        if (i) {\n            t.component = n;\n        } else {\n            t = n;\n        }\n        const r = this.options;\n        return ViewportInstructionTree.create(t, r, NavigationOptions.create(r, {\n            ...e,\n            context: s\n        }), this.we);\n    }\n    Ie(t, e, s, i) {\n        const n = this.currentTr;\n        const r = this.L;\n        if (e !== \"api\" && n.trigger === \"api\" && n.instructions.equals(t)) {\n            return true;\n        }\n        let o = void 0;\n        let a = void 0;\n        let c;\n        const u = this.options.restorePreviousRouteTreeOnError;\n        if (i === null || i.erredWithUnknownRoute || i.error != null && u) {\n            c = new Promise((function(t, e) {\n                o = t;\n                a = e;\n            }));\n        } else {\n            c = i.promise;\n            o = i.resolve;\n            a = i.reject;\n        }\n        const h = this.Ce = Transition.J({\n            id: ++this.Se,\n            trigger: e,\n            managedState: s,\n            prevInstructions: n.finalInstructions,\n            finalInstructions: t,\n            instructionsChanged: !n.finalInstructions.equals(t),\n            instructions: t,\n            options: t.options,\n            promise: c,\n            resolve: o,\n            reject: a,\n            previousRouteTree: this.routeTree,\n            routeTree: this.ve = this.routeTree.Z(),\n            guardsResult: true,\n            error: void 0\n        });\n        if (!this.ye) {\n            try {\n                this.Qt(h);\n            } catch (t) {\n                h.Dt(t);\n            }\n        }\n        return h.promise.then((t => t)).catch((t => {\n            error(r, 3270, h, t);\n            if (h.erredWithUnknownRoute) {\n                this.Pe(h);\n            } else {\n                this.ye = false;\n                this.I.publish(new NavigationErrorEvent(h.id, h.instructions, t));\n                if (u) {\n                    this.Pe(h);\n                } else {\n                    const t = this.Ce;\n                    if (t !== null) {\n                        t.previousRouteTree = h.previousRouteTree;\n                    } else {\n                        this.ve = h.previousRouteTree;\n                    }\n                }\n            }\n            throw t;\n        }));\n    }\n    Qt(t) {\n        this.currentTr = t;\n        this.Ce = null;\n        this.ye = true;\n        let e = this.Te(t.options.context);\n        this.I.publish(new NavigationStartEvent(t.id, t.instructions, t.trigger, t.managedState));\n        if (this.Ce !== null) {\n            return this.Qt(this.Ce);\n        }\n        t.Qt((() => {\n            const s = t.finalInstructions;\n            const i = this.we;\n            const n = t.routeTree;\n            n.options = s.options;\n            n.queryParams = i.node.se.queryParams = s.queryParams;\n            n.fragment = i.node.se.fragment = s.fragment;\n            const o = /*@__PURE__*/ e.container.get(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.ILogger).scopeTo(\"RouteTree\");\n            if (s.isAbsolute) {\n                e = i;\n            }\n            if (e === i) {\n                n.root.ce(n);\n                i.node = n.root;\n            }\n            const c = e.allResolved instanceof Promise ? \" - awaiting promise\" : \"\";\n            o.trace(`updateRouteTree(rootCtx:%s,rt:%s,vit:%s)${c}`, i, n, s);\n            return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)(e.allResolved, (() => updateNode(o, s, e, i.node)));\n        }), (() => {\n            const e = t.previousRouteTree.root.children;\n            const s = t.routeTree.root.children;\n            const i = mergeDistinct(e, s);\n            Batch.C((s => {\n                for (const i of e) {\n                    i.context.vpa.Ht(t, s);\n                }\n            })).T((e => {\n                if (t.guardsResult !== true) {\n                    e.N();\n                    this.Pe(t);\n                }\n            })).T((e => {\n                for (const i of s) {\n                    i.context.vpa.qt(t, e);\n                }\n            })).T((e => {\n                if (t.guardsResult !== true) {\n                    e.N();\n                    this.Pe(t);\n                }\n            })).T((s => {\n                for (const i of e) {\n                    i.context.vpa.Gt(t, s);\n                }\n            })).T((e => {\n                for (const i of s) {\n                    i.context.vpa.Wt(t, e);\n                }\n            })).T((e => {\n                for (const s of i) {\n                    s.context.vpa.Xt(t, e);\n                }\n            })).T((() => {\n                i.forEach((function(t) {\n                    t.context.vpa.ee();\n                }));\n                this.be = true;\n                this.Re = t.finalInstructions = t.routeTree.le();\n                this.ye = false;\n                const e = t.finalInstructions.toUrl(true, this.options.Ve);\n                switch (t.options.Ae(this.Re)) {\n                  case \"none\":\n                    break;\n\n                  case \"push\":\n                    this.$e.pushState(toManagedState(t.options.state, t.id), this.updateTitle(t), e);\n                    break;\n\n                  case \"replace\":\n                    this.$e.replaceState(toManagedState(t.options.state, t.id), this.updateTitle(t), e);\n                    break;\n                }\n                this.I.publish(new NavigationEndEvent(t.id, t.instructions, this.Re));\n                t.resolve(true);\n                this.Oe();\n            })).C();\n        }));\n    }\n    updateTitle(t = this.currentTr) {\n        const e = this.Me(t);\n        if (e.length > 0) {\n            this.ke.document.title = e;\n        }\n        return this.ke.document.title;\n    }\n    Me(t = this.currentTr) {\n        let e;\n        if (this.Ne) {\n            e = this.options.buildTitle(t) ?? \"\";\n        } else {\n            switch (typeof t.options.title) {\n              case \"function\":\n                e = t.options.title.call(void 0, t.routeTree.root) ?? \"\";\n                break;\n\n              case \"string\":\n                e = t.options.title;\n                break;\n\n              default:\n                e = t.routeTree.root.getTitle(t.options.titleSeparator) ?? \"\";\n                break;\n            }\n        }\n        return e;\n    }\n    Pe(t) {\n        const e = t.previousRouteTree.root.children;\n        const s = t.routeTree.root.children;\n        const i = mergeDistinct(e, s);\n        i.forEach((function(t) {\n            t.context.vpa.te();\n        }));\n        this.Re = t.prevInstructions;\n        this.ve = t.previousRouteTree;\n        this.ye = false;\n        const n = t.guardsResult;\n        this.I.publish(new NavigationCancelEvent(t.id, t.instructions, `guardsResult is ${n}`));\n        if (n === false) {\n            t.resolve(false);\n            this.Oe();\n        } else {\n            let e;\n            if (this.be && (t.erredWithUnknownRoute || t.error != null && this.options.restorePreviousRouteTreeOnError)) e = t.prevInstructions; else if (n === true) return; else e = n;\n            void (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)(this.Ie(e, \"api\", t.managedState, t), (() => {}));\n        }\n    }\n    Oe() {\n        if (this.Ce === null) return;\n        this.ke.taskQueue.queueTask((() => {\n            const t = this.Ce;\n            if (t === null) return;\n            try {\n                this.Qt(t);\n            } catch (e) {\n                t.Dt(e);\n            }\n        }));\n    }\n}\n\nfunction updateNode(t, e, s, i) {\n    t.trace(`updateNode(ctx:%s,node:%s)`, s, i);\n    i.queryParams = e.queryParams;\n    i.fragment = e.fragment;\n    if (!i.context.isRoot) {\n        i.context.vpa.Yt(i.se.options, i);\n    }\n    if (i.context === s) {\n        i.ue();\n        return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolveAll)(...e.children.map((e => createAndAppendNodes(t, i, e)))), (() => (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolveAll)(...s.getAvailableViewportAgents().reduce(((e, s) => {\n            const n = s.viewport;\n            const r = n.default;\n            if (r === null) return e;\n            e.push(createAndAppendNodes(t, i, ViewportInstruction.create({\n                component: r,\n                viewport: n.name\n            })));\n            return e;\n        }), []))));\n    }\n    return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolveAll)(...i.children.map((i => updateNode(t, e, s, i))));\n}\n\nclass ParsedUrl {\n    constructor(t, e, s) {\n        this.path = t;\n        this.query = e;\n        this.fragment = s;\n        this.id = `${t}?${e?.toString() ?? \"\"}#${s ?? \"\"}`;\n    }\n    toString() {\n        return this.id;\n    }\n    static J(t) {\n        let e = null;\n        const s = t.indexOf(\"#\");\n        if (s >= 0) {\n            const i = t.slice(s + 1);\n            e = decodeURIComponent(i);\n            t = t.slice(0, s);\n        }\n        let i = null;\n        const n = t.indexOf(\"?\");\n        if (n >= 0) {\n            const e = t.slice(n + 1);\n            t = t.slice(0, n);\n            i = Object.freeze(new URLSearchParams(e));\n        }\n        return new ParsedUrl(t, i ?? Z, e);\n    }\n}\n\nfunction stringify(t, e, s) {\n    let i;\n    if (typeof t === \"string\") {\n        i = t;\n    } else {\n        i = t.path;\n        e = t.query;\n        s = t.fragment;\n    }\n    e ??= Z;\n    let n = e.toString();\n    n = n === \"\" ? \"\" : `?${n}`;\n    const r = s != null && s.length > 0 ? `#${encodeURIComponent(s)}` : \"\";\n    return `${i}${n}${r}`;\n}\n\nconst et = Object.freeze({\n    parse(t) {\n        return ParsedUrl.J(t);\n    },\n    stringify(t, e, s) {\n        return stringify(t, e, s);\n    }\n});\n\nconst st = Object.freeze({\n    parse(t) {\n        const e = t.indexOf(\"#\");\n        if (e >= 0) {\n            const s = t.slice(e + 1);\n            t = decodeURIComponent(s);\n        }\n        return ParsedUrl.J(t);\n    },\n    stringify(t, e, s) {\n        return `/#/${stringify(t, e, s)}`;\n    }\n});\n\nfunction valueOrFuncToValue(t, e) {\n    if (typeof e === \"function\") {\n        return e(t);\n    }\n    return e;\n}\n\nconst it = /*@__PURE__*/ _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.DI.createInterface(\"RouterOptions\");\n\nclass RouterOptions {\n    constructor(t, e, s, i, n, r, o) {\n        this.useUrlFragmentHash = t;\n        this.useHref = e;\n        this.historyStrategy = s;\n        this.buildTitle = i;\n        this.useNavigationModel = n;\n        this.activeClass = r;\n        this.restorePreviousRouteTreeOnError = o;\n        this.Ve = t ? st : et;\n    }\n    static create(t) {\n        return new RouterOptions(t.useUrlFragmentHash ?? false, t.useHref ?? true, t.historyStrategy ?? \"push\", t.buildTitle ?? null, t.useNavigationModel ?? true, t.activeClass ?? null, t.restorePreviousRouteTreeOnError ?? true);\n    }\n    toString() {\n        return \"RO\";\n    }\n}\n\nclass NavigationOptions {\n    constructor(t, e, s, i, n, r, o, a) {\n        this.historyStrategy = t;\n        this.title = e;\n        this.titleSeparator = s;\n        this.context = i;\n        this.queryParams = n;\n        this.fragment = r;\n        this.state = o;\n        this.transitionPlan = a;\n    }\n    static create(t, e) {\n        return new NavigationOptions(e.historyStrategy ?? t.historyStrategy, e.title ?? null, e.titleSeparator ?? \" | \", e.context ?? null, e.queryParams ?? null, e.fragment ?? \"\", e.state ?? null, e.transitionPlan ?? null);\n    }\n    Z() {\n        return new NavigationOptions(this.historyStrategy, this.title, this.titleSeparator, this.context, {\n            ...this.queryParams\n        }, this.fragment, this.state === null ? null : {\n            ...this.state\n        }, this.transitionPlan);\n    }\n    Ae(t) {\n        return valueOrFuncToValue(t, this.historyStrategy);\n    }\n}\n\nconst nt = \"default\";\n\nclass ViewportInstruction {\n    constructor(t, e, s, i, n, r, o) {\n        this.open = t;\n        this.close = e;\n        this.recognizedRoute = s;\n        this.component = i;\n        this.viewport = n;\n        this.params = r;\n        this.children = o;\n    }\n    static create(t) {\n        if (t instanceof ViewportInstruction) return t;\n        if (isPartialViewportInstruction(t)) {\n            const e = TypedNavigationInstruction.create(t.component);\n            const s = t.children?.map(ViewportInstruction.create) ?? [];\n            return new ViewportInstruction(t.open ?? 0, t.close ?? 0, t.recognizedRoute ?? null, e, t.viewport ?? null, Object.freeze(t.params ?? null), s);\n        }\n        const e = TypedNavigationInstruction.create(t);\n        return new ViewportInstruction(0, 0, null, e, null, null, []);\n    }\n    contains(t) {\n        const e = this.children;\n        const s = t.children;\n        if (e.length < s.length) {\n            return false;\n        }\n        if (!this.component.equals(t.component)) return false;\n        const i = this.viewport ?? null;\n        const n = t.viewport ?? null;\n        if (i !== null && n !== null && i !== n) return false;\n        for (let t = 0, i = s.length; t < i; ++t) {\n            if (!e[t].contains(s[t])) {\n                return false;\n            }\n        }\n        return true;\n    }\n    equals(t) {\n        const e = this.children;\n        const s = t.children;\n        if (e.length !== s.length) {\n            return false;\n        }\n        if (!this.component.equals(t.component) || this.viewport !== t.viewport || !shallowEquals(this.params, t.params)) {\n            return false;\n        }\n        for (let t = 0, i = e.length; t < i; ++t) {\n            if (!e[t].equals(s[t])) {\n                return false;\n            }\n        }\n        return true;\n    }\n    Z() {\n        return new ViewportInstruction(this.open, this.close, this.recognizedRoute, this.component.Z(), this.viewport, this.params, [ ...this.children ]);\n    }\n    toUrlComponent(t = true) {\n        const e = this.component.toUrlComponent();\n        const s = this.viewport;\n        const i = e.length === 0 || s === null || s.length === 0 || s === nt ? \"\" : `@${s}`;\n        const n = `${\"(\".repeat(this.open)}${e}${stringifyParams(this.params)}${i}${\")\".repeat(this.close)}`;\n        const r = t ? this.children.map((t => t.toUrlComponent())).join(\"+\") : \"\";\n        return n.length > 0 ? r.length > 0 ? `${n}/${r}` : n : r;\n    }\n    toString() {\n        const t = `c:${this.component}`;\n        const e = this.viewport === null || this.viewport.length === 0 ? \"\" : `viewport:${this.viewport}`;\n        const s = this.children.length === 0 ? \"\" : `children:[${this.children.map(String).join(\",\")}]`;\n        const i = [ t, e, s ].filter(Boolean).join(\",\");\n        return `VPI(${i})`;\n    }\n}\n\nfunction stringifyParams(t) {\n    if (t === null) return \"\";\n    const e = Object.keys(t);\n    const s = e.length;\n    if (s === 0) return \"\";\n    const i = Array(s);\n    const n = [];\n    const r = [];\n    for (const t of e) {\n        if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isArrayIndex)(t)) {\n            n.push(Number(t));\n        } else {\n            r.push(t);\n        }\n    }\n    for (let e = 0; e < s; ++e) {\n        const s = n.indexOf(e);\n        if (s > -1) {\n            i[e] = t[e];\n            n.splice(s, 1);\n        } else {\n            const s = r.shift();\n            i[e] = `${s}=${t[s]}`;\n        }\n    }\n    return `(${i.join(\",\")})`;\n}\n\nclass ViewportInstructionTree {\n    constructor(t, e, s, i, n) {\n        this.options = t;\n        this.isAbsolute = e;\n        this.children = s;\n        this.queryParams = i;\n        this.fragment = n;\n        Object.freeze(i);\n    }\n    static create(t, e, s, i) {\n        s = s instanceof NavigationOptions ? s : NavigationOptions.create(e, s ?? _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.emptyObject);\n        let n = s.context;\n        if (!(n instanceof RouteContext) && i != null) {\n            n = s.context = RouteContext.resolve(i, n);\n        }\n        const r = n != null;\n        if (t instanceof Array) {\n            const e = t.length;\n            const i = new Array(e);\n            const o = new URLSearchParams(s.queryParams ?? _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.emptyObject);\n            for (let s = 0; s < e; s++) {\n                const e = t[s];\n                const a = r ? n.pe(e) : null;\n                if (a !== null) {\n                    i[s] = a.vi;\n                    mergeURLSearchParams(o, a.query, false);\n                } else {\n                    i[s] = ViewportInstruction.create(e);\n                }\n            }\n            return new ViewportInstructionTree(s, false, i, o, s.fragment);\n        }\n        if (typeof t === \"string\") {\n            const i = RouteExpression.parse(e.Ve.parse(t));\n            return i.toInstructionTree(s);\n        }\n        const o = r ? n.pe(isPartialViewportInstruction(t) ? {\n            ...t,\n            params: t.params ?? _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.emptyObject\n        } : {\n            component: t,\n            params: _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.emptyObject\n        }) : null;\n        const a = new URLSearchParams(s.queryParams ?? _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.emptyObject);\n        return o !== null ? new ViewportInstructionTree(s, false, [ o.vi ], mergeURLSearchParams(a, o.query, false), s.fragment) : new ViewportInstructionTree(s, false, [ ViewportInstruction.create(t) ], a, s.fragment);\n    }\n    equals(t) {\n        const e = this.children;\n        const s = t.children;\n        if (e.length !== s.length) {\n            return false;\n        }\n        for (let t = 0, i = e.length; t < i; ++t) {\n            if (!e[t].equals(s[t])) {\n                return false;\n            }\n        }\n        return true;\n    }\n    toUrl(t, e) {\n        let s = \"\";\n        if (!t) {\n            const t = [];\n            let e = this.options.context;\n            if (e != null && !(e instanceof RouteContext)) throw new Error(\"Invalid operation; incompatible navigation context.\");\n            while (e != null && !e.isRoot) {\n                const s = e.vpa;\n                const i = s.Ct === 4096 ? s.Tt : s.It;\n                if (i == null) throw new Error(\"Invalid operation; nodes of the viewport agent are not set.\");\n                t.splice(0, 0, i.instruction.toUrlComponent());\n                e = e.parent;\n            }\n            if (t[0] === \"\") {\n                t.splice(0, 1);\n            }\n            s = t.join(\"/\");\n        }\n        const i = this.toPath();\n        return e.stringify(s.length > 0 ? `${s}/${i}` : i, this.queryParams, this.fragment);\n    }\n    toPath() {\n        return this.children.map((t => t.toUrlComponent())).join(\"+\");\n    }\n    toString() {\n        return `[${this.children.map(String).join(\",\")}]`;\n    }\n}\n\nclass TypedNavigationInstruction {\n    constructor(t, e) {\n        this.type = t;\n        this.value = e;\n    }\n    static create(t) {\n        if (t instanceof TypedNavigationInstruction) {\n            return t;\n        }\n        if (typeof t === \"string\") return new TypedNavigationInstruction(0, t);\n        if (!(0,_aurelia_metadata__WEBPACK_IMPORTED_MODULE_0__.isObject)(t)) expectType(\"function/class or object\", \"\", t);\n        if (typeof t === \"function\") {\n            if (_aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_2__.CustomElement.isType(t)) {\n                const e = _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_2__.CustomElement.getDefinition(t);\n                return new TypedNavigationInstruction(2, e);\n            } else {\n                return TypedNavigationInstruction.create(t());\n            }\n        }\n        if (t instanceof Promise) return new TypedNavigationInstruction(3, t);\n        if (isPartialViewportInstruction(t)) {\n            const e = ViewportInstruction.create(t);\n            return new TypedNavigationInstruction(1, e);\n        }\n        if ((0,_aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_2__.isCustomElementViewModel)(t)) return new TypedNavigationInstruction(4, t);\n        if (t instanceof _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_2__.CustomElementDefinition) return new TypedNavigationInstruction(2, t);\n        throw new Error(getMessage(3400, tryStringify(t)));\n    }\n    equals(t) {\n        switch (this.type) {\n          case 2:\n          case 4:\n          case 3:\n          case 0:\n            return this.type === t.type && this.value === t.value;\n\n          case 1:\n            return this.type === t.type && this.value.equals(t.value);\n        }\n    }\n    Z() {\n        return new TypedNavigationInstruction(this.type, this.value);\n    }\n    toUrlComponent() {\n        switch (this.type) {\n          case 2:\n            return this.value.name;\n\n          case 4:\n          case 3:\n            throw new Error(getMessage(3403, this.type));\n\n          case 1:\n            return this.value.toUrlComponent();\n\n          case 0:\n            return this.value;\n        }\n    }\n    toString() {\n        switch (this.type) {\n          case 2:\n            return `CEDef(name:'${this.value.name}')`;\n\n          case 3:\n            return `Promise`;\n\n          case 4:\n            return `VM(name:'${_aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_2__.CustomElement.getDefinition(this.value.constructor).name}')`;\n\n          case 1:\n            return this.value.toString();\n\n          case 0:\n            return `'${this.value}'`;\n        }\n    }\n}\n\nclass ComponentAgent {\n    constructor(t, e, s, i, n) {\n        this.je = t;\n        this.Le = e;\n        this.Zt = s;\n        this.we = i;\n        this.Ue = n;\n        this.L = e.container.get(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.ILogger).scopeTo(`ComponentAgent<${i.At}>`);\n        const o = e.lifecycleHooks;\n        this.ze = (o.canLoad ?? []).map((t => t.instance));\n        this.Be = (o.loading ?? []).map((t => t.instance));\n        this.He = (o.canUnload ?? []).map((t => t.instance));\n        this.De = (o.unloading ?? []).map((t => t.instance));\n        this.qe = \"canLoad\" in t;\n        this.Fe = \"loading\" in t;\n        this.Ge = \"canUnload\" in t;\n        this.We = \"unloading\" in t;\n    }\n    Mt(t, e) {\n        if (t === null) {\n            return this.Le.activate(this.Le, e);\n        }\n        void this.Le.activate(t, e);\n    }\n    Ut(t, e) {\n        if (t === null) {\n            return this.Le.deactivate(this.Le, e);\n        }\n        void this.Le.deactivate(t, e);\n    }\n    Jt() {\n        this.Le.dispose();\n    }\n    Ht(t, e, s) {\n        s.N();\n        let i = Promise.resolve();\n        for (const n of this.He) {\n            s.N();\n            i = i.then((() => new Promise((i => {\n                if (t.guardsResult !== true) {\n                    s.$();\n                    i();\n                    return;\n                }\n                t.Qt((() => n.canUnload(this.je, e, this.Zt)), (e => {\n                    if (t.guardsResult === true && e === false) {\n                        t.guardsResult = false;\n                    }\n                    s.$();\n                    i();\n                }));\n            }))));\n        }\n        if (this.Ge) {\n            s.N();\n            i = i.then((() => {\n                if (t.guardsResult !== true) {\n                    s.$();\n                    return;\n                }\n                t.Qt((() => this.je.canUnload(e, this.Zt)), (e => {\n                    if (t.guardsResult === true && e === false) {\n                        t.guardsResult = false;\n                    }\n                    s.$();\n                }));\n            }));\n        }\n        s.$();\n    }\n    qt(t, e, s) {\n        const i = this.we.root;\n        s.N();\n        let n = Promise.resolve();\n        for (const r of this.ze) {\n            s.N();\n            n = n.then((() => new Promise((n => {\n                if (t.guardsResult !== true) {\n                    s.$();\n                    n();\n                    return;\n                }\n                t.Qt((() => r.canLoad(this.je, e.params, e, this.Zt)), (e => {\n                    if (t.guardsResult === true && e != null && e !== true) {\n                        t.guardsResult = e === false ? false : ViewportInstructionTree.create(e, this.Ue, void 0, i);\n                    }\n                    s.$();\n                    n();\n                }));\n            }))));\n        }\n        if (this.qe) {\n            s.N();\n            n = n.then((() => {\n                if (t.guardsResult !== true) {\n                    s.$();\n                    return;\n                }\n                t.Qt((() => this.je.canLoad(e.params, e, this.Zt)), (e => {\n                    if (t.guardsResult === true && e != null && e !== true) {\n                        t.guardsResult = e === false ? false : ViewportInstructionTree.create(e, this.Ue, void 0, i);\n                    }\n                    s.$();\n                }));\n            }));\n        }\n        s.$();\n    }\n    Gt(t, e, s) {\n        s.N();\n        for (const i of this.De) {\n            t.Qt((() => {\n                s.N();\n                return i.unloading(this.je, e, this.Zt);\n            }), (() => {\n                s.$();\n            }));\n        }\n        if (this.We) {\n            t.Qt((() => {\n                s.N();\n                return this.je.unloading(e, this.Zt);\n            }), (() => {\n                s.$();\n            }));\n        }\n        s.$();\n    }\n    Wt(t, e, s) {\n        s.N();\n        for (const i of this.Be) {\n            t.Qt((() => {\n                s.N();\n                return i.loading(this.je, e.params, e, this.Zt);\n            }), (() => {\n                s.$();\n            }));\n        }\n        if (this.Fe) {\n            t.Qt((() => {\n                s.N();\n                return this.je.loading(e.params, e, this.Zt);\n            }), (() => {\n                s.$();\n            }));\n        }\n        s.$();\n    }\n}\n\nconst rt = /*@__PURE__*/ _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.DI.createInterface(\"IRouteContext\");\n\nconst ot = Object.freeze([ \"string\", \"object\", \"function\" ]);\n\nfunction isEagerInstruction(t) {\n    if (t == null) return false;\n    const e = t.params;\n    const s = t.component;\n    return typeof e === \"object\" && e !== null && s != null && ot.includes(typeof s) && !(s instanceof Promise);\n}\n\nclass RouteContext {\n    get isRoot() {\n        return this.parent === null;\n    }\n    get depth() {\n        return this.path.length - 1;\n    }\n    get allResolved() {\n        return this.Qe;\n    }\n    get node() {\n        const t = this.Je;\n        if (t === null) throw new Error(getMessage(3171, this));\n        return t;\n    }\n    set node(t) {\n        const e = this.Ke = this.Je;\n        if (e !== t) {\n            this.Je = t;\n        }\n    }\n    get vpa() {\n        const t = this.Xe;\n        if (t === null) throw new Error(getMessage(3172, this));\n        return t;\n    }\n    get navigationModel() {\n        return this.Ye;\n    }\n    constructor(t, e, s, i, n, o) {\n        this.parent = e;\n        this.component = s;\n        this.config = i;\n        this.Ze = o;\n        this.ts = [];\n        this.childRoutes = [];\n        this.Qe = null;\n        this.Ke = null;\n        this.Je = null;\n        this.es = false;\n        this.Xe = t;\n        if (e === null) {\n            this.root = this;\n            this.path = [ this ];\n            this.At = s.name;\n        } else {\n            this.root = e.root;\n            this.path = [ ...e.path, this ];\n            this.At = `${e.At}/${s.name}`;\n        }\n        this.L = n.get(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.ILogger).scopeTo(`RouteContext<${this.At}>`);\n        this.ss = n.get(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.IModuleLoader);\n        const a = this.container = n.createChild();\n        this.p = a.get(_aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_2__.IPlatform);\n        a.registerResolver(_aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_2__.IController, this.ns = new _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.InstanceProvider, true);\n        const c = new _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.InstanceProvider(\"IRouteContext\", this);\n        a.registerResolver(rt, c);\n        a.registerResolver(RouteContext, c);\n        this.rs = new _aurelia_route_recognizer__WEBPACK_IMPORTED_MODULE_4__.RouteRecognizer;\n        if (o.options.useNavigationModel) {\n            const t = this.Ye = new NavigationModel([]);\n            a.get(D).subscribe(\"au:router:navigation-end\", (() => t.os(o, this)));\n        } else {\n            this.Ye = null;\n        }\n        this.cs(i);\n    }\n    cs(t) {\n        const e = [];\n        const s = t.routes ?? G;\n        const i = s.length;\n        if (i === 0) {\n            const e = t.component.prototype?.getRouteConfig;\n            this.es = e == null ? true : typeof e !== \"function\";\n            return;\n        }\n        const n = this.Ye;\n        const r = n !== null;\n        let a = 0;\n        for (;a < i; a++) {\n            const i = s[a];\n            if (i instanceof Promise) {\n                e.push(this.us(i));\n                continue;\n            }\n            const c = resolveRouteConfiguration(i, true, t, null, this);\n            if (c instanceof Promise) {\n                if (!isPartialChildRouteConfig(i) || i.path == null) throw new Error(getMessage(3173));\n                for (const t of ensureArrayOfStrings(i.path)) {\n                    this.ls(t, i.caseSensitive ?? false, c);\n                }\n                const t = this.childRoutes.length;\n                const s = c.then((e => this.childRoutes[t] = e));\n                this.childRoutes.push(s);\n                if (r) {\n                    n.us(s);\n                }\n                e.push(s.then(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.noop));\n                continue;\n            }\n            for (const t of c.path ?? _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.emptyArray) {\n                this.ls(t, c.caseSensitive, c);\n            }\n            this.childRoutes.push(c);\n            if (r) {\n                n.us(c);\n            }\n        }\n        this.es = true;\n        if (e.length > 0) {\n            this.Qe = Promise.all(e).then((() => {\n                this.Qe = null;\n            }));\n        }\n    }\n    static setRoot(t) {\n        const e = t.get(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.ILogger).scopeTo(\"RouteContext\");\n        if (!t.has(_aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_2__.IAppRoot, true)) {\n            logAndThrow(new Error(getMessage(3167)), e);\n        }\n        if (t.has(rt, true)) {\n            logAndThrow(new Error(getMessage(3168)), e);\n        }\n        const {controller: s} = t.get(_aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_2__.IAppRoot);\n        if (s === void 0) {\n            logAndThrow(new Error(getMessage(3169)), e);\n        }\n        const i = t.get(tt);\n        return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)(i.getRouteContext(null, s.definition, s.viewModel, s.container, null, null, null), (e => {\n            t.register(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.Registration.instance(rt, e));\n            e.node = i.routeTree.root;\n        }));\n    }\n    static resolve(t, e) {\n        const s = t.container;\n        const i = s.get(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.ILogger).scopeTo(\"RouteContext\");\n        if (e == null) {\n            return t;\n        }\n        if (e instanceof RouteContext) {\n            return e;\n        }\n        if (e instanceof s.get(_aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_2__.IPlatform).Node) {\n            try {\n                const t = _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_2__.CustomElement.for(e, {\n                    searchParents: true\n                });\n                return t.container.get(rt);\n            } catch (t) {\n                error(i, 3155, e.nodeName, t);\n                throw t;\n            }\n        }\n        if ((0,_aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_2__.isCustomElementViewModel)(e)) {\n            const t = e.$controller;\n            return t.container.get(rt);\n        }\n        if ((0,_aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_2__.isCustomElementController)(e)) {\n            const t = e;\n            return t.container.get(rt);\n        }\n        logAndThrow(new Error(getMessage(3170, Object.prototype.toString.call(e))), i);\n    }\n    dispose() {\n        this.container.dispose();\n    }\n    ge(t) {\n        const e = this.ts.find((e => e.zt(t)));\n        if (e === void 0) throw new Error(getMessage(3174, t, this.ps()));\n        return e;\n    }\n    getAvailableViewportAgents() {\n        return this.ts.filter((t => t.Bt()));\n    }\n    getFallbackViewportAgent(t) {\n        return this.ts.find((e => e.Bt() && e.viewport.name === t && e.viewport.fallback !== \"\")) ?? null;\n    }\n    Ft(t, e) {\n        this.ns.prepare(t);\n        const s = this.container.createChild({\n            inheritParentResources: true\n        });\n        const i = this.p;\n        const n = e.component;\n        const r = i.document.createElement(n.name);\n        (0,_aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_2__.registerHostNode)(s, r, i);\n        const o = s.invoke(n.Type);\n        const c = this.es ? void 0 : (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)(resolveRouteConfiguration(o, false, this.config, e, null), (t => this.cs(t)));\n        return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)(c, (() => {\n            const i = _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_2__.Controller.$el(s, o, t.host, null, n);\n            const r = new ComponentAgent(o, i, e, this, this.Ze.options);\n            this.ns.dispose();\n            return r;\n        }));\n    }\n    gs(t) {\n        const e = ViewportAgent.for(t, this);\n        if (this.ts.includes(e)) {\n            return e;\n        }\n        this.ts.push(e);\n        return e;\n    }\n    ds(t) {\n        const e = ViewportAgent.for(t, this);\n        if (!this.ts.includes(e)) {\n            return;\n        }\n        this.ts.splice(this.ts.indexOf(e), 1);\n    }\n    recognize(t, e = false) {\n        let s = this;\n        let i = true;\n        let n = null;\n        while (i) {\n            n = s.rs.recognize(t);\n            if (n === null) {\n                if (!e || s.isRoot) return null;\n                s = s.parent;\n            } else {\n                i = false;\n            }\n        }\n        return new $RecognizedRoute(n, Reflect.has(n.params, _aurelia_route_recognizer__WEBPACK_IMPORTED_MODULE_4__.RESIDUE) ? n.params[_aurelia_route_recognizer__WEBPACK_IMPORTED_MODULE_4__.RESIDUE] ?? null : null);\n    }\n    us(t) {\n        return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)(resolveRouteConfiguration(t, true, this.config, null, this), (t => {\n            for (const e of t.path ?? _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.emptyArray) {\n                this.ls(e, t.caseSensitive, t);\n            }\n            this.Ye?.us(t);\n            this.childRoutes.push(t);\n        }));\n    }\n    ls(t, e, s) {\n        this.rs.add({\n            path: t,\n            caseSensitive: e,\n            handler: s\n        }, true);\n    }\n    et(t) {\n        return this.ss.load(t, (e => {\n            const s = e.raw;\n            if (typeof s === \"function\") {\n                const t = _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_2__.CustomElement.isType(s) ? _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_2__.CustomElement.getDefinition(s) : null;\n                if (t != null) return t;\n            }\n            let i = void 0;\n            let n = void 0;\n            for (const t of e.items) {\n                const e = _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_2__.CustomElement.isType(t.value) ? t.definition : null;\n                if (e != null) {\n                    if (t.key === \"default\") {\n                        i = e;\n                    } else if (n === void 0) {\n                        n = e;\n                    }\n                }\n            }\n            if (i === void 0 && n === void 0) throw new Error(getMessage(3175, t));\n            return n ?? i;\n        }));\n    }\n    pe(t) {\n        if (!isEagerInstruction(t)) return null;\n        const e = t.component;\n        let s;\n        let i = false;\n        if (e instanceof RouteConfig) {\n            s = e.path;\n            i = true;\n        } else if (typeof e === \"string\") {\n            const t = this.childRoutes.find((t => t.id === e));\n            if (t === void 0) return null;\n            s = t.path;\n        } else if (e.type === 0) {\n            const t = this.childRoutes.find((t => t.id === e.value));\n            if (t === void 0) return null;\n            s = t.path;\n        } else {\n            const t = resolveCustomElementDefinition(e, this)[1];\n            s = this.childRoutes.reduce(((e, s) => {\n                if (s.component === t.Type) {\n                    e.push(...s.path);\n                }\n                return e;\n            }), []);\n            i = true;\n        }\n        if (s === void 0) return null;\n        const n = t.params;\n        const r = this.rs;\n        const o = s.length;\n        const a = [];\n        let c = null;\n        if (o === 1) {\n            const e = core(s[0]);\n            if (e === null) {\n                if (i) throw new Error(getMessage(3166, t, a));\n                return null;\n            }\n            return {\n                vi: ViewportInstruction.create({\n                    recognizedRoute: new $RecognizedRoute(new _aurelia_route_recognizer__WEBPACK_IMPORTED_MODULE_4__.RecognizedRoute(e.endpoint, e.consumed), null),\n                    component: e.path,\n                    children: t.children,\n                    viewport: t.viewport,\n                    open: t.open,\n                    close: t.close\n                }),\n                query: e.query\n            };\n        }\n        let u = 0;\n        for (let t = 0; t < o; t++) {\n            const e = core(s[t]);\n            if (e === null) continue;\n            if (c === null) {\n                c = e;\n                u = Object.keys(e.consumed).length;\n            } else if (Object.keys(e.consumed).length > u) {\n                c = e;\n            }\n        }\n        if (c === null) {\n            if (i) throw new Error(getMessage(3166, t, a));\n            return null;\n        }\n        return {\n            vi: ViewportInstruction.create({\n                recognizedRoute: new $RecognizedRoute(new _aurelia_route_recognizer__WEBPACK_IMPORTED_MODULE_4__.RecognizedRoute(c.endpoint, c.consumed), null),\n                component: c.path,\n                children: t.children,\n                viewport: t.viewport,\n                open: t.open,\n                close: t.close\n            }),\n            query: c.query\n        };\n        function core(t) {\n            const e = r.getEndpoint(t);\n            if (e === null) {\n                a.push(`No endpoint found for the path: '${t}'.`);\n                return null;\n            }\n            const s = Object.create(null);\n            for (const i of e.params) {\n                const e = i.name;\n                let r = n[e];\n                if (r == null || String(r).length === 0) {\n                    if (!i.isOptional) {\n                        a.push(`No value for the required parameter '${e}' is provided for the path: '${t}'.`);\n                        return null;\n                    }\n                    r = \"\";\n                } else {\n                    if (!i.satisfiesPattern(r)) {\n                        a.push(`The value '${r}' for the parameter '${e}' does not satisfy the pattern '${i.pattern}'.`);\n                        return null;\n                    }\n                    s[e] = r;\n                }\n                const o = i.isStar ? `*${e}` : i.isOptional ? `:${e}?` : `:${e}`;\n                t = t.replace(o, encodeURIComponent(r));\n            }\n            const i = Object.keys(s);\n            const o = Object.fromEntries(Object.entries(n).filter((([t]) => !i.includes(t))));\n            return {\n                path: t.replace(/\\/\\//g, \"/\"),\n                endpoint: e,\n                consumed: s,\n                query: o\n            };\n        }\n    }\n    toString() {\n        const t = this.ts;\n        const e = t.map(String).join(\",\");\n        return `RC(path:'${this.At}',viewports:[${e}])`;\n    }\n    ps() {\n        const t = [];\n        for (let e = 0; e < this.path.length; ++e) {\n            t.push(`${\" \".repeat(e)}${this.path[e]}`);\n        }\n        return t.join(\"\\n\");\n    }\n}\n\nclass $RecognizedRoute {\n    constructor(t, e) {\n        this.route = t;\n        this.residue = e;\n    }\n    toString() {\n        return \"RR\";\n    }\n}\n\nclass NavigationModel {\n    constructor(t) {\n        this.routes = t;\n        this.ws = void 0;\n    }\n    resolve() {\n        return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)(this.ws, _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.noop);\n    }\n    os(t, e) {\n        void (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)(this.ws, (() => {\n            for (const s of this.routes) {\n                s.os(t, e);\n            }\n        }));\n    }\n    us(t) {\n        const e = this.routes;\n        if (!(t instanceof Promise)) {\n            if ((t.nav ?? false) && t.redirectTo === null) {\n                e.push(NavigationRoute.J(t));\n            }\n            return;\n        }\n        const s = e.length;\n        e.push(void 0);\n        let i = void 0;\n        i = this.ws = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)(this.ws, (() => (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)(t, (t => {\n            if (t.nav && t.redirectTo === null) {\n                e[s] = NavigationRoute.J(t);\n            } else {\n                e.splice(s, 1);\n            }\n            if (this.ws === i) {\n                this.ws = void 0;\n            }\n        }))));\n    }\n}\n\nclass NavigationRoute {\n    constructor(t, e, s, i) {\n        this.id = t;\n        this.path = e;\n        this.title = s;\n        this.data = i;\n        this.Es = null;\n    }\n    static J(t) {\n        return new NavigationRoute(t.id, ensureArrayOfStrings(t.path ?? _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.emptyArray), t.title, t.data);\n    }\n    get isActive() {\n        return this.Nt;\n    }\n    os(t, e) {\n        let s = this.Es;\n        if (s === null) {\n            const i = t.options;\n            s = this.Es = this.path.map((t => {\n                const s = e.rs.getEndpoint(t);\n                if (s === null) throw new Error(getMessage(3450, t));\n                return new ViewportInstructionTree(NavigationOptions.create(i, {\n                    context: e\n                }), false, [ ViewportInstruction.create({\n                    recognizedRoute: new $RecognizedRoute(new _aurelia_route_recognizer__WEBPACK_IMPORTED_MODULE_4__.RecognizedRoute(s, _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.emptyObject), null),\n                    component: t\n                }) ], Z, null);\n            }));\n        }\n        this.Nt = s.some((e => t.routeTree.contains(e, true)));\n    }\n}\n\nclass ViewportCustomElement {\n    constructor() {\n        this.name = nt;\n        this.usedBy = \"\";\n        this.default = \"\";\n        this.fallback = \"\";\n        this.Rs = void 0;\n        this.Le = void 0;\n        this.we = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(rt);\n        this.L = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.ILogger).scopeTo(`au-viewport<${this.we.At}>`);\n    }\n    tt(t, e, s) {\n        const i = this.fallback;\n        return typeof i === \"function\" && !_aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_2__.CustomElement.isType(i) ? i(t, e, s) : i;\n    }\n    hydrated(t) {\n        this.Le = t;\n        this.Rs = this.we.gs(this);\n    }\n    attaching(t, e) {\n        return this.Rs.Ot(t, this.Le);\n    }\n    detaching(t, e) {\n        return this.Rs.Lt(t, this.Le);\n    }\n    dispose() {\n        this.we.ds(this);\n        this.Rs.Jt();\n        this.Rs = void 0;\n    }\n    toString() {\n        const t = [];\n        for (const e of at) {\n            const s = this[e];\n            switch (typeof s) {\n              case \"string\":\n                if (s !== \"\") {\n                    t.push(`${e}:'${s}'`);\n                }\n                break;\n\n              default:\n                {\n                    t.push(`${e}:${String(s)}`);\n                }\n            }\n        }\n        return `VP(ctx:'${this.we.At}',${t.join(\",\")})`;\n    }\n}\n\n_aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_2__.CustomElement.define({\n    name: \"au-viewport\",\n    bindables: [ \"name\", \"usedBy\", \"default\", \"fallback\" ]\n}, ViewportCustomElement);\n\nconst at = [ \"name\", \"usedBy\", \"default\", \"fallback\" ];\n\nclass LoadCustomAttribute {\n    constructor() {\n        this.ys = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(_aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_2__.INode);\n        this.Ze = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(tt);\n        this.we = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(rt);\n        this.I = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(D);\n        this.$e = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(F);\n        this.attribute = \"href\";\n        this.active = false;\n        this.bs = null;\n        this.Re = null;\n        this.Ss = null;\n        this.onClick = t => {\n            if (this.Re === null) {\n                return;\n            }\n            if (t.altKey || t.ctrlKey || t.shiftKey || t.metaKey || t.button !== 0) {\n                return;\n            }\n            t.preventDefault();\n            void this.Ze.load(this.Re, {\n                context: this.context\n            });\n        };\n        const t = this.ys;\n        this.Cs = !t.hasAttribute(\"external\") && !t.hasAttribute(\"data-external\");\n        this.xs = this.Ze.options.activeClass;\n    }\n    binding() {\n        if (this.Cs) {\n            this.ys.addEventListener(\"click\", this.onClick);\n        }\n        this.valueChanged();\n        this.Ss = this.I.subscribe(\"au:router:navigation-end\", (t => {\n            const e = this.active = this.Re !== null && this.Ze.isActive(this.Re, this.context);\n            const s = this.xs;\n            if (s === null) return;\n            this.ys.classList.toggle(s, e);\n        }));\n    }\n    attaching() {\n        const t = this.context;\n        const e = t.allResolved;\n        if (e !== null) {\n            return e.then((() => {\n                this.valueChanged();\n            }));\n        }\n    }\n    unbinding() {\n        if (this.Cs) {\n            this.ys.removeEventListener(\"click\", this.onClick);\n        }\n        this.Ss.dispose();\n    }\n    valueChanged() {\n        const t = this.Ze;\n        const e = t.options;\n        const s = this.route;\n        let i = this.context;\n        if (i === void 0) {\n            i = this.context = this.we;\n        } else if (i === null) {\n            i = this.context = this.we.root;\n        }\n        if (s != null && i.allResolved === null) {\n            const n = this.params;\n            const r = this.Re = t.createViewportInstructions(typeof n === \"object\" && n !== null ? {\n                component: s,\n                params: n\n            } : s, {\n                context: i\n            });\n            this.bs = r.toUrl(false, e.Ve);\n        } else {\n            this.Re = null;\n            this.bs = null;\n        }\n        const n = _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_2__.CustomElement.for(this.ys, {\n            optional: true\n        });\n        if (n !== null) {\n            n.viewModel[this.attribute] = this.Re;\n        } else {\n            if (this.bs === null) {\n                this.ys.removeAttribute(this.attribute);\n            } else {\n                const t = e.useUrlFragmentHash ? this.bs : this.$e.addBaseHref(this.bs);\n                this.ys.setAttribute(this.attribute, t);\n            }\n        }\n    }\n}\n\n_aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_2__.CustomAttribute.define({\n    name: \"load\",\n    bindables: {\n        route: {\n            mode: z,\n            primary: true,\n            callback: \"valueChanged\"\n        },\n        params: {\n            mode: z,\n            callback: \"valueChanged\"\n        },\n        attribute: {\n            mode: z\n        },\n        active: {\n            mode: B\n        },\n        context: {\n            mode: z,\n            callback: \"valueChanged\"\n        }\n    }\n}, LoadCustomAttribute);\n\nclass HrefCustomAttribute {\n    get Ns() {\n        return this.ys.hasAttribute(\"external\") || this.ys.hasAttribute(\"data-external\");\n    }\n    constructor() {\n        this.ys = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(_aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_2__.INode);\n        this.Ze = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(tt);\n        this.we = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(rt);\n        this.ks = false;\n        if (this.Ze.options.useHref && this.ys.nodeName === \"A\") {\n            const t = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(_aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_2__.IWindow).name;\n            switch (this.ys.getAttribute(\"target\")) {\n              case null:\n              case t:\n              case \"_self\":\n                this.Cs = true;\n                break;\n\n              default:\n                this.Cs = false;\n                break;\n            }\n        } else {\n            this.Cs = false;\n        }\n    }\n    binding() {\n        if (!this.ks) {\n            this.ks = true;\n            this.Cs = this.Cs && (0,_aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_2__.getRef)(this.ys, _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_2__.CustomAttribute.getDefinition(LoadCustomAttribute).key) === null;\n        }\n        this.valueChanged(this.value);\n        this.ys.addEventListener(\"click\", this);\n    }\n    unbinding() {\n        this.ys.removeEventListener(\"click\", this);\n    }\n    valueChanged(t) {\n        if (t == null) {\n            this.ys.removeAttribute(\"href\");\n        } else {\n            if (this.Ze.options.useUrlFragmentHash && this.we.isRoot && !/^[.#]/.test(t) && !this.Ns) {\n                t = `#${t}`;\n            }\n            this.ys.setAttribute(\"href\", t);\n        }\n    }\n    handleEvent(t) {\n        this.$s(t);\n    }\n    $s(t) {\n        if (t.altKey || t.ctrlKey || t.shiftKey || t.metaKey || t.button !== 0 || this.Ns || !this.Cs) {\n            return;\n        }\n        const e = this.ys.getAttribute(\"href\");\n        if (e !== null) {\n            t.preventDefault();\n            void this.Ze.load(e, {\n                context: this.we\n            });\n        }\n    }\n}\n\nHrefCustomAttribute.$au = {\n    type: \"custom-attribute\",\n    name: \"href\",\n    noMultiBindings: true,\n    bindables: {\n        value: {\n            mode: z\n        }\n    }\n};\n\nconst ct = tt;\n\nconst ut = [ ct ];\n\nconst ht = ViewportCustomElement;\n\nconst lt = LoadCustomAttribute;\n\nconst ft = HrefCustomAttribute;\n\nconst pt = [ ViewportCustomElement, LoadCustomAttribute, HrefCustomAttribute ];\n\nfunction configure(t, s) {\n    let i = null;\n    if ((0,_aurelia_metadata__WEBPACK_IMPORTED_MODULE_0__.isObject)(s)) {\n        i = s.basePath ?? null;\n    } else {\n        s = {};\n    }\n    const n = RouterOptions.create(s);\n    return t.register(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.Registration.cachedCallback(q, ((t, e, s) => {\n        const n = t.get(_aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_2__.IWindow);\n        const r = new URL(n.document.baseURI);\n        r.pathname = normalizePath(i ?? r.pathname);\n        return r;\n    })), _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.Registration.instance(it, n), _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.Registration.instance(RouterOptions, n), _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_2__.AppTask.creating(tt, (t => {})), _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_2__.AppTask.hydrated(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.IContainer, RouteContext.setRoot), _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_2__.AppTask.activated(tt, (t => t.start(true))), _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_2__.AppTask.deactivated(tt, (t => t.stop())), ...ut, ...pt);\n}\n\nconst gt = {\n    register(t) {\n        return configure(t);\n    },\n    customize(t) {\n        return {\n            register(e) {\n                return configure(e, t);\n            }\n        };\n    }\n};\n\nclass ScrollState {\n    constructor(t) {\n        this.ys = t;\n        this._s = t.scrollTop;\n        this.Ts = t.scrollLeft;\n    }\n    static Is(t) {\n        return t.scrollTop > 0 || t.scrollLeft > 0;\n    }\n    Ps() {\n        this.ys.scrollTo(this.Ts, this._s);\n        this.ys = null;\n    }\n}\n\nfunction restoreState(t) {\n    t.Ps();\n}\n\nclass HostElementState {\n    constructor(t) {\n        this.Vs = [];\n        this.As(t.children);\n    }\n    As(t) {\n        let e;\n        for (let s = 0, i = t.length; s < i; ++s) {\n            e = t[s];\n            if (ScrollState.Is(e)) {\n                this.Vs.push(new ScrollState(e));\n            }\n            this.As(e.children);\n        }\n    }\n    Ps() {\n        this.Vs.forEach(restoreState);\n        this.Vs = null;\n    }\n}\n\nconst dt = /*@__PURE__*/ _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.DI.createInterface(\"IStateManager\", (t => t.singleton(ScrollStateManager)));\n\nclass ScrollStateManager {\n    constructor() {\n        this.Os = new WeakMap;\n    }\n    saveState(t) {\n        this.Os.set(t.host, new HostElementState(t.host));\n    }\n    restoreState(t) {\n        const e = this.Os.get(t.host);\n        if (e !== void 0) {\n            e.Ps();\n            this.Os.delete(t.host);\n        }\n    }\n}\n\nconst wt = /*@__PURE__*/ _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.DI.createInterface(\"ICurrentRoute\", (t => t.singleton(CurrentRoute)));\n\nclass CurrentRoute {\n    constructor() {\n        this.path = \"\";\n        this.url = \"\";\n        this.title = \"\";\n        this.query = new URLSearchParams;\n        this.parameterInformation = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.emptyArray;\n        const t = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(tt);\n        const e = t.options;\n        (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(D).subscribe(\"au:router:navigation-end\", (s => {\n            const i = s.finalInstructions;\n            (0,_aurelia_runtime__WEBPACK_IMPORTED_MODULE_5__.batch)((() => {\n                this.path = i.toPath();\n                this.url = i.toUrl(true, e.Ve);\n                this.title = t.Me();\n                this.query = i.queryParams;\n                this.parameterInformation = i.children.map((t => ParameterInformation.create(t)));\n            }));\n        }));\n    }\n}\n\nclass ParameterInformation {\n    constructor(t, e, s, i) {\n        this.config = t;\n        this.viewport = e;\n        this.params = s;\n        this.children = i;\n    }\n    static create(t) {\n        const e = t.recognizedRoute?.route;\n        const s = Object.create(null);\n        Object.assign(s, e?.params ?? t.params);\n        Reflect.deleteProperty(s, _aurelia_route_recognizer__WEBPACK_IMPORTED_MODULE_4__.RESIDUE);\n        return new ParameterInformation(e?.endpoint.route.handler ?? null, t.viewport, s, t.children.map((t => this.create(t))));\n    }\n}\n\n\n//# sourceMappingURL=index.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcm91dGVyLWxpdGUvZGlzdC9lc20vaW5kZXgubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFpRTs7QUFFdU87O0FBRXFFOztBQUVqTzs7QUFFOUY7O0FBRTlDO0FBQ0E7QUFDQSxzQkFBc0IsRUFBRTtBQUN4QjtBQUNBOztBQUVBO0FBQ0EsaUJBQWlCLEVBQUUsR0FBRyxrQ0FBa0M7QUFDeEQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxVQUFVLDhEQUFDOztBQUVYLFVBQVUsOERBQUM7O0FBRVg7QUFDQSxtREFBbUQsK0VBQUM7QUFDcEQ7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGdDQUFnQyxjQUFjO0FBQzlDO0FBQ0EsZ0RBQWdELEVBQUUsR0FBRyxFQUFFO0FBQ3ZEO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsRUFBRSxHQUFHLGFBQWE7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxjQUFjO0FBQzlDO0FBQ0EsZ0RBQWdELEVBQUUsR0FBRyxFQUFFO0FBQ3ZEO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLCtFQUFDO0FBQ2QscURBQXFELEVBQUU7QUFDdkQ7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixPQUFPO0FBQy9CO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLDBEQUFDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsYUFBYTtBQUNiOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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QSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxlQUFlLDBEQUFDO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvREFBb0Qsb0RBQUM7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHlCQUF5QiwrQ0FBQzs7QUFFMUI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSx5QkFBeUIsK0NBQUM7O0FBRTFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyx1REFBQztBQUNyQyxrQkFBa0Isd0RBQUM7QUFDbkI7QUFDQSxRQUFRLHdEQUFDO0FBQ1Q7QUFDQSxZQUFZLHVEQUFDO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLDhEQUFDO0FBQ25DO0FBQ0E7QUFDQTs7QUFFMDlCO0FBQzE5QiIsInNvdXJjZXMiOlsid2VicGFjazovL3JldHJvYXBwLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXVyZWxpYS9yb3V0ZXItbGl0ZS9kaXN0L2VzbS9pbmRleC5tanM/MDE2ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNZXRhZGF0YSBhcyB0LCBpc09iamVjdCBhcyBlIH0gZnJvbSBcIkBhdXJlbGlhL21ldGFkYXRhXCI7XG5cbmltcG9ydCB7IERJIGFzIHMsIHJlc29sdmUgYXMgaSwgSUV2ZW50QWdncmVnYXRvciBhcyBuLCBJTG9nZ2VyIGFzIHIsIGVtcHR5QXJyYXkgYXMgbywgb25SZXNvbHZlIGFzIGEsIGdldFJlc291cmNlS2V5Rm9yIGFzIGMsIG9uUmVzb2x2ZUFsbCBhcyB1LCBlbXB0eU9iamVjdCBhcyBoLCBJQ29udGFpbmVyIGFzIGwsIFJlZ2lzdHJhdGlvbiBhcyBmLCBpc0FycmF5SW5kZXggYXMgcCwgSU1vZHVsZUxvYWRlciBhcyBnLCBJbnN0YW5jZVByb3ZpZGVyIGFzIGQsIG5vb3AgYXMgdyB9IGZyb20gXCJAYXVyZWxpYS9rZXJuZWxcIjtcblxuaW1wb3J0IHsgQmluZGluZ01vZGUgYXMgbSwgaXNDdXN0b21FbGVtZW50Vmlld01vZGVsIGFzIHYsIElIaXN0b3J5IGFzIEUsIElMb2NhdGlvbiBhcyBSLCBJV2luZG93IGFzIHksIEN1c3RvbUVsZW1lbnQgYXMgYiwgQ29udHJvbGxlciBhcyBTLCBJUGxhdGZvcm0gYXMgQywgQ3VzdG9tRWxlbWVudERlZmluaXRpb24gYXMgeCwgSUNvbnRyb2xsZXIgYXMgTiwgSUFwcFJvb3QgYXMgaywgaXNDdXN0b21FbGVtZW50Q29udHJvbGxlciBhcyAkLCByZWdpc3Rlckhvc3ROb2RlIGFzIF8sIEN1c3RvbUF0dHJpYnV0ZSBhcyBULCBJTm9kZSBhcyBJLCBnZXRSZWYgYXMgUCwgQXBwVGFzayBhcyBWIH0gZnJvbSBcIkBhdXJlbGlhL3J1bnRpbWUtaHRtbFwiO1xuXG5pbXBvcnQgeyBSRVNJRFVFIGFzIEEsIFJlY29nbml6ZWRSb3V0ZSBhcyBPLCBFbmRwb2ludCBhcyBNLCBDb25maWd1cmFibGVSb3V0ZSBhcyBqLCBSb3V0ZVJlY29nbml6ZXIgYXMgTCB9IGZyb20gXCJAYXVyZWxpYS9yb3V0ZS1yZWNvZ25pemVyXCI7XG5cbmltcG9ydCB7IGJhdGNoIGFzIFUgfSBmcm9tIFwiQGF1cmVsaWEvcnVudGltZVwiO1xuXG5mdW5jdGlvbiBlcnJvcih0LCBlLCAuLi5zKSB7XG4gICAge1xuICAgICAgICB0LmVycm9yKGBBVVIke2V9YCwgLi4ucy5tYXAoKHQgPT4gU3RyaW5nKHQpKSkpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZ2V0TWVzc2FnZSh0LCAuLi5lKSB7XG4gICAgcmV0dXJuIGBBVVIke3R9OiR7ZS5tYXAoKHQgPT4gU3RyaW5nKHQpKSkuam9pbihcIjpcIil9YDtcbn1cblxuZnVuY3Rpb24gbG9nQW5kVGhyb3codCwgZSkge1xuICAgIGUuZXJyb3IodCk7XG4gICAgdGhyb3cgdDtcbn1cblxuY2xhc3MgQmF0Y2gge1xuICAgIGNvbnN0cnVjdG9yKHQsIGUsIHMpIHtcbiAgICAgICAgdGhpcy50ID0gdDtcbiAgICAgICAgdGhpcy5pID0gZTtcbiAgICAgICAgdGhpcy51ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaCA9IG51bGw7XG4gICAgICAgIHRoaXMuUiA9IHMgPz8gdGhpcztcbiAgICB9XG4gICAgc3RhdGljIEModCkge1xuICAgICAgICByZXR1cm4gbmV3IEJhdGNoKDAsIHQsIG51bGwpO1xuICAgIH1cbiAgICBOKCkge1xuICAgICAgICBsZXQgdCA9IHRoaXM7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgICsrdC50O1xuICAgICAgICAgICAgdCA9IHQuaDtcbiAgICAgICAgfSB3aGlsZSAodCAhPT0gbnVsbCk7XG4gICAgfVxuICAgICQoKSB7XG4gICAgICAgIGxldCB0ID0gdGhpcztcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgaWYgKC0tdC50ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdC5fKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0ID0gdC5oO1xuICAgICAgICB9IHdoaWxlICh0ICE9PSBudWxsKTtcbiAgICB9XG4gICAgXygpIHtcbiAgICAgICAgY29uc3QgdCA9IHRoaXMuaTtcbiAgICAgICAgaWYgKHQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuaSA9IG51bGw7XG4gICAgICAgICAgICB0KHRoaXMpO1xuICAgICAgICAgICAgdGhpcy51ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBUKHQpIHtcbiAgICAgICAgaWYgKHRoaXMuaCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaCA9IG5ldyBCYXRjaCh0aGlzLnQsIHQsIHRoaXMuUik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5oLlQodCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgQygpIHtcbiAgICAgICAgdGhpcy5SLk4oKTtcbiAgICAgICAgdGhpcy5SLiQoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBtZXJnZURpc3RpbmN0KHQsIGUpIHtcbiAgICB0ID0gdC5zbGljZSgpO1xuICAgIGUgPSBlLnNsaWNlKCk7XG4gICAgY29uc3QgcyA9IFtdO1xuICAgIHdoaWxlICh0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgaSA9IHQuc2hpZnQoKTtcbiAgICAgICAgY29uc3QgbiA9IGkuY29udGV4dC52cGE7XG4gICAgICAgIGlmIChzLmV2ZXJ5KCh0ID0+IHQuY29udGV4dC52cGEgIT09IG4pKSkge1xuICAgICAgICAgICAgY29uc3QgdCA9IGUuZmluZEluZGV4KCh0ID0+IHQuY29udGV4dC52cGEgPT09IG4pKTtcbiAgICAgICAgICAgIGlmICh0ID49IDApIHtcbiAgICAgICAgICAgICAgICBzLnB1c2goLi4uZS5zcGxpY2UoMCwgdCArIDEpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcy5wdXNoKGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHMucHVzaCguLi5lKTtcbiAgICByZXR1cm4gcztcbn1cblxuZnVuY3Rpb24gdHJ5U3RyaW5naWZ5KHQpIHtcbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodCk7XG4gICAgfSBjYXRjaCB7XG4gICAgICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBlbnN1cmVBcnJheU9mU3RyaW5ncyh0KSB7XG4gICAgcmV0dXJuIHR5cGVvZiB0ID09PSBcInN0cmluZ1wiID8gWyB0IF0gOiB0O1xufVxuXG5mdW5jdGlvbiBlbnN1cmVTdHJpbmcodCkge1xuICAgIHJldHVybiB0eXBlb2YgdCA9PT0gXCJzdHJpbmdcIiA/IHQgOiB0WzBdO1xufVxuXG5mdW5jdGlvbiBtZXJnZVVSTFNlYXJjaFBhcmFtcyh0LCBlLCBzKSB7XG4gICAgY29uc3QgaSA9IHMgPyBuZXcgVVJMU2VhcmNoUGFyYW1zKHQpIDogdDtcbiAgICBpZiAoZSA9PSBudWxsKSByZXR1cm4gaTtcbiAgICBmb3IgKGNvbnN0IFt0LCBzXSBvZiBPYmplY3QuZW50cmllcyhlKSkge1xuICAgICAgICBpZiAocyA9PSBudWxsKSBjb250aW51ZTtcbiAgICAgICAgaS5hcHBlbmQodCwgcyk7XG4gICAgfVxuICAgIHJldHVybiBpO1xufVxuXG5jb25zdCB6ID0gbS50b1ZpZXc7XG5cbmNvbnN0IEIgPSBtLmZyb21WaWV3O1xuXG5mdW5jdGlvbiBpc05vdE51bGxpc2hPclR5cGVPclZpZXdNb2RlbCh0KSB7XG4gICAgcmV0dXJuIHR5cGVvZiB0ID09PSBcIm9iamVjdFwiICYmIHQgIT09IG51bGwgJiYgIXYodCk7XG59XG5cbmZ1bmN0aW9uIGlzUGFydGlhbEN1c3RvbUVsZW1lbnREZWZpbml0aW9uKHQpIHtcbiAgICByZXR1cm4gaXNOb3ROdWxsaXNoT3JUeXBlT3JWaWV3TW9kZWwodCkgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsIFwibmFtZVwiKSA9PT0gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gaXNQYXJ0aWFsQ2hpbGRSb3V0ZUNvbmZpZyh0KSB7XG4gICAgcmV0dXJuIGlzTm90TnVsbGlzaE9yVHlwZU9yVmlld01vZGVsKHQpICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LCBcImNvbXBvbmVudFwiKSA9PT0gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gaXNQYXJ0aWFsUmVkaXJlY3RSb3V0ZUNvbmZpZyh0KSB7XG4gICAgcmV0dXJuIGlzTm90TnVsbGlzaE9yVHlwZU9yVmlld01vZGVsKHQpICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LCBcInJlZGlyZWN0VG9cIikgPT09IHRydWU7XG59XG5cbmZ1bmN0aW9uIGlzUGFydGlhbFZpZXdwb3J0SW5zdHJ1Y3Rpb24odCkge1xuICAgIHJldHVybiBpc05vdE51bGxpc2hPclR5cGVPclZpZXdNb2RlbCh0KSAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCwgXCJjb21wb25lbnRcIikgPT09IHRydWU7XG59XG5cbmZ1bmN0aW9uIGV4cGVjdFR5cGUodCwgZSwgcykge1xuICAgIHRocm93IG5ldyBFcnJvcihnZXRNZXNzYWdlKDM1NTQsIGUsIHQsIHRyeVN0cmluZ2lmeShzKSkpO1xufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZVJvdXRlQ29uZmlnKHQsIGUpIHtcbiAgICBpZiAodCA9PSBudWxsKSB0aHJvdyBuZXcgRXJyb3IoZ2V0TWVzc2FnZSgzNTU1LCB0KSk7XG4gICAgY29uc3QgcyA9IE9iamVjdC5rZXlzKHQpO1xuICAgIGZvciAoY29uc3QgaSBvZiBzKSB7XG4gICAgICAgIGNvbnN0IHMgPSB0W2ldO1xuICAgICAgICBjb25zdCBuID0gWyBlLCBpIF0uam9pbihcIi5cIik7XG4gICAgICAgIHN3aXRjaCAoaSkge1xuICAgICAgICAgIGNhc2UgXCJpZFwiOlxuICAgICAgICAgIGNhc2UgXCJ2aWV3cG9ydFwiOlxuICAgICAgICAgIGNhc2UgXCJyZWRpcmVjdFRvXCI6XG4gICAgICAgICAgICBpZiAodHlwZW9mIHMgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICBleHBlY3RUeXBlKFwic3RyaW5nXCIsIG4sIHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIFwiY2FzZVNlbnNpdGl2ZVwiOlxuICAgICAgICAgIGNhc2UgXCJuYXZcIjpcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcyAhPT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgICAgICAgICBleHBlY3RUeXBlKFwiYm9vbGVhblwiLCBuLCBzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSBcImRhdGFcIjpcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcyAhPT0gXCJvYmplY3RcIiB8fCBzID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZXhwZWN0VHlwZShcIm9iamVjdFwiLCBuLCBzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSBcInRpdGxlXCI6XG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGVvZiBzKSB7XG4gICAgICAgICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBleHBlY3RUeXBlKFwic3RyaW5nIG9yIGZ1bmN0aW9uXCIsIG4sIHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIFwicGF0aFwiOlxuICAgICAgICAgICAgaWYgKHMgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IHQgPSAwOyB0IDwgcy5sZW5ndGg7ICsrdCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHNbdF0gIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdFR5cGUoXCJzdHJpbmdcIiwgYCR7bn1bJHt0fV1gLCBzW3RdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHMgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICBleHBlY3RUeXBlKFwic3RyaW5nIG9yIEFycmF5IG9mIHN0cmluZ3NcIiwgbiwgcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgXCJjb21wb25lbnRcIjpcbiAgICAgICAgICAgIHZhbGlkYXRlQ29tcG9uZW50KHMsIG4sIFwiY29tcG9uZW50XCIpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIFwicm91dGVzXCI6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKCEocyBpbnN0YW5jZW9mIEFycmF5KSkge1xuICAgICAgICAgICAgICAgICAgICBleHBlY3RUeXBlKFwiQXJyYXlcIiwgbiwgcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdCBvZiBzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGUgPSBgJHtufVske3MuaW5kZXhPZih0KX1dYDtcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGVDb21wb25lbnQodCwgZSwgXCJjb21wb25lbnRcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgY2FzZSBcInRyYW5zaXRpb25QbGFuXCI6XG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGVvZiBzKSB7XG4gICAgICAgICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHMpIHtcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJub25lXCI6XG4gICAgICAgICAgICAgICAgICBjYXNlIFwicmVwbGFjZVwiOlxuICAgICAgICAgICAgICAgICAgY2FzZSBcImludm9rZS1saWZlY3ljbGVzXCI6XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBleHBlY3RUeXBlKFwic3RyaW5nKCdub25lJ3wncmVwbGFjZSd8J2ludm9rZS1saWZlY3ljbGVzJykgb3IgZnVuY3Rpb25cIiwgbiwgcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgZXhwZWN0VHlwZShcInN0cmluZygnbm9uZSd8J3JlcGxhY2UnfCdpbnZva2UtbGlmZWN5Y2xlcycpIG9yIGZ1bmN0aW9uXCIsIG4sIHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIFwiZmFsbGJhY2tcIjpcbiAgICAgICAgICAgIHZhbGlkYXRlQ29tcG9uZW50KHMsIG4sIFwiZmFsbGJhY2tcIik7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZ2V0TWVzc2FnZSgzNTU2LCBlLCBpKSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlUmVkaXJlY3RSb3V0ZUNvbmZpZyh0LCBlKSB7XG4gICAgaWYgKHQgPT0gbnVsbCkgdGhyb3cgbmV3IEVycm9yKGdldE1lc3NhZ2UoMzU1NSwgdCkpO1xuICAgIGNvbnN0IHMgPSBPYmplY3Qua2V5cyh0KTtcbiAgICBmb3IgKGNvbnN0IGkgb2Ygcykge1xuICAgICAgICBjb25zdCBzID0gdFtpXTtcbiAgICAgICAgY29uc3QgbiA9IFsgZSwgaSBdLmpvaW4oXCIuXCIpO1xuICAgICAgICBzd2l0Y2ggKGkpIHtcbiAgICAgICAgICBjYXNlIFwicGF0aFwiOlxuICAgICAgICAgICAgaWYgKHMgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IHQgPSAwOyB0IDwgcy5sZW5ndGg7ICsrdCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHNbdF0gIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdFR5cGUoXCJzdHJpbmdcIiwgYCR7bn1bJHt0fV1gLCBzW3RdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHMgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICBleHBlY3RUeXBlKFwic3RyaW5nIG9yIEFycmF5IG9mIHN0cmluZ3NcIiwgbiwgcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgXCJyZWRpcmVjdFRvXCI6XG4gICAgICAgICAgICBpZiAodHlwZW9mIHMgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICBleHBlY3RUeXBlKFwic3RyaW5nXCIsIG4sIHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGdldE1lc3NhZ2UoMzU1NywgZSwgaSkpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZUNvbXBvbmVudCh0LCBlLCBzKSB7XG4gICAgc3dpdGNoICh0eXBlb2YgdCkge1xuICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgIGlmICh0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzUGFydGlhbFJlZGlyZWN0Um91dGVDb25maWcodCkpIHtcbiAgICAgICAgICAgIHZhbGlkYXRlUmVkaXJlY3RSb3V0ZUNvbmZpZyh0LCBlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1BhcnRpYWxDaGlsZFJvdXRlQ29uZmlnKHQpKSB7XG4gICAgICAgICAgICB2YWxpZGF0ZVJvdXRlQ29uZmlnKHQsIGUpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF2KHQpICYmICFpc1BhcnRpYWxDdXN0b21FbGVtZW50RGVmaW5pdGlvbih0KSkge1xuICAgICAgICAgICAgZXhwZWN0VHlwZShgYW4gb2JqZWN0IHdpdGggYXQgbGVhc3QgYSAnJHtzfScgcHJvcGVydHkgKHNlZSBSb3V0ZWFibGUpYCwgZSwgdCk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGV4cGVjdFR5cGUoXCJmdW5jdGlvbiwgb2JqZWN0IG9yIHN0cmluZyAoc2VlIFJvdXRlYWJsZSlcIiwgZSwgdCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBzaGFsbG93RXF1YWxzKHQsIGUpIHtcbiAgICBpZiAodCA9PT0gZSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB0ICE9PSB0eXBlb2YgZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICh0ID09PSBudWxsIHx8IGUgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKHQpICE9PSBPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBzID0gT2JqZWN0LmtleXModCk7XG4gICAgY29uc3QgaSA9IE9iamVjdC5rZXlzKGUpO1xuICAgIGlmIChzLmxlbmd0aCAhPT0gaS5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBmb3IgKGxldCBuID0gMCwgciA9IHMubGVuZ3RoOyBuIDwgcjsgKytuKSB7XG4gICAgICAgIGNvbnN0IHIgPSBzW25dO1xuICAgICAgICBpZiAociAhPT0gaVtuXSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0W3JdICE9PSBlW3JdKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5cbmNvbnN0IEggPSBcImF1LW5hdi1pZFwiO1xuXG5jbGFzcyBTdWJzY3JpcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKHQsIGUsIHMpIHtcbiAgICAgICAgdGhpcy5JID0gdDtcbiAgICAgICAgdGhpcy5QID0gZTtcbiAgICAgICAgdGhpcy5WID0gcztcbiAgICAgICAgdGhpcy5BID0gZmFsc2U7XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIGlmICghdGhpcy5BKSB7XG4gICAgICAgICAgICB0aGlzLkEgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5WLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIGNvbnN0IHQgPSB0aGlzLklbXCJPXCJdO1xuICAgICAgICAgICAgdC5zcGxpY2UodC5pbmRleE9mKHRoaXMpLCAxKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuY29uc3QgRCA9IC8qQF9fUFVSRV9fKi8gcy5jcmVhdGVJbnRlcmZhY2UoXCJJUm91dGVyRXZlbnRzXCIsICh0ID0+IHQuc2luZ2xldG9uKFJvdXRlckV2ZW50cykpKTtcblxuY2xhc3MgUm91dGVyRXZlbnRzIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5NID0gMDtcbiAgICAgICAgdGhpcy5PID0gW107XG4gICAgICAgIHRoaXMuaiA9IGkobik7XG4gICAgICAgIHRoaXMuTCA9IGkocikuc2NvcGVUbyhcIlJvdXRlckV2ZW50c1wiKTtcbiAgICB9XG4gICAgcHVibGlzaCh0KSB7XG4gICAgICAgIHRoaXMuai5wdWJsaXNoKHQubmFtZSwgdCk7XG4gICAgfVxuICAgIHN1YnNjcmliZSh0LCBlKSB7XG4gICAgICAgIGNvbnN0IHMgPSBuZXcgU3Vic2NyaXB0aW9uKHRoaXMsICsrdGhpcy5NLCB0aGlzLmouc3Vic2NyaWJlKHQsICh0ID0+IHtcbiAgICAgICAgICAgIGUodCk7XG4gICAgICAgIH0pKSk7XG4gICAgICAgIHRoaXMuTy5wdXNoKHMpO1xuICAgICAgICByZXR1cm4gcztcbiAgICB9XG59XG5cbmNsYXNzIExvY2F0aW9uQ2hhbmdlRXZlbnQge1xuICAgIGdldCBuYW1lKCkge1xuICAgICAgICByZXR1cm4gXCJhdTpyb3V0ZXI6bG9jYXRpb24tY2hhbmdlXCI7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKHQsIGUsIHMsIGkpIHtcbiAgICAgICAgdGhpcy5pZCA9IHQ7XG4gICAgICAgIHRoaXMudXJsID0gZTtcbiAgICAgICAgdGhpcy50cmlnZ2VyID0gcztcbiAgICAgICAgdGhpcy5zdGF0ZSA9IGk7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gYExvY2F0aW9uQ2hhbmdlRXZlbnRgO1xuICAgIH1cbn1cblxuY2xhc3MgTmF2aWdhdGlvblN0YXJ0RXZlbnQge1xuICAgIGdldCBuYW1lKCkge1xuICAgICAgICByZXR1cm4gXCJhdTpyb3V0ZXI6bmF2aWdhdGlvbi1zdGFydFwiO1xuICAgIH1cbiAgICBjb25zdHJ1Y3Rvcih0LCBlLCBzLCBpKSB7XG4gICAgICAgIHRoaXMuaWQgPSB0O1xuICAgICAgICB0aGlzLmluc3RydWN0aW9ucyA9IGU7XG4gICAgICAgIHRoaXMudHJpZ2dlciA9IHM7XG4gICAgICAgIHRoaXMubWFuYWdlZFN0YXRlID0gaTtcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiBgTmF2aWdhdGlvblN0YXJ0RXZlbnRgO1xuICAgIH1cbn1cblxuY2xhc3MgTmF2aWdhdGlvbkVuZEV2ZW50IHtcbiAgICBnZXQgbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiYXU6cm91dGVyOm5hdmlnYXRpb24tZW5kXCI7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKHQsIGUsIHMpIHtcbiAgICAgICAgdGhpcy5pZCA9IHQ7XG4gICAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zID0gZTtcbiAgICAgICAgdGhpcy5maW5hbEluc3RydWN0aW9ucyA9IHM7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gYE5hdmlnYXRpb25FbmRFdmVudGA7XG4gICAgfVxufVxuXG5jbGFzcyBOYXZpZ2F0aW9uQ2FuY2VsRXZlbnQge1xuICAgIGdldCBuYW1lKCkge1xuICAgICAgICByZXR1cm4gXCJhdTpyb3V0ZXI6bmF2aWdhdGlvbi1jYW5jZWxcIjtcbiAgICB9XG4gICAgY29uc3RydWN0b3IodCwgZSwgcykge1xuICAgICAgICB0aGlzLmlkID0gdDtcbiAgICAgICAgdGhpcy5pbnN0cnVjdGlvbnMgPSBlO1xuICAgICAgICB0aGlzLnJlYXNvbiA9IHM7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gYE5hdmlnYXRpb25DYW5jZWxFdmVudGA7XG4gICAgfVxufVxuXG5jbGFzcyBOYXZpZ2F0aW9uRXJyb3JFdmVudCB7XG4gICAgZ2V0IG5hbWUoKSB7XG4gICAgICAgIHJldHVybiBcImF1OnJvdXRlcjpuYXZpZ2F0aW9uLWVycm9yXCI7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKHQsIGUsIHMpIHtcbiAgICAgICAgdGhpcy5pZCA9IHQ7XG4gICAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zID0gZTtcbiAgICAgICAgdGhpcy5lcnJvciA9IHM7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gYE5hdmlnYXRpb25FcnJvckV2ZW50YDtcbiAgICB9XG59XG5cbmNvbnN0IHEgPSAvKkBfX1BVUkVfXyovIHMuY3JlYXRlSW50ZXJmYWNlKFwiSUJhc2VIcmVmXCIpO1xuXG5jb25zdCBGID0gLypAX19QVVJFX18qLyBzLmNyZWF0ZUludGVyZmFjZShcIklMb2NhdGlvbk1hbmFnZXJcIiwgKHQgPT4gdC5zaW5nbGV0b24oQnJvd3NlckxvY2F0aW9uTWFuYWdlcikpKTtcblxuY2xhc3MgQnJvd3NlckxvY2F0aW9uTWFuYWdlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuVSA9IDA7XG4gICAgICAgIHRoaXMuTCA9IGkocikucm9vdC5zY29wZVRvKFwiTG9jYXRpb25NYW5hZ2VyXCIpO1xuICAgICAgICB0aGlzLkkgPSBpKEQpO1xuICAgICAgICB0aGlzLkIgPSBpKEUpO1xuICAgICAgICB0aGlzLmwgPSBpKFIpO1xuICAgICAgICB0aGlzLkggPSBpKHkpO1xuICAgICAgICB0aGlzLnEgPSBpKHEpO1xuICAgICAgICB0aGlzLkYgPSBpKGl0KS51c2VVcmxGcmFnbWVudEhhc2ggPyBcImhhc2hjaGFuZ2VcIiA6IFwicG9wc3RhdGVcIjtcbiAgICB9XG4gICAgc3RhcnRMaXN0ZW5pbmcoKSB7XG4gICAgICAgIHRoaXMuSC5hZGRFdmVudExpc3RlbmVyKHRoaXMuRiwgdGhpcywgZmFsc2UpO1xuICAgIH1cbiAgICBzdG9wTGlzdGVuaW5nKCkge1xuICAgICAgICB0aGlzLkgucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLkYsIHRoaXMsIGZhbHNlKTtcbiAgICB9XG4gICAgaGFuZGxlRXZlbnQodCkge1xuICAgICAgICB0aGlzLkkucHVibGlzaChuZXcgTG9jYXRpb25DaGFuZ2VFdmVudCgrK3RoaXMuVSwgdGhpcy5nZXRQYXRoKCksIHRoaXMuRiwgXCJzdGF0ZVwiIGluIHQgPyB0LnN0YXRlIDogbnVsbCkpO1xuICAgIH1cbiAgICBwdXNoU3RhdGUodCwgZSwgcykge1xuICAgICAgICBzID0gdGhpcy5hZGRCYXNlSHJlZihzKTtcbiAgICAgICAgdGhpcy5CLnB1c2hTdGF0ZSh0LCBlLCBzKTtcbiAgICB9XG4gICAgcmVwbGFjZVN0YXRlKHQsIGUsIHMpIHtcbiAgICAgICAgcyA9IHRoaXMuYWRkQmFzZUhyZWYocyk7XG4gICAgICAgIHRoaXMuQi5yZXBsYWNlU3RhdGUodCwgZSwgcyk7XG4gICAgfVxuICAgIGdldFBhdGgoKSB7XG4gICAgICAgIGNvbnN0IHtwYXRobmFtZTogdCwgc2VhcmNoOiBlLCBoYXNoOiBzfSA9IHRoaXMubDtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVtb3ZlQmFzZUhyZWYoYCR7dH0ke25vcm1hbGl6ZVF1ZXJ5KGUpfSR7c31gKTtcbiAgICB9XG4gICAgYWRkQmFzZUhyZWYodCkge1xuICAgICAgICBsZXQgZTtcbiAgICAgICAgbGV0IHMgPSB0aGlzLnEuaHJlZjtcbiAgICAgICAgaWYgKHMuZW5kc1dpdGgoXCIvXCIpKSB7XG4gICAgICAgICAgICBzID0gcy5zbGljZSgwLCAtMSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlID0gdDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0LnN0YXJ0c1dpdGgoXCIvXCIpKSB7XG4gICAgICAgICAgICAgICAgdCA9IHQuc2xpY2UoMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlID0gYCR7c30vJHt0fWA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGU7XG4gICAgfVxuICAgIHJlbW92ZUJhc2VIcmVmKHQpIHtcbiAgICAgICAgY29uc3QgZSA9IHRoaXMucS5wYXRobmFtZTtcbiAgICAgICAgaWYgKHQuc3RhcnRzV2l0aChlKSkge1xuICAgICAgICAgICAgdCA9IHQuc2xpY2UoZS5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBub3JtYWxpemVQYXRoKHQpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplUGF0aCh0KSB7XG4gICAgbGV0IGU7XG4gICAgbGV0IHM7XG4gICAgbGV0IGk7XG4gICAgaWYgKChpID0gdC5pbmRleE9mKFwiP1wiKSkgPj0gMCB8fCAoaSA9IHQuaW5kZXhPZihcIiNcIikpID49IDApIHtcbiAgICAgICAgZSA9IHQuc2xpY2UoMCwgaSk7XG4gICAgICAgIHMgPSB0LnNsaWNlKGkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGUgPSB0O1xuICAgICAgICBzID0gXCJcIjtcbiAgICB9XG4gICAgaWYgKGUuZW5kc1dpdGgoXCIvXCIpKSB7XG4gICAgICAgIGUgPSBlLnNsaWNlKDAsIC0xKTtcbiAgICB9IGVsc2UgaWYgKGUuZW5kc1dpdGgoXCIvaW5kZXguaHRtbFwiKSkge1xuICAgICAgICBlID0gZS5zbGljZSgwLCAtMTEpO1xuICAgIH1cbiAgICByZXR1cm4gYCR7ZX0ke3N9YDtcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplUXVlcnkodCkge1xuICAgIHJldHVybiB0Lmxlbmd0aCA+IDAgJiYgIXQuc3RhcnRzV2l0aChcIj9cIikgPyBgPyR7dH1gIDogdDtcbn1cblxuY29uc3QgRyA9IG87XG5cbmNsYXNzIFJvdXRlQ29uZmlnIHtcbiAgICBnZXQgcGF0aCgpIHtcbiAgICAgICAgY29uc3QgdCA9IHRoaXMuRztcbiAgICAgICAgaWYgKHQubGVuZ3RoID4gMCkgcmV0dXJuIHQ7XG4gICAgICAgIGNvbnN0IGUgPSBiLmdldERlZmluaXRpb24odGhpcy5jb21wb25lbnQpO1xuICAgICAgICByZXR1cm4gdGhpcy5HID0gWyBlLm5hbWUsIC4uLmUuYWxpYXNlcyBdO1xuICAgIH1cbiAgICBjb25zdHJ1Y3Rvcih0LCBlLCBzLCBpLCBuLCByLCBvLCBhLCBjLCB1LCBoLCBsKSB7XG4gICAgICAgIHRoaXMuaWQgPSB0O1xuICAgICAgICB0aGlzLkcgPSBlO1xuICAgICAgICB0aGlzLnRpdGxlID0gcztcbiAgICAgICAgdGhpcy5yZWRpcmVjdFRvID0gaTtcbiAgICAgICAgdGhpcy5jYXNlU2Vuc2l0aXZlID0gbjtcbiAgICAgICAgdGhpcy50cmFuc2l0aW9uUGxhbiA9IHI7XG4gICAgICAgIHRoaXMudmlld3BvcnQgPSBvO1xuICAgICAgICB0aGlzLmRhdGEgPSBhO1xuICAgICAgICB0aGlzLnJvdXRlcyA9IGM7XG4gICAgICAgIHRoaXMuZmFsbGJhY2sgPSB1O1xuICAgICAgICB0aGlzLmNvbXBvbmVudCA9IGg7XG4gICAgICAgIHRoaXMubmF2ID0gbDtcbiAgICAgICAgdGhpcy5XID0gZmFsc2U7XG4gICAgfVxuICAgIHN0YXRpYyBKKHQsIGUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0ID09PSBcInN0cmluZ1wiIHx8IHQgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgY29uc3QgcyA9IGVuc3VyZUFycmF5T2ZTdHJpbmdzKHQpO1xuICAgICAgICAgICAgY29uc3QgaSA9IGU/LnJlZGlyZWN0VG8gPz8gbnVsbDtcbiAgICAgICAgICAgIGNvbnN0IG4gPSBlPy5jYXNlU2Vuc2l0aXZlID8/IGZhbHNlO1xuICAgICAgICAgICAgY29uc3QgciA9IGVuc3VyZVN0cmluZyhlPy5pZCA/PyAocyBpbnN0YW5jZW9mIEFycmF5ID8gc1swXSA6IHMpKTtcbiAgICAgICAgICAgIGNvbnN0IG8gPSBlPy50aXRsZSA/PyBudWxsO1xuICAgICAgICAgICAgY29uc3QgYSA9IGU/LnRyYW5zaXRpb25QbGFuID8/IG51bGw7XG4gICAgICAgICAgICBjb25zdCBjID0gZT8udmlld3BvcnQgPz8gbnQ7XG4gICAgICAgICAgICBjb25zdCB1ID0gZT8uZGF0YSA/PyB7fTtcbiAgICAgICAgICAgIGNvbnN0IGggPSBlPy5yb3V0ZXMgPz8gRztcbiAgICAgICAgICAgIHJldHVybiBuZXcgUm91dGVDb25maWcociwgcywgbywgaSwgbiwgYSwgYywgdSwgaCwgZT8uZmFsbGJhY2sgPz8gbnVsbCwgZSwgZT8ubmF2ID8/IHRydWUpO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB0ID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICBjb25zdCBzID0gdDtcbiAgICAgICAgICAgIHZhbGlkYXRlUm91dGVDb25maWcocywgXCJcIik7XG4gICAgICAgICAgICBjb25zdCBpID0gZW5zdXJlQXJyYXlPZlN0cmluZ3Mocy5wYXRoID8/IGU/LnBhdGggPz8gbyk7XG4gICAgICAgICAgICBjb25zdCBuID0gcy50aXRsZSA/PyBlPy50aXRsZSA/PyBudWxsO1xuICAgICAgICAgICAgY29uc3QgciA9IHMucmVkaXJlY3RUbyA/PyBlPy5yZWRpcmVjdFRvID8/IG51bGw7XG4gICAgICAgICAgICBjb25zdCBhID0gcy5jYXNlU2Vuc2l0aXZlID8/IGU/LmNhc2VTZW5zaXRpdmUgPz8gZmFsc2U7XG4gICAgICAgICAgICBjb25zdCBjID0gcy5pZCA/PyBlPy5pZCA/PyAoaSBpbnN0YW5jZW9mIEFycmF5ID8gaVswXSA6IGkpO1xuICAgICAgICAgICAgY29uc3QgdSA9IHMudHJhbnNpdGlvblBsYW4gPz8gZT8udHJhbnNpdGlvblBsYW4gPz8gbnVsbDtcbiAgICAgICAgICAgIGNvbnN0IGggPSBzLnZpZXdwb3J0ID8/IGU/LnZpZXdwb3J0ID8/IG50O1xuICAgICAgICAgICAgY29uc3QgbCA9IHtcbiAgICAgICAgICAgICAgICAuLi5lPy5kYXRhLFxuICAgICAgICAgICAgICAgIC4uLnMuZGF0YVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGYgPSBbIC4uLnMucm91dGVzID8/IEcsIC4uLmU/LnJvdXRlcyA/PyBHIF07XG4gICAgICAgICAgICByZXR1cm4gbmV3IFJvdXRlQ29uZmlnKGMsIGksIG4sIHIsIGEsIHUsIGgsIGwsIGYsIHMuZmFsbGJhY2sgPz8gZT8uZmFsbGJhY2sgPz8gbnVsbCwgcy5jb21wb25lbnQgPz8gZSA/PyBudWxsLCBzLm5hdiA/PyB0cnVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGV4cGVjdFR5cGUoXCJzdHJpbmcsIGZ1bmN0aW9uL2NsYXNzIG9yIG9iamVjdFwiLCBcIlwiLCB0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBLKHQsIGUpIHtcbiAgICAgICAgdmFsaWRhdGVSb3V0ZUNvbmZpZyh0LCB0aGlzLnBhdGhbMF0gPz8gXCJcIik7XG4gICAgICAgIGNvbnN0IHMgPSBlbnN1cmVBcnJheU9mU3RyaW5ncyh0LnBhdGggPz8gdGhpcy5wYXRoKTtcbiAgICAgICAgcmV0dXJuIG5ldyBSb3V0ZUNvbmZpZyhlbnN1cmVTdHJpbmcodC5pZCA/PyB0aGlzLmlkID8/IHMpLCBzLCB0LnRpdGxlID8/IHRoaXMudGl0bGUsIHQucmVkaXJlY3RUbyA/PyB0aGlzLnJlZGlyZWN0VG8sIHQuY2FzZVNlbnNpdGl2ZSA/PyB0aGlzLmNhc2VTZW5zaXRpdmUsIHQudHJhbnNpdGlvblBsYW4gPz8gdGhpcy50cmFuc2l0aW9uUGxhbiA/PyBlPy50cmFuc2l0aW9uUGxhbiA/PyBudWxsLCB0LnZpZXdwb3J0ID8/IHRoaXMudmlld3BvcnQsIHQuZGF0YSA/PyB0aGlzLmRhdGEsIHQucm91dGVzID8/IHRoaXMucm91dGVzLCB0LmZhbGxiYWNrID8/IHRoaXMuZmFsbGJhY2sgPz8gZT8uZmFsbGJhY2sgPz8gbnVsbCwgdGhpcy5jb21wb25lbnQsIHQubmF2ID8/IHRoaXMubmF2KTtcbiAgICB9XG4gICAgWCh0LCBlLCBzKSB7XG4gICAgICAgIGlmIChoYXNTYW1lUGF0aCh0LCBlKSAmJiBzaGFsbG93RXF1YWxzKHQucGFyYW1zLCBlLnBhcmFtcykpIHJldHVybiBcIm5vbmVcIjtcbiAgICAgICAgaWYgKHMgIT0gbnVsbCkgcmV0dXJuIHM7XG4gICAgICAgIGNvbnN0IGkgPSB0aGlzLnRyYW5zaXRpb25QbGFuID8/IFwicmVwbGFjZVwiO1xuICAgICAgICByZXR1cm4gdHlwZW9mIGkgPT09IFwiZnVuY3Rpb25cIiA/IGkodCwgZSkgOiBpO1xuICAgICAgICBmdW5jdGlvbiBjbGVhblBhdGgodCkge1xuICAgICAgICAgICAgcmV0dXJuIHQucmVwbGFjZShgLyoke0F9YCwgXCJcIik7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gaGFzU2FtZVBhdGgodCwgZSkge1xuICAgICAgICAgICAgY29uc3QgcyA9IHQuZmluYWxQYXRoO1xuICAgICAgICAgICAgY29uc3QgaSA9IGUuZmluYWxQYXRoO1xuICAgICAgICAgICAgcmV0dXJuIHMubGVuZ3RoID09PSAwIHx8IGkubGVuZ3RoID09PSAwIHx8IGNsZWFuUGF0aChzKSA9PT0gY2xlYW5QYXRoKGkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIFkodCwgZSwgcykge1xuICAgICAgICBpZiAodGhpcy5XKSB0aHJvdyBuZXcgRXJyb3IoZ2V0TWVzc2FnZSgzNTUwKSk7XG4gICAgICAgIGlmICh0eXBlb2YgdC5nZXRSb3V0ZUNvbmZpZyAhPT0gXCJmdW5jdGlvblwiKSByZXR1cm47XG4gICAgICAgIHJldHVybiBhKHQuZ2V0Um91dGVDb25maWcoZSwgcyksICh0ID0+IHtcbiAgICAgICAgICAgIHRoaXMuVyA9IHRydWU7XG4gICAgICAgICAgICBpZiAodCA9PSBudWxsKSByZXR1cm47XG4gICAgICAgICAgICBsZXQgcyA9IGU/LnBhdGggPz8gXCJcIjtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcyAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgIHMgPSBzWzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFsaWRhdGVSb3V0ZUNvbmZpZyh0LCBzKTtcbiAgICAgICAgICAgIHRoaXMuaWQgPSB0LmlkID8/IHRoaXMuaWQ7XG4gICAgICAgICAgICB0aGlzLkcgPSBlbnN1cmVBcnJheU9mU3RyaW5ncyh0LnBhdGggPz8gdGhpcy5wYXRoKTtcbiAgICAgICAgICAgIHRoaXMudGl0bGUgPSB0LnRpdGxlID8/IHRoaXMudGl0bGU7XG4gICAgICAgICAgICB0aGlzLnJlZGlyZWN0VG8gPSB0LnJlZGlyZWN0VG8gPz8gdGhpcy5yZWRpcmVjdFRvO1xuICAgICAgICAgICAgdGhpcy5jYXNlU2Vuc2l0aXZlID0gdC5jYXNlU2Vuc2l0aXZlID8/IHRoaXMuY2FzZVNlbnNpdGl2ZTtcbiAgICAgICAgICAgIHRoaXMudHJhbnNpdGlvblBsYW4gPSB0LnRyYW5zaXRpb25QbGFuID8/IHRoaXMudHJhbnNpdGlvblBsYW47XG4gICAgICAgICAgICB0aGlzLnZpZXdwb3J0ID0gdC52aWV3cG9ydCA/PyB0aGlzLnZpZXdwb3J0O1xuICAgICAgICAgICAgdGhpcy5kYXRhID0gdC5kYXRhID8/IHRoaXMuZGF0YTtcbiAgICAgICAgICAgIHRoaXMucm91dGVzID0gdC5yb3V0ZXMgPz8gdGhpcy5yb3V0ZXM7XG4gICAgICAgICAgICB0aGlzLmZhbGxiYWNrID0gdC5mYWxsYmFjayA/PyB0aGlzLmZhbGxiYWNrO1xuICAgICAgICAgICAgdGhpcy5uYXYgPSB0Lm5hdiA/PyB0aGlzLm5hdjtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBaKCkge1xuICAgICAgICByZXR1cm4gbmV3IFJvdXRlQ29uZmlnKHRoaXMuaWQsIHRoaXMucGF0aCwgdGhpcy50aXRsZSwgdGhpcy5yZWRpcmVjdFRvLCB0aGlzLmNhc2VTZW5zaXRpdmUsIHRoaXMudHJhbnNpdGlvblBsYW4sIHRoaXMudmlld3BvcnQsIHRoaXMuZGF0YSwgdGhpcy5yb3V0ZXMsIHRoaXMuZmFsbGJhY2ssIHRoaXMuY29tcG9uZW50LCB0aGlzLm5hdik7XG4gICAgfVxuICAgIHR0KHQsIGUsIHMpIHtcbiAgICAgICAgY29uc3QgaSA9IHRoaXMuZmFsbGJhY2s7XG4gICAgICAgIHJldHVybiB0eXBlb2YgaSA9PT0gXCJmdW5jdGlvblwiICYmICFiLmlzVHlwZShpKSA/IGkodCwgZSwgcykgOiBpO1xuICAgIH1cbn1cblxuY29uc3QgVyA9IHtcbiAgICBuYW1lOiAvKkBfX1BVUkVfXyovIGMoXCJyb3V0ZS1jb25maWd1cmF0aW9uXCIpLFxuICAgIGlzQ29uZmlndXJlZChlKSB7XG4gICAgICAgIHJldHVybiB0LmhhcyhXLm5hbWUsIGUpO1xuICAgIH0sXG4gICAgY29uZmlndXJlKGUsIHMpIHtcbiAgICAgICAgY29uc3QgaSA9IFJvdXRlQ29uZmlnLkooZSwgcyk7XG4gICAgICAgIHQuZGVmaW5lKGksIHMsIFcubmFtZSk7XG4gICAgICAgIHJldHVybiBzO1xuICAgIH0sXG4gICAgZ2V0Q29uZmlnKGUpIHtcbiAgICAgICAgaWYgKCFXLmlzQ29uZmlndXJlZChlKSkge1xuICAgICAgICAgICAgVy5jb25maWd1cmUoe30sIGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0LmdldChXLm5hbWUsIGUpO1xuICAgIH1cbn07XG5cbmZ1bmN0aW9uIHJvdXRlKHQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oZSwgcykge1xuICAgICAgICBzLmFkZEluaXRpYWxpemVyKChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIFcuY29uZmlndXJlKHQsIHRoaXMpO1xuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybiBlO1xuICAgIH07XG59XG5cbmZ1bmN0aW9uIHJlc29sdmVSb3V0ZUNvbmZpZ3VyYXRpb24odCwgZSwgcywgaSwgbikge1xuICAgIGlmIChpc1BhcnRpYWxSZWRpcmVjdFJvdXRlQ29uZmlnKHQpKSByZXR1cm4gUm91dGVDb25maWcuSih0LCBudWxsKTtcbiAgICBjb25zdCBbciwgb10gPSByZXNvbHZlQ3VzdG9tRWxlbWVudERlZmluaXRpb24odCwgbik7XG4gICAgcmV0dXJuIGEobywgKG4gPT4ge1xuICAgICAgICBjb25zdCBvID0gbi5UeXBlO1xuICAgICAgICBjb25zdCBjID0gVy5nZXRDb25maWcobyk7XG4gICAgICAgIGlmIChpc1BhcnRpYWxDaGlsZFJvdXRlQ29uZmlnKHQpKSByZXR1cm4gYy5LKHQsIHMpO1xuICAgICAgICBpZiAoZSkgcmV0dXJuIGMuWigpO1xuICAgICAgICBpZiAoIWMuVyAmJiByLnR5cGUgPT09IDQgJiYgdHlwZW9mIHQuZ2V0Um91dGVDb25maWcgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgcmV0dXJuIGEoYy5ZKHQsIHMsIGkpLCAoKCkgPT4gYykpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjO1xuICAgIH0pKTtcbn1cblxuZnVuY3Rpb24gcmVzb2x2ZUN1c3RvbUVsZW1lbnREZWZpbml0aW9uKHQsIGUpIHtcbiAgICBjb25zdCBzID0gY3JlYXRlTmF2aWdhdGlvbkluc3RydWN0aW9uKHQpO1xuICAgIGxldCBpO1xuICAgIHN3aXRjaCAocy50eXBlKSB7XG4gICAgICBjYXNlIDA6XG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChlID09IG51bGwpIHRocm93IG5ldyBFcnJvcihnZXRNZXNzYWdlKDM1NTEpKTtcbiAgICAgICAgICAgIGNvbnN0IHQgPSBiLmZpbmQoZS5jb250YWluZXIsIHMudmFsdWUpO1xuICAgICAgICAgICAgaWYgKHQgPT09IG51bGwpIHRocm93IG5ldyBFcnJvcihnZXRNZXNzYWdlKDM1NTIsIHMudmFsdWUsIGUpKTtcbiAgICAgICAgICAgIGkgPSB0O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgY2FzZSAyOlxuICAgICAgICBpID0gcy52YWx1ZTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgNDpcbiAgICAgICAgaSA9IGIuZ2V0RGVmaW5pdGlvbihzLnZhbHVlLmNvbnN0cnVjdG9yKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgMzpcbiAgICAgICAgaWYgKGUgPT0gbnVsbCkgdGhyb3cgbmV3IEVycm9yKGdldE1lc3NhZ2UoMzU1MykpO1xuICAgICAgICBpID0gZS5ldChzLnZhbHVlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiBbIHMsIGkgXTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTmF2aWdhdGlvbkluc3RydWN0aW9uKHQpIHtcbiAgICByZXR1cm4gaXNQYXJ0aWFsQ2hpbGRSb3V0ZUNvbmZpZyh0KSA/IGNyZWF0ZU5hdmlnYXRpb25JbnN0cnVjdGlvbih0LmNvbXBvbmVudCkgOiBUeXBlZE5hdmlnYXRpb25JbnN0cnVjdGlvbi5jcmVhdGUodCk7XG59XG5cbmNvbnN0IFEgPSBbIFwiP1wiLCBcIiNcIiwgXCIvXCIsIFwiK1wiLCBcIihcIiwgXCIpXCIsIFwiLlwiLCBcIkBcIiwgXCIhXCIsIFwiPVwiLCBcIixcIiwgXCImXCIsIFwiJ1wiLCBcIn5cIiwgXCI7XCIgXTtcblxuY2xhc3MgUGFyc2VyU3RhdGUge1xuICAgIGdldCB1KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdC5sZW5ndGggPT09IDA7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKHQpIHtcbiAgICAgICAgdGhpcy5pdCA9IHQ7XG4gICAgICAgIHRoaXMubnQgPSBbXTtcbiAgICAgICAgdGhpcy5ydCA9IDA7XG4gICAgICAgIHRoaXMub3QgPSAwO1xuICAgICAgICB0aGlzLnN0ID0gdDtcbiAgICB9XG4gICAgY3QoLi4udCkge1xuICAgICAgICBjb25zdCBlID0gdGhpcy5zdDtcbiAgICAgICAgcmV0dXJuIHQuc29tZSgoZnVuY3Rpb24odCkge1xuICAgICAgICAgICAgcmV0dXJuIGUuc3RhcnRzV2l0aCh0KTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICB1dCh0KSB7XG4gICAgICAgIGlmICh0aGlzLmN0KHQpKSB7XG4gICAgICAgICAgICB0aGlzLnN0ID0gdGhpcy5zdC5zbGljZSh0Lmxlbmd0aCk7XG4gICAgICAgICAgICB0aGlzLm90ICs9IHQubGVuZ3RoO1xuICAgICAgICAgICAgdGhpcy5odCh0KTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgbHQodCkge1xuICAgICAgICBpZiAoIXRoaXMudXQodCkpIHtcbiAgICAgICAgICAgIHRoaXMuZnQoYCcke3R9J2ApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ0KHQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGdldE1lc3NhZ2UoMzUwMCwgdCwgdGhpcy5vdCwgdGhpcy5pdCwgdGhpcy5zdCwgdGhpcy5zdCkpO1xuICAgIH1cbiAgICBndCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihnZXRNZXNzYWdlKDM1MDEsIHRoaXMuc3QsIHRoaXMub3QsIHRoaXMuaXQpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkdCgpIHtcbiAgICAgICAgY29uc3QgdCA9IHRoaXMuc3RbMF07XG4gICAgICAgIHRoaXMuc3QgPSB0aGlzLnN0LnNsaWNlKDEpO1xuICAgICAgICArK3RoaXMub3Q7XG4gICAgICAgIHRoaXMuaHQodCk7XG4gICAgfVxuICAgIHd0KCkge1xuICAgICAgICB0aGlzLm50W3RoaXMucnQrK10gPSBcIlwiO1xuICAgIH1cbiAgICB2dCgpIHtcbiAgICAgICAgY29uc3QgdCA9IC0tdGhpcy5ydDtcbiAgICAgICAgY29uc3QgZSA9IHRoaXMubnQ7XG4gICAgICAgIGNvbnN0IHMgPSBlW3RdO1xuICAgICAgICBlW3RdID0gXCJcIjtcbiAgICAgICAgcmV0dXJuIHM7XG4gICAgfVxuICAgIEV0KCkge1xuICAgICAgICB0aGlzLm50Wy0tdGhpcy5ydF0gPSBcIlwiO1xuICAgIH1cbiAgICBodCh0KSB7XG4gICAgICAgIGNvbnN0IGUgPSB0aGlzLnJ0O1xuICAgICAgICBjb25zdCBzID0gdGhpcy5udDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlOyArK2kpIHtcbiAgICAgICAgICAgIHNbaV0gKz0gdDtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuY29uc3QgSiA9IG5ldyBNYXA7XG5cbmNsYXNzIFJvdXRlRXhwcmVzc2lvbiB7XG4gICAgZ2V0IGtpbmQoKSB7XG4gICAgICAgIHJldHVybiBcIlJvdXRlXCI7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKHQsIGUsIHMsIGkpIHtcbiAgICAgICAgdGhpcy5pc0Fic29sdXRlID0gdDtcbiAgICAgICAgdGhpcy5yb290ID0gZTtcbiAgICAgICAgdGhpcy5xdWVyeVBhcmFtcyA9IHM7XG4gICAgICAgIHRoaXMuZnJhZ21lbnQgPSBpO1xuICAgIH1cbiAgICBzdGF0aWMgcGFyc2UodCkge1xuICAgICAgICBjb25zdCBlID0gdC50b1N0cmluZygpO1xuICAgICAgICBsZXQgcyA9IEouZ2V0KGUpO1xuICAgICAgICBpZiAocyA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBKLnNldChlLCBzID0gUm91dGVFeHByZXNzaW9uLlJ0KHQpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcztcbiAgICB9XG4gICAgc3RhdGljIFJ0KHQpIHtcbiAgICAgICAgY29uc3QgZSA9IHQucGF0aDtcbiAgICAgICAgaWYgKGUgPT09IFwiXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUm91dGVFeHByZXNzaW9uKGZhbHNlLCBTZWdtZW50RXhwcmVzc2lvbi5FbXB0eSwgdC5xdWVyeSwgdC5mcmFnbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcyA9IG5ldyBQYXJzZXJTdGF0ZShlKTtcbiAgICAgICAgcy53dCgpO1xuICAgICAgICBjb25zdCBpID0gcy51dChcIi9cIik7XG4gICAgICAgIGNvbnN0IG4gPSBDb21wb3NpdGVTZWdtZW50RXhwcmVzc2lvbi55dChzKTtcbiAgICAgICAgcy5ndCgpO1xuICAgICAgICBzLkV0KCk7XG4gICAgICAgIHJldHVybiBuZXcgUm91dGVFeHByZXNzaW9uKGksIG4sIHQucXVlcnksIHQuZnJhZ21lbnQpO1xuICAgIH1cbiAgICB0b0luc3RydWN0aW9uVHJlZSh0KSB7XG4gICAgICAgIHJldHVybiBuZXcgVmlld3BvcnRJbnN0cnVjdGlvblRyZWUodCwgdGhpcy5pc0Fic29sdXRlLCB0aGlzLnJvb3QuYnQoMCwgMCksIG1lcmdlVVJMU2VhcmNoUGFyYW1zKHRoaXMucXVlcnlQYXJhbXMsIHQucXVlcnlQYXJhbXMsIHRydWUpLCB0aGlzLmZyYWdtZW50ID8/IHQuZnJhZ21lbnQpO1xuICAgIH1cbn1cblxuY2xhc3MgQ29tcG9zaXRlU2VnbWVudEV4cHJlc3Npb24ge1xuICAgIGdldCBraW5kKCkge1xuICAgICAgICByZXR1cm4gXCJDb21wb3NpdGVTZWdtZW50XCI7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKHQpIHtcbiAgICAgICAgdGhpcy5zaWJsaW5ncyA9IHQ7XG4gICAgfVxuICAgIHN0YXRpYyB5dCh0KSB7XG4gICAgICAgIHQud3QoKTtcbiAgICAgICAgY29uc3QgZSA9IHQudXQoXCIrXCIpO1xuICAgICAgICBjb25zdCBzID0gW107XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIHMucHVzaChTY29wZWRTZWdtZW50RXhwcmVzc2lvbi55dCh0KSk7XG4gICAgICAgIH0gd2hpbGUgKHQudXQoXCIrXCIpKTtcbiAgICAgICAgaWYgKCFlICYmIHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICB0LkV0KCk7XG4gICAgICAgICAgICByZXR1cm4gc1swXTtcbiAgICAgICAgfVxuICAgICAgICB0LkV0KCk7XG4gICAgICAgIHJldHVybiBuZXcgQ29tcG9zaXRlU2VnbWVudEV4cHJlc3Npb24ocyk7XG4gICAgfVxuICAgIGJ0KHQsIGUpIHtcbiAgICAgICAgc3dpdGNoICh0aGlzLnNpYmxpbmdzLmxlbmd0aCkge1xuICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIHJldHVybiBbXTtcblxuICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNpYmxpbmdzWzBdLmJ0KHQsIGUpO1xuXG4gICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgcmV0dXJuIFsgLi4udGhpcy5zaWJsaW5nc1swXS5idCh0LCAwKSwgLi4udGhpcy5zaWJsaW5nc1sxXS5idCgwLCBlKSBdO1xuXG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBbIC4uLnRoaXMuc2libGluZ3NbMF0uYnQodCwgMCksIC4uLnRoaXMuc2libGluZ3Muc2xpY2UoMSwgLTEpLmZsYXRNYXAoKGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdC5idCgwLCAwKTtcbiAgICAgICAgICAgIH0pKSwgLi4udGhpcy5zaWJsaW5nc1t0aGlzLnNpYmxpbmdzLmxlbmd0aCAtIDFdLmJ0KDAsIGUpIF07XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmNsYXNzIFNjb3BlZFNlZ21lbnRFeHByZXNzaW9uIHtcbiAgICBnZXQga2luZCgpIHtcbiAgICAgICAgcmV0dXJuIFwiU2NvcGVkU2VnbWVudFwiO1xuICAgIH1cbiAgICBjb25zdHJ1Y3Rvcih0LCBlKSB7XG4gICAgICAgIHRoaXMubGVmdCA9IHQ7XG4gICAgICAgIHRoaXMucmlnaHQgPSBlO1xuICAgIH1cbiAgICBzdGF0aWMgeXQodCkge1xuICAgICAgICB0Lnd0KCk7XG4gICAgICAgIGNvbnN0IGUgPSBTZWdtZW50R3JvdXBFeHByZXNzaW9uLnl0KHQpO1xuICAgICAgICBpZiAodC51dChcIi9cIikpIHtcbiAgICAgICAgICAgIGNvbnN0IHMgPSBTY29wZWRTZWdtZW50RXhwcmVzc2lvbi55dCh0KTtcbiAgICAgICAgICAgIHQuRXQoKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgU2NvcGVkU2VnbWVudEV4cHJlc3Npb24oZSwgcyk7XG4gICAgICAgIH1cbiAgICAgICAgdC5FdCgpO1xuICAgICAgICByZXR1cm4gZTtcbiAgICB9XG4gICAgYnQodCwgZSkge1xuICAgICAgICBjb25zdCBzID0gdGhpcy5sZWZ0LmJ0KHQsIDApO1xuICAgICAgICBjb25zdCBpID0gdGhpcy5yaWdodC5idCgwLCBlKTtcbiAgICAgICAgbGV0IG4gPSBzW3MubGVuZ3RoIC0gMV07XG4gICAgICAgIHdoaWxlIChuLmNoaWxkcmVuLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIG4gPSBuLmNoaWxkcmVuW24uY2hpbGRyZW4ubGVuZ3RoIC0gMV07XG4gICAgICAgIH1cbiAgICAgICAgbi5jaGlsZHJlbi5wdXNoKC4uLmkpO1xuICAgICAgICByZXR1cm4gcztcbiAgICB9XG59XG5cbmNsYXNzIFNlZ21lbnRHcm91cEV4cHJlc3Npb24ge1xuICAgIGdldCBraW5kKCkge1xuICAgICAgICByZXR1cm4gXCJTZWdtZW50R3JvdXBcIjtcbiAgICB9XG4gICAgY29uc3RydWN0b3IodCkge1xuICAgICAgICB0aGlzLmV4cHJlc3Npb24gPSB0O1xuICAgIH1cbiAgICBzdGF0aWMgeXQodCkge1xuICAgICAgICB0Lnd0KCk7XG4gICAgICAgIGlmICh0LnV0KFwiKFwiKSkge1xuICAgICAgICAgICAgY29uc3QgZSA9IENvbXBvc2l0ZVNlZ21lbnRFeHByZXNzaW9uLnl0KHQpO1xuICAgICAgICAgICAgdC5sdChcIilcIik7XG4gICAgICAgICAgICB0LkV0KCk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFNlZ21lbnRHcm91cEV4cHJlc3Npb24oZSk7XG4gICAgICAgIH1cbiAgICAgICAgdC5FdCgpO1xuICAgICAgICByZXR1cm4gU2VnbWVudEV4cHJlc3Npb24ueXQodCk7XG4gICAgfVxuICAgIGJ0KHQsIGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZXhwcmVzc2lvbi5idCh0ICsgMSwgZSArIDEpO1xuICAgIH1cbn1cblxuY2xhc3MgU2VnbWVudEV4cHJlc3Npb24ge1xuICAgIGdldCBraW5kKCkge1xuICAgICAgICByZXR1cm4gXCJTZWdtZW50XCI7XG4gICAgfVxuICAgIHN0YXRpYyBnZXQgRW1wdHkoKSB7XG4gICAgICAgIHJldHVybiBuZXcgU2VnbWVudEV4cHJlc3Npb24oQ29tcG9uZW50RXhwcmVzc2lvbi5FbXB0eSwgVmlld3BvcnRFeHByZXNzaW9uLkVtcHR5LCB0cnVlKTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IodCwgZSwgcykge1xuICAgICAgICB0aGlzLmNvbXBvbmVudCA9IHQ7XG4gICAgICAgIHRoaXMudmlld3BvcnQgPSBlO1xuICAgICAgICB0aGlzLnNjb3BlZCA9IHM7XG4gICAgfVxuICAgIHN0YXRpYyB5dCh0KSB7XG4gICAgICAgIHQud3QoKTtcbiAgICAgICAgY29uc3QgZSA9IENvbXBvbmVudEV4cHJlc3Npb24ueXQodCk7XG4gICAgICAgIGNvbnN0IHMgPSBWaWV3cG9ydEV4cHJlc3Npb24ueXQodCk7XG4gICAgICAgIGNvbnN0IGkgPSAhdC51dChcIiFcIik7XG4gICAgICAgIHQuRXQoKTtcbiAgICAgICAgcmV0dXJuIG5ldyBTZWdtZW50RXhwcmVzc2lvbihlLCBzLCBpKTtcbiAgICB9XG4gICAgYnQodCwgZSkge1xuICAgICAgICByZXR1cm4gWyBWaWV3cG9ydEluc3RydWN0aW9uLmNyZWF0ZSh7XG4gICAgICAgICAgICBjb21wb25lbnQ6IHRoaXMuY29tcG9uZW50Lm5hbWUsXG4gICAgICAgICAgICBwYXJhbXM6IHRoaXMuY29tcG9uZW50LnBhcmFtZXRlckxpc3QuU3QoKSxcbiAgICAgICAgICAgIHZpZXdwb3J0OiB0aGlzLnZpZXdwb3J0Lm5hbWUsXG4gICAgICAgICAgICBvcGVuOiB0LFxuICAgICAgICAgICAgY2xvc2U6IGVcbiAgICAgICAgfSkgXTtcbiAgICB9XG59XG5cbmNsYXNzIENvbXBvbmVudEV4cHJlc3Npb24ge1xuICAgIGdldCBraW5kKCkge1xuICAgICAgICByZXR1cm4gXCJDb21wb25lbnRcIjtcbiAgICB9XG4gICAgc3RhdGljIGdldCBFbXB0eSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDb21wb25lbnRFeHByZXNzaW9uKFwiXCIsIFBhcmFtZXRlckxpc3RFeHByZXNzaW9uLkVtcHR5KTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IodCwgZSkge1xuICAgICAgICB0aGlzLm5hbWUgPSB0O1xuICAgICAgICB0aGlzLnBhcmFtZXRlckxpc3QgPSBlO1xuICAgICAgICBzd2l0Y2ggKHQuY2hhckF0KDApKSB7XG4gICAgICAgICAgY2FzZSBcIjpcIjpcbiAgICAgICAgICAgIHRoaXMuaXNQYXJhbWV0ZXIgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5pc1N0YXIgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuaXNEeW5hbWljID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMucGFyYW1ldGVyTmFtZSA9IHQuc2xpY2UoMSk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgXCIqXCI6XG4gICAgICAgICAgICB0aGlzLmlzUGFyYW1ldGVyID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmlzU3RhciA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmlzRHluYW1pYyA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnBhcmFtZXRlck5hbWUgPSB0LnNsaWNlKDEpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhpcy5pc1BhcmFtZXRlciA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5pc1N0YXIgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuaXNEeW5hbWljID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnBhcmFtZXRlck5hbWUgPSB0O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGljIHl0KHQpIHtcbiAgICAgICAgdC53dCgpO1xuICAgICAgICB0Lnd0KCk7XG4gICAgICAgIGlmICghdC51KSB7XG4gICAgICAgICAgICBpZiAodC5jdChcIi4vXCIpKSB7XG4gICAgICAgICAgICAgICAgdC5kdCgpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0LmN0KFwiLi4vXCIpKSB7XG4gICAgICAgICAgICAgICAgdC5kdCgpO1xuICAgICAgICAgICAgICAgIHQuZHQoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgd2hpbGUgKCF0LnUgJiYgIXQuY3QoLi4uUSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdC5kdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlID0gdC52dCgpO1xuICAgICAgICBpZiAoZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHQuZnQoXCJjb21wb25lbnQgbmFtZVwiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzID0gUGFyYW1ldGVyTGlzdEV4cHJlc3Npb24ueXQodCk7XG4gICAgICAgIHQuRXQoKTtcbiAgICAgICAgcmV0dXJuIG5ldyBDb21wb25lbnRFeHByZXNzaW9uKGUsIHMpO1xuICAgIH1cbn1cblxuY2xhc3MgVmlld3BvcnRFeHByZXNzaW9uIHtcbiAgICBnZXQga2luZCgpIHtcbiAgICAgICAgcmV0dXJuIFwiVmlld3BvcnRcIjtcbiAgICB9XG4gICAgc3RhdGljIGdldCBFbXB0eSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWaWV3cG9ydEV4cHJlc3Npb24oXCJcIik7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKHQpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gdDtcbiAgICB9XG4gICAgc3RhdGljIHl0KHQpIHtcbiAgICAgICAgdC53dCgpO1xuICAgICAgICBsZXQgZSA9IG51bGw7XG4gICAgICAgIGlmICh0LnV0KFwiQFwiKSkge1xuICAgICAgICAgICAgdC53dCgpO1xuICAgICAgICAgICAgd2hpbGUgKCF0LnUgJiYgIXQuY3QoLi4uUSkpIHtcbiAgICAgICAgICAgICAgICB0LmR0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlID0gZGVjb2RlVVJJQ29tcG9uZW50KHQudnQoKSk7XG4gICAgICAgICAgICBpZiAoZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICB0LmZ0KFwidmlld3BvcnQgbmFtZVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0LkV0KCk7XG4gICAgICAgIHJldHVybiBuZXcgVmlld3BvcnRFeHByZXNzaW9uKGUpO1xuICAgIH1cbn1cblxuY2xhc3MgUGFyYW1ldGVyTGlzdEV4cHJlc3Npb24ge1xuICAgIGdldCBraW5kKCkge1xuICAgICAgICByZXR1cm4gXCJQYXJhbWV0ZXJMaXN0XCI7XG4gICAgfVxuICAgIHN0YXRpYyBnZXQgRW1wdHkoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUGFyYW1ldGVyTGlzdEV4cHJlc3Npb24oW10pO1xuICAgIH1cbiAgICBjb25zdHJ1Y3Rvcih0KSB7XG4gICAgICAgIHRoaXMuZXhwcmVzc2lvbnMgPSB0O1xuICAgIH1cbiAgICBzdGF0aWMgeXQodCkge1xuICAgICAgICB0Lnd0KCk7XG4gICAgICAgIGNvbnN0IGUgPSBbXTtcbiAgICAgICAgaWYgKHQudXQoXCIoXCIpKSB7XG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgZS5wdXNoKFBhcmFtZXRlckV4cHJlc3Npb24ueXQodCwgZS5sZW5ndGgpKTtcbiAgICAgICAgICAgICAgICBpZiAoIXQudXQoXCIsXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gd2hpbGUgKCF0LnUgJiYgIXQuY3QoXCIpXCIpKTtcbiAgICAgICAgICAgIHQubHQoXCIpXCIpO1xuICAgICAgICB9XG4gICAgICAgIHQuRXQoKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQYXJhbWV0ZXJMaXN0RXhwcmVzc2lvbihlKTtcbiAgICB9XG4gICAgU3QoKSB7XG4gICAgICAgIGNvbnN0IHQgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBlIG9mIHRoaXMuZXhwcmVzc2lvbnMpIHtcbiAgICAgICAgICAgIHRbZS5rZXldID0gZS52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9XG59XG5cbmNsYXNzIFBhcmFtZXRlckV4cHJlc3Npb24ge1xuICAgIGdldCBraW5kKCkge1xuICAgICAgICByZXR1cm4gXCJQYXJhbWV0ZXJcIjtcbiAgICB9XG4gICAgc3RhdGljIGdldCBFbXB0eSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQYXJhbWV0ZXJFeHByZXNzaW9uKFwiXCIsIFwiXCIpO1xuICAgIH1cbiAgICBjb25zdHJ1Y3Rvcih0LCBlKSB7XG4gICAgICAgIHRoaXMua2V5ID0gdDtcbiAgICAgICAgdGhpcy52YWx1ZSA9IGU7XG4gICAgfVxuICAgIHN0YXRpYyB5dCh0LCBlKSB7XG4gICAgICAgIHQud3QoKTtcbiAgICAgICAgdC53dCgpO1xuICAgICAgICB3aGlsZSAoIXQudSAmJiAhdC5jdCguLi5RKSkge1xuICAgICAgICAgICAgdC5kdCgpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBzID0gdC52dCgpO1xuICAgICAgICBpZiAocy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHQuZnQoXCJwYXJhbWV0ZXIga2V5XCIpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBpO1xuICAgICAgICBpZiAodC51dChcIj1cIikpIHtcbiAgICAgICAgICAgIHQud3QoKTtcbiAgICAgICAgICAgIHdoaWxlICghdC51ICYmICF0LmN0KC4uLlEpKSB7XG4gICAgICAgICAgICAgICAgdC5kdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaSA9IGRlY29kZVVSSUNvbXBvbmVudCh0LnZ0KCkpO1xuICAgICAgICAgICAgaWYgKGkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdC5mdChcInBhcmFtZXRlciB2YWx1ZVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGkgPSBzO1xuICAgICAgICAgICAgcyA9IGUudG9TdHJpbmcoKTtcbiAgICAgICAgfVxuICAgICAgICB0LkV0KCk7XG4gICAgICAgIHJldHVybiBuZXcgUGFyYW1ldGVyRXhwcmVzc2lvbihzLCBpKTtcbiAgICB9XG59XG5cbmNvbnN0IEsgPSBPYmplY3QuZnJlZXplKHtcbiAgICBSb3V0ZUV4cHJlc3Npb246IFJvdXRlRXhwcmVzc2lvbixcbiAgICBDb21wb3NpdGVTZWdtZW50RXhwcmVzc2lvbjogQ29tcG9zaXRlU2VnbWVudEV4cHJlc3Npb24sXG4gICAgU2NvcGVkU2VnbWVudEV4cHJlc3Npb246IFNjb3BlZFNlZ21lbnRFeHByZXNzaW9uLFxuICAgIFNlZ21lbnRHcm91cEV4cHJlc3Npb246IFNlZ21lbnRHcm91cEV4cHJlc3Npb24sXG4gICAgU2VnbWVudEV4cHJlc3Npb246IFNlZ21lbnRFeHByZXNzaW9uLFxuICAgIENvbXBvbmVudEV4cHJlc3Npb246IENvbXBvbmVudEV4cHJlc3Npb24sXG4gICAgVmlld3BvcnRFeHByZXNzaW9uOiBWaWV3cG9ydEV4cHJlc3Npb24sXG4gICAgUGFyYW1ldGVyTGlzdEV4cHJlc3Npb246IFBhcmFtZXRlckxpc3RFeHByZXNzaW9uLFxuICAgIFBhcmFtZXRlckV4cHJlc3Npb246IFBhcmFtZXRlckV4cHJlc3Npb25cbn0pO1xuXG5jbGFzcyBWaWV3cG9ydFJlcXVlc3Qge1xuICAgIGNvbnN0cnVjdG9yKHQsIGUpIHtcbiAgICAgICAgdGhpcy52aWV3cG9ydE5hbWUgPSB0O1xuICAgICAgICB0aGlzLmNvbXBvbmVudE5hbWUgPSBlO1xuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIGBWUih2aWV3cG9ydDonJHt0aGlzLnZpZXdwb3J0TmFtZX0nLGNvbXBvbmVudDonJHt0aGlzLmNvbXBvbmVudE5hbWV9JylgO1xuICAgIH1cbn1cblxuY29uc3QgWCA9IG5ldyBXZWFrTWFwO1xuXG5jbGFzcyBWaWV3cG9ydEFnZW50IHtcbiAgICBnZXQgQ3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdGF0ZSAmIDE2MjU2O1xuICAgIH1cbiAgICBzZXQgQ3QodCkge1xuICAgICAgICB0aGlzLl9zdGF0ZSA9IHRoaXMuX3N0YXRlICYgMTI3IHwgdDtcbiAgICB9XG4gICAgZ2V0IHh0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RhdGUgJiAxMjc7XG4gICAgfVxuICAgIHNldCB4dCh0KSB7XG4gICAgICAgIHRoaXMuX3N0YXRlID0gdGhpcy5fc3RhdGUgJiAxNjI1NiB8IHQ7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKHQsIGUsIHMpIHtcbiAgICAgICAgdGhpcy52aWV3cG9ydCA9IHQ7XG4gICAgICAgIHRoaXMuaG9zdENvbnRyb2xsZXIgPSBlO1xuICAgICAgICB0aGlzLk50ID0gZmFsc2U7XG4gICAgICAgIHRoaXMua3QgPSBudWxsO1xuICAgICAgICB0aGlzLiR0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fc3RhdGUgPSA4MjU2O1xuICAgICAgICB0aGlzLl90ID0gXCJyZXBsYWNlXCI7XG4gICAgICAgIHRoaXMuVHQgPSBudWxsO1xuICAgICAgICB0aGlzLkl0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5QdCA9IG51bGw7XG4gICAgICAgIHRoaXMuVnQgPSBudWxsO1xuICAgICAgICB0aGlzLkwgPSBzLmNvbnRhaW5lci5nZXQocikuc2NvcGVUbyhgVmlld3BvcnRBZ2VudDwke3MuQXR9PmApO1xuICAgIH1cbiAgICBzdGF0aWMgZm9yKHQsIGUpIHtcbiAgICAgICAgbGV0IHMgPSBYLmdldCh0KTtcbiAgICAgICAgaWYgKHMgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgY29uc3QgaSA9IFMuZ2V0Q2FjaGVkT3JUaHJvdyh0KTtcbiAgICAgICAgICAgIFguc2V0KHQsIHMgPSBuZXcgVmlld3BvcnRBZ2VudCh0LCBpLCBlKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHM7XG4gICAgfVxuICAgIE90KHQsIGUpIHtcbiAgICAgICAgY29uc3QgcyA9IHRoaXMuUHQ7XG4gICAgICAgIGlmIChzICE9PSBudWxsKSB7XG4gICAgICAgICAgICBlbnN1cmVUcmFuc2l0aW9uSGFzTm90RXJyb3JlZChzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLk50ID0gdHJ1ZTtcbiAgICAgICAgc3dpdGNoICh0aGlzLnh0KSB7XG4gICAgICAgICAgY2FzZSA2NDpcbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5DdCkge1xuICAgICAgICAgICAgICBjYXNlIDgxOTI6XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgICAgICAgIGNhc2UgNDA5NjpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5rdC5NdCh0LCBlKTtcblxuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRoaXMuanQoXCJhY3RpdmF0ZUZyb21WaWV3cG9ydCAxXCIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLlB0ID09PSBudWxsKSB0aHJvdyBuZXcgRXJyb3IoZ2V0TWVzc2FnZSgzMzUwLCB0aGlzKSk7XG4gICAgICAgICAgICAgICAgY29uc3QgZSA9IEJhdGNoLkMoKGUgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLk10KHQsIHRoaXMuUHQsIGUpO1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzID0gbmV3IFByb21pc2UoKHQgPT4ge1xuICAgICAgICAgICAgICAgICAgICBlLlQoKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHQoKTtcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZS5DKCkudSA/IHZvaWQgMCA6IHM7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhpcy5qdChcImFjdGl2YXRlRnJvbVZpZXdwb3J0IDJcIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgTHQodCwgZSkge1xuICAgICAgICBjb25zdCBzID0gdGhpcy5QdDtcbiAgICAgICAgaWYgKHMgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGVuc3VyZVRyYW5zaXRpb25IYXNOb3RFcnJvcmVkKHMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuTnQgPSBmYWxzZTtcbiAgICAgICAgc3dpdGNoICh0aGlzLkN0KSB7XG4gICAgICAgICAgY2FzZSA4MTkyOlxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgICAgY2FzZSA0MDk2OlxuICAgICAgICAgICAgcmV0dXJuIHRoaXMua3QuVXQodCwgZSk7XG5cbiAgICAgICAgICBjYXNlIDEyODpcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuUHQgPT09IG51bGwpIHRocm93IG5ldyBFcnJvcihnZXRNZXNzYWdlKDMzNTEsIHRoaXMpKTtcbiAgICAgICAgICAgICAgICBjb25zdCBlID0gQmF0Y2guQygoZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuVXQodCwgdGhpcy5QdCwgZSk7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHMgPSBuZXcgUHJvbWlzZSgodCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGUuVCgoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdCgpO1xuICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIHJldHVybiBlLkMoKS51ID8gdm9pZCAwIDogcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICB6dCh0KSB7XG4gICAgICAgIGlmICghdGhpcy5CdCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZSA9IHRoaXMudmlld3BvcnQ7XG4gICAgICAgIGNvbnN0IHMgPSB0LnZpZXdwb3J0TmFtZTtcbiAgICAgICAgY29uc3QgaSA9IGUubmFtZTtcbiAgICAgICAgaWYgKHMgIT09IG50ICYmIGkgIT09IHMpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuID0gZS51c2VkQnk7XG4gICAgICAgIGlmIChuLmxlbmd0aCA+IDAgJiYgIW4uc3BsaXQoXCIsXCIpLmluY2x1ZGVzKHQuY29tcG9uZW50TmFtZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgQnQoKSB7XG4gICAgICAgIGlmICghdGhpcy5OdCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnh0ICE9PSA2NCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBIdCh0LCBlKSB7XG4gICAgICAgIGlmICh0aGlzLlB0ID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLlB0ID0gdDtcbiAgICAgICAgfVxuICAgICAgICBlbnN1cmVUcmFuc2l0aW9uSGFzTm90RXJyb3JlZCh0KTtcbiAgICAgICAgaWYgKHQuZ3VhcmRzUmVzdWx0ICE9PSB0cnVlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZS5OKCk7XG4gICAgICAgIHZvaWQgYSh0aGlzLlZ0LCAoKCkgPT4ge1xuICAgICAgICAgICAgQmF0Y2guQygoZSA9PiB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBzIG9mIHRoaXMuVHQuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgcy5jb250ZXh0LnZwYS5IdCh0LCBlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSkuVCgoZSA9PiB7XG4gICAgICAgICAgICAgICAgc3dpdGNoICh0aGlzLkN0KSB7XG4gICAgICAgICAgICAgICAgICBjYXNlIDQwOTY6XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodGhpcy5fdCkge1xuICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJub25lXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLkN0ID0gMTAyNDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJpbnZva2UtbGlmZWN5Y2xlc1wiOlxuICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJyZXBsYWNlXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLkN0ID0gMjA0ODtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUuTigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgQmF0Y2guQygoZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5rdC5IdCh0LCB0aGlzLkl0LCBlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKS5UKCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5DdCA9IDEwMjQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZS4kKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSkuQygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgIGNhc2UgODE5MjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB0LkR0KG5ldyBFcnJvcihgVW5leHBlY3RlZCBzdGF0ZSBhdCBjYW5VbmxvYWQgb2YgJHt0aGlzfWApKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSkuVCgoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGUuJCgpO1xuICAgICAgICAgICAgfSkpLkMoKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBxdCh0LCBlKSB7XG4gICAgICAgIGlmICh0aGlzLlB0ID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLlB0ID0gdDtcbiAgICAgICAgfVxuICAgICAgICBlbnN1cmVUcmFuc2l0aW9uSGFzTm90RXJyb3JlZCh0KTtcbiAgICAgICAgaWYgKHQuZ3VhcmRzUmVzdWx0ICE9PSB0cnVlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZS5OKCk7XG4gICAgICAgIEJhdGNoLkMoKGUgPT4ge1xuICAgICAgICAgICAgc3dpdGNoICh0aGlzLnh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMzI6XG4gICAgICAgICAgICAgICAgdGhpcy54dCA9IDE2O1xuICAgICAgICAgICAgICAgIHN3aXRjaCAodGhpcy5fdCkge1xuICAgICAgICAgICAgICAgICAgY2FzZSBcIm5vbmVcIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgICAgICAgICAgICBjYXNlIFwiaW52b2tlLWxpZmVjeWNsZXNcIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMua3QucXQodCwgdGhpcy5JdCwgZSk7XG5cbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJyZXBsYWNlXCI6XG4gICAgICAgICAgICAgICAgICAgIGUuTigpO1xuICAgICAgICAgICAgICAgICAgICB2b2lkIGEodGhpcy5JdC5jb250ZXh0LkZ0KHRoaXMuaG9zdENvbnRyb2xsZXIsIHRoaXMuSXQpLCAocyA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAodGhpcy4kdCA9IHMpLnF0KHQsIHRoaXMuSXQsIGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZS4kKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgY2FzZSA2NDpcbiAgICAgICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aGlzLmp0KFwiY2FuTG9hZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpLlQoKHQgPT4ge1xuICAgICAgICAgICAgY29uc3QgZSA9IHRoaXMuSXQ7XG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMuX3QpIHtcbiAgICAgICAgICAgICAgY2FzZSBcIm5vbmVcIjpcbiAgICAgICAgICAgICAgY2FzZSBcImludm9rZS1saWZlY3ljbGVzXCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0Lk4oKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcyA9IGUuY29udGV4dDtcbiAgICAgICAgICAgICAgICAgICAgdm9pZCBhKHMuYWxsUmVzb2x2ZWQsICgoKSA9PiBhKGEodSguLi5lLnJlc2lkdWUuc3BsaWNlKDApLm1hcCgodCA9PiBjcmVhdGVBbmRBcHBlbmROb2Rlcyh0aGlzLkwsIGUsIHQpKSkpLCAoKCkgPT4gdSguLi5zLmdldEF2YWlsYWJsZVZpZXdwb3J0QWdlbnRzKCkucmVkdWNlKCgodCwgcykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaSA9IHMudmlld3BvcnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuID0gaS5kZWZhdWx0O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG4gPT09IG51bGwpIHJldHVybiB0O1xuICAgICAgICAgICAgICAgICAgICAgICAgdC5wdXNoKGNyZWF0ZUFuZEFwcGVuZE5vZGVzKHRoaXMuTCwgZSwgVmlld3BvcnRJbnN0cnVjdGlvbi5jcmVhdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudDogbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aWV3cG9ydDogaS5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHQ7XG4gICAgICAgICAgICAgICAgICAgIH0pLCBbXSkpKSksICgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0LiQoKTtcbiAgICAgICAgICAgICAgICAgICAgfSkpKSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgY2FzZSBcInJlcGxhY2VcIjpcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKS5UKChlID0+IHtcbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy54dCkge1xuICAgICAgICAgICAgICBjYXNlIDE2OlxuICAgICAgICAgICAgICAgIHRoaXMueHQgPSA4O1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcyBvZiB0aGlzLkl0LmNoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgICAgIHMuY29udGV4dC52cGEucXQodCwgZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAgICAgICBjYXNlIDY0OlxuICAgICAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRoaXMuanQoXCJjYW5Mb2FkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSkuVCgoKCkgPT4ge1xuICAgICAgICAgICAgZS4kKCk7XG4gICAgICAgIH0pKS5DKCk7XG4gICAgfVxuICAgIEd0KHQsIGUpIHtcbiAgICAgICAgZW5zdXJlVHJhbnNpdGlvbkhhc05vdEVycm9yZWQodCk7XG4gICAgICAgIGVuc3VyZUd1YXJkc1Jlc3VsdElzVHJ1ZSh0aGlzLCB0KTtcbiAgICAgICAgZS5OKCk7XG4gICAgICAgIEJhdGNoLkMoKGUgPT4ge1xuICAgICAgICAgICAgZm9yIChjb25zdCBzIG9mIHRoaXMuVHQuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgICAgICBzLmNvbnRleHQudnBhLkd0KHQsIGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSkuVCgocyA9PiB7XG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMuQ3QpIHtcbiAgICAgICAgICAgICAgY2FzZSAxMDI0OlxuICAgICAgICAgICAgICAgIHN3aXRjaCAodGhpcy5fdCkge1xuICAgICAgICAgICAgICAgICAgY2FzZSBcIm5vbmVcIjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5DdCA9IDI1NjtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgICAgICAgICAgICBjYXNlIFwiaW52b2tlLWxpZmVjeWNsZXNcIjpcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJyZXBsYWNlXCI6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuQ3QgPSA1MTI7XG4gICAgICAgICAgICAgICAgICAgIHMuTigpO1xuICAgICAgICAgICAgICAgICAgICBCYXRjaC5DKChlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMua3QuR3QodCwgdGhpcy5JdCwgZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pKS5UKCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLkN0ID0gMjU2O1xuICAgICAgICAgICAgICAgICAgICAgICAgcy4kKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pKS5DKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgY2FzZSA4MTkyOlxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcyBvZiB0aGlzLlR0LmNoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgICAgIHMuY29udGV4dC52cGEuR3QodCwgZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRoaXMuanQoXCJ1bmxvYWRpbmdcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKS5UKCgoKSA9PiB7XG4gICAgICAgICAgICBlLiQoKTtcbiAgICAgICAgfSkpLkMoKTtcbiAgICB9XG4gICAgV3QodCwgZSkge1xuICAgICAgICBlbnN1cmVUcmFuc2l0aW9uSGFzTm90RXJyb3JlZCh0KTtcbiAgICAgICAgZW5zdXJlR3VhcmRzUmVzdWx0SXNUcnVlKHRoaXMsIHQpO1xuICAgICAgICBlLk4oKTtcbiAgICAgICAgQmF0Y2guQygoZSA9PiB7XG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMueHQpIHtcbiAgICAgICAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy54dCA9IDQ7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodGhpcy5fdCkge1xuICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJub25lXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiaW52b2tlLWxpZmVjeWNsZXNcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmt0Lld0KHQsIHRoaXMuSXQsIGUpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInJlcGxhY2VcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiR0Lld0KHQsIHRoaXMuSXQsIGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGNhc2UgNjQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhpcy5qdChcImxvYWRpbmdcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKS5UKChlID0+IHtcbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy54dCkge1xuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgdGhpcy54dCA9IDI7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBzIG9mIHRoaXMuSXQuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgcy5jb250ZXh0LnZwYS5XdCh0LCBlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgICAgICAgIGNhc2UgNjQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhpcy5qdChcImxvYWRpbmdcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKS5UKCgoKSA9PiB7XG4gICAgICAgICAgICBlLiQoKTtcbiAgICAgICAgfSkpLkMoKTtcbiAgICB9XG4gICAgVXQodCwgZSwgcykge1xuICAgICAgICBlbnN1cmVUcmFuc2l0aW9uSGFzTm90RXJyb3JlZChlKTtcbiAgICAgICAgZW5zdXJlR3VhcmRzUmVzdWx0SXNUcnVlKHRoaXMsIGUpO1xuICAgICAgICBzLk4oKTtcbiAgICAgICAgc3dpdGNoICh0aGlzLkN0KSB7XG4gICAgICAgICAgY2FzZSAyNTY6XG4gICAgICAgICAgICB0aGlzLkN0ID0gMTI4O1xuICAgICAgICAgICAgc3dpdGNoICh0aGlzLl90KSB7XG4gICAgICAgICAgICAgIGNhc2UgXCJub25lXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJpbnZva2UtbGlmZWN5Y2xlc1wiOlxuICAgICAgICAgICAgICAgIHMuJCgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAgICAgICBjYXNlIFwicmVwbGFjZVwiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaSA9IHRoaXMuaG9zdENvbnRyb2xsZXI7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG4gPSB0aGlzLmt0O1xuICAgICAgICAgICAgICAgICAgICBlLlF0KCgoKSA9PiBhKG4uVXQodCwgaSksICgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG4uSnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSkpKSwgKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHMuJCgpO1xuICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgICAgY2FzZSA4MTkyOlxuICAgICAgICAgICAgcy4kKCk7XG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICBjYXNlIDEyODpcbiAgICAgICAgICAgIHMuJCgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRoaXMuanQoXCJkZWFjdGl2YXRlXCIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIE10KHQsIGUsIHMpIHtcbiAgICAgICAgZW5zdXJlVHJhbnNpdGlvbkhhc05vdEVycm9yZWQoZSk7XG4gICAgICAgIGVuc3VyZUd1YXJkc1Jlc3VsdElzVHJ1ZSh0aGlzLCBlKTtcbiAgICAgICAgcy5OKCk7XG4gICAgICAgIGlmICh0aGlzLnh0ID09PSAzMikge1xuICAgICAgICAgICAgQmF0Y2guQygodCA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5xdChlLCB0KTtcbiAgICAgICAgICAgIH0pKS5UKCh0ID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLld0KGUsIHQpO1xuICAgICAgICAgICAgfSkpLlQoKHMgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuTXQodCwgZSwgcyk7XG4gICAgICAgICAgICB9KSkuVCgoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHMuJCgpO1xuICAgICAgICAgICAgfSkpLkMoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKHRoaXMueHQpIHtcbiAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICB0aGlzLnh0ID0gMTtcbiAgICAgICAgICAgIEJhdGNoLkMoKHMgPT4ge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAodGhpcy5fdCkge1xuICAgICAgICAgICAgICAgICAgY2FzZSBcIm5vbmVcIjpcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJpbnZva2UtbGlmZWN5Y2xlc1wiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJyZXBsYWNlXCI6XG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGkgPSB0aGlzLmhvc3RDb250cm9sbGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5RdCgoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMuTigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiR0Lk10KHQsIGkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSksICgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcy4kKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSkuVCgodCA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5LdChlLCB0KTtcbiAgICAgICAgICAgIH0pKS5UKCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgcy4kKCk7XG4gICAgICAgICAgICB9KSkuQygpO1xuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgICAgY2FzZSA2NDpcbiAgICAgICAgICAgIHMuJCgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRoaXMuanQoXCJhY3RpdmF0ZVwiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBYdCh0LCBlKSB7XG4gICAgICAgIGlmICh0aGlzLkN0ID09PSA4MTkyKSB7XG4gICAgICAgICAgICB0aGlzLk10KG51bGwsIHQsIGUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnh0ID09PSA2NCkge1xuICAgICAgICAgICAgdGhpcy5VdChudWxsLCB0LCBlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBlbnN1cmVUcmFuc2l0aW9uSGFzTm90RXJyb3JlZCh0KTtcbiAgICAgICAgZW5zdXJlR3VhcmRzUmVzdWx0SXNUcnVlKHRoaXMsIHQpO1xuICAgICAgICBpZiAoISh0aGlzLkN0ID09PSAyNTYgJiYgdGhpcy54dCA9PT0gMikpIHtcbiAgICAgICAgICAgIHRoaXMuanQoXCJzd2FwXCIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuQ3QgPSAxMjg7XG4gICAgICAgIHRoaXMueHQgPSAxO1xuICAgICAgICBzd2l0Y2ggKHRoaXMuX3QpIHtcbiAgICAgICAgICBjYXNlIFwibm9uZVwiOlxuICAgICAgICAgIGNhc2UgXCJpbnZva2UtbGlmZWN5Y2xlc1wiOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IHMgPSBtZXJnZURpc3RpbmN0KHRoaXMuSXQuY2hpbGRyZW4sIHRoaXMuVHQuY2hpbGRyZW4pO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgaSBvZiBzKSB7XG4gICAgICAgICAgICAgICAgICAgIGkuY29udGV4dC52cGEuWHQodCwgZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIGNhc2UgXCJyZXBsYWNlXCI6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgcyA9IHRoaXMuaG9zdENvbnRyb2xsZXI7XG4gICAgICAgICAgICAgICAgY29uc3QgaSA9IHRoaXMua3Q7XG4gICAgICAgICAgICAgICAgY29uc3QgbiA9IHRoaXMuJHQ7XG4gICAgICAgICAgICAgICAgZS5OKCk7XG4gICAgICAgICAgICAgICAgQmF0Y2guQygoZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHQuUXQoKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUuTigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGEoaS5VdChudWxsLCBzKSwgKCgpID0+IGkuSnQoKSkpO1xuICAgICAgICAgICAgICAgICAgICB9KSwgKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUuJCgpO1xuICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgfSkpLlQoKGUgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0LlF0KCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLk4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuLk10KG51bGwsIHMpO1xuICAgICAgICAgICAgICAgICAgICB9KSwgKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUuJCgpO1xuICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgfSkpLlQoKGUgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLkt0KHQsIGUpO1xuICAgICAgICAgICAgICAgIH0pKS5UKCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGUuJCgpO1xuICAgICAgICAgICAgICAgIH0pKS5DKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIEt0KHQsIGUpIHtcbiAgICAgICAgY29uc3QgcyA9IHRoaXMuSXQ7XG4gICAgICAgIHQuUXQoKCgpID0+IHtcbiAgICAgICAgICAgIGUuTigpO1xuICAgICAgICAgICAgY29uc3QgdCA9IHMuY29udGV4dDtcbiAgICAgICAgICAgIHJldHVybiBhKHQuYWxsUmVzb2x2ZWQsICgoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZSA9IHMuY2hpbGRyZW4uc2xpY2UoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYSh1KC4uLnMucmVzaWR1ZS5zcGxpY2UoMCkubWFwKCh0ID0+IGNyZWF0ZUFuZEFwcGVuZE5vZGVzKHRoaXMuTCwgcywgdCkpKSksICgoKSA9PiBhKHUoLi4udC5nZXRBdmFpbGFibGVWaWV3cG9ydEFnZW50cygpLnJlZHVjZSgoKHQsIGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaSA9IGUudmlld3BvcnQ7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG4gPSBpLmRlZmF1bHQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuID09PSBudWxsKSByZXR1cm4gdDtcbiAgICAgICAgICAgICAgICAgICAgdC5wdXNoKGNyZWF0ZUFuZEFwcGVuZE5vZGVzKHRoaXMuTCwgcywgVmlld3BvcnRJbnN0cnVjdGlvbi5jcmVhdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50OiBuLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmlld3BvcnQ6IGkubmFtZVxuICAgICAgICAgICAgICAgICAgICB9KSkpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdDtcbiAgICAgICAgICAgICAgICB9KSwgW10pKSwgKCgpID0+IHMuY2hpbGRyZW4uZmlsdGVyKCh0ID0+ICFlLmluY2x1ZGVzKHQpKSkpKSkpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9KSwgKHMgPT4ge1xuICAgICAgICAgICAgQmF0Y2guQygoZSA9PiB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBpIG9mIHMpIHtcbiAgICAgICAgICAgICAgICAgICAgdC5RdCgoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5OKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaS5jb250ZXh0LnZwYS5xdCh0LCBlKTtcbiAgICAgICAgICAgICAgICAgICAgfSksICgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLiQoKTtcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pKS5UKChlID0+IHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGkgb2Ygcykge1xuICAgICAgICAgICAgICAgICAgICB0LlF0KCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLk4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpLmNvbnRleHQudnBhLld0KHQsIGUpO1xuICAgICAgICAgICAgICAgICAgICB9KSwgKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUuJCgpO1xuICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkpLlQoKGUgPT4ge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgaSBvZiBzKSB7XG4gICAgICAgICAgICAgICAgICAgIHQuUXQoKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUuTigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGkuY29udGV4dC52cGEuTXQobnVsbCwgdCwgZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pLCAoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZS4kKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSkuVCgoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGUuJCgpO1xuICAgICAgICAgICAgfSkpLkMoKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBZdCh0LCBlKSB7XG4gICAgICAgIHN3aXRjaCAodGhpcy54dCkge1xuICAgICAgICAgIGNhc2UgNjQ6XG4gICAgICAgICAgICB0aGlzLkl0ID0gZTtcbiAgICAgICAgICAgIHRoaXMueHQgPSAzMjtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRoaXMuanQoXCJzY2hlZHVsZVVwZGF0ZSAxXCIpO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAodGhpcy5DdCkge1xuICAgICAgICAgIGNhc2UgODE5MjpcbiAgICAgICAgICBjYXNlIDQwOTY6XG4gICAgICAgICAgY2FzZSAxMDI0OlxuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhpcy5qdChcInNjaGVkdWxlVXBkYXRlIDJcIik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcyA9IHRoaXMua3Q/Llp0ID8/IG51bGw7XG4gICAgICAgIGlmIChzID09PSBudWxsIHx8IHMuY29tcG9uZW50ICE9PSBlLmNvbXBvbmVudCkge1xuICAgICAgICAgICAgdGhpcy5fdCA9IFwicmVwbGFjZVwiO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fdCA9IGUuY29udGV4dC5jb25maWcuWChzLCBlLCB0LnRyYW5zaXRpb25QbGFuKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuVHQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuVHQuY2hpbGRyZW4uZm9yRWFjaCgoZnVuY3Rpb24odCkge1xuICAgICAgICAgICAgICAgIHQuY29udGV4dC52cGEudGUoKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5JdCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5JdC5jaGlsZHJlbi5mb3JFYWNoKChmdW5jdGlvbih0KSB7XG4gICAgICAgICAgICAgICAgdC5jb250ZXh0LnZwYS50ZSgpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICAgIGxldCB0ID0gbnVsbDtcbiAgICAgICAgbGV0IGUgPSBudWxsO1xuICAgICAgICBzd2l0Y2ggKHRoaXMuQ3QpIHtcbiAgICAgICAgICBjYXNlIDgxOTI6XG4gICAgICAgICAgY2FzZSA0MDk2OlxuICAgICAgICAgICAgdGhpcy5QdCA9IG51bGw7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgMjA0ODpcbiAgICAgICAgICBjYXNlIDEwMjQ6XG4gICAgICAgICAgICB0aGlzLkN0ID0gNDA5NjtcbiAgICAgICAgICAgIHRoaXMuUHQgPSBudWxsO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIDUxMjpcbiAgICAgICAgICBjYXNlIDI1NjpcbiAgICAgICAgICBjYXNlIDEyODpcbiAgICAgICAgICAgIHQgPSBhKHRoaXMua3Q/LlV0KG51bGwsIHRoaXMuaG9zdENvbnRyb2xsZXIpLCAoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMua3Q/Lkp0KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5DdCA9IDgxOTI7XG4gICAgICAgICAgICAgICAgdGhpcy5rdCA9IG51bGw7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKHRoaXMueHQpIHtcbiAgICAgICAgICBjYXNlIDY0OlxuICAgICAgICAgIGNhc2UgMzI6XG4gICAgICAgICAgY2FzZSAxNjpcbiAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICB0aGlzLkl0ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMueHQgPSA2NDtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZSA9IGEodGhpcy4kdD8uVXQobnVsbCwgdGhpcy5ob3N0Q29udHJvbGxlciksICgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJHQ/Lkp0KCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3QgPSBcInJlcGxhY2VcIjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy54dCA9IDY0O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiR0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5JdCA9IG51bGw7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0ICE9PSBudWxsICYmIGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuVnQgPSBhKHUodCwgZSksICgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5QdCA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy5WdCA9IG51bGw7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWUoKSB7XG4gICAgICAgIGlmICh0aGlzLlR0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLlR0LmNoaWxkcmVuLmZvckVhY2goKGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICAgICAgICB0LmNvbnRleHQudnBhLmVlKCk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuSXQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuSXQuY2hpbGRyZW4uZm9yRWFjaCgoZnVuY3Rpb24odCkge1xuICAgICAgICAgICAgICAgIHQuY29udGV4dC52cGEuZWUoKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5QdCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgZW5zdXJlVHJhbnNpdGlvbkhhc05vdEVycm9yZWQodGhpcy5QdCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMueHQpIHtcbiAgICAgICAgICAgICAgY2FzZSA2NDpcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHRoaXMuQ3QpIHtcbiAgICAgICAgICAgICAgICAgIGNhc2UgODE5MjpcbiAgICAgICAgICAgICAgICAgIGNhc2UgMTI4OlxuICAgICAgICAgICAgICAgICAgICB0aGlzLkN0ID0gODE5MjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5rdCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmp0KFwiZW5kVHJhbnNpdGlvbiAxXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgc3dpdGNoICh0aGlzLkN0KSB7XG4gICAgICAgICAgICAgICAgICBjYXNlIDgxOTI6XG4gICAgICAgICAgICAgICAgICBjYXNlIDEyODpcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0aGlzLl90KSB7XG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm5vbmVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuQ3QgPSA0MDk2O1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiaW52b2tlLWxpZmVjeWNsZXNcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuQ3QgPSA0MDk2O1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5rdC5adCA9IHRoaXMuSXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJyZXBsYWNlXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLkN0ID0gNDA5NjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMua3QgPSB0aGlzLiR0O1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5UdCA9IHRoaXMuSXQ7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmp0KFwiZW5kVHJhbnNpdGlvbiAyXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRoaXMuanQoXCJlbmRUcmFuc2l0aW9uIDNcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl90ID0gXCJyZXBsYWNlXCI7XG4gICAgICAgICAgICB0aGlzLnh0ID0gNjQ7XG4gICAgICAgICAgICB0aGlzLkl0ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuJHQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5QdCA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiBgVlBBKHN0YXRlOiR7JHN0YXRlKHRoaXMuX3N0YXRlKX0scGxhbjonJHt0aGlzLl90fScsbjoke3RoaXMuSXR9LGM6JHt0aGlzLlR0fSx2aWV3cG9ydDoke3RoaXMudmlld3BvcnR9KWA7XG4gICAgfVxuICAgIEp0KCkge1xuICAgICAgICB0aGlzLmt0Py5KdCgpO1xuICAgIH1cbiAgICBqdCh0KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihnZXRNZXNzYWdlKDMzNTIsIHQsIHRoaXMpKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGVuc3VyZUd1YXJkc1Jlc3VsdElzVHJ1ZSh0LCBlKSB7XG4gICAgaWYgKGUuZ3VhcmRzUmVzdWx0ICE9PSB0cnVlKSB0aHJvdyBuZXcgRXJyb3IoZ2V0TWVzc2FnZSgzMzUzLCBlLmd1YXJkc1Jlc3VsdCwgdCkpO1xufVxuXG5mdW5jdGlvbiBlbnN1cmVUcmFuc2l0aW9uSGFzTm90RXJyb3JlZCh0KSB7XG4gICAgaWYgKHQuZXJyb3IgIT09IHZvaWQgMCAmJiAhdC5lcnJlZFdpdGhVbmtub3duUm91dGUpIHRocm93IHQuZXJyb3I7XG59XG5cbmNvbnN0IFkgPSBuZXcgTWFwO1xuXG5mdW5jdGlvbiAkc3RhdGUodCkge1xuICAgIGxldCBlID0gWS5nZXQodCk7XG4gICAgaWYgKGUgPT09IHZvaWQgMCkge1xuICAgICAgICBZLnNldCh0LCBlID0gc3RyaW5naWZ5U3RhdGUodCkpO1xuICAgIH1cbiAgICByZXR1cm4gZTtcbn1cblxuZnVuY3Rpb24gc3RyaW5naWZ5U3RhdGUodCkge1xuICAgIGNvbnN0IGUgPSBbXTtcbiAgICBpZiAoKHQgJiA4MTkyKSA9PT0gODE5Mikge1xuICAgICAgICBlLnB1c2goXCJjdXJySXNFbXB0eVwiKTtcbiAgICB9XG4gICAgaWYgKCh0ICYgNDA5NikgPT09IDQwOTYpIHtcbiAgICAgICAgZS5wdXNoKFwiY3VycklzQWN0aXZlXCIpO1xuICAgIH1cbiAgICBpZiAoKHQgJiAyMDQ4KSA9PT0gMjA0OCkge1xuICAgICAgICBlLnB1c2goXCJjdXJyQ2FuVW5sb2FkXCIpO1xuICAgIH1cbiAgICBpZiAoKHQgJiAxMDI0KSA9PT0gMTAyNCkge1xuICAgICAgICBlLnB1c2goXCJjdXJyQ2FuVW5sb2FkRG9uZVwiKTtcbiAgICB9XG4gICAgaWYgKCh0ICYgNTEyKSA9PT0gNTEyKSB7XG4gICAgICAgIGUucHVzaChcImN1cnJVbmxvYWRcIik7XG4gICAgfVxuICAgIGlmICgodCAmIDI1NikgPT09IDI1Nikge1xuICAgICAgICBlLnB1c2goXCJjdXJyVW5sb2FkRG9uZVwiKTtcbiAgICB9XG4gICAgaWYgKCh0ICYgMTI4KSA9PT0gMTI4KSB7XG4gICAgICAgIGUucHVzaChcImN1cnJEZWFjdGl2YXRlXCIpO1xuICAgIH1cbiAgICBpZiAoKHQgJiA2NCkgPT09IDY0KSB7XG4gICAgICAgIGUucHVzaChcIm5leHRJc0VtcHR5XCIpO1xuICAgIH1cbiAgICBpZiAoKHQgJiAzMikgPT09IDMyKSB7XG4gICAgICAgIGUucHVzaChcIm5leHRJc1NjaGVkdWxlZFwiKTtcbiAgICB9XG4gICAgaWYgKCh0ICYgMTYpID09PSAxNikge1xuICAgICAgICBlLnB1c2goXCJuZXh0Q2FuTG9hZFwiKTtcbiAgICB9XG4gICAgaWYgKCh0ICYgOCkgPT09IDgpIHtcbiAgICAgICAgZS5wdXNoKFwibmV4dENhbkxvYWREb25lXCIpO1xuICAgIH1cbiAgICBpZiAoKHQgJiA0KSA9PT0gNCkge1xuICAgICAgICBlLnB1c2goXCJuZXh0TG9hZFwiKTtcbiAgICB9XG4gICAgaWYgKCh0ICYgMikgPT09IDIpIHtcbiAgICAgICAgZS5wdXNoKFwibmV4dExvYWREb25lXCIpO1xuICAgIH1cbiAgICBpZiAoKHQgJiAxKSA9PT0gMSkge1xuICAgICAgICBlLnB1c2goXCJuZXh0QWN0aXZhdGVcIik7XG4gICAgfVxuICAgIHJldHVybiBlLmpvaW4oXCJ8XCIpO1xufVxuXG5jbGFzcyBSb3V0ZU5vZGUge1xuICAgIGdldCByb290KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZS5yb290O1xuICAgIH1cbiAgICBnZXQgaXNJbnN0cnVjdGlvbnNGaW5hbGl6ZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmllO1xuICAgIH1cbiAgICBjb25zdHJ1Y3Rvcih0LCBlLCBzLCBpLCBuLCByLCBvLCBhLCBjLCB1LCBoLCBsLCBmKSB7XG4gICAgICAgIHRoaXMucGF0aCA9IHQ7XG4gICAgICAgIHRoaXMuZmluYWxQYXRoID0gZTtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gcztcbiAgICAgICAgdGhpcy5uZSA9IGk7XG4gICAgICAgIHRoaXMuaW5zdHJ1Y3Rpb24gPSBuO1xuICAgICAgICB0aGlzLnBhcmFtcyA9IHI7XG4gICAgICAgIHRoaXMucXVlcnlQYXJhbXMgPSBvO1xuICAgICAgICB0aGlzLmZyYWdtZW50ID0gYTtcbiAgICAgICAgdGhpcy5kYXRhID0gYztcbiAgICAgICAgdGhpcy5yZSA9IHU7XG4gICAgICAgIHRoaXMudGl0bGUgPSBoO1xuICAgICAgICB0aGlzLmNvbXBvbmVudCA9IGw7XG4gICAgICAgIHRoaXMucmVzaWR1ZSA9IGY7XG4gICAgICAgIHRoaXMub2UgPSAxO1xuICAgICAgICB0aGlzLmllID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY2hpbGRyZW4gPSBbXTtcbiAgICAgICAgdGhpcy5uZSA/Pz0gbjtcbiAgICB9XG4gICAgc3RhdGljIGNyZWF0ZSh0KSB7XG4gICAgICAgIGNvbnN0IHtbQV06IGUsIC4uLnN9ID0gdC5wYXJhbXMgPz8ge307XG4gICAgICAgIHJldHVybiBuZXcgUm91dGVOb2RlKHQucGF0aCwgdC5maW5hbFBhdGgsIHQuY29udGV4dCwgdC5vcmlnaW5hbEluc3RydWN0aW9uID8/IHQuaW5zdHJ1Y3Rpb24sIHQuaW5zdHJ1Y3Rpb24sIE9iamVjdC5mcmVlemUocyksIHQucXVlcnlQYXJhbXMgPz8gWiwgdC5mcmFnbWVudCA/PyBudWxsLCBPYmplY3QuZnJlZXplKHQuZGF0YSA/PyBoKSwgdC5yZSA/PyBudWxsLCB0LnRpdGxlID8/IG51bGwsIHQuY29tcG9uZW50LCB0LnJlc2lkdWUgPz8gW10pO1xuICAgIH1cbiAgICBjb250YWlucyh0LCBlID0gZmFsc2UpIHtcbiAgICAgICAgaWYgKHRoaXMuY29udGV4dCA9PT0gdC5vcHRpb25zLmNvbnRleHQpIHtcbiAgICAgICAgICAgIGNvbnN0IHMgPSB0aGlzLmNoaWxkcmVuO1xuICAgICAgICAgICAgY29uc3QgaSA9IHQuY2hpbGRyZW47XG4gICAgICAgICAgICBmb3IgKGxldCB0ID0gMCwgbiA9IHMubGVuZ3RoOyB0IDwgbjsgKyt0KSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgciA9IDAsIG8gPSBpLmxlbmd0aDsgciA8IG87ICsrcikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhID0gaVtyXTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYyA9IGUgPyBhLnJlY29nbml6ZWRSb3V0ZT8ucm91dGUuZW5kcG9pbnQgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB1ID0gc1t0ICsgcl0gPz8gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaCA9IHUgIT09IG51bGwgPyB1LmlzSW5zdHJ1Y3Rpb25zRmluYWxpemVkID8gdS5pbnN0cnVjdGlvbiA6IHUubmUgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsID0gaD8ucmVjb2duaXplZFJvdXRlPy5yb3V0ZS5lbmRwb2ludDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgKyByIDwgbiAmJiAoKGM/LmVxdWFsc09yUmVzaWR1YWwobCkgPz8gZmFsc2UpIHx8IChoPy5jb250YWlucyhhKSA/PyBmYWxzZSkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAociArIDEgPT09IG8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmNoaWxkcmVuLnNvbWUoKGZ1bmN0aW9uKHMpIHtcbiAgICAgICAgICAgIHJldHVybiBzLmNvbnRhaW5zKHQsIGUpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIGFlKHQpIHtcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKHQpO1xuICAgICAgICB0LmNlKHRoaXMuc2UpO1xuICAgIH1cbiAgICB1ZSgpIHtcbiAgICAgICAgZm9yIChjb25zdCB0IG9mIHRoaXMuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIHQudWUoKTtcbiAgICAgICAgICAgIHQuY29udGV4dC52cGEudGUoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNoaWxkcmVuLmxlbmd0aCA9IDA7XG4gICAgfVxuICAgIGdldFRpdGxlKHQpIHtcbiAgICAgICAgY29uc3QgZSA9IFsgLi4udGhpcy5jaGlsZHJlbi5tYXAoKGUgPT4gZS5nZXRUaXRsZSh0KSkpLCB0eXBlb2YgdGhpcy50aXRsZSA9PT0gXCJmdW5jdGlvblwiID8gdGhpcy50aXRsZS5jYWxsKHZvaWQgMCwgdGhpcykgOiB0aGlzLnRpdGxlIF0uZmlsdGVyKCh0ID0+IHQgIT09IG51bGwpKTtcbiAgICAgICAgcmV0dXJuIGUubGVuZ3RoID09PSAwID8gbnVsbCA6IGUuam9pbih0KTtcbiAgICB9XG4gICAgY29tcHV0ZUFic29sdXRlUGF0aCgpIHtcbiAgICAgICAgaWYgKHRoaXMuY29udGV4dC5pc1Jvb3QpIHtcbiAgICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHQgPSB0aGlzLmNvbnRleHQucGFyZW50Lm5vZGUuY29tcHV0ZUFic29sdXRlUGF0aCgpO1xuICAgICAgICBjb25zdCBlID0gdGhpcy5pbnN0cnVjdGlvbi50b1VybENvbXBvbmVudChmYWxzZSk7XG4gICAgICAgIHJldHVybiB0Lmxlbmd0aCA+IDAgPyBlLmxlbmd0aCA+IDAgPyBgJHt0fS8ke2V9YCA6IHQgOiBlO1xuICAgIH1cbiAgICBjZSh0KSB7XG4gICAgICAgIHRoaXMuc2UgPSB0O1xuICAgICAgICBmb3IgKGNvbnN0IGUgb2YgdGhpcy5jaGlsZHJlbikge1xuICAgICAgICAgICAgZS5jZSh0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBoZSgpIHtcbiAgICAgICAgdGhpcy5pZSA9IHRydWU7XG4gICAgICAgIGNvbnN0IHQgPSB0aGlzLmNoaWxkcmVuLm1hcCgodCA9PiB0LmhlKCkpKTtcbiAgICAgICAgY29uc3QgZSA9IHRoaXMuaW5zdHJ1Y3Rpb24uWigpO1xuICAgICAgICBlLmNoaWxkcmVuLnNwbGljZSgwLCBlLmNoaWxkcmVuLmxlbmd0aCwgLi4udCk7XG4gICAgICAgIHJldHVybiB0aGlzLmluc3RydWN0aW9uID0gZTtcbiAgICB9XG4gICAgWigpIHtcbiAgICAgICAgY29uc3QgdCA9IG5ldyBSb3V0ZU5vZGUodGhpcy5wYXRoLCB0aGlzLmZpbmFsUGF0aCwgdGhpcy5jb250ZXh0LCB0aGlzLm5lLCB0aGlzLmluc3RydWN0aW9uLCB0aGlzLnBhcmFtcywgdGhpcy5xdWVyeVBhcmFtcywgdGhpcy5mcmFnbWVudCwgdGhpcy5kYXRhLCB0aGlzLnJlLCB0aGlzLnRpdGxlLCB0aGlzLmNvbXBvbmVudCwgWyAuLi50aGlzLnJlc2lkdWUgXSk7XG4gICAgICAgIGNvbnN0IGUgPSB0aGlzLmNoaWxkcmVuO1xuICAgICAgICBjb25zdCBzID0gZS5sZW5ndGg7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgczsgKytpKSB7XG4gICAgICAgICAgICB0LmNoaWxkcmVuLnB1c2goZVtpXS5aKCkpO1xuICAgICAgICB9XG4gICAgICAgIHQub2UgPSB0aGlzLm9lICsgMTtcbiAgICAgICAgaWYgKHQuY29udGV4dC5ub2RlID09PSB0aGlzKSB7XG4gICAgICAgICAgICB0LmNvbnRleHQubm9kZSA9IHQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICBjb25zdCB0ID0gW107XG4gICAgICAgIGNvbnN0IGUgPSB0aGlzLmNvbnRleHQ/LmNvbmZpZy5jb21wb25lbnQ/Lm5hbWUgPz8gXCJcIjtcbiAgICAgICAgaWYgKGUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdC5wdXNoKGBjOicke2V9J2ApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHMgPSB0aGlzLmNvbnRleHQ/LmNvbmZpZy5wYXRoID8/IFwiXCI7XG4gICAgICAgIGlmIChzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHQucHVzaChgcGF0aDonJHtzfSdgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5jaGlsZHJlbi5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0LnB1c2goYGNoaWxkcmVuOlske3RoaXMuY2hpbGRyZW4ubWFwKFN0cmluZykuam9pbihcIixcIil9XWApO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnJlc2lkdWUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdC5wdXNoKGByZXNpZHVlOiR7dGhpcy5yZXNpZHVlLm1hcCgoZnVuY3Rpb24odCkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYCcke3R9J2A7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBTdHJpbmcodCk7XG4gICAgICAgICAgICB9KSkuam9pbihcIixcIil9YCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGBSTihjdHg6JyR7dGhpcy5jb250ZXh0Py5BdH0nLCR7dC5qb2luKFwiLFwiKX0pYDtcbiAgICB9XG59XG5cbmNsYXNzIFJvdXRlVHJlZSB7XG4gICAgY29uc3RydWN0b3IodCwgZSwgcywgaSkge1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSB0O1xuICAgICAgICB0aGlzLnF1ZXJ5UGFyYW1zID0gZTtcbiAgICAgICAgdGhpcy5mcmFnbWVudCA9IHM7XG4gICAgICAgIHRoaXMucm9vdCA9IGk7XG4gICAgfVxuICAgIGNvbnRhaW5zKHQsIGUgPSBmYWxzZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yb290LmNvbnRhaW5zKHQsIGUpO1xuICAgIH1cbiAgICBaKCkge1xuICAgICAgICBjb25zdCB0ID0gbmV3IFJvdXRlVHJlZSh0aGlzLm9wdGlvbnMuWigpLCB0aGlzLnF1ZXJ5UGFyYW1zLCB0aGlzLmZyYWdtZW50LCB0aGlzLnJvb3QuWigpKTtcbiAgICAgICAgdC5yb290LmNlKHRoaXMpO1xuICAgICAgICByZXR1cm4gdDtcbiAgICB9XG4gICAgbGUoKSB7XG4gICAgICAgIHJldHVybiBuZXcgVmlld3BvcnRJbnN0cnVjdGlvblRyZWUodGhpcy5vcHRpb25zLCB0cnVlLCB0aGlzLnJvb3QuY2hpbGRyZW4ubWFwKCh0ID0+IHQuaGUoKSkpLCB0aGlzLnF1ZXJ5UGFyYW1zLCB0aGlzLmZyYWdtZW50KTtcbiAgICB9XG4gICAgZmUodCkge1xuICAgICAgICB0aGlzLnF1ZXJ5UGFyYW1zID0gT2JqZWN0LmZyZWV6ZShtZXJnZVVSTFNlYXJjaFBhcmFtcyh0aGlzLnF1ZXJ5UGFyYW1zLCB0LCB0cnVlKSk7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yb290LnRvU3RyaW5nKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBjcmVhdGVBbmRBcHBlbmROb2Rlcyh0LCBlLCBzKSB7XG4gICAgdC50cmFjZShgY3JlYXRlQW5kQXBwZW5kTm9kZXMobm9kZTolcyx2aTolc2AsIGUsIHMpO1xuICAgIHN3aXRjaCAocy5jb21wb25lbnQudHlwZSkge1xuICAgICAgY2FzZSAwOlxuICAgICAgICBzd2l0Y2ggKHMuY29tcG9uZW50LnZhbHVlKSB7XG4gICAgICAgICAgY2FzZSBcIi4uXCI6XG4gICAgICAgICAgICBlID0gZS5jb250ZXh0LnBhcmVudD8ubm9kZSA/PyBlO1xuICAgICAgICAgICAgZS51ZSgpO1xuXG4gICAgICAgICAgY2FzZSBcIi5cIjpcbiAgICAgICAgICAgIHJldHVybiB1KC4uLnMuY2hpbGRyZW4ubWFwKChzID0+IGNyZWF0ZUFuZEFwcGVuZE5vZGVzKHQsIGUsIHMpKSkpO1xuXG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0LnRyYWNlKGBjcmVhdGVBbmRBcHBlbmROb2RlcyBpbnZva2luZyBjcmVhdGVOb2RlYCk7XG4gICAgICAgICAgICAgICAgY29uc3QgaSA9IGUuY29udGV4dDtcbiAgICAgICAgICAgICAgICBjb25zdCBuID0gcy5aKCk7XG4gICAgICAgICAgICAgICAgbGV0IHIgPSBzLnJlY29nbml6ZWRSb3V0ZTtcbiAgICAgICAgICAgICAgICBpZiAociAhPT0gbnVsbCkgcmV0dXJuIGFwcGVuZE5vZGUodCwgZSwgY3JlYXRlQ29uZmlndXJlZE5vZGUodCwgZSwgcywgciwgbikpO1xuICAgICAgICAgICAgICAgIGlmIChzLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuID0gaS5wZShzKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG4gIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUuc2UuZmUobi5xdWVyeSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpID0gbi52aTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGkuY2hpbGRyZW4ucHVzaCguLi5zLmNoaWxkcmVuKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhcHBlbmROb2RlKHQsIGUsIGNyZWF0ZUNvbmZpZ3VyZWROb2RlKHQsIGUsIGksIGkucmVjb2duaXplZFJvdXRlLCBzKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGV0IG8gPSAwO1xuICAgICAgICAgICAgICAgIGxldCBjID0gcy5jb21wb25lbnQudmFsdWU7XG4gICAgICAgICAgICAgICAgbGV0IHUgPSBzO1xuICAgICAgICAgICAgICAgIHdoaWxlICh1LmNoaWxkcmVuLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICB1ID0gdS5jaGlsZHJlblswXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHUuY29tcG9uZW50LnR5cGUgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICsrbztcbiAgICAgICAgICAgICAgICAgICAgICAgIGMgPSBgJHtjfS8ke3UuY29tcG9uZW50LnZhbHVlfWA7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByID0gaS5yZWNvZ25pemUoYyk7XG4gICAgICAgICAgICAgICAgdC50cmFjZShcImNyZWF0ZU5vZGUgcmVjb2duaXplZCByb3V0ZTogJXNcIiwgcik7XG4gICAgICAgICAgICAgICAgY29uc3QgbCA9IHI/LnJlc2lkdWUgPz8gbnVsbDtcbiAgICAgICAgICAgICAgICB0LnRyYWNlKFwiY3JlYXRlTm9kZSByZXNpZHVlOlwiLCBsKTtcbiAgICAgICAgICAgICAgICBjb25zdCBmID0gbCA9PT0gbnVsbDtcbiAgICAgICAgICAgICAgICBpZiAociA9PT0gbnVsbCB8fCBsID09PSBjKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG4gPSBpLnBlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudDogcy5jb21wb25lbnQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IHMucGFyYW1zID8/IGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBvcGVuOiBzLm9wZW4sXG4gICAgICAgICAgICAgICAgICAgICAgICBjbG9zZTogcy5jbG9zZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpZXdwb3J0OiBzLnZpZXdwb3J0LFxuICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IHMuY2hpbGRyZW5cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLnNlLmZlKG4ucXVlcnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFwcGVuZE5vZGUodCwgZSwgY3JlYXRlQ29uZmlndXJlZE5vZGUodCwgZSwgbi52aSwgbi52aS5yZWNvZ25pemVkUm91dGUsIHMpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCByID0gcy5jb21wb25lbnQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyID09PSBcIlwiKSByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIGxldCBvID0gcy52aWV3cG9ydDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG8gPT09IG51bGwgfHwgby5sZW5ndGggPT09IDApIG8gPSBudDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYyA9IGkuZ2V0RmFsbGJhY2tWaWV3cG9ydEFnZW50KG8pO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB1ID0gYyAhPT0gbnVsbCA/IGMudmlld3BvcnQudHQocywgZSwgaSkgOiBpLmNvbmZpZy50dChzLCBlLCBpKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHUgPT09IG51bGwpIHRocm93IG5ldyBVbmtub3duUm91dGVFcnJvcihnZXRNZXNzYWdlKDM0MDEsIHIsIGkuQXQsIG8sIHIsIGkuY29tcG9uZW50Lm5hbWUpKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB1ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0LnRyYWNlKGBGYWxsYmFjayBpcyBzZXQgdG8gJyR7dX0nLiBMb29raW5nIGZvciBhIHJlY29nbml6ZWQgcm91dGUuYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuID0gaS5jaGlsZFJvdXRlcy5maW5kKCh0ID0+IHQuaWQgPT09IHUpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuICE9PSB2b2lkIDApIHJldHVybiBhcHBlbmROb2RlKHQsIGUsIGNyZWF0ZUZhbGxiYWNrTm9kZSh0LCBuLCBlLCBzKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0LnRyYWNlKGBObyByb3V0ZSBjb25maWd1cmF0aW9uIGZvciB0aGUgZmFsbGJhY2sgJyR7dX0nIGlzIGZvdW5kOyB0cnlpbmcgdG8gcmVjb2duaXplIHRoZSByb3V0ZS5gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHIgPSBpLnJlY29nbml6ZSh1LCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyICE9PSBudWxsICYmIHIucmVzaWR1ZSAhPT0gdSkgcmV0dXJuIGFwcGVuZE5vZGUodCwgZSwgY3JlYXRlQ29uZmlndXJlZE5vZGUodCwgZSwgcywgciwgbnVsbCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHQudHJhY2UoYFRoZSBmYWxsYmFjayAnJHt1fScgaXMgbm90IHJlY29nbml6ZWQgYXMgYSByb3V0ZTsgdHJlYXRpbmcgYXMgY3VzdG9tIGVsZW1lbnQgbmFtZS5gKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGEocmVzb2x2ZVJvdXRlQ29uZmlndXJhdGlvbih1LCBmYWxzZSwgaS5jb25maWcsIG51bGwsIGkpLCAoaSA9PiBhcHBlbmROb2RlKHQsIGUsIGNyZWF0ZUZhbGxiYWNrTm9kZSh0LCBpLCBlLCBzKSkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgci5yZXNpZHVlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBzLmNvbXBvbmVudC52YWx1ZSA9IGYgPyBjIDogYy5zbGljZSgwLCAtKGwubGVuZ3RoICsgMSkpO1xuICAgICAgICAgICAgICAgIGxldCBwID0gIWY7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgdCA9IDA7IHQgPCBvOyArK3QpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdCA9IHMuY2hpbGRyZW5bMF07XG4gICAgICAgICAgICAgICAgICAgIGlmIChsPy5zdGFydHNXaXRoKHQuY29tcG9uZW50LnZhbHVlKSA/PyBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcy52aWV3cG9ydCA9IHQudmlld3BvcnQ7XG4gICAgICAgICAgICAgICAgICAgIHMuY2hpbGRyZW4gPSB0LmNoaWxkcmVuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocCkge1xuICAgICAgICAgICAgICAgICAgICBzLmNoaWxkcmVuLnVuc2hpZnQoVmlld3BvcnRJbnN0cnVjdGlvbi5jcmVhdGUobCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzLnJlY29nbml6ZWRSb3V0ZSA9IHI7XG4gICAgICAgICAgICAgICAgdC50cmFjZShcImNyZWF0ZU5vZGUgYWZ0ZXIgYWRqdXN0bWVudCB2aTolc1wiLCBzKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXBwZW5kTm9kZSh0LCBlLCBjcmVhdGVDb25maWd1cmVkTm9kZSh0LCBlLCBzLCByLCBuKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgY2FzZSAzOlxuICAgICAgY2FzZSA0OlxuICAgICAgY2FzZSAyOlxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBpID0gZS5jb250ZXh0O1xuICAgICAgICAgICAgcmV0dXJuIGEocmVzb2x2ZUN1c3RvbUVsZW1lbnREZWZpbml0aW9uKHMuY29tcG9uZW50LnZhbHVlLCBpKVsxXSwgKG4gPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHt2aTogciwgcXVlcnk6IG99ID0gaS5wZSh7XG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudDogbixcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiBzLnBhcmFtcyA/PyBoLFxuICAgICAgICAgICAgICAgICAgICBvcGVuOiBzLm9wZW4sXG4gICAgICAgICAgICAgICAgICAgIGNsb3NlOiBzLmNsb3NlLFxuICAgICAgICAgICAgICAgICAgICB2aWV3cG9ydDogcy52aWV3cG9ydCxcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IHMuY2hpbGRyZW5cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBlLnNlLmZlKG8pO1xuICAgICAgICAgICAgICAgIHJldHVybiBhcHBlbmROb2RlKHQsIGUsIGNyZWF0ZUNvbmZpZ3VyZWROb2RlKHQsIGUsIHIsIHIucmVjb2duaXplZFJvdXRlLCBzKSk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUNvbmZpZ3VyZWROb2RlKHQsIGUsIHMsIGksIG4sIHIgPSBpLnJvdXRlLmVuZHBvaW50LnJvdXRlKSB7XG4gICAgY29uc3QgbyA9IGUuY29udGV4dDtcbiAgICBjb25zdCBjID0gZS5zZTtcbiAgICByZXR1cm4gYShyLmhhbmRsZXIsICh1ID0+IHtcbiAgICAgICAgci5oYW5kbGVyID0gdTtcbiAgICAgICAgdC50cmFjZShgY3JlYXRpbmdDb25maWd1cmVkTm9kZShyZGM6JXMsIHZpOiVzKWAsIHUsIHMpO1xuICAgICAgICBpZiAodS5yZWRpcmVjdFRvID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCBoID0gKHMudmlld3BvcnQ/Lmxlbmd0aCA/PyAwKSA+IDA7XG4gICAgICAgICAgICBjb25zdCBsID0gaCA/IHMudmlld3BvcnQgOiB1LnZpZXdwb3J0O1xuICAgICAgICAgICAgcmV0dXJuIGEocmVzb2x2ZUN1c3RvbUVsZW1lbnREZWZpbml0aW9uKHUuY29tcG9uZW50LCBvKVsxXSwgKGYgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHAgPSBvLmdlKG5ldyBWaWV3cG9ydFJlcXVlc3QobCwgZi5uYW1lKSk7XG4gICAgICAgICAgICAgICAgaWYgKCFoKSB7XG4gICAgICAgICAgICAgICAgICAgIHMudmlld3BvcnQgPSBwLnZpZXdwb3J0Lm5hbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGcgPSBvLmNvbnRhaW5lci5nZXQodHQpO1xuICAgICAgICAgICAgICAgIHJldHVybiBhKGcuZ2V0Um91dGVDb250ZXh0KHAsIGYsIG51bGwsIHAuaG9zdENvbnRyb2xsZXIuY29udGFpbmVyLCBvLmNvbmZpZywgbywgdSksIChvID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdC50cmFjZShcImNyZWF0ZUNvbmZpZ3VyZWROb2RlIHNldHRpbmcgdGhlIGNvbnRleHQgbm9kZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYSA9IG8ubm9kZSA9IFJvdXRlTm9kZS5jcmVhdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogaS5yb3V0ZS5lbmRwb2ludC5yb3V0ZS5wYXRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxQYXRoOiByLnBhdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0OiBvLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdHJ1Y3Rpb246IHMsXG4gICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEluc3RydWN0aW9uOiBuLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiBpLnJvdXRlLnBhcmFtcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5UGFyYW1zOiBjLnF1ZXJ5UGFyYW1zLFxuICAgICAgICAgICAgICAgICAgICAgICAgZnJhZ21lbnQ6IGMuZnJhZ21lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB1LmRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICByZTogbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudDogZixcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiB1LnRpdGxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzaWR1ZTogcy5jaGlsZHJlbi5zbGljZSgpXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBhLmNlKGUuc2UpO1xuICAgICAgICAgICAgICAgICAgICB0LnRyYWNlKGBjcmVhdGVDb25maWd1cmVkTm9kZSh2aTolcykgLT4gJXNgLCBzLCBhKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGE7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGggPSBSb3V0ZUV4cHJlc3Npb24ucGFyc2UoZXQucGFyc2Uoci5wYXRoKSk7XG4gICAgICAgIGNvbnN0IGwgPSBSb3V0ZUV4cHJlc3Npb24ucGFyc2UoZXQucGFyc2UodS5yZWRpcmVjdFRvKSk7XG4gICAgICAgIGxldCBmO1xuICAgICAgICBsZXQgcDtcbiAgICAgICAgY29uc3QgZyA9IFtdO1xuICAgICAgICBzd2l0Y2ggKGgucm9vdC5raW5kKSB7XG4gICAgICAgICAgY2FzZSBcIlNjb3BlZFNlZ21lbnRcIjpcbiAgICAgICAgICBjYXNlIFwiU2VnbWVudFwiOlxuICAgICAgICAgICAgZiA9IGgucm9vdDtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihnZXRNZXNzYWdlKDM1MDIsIGgucm9vdC5raW5kKSk7XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoIChsLnJvb3Qua2luZCkge1xuICAgICAgICAgIGNhc2UgXCJTY29wZWRTZWdtZW50XCI6XG4gICAgICAgICAgY2FzZSBcIlNlZ21lbnRcIjpcbiAgICAgICAgICAgIHAgPSBsLnJvb3Q7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZ2V0TWVzc2FnZSgzNTAyLCBsLnJvb3Qua2luZCkpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBkO1xuICAgICAgICBsZXQgdztcbiAgICAgICAgbGV0IG0gPSBmYWxzZTtcbiAgICAgICAgbGV0IHYgPSBmYWxzZTtcbiAgICAgICAgd2hpbGUgKCEobSAmJiB2KSkge1xuICAgICAgICAgICAgaWYgKG0pIHtcbiAgICAgICAgICAgICAgICBkID0gbnVsbDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZi5raW5kID09PSBcIlNlZ21lbnRcIikge1xuICAgICAgICAgICAgICAgIGQgPSBmO1xuICAgICAgICAgICAgICAgIG0gPSB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChmLmxlZnQua2luZCA9PT0gXCJTZWdtZW50XCIpIHtcbiAgICAgICAgICAgICAgICBkID0gZi5sZWZ0O1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoZi5yaWdodC5raW5kKSB7XG4gICAgICAgICAgICAgICAgICBjYXNlIFwiU2NvcGVkU2VnbWVudFwiOlxuICAgICAgICAgICAgICAgICAgY2FzZSBcIlNlZ21lbnRcIjpcbiAgICAgICAgICAgICAgICAgICAgZiA9IGYucmlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZ2V0TWVzc2FnZSgzNTAyLCBmLnJpZ2h0LmtpbmQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihnZXRNZXNzYWdlKDM1MDIsIGYubGVmdC5raW5kKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodikge1xuICAgICAgICAgICAgICAgIHcgPSBudWxsO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChwLmtpbmQgPT09IFwiU2VnbWVudFwiKSB7XG4gICAgICAgICAgICAgICAgdyA9IHA7XG4gICAgICAgICAgICAgICAgdiA9IHRydWU7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHAubGVmdC5raW5kID09PSBcIlNlZ21lbnRcIikge1xuICAgICAgICAgICAgICAgIHcgPSBwLmxlZnQ7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChwLnJpZ2h0LmtpbmQpIHtcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJTY29wZWRTZWdtZW50XCI6XG4gICAgICAgICAgICAgICAgICBjYXNlIFwiU2VnbWVudFwiOlxuICAgICAgICAgICAgICAgICAgICBwID0gcC5yaWdodDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihnZXRNZXNzYWdlKDM1MDIsIHAucmlnaHQua2luZCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGdldE1lc3NhZ2UoMzUwMiwgcC5sZWZ0LmtpbmQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh3ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKHcuY29tcG9uZW50LmlzRHluYW1pYyAmJiAoZD8uY29tcG9uZW50LmlzRHluYW1pYyA/PyBmYWxzZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZy5wdXNoKGkucm91dGUucGFyYW1zW3cuY29tcG9uZW50LnBhcmFtZXRlck5hbWVdKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBnLnB1c2gody5jb21wb25lbnQubmFtZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IEUgPSBnLmZpbHRlcihCb29sZWFuKS5qb2luKFwiL1wiKTtcbiAgICAgICAgY29uc3QgUiA9IG8ucmVjb2duaXplKEUpO1xuICAgICAgICBpZiAoUiA9PT0gbnVsbCkgdGhyb3cgbmV3IFVua25vd25Sb3V0ZUVycm9yKGdldE1lc3NhZ2UoMzQwMiwgRSwgby5BdCwgRSwgby5jb21wb25lbnQubmFtZSkpO1xuICAgICAgICByZXR1cm4gY3JlYXRlQ29uZmlndXJlZE5vZGUodCwgZSwgVmlld3BvcnRJbnN0cnVjdGlvbi5jcmVhdGUoe1xuICAgICAgICAgICAgcmVjb2duaXplZFJvdXRlOiBSLFxuICAgICAgICAgICAgY29tcG9uZW50OiBFLFxuICAgICAgICAgICAgY2hpbGRyZW46IHMuY2hpbGRyZW4sXG4gICAgICAgICAgICB2aWV3cG9ydDogcy52aWV3cG9ydCxcbiAgICAgICAgICAgIG9wZW46IHMub3BlbixcbiAgICAgICAgICAgIGNsb3NlOiBzLmNsb3NlXG4gICAgICAgIH0pLCBSLCBuKTtcbiAgICB9KSk7XG59XG5cbmZ1bmN0aW9uIGFwcGVuZE5vZGUodCwgZSwgcykge1xuICAgIHJldHVybiBhKHMsIChzID0+IHtcbiAgICAgICAgdC50cmFjZShgYXBwZW5kTm9kZSgkY2hpbGROb2RlOiVzKWAsIHMpO1xuICAgICAgICBlLmFlKHMpO1xuICAgICAgICByZXR1cm4gcy5jb250ZXh0LnZwYS5ZdChlLnNlLm9wdGlvbnMsIHMpO1xuICAgIH0pKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlRmFsbGJhY2tOb2RlKHQsIGUsIHMsIGkpIHtcbiAgICBjb25zdCBuID0gbmV3ICRSZWNvZ25pemVkUm91dGUobmV3IE8obmV3IE0obmV3IGooZS5wYXRoWzBdLCBlLmNhc2VTZW5zaXRpdmUsIGUpLCBbXSksIGgpLCBudWxsKTtcbiAgICBpLmNoaWxkcmVuLmxlbmd0aCA9IDA7XG4gICAgcmV0dXJuIGNyZWF0ZUNvbmZpZ3VyZWROb2RlKHQsIHMsIGksIG4sIG51bGwpO1xufVxuXG5jb25zdCBaID0gT2JqZWN0LmZyZWV6ZShuZXcgVVJMU2VhcmNoUGFyYW1zKTtcblxuZnVuY3Rpb24gaXNNYW5hZ2VkU3RhdGUodCkge1xuICAgIHJldHVybiBlKHQpICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LCBIKSA9PT0gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gdG9NYW5hZ2VkU3RhdGUodCwgZSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIC4uLnQsXG4gICAgICAgIFtIXTogZVxuICAgIH07XG59XG5cbmNsYXNzIFVua25vd25Sb3V0ZUVycm9yIGV4dGVuZHMgRXJyb3Ige31cblxuY2xhc3MgVHJhbnNpdGlvbiB7XG4gICAgZ2V0IGVycmVkV2l0aFVua25vd25Sb3V0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGU7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKHQsIGUsIHMsIGksIG4sIHIsIG8sIGEsIGMsIHUsIGgsIGwsIGYsIHAsIGcpIHtcbiAgICAgICAgdGhpcy5pZCA9IHQ7XG4gICAgICAgIHRoaXMucHJldkluc3RydWN0aW9ucyA9IGU7XG4gICAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zID0gcztcbiAgICAgICAgdGhpcy5maW5hbEluc3RydWN0aW9ucyA9IGk7XG4gICAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zQ2hhbmdlZCA9IG47XG4gICAgICAgIHRoaXMudHJpZ2dlciA9IHI7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG87XG4gICAgICAgIHRoaXMubWFuYWdlZFN0YXRlID0gYTtcbiAgICAgICAgdGhpcy5wcmV2aW91c1JvdXRlVHJlZSA9IGM7XG4gICAgICAgIHRoaXMucm91dGVUcmVlID0gdTtcbiAgICAgICAgdGhpcy5wcm9taXNlID0gaDtcbiAgICAgICAgdGhpcy5yZXNvbHZlID0gbDtcbiAgICAgICAgdGhpcy5yZWplY3QgPSBmO1xuICAgICAgICB0aGlzLmd1YXJkc1Jlc3VsdCA9IHA7XG4gICAgICAgIHRoaXMuZXJyb3IgPSBnO1xuICAgICAgICB0aGlzLmRlID0gZmFsc2U7XG4gICAgfVxuICAgIHN0YXRpYyBKKHQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUcmFuc2l0aW9uKHQuaWQsIHQucHJldkluc3RydWN0aW9ucywgdC5pbnN0cnVjdGlvbnMsIHQuZmluYWxJbnN0cnVjdGlvbnMsIHQuaW5zdHJ1Y3Rpb25zQ2hhbmdlZCwgdC50cmlnZ2VyLCB0Lm9wdGlvbnMsIHQubWFuYWdlZFN0YXRlLCB0LnByZXZpb3VzUm91dGVUcmVlLCB0LnJvdXRlVHJlZSwgdC5wcm9taXNlLCB0LnJlc29sdmUsIHQucmVqZWN0LCB0Lmd1YXJkc1Jlc3VsdCwgdm9pZCAwKTtcbiAgICB9XG4gICAgUXQodCwgZSkge1xuICAgICAgICBpZiAodGhpcy5ndWFyZHNSZXN1bHQgIT09IHRydWUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcyA9IHQoKTtcbiAgICAgICAgICAgIGlmIChzIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgIHMudGhlbihlKS5jYXRjaCgodCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuRHQodCk7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBlKHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoICh0KSB7XG4gICAgICAgICAgICB0aGlzLkR0KHQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIER0KHQpIHtcbiAgICAgICAgdGhpcy5kZSA9IHQgaW5zdGFuY2VvZiBVbmtub3duUm91dGVFcnJvcjtcbiAgICAgICAgdGhpcy5yZWplY3QodGhpcy5lcnJvciA9IHQpO1xuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIGBUKGlkOiR7dGhpcy5pZH0sdHJpZ2dlcjonJHt0aGlzLnRyaWdnZXJ9JyxpbnN0cnVjdGlvbnM6JHt0aGlzLmluc3RydWN0aW9uc30pYDtcbiAgICB9XG59XG5cbmNvbnN0IHR0ID0gLypAX19QVVJFX18qLyBzLmNyZWF0ZUludGVyZmFjZShcIklSb3V0ZXJcIiwgKHQgPT4gdC5zaW5nbGV0b24oUm91dGVyKSkpO1xuXG5jbGFzcyBSb3V0ZXIge1xuICAgIGdldCB3ZSgpIHtcbiAgICAgICAgY29uc3QgdCA9IHRoaXMubWU7XG4gICAgICAgIGlmICh0ICE9PSBudWxsKSByZXR1cm4gdDtcbiAgICAgICAgaWYgKCF0aGlzLmMuaGFzKHJ0LCB0cnVlKSkgdGhyb3cgbmV3IEVycm9yKGdldE1lc3NhZ2UoMzI3MSkpO1xuICAgICAgICByZXR1cm4gdGhpcy5tZSA9IHRoaXMuYy5nZXQocnQpO1xuICAgIH1cbiAgICBnZXQgcm91dGVUcmVlKCkge1xuICAgICAgICBsZXQgdCA9IHRoaXMudmU7XG4gICAgICAgIGlmICh0ID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCBlID0gdGhpcy53ZTtcbiAgICAgICAgICAgIHQgPSB0aGlzLnZlID0gbmV3IFJvdXRlVHJlZShOYXZpZ2F0aW9uT3B0aW9ucy5jcmVhdGUodGhpcy5vcHRpb25zLCB7fSksIFosIG51bGwsIFJvdXRlTm9kZS5jcmVhdGUoe1xuICAgICAgICAgICAgICAgIHBhdGg6IFwiXCIsXG4gICAgICAgICAgICAgICAgZmluYWxQYXRoOiBcIlwiLFxuICAgICAgICAgICAgICAgIGNvbnRleHQ6IGUsXG4gICAgICAgICAgICAgICAgaW5zdHJ1Y3Rpb246IG51bGwsXG4gICAgICAgICAgICAgICAgY29tcG9uZW50OiBiLmdldERlZmluaXRpb24oZS5jb25maWcuY29tcG9uZW50KSxcbiAgICAgICAgICAgICAgICB0aXRsZTogZS5jb25maWcudGl0bGVcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9XG4gICAgZ2V0IGN1cnJlbnRUcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuRWUgPz89IFRyYW5zaXRpb24uSih7XG4gICAgICAgICAgICBpZDogMCxcbiAgICAgICAgICAgIHByZXZJbnN0cnVjdGlvbnM6IHRoaXMuUmUsXG4gICAgICAgICAgICBpbnN0cnVjdGlvbnM6IHRoaXMuUmUsXG4gICAgICAgICAgICBmaW5hbEluc3RydWN0aW9uczogdGhpcy5SZSxcbiAgICAgICAgICAgIGluc3RydWN0aW9uc0NoYW5nZWQ6IHRydWUsXG4gICAgICAgICAgICB0cmlnZ2VyOiBcImFwaVwiLFxuICAgICAgICAgICAgb3B0aW9uczogTmF2aWdhdGlvbk9wdGlvbnMuY3JlYXRlKHRoaXMub3B0aW9ucywge30pLFxuICAgICAgICAgICAgbWFuYWdlZFN0YXRlOiBudWxsLFxuICAgICAgICAgICAgcHJldmlvdXNSb3V0ZVRyZWU6IHRoaXMucm91dGVUcmVlLlooKSxcbiAgICAgICAgICAgIHJvdXRlVHJlZTogdGhpcy5yb3V0ZVRyZWUsXG4gICAgICAgICAgICByZXNvbHZlOiBudWxsLFxuICAgICAgICAgICAgcmVqZWN0OiBudWxsLFxuICAgICAgICAgICAgcHJvbWlzZTogbnVsbCxcbiAgICAgICAgICAgIGd1YXJkc1Jlc3VsdDogdHJ1ZSxcbiAgICAgICAgICAgIGVycm9yOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHNldCBjdXJyZW50VHIodCkge1xuICAgICAgICB0aGlzLkVlID0gdDtcbiAgICB9XG4gICAgZ2V0IGlzTmF2aWdhdGluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMueWU7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLm1lID0gbnVsbDtcbiAgICAgICAgdGhpcy52ZSA9IG51bGw7XG4gICAgICAgIHRoaXMuRWUgPSBudWxsO1xuICAgICAgICB0aGlzLmJlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuU2UgPSAwO1xuICAgICAgICB0aGlzLkNlID0gbnVsbDtcbiAgICAgICAgdGhpcy54ZSA9IG51bGw7XG4gICAgICAgIHRoaXMuTmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy55ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmMgPSBpKGwpO1xuICAgICAgICB0aGlzLmtlID0gaShDKTtcbiAgICAgICAgdGhpcy5MID0gaShyKS5yb290LnNjb3BlVG8oXCJSb3V0ZXJcIik7XG4gICAgICAgIHRoaXMuSSA9IGkoRCk7XG4gICAgICAgIHRoaXMuJGUgPSBpKEYpO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBpKGl0KTtcbiAgICAgICAgdGhpcy5fZSA9IG5ldyBNYXA7XG4gICAgICAgIHRoaXMuUmUgPSBWaWV3cG9ydEluc3RydWN0aW9uVHJlZS5jcmVhdGUoXCJcIiwgdGhpcy5vcHRpb25zKTtcbiAgICAgICAgdGhpcy5jLnJlZ2lzdGVyUmVzb2x2ZXIoUm91dGVyLCBmLmluc3RhbmNlKFJvdXRlciwgdGhpcykpO1xuICAgIH1cbiAgICBUZSh0KSB7XG4gICAgICAgIHJldHVybiBSb3V0ZUNvbnRleHQucmVzb2x2ZSh0aGlzLndlLCB0KTtcbiAgICB9XG4gICAgc3RhcnQodCkge1xuICAgICAgICB0aGlzLk5lID0gdHlwZW9mIHRoaXMub3B0aW9ucy5idWlsZFRpdGxlID09PSBcImZ1bmN0aW9uXCI7XG4gICAgICAgIHRoaXMuJGUuc3RhcnRMaXN0ZW5pbmcoKTtcbiAgICAgICAgdGhpcy54ZSA9IHRoaXMuSS5zdWJzY3JpYmUoXCJhdTpyb3V0ZXI6bG9jYXRpb24tY2hhbmdlXCIsICh0ID0+IHtcbiAgICAgICAgICAgIHRoaXMua2UudGFza1F1ZXVlLnF1ZXVlVGFzaygoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGUgPSBpc01hbmFnZWRTdGF0ZSh0LnN0YXRlKSA/IHQuc3RhdGUgOiBudWxsO1xuICAgICAgICAgICAgICAgIGNvbnN0IHMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgICAgICAgICAgY29uc3QgaSA9IE5hdmlnYXRpb25PcHRpb25zLmNyZWF0ZShzLCB7XG4gICAgICAgICAgICAgICAgICAgIGhpc3RvcnlTdHJhdGVneTogXCJyZXBsYWNlXCJcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCBuID0gVmlld3BvcnRJbnN0cnVjdGlvblRyZWUuY3JlYXRlKHQudXJsLCBzLCBpLCB0aGlzLndlKTtcbiAgICAgICAgICAgICAgICB0aGlzLkllKG4sIHQudHJpZ2dlciwgZSwgbnVsbCk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0pKTtcbiAgICAgICAgaWYgKCF0aGlzLmJlICYmIHQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxvYWQodGhpcy4kZS5nZXRQYXRoKCksIHtcbiAgICAgICAgICAgICAgICBoaXN0b3J5U3RyYXRlZ3k6IHRoaXMub3B0aW9ucy5oaXN0b3J5U3RyYXRlZ3kgIT09IFwibm9uZVwiID8gXCJyZXBsYWNlXCIgOiBcIm5vbmVcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RvcCgpIHtcbiAgICAgICAgdGhpcy4kZS5zdG9wTGlzdGVuaW5nKCk7XG4gICAgICAgIHRoaXMueGU/LmRpc3Bvc2UoKTtcbiAgICB9XG4gICAgbG9hZCh0LCBlKSB7XG4gICAgICAgIGNvbnN0IHMgPSB0aGlzLmNyZWF0ZVZpZXdwb3J0SW5zdHJ1Y3Rpb25zKHQsIGUpO1xuICAgICAgICByZXR1cm4gdGhpcy5JZShzLCBcImFwaVwiLCBudWxsLCBudWxsKTtcbiAgICB9XG4gICAgaXNBY3RpdmUodCwgZSkge1xuICAgICAgICBjb25zdCBzID0gdGhpcy5UZShlKTtcbiAgICAgICAgY29uc3QgaSA9IHQgaW5zdGFuY2VvZiBWaWV3cG9ydEluc3RydWN0aW9uVHJlZSA/IHQgOiB0aGlzLmNyZWF0ZVZpZXdwb3J0SW5zdHJ1Y3Rpb25zKHQsIHtcbiAgICAgICAgICAgIGNvbnRleHQ6IHMsXG4gICAgICAgICAgICBoaXN0b3J5U3RyYXRlZ3k6IHRoaXMub3B0aW9ucy5oaXN0b3J5U3RyYXRlZ3lcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzLnJvdXRlVHJlZS5jb250YWlucyhpLCBmYWxzZSk7XG4gICAgfVxuICAgIGdldFJvdXRlQ29udGV4dCh0LCBlLCBzLCBpLCBuLCByLCBvKSB7XG4gICAgICAgIHJldHVybiBhKG8gaW5zdGFuY2VvZiBSb3V0ZUNvbmZpZyA/IG8gOiByZXNvbHZlUm91dGVDb25maWd1cmF0aW9uKHR5cGVvZiBzPy5nZXRSb3V0ZUNvbmZpZyA9PT0gXCJmdW5jdGlvblwiID8gcyA6IGUuVHlwZSwgZmFsc2UsIG4sIG51bGwsIHIpLCAocyA9PiB7XG4gICAgICAgICAgICBsZXQgbiA9IHRoaXMuX2UuZ2V0KHQpO1xuICAgICAgICAgICAgaWYgKG4gPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Uuc2V0KHQsIG4gPSBuZXcgV2Vha01hcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgciA9IG4uZ2V0KHMpO1xuICAgICAgICAgICAgaWYgKHIgIT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiByO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbyA9IGkuaGFzKHJ0LCB0cnVlKSA/IGkuZ2V0KHJ0KSA6IG51bGw7XG4gICAgICAgICAgICBuLnNldChzLCByID0gbmV3IFJvdXRlQ29udGV4dCh0LCBvLCBlLCBzLCBpLCB0aGlzKSk7XG4gICAgICAgICAgICByZXR1cm4gcjtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBjcmVhdGVWaWV3cG9ydEluc3RydWN0aW9ucyh0LCBlKSB7XG4gICAgICAgIGlmICh0IGluc3RhbmNlb2YgVmlld3BvcnRJbnN0cnVjdGlvblRyZWUpIHJldHVybiB0O1xuICAgICAgICBsZXQgcyA9IGU/LmNvbnRleHQgPz8gbnVsbDtcbiAgICAgICAgaWYgKHR5cGVvZiB0ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICB0ID0gdGhpcy4kZS5yZW1vdmVCYXNlSHJlZih0KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpID0gaXNQYXJ0aWFsVmlld3BvcnRJbnN0cnVjdGlvbih0KTtcbiAgICAgICAgbGV0IG4gPSBpID8gdC5jb21wb25lbnQgOiB0O1xuICAgICAgICBpZiAodHlwZW9mIG4gPT09IFwic3RyaW5nXCIgJiYgbi5zdGFydHNXaXRoKFwiLi4vXCIpICYmIHMgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHMgPSB0aGlzLlRlKHMpO1xuICAgICAgICAgICAgd2hpbGUgKG4uc3RhcnRzV2l0aChcIi4uL1wiKSAmJiAocz8ucGFyZW50ID8/IG51bGwpICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgbiA9IG4uc2xpY2UoMyk7XG4gICAgICAgICAgICAgICAgcyA9IHMucGFyZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChpKSB7XG4gICAgICAgICAgICB0LmNvbXBvbmVudCA9IG47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0ID0gbjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByID0gdGhpcy5vcHRpb25zO1xuICAgICAgICByZXR1cm4gVmlld3BvcnRJbnN0cnVjdGlvblRyZWUuY3JlYXRlKHQsIHIsIE5hdmlnYXRpb25PcHRpb25zLmNyZWF0ZShyLCB7XG4gICAgICAgICAgICAuLi5lLFxuICAgICAgICAgICAgY29udGV4dDogc1xuICAgICAgICB9KSwgdGhpcy53ZSk7XG4gICAgfVxuICAgIEllKHQsIGUsIHMsIGkpIHtcbiAgICAgICAgY29uc3QgbiA9IHRoaXMuY3VycmVudFRyO1xuICAgICAgICBjb25zdCByID0gdGhpcy5MO1xuICAgICAgICBpZiAoZSAhPT0gXCJhcGlcIiAmJiBuLnRyaWdnZXIgPT09IFwiYXBpXCIgJiYgbi5pbnN0cnVjdGlvbnMuZXF1YWxzKHQpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbyA9IHZvaWQgMDtcbiAgICAgICAgbGV0IGEgPSB2b2lkIDA7XG4gICAgICAgIGxldCBjO1xuICAgICAgICBjb25zdCB1ID0gdGhpcy5vcHRpb25zLnJlc3RvcmVQcmV2aW91c1JvdXRlVHJlZU9uRXJyb3I7XG4gICAgICAgIGlmIChpID09PSBudWxsIHx8IGkuZXJyZWRXaXRoVW5rbm93blJvdXRlIHx8IGkuZXJyb3IgIT0gbnVsbCAmJiB1KSB7XG4gICAgICAgICAgICBjID0gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHQsIGUpIHtcbiAgICAgICAgICAgICAgICBvID0gdDtcbiAgICAgICAgICAgICAgICBhID0gZTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGMgPSBpLnByb21pc2U7XG4gICAgICAgICAgICBvID0gaS5yZXNvbHZlO1xuICAgICAgICAgICAgYSA9IGkucmVqZWN0O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGggPSB0aGlzLkNlID0gVHJhbnNpdGlvbi5KKHtcbiAgICAgICAgICAgIGlkOiArK3RoaXMuU2UsXG4gICAgICAgICAgICB0cmlnZ2VyOiBlLFxuICAgICAgICAgICAgbWFuYWdlZFN0YXRlOiBzLFxuICAgICAgICAgICAgcHJldkluc3RydWN0aW9uczogbi5maW5hbEluc3RydWN0aW9ucyxcbiAgICAgICAgICAgIGZpbmFsSW5zdHJ1Y3Rpb25zOiB0LFxuICAgICAgICAgICAgaW5zdHJ1Y3Rpb25zQ2hhbmdlZDogIW4uZmluYWxJbnN0cnVjdGlvbnMuZXF1YWxzKHQpLFxuICAgICAgICAgICAgaW5zdHJ1Y3Rpb25zOiB0LFxuICAgICAgICAgICAgb3B0aW9uczogdC5vcHRpb25zLFxuICAgICAgICAgICAgcHJvbWlzZTogYyxcbiAgICAgICAgICAgIHJlc29sdmU6IG8sXG4gICAgICAgICAgICByZWplY3Q6IGEsXG4gICAgICAgICAgICBwcmV2aW91c1JvdXRlVHJlZTogdGhpcy5yb3V0ZVRyZWUsXG4gICAgICAgICAgICByb3V0ZVRyZWU6IHRoaXMudmUgPSB0aGlzLnJvdXRlVHJlZS5aKCksXG4gICAgICAgICAgICBndWFyZHNSZXN1bHQ6IHRydWUsXG4gICAgICAgICAgICBlcnJvcjogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXRoaXMueWUpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdGhpcy5RdChoKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKHQpIHtcbiAgICAgICAgICAgICAgICBoLkR0KHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoLnByb21pc2UudGhlbigodCA9PiB0KSkuY2F0Y2goKHQgPT4ge1xuICAgICAgICAgICAgZXJyb3IociwgMzI3MCwgaCwgdCk7XG4gICAgICAgICAgICBpZiAoaC5lcnJlZFdpdGhVbmtub3duUm91dGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLlBlKGgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnllID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5JLnB1Ymxpc2gobmV3IE5hdmlnYXRpb25FcnJvckV2ZW50KGguaWQsIGguaW5zdHJ1Y3Rpb25zLCB0KSk7XG4gICAgICAgICAgICAgICAgaWYgKHUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5QZShoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ID0gdGhpcy5DZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHQucHJldmlvdXNSb3V0ZVRyZWUgPSBoLnByZXZpb3VzUm91dGVUcmVlO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy52ZSA9IGgucHJldmlvdXNSb3V0ZVRyZWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyB0O1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIFF0KHQpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50VHIgPSB0O1xuICAgICAgICB0aGlzLkNlID0gbnVsbDtcbiAgICAgICAgdGhpcy55ZSA9IHRydWU7XG4gICAgICAgIGxldCBlID0gdGhpcy5UZSh0Lm9wdGlvbnMuY29udGV4dCk7XG4gICAgICAgIHRoaXMuSS5wdWJsaXNoKG5ldyBOYXZpZ2F0aW9uU3RhcnRFdmVudCh0LmlkLCB0Lmluc3RydWN0aW9ucywgdC50cmlnZ2VyLCB0Lm1hbmFnZWRTdGF0ZSkpO1xuICAgICAgICBpZiAodGhpcy5DZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuUXQodGhpcy5DZSk7XG4gICAgICAgIH1cbiAgICAgICAgdC5RdCgoKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcyA9IHQuZmluYWxJbnN0cnVjdGlvbnM7XG4gICAgICAgICAgICBjb25zdCBpID0gdGhpcy53ZTtcbiAgICAgICAgICAgIGNvbnN0IG4gPSB0LnJvdXRlVHJlZTtcbiAgICAgICAgICAgIG4ub3B0aW9ucyA9IHMub3B0aW9ucztcbiAgICAgICAgICAgIG4ucXVlcnlQYXJhbXMgPSBpLm5vZGUuc2UucXVlcnlQYXJhbXMgPSBzLnF1ZXJ5UGFyYW1zO1xuICAgICAgICAgICAgbi5mcmFnbWVudCA9IGkubm9kZS5zZS5mcmFnbWVudCA9IHMuZnJhZ21lbnQ7XG4gICAgICAgICAgICBjb25zdCBvID0gLypAX19QVVJFX18qLyBlLmNvbnRhaW5lci5nZXQocikuc2NvcGVUbyhcIlJvdXRlVHJlZVwiKTtcbiAgICAgICAgICAgIGlmIChzLmlzQWJzb2x1dGUpIHtcbiAgICAgICAgICAgICAgICBlID0gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChlID09PSBpKSB7XG4gICAgICAgICAgICAgICAgbi5yb290LmNlKG4pO1xuICAgICAgICAgICAgICAgIGkubm9kZSA9IG4ucm9vdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGMgPSBlLmFsbFJlc29sdmVkIGluc3RhbmNlb2YgUHJvbWlzZSA/IFwiIC0gYXdhaXRpbmcgcHJvbWlzZVwiIDogXCJcIjtcbiAgICAgICAgICAgIG8udHJhY2UoYHVwZGF0ZVJvdXRlVHJlZShyb290Q3R4OiVzLHJ0OiVzLHZpdDolcykke2N9YCwgaSwgbiwgcyk7XG4gICAgICAgICAgICByZXR1cm4gYShlLmFsbFJlc29sdmVkLCAoKCkgPT4gdXBkYXRlTm9kZShvLCBzLCBlLCBpLm5vZGUpKSk7XG4gICAgICAgIH0pLCAoKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZSA9IHQucHJldmlvdXNSb3V0ZVRyZWUucm9vdC5jaGlsZHJlbjtcbiAgICAgICAgICAgIGNvbnN0IHMgPSB0LnJvdXRlVHJlZS5yb290LmNoaWxkcmVuO1xuICAgICAgICAgICAgY29uc3QgaSA9IG1lcmdlRGlzdGluY3QoZSwgcyk7XG4gICAgICAgICAgICBCYXRjaC5DKChzID0+IHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGkgb2YgZSkge1xuICAgICAgICAgICAgICAgICAgICBpLmNvbnRleHQudnBhLkh0KHQsIHMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pKS5UKChlID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodC5ndWFyZHNSZXN1bHQgIT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgZS5OKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuUGUodCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkpLlQoKGUgPT4ge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgaSBvZiBzKSB7XG4gICAgICAgICAgICAgICAgICAgIGkuY29udGV4dC52cGEucXQodCwgZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkpLlQoKGUgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0Lmd1YXJkc1Jlc3VsdCAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBlLk4oKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5QZSh0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSkuVCgocyA9PiB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBpIG9mIGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaS5jb250ZXh0LnZwYS5HdCh0LCBzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSkuVCgoZSA9PiB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBpIG9mIHMpIHtcbiAgICAgICAgICAgICAgICAgICAgaS5jb250ZXh0LnZwYS5XdCh0LCBlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSkuVCgoZSA9PiB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBzIG9mIGkpIHtcbiAgICAgICAgICAgICAgICAgICAgcy5jb250ZXh0LnZwYS5YdCh0LCBlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSkuVCgoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGkuZm9yRWFjaCgoZnVuY3Rpb24odCkge1xuICAgICAgICAgICAgICAgICAgICB0LmNvbnRleHQudnBhLmVlKCk7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIHRoaXMuYmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuUmUgPSB0LmZpbmFsSW5zdHJ1Y3Rpb25zID0gdC5yb3V0ZVRyZWUubGUoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnllID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgY29uc3QgZSA9IHQuZmluYWxJbnN0cnVjdGlvbnMudG9VcmwodHJ1ZSwgdGhpcy5vcHRpb25zLlZlKTtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHQub3B0aW9ucy5BZSh0aGlzLlJlKSkge1xuICAgICAgICAgICAgICAgICAgY2FzZSBcIm5vbmVcIjpcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJwdXNoXCI6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJGUucHVzaFN0YXRlKHRvTWFuYWdlZFN0YXRlKHQub3B0aW9ucy5zdGF0ZSwgdC5pZCksIHRoaXMudXBkYXRlVGl0bGUodCksIGUpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgY2FzZSBcInJlcGxhY2VcIjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kZS5yZXBsYWNlU3RhdGUodG9NYW5hZ2VkU3RhdGUodC5vcHRpb25zLnN0YXRlLCB0LmlkKSwgdGhpcy51cGRhdGVUaXRsZSh0KSwgZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLkkucHVibGlzaChuZXcgTmF2aWdhdGlvbkVuZEV2ZW50KHQuaWQsIHQuaW5zdHJ1Y3Rpb25zLCB0aGlzLlJlKSk7XG4gICAgICAgICAgICAgICAgdC5yZXNvbHZlKHRydWUpO1xuICAgICAgICAgICAgICAgIHRoaXMuT2UoKTtcbiAgICAgICAgICAgIH0pKS5DKCk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgdXBkYXRlVGl0bGUodCA9IHRoaXMuY3VycmVudFRyKSB7XG4gICAgICAgIGNvbnN0IGUgPSB0aGlzLk1lKHQpO1xuICAgICAgICBpZiAoZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmtlLmRvY3VtZW50LnRpdGxlID0gZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5rZS5kb2N1bWVudC50aXRsZTtcbiAgICB9XG4gICAgTWUodCA9IHRoaXMuY3VycmVudFRyKSB7XG4gICAgICAgIGxldCBlO1xuICAgICAgICBpZiAodGhpcy5OZSkge1xuICAgICAgICAgICAgZSA9IHRoaXMub3B0aW9ucy5idWlsZFRpdGxlKHQpID8/IFwiXCI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGVvZiB0Lm9wdGlvbnMudGl0bGUpIHtcbiAgICAgICAgICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6XG4gICAgICAgICAgICAgICAgZSA9IHQub3B0aW9ucy50aXRsZS5jYWxsKHZvaWQgMCwgdC5yb3V0ZVRyZWUucm9vdCkgPz8gXCJcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICAgICAgICAgICAgZSA9IHQub3B0aW9ucy50aXRsZTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGUgPSB0LnJvdXRlVHJlZS5yb290LmdldFRpdGxlKHQub3B0aW9ucy50aXRsZVNlcGFyYXRvcikgPz8gXCJcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZTtcbiAgICB9XG4gICAgUGUodCkge1xuICAgICAgICBjb25zdCBlID0gdC5wcmV2aW91c1JvdXRlVHJlZS5yb290LmNoaWxkcmVuO1xuICAgICAgICBjb25zdCBzID0gdC5yb3V0ZVRyZWUucm9vdC5jaGlsZHJlbjtcbiAgICAgICAgY29uc3QgaSA9IG1lcmdlRGlzdGluY3QoZSwgcyk7XG4gICAgICAgIGkuZm9yRWFjaCgoZnVuY3Rpb24odCkge1xuICAgICAgICAgICAgdC5jb250ZXh0LnZwYS50ZSgpO1xuICAgICAgICB9KSk7XG4gICAgICAgIHRoaXMuUmUgPSB0LnByZXZJbnN0cnVjdGlvbnM7XG4gICAgICAgIHRoaXMudmUgPSB0LnByZXZpb3VzUm91dGVUcmVlO1xuICAgICAgICB0aGlzLnllID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IG4gPSB0Lmd1YXJkc1Jlc3VsdDtcbiAgICAgICAgdGhpcy5JLnB1Ymxpc2gobmV3IE5hdmlnYXRpb25DYW5jZWxFdmVudCh0LmlkLCB0Lmluc3RydWN0aW9ucywgYGd1YXJkc1Jlc3VsdCBpcyAke259YCkpO1xuICAgICAgICBpZiAobiA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHQucmVzb2x2ZShmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLk9lKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgZTtcbiAgICAgICAgICAgIGlmICh0aGlzLmJlICYmICh0LmVycmVkV2l0aFVua25vd25Sb3V0ZSB8fCB0LmVycm9yICE9IG51bGwgJiYgdGhpcy5vcHRpb25zLnJlc3RvcmVQcmV2aW91c1JvdXRlVHJlZU9uRXJyb3IpKSBlID0gdC5wcmV2SW5zdHJ1Y3Rpb25zOyBlbHNlIGlmIChuID09PSB0cnVlKSByZXR1cm47IGVsc2UgZSA9IG47XG4gICAgICAgICAgICB2b2lkIGEodGhpcy5JZShlLCBcImFwaVwiLCB0Lm1hbmFnZWRTdGF0ZSwgdCksICgoKSA9PiB7fSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIE9lKCkge1xuICAgICAgICBpZiAodGhpcy5DZSA9PT0gbnVsbCkgcmV0dXJuO1xuICAgICAgICB0aGlzLmtlLnRhc2tRdWV1ZS5xdWV1ZVRhc2soKCgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHQgPSB0aGlzLkNlO1xuICAgICAgICAgICAgaWYgKHQgPT09IG51bGwpIHJldHVybjtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdGhpcy5RdCh0KTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICB0LkR0KGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiB1cGRhdGVOb2RlKHQsIGUsIHMsIGkpIHtcbiAgICB0LnRyYWNlKGB1cGRhdGVOb2RlKGN0eDolcyxub2RlOiVzKWAsIHMsIGkpO1xuICAgIGkucXVlcnlQYXJhbXMgPSBlLnF1ZXJ5UGFyYW1zO1xuICAgIGkuZnJhZ21lbnQgPSBlLmZyYWdtZW50O1xuICAgIGlmICghaS5jb250ZXh0LmlzUm9vdCkge1xuICAgICAgICBpLmNvbnRleHQudnBhLll0KGkuc2Uub3B0aW9ucywgaSk7XG4gICAgfVxuICAgIGlmIChpLmNvbnRleHQgPT09IHMpIHtcbiAgICAgICAgaS51ZSgpO1xuICAgICAgICByZXR1cm4gYSh1KC4uLmUuY2hpbGRyZW4ubWFwKChlID0+IGNyZWF0ZUFuZEFwcGVuZE5vZGVzKHQsIGksIGUpKSkpLCAoKCkgPT4gdSguLi5zLmdldEF2YWlsYWJsZVZpZXdwb3J0QWdlbnRzKCkucmVkdWNlKCgoZSwgcykgPT4ge1xuICAgICAgICAgICAgY29uc3QgbiA9IHMudmlld3BvcnQ7XG4gICAgICAgICAgICBjb25zdCByID0gbi5kZWZhdWx0O1xuICAgICAgICAgICAgaWYgKHIgPT09IG51bGwpIHJldHVybiBlO1xuICAgICAgICAgICAgZS5wdXNoKGNyZWF0ZUFuZEFwcGVuZE5vZGVzKHQsIGksIFZpZXdwb3J0SW5zdHJ1Y3Rpb24uY3JlYXRlKHtcbiAgICAgICAgICAgICAgICBjb21wb25lbnQ6IHIsXG4gICAgICAgICAgICAgICAgdmlld3BvcnQ6IG4ubmFtZVxuICAgICAgICAgICAgfSkpKTtcbiAgICAgICAgICAgIHJldHVybiBlO1xuICAgICAgICB9KSwgW10pKSkpO1xuICAgIH1cbiAgICByZXR1cm4gdSguLi5pLmNoaWxkcmVuLm1hcCgoaSA9PiB1cGRhdGVOb2RlKHQsIGUsIHMsIGkpKSkpO1xufVxuXG5jbGFzcyBQYXJzZWRVcmwge1xuICAgIGNvbnN0cnVjdG9yKHQsIGUsIHMpIHtcbiAgICAgICAgdGhpcy5wYXRoID0gdDtcbiAgICAgICAgdGhpcy5xdWVyeSA9IGU7XG4gICAgICAgIHRoaXMuZnJhZ21lbnQgPSBzO1xuICAgICAgICB0aGlzLmlkID0gYCR7dH0/JHtlPy50b1N0cmluZygpID8/IFwiXCJ9IyR7cyA/PyBcIlwifWA7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pZDtcbiAgICB9XG4gICAgc3RhdGljIEoodCkge1xuICAgICAgICBsZXQgZSA9IG51bGw7XG4gICAgICAgIGNvbnN0IHMgPSB0LmluZGV4T2YoXCIjXCIpO1xuICAgICAgICBpZiAocyA+PSAwKSB7XG4gICAgICAgICAgICBjb25zdCBpID0gdC5zbGljZShzICsgMSk7XG4gICAgICAgICAgICBlID0gZGVjb2RlVVJJQ29tcG9uZW50KGkpO1xuICAgICAgICAgICAgdCA9IHQuc2xpY2UoMCwgcyk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGkgPSBudWxsO1xuICAgICAgICBjb25zdCBuID0gdC5pbmRleE9mKFwiP1wiKTtcbiAgICAgICAgaWYgKG4gPj0gMCkge1xuICAgICAgICAgICAgY29uc3QgZSA9IHQuc2xpY2UobiArIDEpO1xuICAgICAgICAgICAgdCA9IHQuc2xpY2UoMCwgbik7XG4gICAgICAgICAgICBpID0gT2JqZWN0LmZyZWV6ZShuZXcgVVJMU2VhcmNoUGFyYW1zKGUpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFBhcnNlZFVybCh0LCBpID8/IFosIGUpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gc3RyaW5naWZ5KHQsIGUsIHMpIHtcbiAgICBsZXQgaTtcbiAgICBpZiAodHlwZW9mIHQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgaSA9IHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaSA9IHQucGF0aDtcbiAgICAgICAgZSA9IHQucXVlcnk7XG4gICAgICAgIHMgPSB0LmZyYWdtZW50O1xuICAgIH1cbiAgICBlID8/PSBaO1xuICAgIGxldCBuID0gZS50b1N0cmluZygpO1xuICAgIG4gPSBuID09PSBcIlwiID8gXCJcIiA6IGA/JHtufWA7XG4gICAgY29uc3QgciA9IHMgIT0gbnVsbCAmJiBzLmxlbmd0aCA+IDAgPyBgIyR7ZW5jb2RlVVJJQ29tcG9uZW50KHMpfWAgOiBcIlwiO1xuICAgIHJldHVybiBgJHtpfSR7bn0ke3J9YDtcbn1cblxuY29uc3QgZXQgPSBPYmplY3QuZnJlZXplKHtcbiAgICBwYXJzZSh0KSB7XG4gICAgICAgIHJldHVybiBQYXJzZWRVcmwuSih0KTtcbiAgICB9LFxuICAgIHN0cmluZ2lmeSh0LCBlLCBzKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmdpZnkodCwgZSwgcyk7XG4gICAgfVxufSk7XG5cbmNvbnN0IHN0ID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgcGFyc2UodCkge1xuICAgICAgICBjb25zdCBlID0gdC5pbmRleE9mKFwiI1wiKTtcbiAgICAgICAgaWYgKGUgPj0gMCkge1xuICAgICAgICAgICAgY29uc3QgcyA9IHQuc2xpY2UoZSArIDEpO1xuICAgICAgICAgICAgdCA9IGRlY29kZVVSSUNvbXBvbmVudChzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUGFyc2VkVXJsLkoodCk7XG4gICAgfSxcbiAgICBzdHJpbmdpZnkodCwgZSwgcykge1xuICAgICAgICByZXR1cm4gYC8jLyR7c3RyaW5naWZ5KHQsIGUsIHMpfWA7XG4gICAgfVxufSk7XG5cbmZ1bmN0aW9uIHZhbHVlT3JGdW5jVG9WYWx1ZSh0LCBlKSB7XG4gICAgaWYgKHR5cGVvZiBlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuIGUodCk7XG4gICAgfVxuICAgIHJldHVybiBlO1xufVxuXG5jb25zdCBpdCA9IC8qQF9fUFVSRV9fKi8gcy5jcmVhdGVJbnRlcmZhY2UoXCJSb3V0ZXJPcHRpb25zXCIpO1xuXG5jbGFzcyBSb3V0ZXJPcHRpb25zIHtcbiAgICBjb25zdHJ1Y3Rvcih0LCBlLCBzLCBpLCBuLCByLCBvKSB7XG4gICAgICAgIHRoaXMudXNlVXJsRnJhZ21lbnRIYXNoID0gdDtcbiAgICAgICAgdGhpcy51c2VIcmVmID0gZTtcbiAgICAgICAgdGhpcy5oaXN0b3J5U3RyYXRlZ3kgPSBzO1xuICAgICAgICB0aGlzLmJ1aWxkVGl0bGUgPSBpO1xuICAgICAgICB0aGlzLnVzZU5hdmlnYXRpb25Nb2RlbCA9IG47XG4gICAgICAgIHRoaXMuYWN0aXZlQ2xhc3MgPSByO1xuICAgICAgICB0aGlzLnJlc3RvcmVQcmV2aW91c1JvdXRlVHJlZU9uRXJyb3IgPSBvO1xuICAgICAgICB0aGlzLlZlID0gdCA/IHN0IDogZXQ7XG4gICAgfVxuICAgIHN0YXRpYyBjcmVhdGUodCkge1xuICAgICAgICByZXR1cm4gbmV3IFJvdXRlck9wdGlvbnModC51c2VVcmxGcmFnbWVudEhhc2ggPz8gZmFsc2UsIHQudXNlSHJlZiA/PyB0cnVlLCB0Lmhpc3RvcnlTdHJhdGVneSA/PyBcInB1c2hcIiwgdC5idWlsZFRpdGxlID8/IG51bGwsIHQudXNlTmF2aWdhdGlvbk1vZGVsID8/IHRydWUsIHQuYWN0aXZlQ2xhc3MgPz8gbnVsbCwgdC5yZXN0b3JlUHJldmlvdXNSb3V0ZVRyZWVPbkVycm9yID8/IHRydWUpO1xuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIFwiUk9cIjtcbiAgICB9XG59XG5cbmNsYXNzIE5hdmlnYXRpb25PcHRpb25zIHtcbiAgICBjb25zdHJ1Y3Rvcih0LCBlLCBzLCBpLCBuLCByLCBvLCBhKSB7XG4gICAgICAgIHRoaXMuaGlzdG9yeVN0cmF0ZWd5ID0gdDtcbiAgICAgICAgdGhpcy50aXRsZSA9IGU7XG4gICAgICAgIHRoaXMudGl0bGVTZXBhcmF0b3IgPSBzO1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBpO1xuICAgICAgICB0aGlzLnF1ZXJ5UGFyYW1zID0gbjtcbiAgICAgICAgdGhpcy5mcmFnbWVudCA9IHI7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBvO1xuICAgICAgICB0aGlzLnRyYW5zaXRpb25QbGFuID0gYTtcbiAgICB9XG4gICAgc3RhdGljIGNyZWF0ZSh0LCBlKSB7XG4gICAgICAgIHJldHVybiBuZXcgTmF2aWdhdGlvbk9wdGlvbnMoZS5oaXN0b3J5U3RyYXRlZ3kgPz8gdC5oaXN0b3J5U3RyYXRlZ3ksIGUudGl0bGUgPz8gbnVsbCwgZS50aXRsZVNlcGFyYXRvciA/PyBcIiB8IFwiLCBlLmNvbnRleHQgPz8gbnVsbCwgZS5xdWVyeVBhcmFtcyA/PyBudWxsLCBlLmZyYWdtZW50ID8/IFwiXCIsIGUuc3RhdGUgPz8gbnVsbCwgZS50cmFuc2l0aW9uUGxhbiA/PyBudWxsKTtcbiAgICB9XG4gICAgWigpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBOYXZpZ2F0aW9uT3B0aW9ucyh0aGlzLmhpc3RvcnlTdHJhdGVneSwgdGhpcy50aXRsZSwgdGhpcy50aXRsZVNlcGFyYXRvciwgdGhpcy5jb250ZXh0LCB7XG4gICAgICAgICAgICAuLi50aGlzLnF1ZXJ5UGFyYW1zXG4gICAgICAgIH0sIHRoaXMuZnJhZ21lbnQsIHRoaXMuc3RhdGUgPT09IG51bGwgPyBudWxsIDoge1xuICAgICAgICAgICAgLi4udGhpcy5zdGF0ZVxuICAgICAgICB9LCB0aGlzLnRyYW5zaXRpb25QbGFuKTtcbiAgICB9XG4gICAgQWUodCkge1xuICAgICAgICByZXR1cm4gdmFsdWVPckZ1bmNUb1ZhbHVlKHQsIHRoaXMuaGlzdG9yeVN0cmF0ZWd5KTtcbiAgICB9XG59XG5cbmNvbnN0IG50ID0gXCJkZWZhdWx0XCI7XG5cbmNsYXNzIFZpZXdwb3J0SW5zdHJ1Y3Rpb24ge1xuICAgIGNvbnN0cnVjdG9yKHQsIGUsIHMsIGksIG4sIHIsIG8pIHtcbiAgICAgICAgdGhpcy5vcGVuID0gdDtcbiAgICAgICAgdGhpcy5jbG9zZSA9IGU7XG4gICAgICAgIHRoaXMucmVjb2duaXplZFJvdXRlID0gcztcbiAgICAgICAgdGhpcy5jb21wb25lbnQgPSBpO1xuICAgICAgICB0aGlzLnZpZXdwb3J0ID0gbjtcbiAgICAgICAgdGhpcy5wYXJhbXMgPSByO1xuICAgICAgICB0aGlzLmNoaWxkcmVuID0gbztcbiAgICB9XG4gICAgc3RhdGljIGNyZWF0ZSh0KSB7XG4gICAgICAgIGlmICh0IGluc3RhbmNlb2YgVmlld3BvcnRJbnN0cnVjdGlvbikgcmV0dXJuIHQ7XG4gICAgICAgIGlmIChpc1BhcnRpYWxWaWV3cG9ydEluc3RydWN0aW9uKHQpKSB7XG4gICAgICAgICAgICBjb25zdCBlID0gVHlwZWROYXZpZ2F0aW9uSW5zdHJ1Y3Rpb24uY3JlYXRlKHQuY29tcG9uZW50KTtcbiAgICAgICAgICAgIGNvbnN0IHMgPSB0LmNoaWxkcmVuPy5tYXAoVmlld3BvcnRJbnN0cnVjdGlvbi5jcmVhdGUpID8/IFtdO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBWaWV3cG9ydEluc3RydWN0aW9uKHQub3BlbiA/PyAwLCB0LmNsb3NlID8/IDAsIHQucmVjb2duaXplZFJvdXRlID8/IG51bGwsIGUsIHQudmlld3BvcnQgPz8gbnVsbCwgT2JqZWN0LmZyZWV6ZSh0LnBhcmFtcyA/PyBudWxsKSwgcyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZSA9IFR5cGVkTmF2aWdhdGlvbkluc3RydWN0aW9uLmNyZWF0ZSh0KTtcbiAgICAgICAgcmV0dXJuIG5ldyBWaWV3cG9ydEluc3RydWN0aW9uKDAsIDAsIG51bGwsIGUsIG51bGwsIG51bGwsIFtdKTtcbiAgICB9XG4gICAgY29udGFpbnModCkge1xuICAgICAgICBjb25zdCBlID0gdGhpcy5jaGlsZHJlbjtcbiAgICAgICAgY29uc3QgcyA9IHQuY2hpbGRyZW47XG4gICAgICAgIGlmIChlLmxlbmd0aCA8IHMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmNvbXBvbmVudC5lcXVhbHModC5jb21wb25lbnQpKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGNvbnN0IGkgPSB0aGlzLnZpZXdwb3J0ID8/IG51bGw7XG4gICAgICAgIGNvbnN0IG4gPSB0LnZpZXdwb3J0ID8/IG51bGw7XG4gICAgICAgIGlmIChpICE9PSBudWxsICYmIG4gIT09IG51bGwgJiYgaSAhPT0gbikgcmV0dXJuIGZhbHNlO1xuICAgICAgICBmb3IgKGxldCB0ID0gMCwgaSA9IHMubGVuZ3RoOyB0IDwgaTsgKyt0KSB7XG4gICAgICAgICAgICBpZiAoIWVbdF0uY29udGFpbnMoc1t0XSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGVxdWFscyh0KSB7XG4gICAgICAgIGNvbnN0IGUgPSB0aGlzLmNoaWxkcmVuO1xuICAgICAgICBjb25zdCBzID0gdC5jaGlsZHJlbjtcbiAgICAgICAgaWYgKGUubGVuZ3RoICE9PSBzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5jb21wb25lbnQuZXF1YWxzKHQuY29tcG9uZW50KSB8fCB0aGlzLnZpZXdwb3J0ICE9PSB0LnZpZXdwb3J0IHx8ICFzaGFsbG93RXF1YWxzKHRoaXMucGFyYW1zLCB0LnBhcmFtcykpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCB0ID0gMCwgaSA9IGUubGVuZ3RoOyB0IDwgaTsgKyt0KSB7XG4gICAgICAgICAgICBpZiAoIWVbdF0uZXF1YWxzKHNbdF0pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBaKCkge1xuICAgICAgICByZXR1cm4gbmV3IFZpZXdwb3J0SW5zdHJ1Y3Rpb24odGhpcy5vcGVuLCB0aGlzLmNsb3NlLCB0aGlzLnJlY29nbml6ZWRSb3V0ZSwgdGhpcy5jb21wb25lbnQuWigpLCB0aGlzLnZpZXdwb3J0LCB0aGlzLnBhcmFtcywgWyAuLi50aGlzLmNoaWxkcmVuIF0pO1xuICAgIH1cbiAgICB0b1VybENvbXBvbmVudCh0ID0gdHJ1ZSkge1xuICAgICAgICBjb25zdCBlID0gdGhpcy5jb21wb25lbnQudG9VcmxDb21wb25lbnQoKTtcbiAgICAgICAgY29uc3QgcyA9IHRoaXMudmlld3BvcnQ7XG4gICAgICAgIGNvbnN0IGkgPSBlLmxlbmd0aCA9PT0gMCB8fCBzID09PSBudWxsIHx8IHMubGVuZ3RoID09PSAwIHx8IHMgPT09IG50ID8gXCJcIiA6IGBAJHtzfWA7XG4gICAgICAgIGNvbnN0IG4gPSBgJHtcIihcIi5yZXBlYXQodGhpcy5vcGVuKX0ke2V9JHtzdHJpbmdpZnlQYXJhbXModGhpcy5wYXJhbXMpfSR7aX0ke1wiKVwiLnJlcGVhdCh0aGlzLmNsb3NlKX1gO1xuICAgICAgICBjb25zdCByID0gdCA/IHRoaXMuY2hpbGRyZW4ubWFwKCh0ID0+IHQudG9VcmxDb21wb25lbnQoKSkpLmpvaW4oXCIrXCIpIDogXCJcIjtcbiAgICAgICAgcmV0dXJuIG4ubGVuZ3RoID4gMCA/IHIubGVuZ3RoID4gMCA/IGAke259LyR7cn1gIDogbiA6IHI7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICBjb25zdCB0ID0gYGM6JHt0aGlzLmNvbXBvbmVudH1gO1xuICAgICAgICBjb25zdCBlID0gdGhpcy52aWV3cG9ydCA9PT0gbnVsbCB8fCB0aGlzLnZpZXdwb3J0Lmxlbmd0aCA9PT0gMCA/IFwiXCIgOiBgdmlld3BvcnQ6JHt0aGlzLnZpZXdwb3J0fWA7XG4gICAgICAgIGNvbnN0IHMgPSB0aGlzLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCA/IFwiXCIgOiBgY2hpbGRyZW46WyR7dGhpcy5jaGlsZHJlbi5tYXAoU3RyaW5nKS5qb2luKFwiLFwiKX1dYDtcbiAgICAgICAgY29uc3QgaSA9IFsgdCwgZSwgcyBdLmZpbHRlcihCb29sZWFuKS5qb2luKFwiLFwiKTtcbiAgICAgICAgcmV0dXJuIGBWUEkoJHtpfSlgO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gc3RyaW5naWZ5UGFyYW1zKHQpIHtcbiAgICBpZiAodCA9PT0gbnVsbCkgcmV0dXJuIFwiXCI7XG4gICAgY29uc3QgZSA9IE9iamVjdC5rZXlzKHQpO1xuICAgIGNvbnN0IHMgPSBlLmxlbmd0aDtcbiAgICBpZiAocyA9PT0gMCkgcmV0dXJuIFwiXCI7XG4gICAgY29uc3QgaSA9IEFycmF5KHMpO1xuICAgIGNvbnN0IG4gPSBbXTtcbiAgICBjb25zdCByID0gW107XG4gICAgZm9yIChjb25zdCB0IG9mIGUpIHtcbiAgICAgICAgaWYgKHAodCkpIHtcbiAgICAgICAgICAgIG4ucHVzaChOdW1iZXIodCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgci5wdXNoKHQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZvciAobGV0IGUgPSAwOyBlIDwgczsgKytlKSB7XG4gICAgICAgIGNvbnN0IHMgPSBuLmluZGV4T2YoZSk7XG4gICAgICAgIGlmIChzID4gLTEpIHtcbiAgICAgICAgICAgIGlbZV0gPSB0W2VdO1xuICAgICAgICAgICAgbi5zcGxpY2UocywgMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBzID0gci5zaGlmdCgpO1xuICAgICAgICAgICAgaVtlXSA9IGAke3N9PSR7dFtzXX1gO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBgKCR7aS5qb2luKFwiLFwiKX0pYDtcbn1cblxuY2xhc3MgVmlld3BvcnRJbnN0cnVjdGlvblRyZWUge1xuICAgIGNvbnN0cnVjdG9yKHQsIGUsIHMsIGksIG4pIHtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gdDtcbiAgICAgICAgdGhpcy5pc0Fic29sdXRlID0gZTtcbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IHM7XG4gICAgICAgIHRoaXMucXVlcnlQYXJhbXMgPSBpO1xuICAgICAgICB0aGlzLmZyYWdtZW50ID0gbjtcbiAgICAgICAgT2JqZWN0LmZyZWV6ZShpKTtcbiAgICB9XG4gICAgc3RhdGljIGNyZWF0ZSh0LCBlLCBzLCBpKSB7XG4gICAgICAgIHMgPSBzIGluc3RhbmNlb2YgTmF2aWdhdGlvbk9wdGlvbnMgPyBzIDogTmF2aWdhdGlvbk9wdGlvbnMuY3JlYXRlKGUsIHMgPz8gaCk7XG4gICAgICAgIGxldCBuID0gcy5jb250ZXh0O1xuICAgICAgICBpZiAoIShuIGluc3RhbmNlb2YgUm91dGVDb250ZXh0KSAmJiBpICE9IG51bGwpIHtcbiAgICAgICAgICAgIG4gPSBzLmNvbnRleHQgPSBSb3V0ZUNvbnRleHQucmVzb2x2ZShpLCBuKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByID0gbiAhPSBudWxsO1xuICAgICAgICBpZiAodCBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICBjb25zdCBlID0gdC5sZW5ndGg7XG4gICAgICAgICAgICBjb25zdCBpID0gbmV3IEFycmF5KGUpO1xuICAgICAgICAgICAgY29uc3QgbyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMocy5xdWVyeVBhcmFtcyA/PyBoKTtcbiAgICAgICAgICAgIGZvciAobGV0IHMgPSAwOyBzIDwgZTsgcysrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZSA9IHRbc107XG4gICAgICAgICAgICAgICAgY29uc3QgYSA9IHIgPyBuLnBlKGUpIDogbnVsbDtcbiAgICAgICAgICAgICAgICBpZiAoYSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBpW3NdID0gYS52aTtcbiAgICAgICAgICAgICAgICAgICAgbWVyZ2VVUkxTZWFyY2hQYXJhbXMobywgYS5xdWVyeSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlbc10gPSBWaWV3cG9ydEluc3RydWN0aW9uLmNyZWF0ZShlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV3IFZpZXdwb3J0SW5zdHJ1Y3Rpb25UcmVlKHMsIGZhbHNlLCBpLCBvLCBzLmZyYWdtZW50KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IGkgPSBSb3V0ZUV4cHJlc3Npb24ucGFyc2UoZS5WZS5wYXJzZSh0KSk7XG4gICAgICAgICAgICByZXR1cm4gaS50b0luc3RydWN0aW9uVHJlZShzKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvID0gciA/IG4ucGUoaXNQYXJ0aWFsVmlld3BvcnRJbnN0cnVjdGlvbih0KSA/IHtcbiAgICAgICAgICAgIC4uLnQsXG4gICAgICAgICAgICBwYXJhbXM6IHQucGFyYW1zID8/IGhcbiAgICAgICAgfSA6IHtcbiAgICAgICAgICAgIGNvbXBvbmVudDogdCxcbiAgICAgICAgICAgIHBhcmFtczogaFxuICAgICAgICB9KSA6IG51bGw7XG4gICAgICAgIGNvbnN0IGEgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHMucXVlcnlQYXJhbXMgPz8gaCk7XG4gICAgICAgIHJldHVybiBvICE9PSBudWxsID8gbmV3IFZpZXdwb3J0SW5zdHJ1Y3Rpb25UcmVlKHMsIGZhbHNlLCBbIG8udmkgXSwgbWVyZ2VVUkxTZWFyY2hQYXJhbXMoYSwgby5xdWVyeSwgZmFsc2UpLCBzLmZyYWdtZW50KSA6IG5ldyBWaWV3cG9ydEluc3RydWN0aW9uVHJlZShzLCBmYWxzZSwgWyBWaWV3cG9ydEluc3RydWN0aW9uLmNyZWF0ZSh0KSBdLCBhLCBzLmZyYWdtZW50KTtcbiAgICB9XG4gICAgZXF1YWxzKHQpIHtcbiAgICAgICAgY29uc3QgZSA9IHRoaXMuY2hpbGRyZW47XG4gICAgICAgIGNvbnN0IHMgPSB0LmNoaWxkcmVuO1xuICAgICAgICBpZiAoZS5sZW5ndGggIT09IHMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgdCA9IDAsIGkgPSBlLmxlbmd0aDsgdCA8IGk7ICsrdCkge1xuICAgICAgICAgICAgaWYgKCFlW3RdLmVxdWFscyhzW3RdKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgdG9VcmwodCwgZSkge1xuICAgICAgICBsZXQgcyA9IFwiXCI7XG4gICAgICAgIGlmICghdCkge1xuICAgICAgICAgICAgY29uc3QgdCA9IFtdO1xuICAgICAgICAgICAgbGV0IGUgPSB0aGlzLm9wdGlvbnMuY29udGV4dDtcbiAgICAgICAgICAgIGlmIChlICE9IG51bGwgJiYgIShlIGluc3RhbmNlb2YgUm91dGVDb250ZXh0KSkgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBvcGVyYXRpb247IGluY29tcGF0aWJsZSBuYXZpZ2F0aW9uIGNvbnRleHQuXCIpO1xuICAgICAgICAgICAgd2hpbGUgKGUgIT0gbnVsbCAmJiAhZS5pc1Jvb3QpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzID0gZS52cGE7XG4gICAgICAgICAgICAgICAgY29uc3QgaSA9IHMuQ3QgPT09IDQwOTYgPyBzLlR0IDogcy5JdDtcbiAgICAgICAgICAgICAgICBpZiAoaSA9PSBudWxsKSB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIG9wZXJhdGlvbjsgbm9kZXMgb2YgdGhlIHZpZXdwb3J0IGFnZW50IGFyZSBub3Qgc2V0LlwiKTtcbiAgICAgICAgICAgICAgICB0LnNwbGljZSgwLCAwLCBpLmluc3RydWN0aW9uLnRvVXJsQ29tcG9uZW50KCkpO1xuICAgICAgICAgICAgICAgIGUgPSBlLnBhcmVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0WzBdID09PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgdC5zcGxpY2UoMCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzID0gdC5qb2luKFwiL1wiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpID0gdGhpcy50b1BhdGgoKTtcbiAgICAgICAgcmV0dXJuIGUuc3RyaW5naWZ5KHMubGVuZ3RoID4gMCA/IGAke3N9LyR7aX1gIDogaSwgdGhpcy5xdWVyeVBhcmFtcywgdGhpcy5mcmFnbWVudCk7XG4gICAgfVxuICAgIHRvUGF0aCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGRyZW4ubWFwKCh0ID0+IHQudG9VcmxDb21wb25lbnQoKSkpLmpvaW4oXCIrXCIpO1xuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIGBbJHt0aGlzLmNoaWxkcmVuLm1hcChTdHJpbmcpLmpvaW4oXCIsXCIpfV1gO1xuICAgIH1cbn1cblxuY2xhc3MgVHlwZWROYXZpZ2F0aW9uSW5zdHJ1Y3Rpb24ge1xuICAgIGNvbnN0cnVjdG9yKHQsIGUpIHtcbiAgICAgICAgdGhpcy50eXBlID0gdDtcbiAgICAgICAgdGhpcy52YWx1ZSA9IGU7XG4gICAgfVxuICAgIHN0YXRpYyBjcmVhdGUodCkge1xuICAgICAgICBpZiAodCBpbnN0YW5jZW9mIFR5cGVkTmF2aWdhdGlvbkluc3RydWN0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gdDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHQgPT09IFwic3RyaW5nXCIpIHJldHVybiBuZXcgVHlwZWROYXZpZ2F0aW9uSW5zdHJ1Y3Rpb24oMCwgdCk7XG4gICAgICAgIGlmICghZSh0KSkgZXhwZWN0VHlwZShcImZ1bmN0aW9uL2NsYXNzIG9yIG9iamVjdFwiLCBcIlwiLCB0KTtcbiAgICAgICAgaWYgKHR5cGVvZiB0ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIGlmIChiLmlzVHlwZSh0KSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGUgPSBiLmdldERlZmluaXRpb24odCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBUeXBlZE5hdmlnYXRpb25JbnN0cnVjdGlvbigyLCBlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFR5cGVkTmF2aWdhdGlvbkluc3RydWN0aW9uLmNyZWF0ZSh0KCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0IGluc3RhbmNlb2YgUHJvbWlzZSkgcmV0dXJuIG5ldyBUeXBlZE5hdmlnYXRpb25JbnN0cnVjdGlvbigzLCB0KTtcbiAgICAgICAgaWYgKGlzUGFydGlhbFZpZXdwb3J0SW5zdHJ1Y3Rpb24odCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGUgPSBWaWV3cG9ydEluc3RydWN0aW9uLmNyZWF0ZSh0KTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgVHlwZWROYXZpZ2F0aW9uSW5zdHJ1Y3Rpb24oMSwgZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHYodCkpIHJldHVybiBuZXcgVHlwZWROYXZpZ2F0aW9uSW5zdHJ1Y3Rpb24oNCwgdCk7XG4gICAgICAgIGlmICh0IGluc3RhbmNlb2YgeCkgcmV0dXJuIG5ldyBUeXBlZE5hdmlnYXRpb25JbnN0cnVjdGlvbigyLCB0KTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGdldE1lc3NhZ2UoMzQwMCwgdHJ5U3RyaW5naWZ5KHQpKSk7XG4gICAgfVxuICAgIGVxdWFscyh0KSB7XG4gICAgICAgIHN3aXRjaCAodGhpcy50eXBlKSB7XG4gICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudHlwZSA9PT0gdC50eXBlICYmIHRoaXMudmFsdWUgPT09IHQudmFsdWU7XG5cbiAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50eXBlID09PSB0LnR5cGUgJiYgdGhpcy52YWx1ZS5lcXVhbHModC52YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgWigpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUeXBlZE5hdmlnYXRpb25JbnN0cnVjdGlvbih0aGlzLnR5cGUsIHRoaXMudmFsdWUpO1xuICAgIH1cbiAgICB0b1VybENvbXBvbmVudCgpIHtcbiAgICAgICAgc3dpdGNoICh0aGlzLnR5cGUpIHtcbiAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52YWx1ZS5uYW1lO1xuXG4gICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihnZXRNZXNzYWdlKDM0MDMsIHRoaXMudHlwZSkpO1xuXG4gICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmFsdWUudG9VcmxDb21wb25lbnQoKTtcblxuICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICBzd2l0Y2ggKHRoaXMudHlwZSkge1xuICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIHJldHVybiBgQ0VEZWYobmFtZTonJHt0aGlzLnZhbHVlLm5hbWV9JylgO1xuXG4gICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgcmV0dXJuIGBQcm9taXNlYDtcblxuICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgIHJldHVybiBgVk0obmFtZTonJHtiLmdldERlZmluaXRpb24odGhpcy52YWx1ZS5jb25zdHJ1Y3RvcikubmFtZX0nKWA7XG5cbiAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52YWx1ZS50b1N0cmluZygpO1xuXG4gICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgcmV0dXJuIGAnJHt0aGlzLnZhbHVlfSdgO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5jbGFzcyBDb21wb25lbnRBZ2VudCB7XG4gICAgY29uc3RydWN0b3IodCwgZSwgcywgaSwgbikge1xuICAgICAgICB0aGlzLmplID0gdDtcbiAgICAgICAgdGhpcy5MZSA9IGU7XG4gICAgICAgIHRoaXMuWnQgPSBzO1xuICAgICAgICB0aGlzLndlID0gaTtcbiAgICAgICAgdGhpcy5VZSA9IG47XG4gICAgICAgIHRoaXMuTCA9IGUuY29udGFpbmVyLmdldChyKS5zY29wZVRvKGBDb21wb25lbnRBZ2VudDwke2kuQXR9PmApO1xuICAgICAgICBjb25zdCBvID0gZS5saWZlY3ljbGVIb29rcztcbiAgICAgICAgdGhpcy56ZSA9IChvLmNhbkxvYWQgPz8gW10pLm1hcCgodCA9PiB0Lmluc3RhbmNlKSk7XG4gICAgICAgIHRoaXMuQmUgPSAoby5sb2FkaW5nID8/IFtdKS5tYXAoKHQgPT4gdC5pbnN0YW5jZSkpO1xuICAgICAgICB0aGlzLkhlID0gKG8uY2FuVW5sb2FkID8/IFtdKS5tYXAoKHQgPT4gdC5pbnN0YW5jZSkpO1xuICAgICAgICB0aGlzLkRlID0gKG8udW5sb2FkaW5nID8/IFtdKS5tYXAoKHQgPT4gdC5pbnN0YW5jZSkpO1xuICAgICAgICB0aGlzLnFlID0gXCJjYW5Mb2FkXCIgaW4gdDtcbiAgICAgICAgdGhpcy5GZSA9IFwibG9hZGluZ1wiIGluIHQ7XG4gICAgICAgIHRoaXMuR2UgPSBcImNhblVubG9hZFwiIGluIHQ7XG4gICAgICAgIHRoaXMuV2UgPSBcInVubG9hZGluZ1wiIGluIHQ7XG4gICAgfVxuICAgIE10KHQsIGUpIHtcbiAgICAgICAgaWYgKHQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLkxlLmFjdGl2YXRlKHRoaXMuTGUsIGUpO1xuICAgICAgICB9XG4gICAgICAgIHZvaWQgdGhpcy5MZS5hY3RpdmF0ZSh0LCBlKTtcbiAgICB9XG4gICAgVXQodCwgZSkge1xuICAgICAgICBpZiAodCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuTGUuZGVhY3RpdmF0ZSh0aGlzLkxlLCBlKTtcbiAgICAgICAgfVxuICAgICAgICB2b2lkIHRoaXMuTGUuZGVhY3RpdmF0ZSh0LCBlKTtcbiAgICB9XG4gICAgSnQoKSB7XG4gICAgICAgIHRoaXMuTGUuZGlzcG9zZSgpO1xuICAgIH1cbiAgICBIdCh0LCBlLCBzKSB7XG4gICAgICAgIHMuTigpO1xuICAgICAgICBsZXQgaSA9IFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICBmb3IgKGNvbnN0IG4gb2YgdGhpcy5IZSkge1xuICAgICAgICAgICAgcy5OKCk7XG4gICAgICAgICAgICBpID0gaS50aGVuKCgoKSA9PiBuZXcgUHJvbWlzZSgoaSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHQuZ3VhcmRzUmVzdWx0ICE9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHMuJCgpO1xuICAgICAgICAgICAgICAgICAgICBpKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdC5RdCgoKCkgPT4gbi5jYW5VbmxvYWQodGhpcy5qZSwgZSwgdGhpcy5adCkpLCAoZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0Lmd1YXJkc1Jlc3VsdCA9PT0gdHJ1ZSAmJiBlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdC5ndWFyZHNSZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzLiQoKTtcbiAgICAgICAgICAgICAgICAgICAgaSgpO1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH0pKSkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLkdlKSB7XG4gICAgICAgICAgICBzLk4oKTtcbiAgICAgICAgICAgIGkgPSBpLnRoZW4oKCgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodC5ndWFyZHNSZXN1bHQgIT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgcy4kKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdC5RdCgoKCkgPT4gdGhpcy5qZS5jYW5VbmxvYWQoZSwgdGhpcy5adCkpLCAoZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0Lmd1YXJkc1Jlc3VsdCA9PT0gdHJ1ZSAmJiBlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdC5ndWFyZHNSZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzLiQoKTtcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgcy4kKCk7XG4gICAgfVxuICAgIHF0KHQsIGUsIHMpIHtcbiAgICAgICAgY29uc3QgaSA9IHRoaXMud2Uucm9vdDtcbiAgICAgICAgcy5OKCk7XG4gICAgICAgIGxldCBuID0gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgIGZvciAoY29uc3QgciBvZiB0aGlzLnplKSB7XG4gICAgICAgICAgICBzLk4oKTtcbiAgICAgICAgICAgIG4gPSBuLnRoZW4oKCgpID0+IG5ldyBQcm9taXNlKChuID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodC5ndWFyZHNSZXN1bHQgIT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgcy4kKCk7XG4gICAgICAgICAgICAgICAgICAgIG4oKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0LlF0KCgoKSA9PiByLmNhbkxvYWQodGhpcy5qZSwgZS5wYXJhbXMsIGUsIHRoaXMuWnQpKSwgKGUgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodC5ndWFyZHNSZXN1bHQgPT09IHRydWUgJiYgZSAhPSBudWxsICYmIGUgIT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHQuZ3VhcmRzUmVzdWx0ID0gZSA9PT0gZmFsc2UgPyBmYWxzZSA6IFZpZXdwb3J0SW5zdHJ1Y3Rpb25UcmVlLmNyZWF0ZShlLCB0aGlzLlVlLCB2b2lkIDAsIGkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHMuJCgpO1xuICAgICAgICAgICAgICAgICAgICBuKCk7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfSkpKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucWUpIHtcbiAgICAgICAgICAgIHMuTigpO1xuICAgICAgICAgICAgbiA9IG4udGhlbigoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0Lmd1YXJkc1Jlc3VsdCAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBzLiQoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0LlF0KCgoKSA9PiB0aGlzLmplLmNhbkxvYWQoZS5wYXJhbXMsIGUsIHRoaXMuWnQpKSwgKGUgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodC5ndWFyZHNSZXN1bHQgPT09IHRydWUgJiYgZSAhPSBudWxsICYmIGUgIT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHQuZ3VhcmRzUmVzdWx0ID0gZSA9PT0gZmFsc2UgPyBmYWxzZSA6IFZpZXdwb3J0SW5zdHJ1Y3Rpb25UcmVlLmNyZWF0ZShlLCB0aGlzLlVlLCB2b2lkIDAsIGkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHMuJCgpO1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgICBzLiQoKTtcbiAgICB9XG4gICAgR3QodCwgZSwgcykge1xuICAgICAgICBzLk4oKTtcbiAgICAgICAgZm9yIChjb25zdCBpIG9mIHRoaXMuRGUpIHtcbiAgICAgICAgICAgIHQuUXQoKCgpID0+IHtcbiAgICAgICAgICAgICAgICBzLk4oKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaS51bmxvYWRpbmcodGhpcy5qZSwgZSwgdGhpcy5adCk7XG4gICAgICAgICAgICB9KSwgKCgpID0+IHtcbiAgICAgICAgICAgICAgICBzLiQoKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5XZSkge1xuICAgICAgICAgICAgdC5RdCgoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHMuTigpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmplLnVubG9hZGluZyhlLCB0aGlzLlp0KTtcbiAgICAgICAgICAgIH0pLCAoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHMuJCgpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICAgIHMuJCgpO1xuICAgIH1cbiAgICBXdCh0LCBlLCBzKSB7XG4gICAgICAgIHMuTigpO1xuICAgICAgICBmb3IgKGNvbnN0IGkgb2YgdGhpcy5CZSkge1xuICAgICAgICAgICAgdC5RdCgoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHMuTigpO1xuICAgICAgICAgICAgICAgIHJldHVybiBpLmxvYWRpbmcodGhpcy5qZSwgZS5wYXJhbXMsIGUsIHRoaXMuWnQpO1xuICAgICAgICAgICAgfSksICgoKSA9PiB7XG4gICAgICAgICAgICAgICAgcy4kKCk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuRmUpIHtcbiAgICAgICAgICAgIHQuUXQoKCgpID0+IHtcbiAgICAgICAgICAgICAgICBzLk4oKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5qZS5sb2FkaW5nKGUucGFyYW1zLCBlLCB0aGlzLlp0KTtcbiAgICAgICAgICAgIH0pLCAoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHMuJCgpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICAgIHMuJCgpO1xuICAgIH1cbn1cblxuY29uc3QgcnQgPSAvKkBfX1BVUkVfXyovIHMuY3JlYXRlSW50ZXJmYWNlKFwiSVJvdXRlQ29udGV4dFwiKTtcblxuY29uc3Qgb3QgPSBPYmplY3QuZnJlZXplKFsgXCJzdHJpbmdcIiwgXCJvYmplY3RcIiwgXCJmdW5jdGlvblwiIF0pO1xuXG5mdW5jdGlvbiBpc0VhZ2VySW5zdHJ1Y3Rpb24odCkge1xuICAgIGlmICh0ID09IG51bGwpIHJldHVybiBmYWxzZTtcbiAgICBjb25zdCBlID0gdC5wYXJhbXM7XG4gICAgY29uc3QgcyA9IHQuY29tcG9uZW50O1xuICAgIHJldHVybiB0eXBlb2YgZSA9PT0gXCJvYmplY3RcIiAmJiBlICE9PSBudWxsICYmIHMgIT0gbnVsbCAmJiBvdC5pbmNsdWRlcyh0eXBlb2YgcykgJiYgIShzIGluc3RhbmNlb2YgUHJvbWlzZSk7XG59XG5cbmNsYXNzIFJvdXRlQ29udGV4dCB7XG4gICAgZ2V0IGlzUm9vdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyZW50ID09PSBudWxsO1xuICAgIH1cbiAgICBnZXQgZGVwdGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhdGgubGVuZ3RoIC0gMTtcbiAgICB9XG4gICAgZ2V0IGFsbFJlc29sdmVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5RZTtcbiAgICB9XG4gICAgZ2V0IG5vZGUoKSB7XG4gICAgICAgIGNvbnN0IHQgPSB0aGlzLkplO1xuICAgICAgICBpZiAodCA9PT0gbnVsbCkgdGhyb3cgbmV3IEVycm9yKGdldE1lc3NhZ2UoMzE3MSwgdGhpcykpO1xuICAgICAgICByZXR1cm4gdDtcbiAgICB9XG4gICAgc2V0IG5vZGUodCkge1xuICAgICAgICBjb25zdCBlID0gdGhpcy5LZSA9IHRoaXMuSmU7XG4gICAgICAgIGlmIChlICE9PSB0KSB7XG4gICAgICAgICAgICB0aGlzLkplID0gdDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgdnBhKCkge1xuICAgICAgICBjb25zdCB0ID0gdGhpcy5YZTtcbiAgICAgICAgaWYgKHQgPT09IG51bGwpIHRocm93IG5ldyBFcnJvcihnZXRNZXNzYWdlKDMxNzIsIHRoaXMpKTtcbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfVxuICAgIGdldCBuYXZpZ2F0aW9uTW9kZWwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLlllO1xuICAgIH1cbiAgICBjb25zdHJ1Y3Rvcih0LCBlLCBzLCBpLCBuLCBvKSB7XG4gICAgICAgIHRoaXMucGFyZW50ID0gZTtcbiAgICAgICAgdGhpcy5jb21wb25lbnQgPSBzO1xuICAgICAgICB0aGlzLmNvbmZpZyA9IGk7XG4gICAgICAgIHRoaXMuWmUgPSBvO1xuICAgICAgICB0aGlzLnRzID0gW107XG4gICAgICAgIHRoaXMuY2hpbGRSb3V0ZXMgPSBbXTtcbiAgICAgICAgdGhpcy5RZSA9IG51bGw7XG4gICAgICAgIHRoaXMuS2UgPSBudWxsO1xuICAgICAgICB0aGlzLkplID0gbnVsbDtcbiAgICAgICAgdGhpcy5lcyA9IGZhbHNlO1xuICAgICAgICB0aGlzLlhlID0gdDtcbiAgICAgICAgaWYgKGUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMucm9vdCA9IHRoaXM7XG4gICAgICAgICAgICB0aGlzLnBhdGggPSBbIHRoaXMgXTtcbiAgICAgICAgICAgIHRoaXMuQXQgPSBzLm5hbWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJvb3QgPSBlLnJvb3Q7XG4gICAgICAgICAgICB0aGlzLnBhdGggPSBbIC4uLmUucGF0aCwgdGhpcyBdO1xuICAgICAgICAgICAgdGhpcy5BdCA9IGAke2UuQXR9LyR7cy5uYW1lfWA7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5MID0gbi5nZXQocikuc2NvcGVUbyhgUm91dGVDb250ZXh0PCR7dGhpcy5BdH0+YCk7XG4gICAgICAgIHRoaXMuc3MgPSBuLmdldChnKTtcbiAgICAgICAgY29uc3QgYSA9IHRoaXMuY29udGFpbmVyID0gbi5jcmVhdGVDaGlsZCgpO1xuICAgICAgICB0aGlzLnAgPSBhLmdldChDKTtcbiAgICAgICAgYS5yZWdpc3RlclJlc29sdmVyKE4sIHRoaXMubnMgPSBuZXcgZCwgdHJ1ZSk7XG4gICAgICAgIGNvbnN0IGMgPSBuZXcgZChcIklSb3V0ZUNvbnRleHRcIiwgdGhpcyk7XG4gICAgICAgIGEucmVnaXN0ZXJSZXNvbHZlcihydCwgYyk7XG4gICAgICAgIGEucmVnaXN0ZXJSZXNvbHZlcihSb3V0ZUNvbnRleHQsIGMpO1xuICAgICAgICB0aGlzLnJzID0gbmV3IEw7XG4gICAgICAgIGlmIChvLm9wdGlvbnMudXNlTmF2aWdhdGlvbk1vZGVsKSB7XG4gICAgICAgICAgICBjb25zdCB0ID0gdGhpcy5ZZSA9IG5ldyBOYXZpZ2F0aW9uTW9kZWwoW10pO1xuICAgICAgICAgICAgYS5nZXQoRCkuc3Vic2NyaWJlKFwiYXU6cm91dGVyOm5hdmlnYXRpb24tZW5kXCIsICgoKSA9PiB0Lm9zKG8sIHRoaXMpKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLlllID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNzKGkpO1xuICAgIH1cbiAgICBjcyh0KSB7XG4gICAgICAgIGNvbnN0IGUgPSBbXTtcbiAgICAgICAgY29uc3QgcyA9IHQucm91dGVzID8/IEc7XG4gICAgICAgIGNvbnN0IGkgPSBzLmxlbmd0aDtcbiAgICAgICAgaWYgKGkgPT09IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGUgPSB0LmNvbXBvbmVudC5wcm90b3R5cGU/LmdldFJvdXRlQ29uZmlnO1xuICAgICAgICAgICAgdGhpcy5lcyA9IGUgPT0gbnVsbCA/IHRydWUgOiB0eXBlb2YgZSAhPT0gXCJmdW5jdGlvblwiO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG4gPSB0aGlzLlllO1xuICAgICAgICBjb25zdCByID0gbiAhPT0gbnVsbDtcbiAgICAgICAgbGV0IGEgPSAwO1xuICAgICAgICBmb3IgKDthIDwgaTsgYSsrKSB7XG4gICAgICAgICAgICBjb25zdCBpID0gc1thXTtcbiAgICAgICAgICAgIGlmIChpIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgIGUucHVzaCh0aGlzLnVzKGkpKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGMgPSByZXNvbHZlUm91dGVDb25maWd1cmF0aW9uKGksIHRydWUsIHQsIG51bGwsIHRoaXMpO1xuICAgICAgICAgICAgaWYgKGMgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpc1BhcnRpYWxDaGlsZFJvdXRlQ29uZmlnKGkpIHx8IGkucGF0aCA9PSBudWxsKSB0aHJvdyBuZXcgRXJyb3IoZ2V0TWVzc2FnZSgzMTczKSk7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCB0IG9mIGVuc3VyZUFycmF5T2ZTdHJpbmdzKGkucGF0aCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5scyh0LCBpLmNhc2VTZW5zaXRpdmUgPz8gZmFsc2UsIGMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCB0ID0gdGhpcy5jaGlsZFJvdXRlcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgY29uc3QgcyA9IGMudGhlbigoZSA9PiB0aGlzLmNoaWxkUm91dGVzW3RdID0gZSkpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRSb3V0ZXMucHVzaChzKTtcbiAgICAgICAgICAgICAgICBpZiAocikge1xuICAgICAgICAgICAgICAgICAgICBuLnVzKHMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlLnB1c2gocy50aGVuKHcpKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoY29uc3QgdCBvZiBjLnBhdGggPz8gbykge1xuICAgICAgICAgICAgICAgIHRoaXMubHModCwgYy5jYXNlU2Vuc2l0aXZlLCBjKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuY2hpbGRSb3V0ZXMucHVzaChjKTtcbiAgICAgICAgICAgIGlmIChyKSB7XG4gICAgICAgICAgICAgICAgbi51cyhjKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVzID0gdHJ1ZTtcbiAgICAgICAgaWYgKGUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5RZSA9IFByb21pc2UuYWxsKGUpLnRoZW4oKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLlFlID0gbnVsbDtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgc2V0Um9vdCh0KSB7XG4gICAgICAgIGNvbnN0IGUgPSB0LmdldChyKS5zY29wZVRvKFwiUm91dGVDb250ZXh0XCIpO1xuICAgICAgICBpZiAoIXQuaGFzKGssIHRydWUpKSB7XG4gICAgICAgICAgICBsb2dBbmRUaHJvdyhuZXcgRXJyb3IoZ2V0TWVzc2FnZSgzMTY3KSksIGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0LmhhcyhydCwgdHJ1ZSkpIHtcbiAgICAgICAgICAgIGxvZ0FuZFRocm93KG5ldyBFcnJvcihnZXRNZXNzYWdlKDMxNjgpKSwgZSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qge2NvbnRyb2xsZXI6IHN9ID0gdC5nZXQoayk7XG4gICAgICAgIGlmIChzID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGxvZ0FuZFRocm93KG5ldyBFcnJvcihnZXRNZXNzYWdlKDMxNjkpKSwgZSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaSA9IHQuZ2V0KHR0KTtcbiAgICAgICAgcmV0dXJuIGEoaS5nZXRSb3V0ZUNvbnRleHQobnVsbCwgcy5kZWZpbml0aW9uLCBzLnZpZXdNb2RlbCwgcy5jb250YWluZXIsIG51bGwsIG51bGwsIG51bGwpLCAoZSA9PiB7XG4gICAgICAgICAgICB0LnJlZ2lzdGVyKGYuaW5zdGFuY2UocnQsIGUpKTtcbiAgICAgICAgICAgIGUubm9kZSA9IGkucm91dGVUcmVlLnJvb3Q7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgc3RhdGljIHJlc29sdmUodCwgZSkge1xuICAgICAgICBjb25zdCBzID0gdC5jb250YWluZXI7XG4gICAgICAgIGNvbnN0IGkgPSBzLmdldChyKS5zY29wZVRvKFwiUm91dGVDb250ZXh0XCIpO1xuICAgICAgICBpZiAoZSA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gdDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIFJvdXRlQ29udGV4dCkge1xuICAgICAgICAgICAgcmV0dXJuIGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBzLmdldChDKS5Ob2RlKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBiLmZvcihlLCB7XG4gICAgICAgICAgICAgICAgICAgIHNlYXJjaFBhcmVudHM6IHRydWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdC5jb250YWluZXIuZ2V0KHJ0KTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKHQpIHtcbiAgICAgICAgICAgICAgICBlcnJvcihpLCAzMTU1LCBlLm5vZGVOYW1lLCB0KTtcbiAgICAgICAgICAgICAgICB0aHJvdyB0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh2KGUpKSB7XG4gICAgICAgICAgICBjb25zdCB0ID0gZS4kY29udHJvbGxlcjtcbiAgICAgICAgICAgIHJldHVybiB0LmNvbnRhaW5lci5nZXQocnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICgkKGUpKSB7XG4gICAgICAgICAgICBjb25zdCB0ID0gZTtcbiAgICAgICAgICAgIHJldHVybiB0LmNvbnRhaW5lci5nZXQocnQpO1xuICAgICAgICB9XG4gICAgICAgIGxvZ0FuZFRocm93KG5ldyBFcnJvcihnZXRNZXNzYWdlKDMxNzAsIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKSkpLCBpKTtcbiAgICB9XG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgdGhpcy5jb250YWluZXIuZGlzcG9zZSgpO1xuICAgIH1cbiAgICBnZSh0KSB7XG4gICAgICAgIGNvbnN0IGUgPSB0aGlzLnRzLmZpbmQoKGUgPT4gZS56dCh0KSkpO1xuICAgICAgICBpZiAoZSA9PT0gdm9pZCAwKSB0aHJvdyBuZXcgRXJyb3IoZ2V0TWVzc2FnZSgzMTc0LCB0LCB0aGlzLnBzKCkpKTtcbiAgICAgICAgcmV0dXJuIGU7XG4gICAgfVxuICAgIGdldEF2YWlsYWJsZVZpZXdwb3J0QWdlbnRzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50cy5maWx0ZXIoKHQgPT4gdC5CdCgpKSk7XG4gICAgfVxuICAgIGdldEZhbGxiYWNrVmlld3BvcnRBZ2VudCh0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRzLmZpbmQoKGUgPT4gZS5CdCgpICYmIGUudmlld3BvcnQubmFtZSA9PT0gdCAmJiBlLnZpZXdwb3J0LmZhbGxiYWNrICE9PSBcIlwiKSkgPz8gbnVsbDtcbiAgICB9XG4gICAgRnQodCwgZSkge1xuICAgICAgICB0aGlzLm5zLnByZXBhcmUodCk7XG4gICAgICAgIGNvbnN0IHMgPSB0aGlzLmNvbnRhaW5lci5jcmVhdGVDaGlsZCh7XG4gICAgICAgICAgICBpbmhlcml0UGFyZW50UmVzb3VyY2VzOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBpID0gdGhpcy5wO1xuICAgICAgICBjb25zdCBuID0gZS5jb21wb25lbnQ7XG4gICAgICAgIGNvbnN0IHIgPSBpLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobi5uYW1lKTtcbiAgICAgICAgXyhzLCByLCBpKTtcbiAgICAgICAgY29uc3QgbyA9IHMuaW52b2tlKG4uVHlwZSk7XG4gICAgICAgIGNvbnN0IGMgPSB0aGlzLmVzID8gdm9pZCAwIDogYShyZXNvbHZlUm91dGVDb25maWd1cmF0aW9uKG8sIGZhbHNlLCB0aGlzLmNvbmZpZywgZSwgbnVsbCksICh0ID0+IHRoaXMuY3ModCkpKTtcbiAgICAgICAgcmV0dXJuIGEoYywgKCgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGkgPSBTLiRlbChzLCBvLCB0Lmhvc3QsIG51bGwsIG4pO1xuICAgICAgICAgICAgY29uc3QgciA9IG5ldyBDb21wb25lbnRBZ2VudChvLCBpLCBlLCB0aGlzLCB0aGlzLlplLm9wdGlvbnMpO1xuICAgICAgICAgICAgdGhpcy5ucy5kaXNwb3NlKCk7XG4gICAgICAgICAgICByZXR1cm4gcjtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBncyh0KSB7XG4gICAgICAgIGNvbnN0IGUgPSBWaWV3cG9ydEFnZW50LmZvcih0LCB0aGlzKTtcbiAgICAgICAgaWYgKHRoaXMudHMuaW5jbHVkZXMoZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudHMucHVzaChlKTtcbiAgICAgICAgcmV0dXJuIGU7XG4gICAgfVxuICAgIGRzKHQpIHtcbiAgICAgICAgY29uc3QgZSA9IFZpZXdwb3J0QWdlbnQuZm9yKHQsIHRoaXMpO1xuICAgICAgICBpZiAoIXRoaXMudHMuaW5jbHVkZXMoZSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRzLnNwbGljZSh0aGlzLnRzLmluZGV4T2YoZSksIDEpO1xuICAgIH1cbiAgICByZWNvZ25pemUodCwgZSA9IGZhbHNlKSB7XG4gICAgICAgIGxldCBzID0gdGhpcztcbiAgICAgICAgbGV0IGkgPSB0cnVlO1xuICAgICAgICBsZXQgbiA9IG51bGw7XG4gICAgICAgIHdoaWxlIChpKSB7XG4gICAgICAgICAgICBuID0gcy5ycy5yZWNvZ25pemUodCk7XG4gICAgICAgICAgICBpZiAobiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmICghZSB8fCBzLmlzUm9vdCkgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgcyA9IHMucGFyZW50O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyAkUmVjb2duaXplZFJvdXRlKG4sIFJlZmxlY3QuaGFzKG4ucGFyYW1zLCBBKSA/IG4ucGFyYW1zW0FdID8/IG51bGwgOiBudWxsKTtcbiAgICB9XG4gICAgdXModCkge1xuICAgICAgICByZXR1cm4gYShyZXNvbHZlUm91dGVDb25maWd1cmF0aW9uKHQsIHRydWUsIHRoaXMuY29uZmlnLCBudWxsLCB0aGlzKSwgKHQgPT4ge1xuICAgICAgICAgICAgZm9yIChjb25zdCBlIG9mIHQucGF0aCA/PyBvKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5scyhlLCB0LmNhc2VTZW5zaXRpdmUsIHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5ZZT8udXModCk7XG4gICAgICAgICAgICB0aGlzLmNoaWxkUm91dGVzLnB1c2godCk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgbHModCwgZSwgcykge1xuICAgICAgICB0aGlzLnJzLmFkZCh7XG4gICAgICAgICAgICBwYXRoOiB0LFxuICAgICAgICAgICAgY2FzZVNlbnNpdGl2ZTogZSxcbiAgICAgICAgICAgIGhhbmRsZXI6IHNcbiAgICAgICAgfSwgdHJ1ZSk7XG4gICAgfVxuICAgIGV0KHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3MubG9hZCh0LCAoZSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzID0gZS5yYXc7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHMgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBiLmlzVHlwZShzKSA/IGIuZ2V0RGVmaW5pdGlvbihzKSA6IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKHQgIT0gbnVsbCkgcmV0dXJuIHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgaSA9IHZvaWQgMDtcbiAgICAgICAgICAgIGxldCBuID0gdm9pZCAwO1xuICAgICAgICAgICAgZm9yIChjb25zdCB0IG9mIGUuaXRlbXMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlID0gYi5pc1R5cGUodC52YWx1ZSkgPyB0LmRlZmluaXRpb24gOiBudWxsO1xuICAgICAgICAgICAgICAgIGlmIChlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQua2V5ID09PSBcImRlZmF1bHRcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaSA9IGU7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobiA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuID0gZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpID09PSB2b2lkIDAgJiYgbiA9PT0gdm9pZCAwKSB0aHJvdyBuZXcgRXJyb3IoZ2V0TWVzc2FnZSgzMTc1LCB0KSk7XG4gICAgICAgICAgICByZXR1cm4gbiA/PyBpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIHBlKHQpIHtcbiAgICAgICAgaWYgKCFpc0VhZ2VySW5zdHJ1Y3Rpb24odCkpIHJldHVybiBudWxsO1xuICAgICAgICBjb25zdCBlID0gdC5jb21wb25lbnQ7XG4gICAgICAgIGxldCBzO1xuICAgICAgICBsZXQgaSA9IGZhbHNlO1xuICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIFJvdXRlQ29uZmlnKSB7XG4gICAgICAgICAgICBzID0gZS5wYXRoO1xuICAgICAgICAgICAgaSA9IHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IHQgPSB0aGlzLmNoaWxkUm91dGVzLmZpbmQoKHQgPT4gdC5pZCA9PT0gZSkpO1xuICAgICAgICAgICAgaWYgKHQgPT09IHZvaWQgMCkgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICBzID0gdC5wYXRoO1xuICAgICAgICB9IGVsc2UgaWYgKGUudHlwZSA9PT0gMCkge1xuICAgICAgICAgICAgY29uc3QgdCA9IHRoaXMuY2hpbGRSb3V0ZXMuZmluZCgodCA9PiB0LmlkID09PSBlLnZhbHVlKSk7XG4gICAgICAgICAgICBpZiAodCA9PT0gdm9pZCAwKSByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIHMgPSB0LnBhdGg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCB0ID0gcmVzb2x2ZUN1c3RvbUVsZW1lbnREZWZpbml0aW9uKGUsIHRoaXMpWzFdO1xuICAgICAgICAgICAgcyA9IHRoaXMuY2hpbGRSb3V0ZXMucmVkdWNlKCgoZSwgcykgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChzLmNvbXBvbmVudCA9PT0gdC5UeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIGUucHVzaCguLi5zLnBhdGgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZTtcbiAgICAgICAgICAgIH0pLCBbXSk7XG4gICAgICAgICAgICBpID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocyA9PT0gdm9pZCAwKSByZXR1cm4gbnVsbDtcbiAgICAgICAgY29uc3QgbiA9IHQucGFyYW1zO1xuICAgICAgICBjb25zdCByID0gdGhpcy5ycztcbiAgICAgICAgY29uc3QgbyA9IHMubGVuZ3RoO1xuICAgICAgICBjb25zdCBhID0gW107XG4gICAgICAgIGxldCBjID0gbnVsbDtcbiAgICAgICAgaWYgKG8gPT09IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IGUgPSBjb3JlKHNbMF0pO1xuICAgICAgICAgICAgaWYgKGUgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAoaSkgdGhyb3cgbmV3IEVycm9yKGdldE1lc3NhZ2UoMzE2NiwgdCwgYSkpO1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB2aTogVmlld3BvcnRJbnN0cnVjdGlvbi5jcmVhdGUoe1xuICAgICAgICAgICAgICAgICAgICByZWNvZ25pemVkUm91dGU6IG5ldyAkUmVjb2duaXplZFJvdXRlKG5ldyBPKGUuZW5kcG9pbnQsIGUuY29uc3VtZWQpLCBudWxsKSxcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50OiBlLnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiB0LmNoaWxkcmVuLFxuICAgICAgICAgICAgICAgICAgICB2aWV3cG9ydDogdC52aWV3cG9ydCxcbiAgICAgICAgICAgICAgICAgICAgb3BlbjogdC5vcGVuLFxuICAgICAgICAgICAgICAgICAgICBjbG9zZTogdC5jbG9zZVxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIHF1ZXJ5OiBlLnF1ZXJ5XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGxldCB1ID0gMDtcbiAgICAgICAgZm9yIChsZXQgdCA9IDA7IHQgPCBvOyB0KyspIHtcbiAgICAgICAgICAgIGNvbnN0IGUgPSBjb3JlKHNbdF0pO1xuICAgICAgICAgICAgaWYgKGUgPT09IG51bGwpIGNvbnRpbnVlO1xuICAgICAgICAgICAgaWYgKGMgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjID0gZTtcbiAgICAgICAgICAgICAgICB1ID0gT2JqZWN0LmtleXMoZS5jb25zdW1lZCkubGVuZ3RoO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChPYmplY3Qua2V5cyhlLmNvbnN1bWVkKS5sZW5ndGggPiB1KSB7XG4gICAgICAgICAgICAgICAgYyA9IGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGMgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChpKSB0aHJvdyBuZXcgRXJyb3IoZ2V0TWVzc2FnZSgzMTY2LCB0LCBhKSk7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmk6IFZpZXdwb3J0SW5zdHJ1Y3Rpb24uY3JlYXRlKHtcbiAgICAgICAgICAgICAgICByZWNvZ25pemVkUm91dGU6IG5ldyAkUmVjb2duaXplZFJvdXRlKG5ldyBPKGMuZW5kcG9pbnQsIGMuY29uc3VtZWQpLCBudWxsKSxcbiAgICAgICAgICAgICAgICBjb21wb25lbnQ6IGMucGF0aCxcbiAgICAgICAgICAgICAgICBjaGlsZHJlbjogdC5jaGlsZHJlbixcbiAgICAgICAgICAgICAgICB2aWV3cG9ydDogdC52aWV3cG9ydCxcbiAgICAgICAgICAgICAgICBvcGVuOiB0Lm9wZW4sXG4gICAgICAgICAgICAgICAgY2xvc2U6IHQuY2xvc2VcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgcXVlcnk6IGMucXVlcnlcbiAgICAgICAgfTtcbiAgICAgICAgZnVuY3Rpb24gY29yZSh0KSB7XG4gICAgICAgICAgICBjb25zdCBlID0gci5nZXRFbmRwb2ludCh0KTtcbiAgICAgICAgICAgIGlmIChlID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgYS5wdXNoKGBObyBlbmRwb2ludCBmb3VuZCBmb3IgdGhlIHBhdGg6ICcke3R9Jy5gKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBpIG9mIGUucGFyYW1zKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZSA9IGkubmFtZTtcbiAgICAgICAgICAgICAgICBsZXQgciA9IG5bZV07XG4gICAgICAgICAgICAgICAgaWYgKHIgPT0gbnVsbCB8fCBTdHJpbmcocikubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghaS5pc09wdGlvbmFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhLnB1c2goYE5vIHZhbHVlIGZvciB0aGUgcmVxdWlyZWQgcGFyYW1ldGVyICcke2V9JyBpcyBwcm92aWRlZCBmb3IgdGhlIHBhdGg6ICcke3R9Jy5gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHIgPSBcIlwiO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghaS5zYXRpc2ZpZXNQYXR0ZXJuKHIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhLnB1c2goYFRoZSB2YWx1ZSAnJHtyfScgZm9yIHRoZSBwYXJhbWV0ZXIgJyR7ZX0nIGRvZXMgbm90IHNhdGlzZnkgdGhlIHBhdHRlcm4gJyR7aS5wYXR0ZXJufScuYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzW2VdID0gcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgbyA9IGkuaXNTdGFyID8gYCoke2V9YCA6IGkuaXNPcHRpb25hbCA/IGA6JHtlfT9gIDogYDoke2V9YDtcbiAgICAgICAgICAgICAgICB0ID0gdC5yZXBsYWNlKG8sIGVuY29kZVVSSUNvbXBvbmVudChyKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBpID0gT2JqZWN0LmtleXMocyk7XG4gICAgICAgICAgICBjb25zdCBvID0gT2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKG4pLmZpbHRlcigoKFt0XSkgPT4gIWkuaW5jbHVkZXModCkpKSk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHBhdGg6IHQucmVwbGFjZSgvXFwvXFwvL2csIFwiL1wiKSxcbiAgICAgICAgICAgICAgICBlbmRwb2ludDogZSxcbiAgICAgICAgICAgICAgICBjb25zdW1lZDogcyxcbiAgICAgICAgICAgICAgICBxdWVyeTogb1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgY29uc3QgdCA9IHRoaXMudHM7XG4gICAgICAgIGNvbnN0IGUgPSB0Lm1hcChTdHJpbmcpLmpvaW4oXCIsXCIpO1xuICAgICAgICByZXR1cm4gYFJDKHBhdGg6JyR7dGhpcy5BdH0nLHZpZXdwb3J0czpbJHtlfV0pYDtcbiAgICB9XG4gICAgcHMoKSB7XG4gICAgICAgIGNvbnN0IHQgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgZSA9IDA7IGUgPCB0aGlzLnBhdGgubGVuZ3RoOyArK2UpIHtcbiAgICAgICAgICAgIHQucHVzaChgJHtcIiBcIi5yZXBlYXQoZSl9JHt0aGlzLnBhdGhbZV19YCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQuam9pbihcIlxcblwiKTtcbiAgICB9XG59XG5cbmNsYXNzICRSZWNvZ25pemVkUm91dGUge1xuICAgIGNvbnN0cnVjdG9yKHQsIGUpIHtcbiAgICAgICAgdGhpcy5yb3V0ZSA9IHQ7XG4gICAgICAgIHRoaXMucmVzaWR1ZSA9IGU7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gXCJSUlwiO1xuICAgIH1cbn1cblxuY2xhc3MgTmF2aWdhdGlvbk1vZGVsIHtcbiAgICBjb25zdHJ1Y3Rvcih0KSB7XG4gICAgICAgIHRoaXMucm91dGVzID0gdDtcbiAgICAgICAgdGhpcy53cyA9IHZvaWQgMDtcbiAgICB9XG4gICAgcmVzb2x2ZSgpIHtcbiAgICAgICAgcmV0dXJuIGEodGhpcy53cywgdyk7XG4gICAgfVxuICAgIG9zKHQsIGUpIHtcbiAgICAgICAgdm9pZCBhKHRoaXMud3MsICgoKSA9PiB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHMgb2YgdGhpcy5yb3V0ZXMpIHtcbiAgICAgICAgICAgICAgICBzLm9zKHQsIGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgfVxuICAgIHVzKHQpIHtcbiAgICAgICAgY29uc3QgZSA9IHRoaXMucm91dGVzO1xuICAgICAgICBpZiAoISh0IGluc3RhbmNlb2YgUHJvbWlzZSkpIHtcbiAgICAgICAgICAgIGlmICgodC5uYXYgPz8gZmFsc2UpICYmIHQucmVkaXJlY3RUbyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGUucHVzaChOYXZpZ2F0aW9uUm91dGUuSih0KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcyA9IGUubGVuZ3RoO1xuICAgICAgICBlLnB1c2godm9pZCAwKTtcbiAgICAgICAgbGV0IGkgPSB2b2lkIDA7XG4gICAgICAgIGkgPSB0aGlzLndzID0gYSh0aGlzLndzLCAoKCkgPT4gYSh0LCAodCA9PiB7XG4gICAgICAgICAgICBpZiAodC5uYXYgJiYgdC5yZWRpcmVjdFRvID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZVtzXSA9IE5hdmlnYXRpb25Sb3V0ZS5KKHQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBlLnNwbGljZShzLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLndzID09PSBpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy53cyA9IHZvaWQgMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpKSk7XG4gICAgfVxufVxuXG5jbGFzcyBOYXZpZ2F0aW9uUm91dGUge1xuICAgIGNvbnN0cnVjdG9yKHQsIGUsIHMsIGkpIHtcbiAgICAgICAgdGhpcy5pZCA9IHQ7XG4gICAgICAgIHRoaXMucGF0aCA9IGU7XG4gICAgICAgIHRoaXMudGl0bGUgPSBzO1xuICAgICAgICB0aGlzLmRhdGEgPSBpO1xuICAgICAgICB0aGlzLkVzID0gbnVsbDtcbiAgICB9XG4gICAgc3RhdGljIEoodCkge1xuICAgICAgICByZXR1cm4gbmV3IE5hdmlnYXRpb25Sb3V0ZSh0LmlkLCBlbnN1cmVBcnJheU9mU3RyaW5ncyh0LnBhdGggPz8gbyksIHQudGl0bGUsIHQuZGF0YSk7XG4gICAgfVxuICAgIGdldCBpc0FjdGl2ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuTnQ7XG4gICAgfVxuICAgIG9zKHQsIGUpIHtcbiAgICAgICAgbGV0IHMgPSB0aGlzLkVzO1xuICAgICAgICBpZiAocyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3QgaSA9IHQub3B0aW9ucztcbiAgICAgICAgICAgIHMgPSB0aGlzLkVzID0gdGhpcy5wYXRoLm1hcCgodCA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcyA9IGUucnMuZ2V0RW5kcG9pbnQodCk7XG4gICAgICAgICAgICAgICAgaWYgKHMgPT09IG51bGwpIHRocm93IG5ldyBFcnJvcihnZXRNZXNzYWdlKDM0NTAsIHQpKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFZpZXdwb3J0SW5zdHJ1Y3Rpb25UcmVlKE5hdmlnYXRpb25PcHRpb25zLmNyZWF0ZShpLCB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQ6IGVcbiAgICAgICAgICAgICAgICB9KSwgZmFsc2UsIFsgVmlld3BvcnRJbnN0cnVjdGlvbi5jcmVhdGUoe1xuICAgICAgICAgICAgICAgICAgICByZWNvZ25pemVkUm91dGU6IG5ldyAkUmVjb2duaXplZFJvdXRlKG5ldyBPKHMsIGgpLCBudWxsKSxcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50OiB0XG4gICAgICAgICAgICAgICAgfSkgXSwgWiwgbnVsbCk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5OdCA9IHMuc29tZSgoZSA9PiB0LnJvdXRlVHJlZS5jb250YWlucyhlLCB0cnVlKSkpO1xuICAgIH1cbn1cblxuY2xhc3MgVmlld3BvcnRDdXN0b21FbGVtZW50IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbnQ7XG4gICAgICAgIHRoaXMudXNlZEJ5ID0gXCJcIjtcbiAgICAgICAgdGhpcy5kZWZhdWx0ID0gXCJcIjtcbiAgICAgICAgdGhpcy5mYWxsYmFjayA9IFwiXCI7XG4gICAgICAgIHRoaXMuUnMgPSB2b2lkIDA7XG4gICAgICAgIHRoaXMuTGUgPSB2b2lkIDA7XG4gICAgICAgIHRoaXMud2UgPSBpKHJ0KTtcbiAgICAgICAgdGhpcy5MID0gaShyKS5zY29wZVRvKGBhdS12aWV3cG9ydDwke3RoaXMud2UuQXR9PmApO1xuICAgIH1cbiAgICB0dCh0LCBlLCBzKSB7XG4gICAgICAgIGNvbnN0IGkgPSB0aGlzLmZhbGxiYWNrO1xuICAgICAgICByZXR1cm4gdHlwZW9mIGkgPT09IFwiZnVuY3Rpb25cIiAmJiAhYi5pc1R5cGUoaSkgPyBpKHQsIGUsIHMpIDogaTtcbiAgICB9XG4gICAgaHlkcmF0ZWQodCkge1xuICAgICAgICB0aGlzLkxlID0gdDtcbiAgICAgICAgdGhpcy5ScyA9IHRoaXMud2UuZ3ModGhpcyk7XG4gICAgfVxuICAgIGF0dGFjaGluZyh0LCBlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLlJzLk90KHQsIHRoaXMuTGUpO1xuICAgIH1cbiAgICBkZXRhY2hpbmcodCwgZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5Scy5MdCh0LCB0aGlzLkxlKTtcbiAgICB9XG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgdGhpcy53ZS5kcyh0aGlzKTtcbiAgICAgICAgdGhpcy5Scy5KdCgpO1xuICAgICAgICB0aGlzLlJzID0gdm9pZCAwO1xuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgY29uc3QgdCA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IGUgb2YgYXQpIHtcbiAgICAgICAgICAgIGNvbnN0IHMgPSB0aGlzW2VdO1xuICAgICAgICAgICAgc3dpdGNoICh0eXBlb2Ygcykge1xuICAgICAgICAgICAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICAgICAgICAgICAgaWYgKHMgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdC5wdXNoKGAke2V9Oicke3N9J2ApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdC5wdXNoKGAke2V9OiR7U3RyaW5nKHMpfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYFZQKGN0eDonJHt0aGlzLndlLkF0fScsJHt0LmpvaW4oXCIsXCIpfSlgO1xuICAgIH1cbn1cblxuYi5kZWZpbmUoe1xuICAgIG5hbWU6IFwiYXUtdmlld3BvcnRcIixcbiAgICBiaW5kYWJsZXM6IFsgXCJuYW1lXCIsIFwidXNlZEJ5XCIsIFwiZGVmYXVsdFwiLCBcImZhbGxiYWNrXCIgXVxufSwgVmlld3BvcnRDdXN0b21FbGVtZW50KTtcblxuY29uc3QgYXQgPSBbIFwibmFtZVwiLCBcInVzZWRCeVwiLCBcImRlZmF1bHRcIiwgXCJmYWxsYmFja1wiIF07XG5cbmNsYXNzIExvYWRDdXN0b21BdHRyaWJ1dGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnlzID0gaShJKTtcbiAgICAgICAgdGhpcy5aZSA9IGkodHQpO1xuICAgICAgICB0aGlzLndlID0gaShydCk7XG4gICAgICAgIHRoaXMuSSA9IGkoRCk7XG4gICAgICAgIHRoaXMuJGUgPSBpKEYpO1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZSA9IFwiaHJlZlwiO1xuICAgICAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmJzID0gbnVsbDtcbiAgICAgICAgdGhpcy5SZSA9IG51bGw7XG4gICAgICAgIHRoaXMuU3MgPSBudWxsO1xuICAgICAgICB0aGlzLm9uQ2xpY2sgPSB0ID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLlJlID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHQuYWx0S2V5IHx8IHQuY3RybEtleSB8fCB0LnNoaWZ0S2V5IHx8IHQubWV0YUtleSB8fCB0LmJ1dHRvbiAhPT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHZvaWQgdGhpcy5aZS5sb2FkKHRoaXMuUmUsIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0OiB0aGlzLmNvbnRleHRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCB0ID0gdGhpcy55cztcbiAgICAgICAgdGhpcy5DcyA9ICF0Lmhhc0F0dHJpYnV0ZShcImV4dGVybmFsXCIpICYmICF0Lmhhc0F0dHJpYnV0ZShcImRhdGEtZXh0ZXJuYWxcIik7XG4gICAgICAgIHRoaXMueHMgPSB0aGlzLlplLm9wdGlvbnMuYWN0aXZlQ2xhc3M7XG4gICAgfVxuICAgIGJpbmRpbmcoKSB7XG4gICAgICAgIGlmICh0aGlzLkNzKSB7XG4gICAgICAgICAgICB0aGlzLnlzLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLm9uQ2xpY2spO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudmFsdWVDaGFuZ2VkKCk7XG4gICAgICAgIHRoaXMuU3MgPSB0aGlzLkkuc3Vic2NyaWJlKFwiYXU6cm91dGVyOm5hdmlnYXRpb24tZW5kXCIsICh0ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGUgPSB0aGlzLmFjdGl2ZSA9IHRoaXMuUmUgIT09IG51bGwgJiYgdGhpcy5aZS5pc0FjdGl2ZSh0aGlzLlJlLCB0aGlzLmNvbnRleHQpO1xuICAgICAgICAgICAgY29uc3QgcyA9IHRoaXMueHM7XG4gICAgICAgICAgICBpZiAocyA9PT0gbnVsbCkgcmV0dXJuO1xuICAgICAgICAgICAgdGhpcy55cy5jbGFzc0xpc3QudG9nZ2xlKHMsIGUpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIGF0dGFjaGluZygpIHtcbiAgICAgICAgY29uc3QgdCA9IHRoaXMuY29udGV4dDtcbiAgICAgICAgY29uc3QgZSA9IHQuYWxsUmVzb2x2ZWQ7XG4gICAgICAgIGlmIChlICE9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gZS50aGVuKCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy52YWx1ZUNoYW5nZWQoKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB1bmJpbmRpbmcoKSB7XG4gICAgICAgIGlmICh0aGlzLkNzKSB7XG4gICAgICAgICAgICB0aGlzLnlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLm9uQ2xpY2spO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuU3MuZGlzcG9zZSgpO1xuICAgIH1cbiAgICB2YWx1ZUNoYW5nZWQoKSB7XG4gICAgICAgIGNvbnN0IHQgPSB0aGlzLlplO1xuICAgICAgICBjb25zdCBlID0gdC5vcHRpb25zO1xuICAgICAgICBjb25zdCBzID0gdGhpcy5yb3V0ZTtcbiAgICAgICAgbGV0IGkgPSB0aGlzLmNvbnRleHQ7XG4gICAgICAgIGlmIChpID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGkgPSB0aGlzLmNvbnRleHQgPSB0aGlzLndlO1xuICAgICAgICB9IGVsc2UgaWYgKGkgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGkgPSB0aGlzLmNvbnRleHQgPSB0aGlzLndlLnJvb3Q7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMgIT0gbnVsbCAmJiBpLmFsbFJlc29sdmVkID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCBuID0gdGhpcy5wYXJhbXM7XG4gICAgICAgICAgICBjb25zdCByID0gdGhpcy5SZSA9IHQuY3JlYXRlVmlld3BvcnRJbnN0cnVjdGlvbnModHlwZW9mIG4gPT09IFwib2JqZWN0XCIgJiYgbiAhPT0gbnVsbCA/IHtcbiAgICAgICAgICAgICAgICBjb21wb25lbnQ6IHMsXG4gICAgICAgICAgICAgICAgcGFyYW1zOiBuXG4gICAgICAgICAgICB9IDogcywge1xuICAgICAgICAgICAgICAgIGNvbnRleHQ6IGlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5icyA9IHIudG9VcmwoZmFsc2UsIGUuVmUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5SZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmJzID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuID0gYi5mb3IodGhpcy55cywge1xuICAgICAgICAgICAgb3B0aW9uYWw6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChuICE9PSBudWxsKSB7XG4gICAgICAgICAgICBuLnZpZXdNb2RlbFt0aGlzLmF0dHJpYnV0ZV0gPSB0aGlzLlJlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRoaXMuYnMgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnlzLnJlbW92ZUF0dHJpYnV0ZSh0aGlzLmF0dHJpYnV0ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBlLnVzZVVybEZyYWdtZW50SGFzaCA/IHRoaXMuYnMgOiB0aGlzLiRlLmFkZEJhc2VIcmVmKHRoaXMuYnMpO1xuICAgICAgICAgICAgICAgIHRoaXMueXMuc2V0QXR0cmlidXRlKHRoaXMuYXR0cmlidXRlLCB0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuVC5kZWZpbmUoe1xuICAgIG5hbWU6IFwibG9hZFwiLFxuICAgIGJpbmRhYmxlczoge1xuICAgICAgICByb3V0ZToge1xuICAgICAgICAgICAgbW9kZTogeixcbiAgICAgICAgICAgIHByaW1hcnk6IHRydWUsXG4gICAgICAgICAgICBjYWxsYmFjazogXCJ2YWx1ZUNoYW5nZWRcIlxuICAgICAgICB9LFxuICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgIG1vZGU6IHosXG4gICAgICAgICAgICBjYWxsYmFjazogXCJ2YWx1ZUNoYW5nZWRcIlxuICAgICAgICB9LFxuICAgICAgICBhdHRyaWJ1dGU6IHtcbiAgICAgICAgICAgIG1vZGU6IHpcbiAgICAgICAgfSxcbiAgICAgICAgYWN0aXZlOiB7XG4gICAgICAgICAgICBtb2RlOiBCXG4gICAgICAgIH0sXG4gICAgICAgIGNvbnRleHQ6IHtcbiAgICAgICAgICAgIG1vZGU6IHosXG4gICAgICAgICAgICBjYWxsYmFjazogXCJ2YWx1ZUNoYW5nZWRcIlxuICAgICAgICB9XG4gICAgfVxufSwgTG9hZEN1c3RvbUF0dHJpYnV0ZSk7XG5cbmNsYXNzIEhyZWZDdXN0b21BdHRyaWJ1dGUge1xuICAgIGdldCBOcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMueXMuaGFzQXR0cmlidXRlKFwiZXh0ZXJuYWxcIikgfHwgdGhpcy55cy5oYXNBdHRyaWJ1dGUoXCJkYXRhLWV4dGVybmFsXCIpO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy55cyA9IGkoSSk7XG4gICAgICAgIHRoaXMuWmUgPSBpKHR0KTtcbiAgICAgICAgdGhpcy53ZSA9IGkocnQpO1xuICAgICAgICB0aGlzLmtzID0gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLlplLm9wdGlvbnMudXNlSHJlZiAmJiB0aGlzLnlzLm5vZGVOYW1lID09PSBcIkFcIikge1xuICAgICAgICAgICAgY29uc3QgdCA9IGkoeSkubmFtZTtcbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy55cy5nZXRBdHRyaWJ1dGUoXCJ0YXJnZXRcIikpIHtcbiAgICAgICAgICAgICAgY2FzZSBudWxsOlxuICAgICAgICAgICAgICBjYXNlIHQ6XG4gICAgICAgICAgICAgIGNhc2UgXCJfc2VsZlwiOlxuICAgICAgICAgICAgICAgIHRoaXMuQ3MgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhpcy5DcyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5DcyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGJpbmRpbmcoKSB7XG4gICAgICAgIGlmICghdGhpcy5rcykge1xuICAgICAgICAgICAgdGhpcy5rcyA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLkNzID0gdGhpcy5DcyAmJiBQKHRoaXMueXMsIFQuZ2V0RGVmaW5pdGlvbihMb2FkQ3VzdG9tQXR0cmlidXRlKS5rZXkpID09PSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudmFsdWVDaGFuZ2VkKHRoaXMudmFsdWUpO1xuICAgICAgICB0aGlzLnlzLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzKTtcbiAgICB9XG4gICAgdW5iaW5kaW5nKCkge1xuICAgICAgICB0aGlzLnlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzKTtcbiAgICB9XG4gICAgdmFsdWVDaGFuZ2VkKHQpIHtcbiAgICAgICAgaWYgKHQgPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy55cy5yZW1vdmVBdHRyaWJ1dGUoXCJocmVmXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRoaXMuWmUub3B0aW9ucy51c2VVcmxGcmFnbWVudEhhc2ggJiYgdGhpcy53ZS5pc1Jvb3QgJiYgIS9eWy4jXS8udGVzdCh0KSAmJiAhdGhpcy5Ocykge1xuICAgICAgICAgICAgICAgIHQgPSBgIyR7dH1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy55cy5zZXRBdHRyaWJ1dGUoXCJocmVmXCIsIHQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGhhbmRsZUV2ZW50KHQpIHtcbiAgICAgICAgdGhpcy4kcyh0KTtcbiAgICB9XG4gICAgJHModCkge1xuICAgICAgICBpZiAodC5hbHRLZXkgfHwgdC5jdHJsS2V5IHx8IHQuc2hpZnRLZXkgfHwgdC5tZXRhS2V5IHx8IHQuYnV0dG9uICE9PSAwIHx8IHRoaXMuTnMgfHwgIXRoaXMuQ3MpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlID0gdGhpcy55cy5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpO1xuICAgICAgICBpZiAoZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgdm9pZCB0aGlzLlplLmxvYWQoZSwge1xuICAgICAgICAgICAgICAgIGNvbnRleHQ6IHRoaXMud2VcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5IcmVmQ3VzdG9tQXR0cmlidXRlLiRhdSA9IHtcbiAgICB0eXBlOiBcImN1c3RvbS1hdHRyaWJ1dGVcIixcbiAgICBuYW1lOiBcImhyZWZcIixcbiAgICBub011bHRpQmluZGluZ3M6IHRydWUsXG4gICAgYmluZGFibGVzOiB7XG4gICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgICBtb2RlOiB6XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5jb25zdCBjdCA9IHR0O1xuXG5jb25zdCB1dCA9IFsgY3QgXTtcblxuY29uc3QgaHQgPSBWaWV3cG9ydEN1c3RvbUVsZW1lbnQ7XG5cbmNvbnN0IGx0ID0gTG9hZEN1c3RvbUF0dHJpYnV0ZTtcblxuY29uc3QgZnQgPSBIcmVmQ3VzdG9tQXR0cmlidXRlO1xuXG5jb25zdCBwdCA9IFsgVmlld3BvcnRDdXN0b21FbGVtZW50LCBMb2FkQ3VzdG9tQXR0cmlidXRlLCBIcmVmQ3VzdG9tQXR0cmlidXRlIF07XG5cbmZ1bmN0aW9uIGNvbmZpZ3VyZSh0LCBzKSB7XG4gICAgbGV0IGkgPSBudWxsO1xuICAgIGlmIChlKHMpKSB7XG4gICAgICAgIGkgPSBzLmJhc2VQYXRoID8/IG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcyA9IHt9O1xuICAgIH1cbiAgICBjb25zdCBuID0gUm91dGVyT3B0aW9ucy5jcmVhdGUocyk7XG4gICAgcmV0dXJuIHQucmVnaXN0ZXIoZi5jYWNoZWRDYWxsYmFjayhxLCAoKHQsIGUsIHMpID0+IHtcbiAgICAgICAgY29uc3QgbiA9IHQuZ2V0KHkpO1xuICAgICAgICBjb25zdCByID0gbmV3IFVSTChuLmRvY3VtZW50LmJhc2VVUkkpO1xuICAgICAgICByLnBhdGhuYW1lID0gbm9ybWFsaXplUGF0aChpID8/IHIucGF0aG5hbWUpO1xuICAgICAgICByZXR1cm4gcjtcbiAgICB9KSksIGYuaW5zdGFuY2UoaXQsIG4pLCBmLmluc3RhbmNlKFJvdXRlck9wdGlvbnMsIG4pLCBWLmNyZWF0aW5nKHR0LCAodCA9PiB7fSkpLCBWLmh5ZHJhdGVkKGwsIFJvdXRlQ29udGV4dC5zZXRSb290KSwgVi5hY3RpdmF0ZWQodHQsICh0ID0+IHQuc3RhcnQodHJ1ZSkpKSwgVi5kZWFjdGl2YXRlZCh0dCwgKHQgPT4gdC5zdG9wKCkpKSwgLi4udXQsIC4uLnB0KTtcbn1cblxuY29uc3QgZ3QgPSB7XG4gICAgcmVnaXN0ZXIodCkge1xuICAgICAgICByZXR1cm4gY29uZmlndXJlKHQpO1xuICAgIH0sXG4gICAgY3VzdG9taXplKHQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlZ2lzdGVyKGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29uZmlndXJlKGUsIHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbn07XG5cbmNsYXNzIFNjcm9sbFN0YXRlIHtcbiAgICBjb25zdHJ1Y3Rvcih0KSB7XG4gICAgICAgIHRoaXMueXMgPSB0O1xuICAgICAgICB0aGlzLl9zID0gdC5zY3JvbGxUb3A7XG4gICAgICAgIHRoaXMuVHMgPSB0LnNjcm9sbExlZnQ7XG4gICAgfVxuICAgIHN0YXRpYyBJcyh0KSB7XG4gICAgICAgIHJldHVybiB0LnNjcm9sbFRvcCA+IDAgfHwgdC5zY3JvbGxMZWZ0ID4gMDtcbiAgICB9XG4gICAgUHMoKSB7XG4gICAgICAgIHRoaXMueXMuc2Nyb2xsVG8odGhpcy5UcywgdGhpcy5fcyk7XG4gICAgICAgIHRoaXMueXMgPSBudWxsO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gcmVzdG9yZVN0YXRlKHQpIHtcbiAgICB0LlBzKCk7XG59XG5cbmNsYXNzIEhvc3RFbGVtZW50U3RhdGUge1xuICAgIGNvbnN0cnVjdG9yKHQpIHtcbiAgICAgICAgdGhpcy5WcyA9IFtdO1xuICAgICAgICB0aGlzLkFzKHQuY2hpbGRyZW4pO1xuICAgIH1cbiAgICBBcyh0KSB7XG4gICAgICAgIGxldCBlO1xuICAgICAgICBmb3IgKGxldCBzID0gMCwgaSA9IHQubGVuZ3RoOyBzIDwgaTsgKytzKSB7XG4gICAgICAgICAgICBlID0gdFtzXTtcbiAgICAgICAgICAgIGlmIChTY3JvbGxTdGF0ZS5JcyhlKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuVnMucHVzaChuZXcgU2Nyb2xsU3RhdGUoZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5BcyhlLmNoaWxkcmVuKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBQcygpIHtcbiAgICAgICAgdGhpcy5Wcy5mb3JFYWNoKHJlc3RvcmVTdGF0ZSk7XG4gICAgICAgIHRoaXMuVnMgPSBudWxsO1xuICAgIH1cbn1cblxuY29uc3QgZHQgPSAvKkBfX1BVUkVfXyovIHMuY3JlYXRlSW50ZXJmYWNlKFwiSVN0YXRlTWFuYWdlclwiLCAodCA9PiB0LnNpbmdsZXRvbihTY3JvbGxTdGF0ZU1hbmFnZXIpKSk7XG5cbmNsYXNzIFNjcm9sbFN0YXRlTWFuYWdlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuT3MgPSBuZXcgV2Vha01hcDtcbiAgICB9XG4gICAgc2F2ZVN0YXRlKHQpIHtcbiAgICAgICAgdGhpcy5Pcy5zZXQodC5ob3N0LCBuZXcgSG9zdEVsZW1lbnRTdGF0ZSh0Lmhvc3QpKTtcbiAgICB9XG4gICAgcmVzdG9yZVN0YXRlKHQpIHtcbiAgICAgICAgY29uc3QgZSA9IHRoaXMuT3MuZ2V0KHQuaG9zdCk7XG4gICAgICAgIGlmIChlICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGUuUHMoKTtcbiAgICAgICAgICAgIHRoaXMuT3MuZGVsZXRlKHQuaG9zdCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmNvbnN0IHd0ID0gLypAX19QVVJFX18qLyBzLmNyZWF0ZUludGVyZmFjZShcIklDdXJyZW50Um91dGVcIiwgKHQgPT4gdC5zaW5nbGV0b24oQ3VycmVudFJvdXRlKSkpO1xuXG5jbGFzcyBDdXJyZW50Um91dGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnBhdGggPSBcIlwiO1xuICAgICAgICB0aGlzLnVybCA9IFwiXCI7XG4gICAgICAgIHRoaXMudGl0bGUgPSBcIlwiO1xuICAgICAgICB0aGlzLnF1ZXJ5ID0gbmV3IFVSTFNlYXJjaFBhcmFtcztcbiAgICAgICAgdGhpcy5wYXJhbWV0ZXJJbmZvcm1hdGlvbiA9IG87XG4gICAgICAgIGNvbnN0IHQgPSBpKHR0KTtcbiAgICAgICAgY29uc3QgZSA9IHQub3B0aW9ucztcbiAgICAgICAgaShEKS5zdWJzY3JpYmUoXCJhdTpyb3V0ZXI6bmF2aWdhdGlvbi1lbmRcIiwgKHMgPT4ge1xuICAgICAgICAgICAgY29uc3QgaSA9IHMuZmluYWxJbnN0cnVjdGlvbnM7XG4gICAgICAgICAgICBVKCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXRoID0gaS50b1BhdGgoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnVybCA9IGkudG9VcmwodHJ1ZSwgZS5WZSk7XG4gICAgICAgICAgICAgICAgdGhpcy50aXRsZSA9IHQuTWUoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnF1ZXJ5ID0gaS5xdWVyeVBhcmFtcztcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmFtZXRlckluZm9ybWF0aW9uID0gaS5jaGlsZHJlbi5tYXAoKHQgPT4gUGFyYW1ldGVySW5mb3JtYXRpb24uY3JlYXRlKHQpKSk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0pKTtcbiAgICB9XG59XG5cbmNsYXNzIFBhcmFtZXRlckluZm9ybWF0aW9uIHtcbiAgICBjb25zdHJ1Y3Rvcih0LCBlLCBzLCBpKSB7XG4gICAgICAgIHRoaXMuY29uZmlnID0gdDtcbiAgICAgICAgdGhpcy52aWV3cG9ydCA9IGU7XG4gICAgICAgIHRoaXMucGFyYW1zID0gcztcbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IGk7XG4gICAgfVxuICAgIHN0YXRpYyBjcmVhdGUodCkge1xuICAgICAgICBjb25zdCBlID0gdC5yZWNvZ25pemVkUm91dGU/LnJvdXRlO1xuICAgICAgICBjb25zdCBzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgT2JqZWN0LmFzc2lnbihzLCBlPy5wYXJhbXMgPz8gdC5wYXJhbXMpO1xuICAgICAgICBSZWZsZWN0LmRlbGV0ZVByb3BlcnR5KHMsIEEpO1xuICAgICAgICByZXR1cm4gbmV3IFBhcmFtZXRlckluZm9ybWF0aW9uKGU/LmVuZHBvaW50LnJvdXRlLmhhbmRsZXIgPz8gbnVsbCwgdC52aWV3cG9ydCwgcywgdC5jaGlsZHJlbi5tYXAoKHQgPT4gdGhpcy5jcmVhdGUodCkpKSk7XG4gICAgfVxufVxuXG5leHBvcnQgeyBLIGFzIEFTVCwgSCBhcyBBdU5hdklkLCBDb21wb25lbnRFeHByZXNzaW9uLCBDb21wb3NpdGVTZWdtZW50RXhwcmVzc2lvbiwgdXQgYXMgRGVmYXVsdENvbXBvbmVudHMsIHB0IGFzIERlZmF1bHRSZXNvdXJjZXMsIEhyZWZDdXN0b21BdHRyaWJ1dGUsIGZ0IGFzIEhyZWZDdXN0b21BdHRyaWJ1dGVSZWdpc3RyYXRpb24sIHd0IGFzIElDdXJyZW50Um91dGUsIEYgYXMgSUxvY2F0aW9uTWFuYWdlciwgcnQgYXMgSVJvdXRlQ29udGV4dCwgdHQgYXMgSVJvdXRlciwgRCBhcyBJUm91dGVyRXZlbnRzLCBpdCBhcyBJUm91dGVyT3B0aW9ucywgZHQgYXMgSVN0YXRlTWFuYWdlciwgTG9hZEN1c3RvbUF0dHJpYnV0ZSwgbHQgYXMgTG9hZEN1c3RvbUF0dHJpYnV0ZVJlZ2lzdHJhdGlvbiwgTG9jYXRpb25DaGFuZ2VFdmVudCwgTmF2aWdhdGlvbkNhbmNlbEV2ZW50LCBOYXZpZ2F0aW9uRW5kRXZlbnQsIE5hdmlnYXRpb25FcnJvckV2ZW50LCBOYXZpZ2F0aW9uT3B0aW9ucywgTmF2aWdhdGlvblN0YXJ0RXZlbnQsIFBhcmFtZXRlckV4cHJlc3Npb24sIFBhcmFtZXRlckxpc3RFeHByZXNzaW9uLCBXIGFzIFJvdXRlLCBSb3V0ZUNvbmZpZywgUm91dGVDb250ZXh0LCBSb3V0ZUV4cHJlc3Npb24sIFJvdXRlTm9kZSwgUm91dGVUcmVlLCBSb3V0ZXIsIGd0IGFzIFJvdXRlckNvbmZpZ3VyYXRpb24sIFJvdXRlck9wdGlvbnMsIGN0IGFzIFJvdXRlclJlZ2lzdHJhdGlvbiwgU2NvcGVkU2VnbWVudEV4cHJlc3Npb24sIFNlZ21lbnRFeHByZXNzaW9uLCBTZWdtZW50R3JvdXBFeHByZXNzaW9uLCBUcmFuc2l0aW9uLCBWaWV3cG9ydEFnZW50LCBWaWV3cG9ydEN1c3RvbUVsZW1lbnQsIGh0IGFzIFZpZXdwb3J0Q3VzdG9tRWxlbWVudFJlZ2lzdHJhdGlvbiwgVmlld3BvcnRFeHByZXNzaW9uLCBzdCBhcyBmcmFnbWVudFVybFBhcnNlciwgaXNNYW5hZ2VkU3RhdGUsIGV0IGFzIHBhdGhVcmxQYXJzZXIsIHJvdXRlLCB0b01hbmFnZWRTdGF0ZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/router-lite/dist/esm/index.mjs\n\n}");

/***/ },

/***/ "./node_modules/@aurelia/runtime-html/dist/esm/index.mjs"
/*!***************************************************************!*\
  !*** ./node_modules/@aurelia/runtime-html/dist/esm/index.mjs ***!
  \***************************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AdoptedStyleSheetsStyles: () => (/* binding */ AdoptedStyleSheetsStyles),\n/* harmony export */   AppRoot: () => (/* binding */ AppRoot),\n/* harmony export */   AppTask: () => (/* binding */ He),\n/* harmony export */   ArrayLikeHandler: () => (/* binding */ ArrayLikeHandler),\n/* harmony export */   AttrBindingBehavior: () => (/* binding */ AttrBindingBehavior),\n/* harmony export */   AttrMapper: () => (/* binding */ AttrMapper),\n/* harmony export */   AttributeBinding: () => (/* binding */ AttributeBinding),\n/* harmony export */   AttributeBindingRenderer: () => (/* binding */ qs),\n/* harmony export */   AttributeNSAccessor: () => (/* binding */ AttributeNSAccessor),\n/* harmony export */   AuCompose: () => (/* binding */ AuCompose),\n/* harmony export */   AuSlot: () => (/* binding */ AuSlot),\n/* harmony export */   AuSlotsInfo: () => (/* binding */ AuSlotsInfo),\n/* harmony export */   Aurelia: () => (/* binding */ Aurelia),\n/* harmony export */   Bindable: () => (/* binding */ ke),\n/* harmony export */   BindableDefinition: () => (/* binding */ BindableDefinition),\n/* harmony export */   BindingBehavior: () => (/* binding */ De),\n/* harmony export */   BindingBehaviorDefinition: () => (/* binding */ BindingBehaviorDefinition),\n/* harmony export */   BindingCommand: () => (/* reexport safe */ _aurelia_template_compiler__WEBPACK_IMPORTED_MODULE_3__.BindingCommand),\n/* harmony export */   BindingContext: () => (/* binding */ BindingContext),\n/* harmony export */   BindingMode: () => (/* reexport safe */ _aurelia_template_compiler__WEBPACK_IMPORTED_MODULE_3__.BindingMode),\n/* harmony export */   BindingModeBehavior: () => (/* binding */ BindingModeBehavior),\n/* harmony export */   BindingTargetSubscriber: () => (/* binding */ BindingTargetSubscriber),\n/* harmony export */   CSSModulesProcessorRegistry: () => (/* binding */ CSSModulesProcessorRegistry),\n/* harmony export */   Case: () => (/* binding */ Case),\n/* harmony export */   CheckedObserver: () => (/* binding */ CheckedObserver),\n/* harmony export */   ChildrenBinding: () => (/* binding */ ChildrenBinding),\n/* harmony export */   ClassAttributeAccessor: () => (/* binding */ ClassAttributeAccessor),\n/* harmony export */   ComputedWatcher: () => (/* binding */ ComputedWatcher),\n/* harmony export */   ContentBinding: () => (/* binding */ ContentBinding),\n/* harmony export */   Controller: () => (/* binding */ Controller),\n/* harmony export */   CustomAttribute: () => (/* binding */ ze),\n/* harmony export */   CustomAttributeDefinition: () => (/* binding */ CustomAttributeDefinition),\n/* harmony export */   CustomAttributeRenderer: () => (/* binding */ ys),\n/* harmony export */   CustomElement: () => (/* binding */ Hi),\n/* harmony export */   CustomElementDefinition: () => (/* binding */ CustomElementDefinition),\n/* harmony export */   CustomElementRenderer: () => (/* binding */ ws),\n/* harmony export */   DataAttributeAccessor: () => (/* binding */ DataAttributeAccessor),\n/* harmony export */   DebounceBindingBehavior: () => (/* binding */ DebounceBindingBehavior),\n/* harmony export */   DefaultBindingLanguage: () => (/* binding */ kn),\n/* harmony export */   DefaultBindingSyntax: () => (/* binding */ wn),\n/* harmony export */   DefaultCase: () => (/* binding */ DefaultCase),\n/* harmony export */   DefaultComponents: () => (/* binding */ bn),\n/* harmony export */   DefaultRenderers: () => (/* binding */ Bn),\n/* harmony export */   DefaultResources: () => (/* binding */ Cn),\n/* harmony export */   Else: () => (/* binding */ Else),\n/* harmony export */   EventModifier: () => (/* binding */ EventModifier),\n/* harmony export */   EventModifierRegistration: () => (/* binding */ cs),\n/* harmony export */   ExpressionWatcher: () => (/* binding */ ExpressionWatcher),\n/* harmony export */   FlushQueue: () => (/* binding */ FlushQueue),\n/* harmony export */   Focus: () => (/* binding */ Focus),\n/* harmony export */   FragmentNodeSequence: () => (/* binding */ FragmentNodeSequence),\n/* harmony export */   FromViewBindingBehavior: () => (/* binding */ FromViewBindingBehavior),\n/* harmony export */   FulfilledTemplateController: () => (/* binding */ FulfilledTemplateController),\n/* harmony export */   IAppRoot: () => (/* binding */ Ni),\n/* harmony export */   IAppTask: () => (/* binding */ Ve),\n/* harmony export */   IAuSlotWatcher: () => (/* binding */ ps),\n/* harmony export */   IAuSlotsInfo: () => (/* binding */ gs),\n/* harmony export */   IAurelia: () => (/* binding */ ji),\n/* harmony export */   IController: () => (/* binding */ yi),\n/* harmony export */   IEventModifier: () => (/* binding */ hs),\n/* harmony export */   IEventTarget: () => (/* binding */ Ei),\n/* harmony export */   IFlushQueue: () => (/* binding */ Je),\n/* harmony export */   IHistory: () => (/* binding */ Ii),\n/* harmony export */   IHydrationContext: () => (/* binding */ ki),\n/* harmony export */   IKeyMapping: () => (/* binding */ as),\n/* harmony export */   ILifecycleHooks: () => (/* binding */ Ue),\n/* harmony export */   IListenerBindingOptions: () => (/* binding */ Ts),\n/* harmony export */   ILocation: () => (/* binding */ Di),\n/* harmony export */   IModifiedEventHandlerCreator: () => (/* binding */ ls),\n/* harmony export */   INode: () => (/* binding */ Ai),\n/* harmony export */   IPlatform: () => (/* binding */ $e),\n/* harmony export */   IRenderLocation: () => (/* binding */ Ri),\n/* harmony export */   IRenderer: () => (/* binding */ xs),\n/* harmony export */   IRendering: () => (/* binding */ zs),\n/* harmony export */   IRepeatableHandler: () => (/* binding */ nn),\n/* harmony export */   IRepeatableHandlerResolver: () => (/* binding */ sn),\n/* harmony export */   ISVGAnalyzer: () => (/* binding */ Wi),\n/* harmony export */   ISanitizer: () => (/* binding */ xn),\n/* harmony export */   IShadowDOMGlobalStyles: () => (/* binding */ Ks),\n/* harmony export */   IShadowDOMStyleFactory: () => (/* binding */ Us),\n/* harmony export */   IShadowDOMStyles: () => (/* binding */ Gs),\n/* harmony export */   ISignaler: () => (/* binding */ _e),\n/* harmony export */   IViewFactory: () => (/* binding */ us),\n/* harmony export */   IWindow: () => (/* binding */ Mi),\n/* harmony export */   If: () => (/* binding */ If),\n/* harmony export */   InterpolationBinding: () => (/* binding */ InterpolationBinding),\n/* harmony export */   InterpolationBindingRenderer: () => (/* binding */ Ss),\n/* harmony export */   InterpolationPartBinding: () => (/* binding */ InterpolationPartBinding),\n/* harmony export */   IteratorBindingRenderer: () => (/* binding */ Es),\n/* harmony export */   LetBinding: () => (/* binding */ LetBinding),\n/* harmony export */   LetElementRenderer: () => (/* binding */ Cs),\n/* harmony export */   LifecycleHooks: () => (/* binding */ Ge),\n/* harmony export */   LifecycleHooksDefinition: () => (/* binding */ LifecycleHooksDefinition),\n/* harmony export */   LifecycleHooksEntry: () => (/* binding */ LifecycleHooksEntry),\n/* harmony export */   ListenerBinding: () => (/* binding */ ListenerBinding),\n/* harmony export */   ListenerBindingOptions: () => (/* binding */ ListenerBindingOptions),\n/* harmony export */   ListenerBindingRenderer: () => (/* binding */ Ls),\n/* harmony export */   NodeObserverLocator: () => (/* binding */ NodeObserverLocator),\n/* harmony export */   NoopSVGAnalyzer: () => (/* binding */ NoopSVGAnalyzer),\n/* harmony export */   OneTimeBindingBehavior: () => (/* binding */ OneTimeBindingBehavior),\n/* harmony export */   PendingTemplateController: () => (/* binding */ PendingTemplateController),\n/* harmony export */   Portal: () => (/* binding */ Portal),\n/* harmony export */   PromiseTemplateController: () => (/* binding */ PromiseTemplateController),\n/* harmony export */   PropertyBinding: () => (/* binding */ PropertyBinding),\n/* harmony export */   PropertyBindingRenderer: () => (/* binding */ As),\n/* harmony export */   RefBinding: () => (/* binding */ RefBinding),\n/* harmony export */   RefBindingRenderer: () => (/* binding */ Bs),\n/* harmony export */   RejectedTemplateController: () => (/* binding */ RejectedTemplateController),\n/* harmony export */   Rendering: () => (/* binding */ Rendering),\n/* harmony export */   Repeat: () => (/* binding */ Repeat),\n/* harmony export */   RuntimeTemplateCompilerImplementation: () => (/* binding */ zi),\n/* harmony export */   SVGAnalyzer: () => (/* binding */ SVGAnalyzer),\n/* harmony export */   SanitizeValueConverter: () => (/* binding */ SanitizeValueConverter),\n/* harmony export */   Scope: () => (/* binding */ Scope),\n/* harmony export */   SelectValueObserver: () => (/* binding */ SelectValueObserver),\n/* harmony export */   SelfBindingBehavior: () => (/* binding */ SelfBindingBehavior),\n/* harmony export */   SetAttributeRenderer: () => (/* binding */ Ms),\n/* harmony export */   SetClassAttributeRenderer: () => (/* binding */ Ds),\n/* harmony export */   SetPropertyRenderer: () => (/* binding */ bs),\n/* harmony export */   SetStyleAttributeRenderer: () => (/* binding */ Is),\n/* harmony export */   ShadowDOMRegistry: () => (/* binding */ ShadowDOMRegistry),\n/* harmony export */   ShortHandBindingSyntax: () => (/* binding */ yn),\n/* harmony export */   SignalBindingBehavior: () => (/* binding */ SignalBindingBehavior),\n/* harmony export */   SpreadRenderer: () => (/* binding */ _s),\n/* harmony export */   StandardConfiguration: () => (/* binding */ Sn),\n/* harmony export */   State: () => (/* binding */ wi),\n/* harmony export */   StyleAttributeAccessor: () => (/* binding */ StyleAttributeAccessor),\n/* harmony export */   StyleConfiguration: () => (/* binding */ Xs),\n/* harmony export */   StyleElementStyles: () => (/* binding */ StyleElementStyles),\n/* harmony export */   StylePropertyBindingRenderer: () => (/* binding */ Ps),\n/* harmony export */   Switch: () => (/* binding */ Switch),\n/* harmony export */   TemplateControllerRenderer: () => (/* binding */ ks),\n/* harmony export */   TextBindingRenderer: () => (/* binding */ Rs),\n/* harmony export */   ThrottleBindingBehavior: () => (/* binding */ ThrottleBindingBehavior),\n/* harmony export */   ToViewBindingBehavior: () => (/* binding */ ToViewBindingBehavior),\n/* harmony export */   TwoWayBindingBehavior: () => (/* binding */ TwoWayBindingBehavior),\n/* harmony export */   UpdateTriggerBindingBehavior: () => (/* binding */ UpdateTriggerBindingBehavior),\n/* harmony export */   ValueAttributeObserver: () => (/* binding */ ValueAttributeObserver),\n/* harmony export */   ValueConverter: () => (/* binding */ Qe),\n/* harmony export */   ValueConverterDefinition: () => (/* binding */ ValueConverterDefinition),\n/* harmony export */   ViewFactory: () => (/* binding */ ViewFactory),\n/* harmony export */   Watch: () => (/* binding */ Ne),\n/* harmony export */   With: () => (/* binding */ With),\n/* harmony export */   alias: () => (/* binding */ alias),\n/* harmony export */   astAssign: () => (/* binding */ le),\n/* harmony export */   astBind: () => (/* binding */ he),\n/* harmony export */   astEvaluate: () => (/* binding */ ae),\n/* harmony export */   astUnbind: () => (/* binding */ ce),\n/* harmony export */   bindable: () => (/* binding */ bindable),\n/* harmony export */   bindingBehavior: () => (/* binding */ bindingBehavior),\n/* harmony export */   capture: () => (/* binding */ capture),\n/* harmony export */   children: () => (/* binding */ children),\n/* harmony export */   coercer: () => (/* binding */ coercer),\n/* harmony export */   containerless: () => (/* binding */ containerless),\n/* harmony export */   convertToRenderLocation: () => (/* binding */ convertToRenderLocation),\n/* harmony export */   cssModules: () => (/* binding */ cssModules),\n/* harmony export */   customAttribute: () => (/* binding */ customAttribute),\n/* harmony export */   customElement: () => (/* binding */ customElement),\n/* harmony export */   getEffectiveParentNode: () => (/* binding */ getEffectiveParentNode),\n/* harmony export */   getRef: () => (/* binding */ getRef),\n/* harmony export */   isCustomElementController: () => (/* binding */ isCustomElementController),\n/* harmony export */   isCustomElementViewModel: () => (/* binding */ isCustomElementViewModel),\n/* harmony export */   isRenderLocation: () => (/* binding */ isRenderLocation),\n/* harmony export */   lifecycleHooks: () => (/* binding */ lifecycleHooks),\n/* harmony export */   mixinAstEvaluator: () => (/* binding */ Ze),\n/* harmony export */   mixinUseScope: () => (/* binding */ Ye),\n/* harmony export */   mixingBindingLimited: () => (/* binding */ ts),\n/* harmony export */   processContent: () => (/* binding */ processContent),\n/* harmony export */   registerAliases: () => (/* binding */ registerAliases),\n/* harmony export */   registerHostNode: () => (/* binding */ registerHostNode),\n/* harmony export */   renderer: () => (/* binding */ renderer),\n/* harmony export */   setEffectiveParentNode: () => (/* binding */ setEffectiveParentNode),\n/* harmony export */   setRef: () => (/* binding */ setRef),\n/* harmony export */   shadowCSS: () => (/* binding */ shadowCSS),\n/* harmony export */   slotted: () => (/* binding */ slotted),\n/* harmony export */   templateController: () => (/* binding */ templateController),\n/* harmony export */   useShadowDOM: () => (/* binding */ useShadowDOM),\n/* harmony export */   valueConverter: () => (/* binding */ valueConverter),\n/* harmony export */   watch: () => (/* binding */ watch)\n/* harmony export */ });\n/* harmony import */ var _aurelia_expression_parser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/expression-parser */ \"./node_modules/@aurelia/expression-parser/dist/esm/index.mjs\");\n/* harmony import */ var _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @aurelia/kernel */ \"./node_modules/@aurelia/kernel/dist/esm/index.mjs\");\n/* harmony import */ var _aurelia_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @aurelia/runtime */ \"./node_modules/@aurelia/runtime/dist/esm/index.mjs\");\n/* harmony import */ var _aurelia_template_compiler__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @aurelia/template-compiler */ \"./node_modules/@aurelia/template-compiler/dist/esm/index.mjs\");\n/* harmony import */ var _aurelia_metadata__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @aurelia/metadata */ \"./node_modules/@aurelia/metadata/dist/esm/index.mjs\");\n/* harmony import */ var _aurelia_platform_browser__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @aurelia/platform-browser */ \"./node_modules/@aurelia/platform-browser/dist/esm/index.mjs\");\n/* harmony import */ var _aurelia_platform__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @aurelia/platform */ \"./node_modules/@aurelia/platform/dist/esm/index.mjs\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst Nt = Object;\n\nconst jt = String;\n\nconst Wt = Nt.prototype;\n\nconst zt = Wt.hasOwnProperty;\n\nconst Ut = Nt.freeze;\n\nconst Gt = Nt.assign;\n\nconst Kt = Nt.getOwnPropertyNames;\n\nconst Xt = Nt.keys;\n\nconst Qt = /*@__PURE__*/ (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.createLookup)();\n\nconst isDataAttribute = (t, e, s) => {\n    if (Qt[e] === true) {\n        return true;\n    }\n    if (!(0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isString)(e)) {\n        return false;\n    }\n    const n = e.slice(0, 5);\n    return Qt[e] = n === \"aria-\" || n === \"data-\" || s.isStandardSvgAttribute(t, e);\n};\n\nconst rethrow = t => {\n    throw t;\n};\n\nconst Yt = Reflect.defineProperty;\n\nconst defineHiddenProp = (t, e, s) => {\n    Yt(t, e, {\n        enumerable: false,\n        configurable: true,\n        writable: true,\n        value: s\n    });\n    return s;\n};\n\nconst addSignalListener = (t, e, s) => t.addSignalListener(e, s);\n\nconst removeSignalListener = (t, e, s) => t.removeSignalListener(e, s);\n\nconst Zt = \"Interpolation\";\n\nconst Jt = \"IsIterator\";\n\nconst te = \"IsFunction\";\n\nconst ee = \"IsProperty\";\n\nconst se = \"pending\";\n\nconst ie = \"running\";\n\nconst ne = _aurelia_runtime__WEBPACK_IMPORTED_MODULE_2__.AccessorType.Observer;\n\nconst re = _aurelia_runtime__WEBPACK_IMPORTED_MODULE_2__.AccessorType.Node;\n\nconst oe = _aurelia_runtime__WEBPACK_IMPORTED_MODULE_2__.AccessorType.Layout;\n\nconst createMappedError = (t, ...e) => new Error(`AUR${jt(t).padStart(4, \"0\")}:${e.map(jt)}`);\n\nclass Scope {\n    constructor(t, e, s, i) {\n        this.parent = t;\n        this.bindingContext = e;\n        this.overrideContext = s;\n        this.isBoundary = i;\n    }\n    static getContext(t, e, s) {\n        if (t == null) {\n            throw createMappedError(203);\n        }\n        let i = t.overrideContext;\n        let n = t;\n        if (s > 0) {\n            while (s > 0) {\n                s--;\n                n = n.parent;\n                if (n == null) {\n                    return void 0;\n                }\n            }\n            i = n.overrideContext;\n            return e in i ? i : n.bindingContext;\n        }\n        while (n != null && !n.isBoundary && !(e in n.overrideContext) && !(e in n.bindingContext)) {\n            n = n.parent;\n        }\n        if (n == null) {\n            return t.bindingContext;\n        }\n        i = n.overrideContext;\n        return e in i ? i : n.bindingContext;\n    }\n    static create(t, e, s) {\n        if (t == null) {\n            throw createMappedError(204);\n        }\n        return new Scope(null, t, e ?? new OverrideContext, s ?? false);\n    }\n    static fromParent(t, e) {\n        if (t == null) {\n            throw createMappedError(203);\n        }\n        return new Scope(t, e, new OverrideContext, false);\n    }\n}\n\nclass BindingContext {\n    constructor(t, e) {\n        if (t !== void 0) {\n            this[t] = e;\n        }\n    }\n}\n\nclass OverrideContext {}\n\nconst {astAssign: le, astEvaluate: ae, astBind: he, astUnbind: ce} = /*@__PURE__*/ (() => {\n    const e = \"AccessThis\";\n    const s = \"AccessBoundary\";\n    const i = \"AccessGlobal\";\n    const n = \"AccessScope\";\n    const c = \"ArrayLiteral\";\n    const u = \"ObjectLiteral\";\n    const f = \"PrimitiveLiteral\";\n    const d = \"Template\";\n    const m = \"Unary\";\n    const g = \"CallScope\";\n    const p = \"CallMember\";\n    const v = \"CallFunction\";\n    const x = \"CallGlobal\";\n    const b = \"AccessMember\";\n    const w = \"AccessKeyed\";\n    const y = \"TaggedTemplate\";\n    const k = \"Binary\";\n    const C = \"Conditional\";\n    const B = \"Assign\";\n    const S = \"ArrowFunction\";\n    const A = \"ValueConverter\";\n    const E = \"BindingBehavior\";\n    const R = \"ArrayBindingPattern\";\n    const T = \"ObjectBindingPattern\";\n    const L = \"BindingIdentifier\";\n    const M = \"ForOfStatement\";\n    const D = \"Interpolation\";\n    const I = \"ArrayDestructuring\";\n    const P = \"ObjectDestructuring\";\n    const q = \"DestructuringAssignmentLeaf\";\n    const _ = \"Custom\";\n    const O = Scope.getContext;\n    function astEvaluate(t, h, V, H) {\n        switch (t.$kind) {\n          case e:\n            {\n                let e = h.overrideContext;\n                let s = h;\n                let i = t.ancestor;\n                while (i-- && e) {\n                    s = s.parent;\n                    e = s?.overrideContext ?? null;\n                }\n                return i < 1 && s ? s.bindingContext : void 0;\n            }\n\n          case s:\n            {\n                let t = h;\n                while (t != null && !t.isBoundary) {\n                    t = t.parent;\n                }\n                return t ? t.bindingContext : void 0;\n            }\n\n          case n:\n            {\n                const e = O(h, t.name, t.ancestor);\n                if (H !== null) {\n                    H.observe(e, t.name);\n                }\n                const s = e[t.name];\n                if (s == null && t.name === \"$host\") {\n                    throw createMappedError(105);\n                }\n                if (V?.strict) {\n                    return V?.boundFn && (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isFunction)(s) ? s.bind(e) : s;\n                }\n                return s == null ? \"\" : V?.boundFn && (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isFunction)(s) ? s.bind(e) : s;\n            }\n\n          case i:\n            return globalThis[t.name];\n\n          case x:\n            {\n                const e = globalThis[t.name];\n                if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isFunction)(e)) {\n                    return e(...t.args.map((t => astEvaluate(t, h, V, H))));\n                }\n                if (!V?.strictFnCall && e == null) {\n                    return void 0;\n                }\n                throw createMappedError(107);\n            }\n\n          case c:\n            return t.elements.map((t => astEvaluate(t, h, V, H)));\n\n          case u:\n            {\n                const e = {};\n                for (let s = 0; s < t.keys.length; ++s) {\n                    e[t.keys[s]] = astEvaluate(t.values[s], h, V, H);\n                }\n                return e;\n            }\n\n          case f:\n            return t.value;\n\n          case d:\n            {\n                let e = t.cooked[0];\n                for (let s = 0; s < t.expressions.length; ++s) {\n                    e += String(astEvaluate(t.expressions[s], h, V, H));\n                    e += t.cooked[s + 1];\n                }\n                return e;\n            }\n\n          case m:\n            {\n                const e = astEvaluate(t.expression, h, V, H);\n                switch (t.operation) {\n                  case \"void\":\n                    return void e;\n\n                  case \"typeof\":\n                    return typeof e;\n\n                  case \"!\":\n                    return !e;\n\n                  case \"-\":\n                    return -e;\n\n                  case \"+\":\n                    return +e;\n\n                  case \"--\":\n                    if (H != null) throw createMappedError(113);\n                    return astAssign(t.expression, h, V, e - 1) + t.pos;\n\n                  case \"++\":\n                    if (H != null) throw createMappedError(113);\n                    return astAssign(t.expression, h, V, e + 1) - t.pos;\n\n                  default:\n                    throw createMappedError(109, t.operation);\n                }\n            }\n\n          case g:\n            {\n                const e = t.args.map((t => astEvaluate(t, h, V, H)));\n                const s = O(h, t.name, t.ancestor);\n                const i = getFunction(V?.strictFnCall, s, t.name);\n                if (i) {\n                    return i.apply(s, e);\n                }\n                return void 0;\n            }\n\n          case p:\n            {\n                const e = astEvaluate(t.object, h, V, H);\n                const s = t.args.map((t => astEvaluate(t, h, V, H)));\n                const i = getFunction(V?.strictFnCall, e, t.name);\n                let n;\n                if (i) {\n                    n = i.apply(e, s);\n                    if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isArray)(e) && F.includes(t.name)) {\n                        H?.observeCollection(e);\n                    }\n                }\n                return n;\n            }\n\n          case v:\n            {\n                const e = astEvaluate(t.func, h, V, H);\n                if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isFunction)(e)) {\n                    return e(...t.args.map((t => astEvaluate(t, h, V, H))));\n                }\n                if (!V?.strictFnCall && e == null) {\n                    return void 0;\n                }\n                throw createMappedError(107);\n            }\n\n          case S:\n            {\n                const func = (...e) => {\n                    const s = t.args;\n                    const i = t.rest;\n                    const n = s.length - 1;\n                    const r = s.reduce(((t, s, r) => {\n                        if (i && r === n) {\n                            t[s.name] = e.slice(r);\n                        } else {\n                            t[s.name] = e[r];\n                        }\n                        return t;\n                    }), {});\n                    const l = Scope.fromParent(h, r);\n                    return astEvaluate(t.body, l, V, H);\n                };\n                return func;\n            }\n\n          case b:\n            {\n                const e = astEvaluate(t.object, h, V, H);\n                let s;\n                if (V?.strict) {\n                    if (e == null) {\n                        return undefined;\n                    }\n                    if (H !== null && !t.accessGlobal) {\n                        H.observe(e, t.name);\n                    }\n                    s = e[t.name];\n                    if (V?.boundFn && (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isFunction)(s)) {\n                        return s.bind(e);\n                    }\n                    return s;\n                }\n                if (H !== null && (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isObject)(e) && !t.accessGlobal) {\n                    H.observe(e, t.name);\n                }\n                if (e) {\n                    s = e[t.name];\n                    if (V?.boundFn && (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isFunction)(s)) {\n                        return s.bind(e);\n                    }\n                    return s;\n                }\n                return \"\";\n            }\n\n          case w:\n            {\n                const e = astEvaluate(t.object, h, V, H);\n                const s = astEvaluate(t.key, h, V, H);\n                if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isObject)(e)) {\n                    if (H !== null && !t.accessGlobal) {\n                        H.observe(e, s);\n                    }\n                    return e[s];\n                }\n                return e == null ? void 0 : e[s];\n            }\n\n          case y:\n            {\n                const e = t.expressions.map((t => astEvaluate(t, h, V, H)));\n                const s = astEvaluate(t.func, h, V, H);\n                if (!(0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isFunction)(s)) {\n                    throw createMappedError(110);\n                }\n                return s(t.cooked, ...e);\n            }\n\n          case k:\n            {\n                const e = t.left;\n                const s = t.right;\n                switch (t.operation) {\n                  case \"&&\":\n                    return astEvaluate(e, h, V, H) && astEvaluate(s, h, V, H);\n\n                  case \"||\":\n                    return astEvaluate(e, h, V, H) || astEvaluate(s, h, V, H);\n\n                  case \"??\":\n                    return astEvaluate(e, h, V, H) ?? astEvaluate(s, h, V, H);\n\n                  case \"==\":\n                    return astEvaluate(e, h, V, H) == astEvaluate(s, h, V, H);\n\n                  case \"===\":\n                    return astEvaluate(e, h, V, H) === astEvaluate(s, h, V, H);\n\n                  case \"!=\":\n                    return astEvaluate(e, h, V, H) != astEvaluate(s, h, V, H);\n\n                  case \"!==\":\n                    return astEvaluate(e, h, V, H) !== astEvaluate(s, h, V, H);\n\n                  case \"instanceof\":\n                    {\n                        const t = astEvaluate(s, h, V, H);\n                        if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isFunction)(t)) {\n                            return astEvaluate(e, h, V, H) instanceof t;\n                        }\n                        return false;\n                    }\n\n                  case \"in\":\n                    {\n                        const t = astEvaluate(s, h, V, H);\n                        if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isObject)(t)) {\n                            return astEvaluate(e, h, V, H) in t;\n                        }\n                        return false;\n                    }\n\n                  case \"+\":\n                    {\n                        const t = astEvaluate(e, h, V, H);\n                        const i = astEvaluate(s, h, V, H);\n                        if (V?.strict) {\n                            return t + i;\n                        }\n                        if (!t || !i) {\n                            if (isNumberOrBigInt(t) || isNumberOrBigInt(i)) {\n                                return (t || 0) + (i || 0);\n                            }\n                            if (isStringOrDate(t) || isStringOrDate(i)) {\n                                return (t || \"\") + (i || \"\");\n                            }\n                        }\n                        return t + i;\n                    }\n\n                  case \"-\":\n                    return astEvaluate(e, h, V, H) - astEvaluate(s, h, V, H);\n\n                  case \"*\":\n                    return astEvaluate(e, h, V, H) * astEvaluate(s, h, V, H);\n\n                  case \"/\":\n                    return astEvaluate(e, h, V, H) / astEvaluate(s, h, V, H);\n\n                  case \"%\":\n                    return astEvaluate(e, h, V, H) % astEvaluate(s, h, V, H);\n\n                  case \"<\":\n                    return astEvaluate(e, h, V, H) < astEvaluate(s, h, V, H);\n\n                  case \">\":\n                    return astEvaluate(e, h, V, H) > astEvaluate(s, h, V, H);\n\n                  case \"<=\":\n                    return astEvaluate(e, h, V, H) <= astEvaluate(s, h, V, H);\n\n                  case \">=\":\n                    return astEvaluate(e, h, V, H) >= astEvaluate(s, h, V, H);\n\n                  default:\n                    throw createMappedError(108, t.operation);\n                }\n            }\n\n          case C:\n            return astEvaluate(t.condition, h, V, H) ? astEvaluate(t.yes, h, V, H) : astEvaluate(t.no, h, V, H);\n\n          case B:\n            {\n                let e = astEvaluate(t.value, h, V, H);\n                if (t.op !== \"=\") {\n                    if (H != null) {\n                        throw createMappedError(113);\n                    }\n                    const s = astEvaluate(t.target, h, V, H);\n                    switch (t.op) {\n                      case \"/=\":\n                        e = s / e;\n                        break;\n\n                      case \"*=\":\n                        e = s * e;\n                        break;\n\n                      case \"+=\":\n                        e = s + e;\n                        break;\n\n                      case \"-=\":\n                        e = s - e;\n                        break;\n\n                      default:\n                        throw createMappedError(108, t.op);\n                    }\n                }\n                return astAssign(t.target, h, V, e);\n            }\n\n          case A:\n            {\n                const e = V?.getConverter?.(t.name);\n                if (e == null) {\n                    throw createMappedError(103, t.name);\n                }\n                if (\"toView\" in e) {\n                    return e.toView(astEvaluate(t.expression, h, V, H), ...t.args.map((t => astEvaluate(t, h, V, H))));\n                }\n                return astEvaluate(t.expression, h, V, H);\n            }\n\n          case E:\n            return astEvaluate(t.expression, h, V, H);\n\n          case L:\n            return t.name;\n\n          case M:\n            return astEvaluate(t.iterable, h, V, H);\n\n          case D:\n            if (t.isMulti) {\n                let e = t.parts[0];\n                let s = 0;\n                for (;s < t.expressions.length; ++s) {\n                    e += jt(astEvaluate(t.expressions[s], h, V, H));\n                    e += t.parts[s + 1];\n                }\n                return e;\n            } else {\n                return `${t.parts[0]}${astEvaluate(t.firstExpression, h, V, H)}${t.parts[1]}`;\n            }\n\n          case q:\n            return astEvaluate(t.target, h, V, H);\n\n          case I:\n            {\n                return t.list.map((t => astEvaluate(t, h, V, H)));\n            }\n\n          case R:\n          case T:\n          case P:\n          default:\n            return void 0;\n\n          case _:\n            return t.evaluate(h, V, H);\n        }\n    }\n    function astAssign(e, s, i, l) {\n        switch (e.$kind) {\n          case n:\n            {\n                if (e.name === \"$host\") {\n                    throw createMappedError(106);\n                }\n                const t = O(s, e.name, e.ancestor);\n                return t[e.name] = l;\n            }\n\n          case b:\n            {\n                const t = astEvaluate(e.object, s, i, null);\n                if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isObject)(t)) {\n                    if (e.name === \"length\" && (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isArray)(t) && !isNaN(l)) {\n                        t.splice(l);\n                    } else {\n                        t[e.name] = l;\n                    }\n                } else {\n                    astAssign(e.object, s, i, {\n                        [e.name]: l\n                    });\n                }\n                return l;\n            }\n\n          case w:\n            {\n                const t = astEvaluate(e.object, s, i, null);\n                const n = astEvaluate(e.key, s, i, null);\n                if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isArray)(t)) {\n                    if (n === \"length\" && !isNaN(l)) {\n                        t.splice(l);\n                        return l;\n                    }\n                    if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isArrayIndex)(n)) {\n                        t.splice(n, 1, l);\n                        return l;\n                    }\n                }\n                return t[n] = l;\n            }\n\n          case B:\n            astAssign(e.value, s, i, l);\n            return astAssign(e.target, s, i, l);\n\n          case A:\n            {\n                const t = i?.getConverter?.(e.name);\n                if (t == null) {\n                    throw createMappedError(103, e.name);\n                }\n                if (\"fromView\" in t) {\n                    l = t.fromView(l, ...e.args.map((t => astEvaluate(t, s, i, null))));\n                }\n                return astAssign(e.expression, s, i, l);\n            }\n\n          case E:\n            return astAssign(e.expression, s, i, l);\n\n          case I:\n          case P:\n            {\n                const t = e.list;\n                const n = t.length;\n                let r;\n                let a;\n                for (r = 0; r < n; r++) {\n                    a = t[r];\n                    switch (a.$kind) {\n                      case q:\n                        astAssign(a, s, i, l);\n                        break;\n\n                      case I:\n                      case P:\n                        {\n                            if (typeof l !== \"object\" || l === null) {\n                                throw createMappedError(112);\n                            }\n                            let t = astEvaluate(a.source, Scope.create(l), i, null);\n                            if (t === void 0 && a.initializer) {\n                                t = astEvaluate(a.initializer, s, i, null);\n                            }\n                            astAssign(a, s, i, t);\n                            break;\n                        }\n                    }\n                }\n                break;\n            }\n\n          case q:\n            {\n                if (e instanceof _aurelia_expression_parser__WEBPACK_IMPORTED_MODULE_0__.DestructuringAssignmentSingleExpression) {\n                    if (l == null) {\n                        return;\n                    }\n                    if (typeof l !== \"object\") {\n                        throw createMappedError(112);\n                    }\n                    let t = astEvaluate(e.source, Scope.create(l), i, null);\n                    if (t === void 0 && e.initializer) {\n                        t = astEvaluate(e.initializer, s, i, null);\n                    }\n                    astAssign(e.target, s, i, t);\n                } else {\n                    if (l == null) {\n                        return;\n                    }\n                    if (typeof l !== \"object\") {\n                        throw createMappedError(112);\n                    }\n                    const t = e.indexOrProperties;\n                    let n;\n                    if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isArrayIndex)(t)) {\n                        if (!Array.isArray(l)) {\n                            throw createMappedError(112);\n                        }\n                        n = l.slice(t);\n                    } else {\n                        n = Object.entries(l).reduce(((e, [s, i]) => {\n                            if (!t.includes(s)) {\n                                e[s] = i;\n                            }\n                            return e;\n                        }), {});\n                    }\n                    astAssign(e.target, s, i, n);\n                }\n                break;\n            }\n\n          case _:\n            return e.assign(s, i, l);\n\n          default:\n            return void 0;\n        }\n    }\n    function astBind(t, e, s) {\n        switch (t.$kind) {\n          case E:\n            {\n                const i = t.name;\n                const n = t.key;\n                const r = s.getBehavior?.(i);\n                if (r == null) {\n                    throw createMappedError(101, i);\n                }\n                if (s[n] === void 0) {\n                    s[n] = r;\n                    r.bind?.(e, s, ...t.args.map((t => astEvaluate(t, e, s, null))));\n                } else {\n                    throw createMappedError(102, i);\n                }\n                astBind(t.expression, e, s);\n                return;\n            }\n\n          case A:\n            {\n                const i = t.name;\n                const n = s.getConverter?.(i);\n                if (n == null) {\n                    throw createMappedError(103, i);\n                }\n                const r = n.signals;\n                if (r != null) {\n                    const t = s.getSignaler?.();\n                    const e = r.length;\n                    let i = 0;\n                    for (;i < e; ++i) {\n                        t?.addSignalListener(r[i], s);\n                    }\n                }\n                astBind(t.expression, e, s);\n                return;\n            }\n\n          case M:\n            {\n                astBind(t.iterable, e, s);\n                break;\n            }\n\n          case _:\n            {\n                t.bind?.(e, s);\n            }\n        }\n    }\n    function astUnbind(t, e, s) {\n        switch (t.$kind) {\n          case E:\n            {\n                const i = t.key;\n                const n = s;\n                if (n[i] !== void 0) {\n                    n[i].unbind?.(e, s);\n                    n[i] = void 0;\n                }\n                astUnbind(t.expression, e, s);\n                break;\n            }\n\n          case A:\n            {\n                const i = s.getConverter?.(t.name);\n                if (i?.signals === void 0) {\n                    return;\n                }\n                const n = s.getSignaler?.();\n                let r = 0;\n                for (;r < i.signals.length; ++r) {\n                    n?.removeSignalListener(i.signals[r], s);\n                }\n                astUnbind(t.expression, e, s);\n                break;\n            }\n\n          case M:\n            {\n                astUnbind(t.iterable, e, s);\n                break;\n            }\n\n          case _:\n            {\n                t.unbind?.(e, s);\n            }\n        }\n    }\n    const getFunction = (t, e, s) => {\n        const i = e == null ? null : e[s];\n        if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isFunction)(i)) {\n            return i;\n        }\n        if (!t && i == null) {\n            return null;\n        }\n        throw createMappedError(111, s);\n    };\n    const isNumberOrBigInt = t => {\n        switch (typeof t) {\n          case \"number\":\n          case \"bigint\":\n            return true;\n\n          default:\n            return false;\n        }\n    };\n    const isStringOrDate = t => {\n        switch (typeof t) {\n          case \"string\":\n            return true;\n\n          case \"object\":\n            return t instanceof Date;\n\n          default:\n            return false;\n        }\n    };\n    const F = \"at map filter includes indexOf lastIndexOf findIndex find flat flatMap join reduce reduceRight slice every some sort\".split(\" \");\n    return {\n        astEvaluate: astEvaluate,\n        astAssign: astAssign,\n        astBind: astBind,\n        astUnbind: astUnbind\n    };\n})();\n\ntypeof SuppressedError === \"function\" ? SuppressedError : function(t, e, s) {\n    var i = new Error(s);\n    return i.name = \"SuppressedError\", i.error = t, i.suppressed = e, i;\n};\n\nconst {default: ue, oneTime: fe, toView: de, fromView: me, twoWay: ge} = _aurelia_template_compiler__WEBPACK_IMPORTED_MODULE_3__.BindingMode;\n\nconst pe = _aurelia_metadata__WEBPACK_IMPORTED_MODULE_4__.Metadata.get;\n\nconst ve = _aurelia_metadata__WEBPACK_IMPORTED_MODULE_4__.Metadata.has;\n\nconst xe = _aurelia_metadata__WEBPACK_IMPORTED_MODULE_4__.Metadata.define;\n\nconst {annotation: be} = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.Protocol;\n\nconst we = be.keyFor;\n\nfunction bindable(t, e) {\n    let s = void 0;\n    function decorator(t, e) {\n        let i;\n        switch (e.kind) {\n          case \"getter\":\n          case \"field\":\n            {\n                const t = e.name;\n                if (typeof t !== \"string\") throw createMappedError(227);\n                i = t;\n                break;\n            }\n\n          case \"class\":\n            if (s == null) throw createMappedError(228);\n            if (typeof s == \"string\") {\n                i = s;\n            } else {\n                const t = s.name;\n                if (!t) throw createMappedError(229);\n                if (typeof t !== \"string\") throw createMappedError(227);\n                i = t;\n            }\n            break;\n        }\n        const r = s == null || typeof s === \"string\" ? {\n            name: i\n        } : s;\n        const l = e.metadata[ye] ??= (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.createLookup)();\n        l[i] = BindableDefinition.create(i, r);\n    }\n    if (arguments.length > 1) {\n        s = {};\n        decorator(t, e);\n        return;\n    } else if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isString)(t)) {\n        s = t;\n        return decorator;\n    }\n    s = t === void 0 ? {} : t;\n    return decorator;\n}\n\nconst ye = /*@__PURE__*/ we(\"bindables\");\n\nconst ke = Ut({\n    name: ye,\n    keyFrom: t => `${ye}:${t}`,\n    from(...t) {\n        const e = {};\n        const s = Array.isArray;\n        function addName(t) {\n            e[t] = BindableDefinition.create(t);\n        }\n        function addDescription(t, s) {\n            e[t] = s instanceof BindableDefinition ? s : BindableDefinition.create(t, s === true ? {} : s);\n        }\n        function addList(t) {\n            if (s(t)) {\n                t.forEach((t => (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isString)(t) ? addName(t) : addDescription(t.name, t)));\n            } else if (t instanceof BindableDefinition) {\n                e[t.name] = t;\n            } else if (t !== void 0) {\n                Xt(t).forEach((e => addDescription(e, t[e])));\n            }\n        }\n        t.forEach(addList);\n        return e;\n    },\n    getAll(t) {\n        const e = [];\n        const s = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.getPrototypeChain)(t);\n        let i = s.length;\n        let n;\n        while (--i >= 0) {\n            n = s[i];\n            const t = pe(ye, n);\n            if (t == null) continue;\n            e.push(...Object.values(t));\n        }\n        return e;\n    },\n    i(t, e) {\n        let s = pe(ye, e);\n        if (s == null) {\n            xe(s = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.createLookup)(), e, ye);\n        }\n        s[t.name] = t;\n    }\n});\n\nclass BindableDefinition {\n    constructor(t, e, s, i, n, r) {\n        this.attribute = t;\n        this.callback = e;\n        this.mode = s;\n        this.primary = i;\n        this.name = n;\n        this.set = r;\n    }\n    static create(t, e = {}) {\n        const s = e.mode ?? de;\n        return new BindableDefinition(e.attribute ?? (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.kebabCase)(t), e.callback ?? `${t}Changed`, (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isString)(s) ? _aurelia_template_compiler__WEBPACK_IMPORTED_MODULE_3__.BindingMode[s] ?? ue : s, e.primary ?? false, e.name ?? t, e.set ?? getInterceptor(e));\n    }\n}\n\nfunction coercer(t, e) {\n    e.addInitializer((function() {\n        Ce.define(this, e.name);\n    }));\n}\n\nconst Ce = {\n    key: /*@__PURE__*/ we(\"coercer\"),\n    define(t, e) {\n        xe(t[e].bind(t), t, Ce.key);\n    },\n    for(t) {\n        return pe(Ce.key, t);\n    }\n};\n\nfunction getInterceptor(t = {}) {\n    const e = t.type ?? null;\n    if (e == null) {\n        return _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.noop;\n    }\n    let s;\n    switch (e) {\n      case Number:\n      case Boolean:\n      case String:\n      case BigInt:\n        s = e;\n        break;\n\n      default:\n        {\n            const t = e.coerce;\n            s = typeof t === \"function\" ? t.bind(e) : Ce.for(e) ?? _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.noop;\n            break;\n        }\n    }\n    return s === _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.noop ? s : createCoercer(s, t.nullable);\n}\n\nfunction createCoercer(t, e) {\n    return function(s, i) {\n        if (!i?.enableCoercion) return s;\n        return (e ?? (i?.coerceNullish ?? false ? false : true)) && s == null ? s : t(s, i);\n    };\n}\n\nconst Be = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.DI.createInterface;\n\nconst Se = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.Registration.singleton;\n\nconst Ae = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.Registration.aliasTo;\n\nconst Ee = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.Registration.instance;\n\n_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.Registration.callback;\n\n_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.Registration.transient;\n\nconst registerResolver = (t, e, s) => t.registerResolver(e, s);\n\nfunction alias(...t) {\n    return function(e, s) {\n        s.addInitializer((function() {\n            const e = we(\"aliases\");\n            const s = pe(e, this);\n            if (s === void 0) {\n                xe(t, this, e);\n            } else {\n                s.push(...t);\n            }\n        }));\n    };\n}\n\nfunction registerAliases(t, e, s, i) {\n    for (let n = 0, r = t.length; n < r; ++n) {\n        _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.Registration.aliasTo(s, e.keyFrom(t[n])).register(i);\n    }\n}\n\nconst Re = \"custom-element\";\n\nconst Te = \"custom-attribute\";\n\nconst getDefinitionFromStaticAu = (t, e, s, i = \"__au_static_resource__\") => {\n    let n = pe(i, t);\n    if (n == null) {\n        if (t.$au?.type === e) {\n            n = s(t.$au, t);\n            xe(n, t, i);\n        }\n    }\n    return n;\n};\n\nfunction bindingBehavior(t) {\n    return function(e, s) {\n        s.addInitializer((function() {\n            De.define(t, this);\n        }));\n        return e;\n    };\n}\n\nclass BindingBehaviorDefinition {\n    constructor(t, e, s, i) {\n        this.Type = t;\n        this.name = e;\n        this.aliases = s;\n        this.key = i;\n    }\n    static create(t, e) {\n        let s;\n        let n;\n        if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isString)(t)) {\n            s = t;\n            n = {\n                name: s\n            };\n        } else {\n            s = t.name;\n            n = t;\n        }\n        return new BindingBehaviorDefinition(e, (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.firstDefined)(getBehaviorAnnotation(e, \"name\"), s), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.mergeArrays)(getBehaviorAnnotation(e, \"aliases\"), n.aliases, e.aliases), De.keyFrom(s));\n    }\n    register(t, e) {\n        const s = this.Type;\n        const i = typeof e === \"string\" ? getBindingBehaviorKeyFrom(e) : this.key;\n        const n = this.aliases;\n        if (!t.has(i, false)) {\n            t.register(t.has(s, false) ? null : Se(s, s), Ae(s, i), ...n.map((t => Ae(s, getBindingBehaviorKeyFrom(t)))));\n        }\n    }\n}\n\nconst Le = \"binding-behavior\";\n\nconst Me = /*@__PURE__*/ (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.getResourceKeyFor)(Le);\n\nconst getBehaviorAnnotation = (t, e) => pe(we(e), t);\n\nconst getBindingBehaviorKeyFrom = t => `${Me}:${t}`;\n\nconst De = /*@__PURE__*/ Ut({\n    name: Me,\n    keyFrom: getBindingBehaviorKeyFrom,\n    isType(t) {\n        return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isFunction)(t) && (ve(Me, t) || t.$au?.type === Le);\n    },\n    define(t, e) {\n        const s = BindingBehaviorDefinition.create(t, e);\n        const i = s.Type;\n        xe(s, i, Me, _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resourceBaseName);\n        return i;\n    },\n    getDefinition(t) {\n        const e = pe(Me, t) ?? getDefinitionFromStaticAu(t, Le, BindingBehaviorDefinition.create);\n        if (e === void 0) {\n            throw createMappedError(151, t);\n        }\n        return e;\n    },\n    find(t, e) {\n        const s = t.find(Le, e);\n        return s == null ? null : pe(Me, s) ?? getDefinitionFromStaticAu(s, Le, BindingBehaviorDefinition.create) ?? null;\n    },\n    get(t, e) {\n        return t.get((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resource)(getBindingBehaviorKeyFrom(e)));\n    }\n});\n\nconst Ie = new Map;\n\nconst createConfig = t => ({\n    type: Le,\n    name: t\n});\n\nclass BindingModeBehavior {\n    bind(t, e) {\n        Ie.set(e, e.mode);\n        e.mode = this.mode;\n    }\n    unbind(t, e) {\n        e.mode = Ie.get(e);\n        Ie.delete(e);\n    }\n}\n\nclass OneTimeBindingBehavior extends BindingModeBehavior {\n    get mode() {\n        return fe;\n    }\n}\n\nOneTimeBindingBehavior.$au = createConfig(\"oneTime\");\n\nclass ToViewBindingBehavior extends BindingModeBehavior {\n    get mode() {\n        return de;\n    }\n}\n\nToViewBindingBehavior.$au = createConfig(\"toView\");\n\nclass FromViewBindingBehavior extends BindingModeBehavior {\n    get mode() {\n        return me;\n    }\n}\n\nFromViewBindingBehavior.$au = createConfig(\"fromView\");\n\nclass TwoWayBindingBehavior extends BindingModeBehavior {\n    get mode() {\n        return ge;\n    }\n}\n\nTwoWayBindingBehavior.$au = createConfig(\"twoWay\");\n\nconst Pe = new WeakMap;\n\nconst qe = 200;\n\nclass DebounceBindingBehavior {\n    constructor() {\n        this.p = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.IPlatform);\n    }\n    bind(t, e, s, n) {\n        const r = {\n            type: \"debounce\",\n            delay: s ?? qe,\n            now: this.p.performanceNow,\n            queue: this.p.taskQueue,\n            signals: (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isString)(n) ? [ n ] : n ?? _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.emptyArray\n        };\n        const l = e.limit?.(r);\n        if (l == null) ; else {\n            Pe.set(e, l);\n        }\n    }\n    unbind(t, e) {\n        Pe.get(e)?.dispose();\n        Pe.delete(e);\n    }\n}\n\nDebounceBindingBehavior.$au = {\n    type: Le,\n    name: \"debounce\"\n};\n\nconst _e = /*@__PURE__*/ Be(\"ISignaler\", (t => t.singleton(Signaler)));\n\nclass Signaler {\n    constructor() {\n        this.signals = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.createLookup)();\n    }\n    dispatchSignal(t) {\n        const e = this.signals[t];\n        if (e === undefined) {\n            return;\n        }\n        let s;\n        for (s of e.keys()) {\n            s.handleChange(undefined, undefined);\n        }\n    }\n    addSignalListener(t, e) {\n        (this.signals[t] ??= new Set).add(e);\n    }\n    removeSignalListener(t, e) {\n        this.signals[t]?.delete(e);\n    }\n}\n\nclass SignalBindingBehavior {\n    constructor() {\n        this.h = new Map;\n        this.u = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(_e);\n    }\n    bind(t, e, ...s) {\n        if (!(\"handleChange\" in e)) {\n            throw createMappedError(817);\n        }\n        if (s.length === 0) {\n            throw createMappedError(818);\n        }\n        this.h.set(e, s);\n        let i;\n        for (i of s) {\n            addSignalListener(this.u, i, e);\n        }\n    }\n    unbind(t, e) {\n        const s = this.h.get(e);\n        this.h.delete(e);\n        let i;\n        for (i of s) {\n            removeSignalListener(this.u, i, e);\n        }\n    }\n}\n\nSignalBindingBehavior.$au = {\n    type: Le,\n    name: \"signal\"\n};\n\nconst Oe = new WeakMap;\n\nconst Fe = 200;\n\nclass ThrottleBindingBehavior {\n    constructor() {\n        ({performanceNow: this.C, taskQueue: this.B} = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.IPlatform));\n    }\n    bind(t, e, s, n) {\n        const r = {\n            type: \"throttle\",\n            delay: s ?? Fe,\n            now: this.C,\n            queue: this.B,\n            signals: (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isString)(n) ? [ n ] : n ?? _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.emptyArray\n        };\n        const l = e.limit?.(r);\n        if (l == null) ; else {\n            Oe.set(e, l);\n        }\n    }\n    unbind(t, e) {\n        Oe.get(e)?.dispose();\n        Oe.delete(e);\n    }\n}\n\nThrottleBindingBehavior.$au = {\n    type: Le,\n    name: \"throttle\"\n};\n\nconst Ve = /*@__PURE__*/ Be(\"IAppTask\");\n\nclass $AppTask {\n    constructor(t, e, s) {\n        this.c = void 0;\n        this.slot = t;\n        this.k = e;\n        this.cb = s;\n    }\n    register(t) {\n        return this.c = t.register(Ee(Ve, this));\n    }\n    run() {\n        const t = this.k;\n        const e = this.cb;\n        return t === null ? e() : e(this.c.get(t));\n    }\n}\n\nconst He = Ut({\n    creating: createAppTaskSlotHook(\"creating\"),\n    hydrating: createAppTaskSlotHook(\"hydrating\"),\n    hydrated: createAppTaskSlotHook(\"hydrated\"),\n    activating: createAppTaskSlotHook(\"activating\"),\n    activated: createAppTaskSlotHook(\"activated\"),\n    deactivating: createAppTaskSlotHook(\"deactivating\"),\n    deactivated: createAppTaskSlotHook(\"deactivated\")\n});\n\nfunction createAppTaskSlotHook(t) {\n    function appTaskFactory(e, s) {\n        if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isFunction)(s)) {\n            return new $AppTask(t, e, s);\n        }\n        return new $AppTask(t, null, e);\n    }\n    return appTaskFactory;\n}\n\nconst $e = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.IPlatform;\n\nfunction watch(t, e) {\n    if (t == null) {\n        throw createMappedError(772);\n    }\n    return function decorator(s, i) {\n        const n = i.kind === \"class\";\n        if (n) {\n            if (!(0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isFunction)(e) && (e == null || !(e in s.prototype))) {\n                throw createMappedError(773, `${jt(e)}@${s.name}}`);\n            }\n        } else if (!(0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isFunction)(s)) {\n            throw createMappedError(774, i.name);\n        }\n        const r = new WatchDefinition(t, n ? e : s);\n        if (n) {\n            addDefinition(s);\n        } else {\n            i.addInitializer((function() {\n                addDefinition(this.constructor);\n            }));\n        }\n        function addDefinition(t) {\n            Ne.add(t, r);\n            if (isAttributeType(t)) {\n                getAttributeDefinition(t).watches.push(r);\n            }\n            if (isElementType(t)) {\n                getElementDefinition(t).watches.push(r);\n            }\n        }\n    };\n}\n\nclass WatchDefinition {\n    constructor(t, e) {\n        this.expression = t;\n        this.callback = e;\n    }\n}\n\nconst Ne = /*@__PURE__*/ (() => {\n    const t = new WeakMap;\n    return Ut({\n        add(e, s) {\n            let i = t.get(e);\n            if (i == null) {\n                t.set(e, i = []);\n            }\n            i.push(s);\n        },\n        getDefinitions(e) {\n            return t.get(e) ?? _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.emptyArray;\n        }\n    });\n})();\n\nfunction customAttribute(t) {\n    return function(e, s) {\n        s.addInitializer((function() {\n            defineAttribute(t, this);\n        }));\n        return e;\n    };\n}\n\nfunction templateController(t) {\n    return function(e, s) {\n        s.addInitializer((function() {\n            defineAttribute((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isString)(t) ? {\n                isTemplateController: true,\n                name: t\n            } : {\n                isTemplateController: true,\n                ...t\n            }, this);\n        }));\n        return e;\n    };\n}\n\nclass CustomAttributeDefinition {\n    get type() {\n        return Te;\n    }\n    constructor(t, e, s, i, n, r, l, a, h, c, u) {\n        this.Type = t;\n        this.name = e;\n        this.aliases = s;\n        this.key = i;\n        this.defaultBindingMode = n;\n        this.isTemplateController = r;\n        this.bindables = l;\n        this.noMultiBindings = a;\n        this.watches = h;\n        this.dependencies = c;\n        this.containerStrategy = u;\n    }\n    static create(t, e) {\n        let s;\n        let n;\n        if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isString)(t)) {\n            s = t;\n            n = {\n                name: s\n            };\n        } else {\n            s = t.name;\n            n = t;\n        }\n        const r = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.firstDefined)(getAttributeAnnotation(e, \"defaultBindingMode\"), n.defaultBindingMode, e.defaultBindingMode, de);\n        for (const t of Object.values(ke.from(n.bindables))) {\n            ke.i(t, e);\n        }\n        return new CustomAttributeDefinition(e, (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.firstDefined)(getAttributeAnnotation(e, \"name\"), s), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.mergeArrays)(getAttributeAnnotation(e, \"aliases\"), n.aliases, e.aliases), getAttributeKeyFrom(s), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isString)(r) ? _aurelia_template_compiler__WEBPACK_IMPORTED_MODULE_3__.BindingMode[r] ?? ue : r, (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.firstDefined)(getAttributeAnnotation(e, \"isTemplateController\"), n.isTemplateController, e.isTemplateController, false), ke.from(...ke.getAll(e), getAttributeAnnotation(e, \"bindables\"), e.bindables, n.bindables), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.firstDefined)(getAttributeAnnotation(e, \"noMultiBindings\"), n.noMultiBindings, e.noMultiBindings, false), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.mergeArrays)(Ne.getDefinitions(e), e.watches), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.mergeArrays)(getAttributeAnnotation(e, \"dependencies\"), n.dependencies, e.dependencies), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.firstDefined)(getAttributeAnnotation(e, \"containerStrategy\"), n.containerStrategy, e.containerStrategy, \"reuse\"));\n    }\n    register(t, e) {\n        const s = this.Type;\n        const i = typeof e === \"string\" ? getAttributeKeyFrom(e) : this.key;\n        const n = this.aliases;\n        if (!t.has(i, false)) {\n            t.register(t.has(s, false) ? null : Se(s, s), Ae(s, i), ...n.map((t => Ae(s, getAttributeKeyFrom(t)))));\n        } else {\n            if (CustomAttributeDefinition.warnDuplicate) {\n                t.get(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.ILogger).warn(createMappedError(154, this.name));\n            }\n        }\n    }\n    toString() {\n        return `au:ca:${this.name}`;\n    }\n}\n\nCustomAttributeDefinition.warnDuplicate = true;\n\nconst je = \"custom-attribute\";\n\nconst We = /*@__PURE__*/ (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.getResourceKeyFor)(je);\n\nconst getAttributeKeyFrom = t => `${We}:${t}`;\n\nconst getAttributeAnnotation = (t, e) => pe(we(e), t);\n\nconst isAttributeType = t => (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isFunction)(t) && (ve(We, t) || t.$au?.type === je);\n\nconst findAttributeControllerFor = (t, e) => getRef(t, getAttributeKeyFrom(e)) ?? void 0;\n\nconst defineAttribute = (t, e) => {\n    const s = CustomAttributeDefinition.create(t, e);\n    const i = s.Type;\n    xe(s, i, We, _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resourceBaseName);\n    return i;\n};\n\nconst getAttributeDefinition = t => {\n    const e = pe(We, t) ?? getDefinitionFromStaticAu(t, je, CustomAttributeDefinition.create);\n    if (e === void 0) {\n        throw createMappedError(759, t);\n    }\n    return e;\n};\n\nconst findClosestControllerByName = (t, e) => {\n    let s = \"\";\n    let n = \"\";\n    if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isString)(e)) {\n        s = getAttributeKeyFrom(e);\n        n = e;\n    } else {\n        const t = getAttributeDefinition(e);\n        s = t.key;\n        n = t.name;\n    }\n    let r = t;\n    while (r !== null) {\n        const t = getRef(r, s);\n        if (t?.is(n)) {\n            return t;\n        }\n        r = getEffectiveParentNode(r);\n    }\n    return null;\n};\n\nconst ze = /*@__PURE__*/ Ut({\n    name: We,\n    keyFrom: getAttributeKeyFrom,\n    isType: isAttributeType,\n    for: findAttributeControllerFor,\n    closest: findClosestControllerByName,\n    define: defineAttribute,\n    getDefinition: getAttributeDefinition,\n    annotate(t, e, s) {\n        xe(s, t, we(e));\n    },\n    getAnnotation: getAttributeAnnotation,\n    find(t, e) {\n        const s = t.find(je, e);\n        return s === null ? null : pe(We, s) ?? getDefinitionFromStaticAu(s, je, CustomAttributeDefinition.create) ?? null;\n    }\n});\n\nconst Ue = /*@__PURE__*/ Be(\"ILifecycleHooks\");\n\nclass LifecycleHooksEntry {\n    constructor(t, e) {\n        this.definition = t;\n        this.instance = e;\n    }\n}\n\nclass LifecycleHooksDefinition {\n    constructor(t, e) {\n        this.Type = t;\n        this.propertyNames = e;\n    }\n    static create(t, e) {\n        const s = new Set;\n        let i = e.prototype;\n        while (i !== Wt) {\n            for (const t of Kt(i)) {\n                if (t !== \"constructor\" && !t.startsWith(\"_\")) {\n                    s.add(t);\n                }\n            }\n            i = Object.getPrototypeOf(i);\n        }\n        return new LifecycleHooksDefinition(e, s);\n    }\n}\n\nconst Ge = /*@__PURE__*/ (() => {\n    const t = new WeakMap;\n    const e = new WeakMap;\n    return Ut({\n        define(t, s) {\n            const i = LifecycleHooksDefinition.create(t, s);\n            const n = i.Type;\n            e.set(n, i);\n            return {\n                register(t) {\n                    Se(Ue, n).register(t);\n                }\n            };\n        },\n        resolve(s) {\n            let i = t.get(s);\n            if (i === void 0) {\n                t.set(s, i = new LifecycleHooksLookupImpl);\n                const n = s.root;\n                const r = n === s ? s.getAll(Ue) : s.has(Ue, false) ? n.getAll(Ue).concat(s.getAll(Ue)) : n.getAll(Ue);\n                let l;\n                let a;\n                let h;\n                let c;\n                let u;\n                for (l of r) {\n                    a = e.get(l.constructor);\n                    h = new LifecycleHooksEntry(a, l);\n                    for (c of a.propertyNames) {\n                        u = i[c];\n                        if (u === void 0) {\n                            i[c] = [ h ];\n                        } else {\n                            u.push(h);\n                        }\n                    }\n                }\n            }\n            return i;\n        }\n    });\n})();\n\nclass LifecycleHooksLookupImpl {}\n\nfunction lifecycleHooks(t, e) {\n    function decorator(t, e) {\n        const s = e?.metadata ?? (t[Symbol.metadata] ??= Object.create(null));\n        s[_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.registrableMetadataKey] = Ge.define({}, t);\n        return t;\n    }\n    return t == null ? decorator : decorator(t, e);\n}\n\nfunction valueConverter(t) {\n    return function(e, s) {\n        s.addInitializer((function() {\n            Qe.define(t, this);\n        }));\n        return e;\n    };\n}\n\nclass ValueConverterDefinition {\n    constructor(t, e, s, i) {\n        this.Type = t;\n        this.name = e;\n        this.aliases = s;\n        this.key = i;\n    }\n    static create(t, e) {\n        let s;\n        let n;\n        if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isString)(t)) {\n            s = t;\n            n = {\n                name: s\n            };\n        } else {\n            s = t.name;\n            n = t;\n        }\n        return new ValueConverterDefinition(e, (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.firstDefined)(getConverterAnnotation(e, \"name\"), s), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.mergeArrays)(getConverterAnnotation(e, \"aliases\"), n.aliases, e.aliases), Qe.keyFrom(s));\n    }\n    register(t, e) {\n        const s = this.Type;\n        const i = typeof e === \"string\" ? getValueConverterKeyFrom(e) : this.key;\n        const n = this.aliases;\n        if (!t.has(i, false)) {\n            t.register(t.has(s, false) ? null : Se(s, s), Ae(s, i), ...n.map((t => Ae(s, getValueConverterKeyFrom(t)))));\n        }\n    }\n}\n\nconst Ke = \"value-converter\";\n\nconst Xe = /*@__PURE__*/ (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.getResourceKeyFor)(Ke);\n\nconst getConverterAnnotation = (t, e) => pe(we(e), t);\n\nconst getValueConverterKeyFrom = t => `${Xe}:${t}`;\n\nconst Qe = Ut({\n    name: Xe,\n    keyFrom: getValueConverterKeyFrom,\n    isType(t) {\n        return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isFunction)(t) && (ve(Xe, t) || t.$au?.type === Ke);\n    },\n    define(t, e) {\n        const s = ValueConverterDefinition.create(t, e);\n        const i = s.Type;\n        xe(s, i, Xe, _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resourceBaseName);\n        return i;\n    },\n    getDefinition(t) {\n        const e = pe(Xe, t) ?? getDefinitionFromStaticAu(t, Ke, ValueConverterDefinition.create);\n        if (e === void 0) {\n            throw createMappedError(152, t);\n        }\n        return e;\n    },\n    annotate(t, e, s) {\n        xe(s, t, we(e));\n    },\n    getAnnotation: getConverterAnnotation,\n    find(t, e) {\n        const s = t.find(Ke, e);\n        return s == null ? null : pe(Xe, s) ?? getDefinitionFromStaticAu(s, Ke, ValueConverterDefinition.create) ?? null;\n    },\n    get(t, e) {\n        return t.get((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resource)(getValueConverterKeyFrom(e)));\n    }\n});\n\nclass BindingTargetSubscriber {\n    constructor(t, e) {\n        this.v = void 0;\n        this.b = t;\n        this.A = e;\n    }\n    flush() {\n        this.b.updateSource(this.v);\n    }\n    handleChange(t, e) {\n        const s = this.b;\n        if (t !== ae(s.ast, s.s, s, null)) {\n            this.v = t;\n            this.A.add(this);\n        }\n    }\n}\n\nconst Ye = /*@__PURE__*/ (() => {\n    function useScope(t) {\n        this.s = t;\n    }\n    return t => {\n        defineHiddenProp(t.prototype, \"useScope\", useScope);\n    };\n})();\n\nconst Ze = /*@__PURE__*/ (() => {\n    const t = new WeakMap;\n    const e = new WeakMap;\n    function evaluatorGet(t) {\n        return this.l.get(t);\n    }\n    function evaluatorGetSignaler() {\n        return this.l.root.get(_e);\n    }\n    function evaluatorGetConverter(e) {\n        let s = t.get(this);\n        if (s == null) {\n            t.set(this, s = new ResourceLookup);\n        }\n        return s[e] ??= Qe.get(this.l, e);\n    }\n    function evaluatorGetBehavior(t) {\n        let s = e.get(this);\n        if (s == null) {\n            e.set(this, s = new ResourceLookup);\n        }\n        return s[t] ??= De.get(this.l, t);\n    }\n    return (t, e = true) => s => {\n        const i = s.prototype;\n        if (t != null) {\n            Yt(i, \"strict\", {\n                enumerable: true,\n                get: function() {\n                    return t;\n                }\n            });\n        }\n        Yt(i, \"strictFnCall\", {\n            enumerable: true,\n            get: function() {\n                return e;\n            }\n        });\n        defineHiddenProp(i, \"get\", evaluatorGet);\n        defineHiddenProp(i, \"getSignaler\", evaluatorGetSignaler);\n        defineHiddenProp(i, \"getConverter\", evaluatorGetConverter);\n        defineHiddenProp(i, \"getBehavior\", evaluatorGetBehavior);\n    };\n})();\n\nclass ResourceLookup {}\n\nconst Je = /*@__PURE__*/ Be(\"IFlushQueue\", (t => t.singleton(FlushQueue)));\n\nclass FlushQueue {\n    constructor() {\n        this.R = false;\n        this.T = new Set;\n    }\n    get count() {\n        return this.T.size;\n    }\n    add(t) {\n        this.T.add(t);\n        if (this.R) {\n            return;\n        }\n        this.R = true;\n        try {\n            this.T.forEach(flushItem);\n        } finally {\n            this.R = false;\n        }\n    }\n    clear() {\n        this.T.clear();\n        this.R = false;\n    }\n}\n\nconst flushItem = function(t, e, s) {\n    s.delete(t);\n    t.flush();\n};\n\nconst ts = /*@__PURE__*/ (() => {\n    const t = new WeakSet;\n    const debounced = (t, e, s) => {\n        let i;\n        let n;\n        let r;\n        let l = false;\n        const a = t.queue;\n        const callOriginalCallback = () => e(r);\n        const fn = e => {\n            r = e;\n            if (s.isBound) {\n                n = i;\n                i = a.queueTask(callOriginalCallback, {\n                    delay: t.delay\n                });\n                n?.cancel();\n            } else {\n                callOriginalCallback();\n            }\n        };\n        const h = fn.dispose = () => {\n            n?.cancel();\n            i?.cancel();\n            n = i = void 0;\n        };\n        fn.flush = () => {\n            l = i?.status === se;\n            h();\n            if (l) {\n                callOriginalCallback();\n            }\n        };\n        return fn;\n    };\n    const throttled = (t, e, s) => {\n        let i;\n        let n;\n        let r = 0;\n        let l = 0;\n        let a;\n        let h = false;\n        const c = t.queue;\n        const now = () => t.now();\n        const callOriginalCallback = () => e(a);\n        const fn = e => {\n            a = e;\n            if (s.isBound) {\n                l = now() - r;\n                n = i;\n                if (l > t.delay) {\n                    r = now();\n                    callOriginalCallback();\n                } else {\n                    i = c.queueTask((() => {\n                        r = now();\n                        callOriginalCallback();\n                    }), {\n                        delay: t.delay - l\n                    });\n                }\n                n?.cancel();\n            } else {\n                callOriginalCallback();\n            }\n        };\n        const u = fn.dispose = () => {\n            n?.cancel();\n            i?.cancel();\n            n = i = void 0;\n        };\n        fn.flush = () => {\n            h = i?.status === se;\n            u();\n            if (h) {\n                callOriginalCallback();\n            }\n        };\n        return fn;\n    };\n    return (e, s) => {\n        defineHiddenProp(e.prototype, \"limit\", (function(e) {\n            if (t.has(this)) {\n                throw createMappedError(9996);\n            }\n            t.add(this);\n            const i = s(this, e);\n            const n = e.signals;\n            const r = n.length > 0 ? this.get(_e) : null;\n            const l = this[i];\n            const callOriginal = (...t) => l.call(this, ...t);\n            const a = e.type === \"debounce\" ? debounced(e, callOriginal, this) : throttled(e, callOriginal, this);\n            const h = r ? {\n                handleChange: a.flush\n            } : null;\n            this[i] = a;\n            if (r) {\n                n.forEach((t => addSignalListener(r, t, h)));\n            }\n            return {\n                dispose: () => {\n                    if (r) {\n                        n.forEach((t => removeSignalListener(r, t, h)));\n                    }\n                    t.delete(this);\n                    a.dispose();\n                    delete this[i];\n                }\n            };\n        }));\n    };\n})();\n\nconst es = ((t = new WeakSet) => e => function() {\n    if (!t.has(this)) {\n        t.add(this);\n        e.call(this);\n    }\n})();\n\nconst ss = {\n    preempt: true\n};\n\nclass AttributeBinding {\n    constructor(t, e, s, i, n, r, l, a, h) {\n        this.targetAttribute = l;\n        this.targetProperty = a;\n        this.mode = h;\n        this.isBound = false;\n        this.s = void 0;\n        this.L = null;\n        this.v = void 0;\n        this.boundFn = false;\n        this.l = e;\n        this.ast = n;\n        this.M = t;\n        this.target = r;\n        this.oL = s;\n        this.B = i;\n    }\n    updateTarget(t) {\n        const e = this.target;\n        const s = this.targetAttribute;\n        const n = this.targetProperty;\n        switch (s) {\n          case \"class\":\n            e.classList.toggle(n, !!t);\n            break;\n\n          case \"style\":\n            {\n                let s = \"\";\n                let r = jt(t);\n                if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isString)(r) && r.includes(\"!important\")) {\n                    s = \"important\";\n                    r = r.replace(\"!important\", \"\");\n                }\n                e.style.setProperty(n, r, s);\n                break;\n            }\n\n          default:\n            {\n                if (t == null) {\n                    e.removeAttribute(s);\n                } else {\n                    e.setAttribute(s, jt(t));\n                }\n            }\n        }\n    }\n    handleChange() {\n        if (!this.isBound) {\n            return;\n        }\n        let t;\n        this.obs.version++;\n        const e = ae(this.ast, this.s, this, (this.mode & de) > 0 ? this : null);\n        this.obs.clear();\n        if (e !== this.v) {\n            this.v = e;\n            const s = this.M.state !== mi;\n            if (s) {\n                t = this.L;\n                this.L = this.B.queueTask((() => {\n                    this.L = null;\n                    this.updateTarget(e);\n                }), ss);\n                t?.cancel();\n            } else {\n                this.updateTarget(e);\n            }\n        }\n    }\n    handleCollectionChange() {\n        this.handleChange();\n    }\n    bind(t) {\n        if (this.isBound) {\n            if (this.s === t) {\n                return;\n            }\n            this.unbind();\n        }\n        this.s = t;\n        he(this.ast, t, this);\n        if (this.mode & (de | fe)) {\n            this.updateTarget(this.v = ae(this.ast, t, this, (this.mode & de) > 0 ? this : null));\n        }\n        this.isBound = true;\n    }\n    unbind() {\n        if (!this.isBound) {\n            return;\n        }\n        this.isBound = false;\n        ce(this.ast, this.s, this);\n        this.s = void 0;\n        this.v = void 0;\n        this.L?.cancel();\n        this.L = null;\n        this.obs.clearAll();\n    }\n}\n\nAttributeBinding.mix = es((() => {\n    Ye(AttributeBinding);\n    ts(AttributeBinding, (() => \"updateTarget\"));\n    (0,_aurelia_runtime__WEBPACK_IMPORTED_MODULE_2__.connectable)(AttributeBinding, null);\n    Ze(true)(AttributeBinding);\n}));\n\nconst is = {\n    preempt: true\n};\n\nclass InterpolationBinding {\n    constructor(t, e, s, i, n, r, l, a) {\n        this.ast = n;\n        this.target = r;\n        this.targetProperty = l;\n        this.mode = a;\n        this.isBound = false;\n        this.s = void 0;\n        this.L = null;\n        this.M = t;\n        this.oL = s;\n        this.B = i;\n        this.I = s.getAccessor(r, l);\n        const h = n.expressions;\n        const c = this.partBindings = Array(h.length);\n        const u = h.length;\n        let f = 0;\n        for (;u > f; ++f) {\n            c[f] = new InterpolationPartBinding(h[f], r, l, e, s, this);\n        }\n    }\n    P() {\n        this.updateTarget();\n    }\n    updateTarget() {\n        const t = this.partBindings;\n        const e = this.ast.parts;\n        const s = t.length;\n        let i = \"\";\n        let n = 0;\n        if (s === 1) {\n            i = e[0] + t[0].v + e[1];\n        } else {\n            i = e[0];\n            for (;s > n; ++n) {\n                i += t[n].v + e[n + 1];\n            }\n        }\n        const r = this.I;\n        const l = this.M.state !== mi && (r.type & oe) > 0;\n        let a;\n        if (l) {\n            a = this.L;\n            this.L = this.B.queueTask((() => {\n                this.L = null;\n                r.setValue(i, this.target, this.targetProperty);\n            }), is);\n            a?.cancel();\n            a = null;\n        } else {\n            r.setValue(i, this.target, this.targetProperty);\n        }\n    }\n    bind(t) {\n        if (this.isBound) {\n            if (this.s === t) {\n                return;\n            }\n            this.unbind();\n        }\n        this.s = t;\n        const e = this.partBindings;\n        const s = e.length;\n        let i = 0;\n        for (;s > i; ++i) {\n            e[i].bind(t);\n        }\n        this.updateTarget();\n        this.isBound = true;\n    }\n    unbind() {\n        if (!this.isBound) {\n            return;\n        }\n        this.isBound = false;\n        this.s = void 0;\n        const t = this.partBindings;\n        const e = t.length;\n        let s = 0;\n        for (;e > s; ++s) {\n            t[s].unbind();\n        }\n        this.L?.cancel();\n        this.L = null;\n    }\n    useAccessor(t) {\n        this.I = t;\n    }\n}\n\nclass InterpolationPartBinding {\n    constructor(t, e, s, i, n, r) {\n        this.ast = t;\n        this.target = e;\n        this.targetProperty = s;\n        this.owner = r;\n        this.mode = de;\n        this.task = null;\n        this.isBound = false;\n        this.v = \"\";\n        this.boundFn = false;\n        this.l = i;\n        this.oL = n;\n    }\n    updateTarget() {\n        this.owner.P();\n    }\n    handleChange() {\n        if (!this.isBound) {\n            return;\n        }\n        this.obs.version++;\n        const t = ae(this.ast, this.s, this, (this.mode & de) > 0 ? this : null);\n        this.obs.clear();\n        if (t != this.v) {\n            this.v = t;\n            if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isArray)(t)) {\n                this.observeCollection(t);\n            }\n            this.updateTarget();\n        }\n    }\n    handleCollectionChange() {\n        this.updateTarget();\n    }\n    bind(t) {\n        if (this.isBound) {\n            if (this.s === t) {\n                return;\n            }\n            this.unbind();\n        }\n        this.s = t;\n        he(this.ast, t, this);\n        this.v = ae(this.ast, this.s, this, (this.mode & de) > 0 ? this : null);\n        if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isArray)(this.v)) {\n            this.observeCollection(this.v);\n        }\n        this.isBound = true;\n    }\n    unbind() {\n        if (!this.isBound) {\n            return;\n        }\n        this.isBound = false;\n        ce(this.ast, this.s, this);\n        this.s = void 0;\n        this.obs.clearAll();\n    }\n}\n\nInterpolationPartBinding.mix = es((() => {\n    Ye(InterpolationPartBinding);\n    ts(InterpolationPartBinding, (() => \"updateTarget\"));\n    (0,_aurelia_runtime__WEBPACK_IMPORTED_MODULE_2__.connectable)(InterpolationPartBinding, null);\n    Ze(true)(InterpolationPartBinding);\n}));\n\nconst ns = {\n    preempt: true\n};\n\nclass ContentBinding {\n    constructor(t, e, s, i, n, r, l) {\n        this.p = n;\n        this.ast = r;\n        this.target = l;\n        this.isBound = false;\n        this.mode = de;\n        this.L = null;\n        this.v = \"\";\n        this.q = false;\n        this.boundFn = false;\n        this.strict = true;\n        this.l = e;\n        this.M = t;\n        this.oL = s;\n        this.B = i;\n    }\n    updateTarget(t) {\n        const e = this.target;\n        const s = this.v;\n        this.v = t;\n        if (this.q) {\n            s.parentNode?.removeChild(s);\n            this.q = false;\n        }\n        if (t instanceof this.p.Node) {\n            e.parentNode?.insertBefore(t, e);\n            t = \"\";\n            this.q = true;\n        }\n        e.textContent = jt(t ?? \"\");\n    }\n    handleChange() {\n        if (!this.isBound) {\n            return;\n        }\n        this.obs.version++;\n        const t = ae(this.ast, this.s, this, (this.mode & de) > 0 ? this : null);\n        this.obs.clear();\n        if (t === this.v) {\n            this.L?.cancel();\n            this.L = null;\n            return;\n        }\n        const e = this.M.state !== mi;\n        if (e) {\n            this._(t);\n        } else {\n            this.updateTarget(t);\n        }\n    }\n    handleCollectionChange() {\n        if (!this.isBound) {\n            return;\n        }\n        this.obs.version++;\n        const t = this.v = ae(this.ast, this.s, this, (this.mode & de) > 0 ? this : null);\n        this.obs.clear();\n        if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isArray)(t)) {\n            this.observeCollection(t);\n        }\n        const e = this.M.state !== mi;\n        if (e) {\n            this._(t);\n        } else {\n            this.updateTarget(t);\n        }\n    }\n    bind(t) {\n        if (this.isBound) {\n            if (this.s === t) {\n                return;\n            }\n            this.unbind();\n        }\n        this.s = t;\n        he(this.ast, t, this);\n        const e = this.v = ae(this.ast, this.s, this, (this.mode & de) > 0 ? this : null);\n        if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isArray)(e)) {\n            this.observeCollection(e);\n        }\n        this.updateTarget(e);\n        this.isBound = true;\n    }\n    unbind() {\n        if (!this.isBound) {\n            return;\n        }\n        this.isBound = false;\n        ce(this.ast, this.s, this);\n        if (this.q) {\n            this.v.parentNode?.removeChild(this.v);\n        }\n        this.s = void 0;\n        this.obs.clearAll();\n        this.L?.cancel();\n        this.L = null;\n    }\n    _(t) {\n        const e = this.L;\n        this.L = this.B.queueTask((() => {\n            this.L = null;\n            this.updateTarget(t);\n        }), ns);\n        e?.cancel();\n    }\n}\n\nContentBinding.mix = es((() => {\n    Ye(ContentBinding);\n    ts(ContentBinding, (() => \"updateTarget\"));\n    (0,_aurelia_runtime__WEBPACK_IMPORTED_MODULE_2__.connectable)(ContentBinding, null);\n    Ze(void 0, false)(ContentBinding);\n}));\n\nclass LetBinding {\n    constructor(t, e, s, i, n = false) {\n        this.ast = s;\n        this.targetProperty = i;\n        this.isBound = false;\n        this.s = void 0;\n        this.target = null;\n        this.boundFn = false;\n        this.l = t;\n        this.oL = e;\n        this.O = n;\n    }\n    updateTarget() {\n        this.target[this.targetProperty] = this.v;\n    }\n    handleChange() {\n        if (!this.isBound) {\n            return;\n        }\n        this.obs.version++;\n        this.v = ae(this.ast, this.s, this, this);\n        this.obs.clear();\n        this.updateTarget();\n    }\n    handleCollectionChange() {\n        this.handleChange();\n    }\n    bind(t) {\n        if (this.isBound) {\n            if (this.s === t) {\n                return;\n            }\n            this.unbind();\n        }\n        this.s = t;\n        this.target = this.O ? t.bindingContext : t.overrideContext;\n        he(this.ast, t, this);\n        this.v = ae(this.ast, this.s, this, this);\n        this.updateTarget();\n        this.isBound = true;\n    }\n    unbind() {\n        if (!this.isBound) {\n            return;\n        }\n        this.isBound = false;\n        ce(this.ast, this.s, this);\n        this.s = void 0;\n        this.obs.clearAll();\n    }\n}\n\nLetBinding.mix = es((() => {\n    Ye(LetBinding);\n    ts(LetBinding, (() => \"updateTarget\"));\n    (0,_aurelia_runtime__WEBPACK_IMPORTED_MODULE_2__.connectable)(LetBinding, null);\n    Ze(true)(LetBinding);\n}));\n\nclass PropertyBinding {\n    constructor(t, e, s, i, n, r, l, a) {\n        this.ast = n;\n        this.target = r;\n        this.targetProperty = l;\n        this.mode = a;\n        this.isBound = false;\n        this.s = void 0;\n        this.I = void 0;\n        this.L = null;\n        this.F = null;\n        this.boundFn = false;\n        this.l = e;\n        this.M = t;\n        this.B = i;\n        this.oL = s;\n    }\n    updateTarget(t) {\n        this.I.setValue(t, this.target, this.targetProperty);\n    }\n    updateSource(t) {\n        le(this.ast, this.s, this, t);\n    }\n    handleChange() {\n        if (!this.isBound) {\n            return;\n        }\n        this.obs.version++;\n        const t = ae(this.ast, this.s, this, (this.mode & de) > 0 ? this : null);\n        this.obs.clear();\n        const e = this.M.state !== mi && (this.I.type & oe) > 0;\n        if (e) {\n            rs = this.L;\n            this.L = this.B.queueTask((() => {\n                this.updateTarget(t);\n                this.L = null;\n            }), os);\n            rs?.cancel();\n            rs = null;\n        } else {\n            this.updateTarget(t);\n        }\n    }\n    handleCollectionChange() {\n        this.handleChange();\n    }\n    bind(t) {\n        if (this.isBound) {\n            if (this.s === t) {\n                return;\n            }\n            this.unbind();\n        }\n        this.s = t;\n        he(this.ast, t, this);\n        const e = this.oL;\n        const s = this.mode;\n        let i = this.I;\n        if (!i) {\n            if (s & me) {\n                i = e.getObserver(this.target, this.targetProperty);\n            } else {\n                i = e.getAccessor(this.target, this.targetProperty);\n            }\n            this.I = i;\n        }\n        const n = (s & de) > 0;\n        if (s & (de | fe)) {\n            this.updateTarget(ae(this.ast, this.s, this, n ? this : null));\n        }\n        if (s & me) {\n            i.subscribe(this.F ??= new BindingTargetSubscriber(this, this.l.get(Je)));\n            if (!n) {\n                this.updateSource(i.getValue(this.target, this.targetProperty));\n            }\n        }\n        this.isBound = true;\n    }\n    unbind() {\n        if (!this.isBound) {\n            return;\n        }\n        this.isBound = false;\n        ce(this.ast, this.s, this);\n        this.s = void 0;\n        if (this.F) {\n            this.I.unsubscribe(this.F);\n            this.F = null;\n        }\n        this.L?.cancel();\n        this.L = null;\n        this.obs.clearAll();\n    }\n    useTargetObserver(t) {\n        this.I?.unsubscribe(this);\n        (this.I = t).subscribe(this);\n    }\n    useTargetSubscriber(t) {\n        if (this.F != null) {\n            throw createMappedError(9995);\n        }\n        this.F = t;\n    }\n}\n\nPropertyBinding.mix = es((() => {\n    Ye(PropertyBinding);\n    ts(PropertyBinding, (t => t.mode & me ? \"updateSource\" : \"updateTarget\"));\n    (0,_aurelia_runtime__WEBPACK_IMPORTED_MODULE_2__.connectable)(PropertyBinding, null);\n    Ze(true, false)(PropertyBinding);\n}));\n\nlet rs = null;\n\nconst os = {\n    preempt: true\n};\n\nclass RefBinding {\n    constructor(t, e, s) {\n        this.ast = e;\n        this.target = s;\n        this.isBound = false;\n        this.s = void 0;\n        this.l = t;\n    }\n    bind(t) {\n        if (this.isBound) {\n            if (this.s === t) {\n                return;\n            }\n            this.unbind();\n        }\n        this.s = t;\n        he(this.ast, t, this);\n        le(this.ast, this.s, this, this.target);\n        this.isBound = true;\n    }\n    unbind() {\n        if (!this.isBound) {\n            return;\n        }\n        this.isBound = false;\n        if (ae(this.ast, this.s, this, null) === this.target) {\n            le(this.ast, this.s, this, null);\n        }\n        ce(this.ast, this.s, this);\n        this.s = void 0;\n    }\n}\n\nRefBinding.mix = es((() => {\n    Ze(false)(RefBinding);\n}));\n\nclass ListenerBindingOptions {\n    constructor(t, e = false) {\n        this.prevent = t;\n        this.capture = e;\n    }\n}\n\nclass ListenerBinding {\n    constructor(t, e, s, i, n, r) {\n        this.ast = e;\n        this.target = s;\n        this.targetEvent = i;\n        this.isBound = false;\n        this.self = false;\n        this.boundFn = true;\n        this.V = null;\n        this.l = t;\n        this.H = n;\n        this.V = r;\n    }\n    callSource(t) {\n        const e = this.s.overrideContext;\n        e.$event = t;\n        let s = ae(this.ast, this.s, this, null);\n        delete e.$event;\n        if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isFunction)(s)) {\n            s = s(t);\n        }\n        if (s !== true && this.H.prevent) {\n            t.preventDefault();\n        }\n        return s;\n    }\n    handleEvent(t) {\n        if (this.self) {\n            if (this.target !== t.composedPath()[0]) {\n                return;\n            }\n        }\n        if (this.V?.(t) !== false) {\n            this.callSource(t);\n        }\n    }\n    bind(t) {\n        if (this.isBound) {\n            if (this.s === t) {\n                return;\n            }\n            this.unbind();\n        }\n        this.s = t;\n        he(this.ast, t, this);\n        this.target.addEventListener(this.targetEvent, this, this.H);\n        this.isBound = true;\n    }\n    unbind() {\n        if (!this.isBound) {\n            return;\n        }\n        this.isBound = false;\n        ce(this.ast, this.s, this);\n        this.s = void 0;\n        this.target.removeEventListener(this.targetEvent, this, this.H);\n    }\n}\n\nListenerBinding.mix = es((function() {\n    Ye(ListenerBinding);\n    ts(ListenerBinding, (() => \"callSource\"));\n    Ze(true, true)(ListenerBinding);\n}));\n\nconst ls = /*@__PURE__*/ Be(\"IEventModifier\");\n\nconst as = /*@__PURE__*/ Be(\"IKeyMapping\", (t => t.instance({\n    meta: Ut([ \"ctrl\", \"alt\", \"shift\", \"meta\" ]),\n    keys: {\n        escape: \"Escape\",\n        enter: \"Enter\",\n        space: \"Space\",\n        tab: \"tab\",\n        ...Array.from({\n            length: 25\n        }).reduce(((t, e, s) => {\n            let i = String.fromCharCode(s + 65);\n            t[s + 65] = i;\n            i = String.fromCharCode(s + 97);\n            t[s + 97] = t[i] = i;\n            return t;\n        }), {})\n    }\n})));\n\nclass ModifiedMouseEventHandler {\n    constructor() {\n        this.type = [ \"click\", \"mousedown\", \"mousemove\", \"mouseup\", \"dblclick\", \"contextmenu\" ];\n        this.$ = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(as);\n        this.N = [ \"left\", \"middle\", \"right\" ];\n    }\n    static register(t) {\n        t.register(Se(ls, ModifiedMouseEventHandler));\n    }\n    getHandler(t) {\n        const e = t.split(/[:+.]/);\n        return t => {\n            let s = false;\n            let i = false;\n            let n;\n            for (n of e) {\n                switch (n) {\n                  case \"prevent\":\n                    s = true;\n                    continue;\n\n                  case \"stop\":\n                    i = true;\n                    continue;\n\n                  case \"left\":\n                  case \"middle\":\n                  case \"right\":\n                    if (t.button !== this.N.indexOf(n)) return false;\n                    continue;\n                }\n                if (this.$.meta.includes(n) && t[`${n}Key`] !== true) {\n                    return false;\n                }\n            }\n            if (s) t.preventDefault();\n            if (i) t.stopPropagation();\n            return true;\n        };\n    }\n}\n\nclass ModifiedKeyboardEventHandler {\n    constructor() {\n        this.$ = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(as);\n        this.type = [ \"keydown\", \"keyup\" ];\n    }\n    static register(t) {\n        t.register(Se(ls, ModifiedKeyboardEventHandler));\n    }\n    getHandler(t) {\n        const e = t.split(/[:+.]/);\n        return t => {\n            let s = false;\n            let i = false;\n            let n;\n            for (n of e) {\n                switch (n) {\n                  case \"prevent\":\n                    s = true;\n                    continue;\n\n                  case \"stop\":\n                    i = true;\n                    continue;\n                }\n                if (this.$.meta.includes(n)) {\n                    if (t[`${n}Key`] !== true) {\n                        return false;\n                    }\n                    continue;\n                }\n                const e = this.$.keys[n];\n                if (e !== t.key) {\n                    return false;\n                }\n            }\n            if (s) t.preventDefault();\n            if (i) t.stopPropagation();\n            return true;\n        };\n    }\n}\n\nclass ModifiedEventHandler {\n    constructor() {\n        this.type = [ \"$ALL\" ];\n    }\n    static register(t) {\n        t.register(Se(ls, ModifiedEventHandler));\n    }\n    getHandler(t) {\n        const e = t.split(/[:+.]/);\n        return t => {\n            let s = false;\n            let i = false;\n            let n;\n            for (n of e) {\n                switch (n) {\n                  case \"prevent\":\n                    s = true;\n                    continue;\n\n                  case \"stop\":\n                    i = true;\n                    continue;\n                }\n            }\n            if (s) t.preventDefault();\n            if (i) t.stopPropagation();\n            return true;\n        };\n    }\n}\n\nconst hs = /*@__PURE__*/ Be(\"IEventModifierHandler\", (t => t.instance({\n    getHandler: () => null\n})));\n\nclass EventModifier {\n    constructor() {\n        this.j = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.all)(ls)).reduce(((t, e) => {\n            const s = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isArray)(e.type) ? e.type : [ e.type ];\n            s.forEach((s => t[s] = e));\n            return t;\n        }), {});\n    }\n    static register(t) {\n        t.register(Se(hs, EventModifier));\n    }\n    getHandler(t, e) {\n        return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isString)(e) ? (this.j[t] ?? this.j.$ALL)?.getHandler(e) ?? null : null;\n    }\n}\n\nconst cs = {\n    register(t) {\n        t.register(EventModifier, ModifiedMouseEventHandler, ModifiedKeyboardEventHandler, ModifiedEventHandler);\n    }\n};\n\nconst us = /*@__PURE__*/ Be(\"IViewFactory\");\n\nclass ViewFactory {\n    constructor(t, e) {\n        this.isCaching = false;\n        this.W = null;\n        this.U = -1;\n        this.name = e.name;\n        this.container = t;\n        this.def = e;\n    }\n    setCacheSize(t, e) {\n        if (t) {\n            if (t === \"*\") {\n                t = ViewFactory.maxCacheSize;\n            } else if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isString)(t)) {\n                t = parseInt(t, 10);\n            }\n            if (this.U === -1 || !e) {\n                this.U = t;\n            }\n        }\n        if (this.U > 0) {\n            this.W = [];\n        } else {\n            this.W = null;\n        }\n        this.isCaching = this.U > 0;\n    }\n    canReturnToCache(t) {\n        return this.W != null && this.W.length < this.U;\n    }\n    tryReturnToCache(t) {\n        if (this.canReturnToCache(t)) {\n            this.W.push(t);\n            return true;\n        }\n        return false;\n    }\n    create(t) {\n        const e = this.W;\n        let s;\n        if (e != null && e.length > 0) {\n            s = e.pop();\n            return s;\n        }\n        s = Controller.$view(this, t);\n        return s;\n    }\n}\n\nViewFactory.maxCacheSize = 65535;\n\nconst fs = /*@__PURE__*/ (() => {\n    const createComment = (t, e) => t.document.createComment(e);\n    return t => {\n        const e = createComment(t, \"au-end\");\n        e.$start = createComment(t, \"au-start\");\n        return e;\n    };\n})();\n\nconst insertManyBefore = (t, e, s) => {\n    if (t === null) {\n        return;\n    }\n    const i = s.length;\n    let n = 0;\n    while (i > n) {\n        t.insertBefore(s[n], e);\n        ++n;\n    }\n};\n\nconst createMutationObserver = (t, e) => new t.ownerDocument.defaultView.MutationObserver(e);\n\nconst isElement = t => t.nodeType === 1;\n\nconst ds = \"default\";\n\nconst ms = \"au-slot\";\n\nconst gs = /*@__PURE__*/ Be(\"IAuSlotsInfo\");\n\nclass AuSlotsInfo {\n    constructor(t) {\n        this.projectedSlots = t;\n    }\n}\n\nconst ps = /*@__PURE__*/ Be(\"IAuSlotWatcher\");\n\nclass AuSlotWatcherBinding {\n    constructor(t, e, s, i) {\n        this.G = new Set;\n        this.K = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.emptyArray;\n        this.isBound = false;\n        this.cb = (this.o = t)[e];\n        this.slotName = s;\n        this.X = i;\n    }\n    bind() {\n        this.isBound = true;\n    }\n    unbind() {\n        this.isBound = false;\n    }\n    getValue() {\n        return this.K;\n    }\n    watch(t) {\n        if (!this.G.has(t)) {\n            this.G.add(t);\n            t.subscribe(this);\n        }\n    }\n    unwatch(t) {\n        if (this.G.delete(t)) {\n            t.unsubscribe(this);\n        }\n    }\n    handleSlotChange(t, e) {\n        if (!this.isBound) {\n            return;\n        }\n        const s = this.K;\n        const i = [];\n        const n = this.X;\n        let r;\n        let l;\n        for (r of this.G) {\n            for (l of r === t ? e : r.nodes) {\n                if (n === \"$all\" || isElement(l) && (n === \"*\" || l.matches(n))) {\n                    i[i.length] = l;\n                }\n            }\n        }\n        if (i.length !== s.length || i.some(((t, e) => t !== s[e]))) {\n            this.K = i;\n            this.cb?.call(this.o, i);\n            this.subs.notify(i, s);\n        }\n    }\n    get() {\n        throw createMappedError(99, \"get\");\n    }\n}\n\nclass SlottedLifecycleHooks {\n    constructor(t) {\n        this.Y = t;\n    }\n    register(t) {\n        Ee(Ue, this).register(t);\n    }\n    hydrating(t, e) {\n        const s = this.Y;\n        const i = new AuSlotWatcherBinding(t, s.callback ?? `${jt(s.name)}Changed`, s.slotName ?? \"default\", s.query ?? \"*\");\n        Yt(t, s.name, {\n            enumerable: true,\n            configurable: true,\n            get: Gt((() => i.getValue()), {\n                getObserver: () => i\n            }),\n            set: () => {}\n        });\n        Ee(ps, i).register(e.container);\n        e.addBinding(i);\n    }\n}\n\nfunction slotted(t, e) {\n    if (!vs) {\n        vs = true;\n        (0,_aurelia_runtime__WEBPACK_IMPORTED_MODULE_2__.subscriberCollection)(AuSlotWatcherBinding, null);\n        lifecycleHooks()(SlottedLifecycleHooks, null);\n    }\n    const s = we(\"dependencies\");\n    function decorator(i, n) {\n        if (n.kind !== \"field\") throw createMappedError(9990);\n        const r = typeof t === \"object\" ? t : {\n            query: t,\n            slotName: e,\n            name: \"\"\n        };\n        r.name = n.name;\n        const l = n.metadata[s] ??= [];\n        l.push(new SlottedLifecycleHooks(r));\n    }\n    return decorator;\n}\n\nlet vs = false;\n\nclass SpreadBinding {\n    static create(t, e, s, i, n, r, l, a) {\n        const h = [];\n        const c = i.renderers;\n        const getHydrationContext = e => {\n            let s = e;\n            let i = t;\n            while (i != null && s > 0) {\n                i = i.parent;\n                --s;\n            }\n            if (i == null) {\n                throw createMappedError(9999);\n            }\n            return i;\n        };\n        const renderSpreadInstruction = t => {\n            const i = getHydrationContext(t);\n            const u = new SpreadBinding(i);\n            const f = n.compileSpread(i.controller.definition, i.instruction?.captures ?? _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.emptyArray, i.controller.container, e, s);\n            let d;\n            for (d of f) {\n                switch (d.type) {\n                  case _aurelia_template_compiler__WEBPACK_IMPORTED_MODULE_3__.InstructionType.spreadTransferedBinding:\n                    renderSpreadInstruction(t + 1);\n                    break;\n\n                  case _aurelia_template_compiler__WEBPACK_IMPORTED_MODULE_3__.InstructionType.spreadElementProp:\n                    c[d.instruction.type].render(u, findElementControllerFor(e), d.instruction, r, l, a);\n                    break;\n\n                  default:\n                    c[d.type].render(u, e, d, r, l, a);\n                }\n            }\n            h.push(u);\n        };\n        renderSpreadInstruction(0);\n        return h;\n    }\n    get container() {\n        return this.locator;\n    }\n    get definition() {\n        return this.$controller.definition;\n    }\n    get state() {\n        return this.$controller.state;\n    }\n    constructor(t) {\n        this.isBound = false;\n        this.Z = [];\n        this.locator = (this.$controller = (this.J = t).controller).container;\n    }\n    get(t) {\n        return this.locator.get(t);\n    }\n    bind(t) {\n        if (this.isBound) {\n            return;\n        }\n        this.isBound = true;\n        const e = this.scope = this.J.controller.scope.parent ?? void 0;\n        if (e == null) {\n            throw createMappedError(9999);\n        }\n        this.Z.forEach((t => t.bind(e)));\n    }\n    unbind() {\n        this.Z.forEach((t => t.unbind()));\n        this.isBound = false;\n    }\n    addBinding(t) {\n        this.Z.push(t);\n    }\n    addChild(t) {\n        if (t.vmKind !== ui) {\n            throw createMappedError(9998);\n        }\n        this.$controller.addChild(t);\n    }\n}\n\nclass SpreadValueBinding {\n    constructor(t, e, s, i, n, r, l) {\n        this.target = e;\n        this.targetKeys = s;\n        this.ast = i;\n        this.isBound = false;\n        this.s = void 0;\n        this.boundFn = false;\n        this.tt = {};\n        this.et = new WeakMap;\n        this.M = t;\n        this.oL = n;\n        this.l = r;\n        this.B = l;\n    }\n    updateTarget() {\n        this.obs.version++;\n        const t = ae(this.ast, this.s, this, this);\n        this.obs.clear();\n        this.st(t, true);\n    }\n    handleChange() {\n        if (!this.isBound) {\n            return;\n        }\n        this.updateTarget();\n    }\n    handleCollectionChange() {\n        if (!this.isBound) {\n            return;\n        }\n        this.updateTarget();\n    }\n    bind(t) {\n        if (this.isBound) {\n            if (t === this.s) {\n                return;\n            }\n            this.unbind();\n        }\n        this.isBound = true;\n        this.s = t;\n        he(this.ast, t, this);\n        const e = ae(this.ast, t, this, this);\n        this.st(e, false);\n    }\n    unbind() {\n        if (!this.isBound) {\n            return;\n        }\n        this.isBound = false;\n        ce(this.ast, this.s, this);\n        this.s = void 0;\n        let t;\n        for (t in this.tt) {\n            this.tt[t].unbind();\n        }\n    }\n    st(t, s) {\n        let i;\n        if (!(0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isObject)(t)) {\n            for (i in this.tt) {\n                this.tt[i]?.unbind();\n            }\n            return;\n        }\n        let n;\n        let l = this.et.get(t);\n        if (l == null) {\n            this.et.set(t, l = Scope.fromParent(this.s, t));\n        }\n        for (i of this.targetKeys) {\n            n = this.tt[i];\n            if (i in t) {\n                if (n == null) {\n                    n = this.tt[i] = new PropertyBinding(this.M, this.l, this.oL, this.B, SpreadValueBinding.it[i] ??= new _aurelia_expression_parser__WEBPACK_IMPORTED_MODULE_0__.AccessScopeExpression(i, 0), this.target, i, _aurelia_template_compiler__WEBPACK_IMPORTED_MODULE_3__.BindingMode.toView);\n                }\n                n.bind(l);\n            } else if (s) {\n                n?.unbind();\n            }\n        }\n    }\n}\n\nSpreadValueBinding.mix = es((() => {\n    Ye(SpreadValueBinding);\n    ts(SpreadValueBinding, (() => \"updateTarget\"));\n    (0,_aurelia_runtime__WEBPACK_IMPORTED_MODULE_2__.connectable)(SpreadValueBinding, null);\n    Ze(true, false)(SpreadValueBinding);\n}));\n\nSpreadValueBinding.it = {};\n\nconst addListener = (t, e, s, i) => {\n    t.addEventListener(e, s, i);\n};\n\nconst removeListener = (t, e, s, i) => {\n    t.removeEventListener(e, s, i);\n};\n\nconst mixinNodeObserverUseConfig = t => {\n    let e;\n    const s = t.prototype;\n    defineHiddenProp(s, \"subscribe\", (function(t) {\n        if (this.subs.add(t) && this.subs.count === 1) {\n            for (e of this.cf.events) {\n                addListener(this.nt, e, this);\n            }\n            this.rt = true;\n            this.ot?.();\n        }\n    }));\n    defineHiddenProp(s, \"unsubscribe\", (function(t) {\n        if (this.subs.remove(t) && this.subs.count === 0) {\n            for (e of this.cf.events) {\n                removeListener(this.nt, e, this);\n            }\n            this.rt = false;\n            this.lt?.();\n        }\n    }));\n    defineHiddenProp(s, \"useConfig\", (function(t) {\n        this.cf = t;\n        if (this.rt) {\n            for (e of this.cf.events) {\n                removeListener(this.nt, e, this);\n            }\n            for (e of this.cf.events) {\n                addListener(this.nt, e, this);\n            }\n        }\n    }));\n};\n\nconst mixinNoopSubscribable = t => {\n    defineHiddenProp(t.prototype, \"subscribe\", _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.noop);\n    defineHiddenProp(t.prototype, \"unsubscribe\", _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.noop);\n};\n\nclass ClassAttributeAccessor {\n    get doNotCache() {\n        return true;\n    }\n    constructor(t, e = {}) {\n        this.obj = t;\n        this.mapping = e;\n        this.type = re | oe;\n        this.v = \"\";\n        this.ht = {};\n        this.ct = 0;\n    }\n    getValue() {\n        return this.v;\n    }\n    setValue(t) {\n        if (t !== this.v) {\n            this.v = t;\n            this.ut();\n        }\n    }\n    ut() {\n        const t = this.ht;\n        const e = ++this.ct;\n        const s = this.obj.classList;\n        const i = getClassesToAdd(this.v);\n        const n = i.length;\n        let r = 0;\n        let l;\n        if (n > 0) {\n            for (;r < n; r++) {\n                l = i[r];\n                l = this.mapping[l] || l;\n                if (l.length === 0) {\n                    continue;\n                }\n                t[l] = this.ct;\n                s.add(l);\n            }\n        }\n        if (e === 1) {\n            return;\n        }\n        for (l in t) {\n            l = this.mapping[l] || l;\n            if (t[l] === e) {\n                continue;\n            }\n            s.remove(l);\n        }\n    }\n}\n\n(() => {\n    mixinNoopSubscribable(ClassAttributeAccessor);\n})();\n\nfunction getClassesToAdd(t) {\n    if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isString)(t)) {\n        return splitClassString(t);\n    }\n    if (typeof t !== \"object\") {\n        return _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.emptyArray;\n    }\n    if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isArray)(t)) {\n        const e = t.length;\n        if (e > 0) {\n            const s = [];\n            let i = 0;\n            for (;e > i; ++i) {\n                s.push(...getClassesToAdd(t[i]));\n            }\n            return s;\n        } else {\n            return _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.emptyArray;\n        }\n    }\n    const e = [];\n    let s;\n    for (s in t) {\n        if (Boolean(t[s])) {\n            if (s.includes(\" \")) {\n                e.push(...splitClassString(s));\n            } else {\n                e.push(s);\n            }\n        }\n    }\n    return e;\n}\n\nfunction splitClassString(t) {\n    const e = t.match(/\\S+/g);\n    if (e === null) {\n        return _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.emptyArray;\n    }\n    return e;\n}\n\nconst fromHydrationContext = t => ({\n    $isResolver: true,\n    resolve(e, s) {\n        return s.get(ki).controller.container.get((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.own)(t));\n    }\n});\n\nconst xs = /*@__PURE__*/ Be(\"IRenderer\");\n\nfunction renderer(t, e) {\n    const s = e?.metadata ?? (t[Symbol.metadata] ??= Object.create(null));\n    s[_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.registrableMetadataKey] = {\n        register(e) {\n            Se(xs, t).register(e);\n        }\n    };\n    return t;\n}\n\nfunction ensureExpression(t, e, s) {\n    if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isString)(e)) {\n        return t.parse(e, s);\n    }\n    return e;\n}\n\nfunction getTarget(t) {\n    if (t.viewModel != null) {\n        return t.viewModel;\n    }\n    return t;\n}\n\nfunction getRefTarget(t, e) {\n    if (e === \"element\") {\n        return t;\n    }\n    switch (e) {\n      case \"controller\":\n        return findElementControllerFor(t);\n\n      case \"view\":\n        throw createMappedError(750);\n\n      case \"component\":\n        return findElementControllerFor(t).viewModel;\n\n      default:\n        {\n            const s = findAttributeControllerFor(t, e);\n            if (s !== void 0) {\n                return s.viewModel;\n            }\n            const i = findElementControllerFor(t, {\n                name: e\n            });\n            if (i === void 0) {\n                throw createMappedError(751, e);\n            }\n            return i.viewModel;\n        }\n    }\n}\n\nconst bs = /*@__PURE__*/ renderer(class SetPropertyRenderer {\n    constructor() {\n        this.target = _aurelia_template_compiler__WEBPACK_IMPORTED_MODULE_3__.InstructionType.setProperty;\n    }\n    render(t, e, s) {\n        const i = getTarget(e);\n        if (i.$observers?.[s.to] !== void 0) {\n            i.$observers[s.to].setValue(s.value);\n        } else {\n            i[s.to] = s.value;\n        }\n    }\n}, null);\n\nconst ws = /*@__PURE__*/ renderer(class CustomElementRenderer {\n    constructor() {\n        this.r = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(zs);\n        this.target = _aurelia_template_compiler__WEBPACK_IMPORTED_MODULE_3__.InstructionType.hydrateElement;\n    }\n    render(t, e, s, i, n, r) {\n        let l;\n        let a;\n        let h;\n        const c = s.res;\n        const u = s.projections;\n        const f = t.container;\n        switch (typeof c) {\n          case \"string\":\n            l = Hi.find(f, c);\n            if (l == null) {\n                throw createMappedError(752, s, t);\n            }\n            break;\n\n          default:\n            l = c;\n        }\n        const d = s.containerless || l.containerless;\n        const m = d ? convertToRenderLocation(e) : null;\n        const g = createElementContainer(i, t, e, s, m, u == null ? void 0 : new AuSlotsInfo(Xt(u)));\n        a = g.invoke(l.Type);\n        h = Controller.$el(g, a, e, s, l, m);\n        setRef(e, l.key, h);\n        const p = this.r.renderers;\n        const v = s.props;\n        const x = v.length;\n        let b = 0;\n        let w;\n        while (x > b) {\n            w = v[b];\n            p[w.type].render(t, h, w, i, n, r);\n            ++b;\n        }\n        t.addChild(h);\n    }\n}, null);\n\nconst ys = /*@__PURE__*/ renderer(class CustomAttributeRenderer {\n    constructor() {\n        this.r = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(zs);\n        this.target = _aurelia_template_compiler__WEBPACK_IMPORTED_MODULE_3__.InstructionType.hydrateAttribute;\n    }\n    render(t, e, s, i, n, r) {\n        let l = t.container;\n        let a;\n        switch (typeof s.res) {\n          case \"string\":\n            a = ze.find(l, s.res);\n            if (a == null) {\n                throw createMappedError(753, s, t);\n            }\n            break;\n\n          default:\n            a = s.res;\n        }\n        const h = invokeAttribute(i, a, t, e, s, void 0, void 0);\n        const c = Controller.$attr(h.ctn, h.vm, e, a);\n        setRef(e, a.key, c);\n        const u = this.r.renderers;\n        const f = s.props;\n        const d = f.length;\n        let m = 0;\n        let g;\n        while (d > m) {\n            g = f[m];\n            u[g.type].render(t, c, g, i, n, r);\n            ++m;\n        }\n        t.addChild(c);\n    }\n}, null);\n\nconst ks = /*@__PURE__*/ renderer(class TemplateControllerRenderer {\n    constructor() {\n        this.r = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(zs);\n        this.target = _aurelia_template_compiler__WEBPACK_IMPORTED_MODULE_3__.InstructionType.hydrateTemplateController;\n    }\n    render(t, e, s, i, n, r) {\n        let l = t.container;\n        let a;\n        switch (typeof s.res) {\n          case \"string\":\n            a = ze.find(l, s.res);\n            if (a == null) {\n                throw createMappedError(754, s, t);\n            }\n            break;\n\n          default:\n            a = s.res;\n        }\n        const h = this.r.getViewFactory(s.def, a.containerStrategy === \"new\" ? l.createChild({\n            inheritParentResources: true\n        }) : l);\n        const c = convertToRenderLocation(e);\n        const u = invokeAttribute(i, a, t, e, s, h, c);\n        const f = Controller.$attr(u.ctn, u.vm, e, a);\n        setRef(c, a.key, f);\n        u.vm.link?.(t, f, e, s);\n        const d = this.r.renderers;\n        const m = s.props;\n        const g = m.length;\n        let p = 0;\n        let v;\n        while (g > p) {\n            v = m[p];\n            d[v.type].render(t, f, v, i, n, r);\n            ++p;\n        }\n        t.addChild(f);\n    }\n}, null);\n\nconst Cs = /*@__PURE__*/ renderer(class LetElementRenderer {\n    constructor() {\n        this.target = _aurelia_template_compiler__WEBPACK_IMPORTED_MODULE_3__.InstructionType.hydrateLetElement;\n        LetBinding.mix();\n    }\n    render(t, e, s, i, n, r) {\n        e.remove();\n        const l = s.instructions;\n        const a = s.toBindingContext;\n        const h = t.container;\n        const c = l.length;\n        let u;\n        let f;\n        let d = 0;\n        while (c > d) {\n            u = l[d];\n            f = ensureExpression(n, u.from, ee);\n            t.addBinding(new LetBinding(h, r, f, u.to, a));\n            ++d;\n        }\n    }\n}, null);\n\nconst Bs = /*@__PURE__*/ renderer(class RefBindingRenderer {\n    constructor() {\n        this.target = _aurelia_template_compiler__WEBPACK_IMPORTED_MODULE_3__.InstructionType.refBinding;\n    }\n    render(t, e, s, i, n) {\n        t.addBinding(new RefBinding(t.container, ensureExpression(n, s.from, ee), getRefTarget(e, s.to)));\n    }\n}, null);\n\nconst Ss = /*@__PURE__*/ renderer(class InterpolationBindingRenderer {\n    constructor() {\n        this.target = _aurelia_template_compiler__WEBPACK_IMPORTED_MODULE_3__.InstructionType.interpolation;\n        InterpolationPartBinding.mix();\n    }\n    render(t, e, s, i, n, r) {\n        const l = t.container;\n        const a = new InterpolationBinding(t, l, r, i.domQueue, ensureExpression(n, s.from, Zt), getTarget(e), s.to, de);\n        if (s.to === \"class\" && a.target.nodeType > 0) {\n            const t = l.get(fromHydrationContext(Ti));\n            a.useAccessor(new ClassAttributeAccessor(a.target, t));\n        }\n        t.addBinding(a);\n    }\n}, null);\n\nconst As = /*@__PURE__*/ renderer(class PropertyBindingRenderer {\n    constructor() {\n        this.target = _aurelia_template_compiler__WEBPACK_IMPORTED_MODULE_3__.InstructionType.propertyBinding;\n        PropertyBinding.mix();\n    }\n    render(t, e, s, i, n, r) {\n        const l = t.container;\n        const a = new PropertyBinding(t, l, r, i.domQueue, ensureExpression(n, s.from, ee), getTarget(e), s.to, s.mode);\n        if (s.to === \"class\" && a.target.nodeType > 0) {\n            const t = l.get(fromHydrationContext(Ti));\n            a.useTargetObserver(new ClassAttributeAccessor(a.target, t));\n        }\n        t.addBinding(a);\n    }\n}, null);\n\nconst Es = /*@__PURE__*/ renderer(class IteratorBindingRenderer {\n    constructor() {\n        this.target = _aurelia_template_compiler__WEBPACK_IMPORTED_MODULE_3__.InstructionType.iteratorBinding;\n        PropertyBinding.mix();\n    }\n    render(t, e, s, i, n, r) {\n        t.addBinding(new PropertyBinding(t, t.container, r, i.domQueue, ensureExpression(n, s.forOf, Jt), getTarget(e), s.to, de));\n    }\n}, null);\n\nconst Rs = /*@__PURE__*/ renderer(class TextBindingRenderer {\n    constructor() {\n        this.target = _aurelia_template_compiler__WEBPACK_IMPORTED_MODULE_3__.InstructionType.textBinding;\n        ContentBinding.mix();\n    }\n    render(t, e, s, i, n, r) {\n        t.addBinding(new ContentBinding(t, t.container, r, i.domQueue, i, ensureExpression(n, s.from, ee), e));\n    }\n}, null);\n\nconst Ts = Be(\"IListenerBindingOptions\", (t => t.instance({\n    prevent: false\n})));\n\nconst Ls = /*@__PURE__*/ renderer(class ListenerBindingRenderer {\n    constructor() {\n        this.target = _aurelia_template_compiler__WEBPACK_IMPORTED_MODULE_3__.InstructionType.listenerBinding;\n        this.ft = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(hs);\n        this.dt = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(Ts);\n        ListenerBinding.mix();\n    }\n    render(t, e, s, i, n) {\n        t.addBinding(new ListenerBinding(t.container, ensureExpression(n, s.from, te), e, s.to, new ListenerBindingOptions(this.dt.prevent, s.capture), this.ft.getHandler(s.to, s.modifier)));\n    }\n}, null);\n\nconst Ms = /*@__PURE__*/ renderer(class SetAttributeRenderer {\n    constructor() {\n        this.target = _aurelia_template_compiler__WEBPACK_IMPORTED_MODULE_3__.InstructionType.setAttribute;\n    }\n    render(t, e, s) {\n        e.setAttribute(s.to, s.value);\n    }\n}, null);\n\nconst Ds = /*@__PURE__*/ renderer(class SetClassAttributeRenderer {\n    constructor() {\n        this.target = _aurelia_template_compiler__WEBPACK_IMPORTED_MODULE_3__.InstructionType.setClassAttribute;\n    }\n    render(t, e, s) {\n        addClasses(e.classList, s.value);\n    }\n}, null);\n\nconst Is = /*@__PURE__*/ renderer(class SetStyleAttributeRenderer {\n    constructor() {\n        this.target = _aurelia_template_compiler__WEBPACK_IMPORTED_MODULE_3__.InstructionType.setStyleAttribute;\n    }\n    render(t, e, s) {\n        e.style.cssText += s.value;\n    }\n}, null);\n\nconst Ps = /*@__PURE__*/ renderer(class StylePropertyBindingRenderer {\n    constructor() {\n        this.target = _aurelia_template_compiler__WEBPACK_IMPORTED_MODULE_3__.InstructionType.stylePropertyBinding;\n        PropertyBinding.mix();\n    }\n    render(t, e, s, i, n, r) {\n        t.addBinding(new PropertyBinding(t, t.container, r, i.domQueue, ensureExpression(n, s.from, ee), e.style, s.to, de));\n    }\n}, null);\n\nconst qs = /*@__PURE__*/ renderer(class AttributeBindingRenderer {\n    constructor() {\n        this.target = _aurelia_template_compiler__WEBPACK_IMPORTED_MODULE_3__.InstructionType.attributeBinding;\n        AttributeBinding.mix();\n    }\n    render(t, e, s, i, n, r) {\n        const l = t.container;\n        const a = l.has(Ti, false) ? l.get(Ti) : null;\n        t.addBinding(new AttributeBinding(t, l, r, i.domQueue, ensureExpression(n, s.from, ee), e, s.attr, a == null ? s.to : s.to.split(/\\s/g).map((t => a[t] ?? t)).join(\" \"), de));\n    }\n}, null);\n\nconst _s = /*@__PURE__*/ renderer(class SpreadRenderer {\n    constructor() {\n        this.gt = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(_aurelia_template_compiler__WEBPACK_IMPORTED_MODULE_3__.ITemplateCompiler);\n        this.r = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(zs);\n        this.target = _aurelia_template_compiler__WEBPACK_IMPORTED_MODULE_3__.InstructionType.spreadTransferedBinding;\n    }\n    render(t, e, s, i, n, r) {\n        SpreadBinding.create(t.container.get(ki), e, void 0, this.r, this.gt, i, n, r).forEach((e => t.addBinding(e)));\n    }\n}, null);\n\nconst Os = /*@__PURE__*/ renderer(class SpreadValueRenderer {\n    constructor() {\n        this.target = _aurelia_template_compiler__WEBPACK_IMPORTED_MODULE_3__.InstructionType.spreadValueBinding;\n        SpreadValueBinding.mix();\n    }\n    render(t, e, s, i, n, r) {\n        const l = s.target;\n        if (l === \"$bindables\") {\n            t.addBinding(new SpreadValueBinding(t, e.viewModel, Xt(e.definition.bindables), n.parse(s.from, ee), r, t.container, i.domQueue));\n        } else {\n            throw createMappedError(820, l);\n        }\n    }\n}, null);\n\nfunction addClasses(t, e) {\n    const s = e.length;\n    let i = 0;\n    for (let n = 0; n < s; ++n) {\n        if (e.charCodeAt(n) === 32) {\n            if (n !== i) {\n                t.add(e.slice(i, n));\n            }\n            i = n + 1;\n        } else if (n + 1 === s) {\n            t.add(e.slice(i));\n        }\n    }\n}\n\nconst Fs = \"IController\";\n\nconst Vs = \"IInstruction\";\n\nconst Hs = \"IRenderLocation\";\n\nconst $s = \"ISlotsInfo\";\n\nfunction createElementContainer(t, e, s, i, n, r) {\n    const l = e.container.createChild();\n    registerHostNode(l, s, t);\n    registerResolver(l, yi, new _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.InstanceProvider(Fs, e));\n    registerResolver(l, _aurelia_template_compiler__WEBPACK_IMPORTED_MODULE_3__.IInstruction, new _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.InstanceProvider(Vs, i));\n    registerResolver(l, Ri, n == null ? Ns : new RenderLocationProvider(n));\n    registerResolver(l, us, js);\n    registerResolver(l, gs, r == null ? Ws : new _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.InstanceProvider($s, r));\n    return l;\n}\n\nclass ViewFactoryProvider {\n    get $isResolver() {\n        return true;\n    }\n    constructor(t) {\n        this.f = t;\n    }\n    resolve() {\n        const t = this.f;\n        if (t === null) {\n            throw createMappedError(755);\n        }\n        if (!(0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isString)(t.name) || t.name.length === 0) {\n            throw createMappedError(756);\n        }\n        return t;\n    }\n}\n\nfunction invokeAttribute(t, e, s, i, n, r, l, a) {\n    const h = s instanceof Controller ? s : s.$controller;\n    const c = h.container.createChild();\n    registerHostNode(c, i, t);\n    registerResolver(c, yi, new _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.InstanceProvider(Fs, h));\n    registerResolver(c, _aurelia_template_compiler__WEBPACK_IMPORTED_MODULE_3__.IInstruction, new _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.InstanceProvider(Vs, n));\n    registerResolver(c, Ri, l == null ? Ns : new _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.InstanceProvider(Hs, l));\n    registerResolver(c, us, r == null ? js : new ViewFactoryProvider(r));\n    registerResolver(c, gs, a == null ? Ws : new _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.InstanceProvider($s, a));\n    return {\n        vm: c.invoke(e.Type),\n        ctn: c\n    };\n}\n\nclass RenderLocationProvider {\n    get name() {\n        return \"IRenderLocation\";\n    }\n    get $isResolver() {\n        return true;\n    }\n    constructor(t) {\n        this.l = t;\n    }\n    resolve() {\n        return this.l;\n    }\n}\n\nconst Ns = new RenderLocationProvider(null);\n\nconst js = new ViewFactoryProvider(null);\n\nconst Ws = new _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.InstanceProvider($s, new AuSlotsInfo(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.emptyArray));\n\nconst zs = /*@__PURE__*/ Be(\"IRendering\", (t => t.singleton(Rendering)));\n\nclass Rendering {\n    get renderers() {\n        return this.vt ??= this.xt.getAll(xs, false).reduce(((t, e) => {\n            t[e.target] ??= e;\n            return t;\n        }), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.createLookup)());\n    }\n    constructor() {\n        this.bt = new WeakMap;\n        this.wt = new WeakMap;\n        const t = this.xt = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.IContainer).root;\n        const e = this.p = t.get($e);\n        this.ep = t.get(_aurelia_expression_parser__WEBPACK_IMPORTED_MODULE_0__.IExpressionParser);\n        this.oL = t.get(_aurelia_runtime__WEBPACK_IMPORTED_MODULE_2__.IObserverLocator);\n        this.yt = e.document.createElement(\"au-m\");\n        this.kt = new FragmentNodeSequence(e, e.document.createDocumentFragment());\n    }\n    compile(t, e) {\n        const s = e.get(_aurelia_template_compiler__WEBPACK_IMPORTED_MODULE_3__.ITemplateCompiler);\n        const i = this.bt;\n        let n = i.get(t);\n        if (n == null) {\n            i.set(t, n = CustomElementDefinition.create(t.needsCompile ? s.compile(t, e) : t));\n        }\n        return n;\n    }\n    getViewFactory(t, e) {\n        return new ViewFactory(e, CustomElementDefinition.getOrCreate(t));\n    }\n    createNodes(t) {\n        if (t.enhance === true) {\n            return new FragmentNodeSequence(this.p, this.Ct(t.template));\n        }\n        let e;\n        let s = false;\n        const n = this.wt;\n        const r = this.p;\n        const l = r.document;\n        if (n.has(t)) {\n            e = n.get(t);\n        } else {\n            const a = t.template;\n            let h;\n            if (a == null) {\n                e = null;\n            } else if (a instanceof r.Node) {\n                if (a.nodeName === \"TEMPLATE\") {\n                    e = a.content;\n                    s = true;\n                } else {\n                    (e = l.createDocumentFragment()).appendChild(a.cloneNode(true));\n                }\n            } else {\n                h = l.createElement(\"template\");\n                if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isString)(a)) {\n                    h.innerHTML = a;\n                }\n                e = h.content;\n                s = true;\n            }\n            this.Ct(e);\n            n.set(t, e);\n        }\n        return e == null ? this.kt : new FragmentNodeSequence(this.p, s ? l.importNode(e, true) : l.adoptNode(e.cloneNode(true)));\n    }\n    render(t, e, s, i) {\n        const n = s.instructions;\n        const r = this.renderers;\n        const l = e.length;\n        let a = 0;\n        let h = 0;\n        let c = n.length;\n        let u;\n        let f;\n        let d;\n        if (l !== c) {\n            throw createMappedError(757, l, c);\n        }\n        if (l > 0) {\n            while (l > a) {\n                u = n[a];\n                d = e[a];\n                h = 0;\n                c = u.length;\n                while (c > h) {\n                    f = u[h];\n                    r[f.type].render(t, d, f, this.p, this.ep, this.oL);\n                    ++h;\n                }\n                ++a;\n            }\n        }\n        if (i != null) {\n            u = s.surrogates;\n            if ((c = u.length) > 0) {\n                h = 0;\n                while (c > h) {\n                    f = u[h];\n                    r[f.type].render(t, i, f, this.p, this.ep, this.oL);\n                    ++h;\n                }\n            }\n        }\n    }\n    Ct(t) {\n        if (t == null) {\n            return null;\n        }\n        const e = this.p.document.createTreeWalker(t, 128);\n        let s;\n        while ((s = e.nextNode()) != null) {\n            if (s.nodeValue === \"au*\") {\n                s.parentNode.replaceChild(e.currentNode = this.yt.cloneNode(), s);\n            }\n        }\n        return t;\n    }\n}\n\nfunction cssModules(...t) {\n    return new CSSModulesProcessorRegistry(t);\n}\n\nclass CSSModulesProcessorRegistry {\n    constructor(t) {\n        this.modules = t;\n    }\n    register(t) {\n        let e = t.get((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.own)(Ti));\n        if (e == null) {\n            t.register(Ee(Ti, e = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.createLookup)()));\n        }\n        {\n            Gt(e, ...this.modules);\n        }\n        class CompilingHook {\n            compiling(t) {\n                const s = t.tagName === \"TEMPLATE\";\n                const i = s ? t.content : t;\n                const n = [ t, ...(0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.toArray)(i.querySelectorAll(\"[class]\")) ];\n                for (const t of n) {\n                    const s = t.getAttributeNode(\"class\");\n                    if (s == null) {\n                        continue;\n                    }\n                    const i = s.value.split(/\\s+/g).map((t => e[t] || t)).join(\" \");\n                    s.value = i;\n                }\n            }\n        }\n        t.register(_aurelia_template_compiler__WEBPACK_IMPORTED_MODULE_3__.TemplateCompilerHooks.define(CompilingHook));\n    }\n}\n\nfunction shadowCSS(...t) {\n    return new ShadowDOMRegistry(t);\n}\n\nconst Us = /*@__PURE__*/ Be(\"IShadowDOMStyleFactory\", (t => t.cachedCallback((t => {\n    if (AdoptedStyleSheetsStyles.supported(t.get($e))) {\n        return t.get(AdoptedStyleSheetsStylesFactory);\n    }\n    return t.get(StyleElementStylesFactory);\n}))));\n\nclass ShadowDOMRegistry {\n    constructor(t) {\n        this.css = t;\n    }\n    register(t) {\n        const e = t.get(Ks);\n        const s = t.get(Us);\n        t.register(Ee(Gs, s.createStyles(this.css, e)));\n    }\n}\n\nclass AdoptedStyleSheetsStylesFactory {\n    constructor() {\n        this.p = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)($e);\n        this.cache = new Map;\n    }\n    createStyles(t, e) {\n        return new AdoptedStyleSheetsStyles(this.p, t, this.cache, e);\n    }\n}\n\nclass StyleElementStylesFactory {\n    constructor() {\n        this.p = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)($e);\n    }\n    createStyles(t, e) {\n        return new StyleElementStyles(this.p, t, e);\n    }\n}\n\nconst Gs = /*@__PURE__*/ Be(\"IShadowDOMStyles\");\n\nconst Ks = /*@__PURE__*/ Be(\"IShadowDOMGlobalStyles\", (t => t.instance({\n    applyTo: _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.noop\n})));\n\nclass AdoptedStyleSheetsStyles {\n    constructor(t, e, s, i = null) {\n        this.sharedStyles = i;\n        this.styleSheets = e.map((e => {\n            let i;\n            if (e instanceof t.CSSStyleSheet) {\n                i = e;\n            } else {\n                i = s.get(e);\n                if (i === void 0) {\n                    i = new t.CSSStyleSheet;\n                    i.replaceSync(e);\n                    s.set(e, i);\n                }\n            }\n            return i;\n        }));\n    }\n    static supported(t) {\n        return \"adoptedStyleSheets\" in t.ShadowRoot.prototype;\n    }\n    applyTo(t) {\n        if (this.sharedStyles !== null) {\n            this.sharedStyles.applyTo(t);\n        }\n        t.adoptedStyleSheets = [ ...t.adoptedStyleSheets, ...this.styleSheets ];\n    }\n}\n\nclass StyleElementStyles {\n    constructor(t, e, s = null) {\n        this.p = t;\n        this.localStyles = e;\n        this.sharedStyles = s;\n    }\n    applyTo(t) {\n        const e = this.localStyles;\n        const s = this.p;\n        for (let i = e.length - 1; i > -1; --i) {\n            const n = s.document.createElement(\"style\");\n            n.innerHTML = e[i];\n            t.prepend(n);\n        }\n        if (this.sharedStyles !== null) {\n            this.sharedStyles.applyTo(t);\n        }\n    }\n}\n\nconst Xs = {\n    shadowDOM(t) {\n        return He.creating(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.IContainer, (e => {\n            if (t.sharedStyles != null) {\n                const s = e.get(Us);\n                e.register(Ee(Ks, s.createStyles(t.sharedStyles, null)));\n            }\n        }));\n    }\n};\n\nconst {enter: Qs, exit: Ys} = _aurelia_runtime__WEBPACK_IMPORTED_MODULE_2__.ConnectableSwitcher;\n\nconst {wrap: Zs, unwrap: Js} = _aurelia_runtime__WEBPACK_IMPORTED_MODULE_2__.ProxyObservable;\n\nclass ComputedWatcher {\n    get value() {\n        return this.v;\n    }\n    constructor(t, e, s, i, n) {\n        this.obj = t;\n        this.$get = s;\n        this.useProxy = n;\n        this.isBound = false;\n        this.running = false;\n        this.v = void 0;\n        this.cb = i;\n        this.oL = e;\n    }\n    handleChange() {\n        this.run();\n    }\n    handleCollectionChange() {\n        this.run();\n    }\n    bind() {\n        if (this.isBound) {\n            return;\n        }\n        this.compute();\n        this.isBound = true;\n    }\n    unbind() {\n        if (!this.isBound) {\n            return;\n        }\n        this.isBound = false;\n        this.obs.clearAll();\n    }\n    run() {\n        if (!this.isBound || this.running) {\n            return;\n        }\n        const t = this.obj;\n        const e = this.v;\n        const s = this.compute();\n        if (!(0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.areEqual)(s, e)) {\n            this.cb.call(t, s, e, t);\n        }\n    }\n    compute() {\n        this.running = true;\n        this.obs.version++;\n        try {\n            Qs(this);\n            return this.v = Js(this.$get.call(void 0, this.useProxy ? Zs(this.obj) : this.obj, this));\n        } finally {\n            this.obs.clear();\n            this.running = false;\n            Ys(this);\n        }\n    }\n}\n\n(() => {\n    (0,_aurelia_runtime__WEBPACK_IMPORTED_MODULE_2__.connectable)(ComputedWatcher, null);\n})();\n\nclass ExpressionWatcher {\n    get value() {\n        return this.v;\n    }\n    constructor(t, e, s, i, n) {\n        this.scope = t;\n        this.l = e;\n        this.oL = s;\n        this.isBound = false;\n        this.boundFn = false;\n        this.obj = t.bindingContext;\n        this.Bt = i;\n        this.cb = n;\n    }\n    handleChange(t) {\n        const e = this.Bt;\n        const s = this.obj;\n        const i = this.v;\n        const n = e.$kind === \"AccessScope\" && this.obs.count === 1;\n        if (!n) {\n            this.obs.version++;\n            t = ae(e, this.scope, this, this);\n            this.obs.clear();\n        }\n        if (!(0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.areEqual)(t, i)) {\n            this.v = t;\n            this.cb.call(s, t, i, s);\n        }\n    }\n    bind() {\n        if (this.isBound) {\n            return;\n        }\n        this.obs.version++;\n        this.v = ae(this.Bt, this.scope, this, this);\n        this.obs.clear();\n        this.isBound = true;\n    }\n    unbind() {\n        if (!this.isBound) {\n            return;\n        }\n        this.isBound = false;\n        this.obs.clearAll();\n        this.v = void 0;\n    }\n}\n\n(() => {\n    (0,_aurelia_runtime__WEBPACK_IMPORTED_MODULE_2__.connectable)(ExpressionWatcher, null);\n    Ze(true)(ExpressionWatcher);\n})();\n\nclass Controller {\n    get lifecycleHooks() {\n        return this.St;\n    }\n    get isActive() {\n        return (this.state & (mi | gi)) > 0 && (this.state & pi) === 0;\n    }\n    get name() {\n        if (this.parent === null) {\n            switch (this.vmKind) {\n              case ui:\n                return `[${this.definition.name}]`;\n\n              case ci:\n                return this.definition.name;\n\n              case fi:\n                return this.viewFactory.name;\n            }\n        }\n        switch (this.vmKind) {\n          case ui:\n            return `${this.parent.name}>[${this.definition.name}]`;\n\n          case ci:\n            return `${this.parent.name}>${this.definition.name}`;\n\n          case fi:\n            return this.viewFactory.name === this.parent.definition?.name ? `${this.parent.name}[view]` : `${this.parent.name}[view:${this.viewFactory.name}]`;\n        }\n    }\n    get viewModel() {\n        return this.At;\n    }\n    set viewModel(t) {\n        this.At = t;\n        this.Et = t == null || this.vmKind === fi ? HooksDefinition.none : new HooksDefinition(t);\n    }\n    constructor(t, e, s, i, n, r, l) {\n        this.container = t;\n        this.vmKind = e;\n        this.definition = s;\n        this.viewFactory = i;\n        this.host = r;\n        this.head = null;\n        this.tail = null;\n        this.next = null;\n        this.parent = null;\n        this.bindings = null;\n        this.children = null;\n        this.hasLockedScope = false;\n        this.scope = null;\n        this.isBound = false;\n        this.Rt = false;\n        this.hostController = null;\n        this.mountTarget = ei;\n        this.shadowRoot = null;\n        this.nodes = null;\n        this.location = null;\n        this.St = null;\n        this.state = di;\n        this.Tt = false;\n        this.$initiator = null;\n        this.$resolve = void 0;\n        this.$reject = void 0;\n        this.$promise = void 0;\n        this.Lt = 0;\n        this.Mt = 0;\n        this.Dt = 0;\n        this.At = n;\n        this.Et = e === fi ? HooksDefinition.none : new HooksDefinition(n);\n        this.location = l;\n        this.r = t.root.get(zs);\n        this.coercion = e === fi ? void 0 : t.get(li);\n    }\n    static getCached(t) {\n        return ti.get(t);\n    }\n    static getCachedOrThrow(t) {\n        const e = Controller.getCached(t);\n        if (e === void 0) {\n            throw createMappedError(500, t);\n        }\n        return e;\n    }\n    static $el(t, e, s, i, n = void 0, r = null) {\n        if (ti.has(e)) {\n            return ti.get(e);\n        }\n        {\n            n = n ?? getElementDefinition(e.constructor);\n        }\n        registerResolver(t, n.Type, new _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.InstanceProvider(n.key, e, n.Type));\n        const l = new Controller(t, ci, n, null, e, s, r);\n        const a = t.get((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.optional)(ki));\n        if (n.dependencies.length > 0) {\n            t.register(...n.dependencies);\n        }\n        registerResolver(t, ki, new _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.InstanceProvider(\"IHydrationContext\", new HydrationContext(l, i, a)));\n        ti.set(e, l);\n        if (i == null || i.hydrate !== false) {\n            l.hE(i, a);\n        }\n        return l;\n    }\n    static $attr(t, e, s, i) {\n        if (ti.has(e)) {\n            return ti.get(e);\n        }\n        i = i ?? getAttributeDefinition(e.constructor);\n        registerResolver(t, i.Type, new _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.InstanceProvider(i.key, e, i.Type));\n        const n = new Controller(t, ui, i, null, e, s, null);\n        if (i.dependencies.length > 0) {\n            t.register(...i.dependencies);\n        }\n        ti.set(e, n);\n        n.It();\n        return n;\n    }\n    static $view(t, e = void 0) {\n        const s = new Controller(t.container, fi, null, t, null, null, null);\n        s.parent = e ?? null;\n        s.Pt();\n        return s;\n    }\n    hE(t, e) {\n        const s = this.container;\n        const i = this.At;\n        const n = this.definition;\n        this.scope = Scope.create(i, null, true);\n        if (n.watches.length > 0) {\n            createWatchers(this, s, n, i);\n        }\n        createObservers(this, n, i);\n        this.St = Ge.resolve(s);\n        s.register(n.Type);\n        if (n.injectable !== null) {\n            registerResolver(s, n.injectable, new _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.InstanceProvider(\"definition.injectable\", i));\n        }\n        if (t == null || t.hydrate !== false) {\n            this.hS();\n            this.hC();\n        }\n    }\n    hS() {\n        if (this.St.hydrating != null) {\n            this.St.hydrating.forEach(callHydratingHook, this);\n        }\n        if (this.Et.qt) {\n            this.At.hydrating(this);\n        }\n        const t = this.definition;\n        const e = this._t = this.r.compile(t, this.container);\n        const s = e.shadowOptions;\n        const i = e.hasSlots;\n        const n = e.containerless;\n        let r = this.host;\n        let l = this.location;\n        if ((this.hostController = findElementControllerFor(r, oi)) !== null) {\n            r = this.host = this.container.root.get($e).document.createElement(t.name);\n            if (n && l == null) {\n                l = this.location = convertToRenderLocation(r);\n            }\n        }\n        setRef(r, Oi, this);\n        setRef(r, t.key, this);\n        if (s !== null || i) {\n            if (l != null) {\n                throw createMappedError(501);\n            }\n            setRef(this.shadowRoot = r.attachShadow(s ?? hi), Oi, this);\n            setRef(this.shadowRoot, t.key, this);\n            this.mountTarget = ii;\n        } else if (l != null) {\n            setRef(l, Oi, this);\n            setRef(l, t.key, this);\n            this.mountTarget = ni;\n        } else {\n            this.mountTarget = si;\n        }\n        this.At.$controller = this;\n        this.nodes = this.r.createNodes(e);\n        if (this.St.hydrated !== void 0) {\n            this.St.hydrated.forEach(callHydratedHook, this);\n        }\n        if (this.Et.Ot) {\n            this.At.hydrated(this);\n        }\n    }\n    hC() {\n        this.r.render(this, this.nodes.findTargets(), this._t, this.host);\n        if (this.St.created !== void 0) {\n            this.St.created.forEach(callCreatedHook, this);\n        }\n        if (this.Et.Ft) {\n            this.At.created(this);\n        }\n    }\n    It() {\n        const t = this.definition;\n        const e = this.At;\n        if (t.watches.length > 0) {\n            createWatchers(this, this.container, t, e);\n        }\n        createObservers(this, t, e);\n        e.$controller = this;\n        this.St = Ge.resolve(this.container);\n        if (this.St.created !== void 0) {\n            this.St.created.forEach(callCreatedHook, this);\n        }\n        if (this.Et.Ft) {\n            this.At.created(this);\n        }\n    }\n    Pt() {\n        this._t = this.r.compile(this.viewFactory.def, this.container);\n        this.r.render(this, (this.nodes = this.r.createNodes(this._t)).findTargets(), this._t, void 0);\n    }\n    activate(t, e, s) {\n        switch (this.state) {\n          case di:\n          case vi:\n            if (!(e === null || e.isActive)) {\n                return;\n            }\n            this.state = mi;\n            break;\n\n          case gi:\n            return;\n\n          case bi:\n            throw createMappedError(502, this.name);\n\n          default:\n            throw createMappedError(503, this.name, stringifyState(this.state));\n        }\n        this.parent = e;\n        switch (this.vmKind) {\n          case ci:\n            this.scope.parent = s ?? null;\n            break;\n\n          case ui:\n            this.scope = s ?? null;\n            break;\n\n          case fi:\n            if (s === void 0 || s === null) {\n                throw createMappedError(504, this.name);\n            }\n            if (!this.hasLockedScope) {\n                this.scope = s;\n            }\n            break;\n        }\n        this.$initiator = t;\n        this.Vt();\n        let i = void 0;\n        if (this.vmKind !== fi && this.St.binding != null) {\n            i = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolveAll)(...this.St.binding.map(callBindingHook, this));\n        }\n        if (this.Et.Ht) {\n            i = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolveAll)(i, this.At.binding(this.$initiator, this.parent));\n        }\n        if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isPromise)(i)) {\n            this.$t();\n            i.then((() => {\n                this.Rt = true;\n                if (this.state !== mi) {\n                    this.Nt();\n                } else {\n                    this.bind();\n                }\n            })).catch((t => {\n                this.jt(t);\n            }));\n            return this.$promise;\n        }\n        this.Rt = true;\n        this.bind();\n        return this.$promise;\n    }\n    bind() {\n        let t = 0;\n        let e = 0;\n        let s = void 0;\n        if (this.bindings !== null) {\n            t = 0;\n            e = this.bindings.length;\n            while (e > t) {\n                this.bindings[t].bind(this.scope);\n                ++t;\n            }\n        }\n        if (this.vmKind !== fi && this.St.bound != null) {\n            s = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolveAll)(...this.St.bound.map(callBoundHook, this));\n        }\n        if (this.Et.Wt) {\n            s = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolveAll)(s, this.At.bound(this.$initiator, this.parent));\n        }\n        if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isPromise)(s)) {\n            this.$t();\n            s.then((() => {\n                this.isBound = true;\n                if (this.state !== mi) {\n                    this.Nt();\n                } else {\n                    this.zt();\n                }\n            })).catch((t => {\n                this.jt(t);\n            }));\n            return;\n        }\n        this.isBound = true;\n        this.zt();\n    }\n    Ut(...t) {\n        switch (this.mountTarget) {\n          case si:\n            this.host.append(...t);\n            break;\n\n          case ii:\n            this.shadowRoot.append(...t);\n            break;\n\n          case ni:\n            {\n                let e = 0;\n                for (;e < t.length; ++e) {\n                    this.location.parentNode.insertBefore(t[e], this.location);\n                }\n                break;\n            }\n        }\n    }\n    zt() {\n        if (this.hostController !== null) {\n            switch (this.mountTarget) {\n              case si:\n              case ii:\n                this.hostController.Ut(this.host);\n                break;\n\n              case ni:\n                this.hostController.Ut(this.location.$start, this.location);\n                break;\n            }\n        }\n        switch (this.mountTarget) {\n          case si:\n            this.nodes.appendTo(this.host, this.definition != null && this.definition.enhance);\n            break;\n\n          case ii:\n            {\n                const t = this.container;\n                const e = t.has(Gs, false) ? t.get(Gs) : t.get(Ks);\n                e.applyTo(this.shadowRoot);\n                this.nodes.appendTo(this.shadowRoot);\n                break;\n            }\n\n          case ni:\n            this.nodes.insertBefore(this.location);\n            break;\n        }\n        let t = 0;\n        let e = void 0;\n        if (this.vmKind !== fi && this.St.attaching != null) {\n            e = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolveAll)(...this.St.attaching.map(callAttachingHook, this));\n        }\n        if (this.Et.Gt) {\n            e = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolveAll)(e, this.At.attaching(this.$initiator, this.parent));\n        }\n        if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isPromise)(e)) {\n            this.$t();\n            this.Vt();\n            e.then((() => {\n                this.Nt();\n            })).catch((t => {\n                this.jt(t);\n            }));\n        }\n        if (this.children !== null) {\n            for (;t < this.children.length; ++t) {\n                void this.children[t].activate(this.$initiator, this, this.scope);\n            }\n        }\n        this.Nt();\n    }\n    deactivate(t, e) {\n        let s = void 0;\n        switch (this.state & ~xi) {\n          case gi:\n            this.state = pi;\n            break;\n\n          case mi:\n            this.state = pi;\n            s = this.$promise?.catch(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.noop);\n            break;\n\n          case di:\n          case vi:\n          case bi:\n          case vi | bi:\n            return;\n\n          default:\n            throw createMappedError(505, this.name, this.state);\n        }\n        this.$initiator = t;\n        if (t === this) {\n            this.Kt();\n        }\n        let i = 0;\n        let n;\n        if (this.children !== null) {\n            for (i = 0; i < this.children.length; ++i) {\n                void this.children[i].deactivate(t, this);\n            }\n        }\n        return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)(s, (() => {\n            if (this.isBound) {\n                if (this.vmKind !== fi && this.St.detaching != null) {\n                    n = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolveAll)(...this.St.detaching.map(callDetachingHook, this));\n                }\n                if (this.Et.Xt) {\n                    n = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolveAll)(n, this.At.detaching(this.$initiator, this.parent));\n                }\n            }\n            if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isPromise)(n)) {\n                this.$t();\n                t.Kt();\n                n.then((() => {\n                    t.Qt();\n                })).catch((e => {\n                    t.jt(e);\n                }));\n            }\n            if (t.head === null) {\n                t.head = this;\n            } else {\n                t.tail.next = this;\n            }\n            t.tail = this;\n            if (t !== this) {\n                return;\n            }\n            this.Qt();\n            return this.$promise;\n        }));\n    }\n    removeNodes() {\n        switch (this.vmKind) {\n          case ci:\n          case fi:\n            this.nodes.remove();\n            this.nodes.unlink();\n        }\n        if (this.hostController !== null) {\n            switch (this.mountTarget) {\n              case si:\n              case ii:\n                this.host.remove();\n                break;\n\n              case ni:\n                this.location.$start.remove();\n                this.location.remove();\n                break;\n            }\n        }\n    }\n    unbind() {\n        let t = 0;\n        if (this.bindings !== null) {\n            for (;t < this.bindings.length; ++t) {\n                this.bindings[t].unbind();\n            }\n        }\n        this.parent = null;\n        switch (this.vmKind) {\n          case ui:\n            this.scope = null;\n            break;\n\n          case fi:\n            if (!this.hasLockedScope) {\n                this.scope = null;\n            }\n            if ((this.state & xi) === xi && !this.viewFactory.tryReturnToCache(this) && this.$initiator === this) {\n                this.dispose();\n            }\n            break;\n\n          case ci:\n            this.scope.parent = null;\n            break;\n        }\n        this.state = vi;\n        this.$initiator = null;\n        this.Yt();\n    }\n    $t() {\n        if (this.$promise === void 0) {\n            this.$promise = new Promise(((t, e) => {\n                this.$resolve = t;\n                this.$reject = e;\n            }));\n            if (this.$initiator !== this) {\n                this.parent.$t();\n            }\n        }\n    }\n    Yt() {\n        if (this.$promise !== void 0) {\n            Ci = this.$resolve;\n            this.$resolve = this.$reject = this.$promise = void 0;\n            Ci();\n            Ci = void 0;\n        }\n    }\n    jt(t) {\n        if (this.$promise !== void 0) {\n            Bi = this.$reject;\n            this.$resolve = this.$reject = this.$promise = void 0;\n            Bi(t);\n            Bi = void 0;\n        }\n        if (this.$initiator !== this) {\n            this.parent.jt(t);\n        }\n    }\n    Vt() {\n        ++this.Lt;\n        if (this.$initiator !== this) {\n            this.parent.Vt();\n        }\n    }\n    Nt() {\n        if (this.state !== mi) {\n            --this.Lt;\n            this.Yt();\n            if (this.$initiator !== this) {\n                this.parent.Nt();\n            }\n            return;\n        }\n        if (--this.Lt === 0) {\n            if (this.vmKind !== fi && this.St.attached != null) {\n                Si = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolveAll)(...this.St.attached.map(callAttachedHook, this));\n            }\n            if (this.Et.Zt) {\n                Si = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolveAll)(Si, this.At.attached(this.$initiator));\n            }\n            if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isPromise)(Si)) {\n                this.$t();\n                Si.then((() => {\n                    this.state = gi;\n                    this.Yt();\n                    if (this.$initiator !== this) {\n                        this.parent.Nt();\n                    }\n                })).catch((t => {\n                    this.jt(t);\n                }));\n                Si = void 0;\n                return;\n            }\n            Si = void 0;\n            this.state = gi;\n            this.Yt();\n        }\n        if (this.$initiator !== this) {\n            this.parent.Nt();\n        }\n    }\n    Kt() {\n        ++this.Mt;\n    }\n    Qt() {\n        if (--this.Mt === 0) {\n            this.Jt();\n            this.removeNodes();\n            let t = this.$initiator.head;\n            let e = void 0;\n            while (t !== null) {\n                if (t !== this) {\n                    if (t.debug) {\n                        t.logger.trace(`detach()`);\n                    }\n                    t.removeNodes();\n                }\n                if (t.Rt) {\n                    if (t.vmKind !== fi && t.St.unbinding != null) {\n                        e = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolveAll)(...t.St.unbinding.map(callUnbindingHook, t));\n                    }\n                    if (t.Et.te) {\n                        if (t.debug) {\n                            t.logger.trace(\"unbinding()\");\n                        }\n                        e = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolveAll)(e, t.viewModel.unbinding(t.$initiator, t.parent));\n                    }\n                }\n                if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isPromise)(e)) {\n                    this.$t();\n                    this.Jt();\n                    e.then((() => {\n                        this.ee();\n                    })).catch((t => {\n                        this.jt(t);\n                    }));\n                }\n                e = void 0;\n                t = t.next;\n            }\n            this.ee();\n        }\n    }\n    Jt() {\n        ++this.Dt;\n    }\n    ee() {\n        if (--this.Dt === 0) {\n            let t = this.$initiator.head;\n            let e = null;\n            while (t !== null) {\n                if (t !== this) {\n                    t.Rt = false;\n                    t.isBound = false;\n                    t.unbind();\n                }\n                e = t.next;\n                t.next = null;\n                t = e;\n            }\n            this.head = this.tail = null;\n            this.Rt = false;\n            this.isBound = false;\n            this.unbind();\n        }\n    }\n    addBinding(t) {\n        if (this.bindings === null) {\n            this.bindings = [ t ];\n        } else {\n            this.bindings[this.bindings.length] = t;\n        }\n    }\n    addChild(t) {\n        if (this.children === null) {\n            this.children = [ t ];\n        } else {\n            this.children[this.children.length] = t;\n        }\n    }\n    is(t) {\n        switch (this.vmKind) {\n          case ui:\n          case ci:\n            {\n                return this.definition.name === t;\n            }\n\n          case fi:\n            return this.viewFactory.name === t;\n        }\n    }\n    lockScope(t) {\n        this.scope = t;\n        this.hasLockedScope = true;\n    }\n    setHost(t) {\n        if (this.vmKind === ci) {\n            setRef(t, Oi, this);\n            setRef(t, this.definition.key, this);\n        }\n        this.host = t;\n        this.mountTarget = si;\n        return this;\n    }\n    setShadowRoot(t) {\n        if (this.vmKind === ci) {\n            setRef(t, Oi, this);\n            setRef(t, this.definition.key, this);\n        }\n        this.shadowRoot = t;\n        this.mountTarget = ii;\n        return this;\n    }\n    setLocation(t) {\n        if (this.vmKind === ci) {\n            setRef(t, Oi, this);\n            setRef(t, this.definition.key, this);\n        }\n        this.location = t;\n        this.mountTarget = ni;\n        return this;\n    }\n    release() {\n        this.state |= xi;\n    }\n    dispose() {\n        if ((this.state & bi) === bi) {\n            return;\n        }\n        this.state |= bi;\n        if (this.Et.se) {\n            this.At.dispose();\n        }\n        if (this.children !== null) {\n            this.children.forEach(callDispose);\n            this.children = null;\n        }\n        this.hostController = null;\n        this.scope = null;\n        this.nodes = null;\n        this.location = null;\n        this.viewFactory = null;\n        if (this.At !== null) {\n            ti.delete(this.At);\n            this.At = null;\n        }\n        this.At = null;\n        this.host = null;\n        this.shadowRoot = null;\n        this.container.disposeResolvers();\n    }\n    accept(t) {\n        if (t(this) === true) {\n            return true;\n        }\n        if (this.Et.ie && this.At.accept(t) === true) {\n            return true;\n        }\n        if (this.children !== null) {\n            const {children: e} = this;\n            for (let s = 0, i = e.length; s < i; ++s) {\n                if (e[s].accept(t) === true) {\n                    return true;\n                }\n            }\n        }\n    }\n}\n\nconst ti = new WeakMap;\n\nconst ei = 0;\n\nconst si = 1;\n\nconst ii = 2;\n\nconst ni = 3;\n\nconst ri = Ut({\n    none: ei,\n    host: si,\n    shadowRoot: ii,\n    location: ni\n});\n\nconst oi = {\n    optional: true\n};\n\nconst li = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.optionalResource)(_aurelia_runtime__WEBPACK_IMPORTED_MODULE_2__.ICoercionConfiguration);\n\nfunction createObservers(t, e, s) {\n    const i = e.bindables;\n    const n = Kt(i);\n    const r = n.length;\n    const l = t.container.get(_aurelia_runtime__WEBPACK_IMPORTED_MODULE_2__.IObserverLocator);\n    if (r > 0) {\n        for (let e = 0; e < r; ++e) {\n            const r = n[e];\n            const a = i[r];\n            const h = a.callback;\n            const c = l.getObserver(s, r);\n            if (a.set !== _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.noop) {\n                if (c.useCoercer?.(a.set, t.coercion) !== true) {\n                    throw createMappedError(507, r);\n                }\n            }\n            if (s[h] != null || s.propertyChanged != null) {\n                const callback = (e, i) => {\n                    if (t.isBound) {\n                        s[h]?.(e, i);\n                        s.propertyChanged?.(r, e, i);\n                    }\n                };\n                if (c.useCallback?.(callback) !== true) {\n                    throw createMappedError(508, r);\n                }\n            }\n        }\n    }\n}\n\nconst ai = new Map;\n\nconst getAccessScopeAst = t => {\n    let s = ai.get(t);\n    if (s == null) {\n        s = new _aurelia_expression_parser__WEBPACK_IMPORTED_MODULE_0__.AccessScopeExpression(t, 0);\n        ai.set(t, s);\n    }\n    return s;\n};\n\nfunction createWatchers(t, e, n, r) {\n    const a = e.get(_aurelia_runtime__WEBPACK_IMPORTED_MODULE_2__.IObserverLocator);\n    const h = e.get(_aurelia_expression_parser__WEBPACK_IMPORTED_MODULE_0__.IExpressionParser);\n    const c = n.watches;\n    const u = t.vmKind === ci ? t.scope : Scope.create(r, null, true);\n    const f = c.length;\n    let d;\n    let m;\n    let g;\n    let p = 0;\n    for (;f > p; ++p) {\n        ({expression: d, callback: m} = c[p]);\n        m = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isFunction)(m) ? m : Reflect.get(r, m);\n        if (!(0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isFunction)(m)) {\n            throw createMappedError(506, m);\n        }\n        if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isFunction)(d)) {\n            t.addBinding(new ComputedWatcher(r, a, d, m, true));\n        } else {\n            g = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isString)(d) ? h.parse(d, ee) : getAccessScopeAst(d);\n            t.addBinding(new ExpressionWatcher(u, e, a, g, m));\n        }\n    }\n}\n\nfunction isCustomElementController(t) {\n    return t instanceof Controller && t.vmKind === ci;\n}\n\nfunction isCustomElementViewModel(t) {\n    return (0,_aurelia_metadata__WEBPACK_IMPORTED_MODULE_4__.isObject)(t) && isElementType(t.constructor);\n}\n\nclass HooksDefinition {\n    constructor(t) {\n        this.ne = \"define\" in t;\n        this.qt = \"hydrating\" in t;\n        this.Ot = \"hydrated\" in t;\n        this.Ft = \"created\" in t;\n        this.Ht = \"binding\" in t;\n        this.Wt = \"bound\" in t;\n        this.Gt = \"attaching\" in t;\n        this.Zt = \"attached\" in t;\n        this.Xt = \"detaching\" in t;\n        this.te = \"unbinding\" in t;\n        this.se = \"dispose\" in t;\n        this.ie = \"accept\" in t;\n    }\n}\n\nHooksDefinition.none = new HooksDefinition({});\n\nconst hi = {\n    mode: \"open\"\n};\n\nconst ci = \"customElement\";\n\nconst ui = \"customAttribute\";\n\nconst fi = \"synthetic\";\n\nconst di = 0;\n\nconst mi = 1;\n\nconst gi = 2;\n\nconst pi = 4;\n\nconst vi = 8;\n\nconst xi = 16;\n\nconst bi = 32;\n\nconst wi = /*@__PURE__*/ Ut({\n    none: di,\n    activating: mi,\n    activated: gi,\n    deactivating: pi,\n    deactivated: vi,\n    released: xi,\n    disposed: bi\n});\n\nfunction stringifyState(t) {\n    const e = [];\n    if ((t & mi) === mi) {\n        e.push(\"activating\");\n    }\n    if ((t & gi) === gi) {\n        e.push(\"activated\");\n    }\n    if ((t & pi) === pi) {\n        e.push(\"deactivating\");\n    }\n    if ((t & vi) === vi) {\n        e.push(\"deactivated\");\n    }\n    if ((t & xi) === xi) {\n        e.push(\"released\");\n    }\n    if ((t & bi) === bi) {\n        e.push(\"disposed\");\n    }\n    return e.length === 0 ? \"none\" : e.join(\"|\");\n}\n\nconst yi = /*@__PURE__*/ Be(\"IController\");\n\nconst ki = /*@__PURE__*/ Be(\"IHydrationContext\");\n\nclass HydrationContext {\n    constructor(t, e, s) {\n        this.instruction = e;\n        this.parent = s;\n        this.controller = t;\n    }\n}\n\nfunction callDispose(t) {\n    t.dispose();\n}\n\nfunction callCreatedHook(t) {\n    t.instance.created(this.At, this);\n}\n\nfunction callHydratingHook(t) {\n    t.instance.hydrating(this.At, this);\n}\n\nfunction callHydratedHook(t) {\n    t.instance.hydrated(this.At, this);\n}\n\nfunction callBindingHook(t) {\n    return t.instance.binding(this.At, this[\"$initiator\"], this.parent);\n}\n\nfunction callBoundHook(t) {\n    return t.instance.bound(this.At, this[\"$initiator\"], this.parent);\n}\n\nfunction callAttachingHook(t) {\n    return t.instance.attaching(this.At, this[\"$initiator\"], this.parent);\n}\n\nfunction callAttachedHook(t) {\n    return t.instance.attached(this.At, this[\"$initiator\"]);\n}\n\nfunction callDetachingHook(t) {\n    return t.instance.detaching(this.At, this[\"$initiator\"], this.parent);\n}\n\nfunction callUnbindingHook(t) {\n    return t.instance.unbinding(this.At, this[\"$initiator\"], this.parent);\n}\n\nlet Ci;\n\nlet Bi;\n\nlet Si;\n\nclass Refs {}\n\nfunction getRef(t, e) {\n    return t.$au?.[e] ?? null;\n}\n\nfunction setRef(t, e, s) {\n    (t.$au ??= new Refs)[e] = s;\n}\n\nconst Ai = /*@__PURE__*/ Be(\"INode\");\n\nconst Ei = /*@__PURE__*/ Be(\"IEventTarget\", (t => t.cachedCallback((t => {\n    if (t.has(Ni, true)) {\n        return t.get(Ni).host;\n    }\n    return t.get($e).document;\n}))));\n\nconst Ri = /*@__PURE__*/ Be(\"IRenderLocation\");\n\nconst Ti = /*@__PURE__*/ Be(\"ICssClassMapping\");\n\nconst Li = new WeakMap;\n\nfunction getEffectiveParentNode(t) {\n    if (Li.has(t)) {\n        return Li.get(t);\n    }\n    let e = 0;\n    let s = t.nextSibling;\n    while (s !== null) {\n        if (s.nodeType === 8) {\n            switch (s.textContent) {\n              case \"au-start\":\n                ++e;\n                break;\n\n              case \"au-end\":\n                if (e-- === 0) {\n                    return s;\n                }\n            }\n        }\n        s = s.nextSibling;\n    }\n    if (t.parentNode === null && t.nodeType === 11) {\n        const e = findElementControllerFor(t, {\n            optional: true\n        });\n        if (e == null) {\n            return null;\n        }\n        if (e.mountTarget === ri.shadowRoot) {\n            return getEffectiveParentNode(e.host);\n        }\n    }\n    return t.parentNode;\n}\n\nfunction setEffectiveParentNode(t, e) {\n    if (t.platform !== void 0 && !(t instanceof t.platform.Node)) {\n        const s = t.childNodes;\n        for (let t = 0, i = s.length; t < i; ++t) {\n            Li.set(s[t], e);\n        }\n    } else {\n        Li.set(t, e);\n    }\n}\n\nfunction convertToRenderLocation(t) {\n    if (isRenderLocation(t)) {\n        return t;\n    }\n    const e = t.ownerDocument.createComment(\"au-end\");\n    const s = e.$start = t.ownerDocument.createComment(\"au-start\");\n    const i = t.parentNode;\n    if (i !== null) {\n        i.replaceChild(e, t);\n        i.insertBefore(s, e);\n    }\n    return e;\n}\n\nfunction isRenderLocation(t) {\n    return t.textContent === \"au-end\";\n}\n\nclass FragmentNodeSequence {\n    get firstChild() {\n        return this.re;\n    }\n    get lastChild() {\n        return this.oe;\n    }\n    constructor(t, e) {\n        this.platform = t;\n        this.next = void 0;\n        this.le = false;\n        this.ae = false;\n        this.ref = null;\n        const s = (this.f = e).querySelectorAll(\"au-m\");\n        let i = 0;\n        let n = s.length;\n        let r = this.t = Array(n);\n        let l;\n        let a;\n        while (n > i) {\n            a = s[i];\n            l = a.nextSibling;\n            a.remove();\n            if (l.nodeType === 8) {\n                a = l;\n                (l = l.nextSibling).$start = a;\n            }\n            r[i] = l;\n            ++i;\n        }\n        const h = e.childNodes;\n        const c = this.childNodes = Array(n = h.length);\n        i = 0;\n        while (n > i) {\n            c[i] = h[i];\n            ++i;\n        }\n        this.re = e.firstChild;\n        this.oe = e.lastChild;\n    }\n    findTargets() {\n        return this.t;\n    }\n    insertBefore(t) {\n        if (this.ae && !!this.ref) {\n            this.addToLinked();\n        } else {\n            const e = t.parentNode;\n            if (this.le) {\n                let s = this.re;\n                let i;\n                const n = this.oe;\n                while (s != null) {\n                    i = s.nextSibling;\n                    e.insertBefore(s, t);\n                    if (s === n) {\n                        break;\n                    }\n                    s = i;\n                }\n            } else {\n                this.le = true;\n                t.parentNode.insertBefore(this.f, t);\n            }\n        }\n    }\n    appendTo(t, e = false) {\n        if (this.le) {\n            let e = this.re;\n            let s;\n            const i = this.oe;\n            while (e != null) {\n                s = e.nextSibling;\n                t.appendChild(e);\n                if (e === i) {\n                    break;\n                }\n                e = s;\n            }\n        } else {\n            this.le = true;\n            if (!e) {\n                t.appendChild(this.f);\n            }\n        }\n    }\n    remove() {\n        if (this.le) {\n            this.le = false;\n            const t = this.f;\n            const e = this.oe;\n            let s;\n            let i = this.re;\n            while (i !== null) {\n                s = i.nextSibling;\n                t.appendChild(i);\n                if (i === e) {\n                    break;\n                }\n                i = s;\n            }\n        }\n    }\n    addToLinked() {\n        const t = this.ref;\n        const e = t.parentNode;\n        if (this.le) {\n            let s = this.re;\n            let i;\n            const n = this.oe;\n            while (s != null) {\n                i = s.nextSibling;\n                e.insertBefore(s, t);\n                if (s === n) {\n                    break;\n                }\n                s = i;\n            }\n        } else {\n            this.le = true;\n            e.insertBefore(this.f, t);\n        }\n    }\n    unlink() {\n        this.ae = false;\n        this.next = void 0;\n        this.ref = void 0;\n    }\n    link(t) {\n        this.ae = true;\n        if (isRenderLocation(t)) {\n            this.ref = t;\n        } else {\n            this.next = t;\n            this.he();\n        }\n    }\n    he() {\n        if (this.next !== void 0) {\n            this.ref = this.next.firstChild;\n        } else {\n            this.ref = void 0;\n        }\n    }\n}\n\nconst Mi = /*@__PURE__*/ Be(\"IWindow\", (t => t.callback((t => t.get($e).window))));\n\nconst Di = /*@__PURE__*/ Be(\"ILocation\", (t => t.callback((t => t.get(Mi).location))));\n\nconst Ii = /*@__PURE__*/ Be(\"IHistory\", (t => t.callback((t => t.get(Mi).history))));\n\nconst registerHostNode = (t, e, s = t.get($e)) => {\n    registerResolver(t, s.HTMLElement, registerResolver(t, s.Element, registerResolver(t, Ai, new _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.InstanceProvider(\"ElementResolver\", e))));\n    return t;\n};\n\nfunction customElement(t) {\n    return function(e, s) {\n        s.addInitializer((function() {\n            defineElement(t, this);\n        }));\n        return e;\n    };\n}\n\nfunction useShadowDOM(t, e) {\n    if (t === void 0) {\n        return function(t, e) {\n            e.addInitializer((function() {\n                annotateElementMetadata(this, \"shadowOptions\", {\n                    mode: \"open\"\n                });\n            }));\n        };\n    }\n    if (!(0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isFunction)(t)) {\n        return function(e, s) {\n            s.addInitializer((function() {\n                annotateElementMetadata(this, \"shadowOptions\", t);\n            }));\n        };\n    }\n    e.addInitializer((function() {\n        annotateElementMetadata(this, \"shadowOptions\", {\n            mode: \"open\"\n        });\n    }));\n}\n\nfunction containerless(t, e) {\n    if (t === void 0) {\n        return function(t, e) {\n            e.addInitializer((function() {\n                markContainerless(t);\n            }));\n        };\n    }\n    e.addInitializer((function() {\n        markContainerless(t);\n    }));\n}\n\nfunction markContainerless(t) {\n    const e = pe(Oi, t);\n    if (e === void 0) {\n        annotateElementMetadata(t, \"containerless\", true);\n        return;\n    }\n    e.containerless = true;\n}\n\nconst Pi = new WeakMap;\n\nclass CustomElementDefinition {\n    get type() {\n        return Re;\n    }\n    constructor(t, e, s, i, n, r, l, a, h, c, u, f, d, m, g, p, v, x) {\n        this.Type = t;\n        this.name = e;\n        this.aliases = s;\n        this.key = i;\n        this.capture = n;\n        this.template = r;\n        this.instructions = l;\n        this.dependencies = a;\n        this.injectable = h;\n        this.needsCompile = c;\n        this.surrogates = u;\n        this.bindables = f;\n        this.containerless = d;\n        this.shadowOptions = m;\n        this.hasSlots = g;\n        this.enhance = p;\n        this.watches = v;\n        this.processContent = x;\n    }\n    static create(t, e = null) {\n        if (e === null) {\n            const s = t;\n            if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isString)(s)) {\n                throw createMappedError(761, t);\n            }\n            const n = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.fromDefinitionOrDefault)(\"name\", s, Fi);\n            if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isFunction)(s.Type)) {\n                e = s.Type;\n            } else {\n                e = Vi((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.pascalCase)(n));\n            }\n            for (const t of Object.values(ke.from(s.bindables))) {\n                ke.i(t, e);\n            }\n            return new CustomElementDefinition(e, n, (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.mergeArrays)(s.aliases), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.fromDefinitionOrDefault)(\"key\", s, (() => getElementKeyFrom(n))), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.fromAnnotationOrDefinitionOrTypeOrDefault)(\"capture\", s, e, returnFalse), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.fromDefinitionOrDefault)(\"template\", s, returnNull), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.mergeArrays)(s.instructions), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.mergeArrays)(getElementAnnotation(e, \"dependencies\"), s.dependencies), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.fromDefinitionOrDefault)(\"injectable\", s, returnNull), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.fromDefinitionOrDefault)(\"needsCompile\", s, returnTrue), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.mergeArrays)(s.surrogates), ke.from(getElementAnnotation(e, \"bindables\"), s.bindables), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.fromAnnotationOrDefinitionOrTypeOrDefault)(\"containerless\", s, e, returnFalse), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.fromDefinitionOrDefault)(\"shadowOptions\", s, returnNull), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.fromDefinitionOrDefault)(\"hasSlots\", s, returnFalse), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.fromDefinitionOrDefault)(\"enhance\", s, returnFalse), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.fromDefinitionOrDefault)(\"watches\", s, returnEmptyArray), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.fromAnnotationOrTypeOrDefault)(\"processContent\", e, returnNull));\n        }\n        if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isString)(t)) {\n            return new CustomElementDefinition(e, t, (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.mergeArrays)(getElementAnnotation(e, \"aliases\"), e.aliases), getElementKeyFrom(t), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.fromAnnotationOrTypeOrDefault)(\"capture\", e, returnFalse), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.fromAnnotationOrTypeOrDefault)(\"template\", e, returnNull), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.mergeArrays)(getElementAnnotation(e, \"instructions\"), e.instructions), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.mergeArrays)(getElementAnnotation(e, \"dependencies\"), e.dependencies), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.fromAnnotationOrTypeOrDefault)(\"injectable\", e, returnNull), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.fromAnnotationOrTypeOrDefault)(\"needsCompile\", e, returnTrue), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.mergeArrays)(getElementAnnotation(e, \"surrogates\"), e.surrogates), ke.from(...ke.getAll(e), getElementAnnotation(e, \"bindables\"), e.bindables), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.fromAnnotationOrTypeOrDefault)(\"containerless\", e, returnFalse), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.fromAnnotationOrTypeOrDefault)(\"shadowOptions\", e, returnNull), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.fromAnnotationOrTypeOrDefault)(\"hasSlots\", e, returnFalse), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.fromAnnotationOrTypeOrDefault)(\"enhance\", e, returnFalse), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.mergeArrays)(Ne.getDefinitions(e), e.watches), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.fromAnnotationOrTypeOrDefault)(\"processContent\", e, returnNull));\n        }\n        const s = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.fromDefinitionOrDefault)(\"name\", t, Fi);\n        for (const s of Object.values(ke.from(t.bindables))) {\n            ke.i(s, e);\n        }\n        return new CustomElementDefinition(e, s, (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.mergeArrays)(getElementAnnotation(e, \"aliases\"), t.aliases, e.aliases), getElementKeyFrom(s), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.fromAnnotationOrDefinitionOrTypeOrDefault)(\"capture\", t, e, returnFalse), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.fromAnnotationOrDefinitionOrTypeOrDefault)(\"template\", t, e, returnNull), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.mergeArrays)(getElementAnnotation(e, \"instructions\"), t.instructions, e.instructions), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.mergeArrays)(getElementAnnotation(e, \"dependencies\"), t.dependencies, e.dependencies), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.fromAnnotationOrDefinitionOrTypeOrDefault)(\"injectable\", t, e, returnNull), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.fromAnnotationOrDefinitionOrTypeOrDefault)(\"needsCompile\", t, e, returnTrue), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.mergeArrays)(getElementAnnotation(e, \"surrogates\"), t.surrogates, e.surrogates), ke.from(...ke.getAll(e), getElementAnnotation(e, \"bindables\"), e.bindables, t.bindables), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.fromAnnotationOrDefinitionOrTypeOrDefault)(\"containerless\", t, e, returnFalse), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.fromAnnotationOrDefinitionOrTypeOrDefault)(\"shadowOptions\", t, e, returnNull), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.fromAnnotationOrDefinitionOrTypeOrDefault)(\"hasSlots\", t, e, returnFalse), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.fromAnnotationOrDefinitionOrTypeOrDefault)(\"enhance\", t, e, returnFalse), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.mergeArrays)(t.watches, Ne.getDefinitions(e), e.watches), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.fromAnnotationOrDefinitionOrTypeOrDefault)(\"processContent\", t, e, returnNull));\n    }\n    static getOrCreate(t) {\n        if (t instanceof CustomElementDefinition) {\n            return t;\n        }\n        if (Pi.has(t)) {\n            return Pi.get(t);\n        }\n        const e = CustomElementDefinition.create(t);\n        Pi.set(t, e);\n        xe(e, e.Type, Oi);\n        return e;\n    }\n    register(t, e) {\n        const s = this.Type;\n        const i = typeof e === \"string\" ? getElementKeyFrom(e) : this.key;\n        const n = this.aliases;\n        if (t.has(i, false)) {\n            console.warn(createMappedError(153, this.name));\n            return;\n        }\n        t.register(t.has(s, false) ? null : Se(s, s), Ae(s, i), ...n.map((t => Ae(s, getElementKeyFrom(t)))));\n    }\n    toString() {\n        return `au:ce:${this.name}`;\n    }\n}\n\nconst qi = {\n    name: undefined,\n    searchParents: false,\n    optional: false\n};\n\nconst returnNull = () => null;\n\nconst returnFalse = () => false;\n\nconst returnTrue = () => true;\n\nconst returnEmptyArray = () => _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.emptyArray;\n\nconst _i = \"custom-element\";\n\nconst Oi = /*@__PURE__*/ (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.getResourceKeyFor)(_i);\n\nconst getElementKeyFrom = t => `${Oi}:${t}`;\n\nconst Fi = /*@__PURE__*/ (t => () => `unnamed-${++t}`)(0);\n\nconst annotateElementMetadata = (t, e, s) => {\n    xe(s, t, we(e));\n};\n\nconst defineElement = (t, e) => {\n    const s = CustomElementDefinition.create(t, e);\n    const i = s.Type;\n    xe(s, i, Oi, _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resourceBaseName);\n    return i;\n};\n\nconst isElementType = t => (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isFunction)(t) && (ve(Oi, t) || t.$au?.type === _i);\n\nconst findElementControllerFor = (t, e = qi) => {\n    if (e.name === void 0 && e.searchParents !== true) {\n        const s = getRef(t, Oi);\n        if (s === null) {\n            if (e.optional === true) {\n                return null;\n            }\n            throw createMappedError(762, t);\n        }\n        return s;\n    }\n    if (e.name !== void 0) {\n        if (e.searchParents !== true) {\n            const s = getRef(t, Oi);\n            if (s === null) {\n                throw createMappedError(763, t);\n            }\n            if (s.is(e.name)) {\n                return s;\n            }\n            return void 0;\n        }\n        let s = t;\n        let i = false;\n        while (s !== null) {\n            const t = getRef(s, Oi);\n            if (t !== null) {\n                i = true;\n                if (t.is(e.name)) {\n                    return t;\n                }\n            }\n            s = getEffectiveParentNode(s);\n        }\n        if (i) {\n            return void 0;\n        }\n        throw createMappedError(764, t);\n    }\n    let s = t;\n    while (s !== null) {\n        const t = getRef(s, Oi);\n        if (t !== null) {\n            return t;\n        }\n        s = getEffectiveParentNode(s);\n    }\n    throw createMappedError(765, t);\n};\n\nconst getElementAnnotation = (t, e) => pe(we(e), t);\n\nconst getElementDefinition = t => {\n    const e = pe(Oi, t) ?? getDefinitionFromStaticAu(t, _i, CustomElementDefinition.create);\n    if (e == null) {\n        throw createMappedError(760, t);\n    }\n    return e;\n};\n\nconst createElementInjectable = () => {\n    const t = {\n        $isInterface: false,\n        register() {\n            return {\n                $isResolver: true,\n                resolve(e, s) {\n                    if (s.has(t, true)) {\n                        return s.get(t);\n                    } else {\n                        return null;\n                    }\n                }\n            };\n        }\n    };\n    return t;\n};\n\nconst Vi = /*@__PURE__*/ function() {\n    const t = {\n        value: \"\",\n        writable: false,\n        enumerable: false,\n        configurable: true\n    };\n    const e = {};\n    return function(s, i = e) {\n        const n = class Anonymous {};\n        t.value = s;\n        Yt(n, \"name\", t);\n        if (i !== e) {\n            Gt(n.prototype, i);\n        }\n        return n;\n    };\n}();\n\nconst Hi = /*@__PURE__*/ Ut({\n    name: Oi,\n    keyFrom: getElementKeyFrom,\n    isType: isElementType,\n    for: findElementControllerFor,\n    define: defineElement,\n    getDefinition: getElementDefinition,\n    annotate: annotateElementMetadata,\n    getAnnotation: getElementAnnotation,\n    generateName: Fi,\n    createInjectable: createElementInjectable,\n    generateType: Vi,\n    find(t, e) {\n        const s = t.find(_i, e);\n        return s == null ? null : pe(Oi, s) ?? getDefinitionFromStaticAu(s, _i, CustomElementDefinition.create) ?? null;\n    }\n});\n\nconst $i = /*@__PURE__*/ we(\"processContent\");\n\nfunction processContent(t) {\n    return t === void 0 ? function(t, e) {\n        if (!e.static || e.kind !== \"method\") throw createMappedError(766, t);\n        e.addInitializer((function() {\n            xe(t, this, $i);\n        }));\n    } : function(e, s) {\n        s.addInitializer((function() {\n            if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isString)(t) || (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isSymbol)(t)) {\n                t = this[t];\n            }\n            if (!(0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isFunction)(t)) throw createMappedError(766, t);\n            const e = pe(Oi, this);\n            if (e !== void 0) {\n                e.processContent = t;\n            } else {\n                xe(t, this, $i);\n            }\n        }));\n        return e;\n    };\n}\n\nfunction capture(t) {\n    return function(e, s) {\n        const i = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isFunction)(t) ? t : true;\n        s.addInitializer((function() {\n            annotateElementMetadata(this, \"capture\", i);\n            if (isElementType(this)) {\n                getElementDefinition(this).capture = i;\n            }\n        }));\n    };\n}\n\nconst Ni = /*@__PURE__*/ Be(\"IAppRoot\");\n\nclass AppRoot {\n    get controller() {\n        return this.M;\n    }\n    constructor(t, e, s, i = false) {\n        this.config = t;\n        this.container = e;\n        this.ce = void 0;\n        this.ue = i;\n        const n = this.host = t.host;\n        s.prepare(this);\n        registerResolver(e, Ei, new _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.InstanceProvider(\"IEventTarget\", n));\n        registerHostNode(e, n, this.platform = this.fe(e, n));\n        this.ce = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)(this.de(\"creating\"), (() => {\n            if (!t.allowActionlessForm !== false) {\n                n.addEventListener(\"submit\", (t => {\n                    const e = t.target;\n                    const s = !e.getAttribute(\"action\");\n                    if (e.tagName === \"FORM\" && s) {\n                        t.preventDefault();\n                    }\n                }), false);\n            }\n            const s = i ? e : e.createChild();\n            const r = t.component;\n            let a;\n            if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isFunction)(r)) {\n                a = s.invoke(r);\n                Ee(r, a);\n            } else {\n                a = t.component;\n            }\n            const h = {\n                hydrate: false,\n                projections: null\n            };\n            const c = i ? CustomElementDefinition.create({\n                name: Fi(),\n                template: this.host,\n                enhance: true\n            }) : void 0;\n            const u = this.M = Controller.$el(s, a, n, h, c);\n            u.hE(h, null);\n            return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)(this.de(\"hydrating\"), (() => {\n                u.hS();\n                return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)(this.de(\"hydrated\"), (() => {\n                    u.hC();\n                    this.ce = void 0;\n                }));\n            }));\n        }));\n    }\n    activate() {\n        return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)(this.ce, (() => (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)(this.de(\"activating\"), (() => (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)(this.M.activate(this.M, null, void 0), (() => this.de(\"activated\")))))));\n    }\n    deactivate() {\n        return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)(this.de(\"deactivating\"), (() => (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)(this.M.deactivate(this.M, null), (() => this.de(\"deactivated\")))));\n    }\n    de(t) {\n        const e = this.container;\n        const s = this.ue && !e.has(Ve, false) ? [] : e.getAll(Ve);\n        return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolveAll)(...s.reduce(((e, s) => {\n            if (s.slot === t) {\n                e.push(s.run());\n            }\n            return e;\n        }), []));\n    }\n    fe(t, e) {\n        let s;\n        if (!t.has($e, false)) {\n            if (e.ownerDocument.defaultView === null) {\n                throw createMappedError(769);\n            }\n            s = new _aurelia_platform_browser__WEBPACK_IMPORTED_MODULE_5__.BrowserPlatform(e.ownerDocument.defaultView);\n            t.register(Ee($e, s));\n        } else {\n            s = t.get($e);\n        }\n        return s;\n    }\n    dispose() {\n        this.M?.dispose();\n    }\n}\n\nconst ji = /*@__PURE__*/ Be(\"IAurelia\");\n\nclass Aurelia {\n    get isRunning() {\n        return this.ir;\n    }\n    get isStarting() {\n        return this.me;\n    }\n    get isStopping() {\n        return this.ge;\n    }\n    get root() {\n        if (this.pe == null) {\n            if (this.next == null) {\n                throw createMappedError(767);\n            }\n            return this.next;\n        }\n        return this.pe;\n    }\n    constructor(t = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.DI.createContainer()) {\n        this.container = t;\n        this.ir = false;\n        this.me = false;\n        this.ge = false;\n        this.pe = void 0;\n        this.next = void 0;\n        this.ve = void 0;\n        this.xe = void 0;\n        if (t.has(ji, true) || t.has(Aurelia, true)) {\n            throw createMappedError(768);\n        }\n        registerResolver(t, ji, new _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.InstanceProvider(\"IAurelia\", this));\n        registerResolver(t, Aurelia, new _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.InstanceProvider(\"Aurelia\", this));\n        registerResolver(t, Ni, this.be = new _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.InstanceProvider(\"IAppRoot\"));\n    }\n    register(...t) {\n        this.container.register(...t);\n        return this;\n    }\n    app(t) {\n        this.next = new AppRoot(t, this.container, this.be);\n        return this;\n    }\n    enhance(t) {\n        const e = t.container ?? this.container.createChild();\n        const s = registerResolver(e, Ni, new _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.InstanceProvider(\"IAppRoot\"));\n        const i = new AppRoot({\n            host: t.host,\n            component: t.component\n        }, e, s, true);\n        return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)(i.activate(), (() => i));\n    }\n    async waitForIdle() {\n        const t = this.root.platform;\n        await t.domQueue.yield();\n        await t.taskQueue.yield();\n    }\n    start(t = this.next) {\n        if (t == null) {\n            throw createMappedError(770);\n        }\n        if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isPromise)(this.ve)) {\n            return this.ve;\n        }\n        return this.ve = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)(this.stop(), (() => {\n            Reflect.set(t.host, \"$aurelia\", this);\n            this.be.prepare(this.pe = t);\n            this.me = true;\n            return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)(t.activate(), (() => {\n                this.ir = true;\n                this.me = false;\n                this.ve = void 0;\n                this.we(t, \"au-started\", t.host);\n            }));\n        }));\n    }\n    stop(t = false) {\n        if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isPromise)(this.xe)) {\n            return this.xe;\n        }\n        if (this.ir === true) {\n            const e = this.pe;\n            this.ir = false;\n            this.ge = true;\n            return this.xe = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)(e.deactivate(), (() => {\n                Reflect.deleteProperty(e.host, \"$aurelia\");\n                if (t) {\n                    e.dispose();\n                }\n                this.pe = void 0;\n                this.be.dispose();\n                this.ge = false;\n                this.we(e, \"au-stopped\", e.host);\n            }));\n        }\n    }\n    dispose() {\n        if (this.ir || this.ge) {\n            throw createMappedError(771);\n        }\n        this.container.dispose();\n    }\n    we(t, e, s) {\n        const i = new t.platform.window.CustomEvent(e, {\n            detail: this,\n            bubbles: true,\n            cancelable: true\n        });\n        s.dispatchEvent(i);\n    }\n}\n\nconst Wi = /*@__PURE__*/ Be(\"ISVGAnalyzer\", (t => t.singleton(NoopSVGAnalyzer)));\n\nconst o = t => {\n    const e = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.createLookup)();\n    t = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isString)(t) ? t.split(\" \") : t;\n    let s;\n    for (s of t) {\n        e[s] = true;\n    }\n    return e;\n};\n\nclass NoopSVGAnalyzer {\n    isStandardSvgAttribute(t, e) {\n        return false;\n    }\n}\n\nclass SVGAnalyzer {\n    static register(t) {\n        t.register(Se(this, this), Ae(this, Wi));\n    }\n    constructor() {\n        this.ye = Gt((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.createLookup)(), {\n            a: o(\"class externalResourcesRequired id onactivate onclick onfocusin onfocusout onload onmousedown onmousemove onmouseout onmouseover onmouseup requiredExtensions requiredFeatures style systemLanguage target transform xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type xml:base xml:lang xml:space\"),\n            altGlyph: o(\"class dx dy externalResourcesRequired format glyphRef id onactivate onclick onfocusin onfocusout onload onmousedown onmousemove onmouseout onmouseover onmouseup requiredExtensions requiredFeatures rotate style systemLanguage x xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type xml:base xml:lang xml:space y\"),\n            altglyph: (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.createLookup)(),\n            altGlyphDef: o(\"id xml:base xml:lang xml:space\"),\n            altglyphdef: (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.createLookup)(),\n            altGlyphItem: o(\"id xml:base xml:lang xml:space\"),\n            altglyphitem: (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.createLookup)(),\n            animate: o(\"accumulate additive attributeName attributeType begin by calcMode dur end externalResourcesRequired fill from id keySplines keyTimes max min onbegin onend onload onrepeat repeatCount repeatDur requiredExtensions requiredFeatures restart systemLanguage to values xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type xml:base xml:lang xml:space\"),\n            animateColor: o(\"accumulate additive attributeName attributeType begin by calcMode dur end externalResourcesRequired fill from id keySplines keyTimes max min onbegin onend onload onrepeat repeatCount repeatDur requiredExtensions requiredFeatures restart systemLanguage to values xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type xml:base xml:lang xml:space\"),\n            animateMotion: o(\"accumulate additive begin by calcMode dur end externalResourcesRequired fill from id keyPoints keySplines keyTimes max min onbegin onend onload onrepeat origin path repeatCount repeatDur requiredExtensions requiredFeatures restart rotate systemLanguage to values xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type xml:base xml:lang xml:space\"),\n            animateTransform: o(\"accumulate additive attributeName attributeType begin by calcMode dur end externalResourcesRequired fill from id keySplines keyTimes max min onbegin onend onload onrepeat repeatCount repeatDur requiredExtensions requiredFeatures restart systemLanguage to type values xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type xml:base xml:lang xml:space\"),\n            circle: o(\"class cx cy externalResourcesRequired id onactivate onclick onfocusin onfocusout onload onmousedown onmousemove onmouseout onmouseover onmouseup r requiredExtensions requiredFeatures style systemLanguage transform xml:base xml:lang xml:space\"),\n            clipPath: o(\"class clipPathUnits externalResourcesRequired id requiredExtensions requiredFeatures style systemLanguage transform xml:base xml:lang xml:space\"),\n            \"color-profile\": o(\"id local name rendering-intent xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type xml:base xml:lang xml:space\"),\n            cursor: o(\"externalResourcesRequired id requiredExtensions requiredFeatures systemLanguage x xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type xml:base xml:lang xml:space y\"),\n            defs: o(\"class externalResourcesRequired id onactivate onclick onfocusin onfocusout onload onmousedown onmousemove onmouseout onmouseover onmouseup requiredExtensions requiredFeatures style systemLanguage transform xml:base xml:lang xml:space\"),\n            desc: o(\"class id style xml:base xml:lang xml:space\"),\n            ellipse: o(\"class cx cy externalResourcesRequired id onactivate onclick onfocusin onfocusout onload onmousedown onmousemove onmouseout onmouseover onmouseup requiredExtensions requiredFeatures rx ry style systemLanguage transform xml:base xml:lang xml:space\"),\n            feBlend: o(\"class height id in in2 mode result style width x xml:base xml:lang xml:space y\"),\n            feColorMatrix: o(\"class height id in result style type values width x xml:base xml:lang xml:space y\"),\n            feComponentTransfer: o(\"class height id in result style width x xml:base xml:lang xml:space y\"),\n            feComposite: o(\"class height id in in2 k1 k2 k3 k4 operator result style width x xml:base xml:lang xml:space y\"),\n            feConvolveMatrix: o(\"bias class divisor edgeMode height id in kernelMatrix kernelUnitLength order preserveAlpha result style targetX targetY width x xml:base xml:lang xml:space y\"),\n            feDiffuseLighting: o(\"class diffuseConstant height id in kernelUnitLength result style surfaceScale width x xml:base xml:lang xml:space y\"),\n            feDisplacementMap: o(\"class height id in in2 result scale style width x xChannelSelector xml:base xml:lang xml:space y yChannelSelector\"),\n            feDistantLight: o(\"azimuth elevation id xml:base xml:lang xml:space\"),\n            feFlood: o(\"class height id result style width x xml:base xml:lang xml:space y\"),\n            feFuncA: o(\"amplitude exponent id intercept offset slope tableValues type xml:base xml:lang xml:space\"),\n            feFuncB: o(\"amplitude exponent id intercept offset slope tableValues type xml:base xml:lang xml:space\"),\n            feFuncG: o(\"amplitude exponent id intercept offset slope tableValues type xml:base xml:lang xml:space\"),\n            feFuncR: o(\"amplitude exponent id intercept offset slope tableValues type xml:base xml:lang xml:space\"),\n            feGaussianBlur: o(\"class height id in result stdDeviation style width x xml:base xml:lang xml:space y\"),\n            feImage: o(\"class externalResourcesRequired height id preserveAspectRatio result style width x xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type xml:base xml:lang xml:space y\"),\n            feMerge: o(\"class height id result style width x xml:base xml:lang xml:space y\"),\n            feMergeNode: o(\"id xml:base xml:lang xml:space\"),\n            feMorphology: o(\"class height id in operator radius result style width x xml:base xml:lang xml:space y\"),\n            feOffset: o(\"class dx dy height id in result style width x xml:base xml:lang xml:space y\"),\n            fePointLight: o(\"id x xml:base xml:lang xml:space y z\"),\n            feSpecularLighting: o(\"class height id in kernelUnitLength result specularConstant specularExponent style surfaceScale width x xml:base xml:lang xml:space y\"),\n            feSpotLight: o(\"id limitingConeAngle pointsAtX pointsAtY pointsAtZ specularExponent x xml:base xml:lang xml:space y z\"),\n            feTile: o(\"class height id in result style width x xml:base xml:lang xml:space y\"),\n            feTurbulence: o(\"baseFrequency class height id numOctaves result seed stitchTiles style type width x xml:base xml:lang xml:space y\"),\n            filter: o(\"class externalResourcesRequired filterRes filterUnits height id primitiveUnits style width x xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type xml:base xml:lang xml:space y\"),\n            font: o(\"class externalResourcesRequired horiz-adv-x horiz-origin-x horiz-origin-y id style vert-adv-y vert-origin-x vert-origin-y xml:base xml:lang xml:space\"),\n            \"font-face\": o(\"accent-height alphabetic ascent bbox cap-height descent font-family font-size font-stretch font-style font-variant font-weight hanging id ideographic mathematical overline-position overline-thickness panose-1 slope stemh stemv strikethrough-position strikethrough-thickness underline-position underline-thickness unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical widths x-height xml:base xml:lang xml:space\"),\n            \"font-face-format\": o(\"id string xml:base xml:lang xml:space\"),\n            \"font-face-name\": o(\"id name xml:base xml:lang xml:space\"),\n            \"font-face-src\": o(\"id xml:base xml:lang xml:space\"),\n            \"font-face-uri\": o(\"id xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type xml:base xml:lang xml:space\"),\n            foreignObject: o(\"class externalResourcesRequired height id onactivate onclick onfocusin onfocusout onload onmousedown onmousemove onmouseout onmouseover onmouseup requiredExtensions requiredFeatures style systemLanguage transform width x xml:base xml:lang xml:space y\"),\n            g: o(\"class externalResourcesRequired id onactivate onclick onfocusin onfocusout onload onmousedown onmousemove onmouseout onmouseover onmouseup requiredExtensions requiredFeatures style systemLanguage transform xml:base xml:lang xml:space\"),\n            glyph: o(\"arabic-form class d glyph-name horiz-adv-x id lang orientation style unicode vert-adv-y vert-origin-x vert-origin-y xml:base xml:lang xml:space\"),\n            glyphRef: o(\"class dx dy format glyphRef id style x xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type xml:base xml:lang xml:space y\"),\n            glyphref: (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.createLookup)(),\n            hkern: o(\"g1 g2 id k u1 u2 xml:base xml:lang xml:space\"),\n            image: o(\"class externalResourcesRequired height id onactivate onclick onfocusin onfocusout onload onmousedown onmousemove onmouseout onmouseover onmouseup preserveAspectRatio requiredExtensions requiredFeatures style systemLanguage transform width x xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type xml:base xml:lang xml:space y\"),\n            line: o(\"class externalResourcesRequired id onactivate onclick onfocusin onfocusout onload onmousedown onmousemove onmouseout onmouseover onmouseup requiredExtensions requiredFeatures style systemLanguage transform x1 x2 xml:base xml:lang xml:space y1 y2\"),\n            linearGradient: o(\"class externalResourcesRequired gradientTransform gradientUnits id spreadMethod style x1 x2 xlink:arcrole xlink:href xlink:role xlink:title xlink:type xml:base xml:lang xml:space y1 y2\"),\n            marker: o(\"class externalResourcesRequired id markerHeight markerUnits markerWidth orient preserveAspectRatio refX refY style viewBox xml:base xml:lang xml:space\"),\n            mask: o(\"class externalResourcesRequired height id maskContentUnits maskUnits requiredExtensions requiredFeatures style systemLanguage width x xml:base xml:lang xml:space y\"),\n            metadata: o(\"id xml:base xml:lang xml:space\"),\n            \"missing-glyph\": o(\"class d horiz-adv-x id style vert-adv-y vert-origin-x vert-origin-y xml:base xml:lang xml:space\"),\n            mpath: o(\"externalResourcesRequired id xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type xml:base xml:lang xml:space\"),\n            path: o(\"class d externalResourcesRequired id onactivate onclick onfocusin onfocusout onload onmousedown onmousemove onmouseout onmouseover onmouseup pathLength requiredExtensions requiredFeatures style systemLanguage transform xml:base xml:lang xml:space\"),\n            pattern: o(\"class externalResourcesRequired height id patternContentUnits patternTransform patternUnits preserveAspectRatio requiredExtensions requiredFeatures style systemLanguage viewBox width x xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type xml:base xml:lang xml:space y\"),\n            polygon: o(\"class externalResourcesRequired id onactivate onclick onfocusin onfocusout onload onmousedown onmousemove onmouseout onmouseover onmouseup points requiredExtensions requiredFeatures style systemLanguage transform xml:base xml:lang xml:space\"),\n            polyline: o(\"class externalResourcesRequired id onactivate onclick onfocusin onfocusout onload onmousedown onmousemove onmouseout onmouseover onmouseup points requiredExtensions requiredFeatures style systemLanguage transform xml:base xml:lang xml:space\"),\n            radialGradient: o(\"class cx cy externalResourcesRequired fx fy gradientTransform gradientUnits id r spreadMethod style xlink:arcrole xlink:href xlink:role xlink:title xlink:type xml:base xml:lang xml:space\"),\n            rect: o(\"class externalResourcesRequired height id onactivate onclick onfocusin onfocusout onload onmousedown onmousemove onmouseout onmouseover onmouseup requiredExtensions requiredFeatures rx ry style systemLanguage transform width x xml:base xml:lang xml:space y\"),\n            script: o(\"externalResourcesRequired id type xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type xml:base xml:lang xml:space\"),\n            set: o(\"attributeName attributeType begin dur end externalResourcesRequired fill id max min onbegin onend onload onrepeat repeatCount repeatDur requiredExtensions requiredFeatures restart systemLanguage to xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type xml:base xml:lang xml:space\"),\n            stop: o(\"class id offset style xml:base xml:lang xml:space\"),\n            style: o(\"id media title type xml:base xml:lang xml:space\"),\n            svg: o(\"baseProfile class contentScriptType contentStyleType externalResourcesRequired height id onabort onactivate onclick onerror onfocusin onfocusout onload onmousedown onmousemove onmouseout onmouseover onmouseup onresize onscroll onunload onzoom preserveAspectRatio requiredExtensions requiredFeatures style systemLanguage version viewBox width x xml:base xml:lang xml:space y zoomAndPan\"),\n            switch: o(\"class externalResourcesRequired id onactivate onclick onfocusin onfocusout onload onmousedown onmousemove onmouseout onmouseover onmouseup requiredExtensions requiredFeatures style systemLanguage transform xml:base xml:lang xml:space\"),\n            symbol: o(\"class externalResourcesRequired id onactivate onclick onfocusin onfocusout onload onmousedown onmousemove onmouseout onmouseover onmouseup preserveAspectRatio style viewBox xml:base xml:lang xml:space\"),\n            text: o(\"class dx dy externalResourcesRequired id lengthAdjust onactivate onclick onfocusin onfocusout onload onmousedown onmousemove onmouseout onmouseover onmouseup requiredExtensions requiredFeatures rotate style systemLanguage textLength transform x xml:base xml:lang xml:space y\"),\n            textPath: o(\"class externalResourcesRequired id lengthAdjust method onactivate onclick onfocusin onfocusout onload onmousedown onmousemove onmouseout onmouseover onmouseup requiredExtensions requiredFeatures spacing startOffset style systemLanguage textLength xlink:arcrole xlink:href xlink:role xlink:title xlink:type xml:base xml:lang xml:space\"),\n            title: o(\"class id style xml:base xml:lang xml:space\"),\n            tref: o(\"class dx dy externalResourcesRequired id lengthAdjust onactivate onclick onfocusin onfocusout onload onmousedown onmousemove onmouseout onmouseover onmouseup requiredExtensions requiredFeatures rotate style systemLanguage textLength x xlink:arcrole xlink:href xlink:role xlink:title xlink:type xml:base xml:lang xml:space y\"),\n            tspan: o(\"class dx dy externalResourcesRequired id lengthAdjust onactivate onclick onfocusin onfocusout onload onmousedown onmousemove onmouseout onmouseover onmouseup requiredExtensions requiredFeatures rotate style systemLanguage textLength x xml:base xml:lang xml:space y\"),\n            use: o(\"class externalResourcesRequired height id onactivate onclick onfocusin onfocusout onload onmousedown onmousemove onmouseout onmouseover onmouseup requiredExtensions requiredFeatures style systemLanguage transform width x xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type xml:base xml:lang xml:space y\"),\n            view: o(\"externalResourcesRequired id preserveAspectRatio viewBox viewTarget xml:base xml:lang xml:space zoomAndPan\"),\n            vkern: o(\"g1 g2 id k u1 u2 xml:base xml:lang xml:space\")\n        });\n        this.ke = o(\"a altGlyph animate animateColor circle clipPath defs ellipse feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feFlood feGaussianBlur feImage feMerge feMorphology feOffset feSpecularLighting feTile feTurbulence filter font foreignObject g glyph glyphRef image line linearGradient marker mask missing-glyph path pattern polygon polyline radialGradient rect stop svg switch symbol text textPath tref tspan use\");\n        this.Ce = o(\"alignment-baseline baseline-shift clip-path clip-rule clip color-interpolation-filters color-interpolation color-profile color-rendering color cursor direction display dominant-baseline enable-background fill-opacity fill-rule fill filter flood-color flood-opacity font-family font-size-adjust font-size font-stretch font-style font-variant font-weight glyph-orientation-horizontal glyph-orientation-vertical image-rendering kerning letter-spacing lighting-color marker-end marker-mid marker-start mask opacity overflow pointer-events shape-rendering stop-color stop-opacity stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width stroke text-anchor text-decoration text-rendering unicode-bidi visibility word-spacing writing-mode\");\n        const t = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)($e);\n        this.SVGElement = t.globalThis.SVGElement;\n        const e = t.document.createElement(\"div\");\n        e.innerHTML = \"<svg><altGlyph /></svg>\";\n        if (e.firstElementChild.nodeName === \"altglyph\") {\n            const t = this.ye;\n            let e = t.altGlyph;\n            t.altGlyph = t.altglyph;\n            t.altglyph = e;\n            e = t.altGlyphDef;\n            t.altGlyphDef = t.altglyphdef;\n            t.altglyphdef = e;\n            e = t.altGlyphItem;\n            t.altGlyphItem = t.altglyphitem;\n            t.altglyphitem = e;\n            e = t.glyphRef;\n            t.glyphRef = t.glyphref;\n            t.glyphref = e;\n        }\n    }\n    isStandardSvgAttribute(t, e) {\n        if (!(t instanceof this.SVGElement)) {\n            return false;\n        }\n        return this.ke[t.nodeName] === true && this.Ce[e] === true || this.ye[t.nodeName]?.[e] === true;\n    }\n}\n\nclass AttrMapper {\n    constructor() {\n        this.fns = [];\n        this.Be = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.createLookup)();\n        this.Se = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.createLookup)();\n        this.svg = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(Wi);\n        this.useMapping({\n            LABEL: {\n                for: \"htmlFor\"\n            },\n            IMG: {\n                usemap: \"useMap\"\n            },\n            INPUT: {\n                maxlength: \"maxLength\",\n                minlength: \"minLength\",\n                formaction: \"formAction\",\n                formenctype: \"formEncType\",\n                formmethod: \"formMethod\",\n                formnovalidate: \"formNoValidate\",\n                formtarget: \"formTarget\",\n                inputmode: \"inputMode\"\n            },\n            TEXTAREA: {\n                maxlength: \"maxLength\"\n            },\n            TD: {\n                rowspan: \"rowSpan\",\n                colspan: \"colSpan\"\n            },\n            TH: {\n                rowspan: \"rowSpan\",\n                colspan: \"colSpan\"\n            }\n        });\n        this.useGlobalMapping({\n            accesskey: \"accessKey\",\n            contenteditable: \"contentEditable\",\n            tabindex: \"tabIndex\",\n            textcontent: \"textContent\",\n            innerhtml: \"innerHTML\",\n            scrolltop: \"scrollTop\",\n            scrollleft: \"scrollLeft\",\n            readonly: \"readOnly\"\n        });\n    }\n    useMapping(t) {\n        let e;\n        let s;\n        let i;\n        let r;\n        for (i in t) {\n            e = t[i];\n            s = this.Be[i] ??= (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.createLookup)();\n            for (r in e) {\n                if (s[r] !== void 0) {\n                    throw createError(r, i);\n                }\n                s[r] = e[r];\n            }\n        }\n    }\n    useGlobalMapping(t) {\n        const e = this.Se;\n        for (const s in t) {\n            if (e[s] !== void 0) {\n                throw createError(s, \"*\");\n            }\n            e[s] = t[s];\n        }\n    }\n    useTwoWay(t) {\n        this.fns.push(t);\n    }\n    isTwoWay(t, e) {\n        return shouldDefaultToTwoWay(t, e) || this.fns.length > 0 && this.fns.some((s => s(t, e)));\n    }\n    map(t, e) {\n        return this.Be[t.nodeName]?.[e] ?? this.Se[e] ?? (isDataAttribute(t, e, this.svg) ? e : null);\n    }\n}\n\nAttrMapper.register = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.createImplementationRegister)(_aurelia_template_compiler__WEBPACK_IMPORTED_MODULE_3__.IAttrMapper);\n\nfunction shouldDefaultToTwoWay(t, e) {\n    switch (t.nodeName) {\n      case \"INPUT\":\n        switch (t.type) {\n          case \"checkbox\":\n          case \"radio\":\n            return e === \"checked\";\n\n          default:\n            return e === \"value\" || e === \"files\" || e === \"value-as-number\" || e === \"value-as-date\";\n        }\n\n      case \"TEXTAREA\":\n      case \"SELECT\":\n        return e === \"value\";\n\n      default:\n        switch (e) {\n          case \"textcontent\":\n          case \"innerhtml\":\n            return t.hasAttribute(\"contenteditable\");\n\n          case \"scrolltop\":\n          case \"scrollleft\":\n            return true;\n\n          default:\n            return false;\n        }\n    }\n}\n\nfunction createError(t, e) {\n    return createMappedError(719, t, e);\n}\n\nconst zi = {\n    register(t) {\n        t.register(_aurelia_template_compiler__WEBPACK_IMPORTED_MODULE_3__.TemplateCompiler, AttrMapper, ResourceResolver);\n    }\n};\n\nclass BindablesInfo {\n    constructor(t, e, s) {\n        this.attrs = t;\n        this.bindables = e;\n        this.primary = s;\n    }\n}\n\nclass ResourceResolver {\n    constructor() {\n        this.Ae = new WeakMap;\n        this.Ee = new WeakMap;\n    }\n    el(t, e) {\n        let s = this.Ae.get(t);\n        if (s == null) {\n            this.Ae.set(t, s = new RecordCache);\n        }\n        return e in s.Re ? s.Re[e] : s.Re[e] = Hi.find(t, e);\n    }\n    attr(t, e) {\n        let s = this.Ae.get(t);\n        if (s == null) {\n            this.Ae.set(t, s = new RecordCache);\n        }\n        return e in s.Te ? s.Te[e] : s.Te[e] = ze.find(t, e);\n    }\n    bindables(t) {\n        let e = this.Ee.get(t);\n        if (e == null) {\n            const s = t.bindables;\n            const i = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.createLookup)();\n            let r;\n            let l;\n            let a = false;\n            let h;\n            let c;\n            for (l in s) {\n                r = s[l];\n                c = r.attribute;\n                if (r.primary === true) {\n                    if (a) {\n                        throw createMappedError(714, t);\n                    }\n                    a = true;\n                    h = r;\n                } else if (!a && h == null) {\n                    h = r;\n                }\n                i[c] = BindableDefinition.create(l, r);\n            }\n            if (r == null && t.type === \"custom-attribute\") {\n                h = i.value = BindableDefinition.create(\"value\", {\n                    mode: t.defaultBindingMode ?? ue\n                });\n            }\n            this.Ee.set(t, e = new BindablesInfo(i, s, h ?? null));\n        }\n        return e;\n    }\n}\n\nResourceResolver.register = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.createImplementationRegister)(_aurelia_template_compiler__WEBPACK_IMPORTED_MODULE_3__.IResourceResolver);\n\nclass RecordCache {\n    constructor() {\n        this.Re = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.createLookup)();\n        this.Te = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.createLookup)();\n    }\n}\n\nconst Ui = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.createLookup)();\n\nclass AttributeNSAccessor {\n    static forNs(t) {\n        return Ui[t] ??= new AttributeNSAccessor(t);\n    }\n    constructor(t) {\n        this.ns = t;\n        this.type = re | oe;\n    }\n    getValue(t, e) {\n        return t.getAttributeNS(this.ns, e);\n    }\n    setValue(t, e, s) {\n        if (t == null) {\n            e.removeAttributeNS(this.ns, s);\n        } else {\n            e.setAttributeNS(this.ns, s, t);\n        }\n    }\n}\n\n(() => {\n    mixinNoopSubscribable(AttributeNSAccessor);\n})();\n\nclass DataAttributeAccessor {\n    constructor() {\n        this.type = re | oe;\n    }\n    getValue(t, e) {\n        return t.getAttribute(e);\n    }\n    setValue(t, e, s) {\n        if (t == null) {\n            e.removeAttribute(s);\n        } else {\n            e.setAttribute(s, t);\n        }\n    }\n}\n\n(() => {\n    mixinNoopSubscribable(DataAttributeAccessor);\n})();\n\nconst Gi = /*@__PURE__*/ new DataAttributeAccessor;\n\nclass SelectValueObserver {\n    static Le(t) {\n        const e = [];\n        if (t.length === 0) {\n            return e;\n        }\n        const s = t.length;\n        let i = 0;\n        let n;\n        while (s > i) {\n            n = t[i];\n            if (n.selected) {\n                e[e.length] = zt.call(n, \"model\") ? n.model : n.value;\n            }\n            ++i;\n        }\n        return e;\n    }\n    static Me(t, e) {\n        return t === e;\n    }\n    constructor(t, e, s, i) {\n        this.type = re | ne | oe;\n        this.v = void 0;\n        this.ov = void 0;\n        this.De = false;\n        this.Ie = void 0;\n        this.Pe = void 0;\n        this.iO = false;\n        this.rt = false;\n        this.nt = t;\n        this.oL = i;\n        this.cf = s;\n    }\n    getValue() {\n        return this.iO ? this.v : this.nt.multiple ? SelectValueObserver.Le(this.nt.options) : this.nt.value;\n    }\n    setValue(t) {\n        this.ov = this.v;\n        this.v = t;\n        this.De = t !== this.ov;\n        this.qe(t instanceof Array ? t : null);\n        this.ut();\n    }\n    ut() {\n        if (this.De) {\n            this.De = false;\n            this.syncOptions();\n        }\n    }\n    handleCollectionChange() {\n        this.syncOptions();\n    }\n    syncOptions() {\n        const t = this.v;\n        const e = this.nt;\n        const s = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isArray)(t);\n        const i = e.matcher ?? SelectValueObserver.Me;\n        const n = e.options;\n        let r = n.length;\n        while (r-- > 0) {\n            const e = n[r];\n            const l = zt.call(e, \"model\") ? e.model : e.value;\n            if (s) {\n                e.selected = t.findIndex((t => !!i(l, t))) !== -1;\n                continue;\n            }\n            e.selected = !!i(l, t);\n        }\n    }\n    syncValue() {\n        const t = this.nt;\n        const e = t.options;\n        const s = e.length;\n        const i = this.v;\n        let n = 0;\n        if (t.multiple) {\n            if (!(i instanceof Array)) {\n                return true;\n            }\n            let r;\n            const l = t.matcher || SelectValueObserver.Me;\n            const a = [];\n            while (n < s) {\n                r = e[n];\n                if (r.selected) {\n                    a.push(zt.call(r, \"model\") ? r.model : r.value);\n                }\n                ++n;\n            }\n            let h;\n            n = 0;\n            while (n < i.length) {\n                h = i[n];\n                if (a.findIndex((t => !!l(h, t))) === -1) {\n                    i.splice(n, 1);\n                } else {\n                    ++n;\n                }\n            }\n            n = 0;\n            while (n < a.length) {\n                h = a[n];\n                if (i.findIndex((t => !!l(h, t))) === -1) {\n                    i.push(h);\n                }\n                ++n;\n            }\n            return false;\n        }\n        let r = null;\n        let l;\n        while (n < s) {\n            l = e[n];\n            if (l.selected) {\n                r = zt.call(l, \"model\") ? l.model : l.value;\n                break;\n            }\n            ++n;\n        }\n        this.ov = this.v;\n        this.v = r;\n        return true;\n    }\n    ot() {\n        (this.Pe = createMutationObserver(this.nt, this._e.bind(this))).observe(this.nt, {\n            childList: true,\n            subtree: true,\n            characterData: true\n        });\n        this.qe(this.v instanceof Array ? this.v : null);\n        this.iO = true;\n    }\n    lt() {\n        this.Pe.disconnect();\n        this.Ie?.unsubscribe(this);\n        this.Pe = this.Ie = void 0;\n        this.iO = false;\n    }\n    qe(t) {\n        this.Ie?.unsubscribe(this);\n        this.Ie = void 0;\n        if (t != null) {\n            if (!this.nt.multiple) {\n                throw createMappedError(654);\n            }\n            (this.Ie = this.oL.getArrayObserver(t)).subscribe(this);\n        }\n    }\n    handleEvent() {\n        const t = this.syncValue();\n        if (t) {\n            this.Oe();\n        }\n    }\n    _e(t) {\n        this.syncOptions();\n        const e = this.syncValue();\n        if (e) {\n            this.Oe();\n        }\n    }\n    Oe() {\n        const t = this.ov;\n        this.ov = this.v;\n        this.subs.notify(this.v, t);\n    }\n}\n\n(() => {\n    mixinNodeObserverUseConfig(SelectValueObserver);\n    (0,_aurelia_runtime__WEBPACK_IMPORTED_MODULE_2__.subscriberCollection)(SelectValueObserver, null);\n})();\n\nconst Ki = \"--\";\n\nclass StyleAttributeAccessor {\n    constructor(t) {\n        this.obj = t;\n        this.type = re | oe;\n        this.v = \"\";\n        this.ov = \"\";\n        this.styles = {};\n        this.version = 0;\n        this.De = false;\n    }\n    getValue() {\n        return this.obj.style.cssText;\n    }\n    setValue(t) {\n        this.v = t;\n        this.De = t !== this.ov;\n        this.ut();\n    }\n    Fe(t) {\n        const e = [];\n        const s = /url\\([^)]+$/;\n        let i = 0;\n        let n = \"\";\n        let r;\n        let l;\n        let a;\n        let h;\n        while (i < t.length) {\n            r = t.indexOf(\";\", i);\n            if (r === -1) {\n                r = t.length;\n            }\n            n += t.substring(i, r);\n            i = r + 1;\n            if (s.test(n)) {\n                n += \";\";\n                continue;\n            }\n            l = n.indexOf(\":\");\n            a = n.substring(0, l).trim();\n            h = n.substring(l + 1).trim();\n            e.push([ a, h ]);\n            n = \"\";\n        }\n        return e;\n    }\n    Ve(t) {\n        let e;\n        let s;\n        const n = [];\n        for (s in t) {\n            e = t[s];\n            if (e == null) {\n                continue;\n            }\n            if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isString)(e)) {\n                if (s.startsWith(Ki)) {\n                    n.push([ s, e ]);\n                    continue;\n                }\n                n.push([ (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.kebabCase)(s), e ]);\n                continue;\n            }\n            n.push(...this.He(e));\n        }\n        return n;\n    }\n    $e(t) {\n        const e = t.length;\n        if (e > 0) {\n            const s = [];\n            let i = 0;\n            for (;e > i; ++i) {\n                s.push(...this.He(t[i]));\n            }\n            return s;\n        }\n        return _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.emptyArray;\n    }\n    He(t) {\n        if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isString)(t)) {\n            return this.Fe(t);\n        }\n        if (t instanceof Array) {\n            return this.$e(t);\n        }\n        if (t instanceof Object) {\n            return this.Ve(t);\n        }\n        return _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.emptyArray;\n    }\n    ut() {\n        if (this.De) {\n            this.De = false;\n            const t = this.v;\n            const e = this.styles;\n            const s = this.He(t);\n            let i;\n            let n = this.version;\n            this.ov = t;\n            let r;\n            let l;\n            let a;\n            let h = 0;\n            const c = s.length;\n            for (;h < c; ++h) {\n                r = s[h];\n                l = r[0];\n                a = r[1];\n                this.setProperty(l, a);\n                e[l] = n;\n            }\n            this.styles = e;\n            this.version += 1;\n            if (n === 0) {\n                return;\n            }\n            n -= 1;\n            for (i in e) {\n                if (!zt.call(e, i) || e[i] !== n) {\n                    continue;\n                }\n                this.obj.style.removeProperty(i);\n            }\n        }\n    }\n    setProperty(t, e) {\n        let s = \"\";\n        if (e != null && (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isFunction)(e.indexOf) && e.includes(\"!important\")) {\n            s = \"important\";\n            e = e.replace(\"!important\", \"\");\n        }\n        this.obj.style.setProperty(t, e, s);\n    }\n    bind() {\n        this.v = this.ov = this.obj.style.cssText;\n    }\n}\n\n(() => {\n    mixinNoopSubscribable(StyleAttributeAccessor);\n})();\n\nclass ValueAttributeObserver {\n    constructor(t, e, s) {\n        this.type = re | ne | oe;\n        this.v = \"\";\n        this.ov = \"\";\n        this.De = false;\n        this.rt = false;\n        this.nt = t;\n        this.k = e;\n        this.cf = s;\n    }\n    getValue() {\n        return this.v;\n    }\n    setValue(t) {\n        if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.areEqual)(t, this.v)) {\n            return;\n        }\n        this.ov = this.v;\n        this.v = t;\n        this.De = true;\n        if (!this.cf.readonly) {\n            this.ut();\n        }\n    }\n    ut() {\n        if (this.De) {\n            this.De = false;\n            this.nt[this.k] = this.v ?? this.cf.default;\n            this.Oe();\n        }\n    }\n    handleEvent() {\n        this.ov = this.v;\n        this.v = this.nt[this.k];\n        if (this.ov !== this.v) {\n            this.De = false;\n            this.Oe();\n        }\n    }\n    ot() {\n        this.v = this.ov = this.nt[this.k];\n    }\n    Oe() {\n        const t = this.ov;\n        this.ov = this.v;\n        this.subs.notify(this.v, t);\n    }\n}\n\n(() => {\n    mixinNodeObserverUseConfig(ValueAttributeObserver);\n    (0,_aurelia_runtime__WEBPACK_IMPORTED_MODULE_2__.subscriberCollection)(ValueAttributeObserver, null);\n})();\n\nconst Xi = (() => {\n    const t = \"http://www.w3.org/1999/xlink\";\n    const e = \"http://www.w3.org/XML/1998/namespace\";\n    const s = \"http://www.w3.org/2000/xmlns/\";\n    return Gt((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.createLookup)(), {\n        \"xlink:actuate\": [ \"actuate\", t ],\n        \"xlink:arcrole\": [ \"arcrole\", t ],\n        \"xlink:href\": [ \"href\", t ],\n        \"xlink:role\": [ \"role\", t ],\n        \"xlink:show\": [ \"show\", t ],\n        \"xlink:title\": [ \"title\", t ],\n        \"xlink:type\": [ \"type\", t ],\n        \"xml:lang\": [ \"lang\", e ],\n        \"xml:space\": [ \"space\", e ],\n        xmlns: [ \"xmlns\", s ],\n        \"xmlns:xlink\": [ \"xlink\", s ]\n    });\n})();\n\nconst Qi = new _aurelia_runtime__WEBPACK_IMPORTED_MODULE_2__.PropertyAccessor;\n\nQi.type = re | oe;\n\nclass NodeObserverLocator {\n    constructor() {\n        this.allowDirtyCheck = true;\n        this.Ne = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.createLookup)();\n        this.je = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.createLookup)();\n        this.We = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.createLookup)();\n        this.ze = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.createLookup)();\n        this.Ue = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.IServiceLocator);\n        this.p = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)($e);\n        this.Ge = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(_aurelia_runtime__WEBPACK_IMPORTED_MODULE_2__.IDirtyChecker);\n        this.svg = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(Wi);\n        const t = [ \"change\", \"input\" ];\n        const e = {\n            events: t,\n            default: \"\"\n        };\n        this.useConfig({\n            INPUT: {\n                value: e,\n                valueAsNumber: {\n                    events: t,\n                    default: 0\n                },\n                checked: {\n                    type: CheckedObserver,\n                    events: t\n                },\n                files: {\n                    events: t,\n                    readonly: true\n                }\n            },\n            SELECT: {\n                value: {\n                    type: SelectValueObserver,\n                    events: [ \"change\" ],\n                    default: \"\"\n                }\n            },\n            TEXTAREA: {\n                value: e\n            }\n        });\n        const s = {\n            events: [ \"change\", \"input\", \"blur\", \"keyup\", \"paste\" ],\n            default: \"\"\n        };\n        const i = {\n            events: [ \"scroll\" ],\n            default: 0\n        };\n        this.useConfigGlobal({\n            scrollTop: i,\n            scrollLeft: i,\n            textContent: s,\n            innerHTML: s\n        });\n        this.overrideAccessorGlobal(\"css\", \"style\", \"class\");\n        this.overrideAccessor({\n            INPUT: [ \"value\", \"checked\", \"model\" ],\n            SELECT: [ \"value\" ],\n            TEXTAREA: [ \"value\" ]\n        });\n    }\n    handles(t, e) {\n        return t instanceof this.p.Node;\n    }\n    useConfig(t, e, s) {\n        const r = this.Ne;\n        let l;\n        if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isString)(t)) {\n            l = r[t] ??= (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.createLookup)();\n            if (l[e] == null) {\n                l[e] = s;\n            } else {\n                throwMappingExisted(t, e);\n            }\n        } else {\n            for (const s in t) {\n                l = r[s] ??= (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.createLookup)();\n                const i = t[s];\n                for (e in i) {\n                    if (l[e] == null) {\n                        l[e] = i[e];\n                    } else {\n                        throwMappingExisted(s, e);\n                    }\n                }\n            }\n        }\n    }\n    useConfigGlobal(t, e) {\n        const s = this.je;\n        if (typeof t === \"object\") {\n            for (const e in t) {\n                if (s[e] == null) {\n                    s[e] = t[e];\n                } else {\n                    throwMappingExisted(\"*\", e);\n                }\n            }\n        } else {\n            if (s[t] == null) {\n                s[t] = e;\n            } else {\n                throwMappingExisted(\"*\", t);\n            }\n        }\n    }\n    getAccessor(t, e, s) {\n        if (e in this.ze || e in (this.We[t.tagName] ?? _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.emptyObject)) {\n            return this.getObserver(t, e, s);\n        }\n        switch (e) {\n          case \"src\":\n          case \"href\":\n          case \"role\":\n          case \"minLength\":\n          case \"maxLength\":\n          case \"placeholder\":\n          case \"size\":\n          case \"pattern\":\n          case \"title\":\n          case \"popovertarget\":\n          case \"popovertargetaction\":\n            return Gi;\n\n          default:\n            {\n                const s = Xi[e];\n                if (s !== undefined) {\n                    return AttributeNSAccessor.forNs(s[1]);\n                }\n                if (isDataAttribute(t, e, this.svg)) {\n                    return Gi;\n                }\n                return Qi;\n            }\n        }\n    }\n    overrideAccessor(t, e) {\n        let s;\n        if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isString)(t)) {\n            s = this.We[t] ??= (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.createLookup)();\n            s[e] = true;\n        } else {\n            for (const e in t) {\n                for (const i of t[e]) {\n                    s = this.We[e] ??= (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.createLookup)();\n                    s[i] = true;\n                }\n            }\n        }\n    }\n    overrideAccessorGlobal(...t) {\n        for (const e of t) {\n            this.ze[e] = true;\n        }\n    }\n    getNodeObserverConfig(t, e) {\n        return this.Ne[t.tagName]?.[e] ?? this.je[e];\n    }\n    getNodeObserver(t, e, s) {\n        const i = this.Ne[t.tagName]?.[e] ?? this.je[e];\n        let n;\n        if (i != null) {\n            n = new (i.type ?? ValueAttributeObserver)(t, e, i, s, this.Ue);\n            if (!n.doNotCache) {\n                (0,_aurelia_runtime__WEBPACK_IMPORTED_MODULE_2__.getObserverLookup)(t)[e] = n;\n            }\n            return n;\n        }\n        return null;\n    }\n    getObserver(t, e, s) {\n        switch (e) {\n          case \"class\":\n            return new ClassAttributeAccessor(t);\n\n          case \"css\":\n          case \"style\":\n            return new StyleAttributeAccessor(t);\n        }\n        const i = this.getNodeObserver(t, e, s);\n        if (i != null) {\n            return i;\n        }\n        const n = Xi[e];\n        if (n !== undefined) {\n            return AttributeNSAccessor.forNs(n[1]);\n        }\n        if (isDataAttribute(t, e, this.svg)) {\n            return Gi;\n        }\n        if (e in t.constructor.prototype) {\n            if (this.allowDirtyCheck) {\n                return this.Ge.createProperty(t, e);\n            }\n            throw createMappedError(652, e);\n        } else {\n            return new _aurelia_runtime__WEBPACK_IMPORTED_MODULE_2__.SetterObserver(t, e);\n        }\n    }\n}\n\nNodeObserverLocator.register = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.createImplementationRegister)(_aurelia_runtime__WEBPACK_IMPORTED_MODULE_2__.INodeObserverLocator);\n\nfunction getCollectionObserver(t, e) {\n    if (t instanceof Array) {\n        return e.getArrayObserver(t);\n    }\n    if (t instanceof Map) {\n        return e.getMapObserver(t);\n    }\n    if (t instanceof Set) {\n        return e.getSetObserver(t);\n    }\n}\n\nfunction throwMappingExisted(t, e) {\n    throw createMappedError(653, t, e);\n}\n\nfunction defaultMatcher(t, e) {\n    return t === e;\n}\n\nclass CheckedObserver {\n    constructor(t, e, s, i) {\n        this.type = re | ne | oe;\n        this.v = void 0;\n        this.ov = void 0;\n        this.Ke = void 0;\n        this.Xe = void 0;\n        this.rt = false;\n        this.nt = t;\n        this.oL = i;\n        this.cf = s;\n    }\n    getValue() {\n        return this.v;\n    }\n    setValue(t) {\n        const e = this.v;\n        if (t === e) {\n            return;\n        }\n        this.v = t;\n        this.ov = e;\n        this.Qe();\n        this.Ye();\n        this.Oe();\n    }\n    handleCollectionChange() {\n        this.Ye();\n    }\n    handleChange(t, e) {\n        this.Ye();\n    }\n    Ye() {\n        const t = this.v;\n        const e = this.nt;\n        const s = zt.call(e, \"model\") ? e.model : e.value;\n        const i = e.type === \"radio\";\n        const n = e.matcher !== void 0 ? e.matcher : defaultMatcher;\n        if (i) {\n            e.checked = !!n(t, s);\n        } else if (t === true) {\n            e.checked = true;\n        } else {\n            let i = false;\n            if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isArray)(t)) {\n                i = t.findIndex((t => !!n(t, s))) !== -1;\n            } else if (t instanceof Set) {\n                for (const e of t) {\n                    if (n(e, s)) {\n                        i = true;\n                        break;\n                    }\n                }\n            } else if (t instanceof Map) {\n                for (const e of t) {\n                    const t = e[0];\n                    const r = e[1];\n                    if (n(t, s) && r === true) {\n                        i = true;\n                        break;\n                    }\n                }\n            }\n            e.checked = i;\n        }\n    }\n    handleEvent() {\n        let t = this.ov = this.v;\n        const e = this.nt;\n        const s = zt.call(e, \"model\") ? e.model : e.value;\n        const i = e.checked;\n        const n = e.matcher !== void 0 ? e.matcher : defaultMatcher;\n        if (e.type === \"checkbox\") {\n            if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isArray)(t)) {\n                const e = t.findIndex((t => !!n(t, s)));\n                if (i && e === -1) {\n                    t.push(s);\n                } else if (!i && e !== -1) {\n                    t.splice(e, 1);\n                }\n                return;\n            } else if (t instanceof Set) {\n                const e = {};\n                let r = e;\n                for (const e of t) {\n                    if (n(e, s) === true) {\n                        r = e;\n                        break;\n                    }\n                }\n                if (i && r === e) {\n                    t.add(s);\n                } else if (!i && r !== e) {\n                    t.delete(r);\n                }\n                return;\n            } else if (t instanceof Map) {\n                let e;\n                for (const i of t) {\n                    const t = i[0];\n                    if (n(t, s) === true) {\n                        e = t;\n                        break;\n                    }\n                }\n                t.set(e, i);\n                return;\n            }\n            t = i;\n        } else if (i) {\n            t = s;\n        } else {\n            return;\n        }\n        this.v = t;\n        this.Oe();\n    }\n    ot() {\n        this.Qe();\n    }\n    lt() {\n        this.Ke?.unsubscribe(this);\n        this.Xe?.unsubscribe(this);\n        this.Ke = this.Xe = void 0;\n    }\n    Oe() {\n        Yi = this.ov;\n        this.ov = this.v;\n        this.subs.notify(this.v, Yi);\n    }\n    Qe() {\n        const t = this.nt;\n        (this.Xe ??= t.$observers?.model ?? t.$observers?.value)?.subscribe(this);\n        this.Ke?.unsubscribe(this);\n        this.Ke = void 0;\n        if (t.type === \"checkbox\") {\n            (this.Ke = getCollectionObserver(this.v, this.oL))?.subscribe(this);\n        }\n    }\n}\n\n(() => {\n    mixinNodeObserverUseConfig(CheckedObserver);\n    (0,_aurelia_runtime__WEBPACK_IMPORTED_MODULE_2__.subscriberCollection)(CheckedObserver, null);\n})();\n\nlet Yi = void 0;\n\nclass AttrBindingBehavior {\n    bind(t, e) {\n        if (!(e instanceof PropertyBinding)) {\n            throw createMappedError(9994, e);\n        }\n        e.useTargetObserver(Gi);\n    }\n}\n\nAttrBindingBehavior.$au = {\n    type: Le,\n    name: \"attr\"\n};\n\nclass SelfBindingBehavior {\n    bind(t, e) {\n        if (!(\"handleEvent\" in e)) {\n            throw createMappedError(801);\n        }\n        e.self = true;\n    }\n    unbind(t, e) {\n        e.self = false;\n    }\n}\n\nSelfBindingBehavior.$au = {\n    type: Le,\n    name: \"self\"\n};\n\nclass UpdateTriggerBindingBehavior {\n    constructor() {\n        this.oL = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(_aurelia_runtime__WEBPACK_IMPORTED_MODULE_2__.IObserverLocator);\n        this.Ze = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(_aurelia_runtime__WEBPACK_IMPORTED_MODULE_2__.INodeObserverLocator);\n    }\n    bind(t, e, ...s) {\n        if (!(this.Ze instanceof NodeObserverLocator)) {\n            throw createMappedError(9993);\n        }\n        if (s.length === 0) {\n            throw createMappedError(802);\n        }\n        if (!(e instanceof PropertyBinding) || !(e.mode & me)) {\n            throw createMappedError(803);\n        }\n        const i = this.Ze.getNodeObserverConfig(e.target, e.targetProperty);\n        if (i == null) {\n            throw createMappedError(9992, e);\n        }\n        const n = this.Ze.getNodeObserver(e.target, e.targetProperty, this.oL);\n        n.useConfig({\n            readonly: i.readonly,\n            default: i.default,\n            events: s\n        });\n        e.useTargetObserver(n);\n    }\n}\n\nUpdateTriggerBindingBehavior.$au = {\n    type: Le,\n    name: \"updateTrigger\"\n};\n\nclass If {\n    constructor() {\n        this.elseFactory = void 0;\n        this.elseView = void 0;\n        this.ifView = void 0;\n        this.view = void 0;\n        this.value = false;\n        this.cache = true;\n        this.pending = void 0;\n        this.Je = false;\n        this.ts = 0;\n        this.es = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(us);\n        this.l = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(Ri);\n    }\n    attaching(t, e) {\n        return this.ss(this.value);\n    }\n    detaching(t, e) {\n        this.Je = true;\n        return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)(this.pending, (() => {\n            this.Je = false;\n            this.pending = void 0;\n            void this.view?.deactivate(t, this.$controller);\n        }));\n    }\n    valueChanged(t, e) {\n        if (!this.$controller.isActive) return;\n        t = !!t;\n        e = !!e;\n        if (t !== e) return this.ss(t);\n    }\n    ss(t) {\n        const e = this.view;\n        const s = this.$controller;\n        const i = this.ts++;\n        const isCurrent = () => !this.Je && this.ts === i + 1;\n        let n;\n        return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)(this.pending, (() => this.pending = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)(e?.deactivate(e, s), (() => {\n            if (!isCurrent()) {\n                return;\n            }\n            if (t) {\n                n = this.view = this.ifView = this.cache && this.ifView != null ? this.ifView : this.es.create();\n            } else {\n                n = this.view = this.elseView = this.cache && this.elseView != null ? this.elseView : this.elseFactory?.create();\n            }\n            if (n == null) {\n                return;\n            }\n            n.setLocation(this.l);\n            return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)(n.activate(n, s, s.scope), (() => {\n                if (isCurrent()) {\n                    this.pending = void 0;\n                }\n            }));\n        }))));\n    }\n    dispose() {\n        this.ifView?.dispose();\n        this.elseView?.dispose();\n        this.ifView = this.elseView = this.view = void 0;\n    }\n    accept(t) {\n        if (this.view?.accept(t) === true) {\n            return true;\n        }\n    }\n}\n\nIf.$au = {\n    type: je,\n    name: \"if\",\n    isTemplateController: true,\n    bindables: {\n        value: true,\n        cache: {\n            set: t => t === \"\" || !!t && t !== \"false\"\n        }\n    }\n};\n\nclass Else {\n    constructor() {\n        this.f = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(us);\n    }\n    link(t, e, s, i) {\n        const n = t.children;\n        const r = n[n.length - 1];\n        if (r instanceof If) {\n            r.elseFactory = this.f;\n        } else if (r.viewModel instanceof If) {\n            r.viewModel.elseFactory = this.f;\n        } else {\n            throw createMappedError(810);\n        }\n    }\n}\n\nElse.$au = {\n    type: \"custom-attribute\",\n    name: \"else\",\n    isTemplateController: true\n};\n\nfunction dispose(t) {\n    t.dispose();\n}\n\nconst Zi = [ \"BindingBehavior\", \"ValueConverter\" ];\n\nclass Repeat {\n    constructor() {\n        this.views = [];\n        this.rs = [];\n        this.key = null;\n        this.os = new Map;\n        this.ls = new Map;\n        this.cs = void 0;\n        this.us = false;\n        this.ds = false;\n        this.gs = null;\n        this.ps = void 0;\n        this.xs = false;\n        this.l = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(Ri);\n        this.bs = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(yi);\n        this.f = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(us);\n        this.ws = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(sn);\n        const t = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(_aurelia_template_compiler__WEBPACK_IMPORTED_MODULE_3__.IInstruction);\n        const e = t.props[0].props[0];\n        if (e !== void 0) {\n            const {to: t, value: i, command: n} = e;\n            if (t === \"key\") {\n                if (n === null) {\n                    this.key = i;\n                } else if (n === \"bind\") {\n                    this.key = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(_aurelia_expression_parser__WEBPACK_IMPORTED_MODULE_0__.IExpressionParser).parse(i, ee);\n                } else {\n                    throw createMappedError(775, n);\n                }\n            } else {\n                throw createMappedError(776, t);\n            }\n        }\n    }\n    binding(t, e) {\n        const s = this.bs.bindings;\n        const i = s.length;\n        let n = void 0;\n        let r;\n        let l = 0;\n        for (;i > l; ++l) {\n            n = s[l];\n            if (n.target === this && n.targetProperty === \"items\") {\n                r = this.forOf = n.ast;\n                this.ys = n;\n                let t = r.iterable;\n                while (t != null && Zi.includes(t.$kind)) {\n                    t = t.expression;\n                    this.us = true;\n                }\n                this.gs = t;\n                break;\n            }\n        }\n        this.ks();\n        const a = r.declaration;\n        if (!(this.xs = a.$kind === \"ArrayDestructuring\" || a.$kind === \"ObjectDestructuring\")) {\n            this.local = ae(a, this.$controller.scope, n, null);\n        }\n    }\n    attaching(t, e) {\n        this.Cs();\n        return this.Bs(t, this.ps ?? _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.emptyArray);\n    }\n    detaching(t, e) {\n        this.ks();\n        return this.Ss(t);\n    }\n    unbinding(t, e) {\n        this.ls.clear();\n        this.os.clear();\n    }\n    itemsChanged() {\n        if (!this.$controller.isActive) {\n            return;\n        }\n        this.ks();\n        this.Cs();\n        this.As(this.items, void 0);\n    }\n    handleCollectionChange(t, e) {\n        const s = this.$controller;\n        if (!s.isActive) {\n            return;\n        }\n        if (this.us) {\n            if (this.ds) {\n                return;\n            }\n            this.ds = true;\n            this.items = ae(this.forOf.iterable, s.scope, this.ys, null);\n            this.ds = false;\n            return;\n        }\n        this.Cs();\n        this.As(t, e);\n    }\n    As(t, e) {\n        const s = this.views;\n        this.rs = s.slice();\n        const i = s.length;\n        const n = this.key;\n        const r = n !== null;\n        if (r || e === void 0) {\n            const t = this.local;\n            const l = this.ps;\n            const a = l.length;\n            const h = this.forOf;\n            const c = h.declaration;\n            const u = this.ys;\n            const f = this.xs;\n            e = (0,_aurelia_runtime__WEBPACK_IMPORTED_MODULE_2__.createIndexMap)(a);\n            let d = 0;\n            if (i === 0) {\n                for (;d < a; ++d) {\n                    e[d] = -2;\n                }\n            } else if (a === 0) {\n                if (f) {\n                    for (d = 0; d < i; ++d) {\n                        e.deletedIndices.push(d);\n                        e.deletedItems.push(ae(c, s[d].scope, u, null));\n                    }\n                } else {\n                    for (d = 0; d < i; ++d) {\n                        e.deletedIndices.push(d);\n                        e.deletedItems.push(s[d].scope.bindingContext[t]);\n                    }\n                }\n            } else {\n                const m = Array(i);\n                if (f) {\n                    for (d = 0; d < i; ++d) {\n                        m[d] = ae(c, s[d].scope, u, null);\n                    }\n                } else {\n                    for (d = 0; d < i; ++d) {\n                        m[d] = s[d].scope.bindingContext[t];\n                    }\n                }\n                let g;\n                let p;\n                let v;\n                let x;\n                let b = 0;\n                const w = i - 1;\n                const y = a - 1;\n                const k = new Map;\n                const C = new Map;\n                const B = this.os;\n                const S = this.ls;\n                const A = this.$controller.scope;\n                d = 0;\n                t: {\n                    while (true) {\n                        if (r) {\n                            g = m[d];\n                            p = l[d];\n                            v = getKeyValue(B, n, g, getScope(S, g, h, A, u, t, f), u);\n                            x = getKeyValue(B, n, p, getScope(S, p, h, A, u, t, f), u);\n                        } else {\n                            g = v = ensureUnique(m[d], d);\n                            p = x = ensureUnique(l[d], d);\n                        }\n                        if (v !== x) {\n                            B.set(g, v);\n                            B.set(p, x);\n                            break;\n                        }\n                        ++d;\n                        if (d > w || d > y) {\n                            break t;\n                        }\n                    }\n                    if (w !== y) {\n                        break t;\n                    }\n                    b = y;\n                    while (true) {\n                        if (r) {\n                            g = m[b];\n                            p = l[b];\n                            v = getKeyValue(B, n, g, getScope(S, g, h, A, u, t, f), u);\n                            x = getKeyValue(B, n, p, getScope(S, p, h, A, u, t, f), u);\n                        } else {\n                            g = v = ensureUnique(m[d], d);\n                            p = x = ensureUnique(l[d], d);\n                        }\n                        if (v !== x) {\n                            B.set(g, v);\n                            B.set(p, x);\n                            break;\n                        }\n                        --b;\n                        if (d > b) {\n                            break t;\n                        }\n                    }\n                }\n                const E = d;\n                const R = d;\n                for (d = R; d <= y; ++d) {\n                    if (B.has(p = r ? l[d] : ensureUnique(l[d], d))) {\n                        x = B.get(p);\n                    } else {\n                        x = r ? getKeyValue(B, n, p, getScope(S, p, h, A, u, t, f), u) : p;\n                        B.set(p, x);\n                    }\n                    C.set(x, d);\n                }\n                for (d = E; d <= w; ++d) {\n                    if (B.has(g = r ? m[d] : ensureUnique(m[d], d))) {\n                        v = B.get(g);\n                    } else {\n                        v = r ? getKeyValue(B, n, g, s[d].scope, u) : g;\n                    }\n                    k.set(v, d);\n                    if (C.has(v)) {\n                        e[C.get(v)] = d;\n                    } else {\n                        e.deletedIndices.push(d);\n                        e.deletedItems.push(g);\n                    }\n                }\n                for (d = R; d <= y; ++d) {\n                    if (!k.has(B.get(r ? l[d] : ensureUnique(l[d], d)))) {\n                        e[d] = -2;\n                    }\n                }\n                k.clear();\n                C.clear();\n            }\n        }\n        if (e === void 0) {\n            const t = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)(this.Ss(null), (() => this.Bs(null, this.ps ?? _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.emptyArray)));\n            if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isPromise)(t)) {\n                t.catch(rethrow);\n            }\n        } else {\n            if (e.deletedIndices.length > 0) {\n                const t = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)(this.Es(e), (() => this.Rs(i, e)));\n                if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isPromise)(t)) {\n                    t.catch(rethrow);\n                }\n            } else {\n                this.Rs(i, e);\n            }\n        }\n    }\n    ks() {\n        const t = this.$controller.scope;\n        let e = this.Ts;\n        let s = this.us;\n        let i;\n        if (s) {\n            e = this.Ts = ae(this.gs, t, this.ys, null) ?? null;\n            s = this.us = !(0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.areEqual)(this.items, e);\n        }\n        const n = this.cs;\n        if (this.$controller.isActive) {\n            const t = s ? e : this.items;\n            i = this.cs = this.ws.resolve(t).getObserver?.(t);\n            if (n !== i) {\n                n?.unsubscribe(this);\n                i?.subscribe(this);\n            }\n        } else {\n            n?.unsubscribe(this);\n            this.cs = undefined;\n        }\n    }\n    Cs() {\n        const t = this.items;\n        if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isArray)(t)) {\n            this.ps = t.slice(0);\n            return;\n        }\n        const e = [];\n        this.ws.resolve(t).iterate(t, ((t, s) => {\n            e[s] = t;\n        }));\n        this.ps = e;\n    }\n    Bs(t, e) {\n        let s = void 0;\n        let i;\n        let n;\n        let r;\n        const {$controller: l, f: a, local: h, l: c, ls: u, ys: f, forOf: d, xs: m} = this;\n        const g = l.scope;\n        const p = e.length;\n        const v = this.views = Array(p);\n        e.forEach(((e, x) => {\n            n = v[x] = a.create().setLocation(c);\n            n.nodes.unlink();\n            r = getScope(u, e, d, g, f, h, m);\n            setContextualProperties(r.overrideContext, x, p);\n            i = n.activate(t ?? n, l, r);\n            if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isPromise)(i)) {\n                (s ??= []).push(i);\n            }\n        }));\n        if (s !== void 0) {\n            return s.length === 1 ? s[0] : Promise.all(s);\n        }\n    }\n    Ss(t) {\n        let e = void 0;\n        let s;\n        let i;\n        let n = 0;\n        const {views: r, $controller: l} = this;\n        const a = r.length;\n        for (;a > n; ++n) {\n            i = r[n];\n            i.release();\n            s = i.deactivate(t ?? i, l);\n            if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isPromise)(s)) {\n                (e ?? (e = [])).push(s);\n            }\n        }\n        if (e !== void 0) {\n            return e.length === 1 ? e[0] : Promise.all(e);\n        }\n    }\n    Es(t) {\n        let e = void 0;\n        let s;\n        let i;\n        const {$controller: n, views: r} = this;\n        const l = t.deletedIndices.slice().sort(compareNumber);\n        const a = l.length;\n        let h = 0;\n        for (;a > h; ++h) {\n            i = r[l[h]];\n            i.release();\n            s = i.deactivate(i, n);\n            if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isPromise)(s)) {\n                (e ?? (e = [])).push(s);\n            }\n        }\n        h = 0;\n        for (;a > h; ++h) {\n            r.splice(l[h] - h, 1);\n        }\n        if (e !== void 0) {\n            return e.length === 1 ? e[0] : Promise.all(e);\n        }\n    }\n    Rs(t, e) {\n        let s = void 0;\n        let i;\n        let n;\n        let r;\n        let l = 0;\n        const {$controller: a, f: h, local: c, ps: u, l: f, views: d, xs: m, ys: g, ls: p, rs: v, forOf: x} = this;\n        const b = e.length;\n        for (;b > l; ++l) {\n            if (e[l] === -2) {\n                n = h.create();\n                d.splice(l, 0, n);\n            }\n        }\n        if (d.length !== b) {\n            throw createMappedError(814, [ d.length, b ]);\n        }\n        const w = a.scope;\n        const y = e.length;\n        let k = 0;\n        l = 0;\n        for (;l < e.length; ++l) {\n            if ((k = e[l]) !== -2) {\n                d[l] = v[k];\n            }\n        }\n        const C = longestIncreasingSubsequence(e);\n        const B = C.length;\n        const S = x.declaration;\n        let A;\n        let E = B - 1;\n        l = y - 1;\n        for (;l >= 0; --l) {\n            n = d[l];\n            A = d[l + 1];\n            n.nodes.link(A?.nodes ?? f);\n            if (e[l] === -2) {\n                r = getScope(p, u[l], x, w, g, c, m);\n                setContextualProperties(r.overrideContext, l, y);\n                n.setLocation(f);\n                i = n.activate(n, a, r);\n                if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isPromise)(i)) {\n                    (s ?? (s = [])).push(i);\n                }\n            } else if (E < 0 || B === 1 || l !== C[E]) {\n                if (m) {\n                    le(S, n.scope, g, u[l]);\n                } else {\n                    n.scope.bindingContext[c] = u[l];\n                }\n                setContextualProperties(n.scope.overrideContext, l, y);\n                n.nodes.insertBefore(n.location);\n            } else {\n                if (m) {\n                    le(S, n.scope, g, u[l]);\n                } else {\n                    n.scope.bindingContext[c] = u[l];\n                }\n                if (t !== y) {\n                    setContextualProperties(n.scope.overrideContext, l, y);\n                }\n                --E;\n            }\n        }\n        if (s !== void 0) {\n            return s.length === 1 ? s[0] : Promise.all(s);\n        }\n    }\n    dispose() {\n        this.views.forEach(dispose);\n        this.views = void 0;\n    }\n    accept(t) {\n        const {views: e} = this;\n        if (e !== void 0) {\n            for (let s = 0, i = e.length; s < i; ++s) {\n                if (e[s].accept(t) === true) {\n                    return true;\n                }\n            }\n        }\n    }\n}\n\nRepeat.$au = {\n    type: je,\n    name: \"repeat\",\n    isTemplateController: true,\n    bindables: [ \"items\" ]\n};\n\nlet Ji = 16;\n\nlet tn = new Int32Array(Ji);\n\nlet en = new Int32Array(Ji);\n\nfunction longestIncreasingSubsequence(t) {\n    const e = t.length;\n    if (e > Ji) {\n        Ji = e;\n        tn = new Int32Array(e);\n        en = new Int32Array(e);\n    }\n    let s = 0;\n    let i = 0;\n    let n = 0;\n    let r = 0;\n    let l = 0;\n    let a = 0;\n    let h = 0;\n    let c = 0;\n    for (;r < e; r++) {\n        i = t[r];\n        if (i !== -2) {\n            l = tn[s];\n            n = t[l];\n            if (n !== -2 && n < i) {\n                en[r] = l;\n                tn[++s] = r;\n                continue;\n            }\n            a = 0;\n            h = s;\n            while (a < h) {\n                c = a + h >> 1;\n                n = t[tn[c]];\n                if (n !== -2 && n < i) {\n                    a = c + 1;\n                } else {\n                    h = c;\n                }\n            }\n            n = t[tn[a]];\n            if (i < n || n === -2) {\n                if (a > 0) {\n                    en[r] = tn[a - 1];\n                }\n                tn[a] = r;\n            }\n        }\n    }\n    r = ++s;\n    const u = new Int32Array(r);\n    i = tn[s - 1];\n    while (s-- > 0) {\n        u[s] = i;\n        i = en[i];\n    }\n    while (r-- > 0) tn[r] = 0;\n    return u;\n}\n\nconst setContextualProperties = (t, e, s) => {\n    const i = e === 0;\n    const n = e === s - 1;\n    const r = e % 2 === 0;\n    t.$index = e;\n    t.$first = i;\n    t.$last = n;\n    t.$middle = !i && !n;\n    t.$even = r;\n    t.$odd = !r;\n    t.$length = s;\n};\n\nconst sn = /*@__PURE__*/ Be(\"IRepeatableHandlerResolver\", (t => t.singleton(RepeatableHandlerResolver)));\n\nclass RepeatableHandlerResolver {\n    constructor() {\n        this.Ls = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.all)(nn));\n    }\n    resolve(t) {\n        if (rn.handles(t)) {\n            return rn;\n        }\n        if (on.handles(t)) {\n            return on;\n        }\n        if (ln.handles(t)) {\n            return ln;\n        }\n        if (an.handles(t)) {\n            return an;\n        }\n        if (hn.handles(t)) {\n            return hn;\n        }\n        const e = this.Ls.find((e => e.handles(t)));\n        if (e !== void 0) {\n            return e;\n        }\n        return cn;\n    }\n}\n\nclass ArrayLikeHandler {\n    static register(t) {\n        t.register(Se(nn, this));\n    }\n    handles(t) {\n        return \"length\" in t && (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isNumber)(t.length);\n    }\n    iterate(t, e) {\n        for (let s = 0, i = t.length; s < i; ++s) {\n            e(t[s], s, t);\n        }\n    }\n}\n\nconst nn = /*@__PURE__*/ Be(\"IRepeatableHandler\");\n\nconst rn = {\n    handles: _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isArray,\n    getObserver: _aurelia_runtime__WEBPACK_IMPORTED_MODULE_2__.getCollectionObserver,\n    iterate(t, e) {\n        const s = t.length;\n        let i = 0;\n        for (;i < s; ++i) {\n            e(t[i], i, t);\n        }\n    }\n};\n\nconst on = {\n    handles: _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isSet,\n    getObserver: _aurelia_runtime__WEBPACK_IMPORTED_MODULE_2__.getCollectionObserver,\n    iterate(t, e) {\n        let s = 0;\n        let i;\n        for (i of t.keys()) {\n            e(i, s++, t);\n        }\n    }\n};\n\nconst ln = {\n    handles: _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isMap,\n    getObserver: _aurelia_runtime__WEBPACK_IMPORTED_MODULE_2__.getCollectionObserver,\n    iterate(t, e) {\n        let s = 0;\n        let i;\n        for (i of t.entries()) {\n            e(i, s++, t);\n        }\n    }\n};\n\nconst an = {\n    handles: _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isNumber,\n    iterate(t, e) {\n        let s = 0;\n        for (;s < t; ++s) {\n            e(s, s, t);\n        }\n    }\n};\n\nconst hn = {\n    handles: t => t == null,\n    iterate() {}\n};\n\nconst cn = {\n    handles(t) {\n        return false;\n    },\n    iterate(t, e) {\n        throw createMappedError(777, t);\n    }\n};\n\nconst getKeyValue = (t, e, s, i, n) => {\n    let r = t.get(s);\n    if (r === void 0) {\n        if (typeof e === \"string\") {\n            r = s[e];\n        } else {\n            r = ae(e, i, n, null);\n        }\n        t.set(s, r);\n    }\n    return r;\n};\n\nconst getScope = (t, e, s, i, n, r, l) => {\n    let a = t.get(e);\n    if (a === void 0) {\n        if (l) {\n            le(s.declaration, a = Scope.fromParent(i, new BindingContext), n, e);\n        } else {\n            a = Scope.fromParent(i, new BindingContext(r, e));\n        }\n        t.set(e, a);\n    }\n    return a;\n};\n\nconst ensureUnique = (t, e) => {\n    const s = typeof t;\n    switch (s) {\n      case \"object\":\n        if (t !== null) return t;\n\n      case \"string\":\n      case \"number\":\n      case \"bigint\":\n      case \"undefined\":\n      case \"boolean\":\n        return `${e}${s}${t}`;\n\n      default:\n        return t;\n    }\n};\n\nconst compareNumber = (t, e) => t - e;\n\nclass With {\n    constructor() {\n        this.view = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(us).create().setLocation((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(Ri));\n    }\n    valueChanged(t, e) {\n        const s = this.$controller;\n        const i = this.view.bindings;\n        let n;\n        let r = 0, l = 0;\n        if (s.isActive && i != null) {\n            n = Scope.fromParent(s.scope, t === void 0 ? {} : t);\n            for (l = i.length; l > r; ++r) {\n                i[r].bind(n);\n            }\n        }\n    }\n    attaching(t, e) {\n        const {$controller: s, value: i} = this;\n        const n = Scope.fromParent(s.scope, i === void 0 ? {} : i);\n        return this.view.activate(t, s, n);\n    }\n    detaching(t, e) {\n        return this.view.deactivate(t, this.$controller);\n    }\n    dispose() {\n        this.view.dispose();\n        this.view = void 0;\n    }\n    accept(t) {\n        if (this.view?.accept(t) === true) {\n            return true;\n        }\n    }\n}\n\nWith.$au = {\n    type: je,\n    name: \"with\",\n    isTemplateController: true,\n    bindables: [ \"value\" ]\n};\n\nclass Switch {\n    constructor() {\n        this.cases = [];\n        this.activeCases = [];\n        this.promise = void 0;\n        this.f = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(us);\n        this.l = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(Ri);\n    }\n    link(t, e, s, i) {\n        this.view = this.f.create(this.$controller).setLocation(this.l);\n    }\n    attaching(t, e) {\n        const s = this.view;\n        const i = this.$controller;\n        this.queue((() => s.activate(t, i, i.scope)));\n        this.queue((() => this.swap(t, this.value)));\n        return this.promise;\n    }\n    detaching(t, e) {\n        this.queue((() => {\n            const e = this.view;\n            return e.deactivate(t, this.$controller);\n        }));\n        return this.promise;\n    }\n    dispose() {\n        this.view?.dispose();\n        this.view = void 0;\n    }\n    valueChanged(t, e) {\n        if (!this.$controller.isActive) {\n            return;\n        }\n        this.queue((() => this.swap(null, this.value)));\n    }\n    caseChanged(t) {\n        this.queue((() => this.Ms(t)));\n    }\n    Ms(t) {\n        const e = t.isMatch(this.value);\n        const s = this.activeCases;\n        const i = s.length;\n        if (!e) {\n            if (i > 0 && s[0].id === t.id) {\n                return this.Ds(null);\n            }\n            return;\n        }\n        if (i > 0 && s[0].id < t.id) {\n            return;\n        }\n        const n = [];\n        let r = t.fallThrough;\n        if (!r) {\n            n.push(t);\n        } else {\n            const e = this.cases;\n            const s = e.indexOf(t);\n            for (let t = s, i = e.length; t < i && r; t++) {\n                const s = e[t];\n                n.push(s);\n                r = s.fallThrough;\n            }\n        }\n        return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)(this.Ds(null, n), (() => {\n            this.activeCases = n;\n            return this.Is(null);\n        }));\n    }\n    swap(t, e) {\n        const s = [];\n        let i = false;\n        for (const t of this.cases) {\n            if (i || t.isMatch(e)) {\n                s.push(t);\n                i = t.fallThrough;\n            }\n            if (s.length > 0 && !i) {\n                break;\n            }\n        }\n        const n = this.defaultCase;\n        if (s.length === 0 && n !== void 0) {\n            s.push(n);\n        }\n        return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)(this.activeCases.length > 0 ? this.Ds(t, s) : void 0, (() => {\n            this.activeCases = s;\n            if (s.length === 0) {\n                return;\n            }\n            return this.Is(t);\n        }));\n    }\n    Is(t) {\n        const e = this.$controller;\n        if (!e.isActive) {\n            return;\n        }\n        const s = this.activeCases;\n        const i = s.length;\n        if (i === 0) {\n            return;\n        }\n        const n = e.scope;\n        if (i === 1) {\n            return s[0].activate(t, n);\n        }\n        return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolveAll)(...s.map((e => e.activate(t, n))));\n    }\n    Ds(t, e = []) {\n        const s = this.activeCases;\n        const i = s.length;\n        if (i === 0) {\n            return;\n        }\n        if (i === 1) {\n            const i = s[0];\n            if (!e.includes(i)) {\n                s.length = 0;\n                return i.deactivate(t);\n            }\n            return;\n        }\n        return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolveAll)(...s.reduce(((s, i) => {\n            if (!e.includes(i)) {\n                s.push(i.deactivate(t));\n            }\n            return s;\n        }), [])), (() => {\n            s.length = 0;\n        }));\n    }\n    queue(t) {\n        const e = this.promise;\n        let s = void 0;\n        s = this.promise = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)(e, t), (() => {\n            if (this.promise === s) {\n                this.promise = void 0;\n            }\n        }));\n    }\n    accept(t) {\n        if (this.$controller.accept(t) === true) {\n            return true;\n        }\n        if (this.activeCases.some((e => e.accept(t)))) {\n            return true;\n        }\n    }\n}\n\nSwitch.$au = {\n    type: je,\n    name: \"switch\",\n    isTemplateController: true,\n    bindables: [ \"value\" ]\n};\n\nlet un = 0;\n\nconst dn = [ \"value\", {\n    name: \"fallThrough\",\n    mode: fe,\n    set(t) {\n        switch (t) {\n          case \"true\":\n            return true;\n\n          case \"false\":\n            return false;\n\n          default:\n            return !!t;\n        }\n    }\n} ];\n\nclass Case {\n    constructor() {\n        this.id = ++un;\n        this.fallThrough = false;\n        this.view = void 0;\n        this.f = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(us);\n        this.Ue = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(_aurelia_runtime__WEBPACK_IMPORTED_MODULE_2__.IObserverLocator);\n        this.l = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(Ri);\n        this.Ps = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.ILogger).scopeTo(`${this.constructor.name}-#${this.id}`);\n    }\n    link(t, e, s, i) {\n        const n = t.parent;\n        const r = n?.viewModel;\n        if (r instanceof Switch) {\n            this.$switch = r;\n            this.linkToSwitch(r);\n        } else {\n            throw createMappedError(815);\n        }\n    }\n    detaching(t, e) {\n        return this.deactivate(t);\n    }\n    isMatch(t) {\n        this.Ps.debug(\"isMatch()\");\n        const e = this.value;\n        if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isArray)(e)) {\n            if (this.cs === void 0) {\n                this.cs = this.qs(e);\n            }\n            return e.includes(t);\n        }\n        return e === t;\n    }\n    valueChanged(t, e) {\n        if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isArray)(t)) {\n            this.cs?.unsubscribe(this);\n            this.cs = this.qs(t);\n        } else if (this.cs !== void 0) {\n            this.cs.unsubscribe(this);\n        }\n        this.$switch.caseChanged(this);\n    }\n    handleCollectionChange() {\n        this.$switch.caseChanged(this);\n    }\n    activate(t, e) {\n        let s = this.view;\n        if (s === void 0) {\n            s = this.view = this.f.create().setLocation(this.l);\n        }\n        if (s.isActive) {\n            return;\n        }\n        return s.activate(t ?? s, this.$controller, e);\n    }\n    deactivate(t) {\n        const e = this.view;\n        if (e === void 0 || !e.isActive) {\n            return;\n        }\n        return e.deactivate(t ?? e, this.$controller);\n    }\n    dispose() {\n        this.cs?.unsubscribe(this);\n        this.view?.dispose();\n        this.view = void 0;\n    }\n    linkToSwitch(t) {\n        t.cases.push(this);\n    }\n    qs(t) {\n        const e = this.Ue.getArrayObserver(t);\n        e.subscribe(this);\n        return e;\n    }\n    accept(t) {\n        if (this.$controller.accept(t) === true) {\n            return true;\n        }\n        return this.view?.accept(t);\n    }\n}\n\n(() => {\n    defineAttribute({\n        name: \"case\",\n        bindables: dn,\n        isTemplateController: true\n    }, Case);\n})();\n\nclass DefaultCase extends Case {\n    linkToSwitch(t) {\n        if (t.defaultCase !== void 0) {\n            throw createMappedError(816);\n        }\n        t.defaultCase = this;\n    }\n}\n\n(() => {\n    defineAttribute({\n        name: \"default-case\",\n        bindables: dn,\n        isTemplateController: true\n    }, DefaultCase);\n})();\n\nvar mn, gn, pn;\n\nclass PromiseTemplateController {\n    constructor() {\n        this.preSettledTask = null;\n        this.postSettledTask = null;\n        this.f = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(us);\n        this.l = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(Ri);\n        this.p = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)($e);\n        this.logger = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.ILogger).scopeTo(\"promise.resolve\");\n    }\n    link(t, e, s, i) {\n        this.view = this.f.create(this.$controller).setLocation(this.l);\n    }\n    attaching(t, e) {\n        const s = this.view;\n        const i = this.$controller;\n        return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)(s.activate(t, i, this.viewScope = Scope.fromParent(i.scope, {})), (() => this.swap(t)));\n    }\n    valueChanged(t, e) {\n        if (!this.$controller.isActive) {\n            return;\n        }\n        this.swap(null);\n    }\n    swap(t) {\n        const e = this.value;\n        if (!(0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isPromise)(e)) {\n            return;\n        }\n        const s = this.p.domQueue;\n        const i = this.fulfilled;\n        const n = this.rejected;\n        const r = this.pending;\n        const l = this.viewScope;\n        let a;\n        const $swap = () => {\n            void (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolveAll)(a = (this.preSettledTask = s.queueTask((() => (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolveAll)(i?.deactivate(t), n?.deactivate(t), r?.activate(t, l))))).result.catch((t => {\n                if (!(t instanceof _aurelia_platform__WEBPACK_IMPORTED_MODULE_6__.TaskAbortError)) throw t;\n            })), e.then((h => {\n                if (this.value !== e) {\n                    return;\n                }\n                const fulfill = () => {\n                    this.postSettlePromise = (this.postSettledTask = s.queueTask((() => (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolveAll)(r?.deactivate(t), n?.deactivate(t), i?.activate(t, l, h))))).result;\n                };\n                if (this.preSettledTask.status === ie) {\n                    void a.then(fulfill);\n                } else {\n                    this.preSettledTask.cancel();\n                    fulfill();\n                }\n            }), (h => {\n                if (this.value !== e) {\n                    return;\n                }\n                const reject = () => {\n                    this.postSettlePromise = (this.postSettledTask = s.queueTask((() => (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolveAll)(r?.deactivate(t), i?.deactivate(t), n?.activate(t, l, h))))).result;\n                };\n                if (this.preSettledTask.status === ie) {\n                    void a.then(reject);\n                } else {\n                    this.preSettledTask.cancel();\n                    reject();\n                }\n            })));\n        };\n        if (this.postSettledTask?.status === ie) {\n            void this.postSettlePromise.then($swap);\n        } else {\n            this.postSettledTask?.cancel();\n            $swap();\n        }\n    }\n    detaching(t, e) {\n        this.preSettledTask?.cancel();\n        this.postSettledTask?.cancel();\n        this.preSettledTask = this.postSettledTask = null;\n        return this.view.deactivate(t, this.$controller);\n    }\n    dispose() {\n        this.view?.dispose();\n        this.view = void 0;\n    }\n}\n\nPromiseTemplateController.$au = {\n    type: je,\n    name: \"promise\",\n    isTemplateController: true,\n    bindables: [ \"value\" ]\n};\n\nclass PendingTemplateController {\n    constructor() {\n        this.view = void 0;\n        this.f = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(us);\n        this.l = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(Ri);\n    }\n    link(t, e, s, i) {\n        getPromiseController(t).pending = this;\n    }\n    activate(t, e) {\n        let s = this.view;\n        if (s === void 0) {\n            s = this.view = this.f.create().setLocation(this.l);\n        }\n        if (s.isActive) {\n            return;\n        }\n        return s.activate(s, this.$controller, e);\n    }\n    deactivate(t) {\n        const e = this.view;\n        if (e === void 0 || !e.isActive) {\n            return;\n        }\n        return e.deactivate(e, this.$controller);\n    }\n    detaching(t) {\n        return this.deactivate(t);\n    }\n    dispose() {\n        this.view?.dispose();\n        this.view = void 0;\n    }\n}\n\nPendingTemplateController.$au = {\n    type: je,\n    name: \"pending\",\n    isTemplateController: true,\n    bindables: {\n        value: {\n            mode: de\n        }\n    }\n};\n\nclass FulfilledTemplateController {\n    constructor() {\n        this.view = void 0;\n        this.f = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(us);\n        this.l = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(Ri);\n    }\n    link(t, e, s, i) {\n        getPromiseController(t).fulfilled = this;\n    }\n    activate(t, e, s) {\n        this.value = s;\n        let i = this.view;\n        if (i === void 0) {\n            i = this.view = this.f.create().setLocation(this.l);\n        }\n        if (i.isActive) {\n            return;\n        }\n        return i.activate(i, this.$controller, e);\n    }\n    deactivate(t) {\n        const e = this.view;\n        if (e === void 0 || !e.isActive) {\n            return;\n        }\n        return e.deactivate(e, this.$controller);\n    }\n    detaching(t, e) {\n        return this.deactivate(t);\n    }\n    dispose() {\n        this.view?.dispose();\n        this.view = void 0;\n    }\n}\n\nFulfilledTemplateController.$au = {\n    type: je,\n    name: \"then\",\n    isTemplateController: true,\n    bindables: {\n        value: {\n            mode: me\n        }\n    }\n};\n\nclass RejectedTemplateController {\n    constructor() {\n        this.view = void 0;\n        this.f = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(us);\n        this.l = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(Ri);\n    }\n    link(t, e, s, i) {\n        getPromiseController(t).rejected = this;\n    }\n    activate(t, e, s) {\n        this.value = s;\n        let i = this.view;\n        if (i === void 0) {\n            i = this.view = this.f.create().setLocation(this.l);\n        }\n        if (i.isActive) {\n            return;\n        }\n        return i.activate(i, this.$controller, e);\n    }\n    deactivate(t) {\n        const e = this.view;\n        if (e === void 0 || !e.isActive) {\n            return;\n        }\n        return e.deactivate(e, this.$controller);\n    }\n    detaching(t, e) {\n        return this.deactivate(t);\n    }\n    dispose() {\n        this.view?.dispose();\n        this.view = void 0;\n    }\n}\n\nRejectedTemplateController.$au = {\n    type: je,\n    name: \"catch\",\n    isTemplateController: true,\n    bindables: {\n        value: {\n            mode: me\n        }\n    }\n};\n\nfunction getPromiseController(t) {\n    const e = t.parent;\n    const s = e?.viewModel;\n    if (s instanceof PromiseTemplateController) {\n        return s;\n    }\n    throw createMappedError(813);\n}\n\nclass PromiseAttributePattern {\n    \"promise.resolve\"(t, e) {\n        return new _aurelia_template_compiler__WEBPACK_IMPORTED_MODULE_3__.AttrSyntax(t, e, \"promise\", \"bind\");\n    }\n}\n\nmn = Symbol.metadata;\n\nPromiseAttributePattern[mn] = {\n    [_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.registrableMetadataKey]: _aurelia_template_compiler__WEBPACK_IMPORTED_MODULE_3__.AttributePattern.create([ {\n        pattern: \"promise.resolve\",\n        symbols: \"\"\n    } ], PromiseAttributePattern)\n};\n\nclass FulfilledAttributePattern {\n    then(t, e) {\n        return new _aurelia_template_compiler__WEBPACK_IMPORTED_MODULE_3__.AttrSyntax(t, e, \"then\", \"from-view\");\n    }\n}\n\ngn = Symbol.metadata;\n\nFulfilledAttributePattern[gn] = {\n    [_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.registrableMetadataKey]: _aurelia_template_compiler__WEBPACK_IMPORTED_MODULE_3__.AttributePattern.create([ {\n        pattern: \"then\",\n        symbols: \"\"\n    } ], FulfilledAttributePattern)\n};\n\nclass RejectedAttributePattern {\n    catch(t, e) {\n        return new _aurelia_template_compiler__WEBPACK_IMPORTED_MODULE_3__.AttrSyntax(t, e, \"catch\", \"from-view\");\n    }\n}\n\npn = Symbol.metadata;\n\nRejectedAttributePattern[pn] = {\n    [_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.registrableMetadataKey]: _aurelia_template_compiler__WEBPACK_IMPORTED_MODULE_3__.AttributePattern.create([ {\n        pattern: \"catch\",\n        symbols: \"\"\n    } ], RejectedAttributePattern)\n};\n\nclass Focus {\n    constructor() {\n        this._s = false;\n        this.Re = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(Ai);\n        this.p = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)($e);\n    }\n    binding() {\n        this.valueChanged();\n    }\n    valueChanged() {\n        if (this.$controller.isActive) {\n            this.Os();\n        } else {\n            this._s = true;\n        }\n    }\n    attached() {\n        if (this._s) {\n            this._s = false;\n            this.Os();\n        }\n        this.Re.addEventListener(\"focus\", this);\n        this.Re.addEventListener(\"blur\", this);\n    }\n    detaching() {\n        const t = this.Re;\n        t.removeEventListener(\"focus\", this);\n        t.removeEventListener(\"blur\", this);\n    }\n    handleEvent(t) {\n        if (t.type === \"focus\") {\n            this.value = true;\n        } else if (!this.Fs) {\n            this.value = false;\n        }\n    }\n    Os() {\n        const t = this.Re;\n        const e = this.Fs;\n        const s = this.value;\n        if (s && !e) {\n            t.focus();\n        } else if (!s && e) {\n            t.blur();\n        }\n    }\n    get Fs() {\n        return this.Re === this.p.document.activeElement;\n    }\n}\n\nFocus.$au = {\n    type: je,\n    name: \"focus\",\n    bindables: {\n        value: {\n            mode: ge\n        }\n    }\n};\n\nclass Portal {\n    constructor() {\n        this.position = \"beforeend\";\n        this.strict = false;\n        const t = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(us);\n        const e = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(Ri);\n        const s = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)($e);\n        this.p = s;\n        this.Vs = s.document.createElement(\"div\");\n        (this.view = t.create()).setLocation(this.Hs = fs(s));\n        setEffectiveParentNode(this.view.nodes, e);\n    }\n    attaching(t) {\n        if (this.callbackContext == null) {\n            this.callbackContext = this.$controller.scope.bindingContext;\n        }\n        const e = this.Vs = this.$s();\n        this.Ns(e, this.position);\n        return this.js(t, e);\n    }\n    detaching(t) {\n        return this.Ws(t, this.Vs);\n    }\n    targetChanged() {\n        const {$controller: t} = this;\n        if (!t.isActive) {\n            return;\n        }\n        const e = this.$s();\n        if (this.Vs === e) {\n            return;\n        }\n        this.Vs = e;\n        const s = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)(this.Ws(null, e), (() => {\n            this.Ns(e, this.position);\n            return this.js(null, e);\n        }));\n        if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isPromise)(s)) {\n            s.catch(rethrow);\n        }\n    }\n    positionChanged() {\n        const {$controller: t, Vs: e} = this;\n        if (!t.isActive) {\n            return;\n        }\n        const s = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)(this.Ws(null, e), (() => {\n            this.Ns(e, this.position);\n            return this.js(null, e);\n        }));\n        if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isPromise)(s)) {\n            s.catch(rethrow);\n        }\n    }\n    js(t, e) {\n        const {activating: s, callbackContext: i, view: n} = this;\n        return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)(s?.call(i, e, n), (() => this.zs(t, e)));\n    }\n    zs(t, e) {\n        const {$controller: s, view: i} = this;\n        if (t === null) {\n            i.nodes.insertBefore(this.Hs);\n        } else {\n            return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)(i.activate(t ?? i, s, s.scope), (() => this.Us(e)));\n        }\n        return this.Us(e);\n    }\n    Us(t) {\n        const {activated: e, callbackContext: s, view: i} = this;\n        return e?.call(s, t, i);\n    }\n    Ws(t, e) {\n        const {deactivating: s, callbackContext: i, view: n} = this;\n        return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)(s?.call(i, e, n), (() => this.Gs(t, e)));\n    }\n    Gs(t, e) {\n        const {$controller: s, view: i} = this;\n        if (t === null) {\n            i.nodes.remove();\n        } else {\n            return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)(i.deactivate(t, s), (() => this.Ks(e)));\n        }\n        return this.Ks(e);\n    }\n    Ks(t) {\n        const {deactivated: e, callbackContext: s, view: i} = this;\n        return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)(e?.call(s, t, i), (() => this.Xs()));\n    }\n    $s() {\n        const t = this.p;\n        const e = t.document;\n        let s = this.target;\n        let n = this.renderContext;\n        if (s === \"\") {\n            if (this.strict) {\n                throw createMappedError(811);\n            }\n            return e.body;\n        }\n        if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isString)(s)) {\n            let r = e;\n            if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isString)(n)) {\n                n = e.querySelector(n);\n            }\n            if (n instanceof t.Node) {\n                r = n;\n            }\n            s = r.querySelector(s);\n        }\n        if (s instanceof t.Node) {\n            return s;\n        }\n        if (s == null) {\n            if (this.strict) {\n                throw createMappedError(812);\n            }\n            return e.body;\n        }\n        return s;\n    }\n    Xs() {\n        this.Hs.remove();\n        this.Hs.$start.remove();\n    }\n    Ns(t, e) {\n        const s = this.Hs;\n        const i = s.$start;\n        const n = t.parentNode;\n        const r = [ i, s ];\n        switch (e) {\n          case \"beforeend\":\n            insertManyBefore(t, null, r);\n            break;\n\n          case \"afterbegin\":\n            insertManyBefore(t, t.firstChild, r);\n            break;\n\n          case \"beforebegin\":\n            insertManyBefore(n, t, r);\n            break;\n\n          case \"afterend\":\n            insertManyBefore(n, t.nextSibling, r);\n            break;\n\n          default:\n            throw createMappedError(779, e);\n        }\n    }\n    dispose() {\n        this.view.dispose();\n        this.view = void 0;\n        this.callbackContext = null;\n    }\n    accept(t) {\n        if (this.view?.accept(t) === true) {\n            return true;\n        }\n    }\n}\n\nPortal.$au = {\n    type: je,\n    name: \"portal\",\n    isTemplateController: true,\n    bindables: [ {\n        name: \"target\",\n        primary: true\n    }, \"position\", \"activated\", \"activating\", \"callbackContext\", {\n        name: \"renderContext\",\n        callback: \"targetChanged\"\n    }, \"strict\", \"deactivated\", \"deactivating\" ]\n};\n\nlet vn;\n\nclass AuSlot {\n    constructor() {\n        this.Qs = null;\n        this.Ys = null;\n        this.Zt = false;\n        this.expose = null;\n        this.slotchange = null;\n        this.Zs = new Set;\n        this.cs = null;\n        const t = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(ki);\n        const e = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(Ri);\n        const s = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(_aurelia_template_compiler__WEBPACK_IMPORTED_MODULE_3__.IInstruction);\n        const i = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(zs);\n        const n = this.name = s.data.name;\n        const r = s.projections?.[ds];\n        const l = t.instruction?.projections?.[n];\n        const a = t.controller.container;\n        let h;\n        let c;\n        if (l == null) {\n            c = a.createChild({\n                inheritParentResources: true\n            });\n            h = i.getViewFactory(r ?? (vn ??= CustomElementDefinition.create({\n                name: \"au-slot-empty-template\",\n                template: \"\",\n                needsCompile: false\n            })), c);\n            this.Js = false;\n        } else {\n            c = a.createChild();\n            c.useResources(t.parent.controller.container);\n            registerResolver(c, ki, new _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.InstanceProvider(void 0, t.parent));\n            h = i.getViewFactory(l, c);\n            this.Js = true;\n            this.ti = a.getAll(ps, false)?.filter((t => t.slotName === \"*\" || t.slotName === n)) ?? _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.emptyArray;\n        }\n        this.ei = (this.ti ??= _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.emptyArray).length > 0;\n        this.si = t;\n        this.view = h.create().setLocation(this.l = e);\n    }\n    get nodes() {\n        const t = [];\n        const e = this.l;\n        let s = e.$start.nextSibling;\n        while (s != null && s !== e) {\n            if (s.nodeType !== 8) {\n                t.push(s);\n            }\n            s = s.nextSibling;\n        }\n        return t;\n    }\n    subscribe(t) {\n        this.Zs.add(t);\n    }\n    unsubscribe(t) {\n        this.Zs.delete(t);\n    }\n    binding(t, e) {\n        this.Qs = e.scope;\n        while (e.vmKind === \"synthetic\" && e.parent?.viewModel instanceof AuSlot) {\n            e = e.parent.parent;\n        }\n        const s = e.scope.bindingContext;\n        let i;\n        if (this.Js) {\n            i = this.si.controller.scope.parent;\n            (this.Ys = Scope.fromParent(i, i.bindingContext)).overrideContext.$host = this.expose ?? s;\n        }\n    }\n    attaching(t, e) {\n        return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)(this.view.activate(t, this.$controller, this.Js ? this.Ys : this.Qs), (() => {\n            if (this.ei) {\n                this.ti.forEach((t => t.watch(this)));\n                this.Qe();\n                this.ii();\n                this.Zt = true;\n            }\n        }));\n    }\n    detaching(t, e) {\n        this.Zt = false;\n        this.ni();\n        this.ti.forEach((t => t.unwatch(this)));\n        return this.view.deactivate(t, this.$controller);\n    }\n    exposeChanged(t) {\n        if (this.Js && this.Ys != null) {\n            this.Ys.overrideContext.$host = t;\n        }\n    }\n    dispose() {\n        this.view.dispose();\n        this.view = void 0;\n    }\n    accept(t) {\n        if (this.view?.accept(t) === true) {\n            return true;\n        }\n    }\n    Qe() {\n        if (this.cs != null) {\n            return;\n        }\n        const t = this.l;\n        const e = t.parentElement;\n        if (e == null) {\n            return;\n        }\n        (this.cs = createMutationObserver(e, (e => {\n            if (isMutationWithinLocation(t, e)) {\n                this.ii();\n            }\n        }))).observe(e, {\n            childList: true\n        });\n    }\n    ni() {\n        this.cs?.disconnect();\n        this.cs = null;\n    }\n    ii() {\n        const t = this.nodes;\n        const e = new Set(this.Zs);\n        let s;\n        if (this.Zt) {\n            this.slotchange?.call(void 0, this.name, t);\n        }\n        for (s of e) {\n            s.handleSlotChange(this, t);\n        }\n    }\n}\n\nAuSlot.$au = {\n    type: _i,\n    name: \"au-slot\",\n    template: null,\n    containerless: true,\n    processContent(t, e, s) {\n        s.name = t.getAttribute(\"name\") ?? ds;\n        let i = t.firstChild;\n        let n = null;\n        while (i !== null) {\n            n = i.nextSibling;\n            if (isElement(i) && i.hasAttribute(ms)) {\n                t.removeChild(i);\n            }\n            i = n;\n        }\n    },\n    bindables: [ \"expose\", \"slotchange\" ]\n};\n\nconst comparePosition = (t, e) => t.compareDocumentPosition(e);\n\nconst isMutationWithinLocation = (t, e) => {\n    for (const {addedNodes: s, removedNodes: i, nextSibling: n} of e) {\n        let e = 0;\n        let r = s.length;\n        let l;\n        for (;e < r; ++e) {\n            l = s[e];\n            if (comparePosition(t.$start, l) === 4 && comparePosition(t, l) === 2) {\n                return true;\n            }\n        }\n        if (i.length > 0) {\n            if (n != null && comparePosition(t.$start, n) === 4 && comparePosition(t, n) === 2) {\n                return true;\n            }\n        }\n    }\n};\n\nclass AuCompose {\n    constructor() {\n        this.scopeBehavior = \"auto\";\n        this.ri = void 0;\n        this.tag = null;\n        this.c = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.IContainer);\n        this.parent = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(yi);\n        this.oi = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(Ai);\n        this.l = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(Ri);\n        this.p = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)($e);\n        this.r = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(zs);\n        this.li = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(_aurelia_template_compiler__WEBPACK_IMPORTED_MODULE_3__.IInstruction);\n        this.ai = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.transient)(CompositionContextFactory, null));\n        this.gt = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(_aurelia_template_compiler__WEBPACK_IMPORTED_MODULE_3__.ITemplateCompiler);\n        this.J = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(ki);\n        this.ep = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(_aurelia_expression_parser__WEBPACK_IMPORTED_MODULE_0__.IExpressionParser);\n        this.oL = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(_aurelia_runtime__WEBPACK_IMPORTED_MODULE_2__.IObserverLocator);\n    }\n    get composing() {\n        return this.hi;\n    }\n    get composition() {\n        return this.ri;\n    }\n    attaching(t, e) {\n        return this.hi = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)(this.queue(new ChangeInfo(this.template, this.component, this.model, void 0), t), (t => {\n            if (this.ai.ci(t)) {\n                this.hi = void 0;\n            }\n        }));\n    }\n    detaching(t) {\n        const e = this.ri;\n        const s = this.hi;\n        this.ai.invalidate();\n        this.ri = this.hi = void 0;\n        return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)(s, (() => e?.deactivate(t)));\n    }\n    propertyChanged(t) {\n        if (t === \"composing\" || t === \"composition\") return;\n        if (t === \"model\" && this.ri != null) {\n            this.ri.update(this.model);\n            return;\n        }\n        if (t === \"tag\" && this.ri?.controller.vmKind === ci) {\n            return;\n        }\n        this.hi = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)(this.hi, (() => (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)(this.queue(new ChangeInfo(this.template, this.component, this.model, t), void 0), (t => {\n            if (this.ai.ci(t)) {\n                this.hi = void 0;\n            }\n        }))));\n    }\n    queue(t, e) {\n        const s = this.ai;\n        const i = this.ri;\n        return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)(s.create(t), (t => {\n            if (s.ci(t)) {\n                return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)(this.compose(t), (n => {\n                    if (s.ci(t)) {\n                        return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)(n.activate(e), (() => {\n                            if (s.ci(t)) {\n                                this.ri = n;\n                                return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)(i?.deactivate(e), (() => t));\n                            } else {\n                                return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)(n.controller.deactivate(n.controller, this.$controller), (() => {\n                                    n.controller.dispose();\n                                    return t;\n                                }));\n                            }\n                        }));\n                    }\n                    n.controller.dispose();\n                    return t;\n                }));\n            }\n            return t;\n        }));\n    }\n    compose(t) {\n        const {ui: e, fi: s, di: i} = t.change;\n        const {c: n, $controller: r, l: a, li: h} = this;\n        const c = this.mi(this.J.controller.container, s);\n        const u = n.createChild();\n        const f = this.p.document.createElement(c == null ? this.tag ?? \"div\" : c.name);\n        a.parentNode.insertBefore(f, a);\n        let d;\n        if (c == null) {\n            d = this.tag == null ? convertToRenderLocation(f) : null;\n        } else {\n            d = c.containerless ? convertToRenderLocation(f) : null;\n        }\n        const removeCompositionHost = () => {\n            f.remove();\n            if (d != null) {\n                let t = d.$start.nextSibling;\n                let e = null;\n                while (t !== null && t !== d) {\n                    e = t.nextSibling;\n                    t.remove();\n                    t = e;\n                }\n                d.$start?.remove();\n                d.remove();\n            }\n        };\n        const m = this.gi(u, typeof s === \"string\" ? c.Type : s, f, d);\n        const compose = () => {\n            const s = h.captures ?? _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.emptyArray;\n            if (c !== null) {\n                const e = c.capture;\n                const [i, n] = s.reduce(((t, s) => {\n                    const i = !(s.target in c.bindables) && (e === true || (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isFunction)(e) && !!e(s.target));\n                    t[i ? 0 : 1].push(s);\n                    return t;\n                }), [ [], [] ]);\n                const a = Controller.$el(u, m, f, {\n                    projections: h.projections,\n                    captures: i\n                }, c, d);\n                this.pi(f, c, n).forEach((t => a.addBinding(t)));\n                return new CompositionController(a, (t => a.activate(t ?? a, r, r.scope.parent)), (t => (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)(a.deactivate(t ?? a, r), removeCompositionHost)), (t => m.activate?.(t)), t);\n            } else {\n                const i = CustomElementDefinition.create({\n                    name: Hi.generateName(),\n                    template: e\n                });\n                const n = this.r.getViewFactory(i, u);\n                const l = Controller.$view(n, r);\n                const a = this.scopeBehavior === \"auto\" ? Scope.fromParent(this.parent.scope, m) : Scope.create(m);\n                l.setHost(f);\n                if (d == null) {\n                    this.pi(f, i, s).forEach((t => l.addBinding(t)));\n                } else {\n                    l.setLocation(d);\n                }\n                return new CompositionController(l, (t => l.activate(t ?? l, r, a)), (t => (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)(l.deactivate(t ?? l, r), removeCompositionHost)), (t => m.activate?.(t)), t);\n            }\n        };\n        if (\"activate\" in m) {\n            return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)(m.activate(i), (() => compose()));\n        } else {\n            return compose();\n        }\n    }\n    gi(t, e, s, i) {\n        if (e == null) {\n            return new EmptyComponent;\n        }\n        if (typeof e === \"object\") {\n            return e;\n        }\n        const n = this.p;\n        registerHostNode(t, s, n);\n        registerResolver(t, Ri, new _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.InstanceProvider(\"IRenderLocation\", i));\n        const r = t.invoke(e);\n        registerResolver(t, e, new _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.InstanceProvider(\"au-compose.component\", r));\n        return r;\n    }\n    mi(t, e) {\n        if (typeof e === \"string\") {\n            const s = Hi.find(t, e);\n            if (s == null) {\n                throw createMappedError(806, e);\n            }\n            return s;\n        }\n        const s = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isFunction)(e) ? e : e?.constructor;\n        return Hi.isType(s, void 0) ? Hi.getDefinition(s, null) : null;\n    }\n    pi(t, e, s) {\n        const i = new HydrationContext(this.$controller, {\n            projections: null,\n            captures: s\n        }, this.J.parent);\n        return SpreadBinding.create(i, t, e, this.r, this.gt, this.p, this.ep, this.oL);\n    }\n}\n\nAuCompose.$au = {\n    type: _i,\n    name: \"au-compose\",\n    capture: true,\n    containerless: true,\n    bindables: [ \"template\", \"component\", \"model\", {\n        name: \"scopeBehavior\",\n        set: t => {\n            if (t === \"scoped\" || t === \"auto\") {\n                return t;\n            }\n            throw createMappedError(805, t);\n        }\n    }, {\n        name: \"composing\",\n        mode: me\n    }, {\n        name: \"composition\",\n        mode: me\n    }, \"tag\" ]\n};\n\nclass EmptyComponent {}\n\nclass CompositionContextFactory {\n    constructor() {\n        this.id = 0;\n    }\n    ci(t) {\n        return t.id === this.id;\n    }\n    create(t) {\n        return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.onResolve)(t.load(), (t => new CompositionContext(++this.id, t)));\n    }\n    invalidate() {\n        this.id++;\n    }\n}\n\nclass ChangeInfo {\n    constructor(t, e, s, i) {\n        this.ui = t;\n        this.fi = e;\n        this.di = s;\n        this.xi = i;\n    }\n    load() {\n        if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isPromise)(this.ui) || (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isPromise)(this.fi)) {\n            return Promise.all([ this.ui, this.fi ]).then((([t, e]) => new LoadedChangeInfo(t, e, this.di, this.xi)));\n        } else {\n            return new LoadedChangeInfo(this.ui, this.fi, this.di, this.xi);\n        }\n    }\n}\n\nclass LoadedChangeInfo {\n    constructor(t, e, s, i) {\n        this.ui = t;\n        this.fi = e;\n        this.di = s;\n        this.xi = i;\n    }\n}\n\nclass CompositionContext {\n    constructor(t, e) {\n        this.id = t;\n        this.change = e;\n    }\n}\n\nclass CompositionController {\n    constructor(t, e, s, i, n) {\n        this.controller = t;\n        this.start = e;\n        this.stop = s;\n        this.update = i;\n        this.context = n;\n        this.state = 0;\n    }\n    activate(t) {\n        if (this.state !== 0) {\n            throw createMappedError(807, this);\n        }\n        this.state = 1;\n        return this.start(t);\n    }\n    deactivate(t) {\n        switch (this.state) {\n          case 1:\n            this.state = -1;\n            return this.stop(t);\n\n          case -1:\n            throw createMappedError(808);\n\n          default:\n            this.state = -1;\n        }\n    }\n}\n\nconst xn = /*@__PURE__*/ Be(\"ISanitizer\", (t => t.singleton(class {\n    sanitize() {\n        throw createMappedError(99, \"sanitize\");\n    }\n})));\n\nclass SanitizeValueConverter {\n    constructor() {\n        this.bi = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(xn);\n    }\n    toView(t) {\n        if (t == null) {\n            return null;\n        }\n        return this.bi.sanitize(t);\n    }\n}\n\nSanitizeValueConverter.$au = {\n    type: Ke,\n    name: \"sanitize\"\n};\n\nclass Show {\n    constructor() {\n        this.el = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(Ai);\n        this.p = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)($e);\n        this.wi = false;\n        this.L = null;\n        this.$val = \"\";\n        this.$prio = \"\";\n        this.update = () => {\n            this.L = null;\n            if (Boolean(this.value) !== this.yi) {\n                if (this.yi === this.ki) {\n                    this.yi = !this.ki;\n                    this.$val = this.el.style.getPropertyValue(\"display\");\n                    this.$prio = this.el.style.getPropertyPriority(\"display\");\n                    this.el.style.setProperty(\"display\", \"none\", \"important\");\n                } else {\n                    this.yi = this.ki;\n                    this.el.style.setProperty(\"display\", this.$val, this.$prio);\n                    if (this.el.getAttribute(\"style\") === \"\") {\n                        this.el.removeAttribute(\"style\");\n                    }\n                }\n            }\n        };\n        const t = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.resolve)(_aurelia_template_compiler__WEBPACK_IMPORTED_MODULE_3__.IInstruction);\n        this.yi = this.ki = t.alias !== \"hide\";\n    }\n    binding() {\n        this.wi = true;\n        this.update();\n    }\n    detaching() {\n        this.wi = false;\n        this.L?.cancel();\n        this.L = null;\n    }\n    valueChanged() {\n        if (this.wi && this.L === null) {\n            this.L = this.p.domQueue.queueTask(this.update);\n        }\n    }\n}\n\nShow.$au = {\n    type: je,\n    name: \"show\",\n    bindables: [ \"value\" ],\n    aliases: [ \"hide\" ]\n};\n\nconst bn = [ zi, _aurelia_runtime__WEBPACK_IMPORTED_MODULE_2__.DirtyChecker, NodeObserverLocator ];\n\nconst wn = [ _aurelia_template_compiler__WEBPACK_IMPORTED_MODULE_3__.RefAttributePattern, _aurelia_template_compiler__WEBPACK_IMPORTED_MODULE_3__.DotSeparatedAttributePattern, _aurelia_template_compiler__WEBPACK_IMPORTED_MODULE_3__.EventAttributePattern, cs ];\n\nconst yn = [ _aurelia_template_compiler__WEBPACK_IMPORTED_MODULE_3__.AtPrefixedTriggerAttributePattern, _aurelia_template_compiler__WEBPACK_IMPORTED_MODULE_3__.ColonPrefixedBindAttributePattern ];\n\nconst kn = [ _aurelia_template_compiler__WEBPACK_IMPORTED_MODULE_3__.DefaultBindingCommand, _aurelia_template_compiler__WEBPACK_IMPORTED_MODULE_3__.OneTimeBindingCommand, _aurelia_template_compiler__WEBPACK_IMPORTED_MODULE_3__.FromViewBindingCommand, _aurelia_template_compiler__WEBPACK_IMPORTED_MODULE_3__.ToViewBindingCommand, _aurelia_template_compiler__WEBPACK_IMPORTED_MODULE_3__.TwoWayBindingCommand, _aurelia_template_compiler__WEBPACK_IMPORTED_MODULE_3__.ForBindingCommand, _aurelia_template_compiler__WEBPACK_IMPORTED_MODULE_3__.RefBindingCommand, _aurelia_template_compiler__WEBPACK_IMPORTED_MODULE_3__.TriggerBindingCommand, _aurelia_template_compiler__WEBPACK_IMPORTED_MODULE_3__.CaptureBindingCommand, _aurelia_template_compiler__WEBPACK_IMPORTED_MODULE_3__.ClassBindingCommand, _aurelia_template_compiler__WEBPACK_IMPORTED_MODULE_3__.StyleBindingCommand, _aurelia_template_compiler__WEBPACK_IMPORTED_MODULE_3__.AttrBindingCommand, _aurelia_template_compiler__WEBPACK_IMPORTED_MODULE_3__.SpreadValueBindingCommand ];\n\nconst Cn = [ DebounceBindingBehavior, OneTimeBindingBehavior, ToViewBindingBehavior, FromViewBindingBehavior, SignalBindingBehavior, ThrottleBindingBehavior, TwoWayBindingBehavior, SanitizeValueConverter, If, Else, Repeat, With, Switch, Case, DefaultCase, PromiseTemplateController, PendingTemplateController, FulfilledTemplateController, RejectedTemplateController, PromiseAttributePattern, FulfilledAttributePattern, RejectedAttributePattern, AttrBindingBehavior, SelfBindingBehavior, UpdateTriggerBindingBehavior, AuCompose, Portal, Focus, Show, AuSlot ];\n\nconst Bn = [ As, Es, Bs, Ss, bs, ws, ys, ks, Cs, Ls, qs, Ms, Ds, Is, Ps, Rs, _s, Os ];\n\nconst Sn = /*@__PURE__*/ createConfiguration(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.noop);\n\nfunction createConfiguration(t) {\n    return {\n        optionsProvider: t,\n        register(e) {\n            const s = {\n                coercingOptions: {\n                    enableCoercion: false,\n                    coerceNullish: false\n                }\n            };\n            t(s);\n            return e.register(Ee(_aurelia_runtime__WEBPACK_IMPORTED_MODULE_2__.ICoercionConfiguration, s.coercingOptions), ...bn, ...Cn, ...wn, ...kn, ...Bn);\n        },\n        customize(e) {\n            return createConfiguration(e ?? t);\n        }\n    };\n}\n\nfunction children(t, e) {\n    if (!children.mixed) {\n        children.mixed = true;\n        (0,_aurelia_runtime__WEBPACK_IMPORTED_MODULE_2__.subscriberCollection)(ChildrenBinding, null);\n        lifecycleHooks()(ChildrenLifecycleHooks, null);\n    }\n    let s;\n    const n = we(\"dependencies\");\n    function decorator(t, e) {\n        switch (e.kind) {\n          case \"field\":\n            s.name = e.name;\n            break;\n        }\n        const i = e.metadata[n] ??= [];\n        i.push(new ChildrenLifecycleHooks(s ?? {}));\n    }\n    if (arguments.length > 1) {\n        s = {};\n        decorator(t, e);\n        return;\n    } else if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.isString)(t)) {\n        s = {\n            query: t\n        };\n        return decorator;\n    }\n    s = t === void 0 ? {} : t;\n    return decorator;\n}\n\nchildren.mixed = false;\n\nclass ChildrenBinding {\n    constructor(t, e, s, i, n, r) {\n        this.Ci = void 0;\n        this.isBound = false;\n        this.obj = e;\n        this.cb = s;\n        this.X = i;\n        this.Bi = n;\n        this.Si = r;\n        this.cs = createMutationObserver(this.oi = t, (() => {\n            this.Ai();\n        }));\n    }\n    getValue() {\n        return this.isBound ? this.Ci : this.Ei();\n    }\n    setValue(t) {}\n    bind() {\n        if (this.isBound) {\n            return;\n        }\n        this.isBound = true;\n        this.cs.observe(this.oi, {\n            childList: true\n        });\n        this.Ci = this.Ei();\n    }\n    unbind() {\n        if (!this.isBound) {\n            return;\n        }\n        this.isBound = false;\n        this.cs.takeRecords();\n        this.cs.disconnect();\n        this.Ci = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.emptyArray;\n    }\n    Ai() {\n        this.Ci = this.Ei();\n        this.cb?.call(this.obj);\n        this.subs.notify(this.Ci, undefined);\n    }\n    get() {\n        throw createMappedError(99, \"get\");\n    }\n    Ei() {\n        const t = this.X;\n        const e = this.Bi;\n        const s = this.Si;\n        const i = t === \"$all\" ? this.oi.childNodes : this.oi.querySelectorAll(`:scope > ${t}`);\n        const n = i.length;\n        const r = [];\n        const l = {\n            optional: true\n        };\n        let a;\n        let h;\n        let c = 0;\n        let u;\n        while (n > c) {\n            u = i[c];\n            a = findElementControllerFor(u, l);\n            h = a?.viewModel ?? null;\n            if (e == null ? true : e(u, h)) {\n                r.push(s == null ? h ?? u : s(u, h));\n            }\n            ++c;\n        }\n        return r;\n    }\n}\n\nclass ChildrenLifecycleHooks {\n    constructor(t) {\n        this.Y = t;\n    }\n    register(t) {\n        Ee(Ue, this).register(t);\n    }\n    hydrating(t, e) {\n        const s = this.Y;\n        const i = s.query ?? \"*\";\n        const n = new ChildrenBinding(e.host, t, t[s.callback ?? `${jt(s.name)}Changed`], i, s.filter, s.map);\n        if (/[\\s>]/.test(i)) {\n            throw createMappedError(9989, i);\n        }\n        Yt(t, s.name, {\n            enumerable: true,\n            configurable: true,\n            get: Gt((() => n.getValue()), {\n                getObserver: () => n\n            }),\n            set: () => {}\n        });\n        e.addBinding(n);\n    }\n}\n\n\n//# sourceMappingURL=index.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL2luZGV4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBOEk7O0FBRXV0Qjs7QUFFOWQ7O0FBRWthOztBQUVodUI7O0FBRU47O0FBRUQ7O0FBRVQ7O0FBRXpEOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBLHlCQUF5Qiw2REFBQzs7QUFFMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLHlEQUFDO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUEsV0FBVywwREFBQzs7QUFFWixXQUFXLDBEQUFDOztBQUVaLFdBQVcsMERBQUM7O0FBRVosdURBQXVELHVCQUF1QixHQUFHLFVBQVU7O0FBRTNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztB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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxxQkFBcUIseURBQUM7QUFDdEI7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSSw2REFBQztBQUNMO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksd0RBQUM7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSx3REFBQztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSSw2REFBQztBQUNMO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSSw2REFBQztBQUNMO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUksNkRBQUM7QUFDTDtBQUNBLENBQUM7O0FBRUQ7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksMkRBQUM7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxLQUFLO0FBQ2Q7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQix3REFBQztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0RBQW9ELEVBQUU7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpQkFBaUIsd0RBQUM7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixFQUFFO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0EsaUJBQWlCLHdEQUFDLENBQUMsb0RBQUM7QUFDcEIsc0JBQXNCLHdEQUFDO0FBQ3ZCO0FBQ0E7QUFDQSxTQUFTLEtBQUs7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSx5REFBQztBQUNoQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLFNBQVMseURBQUM7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQix1REFBQztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0RBQStELFdBQVc7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHNFQUFDO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwRkFBMEYsdURBQUM7QUFDM0Y7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLHVFQUFFO0FBQ3pCO0FBQ0E7O0FBRUEsdUJBQXVCLHVFQUFFO0FBQ3pCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEseURBQUM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkhBQTJILDZFQUFDLHdCQUF3QixtRUFBRTtBQUN0SjtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSSw2REFBQztBQUNMO0FBQ0EsQ0FBQzs7QUFFRDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBLCtDQUErQyxpREFBQztBQUNoRCxpREFBaUQsaURBQUM7QUFDbEQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsT0FBTztBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQSxRQUFRLHlEQUFDO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsZUFBZSx1REFBQztBQUNoQjtBQUNBLFFBQVEsd0RBQUM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixPQUFPO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVixtQkFBbUIsdURBQUM7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZUFBZSx1REFBQztBQUNoQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELG9EQUFDO0FBQ25EO0FBQ0EsQ0FBQzs7QUFFRDs7QUFFQTtBQUNBO0FBQ0EsTUFBTSxtRUFBQztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFFBQVEseURBQUM7QUFDVDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHNCQUFzQix1RUFBRTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBLGlCQUFpQix3REFBQztBQUNsQixzQkFBc0IsdUVBQUU7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBLGlCQUFpQix3REFBQztBQUNsQixzQkFBc0IsdUVBQUU7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQSxpQkFBaUIsd0RBQUM7QUFDbEIsc0JBQXNCLHVFQUFFO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0Esc0JBQXNCLHVFQUFFO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBLHNCQUFzQix1RUFBRTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBLHNCQUFzQix1RUFBRTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0Esc0JBQXNCLHVFQUFFO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQSxzQkFBc0IsdUVBQUU7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBLHNCQUFzQix1RUFBRTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0Esc0JBQXNCLHVFQUFFO0FBQ3hCLGtCQUFrQix3REFBQztBQUNuQixrQkFBa0Isd0RBQUM7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBLHNCQUFzQix1RUFBRTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBLHNCQUFzQix1RUFBRTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBLHNCQUFzQix1RUFBRTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBLHNCQUFzQix1RUFBRTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0Esc0JBQXNCLHVFQUFFO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0Esa0JBQWtCLHdEQUFDLENBQUMseUVBQUU7QUFDdEIsaUJBQWlCLHdEQUFDO0FBQ2xCLHNCQUFzQix1RUFBRTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBLHNCQUFzQix1RUFBRTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsT0FBTztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyw2REFBQztBQUNqQyx3QkFBd0Isb0VBQUUsTUFBTSw2REFBQztBQUNqQztBQUNBO0FBQ0EsaURBQWlELDZEQUFDO0FBQ2xEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSx5REFBQztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsNkRBQUM7QUFDakMsd0JBQXdCLG9FQUFFLE1BQU0sNkRBQUM7QUFDakMsaURBQWlELDZEQUFDO0FBQ2xEO0FBQ0EsaURBQWlELDZEQUFDO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQSxlQUFlLDZEQUFDLHFCQUFxQix1REFBQzs7QUFFdEM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsR0FBRyw2REFBQztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLHdEQUFDLENBQUMsdURBQUM7QUFDL0I7QUFDQSx3QkFBd0IseUVBQUM7QUFDekIsd0JBQXdCLDhEQUFDO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHlFQUFFO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBLG9CQUFvQix5REFBQztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0Isb0RBQUM7QUFDdkI7QUFDQSxrQ0FBa0MsNkRBQUM7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyx3REFBQztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiw2RUFBRTtBQUNyQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUJBQWlCLHdEQUFDO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUJBQWlCLHdEQUFDO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxhQUFhLGlEQUFDO0FBQ2QsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLFFBQVE7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSwyQkFBMkIsdURBQUM7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQSxPQUFPLHFCQUFxQixFQUFFLGlFQUFDOztBQUUvQixPQUFPLHNCQUFzQixFQUFFLDZEQUFFOztBQUVqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSx5REFBQztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJLDZEQUFDO0FBQ0wsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLHlEQUFDO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJLDZEQUFDO0FBQ0w7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIscUJBQXFCOztBQUVoRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixpQkFBaUIsSUFBSSxxQkFBcUI7O0FBRWhFO0FBQ0Esc0JBQXNCLGlCQUFpQixHQUFHLHFCQUFxQjs7QUFFL0Q7QUFDQSwrRUFBK0UsaUJBQWlCLGFBQWEsaUJBQWlCLFFBQVEsc0JBQXNCO0FBQzVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3Qyw2REFBQztBQUN6QztBQUNBLHdCQUF3Qix5REFBQztBQUN6QjtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsNkRBQUM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3Qyw2REFBQztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELDZEQUFDO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiw2REFBQztBQUNqQjtBQUNBO0FBQ0EsZ0JBQWdCLDZEQUFDO0FBQ2pCO0FBQ0EsWUFBWSwwREFBQztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiw2REFBQztBQUNqQjtBQUNBO0FBQ0EsZ0JBQWdCLDZEQUFDO0FBQ2pCO0FBQ0EsWUFBWSwwREFBQztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLGNBQWM7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsNkRBQUM7QUFDakI7QUFDQTtBQUNBLGdCQUFnQiw2REFBQztBQUNqQjtBQUNBLFlBQVksMERBQUM7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0Esa0JBQWtCLDBCQUEwQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxxQ0FBcUMsaURBQUM7QUFDdEM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QiwwQkFBMEI7QUFDbEQ7QUFDQTtBQUNBO0FBQ0EsZUFBZSwwREFBQztBQUNoQjtBQUNBO0FBQ0Esd0JBQXdCLDZEQUFDO0FBQ3pCO0FBQ0E7QUFDQSx3QkFBd0IsNkRBQUM7QUFDekI7QUFDQTtBQUNBLGdCQUFnQiwwREFBQztBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLDBCQUEwQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQiw2REFBQztBQUN0QjtBQUNBO0FBQ0EscUJBQXFCLDZEQUFDO0FBQ3RCO0FBQ0EsZ0JBQWdCLDBEQUFDO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsNkRBQUM7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0Qiw2REFBQztBQUM3QjtBQUNBO0FBQ0Esb0JBQW9CLDBEQUFDO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLGFBQWE7QUFDaEMsMENBQTBDLE9BQU87QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBOztBQUVBLFdBQVcsaUVBQUMsQ0FBQyxvRUFBRTs7QUFFZjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4Qiw4REFBQztBQUMvQjtBQUNBLHdCQUF3QixPQUFPO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLGlEQUFDO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsNkVBQUM7QUFDakI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxvQkFBb0IsOERBQUM7QUFDckIsb0JBQW9CLHlFQUFDO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxPQUFPO0FBQ2pCLFVBQVUsNEJBQTRCO0FBQ3RDLFlBQVksMkRBQUM7QUFDYixhQUFhLDJEQUFDO0FBQ2Q7QUFDQTtBQUNBLFlBQVksMkRBQUM7QUFDYjtBQUNBLFVBQVU7QUFDVixnQkFBZ0IseURBQUM7QUFDakI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsV0FBVywyREFBRTtBQUNiOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDZDQUE2Qzs7QUFFN0M7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsT0FBTztBQUM3QztBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQSxrR0FBa0csNkRBQUM7QUFDbkc7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0EsU0FBUywyREFBQztBQUNWO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFD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RVo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLHdEQUFDO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Es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ZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL2luZGV4Lm1qcz80N2Y0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERlc3RydWN0dXJpbmdBc3NpZ25tZW50U2luZ2xlRXhwcmVzc2lvbiBhcyB0LCBBY2Nlc3NTY29wZUV4cHJlc3Npb24gYXMgZSwgSUV4cHJlc3Npb25QYXJzZXIgYXMgcyB9IGZyb20gXCJAYXVyZWxpYS9leHByZXNzaW9uLXBhcnNlclwiO1xuXG5pbXBvcnQgeyBpc1N0cmluZyBhcyBpLCBjcmVhdGVMb29rdXAgYXMgbiwgaXNPYmplY3QgYXMgciwgaXNGdW5jdGlvbiBhcyBsLCBpc0FycmF5IGFzIGEsIGlzQXJyYXlJbmRleCBhcyBoLCBQcm90b2NvbCBhcyBjLCBnZXRQcm90b3R5cGVDaGFpbiBhcyB1LCBrZWJhYkNhc2UgYXMgZiwgbm9vcCBhcyBkLCBESSBhcyBtLCBSZWdpc3RyYXRpb24gYXMgZywgZmlyc3REZWZpbmVkIGFzIHAsIG1lcmdlQXJyYXlzIGFzIHYsIHJlc291cmNlQmFzZU5hbWUgYXMgeCwgcmVzb3VyY2UgYXMgYiwgZ2V0UmVzb3VyY2VLZXlGb3IgYXMgdywgcmVzb2x2ZSBhcyB5LCBJUGxhdGZvcm0gYXMgaywgZW1wdHlBcnJheSBhcyBDLCBJTG9nZ2VyIGFzIEIsIHJlZ2lzdHJhYmxlTWV0YWRhdGFLZXkgYXMgUywgYWxsIGFzIEEsIG93biBhcyBFLCBJbnN0YW5jZVByb3ZpZGVyIGFzIFIsIElDb250YWluZXIgYXMgVCwgdG9BcnJheSBhcyBMLCBhcmVFcXVhbCBhcyBNLCBvcHRpb25hbFJlc291cmNlIGFzIEQsIG9wdGlvbmFsIGFzIEksIG9uUmVzb2x2ZUFsbCBhcyBQLCBpc1Byb21pc2UgYXMgcSwgb25SZXNvbHZlIGFzIF8sIGZyb21EZWZpbml0aW9uT3JEZWZhdWx0IGFzIE8sIHBhc2NhbENhc2UgYXMgRiwgZnJvbUFubm90YXRpb25PckRlZmluaXRpb25PclR5cGVPckRlZmF1bHQgYXMgViwgZnJvbUFubm90YXRpb25PclR5cGVPckRlZmF1bHQgYXMgSCwgaXNTeW1ib2wgYXMgJCwgY3JlYXRlSW1wbGVtZW50YXRpb25SZWdpc3RlciBhcyBOLCBJU2VydmljZUxvY2F0b3IgYXMgaiwgZW1wdHlPYmplY3QgYXMgVywgaXNOdW1iZXIgYXMgeiwgaXNTZXQgYXMgVSwgaXNNYXAgYXMgRywgdHJhbnNpZW50IGFzIEsgfSBmcm9tIFwiQGF1cmVsaWEva2VybmVsXCI7XG5cbmltcG9ydCB7IEFjY2Vzc29yVHlwZSBhcyBYLCBjb25uZWN0YWJsZSBhcyBRLCBzdWJzY3JpYmVyQ29sbGVjdGlvbiBhcyBZLCBJT2JzZXJ2ZXJMb2NhdG9yIGFzIFosIENvbm5lY3RhYmxlU3dpdGNoZXIgYXMgSiwgUHJveHlPYnNlcnZhYmxlIGFzIHR0LCBJQ29lcmNpb25Db25maWd1cmF0aW9uIGFzIGV0LCBQcm9wZXJ0eUFjY2Vzc29yIGFzIHN0LCBJTm9kZU9ic2VydmVyTG9jYXRvciBhcyBpdCwgSURpcnR5Q2hlY2tlciBhcyBudCwgZ2V0T2JzZXJ2ZXJMb29rdXAgYXMgcnQsIFNldHRlck9ic2VydmVyIGFzIG90LCBjcmVhdGVJbmRleE1hcCBhcyBsdCwgZ2V0Q29sbGVjdGlvbk9ic2VydmVyIGFzIGF0LCBEaXJ0eUNoZWNrZXIgYXMgaHQgfSBmcm9tIFwiQGF1cmVsaWEvcnVudGltZVwiO1xuXG5pbXBvcnQgeyBCaW5kaW5nTW9kZSBhcyBjdCwgSW5zdHJ1Y3Rpb25UeXBlIGFzIHV0LCBJVGVtcGxhdGVDb21waWxlciBhcyBmdCwgSUluc3RydWN0aW9uIGFzIGR0LCBUZW1wbGF0ZUNvbXBpbGVySG9va3MgYXMgbXQsIElBdHRyTWFwcGVyIGFzIGd0LCBJUmVzb3VyY2VSZXNvbHZlciBhcyBwdCwgVGVtcGxhdGVDb21waWxlciBhcyB2dCwgQXR0cmlidXRlUGF0dGVybiBhcyB4dCwgQXR0clN5bnRheCBhcyBidCwgUmVmQXR0cmlidXRlUGF0dGVybiBhcyB3dCwgRG90U2VwYXJhdGVkQXR0cmlidXRlUGF0dGVybiBhcyB5dCwgRXZlbnRBdHRyaWJ1dGVQYXR0ZXJuIGFzIGt0LCBBdFByZWZpeGVkVHJpZ2dlckF0dHJpYnV0ZVBhdHRlcm4gYXMgQ3QsIENvbG9uUHJlZml4ZWRCaW5kQXR0cmlidXRlUGF0dGVybiBhcyBCdCwgRGVmYXVsdEJpbmRpbmdDb21tYW5kIGFzIFN0LCBPbmVUaW1lQmluZGluZ0NvbW1hbmQgYXMgQXQsIEZyb21WaWV3QmluZGluZ0NvbW1hbmQgYXMgRXQsIFRvVmlld0JpbmRpbmdDb21tYW5kIGFzIFJ0LCBUd29XYXlCaW5kaW5nQ29tbWFuZCBhcyBUdCwgRm9yQmluZGluZ0NvbW1hbmQgYXMgTHQsIFJlZkJpbmRpbmdDb21tYW5kIGFzIE10LCBUcmlnZ2VyQmluZGluZ0NvbW1hbmQgYXMgRHQsIENhcHR1cmVCaW5kaW5nQ29tbWFuZCBhcyBJdCwgQ2xhc3NCaW5kaW5nQ29tbWFuZCBhcyBQdCwgU3R5bGVCaW5kaW5nQ29tbWFuZCBhcyBxdCwgQXR0ckJpbmRpbmdDb21tYW5kIGFzIF90LCBTcHJlYWRWYWx1ZUJpbmRpbmdDb21tYW5kIGFzIE90IH0gZnJvbSBcIkBhdXJlbGlhL3RlbXBsYXRlLWNvbXBpbGVyXCI7XG5cbmV4cG9ydCB7IEJpbmRpbmdDb21tYW5kLCBCaW5kaW5nTW9kZSB9IGZyb20gXCJAYXVyZWxpYS90ZW1wbGF0ZS1jb21waWxlclwiO1xuXG5pbXBvcnQgeyBNZXRhZGF0YSBhcyBGdCwgaXNPYmplY3QgYXMgVnQgfSBmcm9tIFwiQGF1cmVsaWEvbWV0YWRhdGFcIjtcblxuaW1wb3J0IHsgQnJvd3NlclBsYXRmb3JtIGFzIEh0IH0gZnJvbSBcIkBhdXJlbGlhL3BsYXRmb3JtLWJyb3dzZXJcIjtcblxuaW1wb3J0IHsgVGFza0Fib3J0RXJyb3IgYXMgJHQgfSBmcm9tIFwiQGF1cmVsaWEvcGxhdGZvcm1cIjtcblxuY29uc3QgTnQgPSBPYmplY3Q7XG5cbmNvbnN0IGp0ID0gU3RyaW5nO1xuXG5jb25zdCBXdCA9IE50LnByb3RvdHlwZTtcblxuY29uc3QgenQgPSBXdC5oYXNPd25Qcm9wZXJ0eTtcblxuY29uc3QgVXQgPSBOdC5mcmVlemU7XG5cbmNvbnN0IEd0ID0gTnQuYXNzaWduO1xuXG5jb25zdCBLdCA9IE50LmdldE93blByb3BlcnR5TmFtZXM7XG5cbmNvbnN0IFh0ID0gTnQua2V5cztcblxuY29uc3QgUXQgPSAvKkBfX1BVUkVfXyovIG4oKTtcblxuY29uc3QgaXNEYXRhQXR0cmlidXRlID0gKHQsIGUsIHMpID0+IHtcbiAgICBpZiAoUXRbZV0gPT09IHRydWUpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmICghaShlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IG4gPSBlLnNsaWNlKDAsIDUpO1xuICAgIHJldHVybiBRdFtlXSA9IG4gPT09IFwiYXJpYS1cIiB8fCBuID09PSBcImRhdGEtXCIgfHwgcy5pc1N0YW5kYXJkU3ZnQXR0cmlidXRlKHQsIGUpO1xufTtcblxuY29uc3QgcmV0aHJvdyA9IHQgPT4ge1xuICAgIHRocm93IHQ7XG59O1xuXG5jb25zdCBZdCA9IFJlZmxlY3QuZGVmaW5lUHJvcGVydHk7XG5cbmNvbnN0IGRlZmluZUhpZGRlblByb3AgPSAodCwgZSwgcykgPT4ge1xuICAgIFl0KHQsIGUsIHtcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiBzXG4gICAgfSk7XG4gICAgcmV0dXJuIHM7XG59O1xuXG5jb25zdCBhZGRTaWduYWxMaXN0ZW5lciA9ICh0LCBlLCBzKSA9PiB0LmFkZFNpZ25hbExpc3RlbmVyKGUsIHMpO1xuXG5jb25zdCByZW1vdmVTaWduYWxMaXN0ZW5lciA9ICh0LCBlLCBzKSA9PiB0LnJlbW92ZVNpZ25hbExpc3RlbmVyKGUsIHMpO1xuXG5jb25zdCBadCA9IFwiSW50ZXJwb2xhdGlvblwiO1xuXG5jb25zdCBKdCA9IFwiSXNJdGVyYXRvclwiO1xuXG5jb25zdCB0ZSA9IFwiSXNGdW5jdGlvblwiO1xuXG5jb25zdCBlZSA9IFwiSXNQcm9wZXJ0eVwiO1xuXG5jb25zdCBzZSA9IFwicGVuZGluZ1wiO1xuXG5jb25zdCBpZSA9IFwicnVubmluZ1wiO1xuXG5jb25zdCBuZSA9IFguT2JzZXJ2ZXI7XG5cbmNvbnN0IHJlID0gWC5Ob2RlO1xuXG5jb25zdCBvZSA9IFguTGF5b3V0O1xuXG5jb25zdCBjcmVhdGVNYXBwZWRFcnJvciA9ICh0LCAuLi5lKSA9PiBuZXcgRXJyb3IoYEFVUiR7anQodCkucGFkU3RhcnQoNCwgXCIwXCIpfToke2UubWFwKGp0KX1gKTtcblxuY2xhc3MgU2NvcGUge1xuICAgIGNvbnN0cnVjdG9yKHQsIGUsIHMsIGkpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSB0O1xuICAgICAgICB0aGlzLmJpbmRpbmdDb250ZXh0ID0gZTtcbiAgICAgICAgdGhpcy5vdmVycmlkZUNvbnRleHQgPSBzO1xuICAgICAgICB0aGlzLmlzQm91bmRhcnkgPSBpO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0Q29udGV4dCh0LCBlLCBzKSB7XG4gICAgICAgIGlmICh0ID09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZU1hcHBlZEVycm9yKDIwMyk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGkgPSB0Lm92ZXJyaWRlQ29udGV4dDtcbiAgICAgICAgbGV0IG4gPSB0O1xuICAgICAgICBpZiAocyA+IDApIHtcbiAgICAgICAgICAgIHdoaWxlIChzID4gMCkge1xuICAgICAgICAgICAgICAgIHMtLTtcbiAgICAgICAgICAgICAgICBuID0gbi5wYXJlbnQ7XG4gICAgICAgICAgICAgICAgaWYgKG4gPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdm9pZCAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGkgPSBuLm92ZXJyaWRlQ29udGV4dDtcbiAgICAgICAgICAgIHJldHVybiBlIGluIGkgPyBpIDogbi5iaW5kaW5nQ29udGV4dDtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAobiAhPSBudWxsICYmICFuLmlzQm91bmRhcnkgJiYgIShlIGluIG4ub3ZlcnJpZGVDb250ZXh0KSAmJiAhKGUgaW4gbi5iaW5kaW5nQ29udGV4dCkpIHtcbiAgICAgICAgICAgIG4gPSBuLnBhcmVudDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobiA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gdC5iaW5kaW5nQ29udGV4dDtcbiAgICAgICAgfVxuICAgICAgICBpID0gbi5vdmVycmlkZUNvbnRleHQ7XG4gICAgICAgIHJldHVybiBlIGluIGkgPyBpIDogbi5iaW5kaW5nQ29udGV4dDtcbiAgICB9XG4gICAgc3RhdGljIGNyZWF0ZSh0LCBlLCBzKSB7XG4gICAgICAgIGlmICh0ID09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZU1hcHBlZEVycm9yKDIwNCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBTY29wZShudWxsLCB0LCBlID8/IG5ldyBPdmVycmlkZUNvbnRleHQsIHMgPz8gZmFsc2UpO1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbVBhcmVudCh0LCBlKSB7XG4gICAgICAgIGlmICh0ID09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZU1hcHBlZEVycm9yKDIwMyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBTY29wZSh0LCBlLCBuZXcgT3ZlcnJpZGVDb250ZXh0LCBmYWxzZSk7XG4gICAgfVxufVxuXG5jbGFzcyBCaW5kaW5nQ29udGV4dCB7XG4gICAgY29uc3RydWN0b3IodCwgZSkge1xuICAgICAgICBpZiAodCAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgICB0aGlzW3RdID0gZTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuY2xhc3MgT3ZlcnJpZGVDb250ZXh0IHt9XG5cbmNvbnN0IHthc3RBc3NpZ246IGxlLCBhc3RFdmFsdWF0ZTogYWUsIGFzdEJpbmQ6IGhlLCBhc3RVbmJpbmQ6IGNlfSA9IC8qQF9fUFVSRV9fKi8gKCgpID0+IHtcbiAgICBjb25zdCBlID0gXCJBY2Nlc3NUaGlzXCI7XG4gICAgY29uc3QgcyA9IFwiQWNjZXNzQm91bmRhcnlcIjtcbiAgICBjb25zdCBpID0gXCJBY2Nlc3NHbG9iYWxcIjtcbiAgICBjb25zdCBuID0gXCJBY2Nlc3NTY29wZVwiO1xuICAgIGNvbnN0IGMgPSBcIkFycmF5TGl0ZXJhbFwiO1xuICAgIGNvbnN0IHUgPSBcIk9iamVjdExpdGVyYWxcIjtcbiAgICBjb25zdCBmID0gXCJQcmltaXRpdmVMaXRlcmFsXCI7XG4gICAgY29uc3QgZCA9IFwiVGVtcGxhdGVcIjtcbiAgICBjb25zdCBtID0gXCJVbmFyeVwiO1xuICAgIGNvbnN0IGcgPSBcIkNhbGxTY29wZVwiO1xuICAgIGNvbnN0IHAgPSBcIkNhbGxNZW1iZXJcIjtcbiAgICBjb25zdCB2ID0gXCJDYWxsRnVuY3Rpb25cIjtcbiAgICBjb25zdCB4ID0gXCJDYWxsR2xvYmFsXCI7XG4gICAgY29uc3QgYiA9IFwiQWNjZXNzTWVtYmVyXCI7XG4gICAgY29uc3QgdyA9IFwiQWNjZXNzS2V5ZWRcIjtcbiAgICBjb25zdCB5ID0gXCJUYWdnZWRUZW1wbGF0ZVwiO1xuICAgIGNvbnN0IGsgPSBcIkJpbmFyeVwiO1xuICAgIGNvbnN0IEMgPSBcIkNvbmRpdGlvbmFsXCI7XG4gICAgY29uc3QgQiA9IFwiQXNzaWduXCI7XG4gICAgY29uc3QgUyA9IFwiQXJyb3dGdW5jdGlvblwiO1xuICAgIGNvbnN0IEEgPSBcIlZhbHVlQ29udmVydGVyXCI7XG4gICAgY29uc3QgRSA9IFwiQmluZGluZ0JlaGF2aW9yXCI7XG4gICAgY29uc3QgUiA9IFwiQXJyYXlCaW5kaW5nUGF0dGVyblwiO1xuICAgIGNvbnN0IFQgPSBcIk9iamVjdEJpbmRpbmdQYXR0ZXJuXCI7XG4gICAgY29uc3QgTCA9IFwiQmluZGluZ0lkZW50aWZpZXJcIjtcbiAgICBjb25zdCBNID0gXCJGb3JPZlN0YXRlbWVudFwiO1xuICAgIGNvbnN0IEQgPSBcIkludGVycG9sYXRpb25cIjtcbiAgICBjb25zdCBJID0gXCJBcnJheURlc3RydWN0dXJpbmdcIjtcbiAgICBjb25zdCBQID0gXCJPYmplY3REZXN0cnVjdHVyaW5nXCI7XG4gICAgY29uc3QgcSA9IFwiRGVzdHJ1Y3R1cmluZ0Fzc2lnbm1lbnRMZWFmXCI7XG4gICAgY29uc3QgXyA9IFwiQ3VzdG9tXCI7XG4gICAgY29uc3QgTyA9IFNjb3BlLmdldENvbnRleHQ7XG4gICAgZnVuY3Rpb24gYXN0RXZhbHVhdGUodCwgaCwgViwgSCkge1xuICAgICAgICBzd2l0Y2ggKHQuJGtpbmQpIHtcbiAgICAgICAgICBjYXNlIGU6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGV0IGUgPSBoLm92ZXJyaWRlQ29udGV4dDtcbiAgICAgICAgICAgICAgICBsZXQgcyA9IGg7XG4gICAgICAgICAgICAgICAgbGV0IGkgPSB0LmFuY2VzdG9yO1xuICAgICAgICAgICAgICAgIHdoaWxlIChpLS0gJiYgZSkge1xuICAgICAgICAgICAgICAgICAgICBzID0gcy5wYXJlbnQ7XG4gICAgICAgICAgICAgICAgICAgIGUgPSBzPy5vdmVycmlkZUNvbnRleHQgPz8gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGkgPCAxICYmIHMgPyBzLmJpbmRpbmdDb250ZXh0IDogdm9pZCAwO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgY2FzZSBzOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxldCB0ID0gaDtcbiAgICAgICAgICAgICAgICB3aGlsZSAodCAhPSBudWxsICYmICF0LmlzQm91bmRhcnkpIHtcbiAgICAgICAgICAgICAgICAgICAgdCA9IHQucGFyZW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdCA/IHQuYmluZGluZ0NvbnRleHQgOiB2b2lkIDA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICBjYXNlIG46XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgZSA9IE8oaCwgdC5uYW1lLCB0LmFuY2VzdG9yKTtcbiAgICAgICAgICAgICAgICBpZiAoSCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBILm9ic2VydmUoZSwgdC5uYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgcyA9IGVbdC5uYW1lXTtcbiAgICAgICAgICAgICAgICBpZiAocyA9PSBudWxsICYmIHQubmFtZSA9PT0gXCIkaG9zdFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZU1hcHBlZEVycm9yKDEwNSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChWPy5zdHJpY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFY/LmJvdW5kRm4gJiYgbChzKSA/IHMuYmluZChlKSA6IHM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBzID09IG51bGwgPyBcIlwiIDogVj8uYm91bmRGbiAmJiBsKHMpID8gcy5iaW5kKGUpIDogcztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIGNhc2UgaTpcbiAgICAgICAgICAgIHJldHVybiBnbG9iYWxUaGlzW3QubmFtZV07XG5cbiAgICAgICAgICBjYXNlIHg6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgZSA9IGdsb2JhbFRoaXNbdC5uYW1lXTtcbiAgICAgICAgICAgICAgICBpZiAobChlKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZSguLi50LmFyZ3MubWFwKCh0ID0+IGFzdEV2YWx1YXRlKHQsIGgsIFYsIEgpKSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIVY/LnN0cmljdEZuQ2FsbCAmJiBlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlTWFwcGVkRXJyb3IoMTA3KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIGNhc2UgYzpcbiAgICAgICAgICAgIHJldHVybiB0LmVsZW1lbnRzLm1hcCgodCA9PiBhc3RFdmFsdWF0ZSh0LCBoLCBWLCBIKSkpO1xuXG4gICAgICAgICAgY2FzZSB1OlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IGUgPSB7fTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBzID0gMDsgcyA8IHQua2V5cy5sZW5ndGg7ICsrcykge1xuICAgICAgICAgICAgICAgICAgICBlW3Qua2V5c1tzXV0gPSBhc3RFdmFsdWF0ZSh0LnZhbHVlc1tzXSwgaCwgViwgSCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgY2FzZSBmOlxuICAgICAgICAgICAgcmV0dXJuIHQudmFsdWU7XG5cbiAgICAgICAgICBjYXNlIGQ6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGV0IGUgPSB0LmNvb2tlZFswXTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBzID0gMDsgcyA8IHQuZXhwcmVzc2lvbnMubGVuZ3RoOyArK3MpIHtcbiAgICAgICAgICAgICAgICAgICAgZSArPSBTdHJpbmcoYXN0RXZhbHVhdGUodC5leHByZXNzaW9uc1tzXSwgaCwgViwgSCkpO1xuICAgICAgICAgICAgICAgICAgICBlICs9IHQuY29va2VkW3MgKyAxXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICBjYXNlIG06XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgZSA9IGFzdEV2YWx1YXRlKHQuZXhwcmVzc2lvbiwgaCwgViwgSCk7XG4gICAgICAgICAgICAgICAgc3dpdGNoICh0Lm9wZXJhdGlvbikge1xuICAgICAgICAgICAgICAgICAgY2FzZSBcInZvaWRcIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZvaWQgZTtcblxuICAgICAgICAgICAgICAgICAgY2FzZSBcInR5cGVvZlwiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHlwZW9mIGU7XG5cbiAgICAgICAgICAgICAgICAgIGNhc2UgXCIhXCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAhZTtcblxuICAgICAgICAgICAgICAgICAgY2FzZSBcIi1cIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC1lO1xuXG4gICAgICAgICAgICAgICAgICBjYXNlIFwiK1wiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gK2U7XG5cbiAgICAgICAgICAgICAgICAgIGNhc2UgXCItLVwiOlxuICAgICAgICAgICAgICAgICAgICBpZiAoSCAhPSBudWxsKSB0aHJvdyBjcmVhdGVNYXBwZWRFcnJvcigxMTMpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXN0QXNzaWduKHQuZXhwcmVzc2lvbiwgaCwgViwgZSAtIDEpICsgdC5wb3M7XG5cbiAgICAgICAgICAgICAgICAgIGNhc2UgXCIrK1wiOlxuICAgICAgICAgICAgICAgICAgICBpZiAoSCAhPSBudWxsKSB0aHJvdyBjcmVhdGVNYXBwZWRFcnJvcigxMTMpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXN0QXNzaWduKHQuZXhwcmVzc2lvbiwgaCwgViwgZSArIDEpIC0gdC5wb3M7XG5cbiAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZU1hcHBlZEVycm9yKDEwOSwgdC5vcGVyYXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIGNhc2UgZzpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlID0gdC5hcmdzLm1hcCgodCA9PiBhc3RFdmFsdWF0ZSh0LCBoLCBWLCBIKSkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHMgPSBPKGgsIHQubmFtZSwgdC5hbmNlc3Rvcik7XG4gICAgICAgICAgICAgICAgY29uc3QgaSA9IGdldEZ1bmN0aW9uKFY/LnN0cmljdEZuQ2FsbCwgcywgdC5uYW1lKTtcbiAgICAgICAgICAgICAgICBpZiAoaSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaS5hcHBseShzLCBlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIGNhc2UgcDpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlID0gYXN0RXZhbHVhdGUodC5vYmplY3QsIGgsIFYsIEgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHMgPSB0LmFyZ3MubWFwKCh0ID0+IGFzdEV2YWx1YXRlKHQsIGgsIFYsIEgpKSk7XG4gICAgICAgICAgICAgICAgY29uc3QgaSA9IGdldEZ1bmN0aW9uKFY/LnN0cmljdEZuQ2FsbCwgZSwgdC5uYW1lKTtcbiAgICAgICAgICAgICAgICBsZXQgbjtcbiAgICAgICAgICAgICAgICBpZiAoaSkge1xuICAgICAgICAgICAgICAgICAgICBuID0gaS5hcHBseShlLCBzKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGEoZSkgJiYgRi5pbmNsdWRlcyh0Lm5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBIPy5vYnNlcnZlQ29sbGVjdGlvbihlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIGNhc2UgdjpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlID0gYXN0RXZhbHVhdGUodC5mdW5jLCBoLCBWLCBIKTtcbiAgICAgICAgICAgICAgICBpZiAobChlKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZSguLi50LmFyZ3MubWFwKCh0ID0+IGFzdEV2YWx1YXRlKHQsIGgsIFYsIEgpKSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIVY/LnN0cmljdEZuQ2FsbCAmJiBlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlTWFwcGVkRXJyb3IoMTA3KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIGNhc2UgUzpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmdW5jID0gKC4uLmUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcyA9IHQuYXJncztcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaSA9IHQucmVzdDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbiA9IHMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgciA9IHMucmVkdWNlKCgodCwgcywgcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgJiYgciA9PT0gbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRbcy5uYW1lXSA9IGUuc2xpY2Uocik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRbcy5uYW1lXSA9IGVbcl07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdDtcbiAgICAgICAgICAgICAgICAgICAgfSksIHt9KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbCA9IFNjb3BlLmZyb21QYXJlbnQoaCwgcik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhc3RFdmFsdWF0ZSh0LmJvZHksIGwsIFYsIEgpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmM7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICBjYXNlIGI6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgZSA9IGFzdEV2YWx1YXRlKHQub2JqZWN0LCBoLCBWLCBIKTtcbiAgICAgICAgICAgICAgICBsZXQgcztcbiAgICAgICAgICAgICAgICBpZiAoVj8uc3RyaWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKEggIT09IG51bGwgJiYgIXQuYWNjZXNzR2xvYmFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBILm9ic2VydmUoZSwgdC5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzID0gZVt0Lm5hbWVdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoVj8uYm91bmRGbiAmJiBsKHMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcy5iaW5kKGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoSCAhPT0gbnVsbCAmJiByKGUpICYmICF0LmFjY2Vzc0dsb2JhbCkge1xuICAgICAgICAgICAgICAgICAgICBILm9ic2VydmUoZSwgdC5uYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcyA9IGVbdC5uYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFY/LmJvdW5kRm4gJiYgbChzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHMuYmluZChlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICBjYXNlIHc6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgZSA9IGFzdEV2YWx1YXRlKHQub2JqZWN0LCBoLCBWLCBIKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzID0gYXN0RXZhbHVhdGUodC5rZXksIGgsIFYsIEgpO1xuICAgICAgICAgICAgICAgIGlmIChyKGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChIICE9PSBudWxsICYmICF0LmFjY2Vzc0dsb2JhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgSC5vYnNlcnZlKGUsIHMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlW3NdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZSA9PSBudWxsID8gdm9pZCAwIDogZVtzXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIGNhc2UgeTpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlID0gdC5leHByZXNzaW9ucy5tYXAoKHQgPT4gYXN0RXZhbHVhdGUodCwgaCwgViwgSCkpKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzID0gYXN0RXZhbHVhdGUodC5mdW5jLCBoLCBWLCBIKTtcbiAgICAgICAgICAgICAgICBpZiAoIWwocykpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlTWFwcGVkRXJyb3IoMTEwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHModC5jb29rZWQsIC4uLmUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgY2FzZSBrOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IGUgPSB0LmxlZnQ7XG4gICAgICAgICAgICAgICAgY29uc3QgcyA9IHQucmlnaHQ7XG4gICAgICAgICAgICAgICAgc3dpdGNoICh0Lm9wZXJhdGlvbikge1xuICAgICAgICAgICAgICAgICAgY2FzZSBcIiYmXCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhc3RFdmFsdWF0ZShlLCBoLCBWLCBIKSAmJiBhc3RFdmFsdWF0ZShzLCBoLCBWLCBIKTtcblxuICAgICAgICAgICAgICAgICAgY2FzZSBcInx8XCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhc3RFdmFsdWF0ZShlLCBoLCBWLCBIKSB8fCBhc3RFdmFsdWF0ZShzLCBoLCBWLCBIKTtcblxuICAgICAgICAgICAgICAgICAgY2FzZSBcIj8/XCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhc3RFdmFsdWF0ZShlLCBoLCBWLCBIKSA/PyBhc3RFdmFsdWF0ZShzLCBoLCBWLCBIKTtcblxuICAgICAgICAgICAgICAgICAgY2FzZSBcIj09XCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhc3RFdmFsdWF0ZShlLCBoLCBWLCBIKSA9PSBhc3RFdmFsdWF0ZShzLCBoLCBWLCBIKTtcblxuICAgICAgICAgICAgICAgICAgY2FzZSBcIj09PVwiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXN0RXZhbHVhdGUoZSwgaCwgViwgSCkgPT09IGFzdEV2YWx1YXRlKHMsIGgsIFYsIEgpO1xuXG4gICAgICAgICAgICAgICAgICBjYXNlIFwiIT1cIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFzdEV2YWx1YXRlKGUsIGgsIFYsIEgpICE9IGFzdEV2YWx1YXRlKHMsIGgsIFYsIEgpO1xuXG4gICAgICAgICAgICAgICAgICBjYXNlIFwiIT09XCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhc3RFdmFsdWF0ZShlLCBoLCBWLCBIKSAhPT0gYXN0RXZhbHVhdGUocywgaCwgViwgSCk7XG5cbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJpbnN0YW5jZW9mXCI6XG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBhc3RFdmFsdWF0ZShzLCBoLCBWLCBIKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsKHQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFzdEV2YWx1YXRlKGUsIGgsIFYsIEgpIGluc3RhbmNlb2YgdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICBjYXNlIFwiaW5cIjpcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdCA9IGFzdEV2YWx1YXRlKHMsIGgsIFYsIEgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHIodCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXN0RXZhbHVhdGUoZSwgaCwgViwgSCkgaW4gdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICBjYXNlIFwiK1wiOlxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ID0gYXN0RXZhbHVhdGUoZSwgaCwgViwgSCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpID0gYXN0RXZhbHVhdGUocywgaCwgViwgSCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoVj8uc3RyaWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHQgKyBpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0IHx8ICFpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTnVtYmVyT3JCaWdJbnQodCkgfHwgaXNOdW1iZXJPckJpZ0ludChpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKHQgfHwgMCkgKyAoaSB8fCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzU3RyaW5nT3JEYXRlKHQpIHx8IGlzU3RyaW5nT3JEYXRlKGkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAodCB8fCBcIlwiKSArIChpIHx8IFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ICsgaTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICBjYXNlIFwiLVwiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXN0RXZhbHVhdGUoZSwgaCwgViwgSCkgLSBhc3RFdmFsdWF0ZShzLCBoLCBWLCBIKTtcblxuICAgICAgICAgICAgICAgICAgY2FzZSBcIipcIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFzdEV2YWx1YXRlKGUsIGgsIFYsIEgpICogYXN0RXZhbHVhdGUocywgaCwgViwgSCk7XG5cbiAgICAgICAgICAgICAgICAgIGNhc2UgXCIvXCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhc3RFdmFsdWF0ZShlLCBoLCBWLCBIKSAvIGFzdEV2YWx1YXRlKHMsIGgsIFYsIEgpO1xuXG4gICAgICAgICAgICAgICAgICBjYXNlIFwiJVwiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXN0RXZhbHVhdGUoZSwgaCwgViwgSCkgJSBhc3RFdmFsdWF0ZShzLCBoLCBWLCBIKTtcblxuICAgICAgICAgICAgICAgICAgY2FzZSBcIjxcIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFzdEV2YWx1YXRlKGUsIGgsIFYsIEgpIDwgYXN0RXZhbHVhdGUocywgaCwgViwgSCk7XG5cbiAgICAgICAgICAgICAgICAgIGNhc2UgXCI+XCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhc3RFdmFsdWF0ZShlLCBoLCBWLCBIKSA+IGFzdEV2YWx1YXRlKHMsIGgsIFYsIEgpO1xuXG4gICAgICAgICAgICAgICAgICBjYXNlIFwiPD1cIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFzdEV2YWx1YXRlKGUsIGgsIFYsIEgpIDw9IGFzdEV2YWx1YXRlKHMsIGgsIFYsIEgpO1xuXG4gICAgICAgICAgICAgICAgICBjYXNlIFwiPj1cIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFzdEV2YWx1YXRlKGUsIGgsIFYsIEgpID49IGFzdEV2YWx1YXRlKHMsIGgsIFYsIEgpO1xuXG4gICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVNYXBwZWRFcnJvcigxMDgsIHQub3BlcmF0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICBjYXNlIEM6XG4gICAgICAgICAgICByZXR1cm4gYXN0RXZhbHVhdGUodC5jb25kaXRpb24sIGgsIFYsIEgpID8gYXN0RXZhbHVhdGUodC55ZXMsIGgsIFYsIEgpIDogYXN0RXZhbHVhdGUodC5ubywgaCwgViwgSCk7XG5cbiAgICAgICAgICBjYXNlIEI6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGV0IGUgPSBhc3RFdmFsdWF0ZSh0LnZhbHVlLCBoLCBWLCBIKTtcbiAgICAgICAgICAgICAgICBpZiAodC5vcCAhPT0gXCI9XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKEggIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlTWFwcGVkRXJyb3IoMTEzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzID0gYXN0RXZhbHVhdGUodC50YXJnZXQsIGgsIFYsIEgpO1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHQub3ApIHtcbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiLz1cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGUgPSBzIC8gZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIio9XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBlID0gcyAqIGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCIrPVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgZSA9IHMgKyBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiLT1cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGUgPSBzIC0gZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZU1hcHBlZEVycm9yKDEwOCwgdC5vcCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFzdEFzc2lnbih0LnRhcmdldCwgaCwgViwgZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICBjYXNlIEE6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgZSA9IFY/LmdldENvbnZlcnRlcj8uKHQubmFtZSk7XG4gICAgICAgICAgICAgICAgaWYgKGUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVNYXBwZWRFcnJvcigxMDMsIHQubmFtZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChcInRvVmlld1wiIGluIGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGUudG9WaWV3KGFzdEV2YWx1YXRlKHQuZXhwcmVzc2lvbiwgaCwgViwgSCksIC4uLnQuYXJncy5tYXAoKHQgPT4gYXN0RXZhbHVhdGUodCwgaCwgViwgSCkpKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBhc3RFdmFsdWF0ZSh0LmV4cHJlc3Npb24sIGgsIFYsIEgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgY2FzZSBFOlxuICAgICAgICAgICAgcmV0dXJuIGFzdEV2YWx1YXRlKHQuZXhwcmVzc2lvbiwgaCwgViwgSCk7XG5cbiAgICAgICAgICBjYXNlIEw6XG4gICAgICAgICAgICByZXR1cm4gdC5uYW1lO1xuXG4gICAgICAgICAgY2FzZSBNOlxuICAgICAgICAgICAgcmV0dXJuIGFzdEV2YWx1YXRlKHQuaXRlcmFibGUsIGgsIFYsIEgpO1xuXG4gICAgICAgICAgY2FzZSBEOlxuICAgICAgICAgICAgaWYgKHQuaXNNdWx0aSkge1xuICAgICAgICAgICAgICAgIGxldCBlID0gdC5wYXJ0c1swXTtcbiAgICAgICAgICAgICAgICBsZXQgcyA9IDA7XG4gICAgICAgICAgICAgICAgZm9yICg7cyA8IHQuZXhwcmVzc2lvbnMubGVuZ3RoOyArK3MpIHtcbiAgICAgICAgICAgICAgICAgICAgZSArPSBqdChhc3RFdmFsdWF0ZSh0LmV4cHJlc3Npb25zW3NdLCBoLCBWLCBIKSk7XG4gICAgICAgICAgICAgICAgICAgIGUgKz0gdC5wYXJ0c1tzICsgMV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYCR7dC5wYXJ0c1swXX0ke2FzdEV2YWx1YXRlKHQuZmlyc3RFeHByZXNzaW9uLCBoLCBWLCBIKX0ke3QucGFydHNbMV19YDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIGNhc2UgcTpcbiAgICAgICAgICAgIHJldHVybiBhc3RFdmFsdWF0ZSh0LnRhcmdldCwgaCwgViwgSCk7XG5cbiAgICAgICAgICBjYXNlIEk6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHQubGlzdC5tYXAoKHQgPT4gYXN0RXZhbHVhdGUodCwgaCwgViwgSCkpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIGNhc2UgUjpcbiAgICAgICAgICBjYXNlIFQ6XG4gICAgICAgICAgY2FzZSBQOlxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gdm9pZCAwO1xuXG4gICAgICAgICAgY2FzZSBfOlxuICAgICAgICAgICAgcmV0dXJuIHQuZXZhbHVhdGUoaCwgViwgSCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gYXN0QXNzaWduKGUsIHMsIGksIGwpIHtcbiAgICAgICAgc3dpdGNoIChlLiRraW5kKSB7XG4gICAgICAgICAgY2FzZSBuOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChlLm5hbWUgPT09IFwiJGhvc3RcIikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVNYXBwZWRFcnJvcigxMDYpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCB0ID0gTyhzLCBlLm5hbWUsIGUuYW5jZXN0b3IpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0W2UubmFtZV0gPSBsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgY2FzZSBiOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBhc3RFdmFsdWF0ZShlLm9iamVjdCwgcywgaSwgbnVsbCk7XG4gICAgICAgICAgICAgICAgaWYgKHIodCkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUubmFtZSA9PT0gXCJsZW5ndGhcIiAmJiBhKHQpICYmICFpc05hTihsKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdC5zcGxpY2UobCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0W2UubmFtZV0gPSBsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYXN0QXNzaWduKGUub2JqZWN0LCBzLCBpLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBbZS5uYW1lXTogbFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICBjYXNlIHc6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgdCA9IGFzdEV2YWx1YXRlKGUub2JqZWN0LCBzLCBpLCBudWxsKTtcbiAgICAgICAgICAgICAgICBjb25zdCBuID0gYXN0RXZhbHVhdGUoZS5rZXksIHMsIGksIG51bGwpO1xuICAgICAgICAgICAgICAgIGlmIChhKHQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuID09PSBcImxlbmd0aFwiICYmICFpc05hTihsKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdC5zcGxpY2UobCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoaChuKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdC5zcGxpY2UobiwgMSwgbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdFtuXSA9IGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICBjYXNlIEI6XG4gICAgICAgICAgICBhc3RBc3NpZ24oZS52YWx1ZSwgcywgaSwgbCk7XG4gICAgICAgICAgICByZXR1cm4gYXN0QXNzaWduKGUudGFyZ2V0LCBzLCBpLCBsKTtcblxuICAgICAgICAgIGNhc2UgQTpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0ID0gaT8uZ2V0Q29udmVydGVyPy4oZS5uYW1lKTtcbiAgICAgICAgICAgICAgICBpZiAodCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZU1hcHBlZEVycm9yKDEwMywgZS5uYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKFwiZnJvbVZpZXdcIiBpbiB0KSB7XG4gICAgICAgICAgICAgICAgICAgIGwgPSB0LmZyb21WaWV3KGwsIC4uLmUuYXJncy5tYXAoKHQgPT4gYXN0RXZhbHVhdGUodCwgcywgaSwgbnVsbCkpKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBhc3RBc3NpZ24oZS5leHByZXNzaW9uLCBzLCBpLCBsKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIGNhc2UgRTpcbiAgICAgICAgICAgIHJldHVybiBhc3RBc3NpZ24oZS5leHByZXNzaW9uLCBzLCBpLCBsKTtcblxuICAgICAgICAgIGNhc2UgSTpcbiAgICAgICAgICBjYXNlIFA6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgdCA9IGUubGlzdDtcbiAgICAgICAgICAgICAgICBjb25zdCBuID0gdC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgbGV0IHI7XG4gICAgICAgICAgICAgICAgbGV0IGE7XG4gICAgICAgICAgICAgICAgZm9yIChyID0gMDsgciA8IG47IHIrKykge1xuICAgICAgICAgICAgICAgICAgICBhID0gdFtyXTtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChhLiRraW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSBxOlxuICAgICAgICAgICAgICAgICAgICAgICAgYXN0QXNzaWduKGEsIHMsIGksIGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIEk6XG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSBQOlxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbCAhPT0gXCJvYmplY3RcIiB8fCBsID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZU1hcHBlZEVycm9yKDExMik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0ID0gYXN0RXZhbHVhdGUoYS5zb3VyY2UsIFNjb3BlLmNyZWF0ZShsKSwgaSwgbnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHQgPT09IHZvaWQgMCAmJiBhLmluaXRpYWxpemVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQgPSBhc3RFdmFsdWF0ZShhLmluaXRpYWxpemVyLCBzLCBpLCBudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXN0QXNzaWduKGEsIHMsIGksIHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgY2FzZSBxOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChlIGluc3RhbmNlb2YgdCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBsICE9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVNYXBwZWRFcnJvcigxMTIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGxldCB0ID0gYXN0RXZhbHVhdGUoZS5zb3VyY2UsIFNjb3BlLmNyZWF0ZShsKSwgaSwgbnVsbCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ID09PSB2b2lkIDAgJiYgZS5pbml0aWFsaXplcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdCA9IGFzdEV2YWx1YXRlKGUuaW5pdGlhbGl6ZXIsIHMsIGksIG51bGwpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGFzdEFzc2lnbihlLnRhcmdldCwgcywgaSwgdCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGwgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbCAhPT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlTWFwcGVkRXJyb3IoMTEyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ID0gZS5pbmRleE9yUHJvcGVydGllcztcbiAgICAgICAgICAgICAgICAgICAgbGV0IG47XG4gICAgICAgICAgICAgICAgICAgIGlmIChoKHQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkobCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVNYXBwZWRFcnJvcigxMTIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgbiA9IGwuc2xpY2UodCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuID0gT2JqZWN0LmVudHJpZXMobCkucmVkdWNlKCgoZSwgW3MsIGldKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0LmluY2x1ZGVzKHMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVbc10gPSBpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLCB7fSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYXN0QXNzaWduKGUudGFyZ2V0LCBzLCBpLCBuKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICBjYXNlIF86XG4gICAgICAgICAgICByZXR1cm4gZS5hc3NpZ24ocywgaSwgbCk7XG5cbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBhc3RCaW5kKHQsIGUsIHMpIHtcbiAgICAgICAgc3dpdGNoICh0LiRraW5kKSB7XG4gICAgICAgICAgY2FzZSBFOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IGkgPSB0Lm5hbWU7XG4gICAgICAgICAgICAgICAgY29uc3QgbiA9IHQua2V5O1xuICAgICAgICAgICAgICAgIGNvbnN0IHIgPSBzLmdldEJlaGF2aW9yPy4oaSk7XG4gICAgICAgICAgICAgICAgaWYgKHIgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVNYXBwZWRFcnJvcigxMDEsIGkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc1tuXSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHNbbl0gPSByO1xuICAgICAgICAgICAgICAgICAgICByLmJpbmQ/LihlLCBzLCAuLi50LmFyZ3MubWFwKCh0ID0+IGFzdEV2YWx1YXRlKHQsIGUsIHMsIG51bGwpKSkpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZU1hcHBlZEVycm9yKDEwMiwgaSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGFzdEJpbmQodC5leHByZXNzaW9uLCBlLCBzKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICBjYXNlIEE6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgaSA9IHQubmFtZTtcbiAgICAgICAgICAgICAgICBjb25zdCBuID0gcy5nZXRDb252ZXJ0ZXI/LihpKTtcbiAgICAgICAgICAgICAgICBpZiAobiA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZU1hcHBlZEVycm9yKDEwMywgaSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHIgPSBuLnNpZ25hbHM7XG4gICAgICAgICAgICAgICAgaWYgKHIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ID0gcy5nZXRTaWduYWxlcj8uKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGUgPSByLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKDtpIDwgZTsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0Py5hZGRTaWduYWxMaXN0ZW5lcihyW2ldLCBzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhc3RCaW5kKHQuZXhwcmVzc2lvbiwgZSwgcyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgY2FzZSBNOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGFzdEJpbmQodC5pdGVyYWJsZSwgZSwgcyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICBjYXNlIF86XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdC5iaW5kPy4oZSwgcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gYXN0VW5iaW5kKHQsIGUsIHMpIHtcbiAgICAgICAgc3dpdGNoICh0LiRraW5kKSB7XG4gICAgICAgICAgY2FzZSBFOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IGkgPSB0LmtleTtcbiAgICAgICAgICAgICAgICBjb25zdCBuID0gcztcbiAgICAgICAgICAgICAgICBpZiAobltpXSAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG5baV0udW5iaW5kPy4oZSwgcyk7XG4gICAgICAgICAgICAgICAgICAgIG5baV0gPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGFzdFVuYmluZCh0LmV4cHJlc3Npb24sIGUsIHMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgY2FzZSBBOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IGkgPSBzLmdldENvbnZlcnRlcj8uKHQubmFtZSk7XG4gICAgICAgICAgICAgICAgaWYgKGk/LnNpZ25hbHMgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IG4gPSBzLmdldFNpZ25hbGVyPy4oKTtcbiAgICAgICAgICAgICAgICBsZXQgciA9IDA7XG4gICAgICAgICAgICAgICAgZm9yICg7ciA8IGkuc2lnbmFscy5sZW5ndGg7ICsrcikge1xuICAgICAgICAgICAgICAgICAgICBuPy5yZW1vdmVTaWduYWxMaXN0ZW5lcihpLnNpZ25hbHNbcl0sIHMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhc3RVbmJpbmQodC5leHByZXNzaW9uLCBlLCBzKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIGNhc2UgTTpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhc3RVbmJpbmQodC5pdGVyYWJsZSwgZSwgcyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICBjYXNlIF86XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdC51bmJpbmQ/LihlLCBzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBnZXRGdW5jdGlvbiA9ICh0LCBlLCBzKSA9PiB7XG4gICAgICAgIGNvbnN0IGkgPSBlID09IG51bGwgPyBudWxsIDogZVtzXTtcbiAgICAgICAgaWYgKGwoaSkpIHtcbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdCAmJiBpID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IGNyZWF0ZU1hcHBlZEVycm9yKDExMSwgcyk7XG4gICAgfTtcbiAgICBjb25zdCBpc051bWJlck9yQmlnSW50ID0gdCA9PiB7XG4gICAgICAgIHN3aXRjaCAodHlwZW9mIHQpIHtcbiAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgICAgY2FzZSBcImJpZ2ludFwiOlxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBpc1N0cmluZ09yRGF0ZSA9IHQgPT4ge1xuICAgICAgICBzd2l0Y2ggKHR5cGVvZiB0KSB7XG4gICAgICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgICAgICByZXR1cm4gdCBpbnN0YW5jZW9mIERhdGU7XG5cbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBGID0gXCJhdCBtYXAgZmlsdGVyIGluY2x1ZGVzIGluZGV4T2YgbGFzdEluZGV4T2YgZmluZEluZGV4IGZpbmQgZmxhdCBmbGF0TWFwIGpvaW4gcmVkdWNlIHJlZHVjZVJpZ2h0IHNsaWNlIGV2ZXJ5IHNvbWUgc29ydFwiLnNwbGl0KFwiIFwiKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBhc3RFdmFsdWF0ZTogYXN0RXZhbHVhdGUsXG4gICAgICAgIGFzdEFzc2lnbjogYXN0QXNzaWduLFxuICAgICAgICBhc3RCaW5kOiBhc3RCaW5kLFxuICAgICAgICBhc3RVbmJpbmQ6IGFzdFVuYmluZFxuICAgIH07XG59KSgpO1xuXG50eXBlb2YgU3VwcHJlc3NlZEVycm9yID09PSBcImZ1bmN0aW9uXCIgPyBTdXBwcmVzc2VkRXJyb3IgOiBmdW5jdGlvbih0LCBlLCBzKSB7XG4gICAgdmFyIGkgPSBuZXcgRXJyb3Iocyk7XG4gICAgcmV0dXJuIGkubmFtZSA9IFwiU3VwcHJlc3NlZEVycm9yXCIsIGkuZXJyb3IgPSB0LCBpLnN1cHByZXNzZWQgPSBlLCBpO1xufTtcblxuY29uc3Qge2RlZmF1bHQ6IHVlLCBvbmVUaW1lOiBmZSwgdG9WaWV3OiBkZSwgZnJvbVZpZXc6IG1lLCB0d29XYXk6IGdlfSA9IGN0O1xuXG5jb25zdCBwZSA9IEZ0LmdldDtcblxuY29uc3QgdmUgPSBGdC5oYXM7XG5cbmNvbnN0IHhlID0gRnQuZGVmaW5lO1xuXG5jb25zdCB7YW5ub3RhdGlvbjogYmV9ID0gYztcblxuY29uc3Qgd2UgPSBiZS5rZXlGb3I7XG5cbmZ1bmN0aW9uIGJpbmRhYmxlKHQsIGUpIHtcbiAgICBsZXQgcyA9IHZvaWQgMDtcbiAgICBmdW5jdGlvbiBkZWNvcmF0b3IodCwgZSkge1xuICAgICAgICBsZXQgaTtcbiAgICAgICAgc3dpdGNoIChlLmtpbmQpIHtcbiAgICAgICAgICBjYXNlIFwiZ2V0dGVyXCI6XG4gICAgICAgICAgY2FzZSBcImZpZWxkXCI6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgdCA9IGUubmFtZTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHQgIT09IFwic3RyaW5nXCIpIHRocm93IGNyZWF0ZU1hcHBlZEVycm9yKDIyNyk7XG4gICAgICAgICAgICAgICAgaSA9IHQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICBjYXNlIFwiY2xhc3NcIjpcbiAgICAgICAgICAgIGlmIChzID09IG51bGwpIHRocm93IGNyZWF0ZU1hcHBlZEVycm9yKDIyOCk7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHMgPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgIGkgPSBzO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0ID0gcy5uYW1lO1xuICAgICAgICAgICAgICAgIGlmICghdCkgdGhyb3cgY3JlYXRlTWFwcGVkRXJyb3IoMjI5KTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHQgIT09IFwic3RyaW5nXCIpIHRocm93IGNyZWF0ZU1hcHBlZEVycm9yKDIyNyk7XG4gICAgICAgICAgICAgICAgaSA9IHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByID0gcyA9PSBudWxsIHx8IHR5cGVvZiBzID09PSBcInN0cmluZ1wiID8ge1xuICAgICAgICAgICAgbmFtZTogaVxuICAgICAgICB9IDogcztcbiAgICAgICAgY29uc3QgbCA9IGUubWV0YWRhdGFbeWVdID8/PSBuKCk7XG4gICAgICAgIGxbaV0gPSBCaW5kYWJsZURlZmluaXRpb24uY3JlYXRlKGksIHIpO1xuICAgIH1cbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgcyA9IHt9O1xuICAgICAgICBkZWNvcmF0b3IodCwgZSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9IGVsc2UgaWYgKGkodCkpIHtcbiAgICAgICAgcyA9IHQ7XG4gICAgICAgIHJldHVybiBkZWNvcmF0b3I7XG4gICAgfVxuICAgIHMgPSB0ID09PSB2b2lkIDAgPyB7fSA6IHQ7XG4gICAgcmV0dXJuIGRlY29yYXRvcjtcbn1cblxuY29uc3QgeWUgPSAvKkBfX1BVUkVfXyovIHdlKFwiYmluZGFibGVzXCIpO1xuXG5jb25zdCBrZSA9IFV0KHtcbiAgICBuYW1lOiB5ZSxcbiAgICBrZXlGcm9tOiB0ID0+IGAke3llfToke3R9YCxcbiAgICBmcm9tKC4uLnQpIHtcbiAgICAgICAgY29uc3QgZSA9IHt9O1xuICAgICAgICBjb25zdCBzID0gQXJyYXkuaXNBcnJheTtcbiAgICAgICAgZnVuY3Rpb24gYWRkTmFtZSh0KSB7XG4gICAgICAgICAgICBlW3RdID0gQmluZGFibGVEZWZpbml0aW9uLmNyZWF0ZSh0KTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBhZGREZXNjcmlwdGlvbih0LCBzKSB7XG4gICAgICAgICAgICBlW3RdID0gcyBpbnN0YW5jZW9mIEJpbmRhYmxlRGVmaW5pdGlvbiA/IHMgOiBCaW5kYWJsZURlZmluaXRpb24uY3JlYXRlKHQsIHMgPT09IHRydWUgPyB7fSA6IHMpO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGFkZExpc3QodCkge1xuICAgICAgICAgICAgaWYgKHModCkpIHtcbiAgICAgICAgICAgICAgICB0LmZvckVhY2goKHQgPT4gaSh0KSA/IGFkZE5hbWUodCkgOiBhZGREZXNjcmlwdGlvbih0Lm5hbWUsIHQpKSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHQgaW5zdGFuY2VvZiBCaW5kYWJsZURlZmluaXRpb24pIHtcbiAgICAgICAgICAgICAgICBlW3QubmFtZV0gPSB0O1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0ICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICBYdCh0KS5mb3JFYWNoKChlID0+IGFkZERlc2NyaXB0aW9uKGUsIHRbZV0pKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdC5mb3JFYWNoKGFkZExpc3QpO1xuICAgICAgICByZXR1cm4gZTtcbiAgICB9LFxuICAgIGdldEFsbCh0KSB7XG4gICAgICAgIGNvbnN0IGUgPSBbXTtcbiAgICAgICAgY29uc3QgcyA9IHUodCk7XG4gICAgICAgIGxldCBpID0gcy5sZW5ndGg7XG4gICAgICAgIGxldCBuO1xuICAgICAgICB3aGlsZSAoLS1pID49IDApIHtcbiAgICAgICAgICAgIG4gPSBzW2ldO1xuICAgICAgICAgICAgY29uc3QgdCA9IHBlKHllLCBuKTtcbiAgICAgICAgICAgIGlmICh0ID09IG51bGwpIGNvbnRpbnVlO1xuICAgICAgICAgICAgZS5wdXNoKC4uLk9iamVjdC52YWx1ZXModCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlO1xuICAgIH0sXG4gICAgaSh0LCBlKSB7XG4gICAgICAgIGxldCBzID0gcGUoeWUsIGUpO1xuICAgICAgICBpZiAocyA9PSBudWxsKSB7XG4gICAgICAgICAgICB4ZShzID0gbigpLCBlLCB5ZSk7XG4gICAgICAgIH1cbiAgICAgICAgc1t0Lm5hbWVdID0gdDtcbiAgICB9XG59KTtcblxuY2xhc3MgQmluZGFibGVEZWZpbml0aW9uIHtcbiAgICBjb25zdHJ1Y3Rvcih0LCBlLCBzLCBpLCBuLCByKSB7XG4gICAgICAgIHRoaXMuYXR0cmlidXRlID0gdDtcbiAgICAgICAgdGhpcy5jYWxsYmFjayA9IGU7XG4gICAgICAgIHRoaXMubW9kZSA9IHM7XG4gICAgICAgIHRoaXMucHJpbWFyeSA9IGk7XG4gICAgICAgIHRoaXMubmFtZSA9IG47XG4gICAgICAgIHRoaXMuc2V0ID0gcjtcbiAgICB9XG4gICAgc3RhdGljIGNyZWF0ZSh0LCBlID0ge30pIHtcbiAgICAgICAgY29uc3QgcyA9IGUubW9kZSA/PyBkZTtcbiAgICAgICAgcmV0dXJuIG5ldyBCaW5kYWJsZURlZmluaXRpb24oZS5hdHRyaWJ1dGUgPz8gZih0KSwgZS5jYWxsYmFjayA/PyBgJHt0fUNoYW5nZWRgLCBpKHMpID8gY3Rbc10gPz8gdWUgOiBzLCBlLnByaW1hcnkgPz8gZmFsc2UsIGUubmFtZSA/PyB0LCBlLnNldCA/PyBnZXRJbnRlcmNlcHRvcihlKSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBjb2VyY2VyKHQsIGUpIHtcbiAgICBlLmFkZEluaXRpYWxpemVyKChmdW5jdGlvbigpIHtcbiAgICAgICAgQ2UuZGVmaW5lKHRoaXMsIGUubmFtZSk7XG4gICAgfSkpO1xufVxuXG5jb25zdCBDZSA9IHtcbiAgICBrZXk6IC8qQF9fUFVSRV9fKi8gd2UoXCJjb2VyY2VyXCIpLFxuICAgIGRlZmluZSh0LCBlKSB7XG4gICAgICAgIHhlKHRbZV0uYmluZCh0KSwgdCwgQ2Uua2V5KTtcbiAgICB9LFxuICAgIGZvcih0KSB7XG4gICAgICAgIHJldHVybiBwZShDZS5rZXksIHQpO1xuICAgIH1cbn07XG5cbmZ1bmN0aW9uIGdldEludGVyY2VwdG9yKHQgPSB7fSkge1xuICAgIGNvbnN0IGUgPSB0LnR5cGUgPz8gbnVsbDtcbiAgICBpZiAoZSA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBkO1xuICAgIH1cbiAgICBsZXQgcztcbiAgICBzd2l0Y2ggKGUpIHtcbiAgICAgIGNhc2UgTnVtYmVyOlxuICAgICAgY2FzZSBCb29sZWFuOlxuICAgICAgY2FzZSBTdHJpbmc6XG4gICAgICBjYXNlIEJpZ0ludDpcbiAgICAgICAgcyA9IGU7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCB0ID0gZS5jb2VyY2U7XG4gICAgICAgICAgICBzID0gdHlwZW9mIHQgPT09IFwiZnVuY3Rpb25cIiA/IHQuYmluZChlKSA6IENlLmZvcihlKSA/PyBkO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHMgPT09IGQgPyBzIDogY3JlYXRlQ29lcmNlcihzLCB0Lm51bGxhYmxlKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlQ29lcmNlcih0LCBlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHMsIGkpIHtcbiAgICAgICAgaWYgKCFpPy5lbmFibGVDb2VyY2lvbikgcmV0dXJuIHM7XG4gICAgICAgIHJldHVybiAoZSA/PyAoaT8uY29lcmNlTnVsbGlzaCA/PyBmYWxzZSA/IGZhbHNlIDogdHJ1ZSkpICYmIHMgPT0gbnVsbCA/IHMgOiB0KHMsIGkpO1xuICAgIH07XG59XG5cbmNvbnN0IEJlID0gbS5jcmVhdGVJbnRlcmZhY2U7XG5cbmNvbnN0IFNlID0gZy5zaW5nbGV0b247XG5cbmNvbnN0IEFlID0gZy5hbGlhc1RvO1xuXG5jb25zdCBFZSA9IGcuaW5zdGFuY2U7XG5cbmcuY2FsbGJhY2s7XG5cbmcudHJhbnNpZW50O1xuXG5jb25zdCByZWdpc3RlclJlc29sdmVyID0gKHQsIGUsIHMpID0+IHQucmVnaXN0ZXJSZXNvbHZlcihlLCBzKTtcblxuZnVuY3Rpb24gYWxpYXMoLi4udCkge1xuICAgIHJldHVybiBmdW5jdGlvbihlLCBzKSB7XG4gICAgICAgIHMuYWRkSW5pdGlhbGl6ZXIoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgY29uc3QgZSA9IHdlKFwiYWxpYXNlc1wiKTtcbiAgICAgICAgICAgIGNvbnN0IHMgPSBwZShlLCB0aGlzKTtcbiAgICAgICAgICAgIGlmIChzID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICB4ZSh0LCB0aGlzLCBlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcy5wdXNoKC4uLnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gcmVnaXN0ZXJBbGlhc2VzKHQsIGUsIHMsIGkpIHtcbiAgICBmb3IgKGxldCBuID0gMCwgciA9IHQubGVuZ3RoOyBuIDwgcjsgKytuKSB7XG4gICAgICAgIGcuYWxpYXNUbyhzLCBlLmtleUZyb20odFtuXSkpLnJlZ2lzdGVyKGkpO1xuICAgIH1cbn1cblxuY29uc3QgUmUgPSBcImN1c3RvbS1lbGVtZW50XCI7XG5cbmNvbnN0IFRlID0gXCJjdXN0b20tYXR0cmlidXRlXCI7XG5cbmNvbnN0IGdldERlZmluaXRpb25Gcm9tU3RhdGljQXUgPSAodCwgZSwgcywgaSA9IFwiX19hdV9zdGF0aWNfcmVzb3VyY2VfX1wiKSA9PiB7XG4gICAgbGV0IG4gPSBwZShpLCB0KTtcbiAgICBpZiAobiA9PSBudWxsKSB7XG4gICAgICAgIGlmICh0LiRhdT8udHlwZSA9PT0gZSkge1xuICAgICAgICAgICAgbiA9IHModC4kYXUsIHQpO1xuICAgICAgICAgICAgeGUobiwgdCwgaSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG47XG59O1xuXG5mdW5jdGlvbiBiaW5kaW5nQmVoYXZpb3IodCkge1xuICAgIHJldHVybiBmdW5jdGlvbihlLCBzKSB7XG4gICAgICAgIHMuYWRkSW5pdGlhbGl6ZXIoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgRGUuZGVmaW5lKHQsIHRoaXMpO1xuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybiBlO1xuICAgIH07XG59XG5cbmNsYXNzIEJpbmRpbmdCZWhhdmlvckRlZmluaXRpb24ge1xuICAgIGNvbnN0cnVjdG9yKHQsIGUsIHMsIGkpIHtcbiAgICAgICAgdGhpcy5UeXBlID0gdDtcbiAgICAgICAgdGhpcy5uYW1lID0gZTtcbiAgICAgICAgdGhpcy5hbGlhc2VzID0gcztcbiAgICAgICAgdGhpcy5rZXkgPSBpO1xuICAgIH1cbiAgICBzdGF0aWMgY3JlYXRlKHQsIGUpIHtcbiAgICAgICAgbGV0IHM7XG4gICAgICAgIGxldCBuO1xuICAgICAgICBpZiAoaSh0KSkge1xuICAgICAgICAgICAgcyA9IHQ7XG4gICAgICAgICAgICBuID0ge1xuICAgICAgICAgICAgICAgIG5hbWU6IHNcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzID0gdC5uYW1lO1xuICAgICAgICAgICAgbiA9IHQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBCaW5kaW5nQmVoYXZpb3JEZWZpbml0aW9uKGUsIHAoZ2V0QmVoYXZpb3JBbm5vdGF0aW9uKGUsIFwibmFtZVwiKSwgcyksIHYoZ2V0QmVoYXZpb3JBbm5vdGF0aW9uKGUsIFwiYWxpYXNlc1wiKSwgbi5hbGlhc2VzLCBlLmFsaWFzZXMpLCBEZS5rZXlGcm9tKHMpKTtcbiAgICB9XG4gICAgcmVnaXN0ZXIodCwgZSkge1xuICAgICAgICBjb25zdCBzID0gdGhpcy5UeXBlO1xuICAgICAgICBjb25zdCBpID0gdHlwZW9mIGUgPT09IFwic3RyaW5nXCIgPyBnZXRCaW5kaW5nQmVoYXZpb3JLZXlGcm9tKGUpIDogdGhpcy5rZXk7XG4gICAgICAgIGNvbnN0IG4gPSB0aGlzLmFsaWFzZXM7XG4gICAgICAgIGlmICghdC5oYXMoaSwgZmFsc2UpKSB7XG4gICAgICAgICAgICB0LnJlZ2lzdGVyKHQuaGFzKHMsIGZhbHNlKSA/IG51bGwgOiBTZShzLCBzKSwgQWUocywgaSksIC4uLm4ubWFwKCh0ID0+IEFlKHMsIGdldEJpbmRpbmdCZWhhdmlvcktleUZyb20odCkpKSkpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5jb25zdCBMZSA9IFwiYmluZGluZy1iZWhhdmlvclwiO1xuXG5jb25zdCBNZSA9IC8qQF9fUFVSRV9fKi8gdyhMZSk7XG5cbmNvbnN0IGdldEJlaGF2aW9yQW5ub3RhdGlvbiA9ICh0LCBlKSA9PiBwZSh3ZShlKSwgdCk7XG5cbmNvbnN0IGdldEJpbmRpbmdCZWhhdmlvcktleUZyb20gPSB0ID0+IGAke01lfToke3R9YDtcblxuY29uc3QgRGUgPSAvKkBfX1BVUkVfXyovIFV0KHtcbiAgICBuYW1lOiBNZSxcbiAgICBrZXlGcm9tOiBnZXRCaW5kaW5nQmVoYXZpb3JLZXlGcm9tLFxuICAgIGlzVHlwZSh0KSB7XG4gICAgICAgIHJldHVybiBsKHQpICYmICh2ZShNZSwgdCkgfHwgdC4kYXU/LnR5cGUgPT09IExlKTtcbiAgICB9LFxuICAgIGRlZmluZSh0LCBlKSB7XG4gICAgICAgIGNvbnN0IHMgPSBCaW5kaW5nQmVoYXZpb3JEZWZpbml0aW9uLmNyZWF0ZSh0LCBlKTtcbiAgICAgICAgY29uc3QgaSA9IHMuVHlwZTtcbiAgICAgICAgeGUocywgaSwgTWUsIHgpO1xuICAgICAgICByZXR1cm4gaTtcbiAgICB9LFxuICAgIGdldERlZmluaXRpb24odCkge1xuICAgICAgICBjb25zdCBlID0gcGUoTWUsIHQpID8/IGdldERlZmluaXRpb25Gcm9tU3RhdGljQXUodCwgTGUsIEJpbmRpbmdCZWhhdmlvckRlZmluaXRpb24uY3JlYXRlKTtcbiAgICAgICAgaWYgKGUgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlTWFwcGVkRXJyb3IoMTUxLCB0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZTtcbiAgICB9LFxuICAgIGZpbmQodCwgZSkge1xuICAgICAgICBjb25zdCBzID0gdC5maW5kKExlLCBlKTtcbiAgICAgICAgcmV0dXJuIHMgPT0gbnVsbCA/IG51bGwgOiBwZShNZSwgcykgPz8gZ2V0RGVmaW5pdGlvbkZyb21TdGF0aWNBdShzLCBMZSwgQmluZGluZ0JlaGF2aW9yRGVmaW5pdGlvbi5jcmVhdGUpID8/IG51bGw7XG4gICAgfSxcbiAgICBnZXQodCwgZSkge1xuICAgICAgICByZXR1cm4gdC5nZXQoYihnZXRCaW5kaW5nQmVoYXZpb3JLZXlGcm9tKGUpKSk7XG4gICAgfVxufSk7XG5cbmNvbnN0IEllID0gbmV3IE1hcDtcblxuY29uc3QgY3JlYXRlQ29uZmlnID0gdCA9PiAoe1xuICAgIHR5cGU6IExlLFxuICAgIG5hbWU6IHRcbn0pO1xuXG5jbGFzcyBCaW5kaW5nTW9kZUJlaGF2aW9yIHtcbiAgICBiaW5kKHQsIGUpIHtcbiAgICAgICAgSWUuc2V0KGUsIGUubW9kZSk7XG4gICAgICAgIGUubW9kZSA9IHRoaXMubW9kZTtcbiAgICB9XG4gICAgdW5iaW5kKHQsIGUpIHtcbiAgICAgICAgZS5tb2RlID0gSWUuZ2V0KGUpO1xuICAgICAgICBJZS5kZWxldGUoZSk7XG4gICAgfVxufVxuXG5jbGFzcyBPbmVUaW1lQmluZGluZ0JlaGF2aW9yIGV4dGVuZHMgQmluZGluZ01vZGVCZWhhdmlvciB7XG4gICAgZ2V0IG1vZGUoKSB7XG4gICAgICAgIHJldHVybiBmZTtcbiAgICB9XG59XG5cbk9uZVRpbWVCaW5kaW5nQmVoYXZpb3IuJGF1ID0gY3JlYXRlQ29uZmlnKFwib25lVGltZVwiKTtcblxuY2xhc3MgVG9WaWV3QmluZGluZ0JlaGF2aW9yIGV4dGVuZHMgQmluZGluZ01vZGVCZWhhdmlvciB7XG4gICAgZ2V0IG1vZGUoKSB7XG4gICAgICAgIHJldHVybiBkZTtcbiAgICB9XG59XG5cblRvVmlld0JpbmRpbmdCZWhhdmlvci4kYXUgPSBjcmVhdGVDb25maWcoXCJ0b1ZpZXdcIik7XG5cbmNsYXNzIEZyb21WaWV3QmluZGluZ0JlaGF2aW9yIGV4dGVuZHMgQmluZGluZ01vZGVCZWhhdmlvciB7XG4gICAgZ2V0IG1vZGUoKSB7XG4gICAgICAgIHJldHVybiBtZTtcbiAgICB9XG59XG5cbkZyb21WaWV3QmluZGluZ0JlaGF2aW9yLiRhdSA9IGNyZWF0ZUNvbmZpZyhcImZyb21WaWV3XCIpO1xuXG5jbGFzcyBUd29XYXlCaW5kaW5nQmVoYXZpb3IgZXh0ZW5kcyBCaW5kaW5nTW9kZUJlaGF2aW9yIHtcbiAgICBnZXQgbW9kZSgpIHtcbiAgICAgICAgcmV0dXJuIGdlO1xuICAgIH1cbn1cblxuVHdvV2F5QmluZGluZ0JlaGF2aW9yLiRhdSA9IGNyZWF0ZUNvbmZpZyhcInR3b1dheVwiKTtcblxuY29uc3QgUGUgPSBuZXcgV2Vha01hcDtcblxuY29uc3QgcWUgPSAyMDA7XG5cbmNsYXNzIERlYm91bmNlQmluZGluZ0JlaGF2aW9yIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5wID0geShrKTtcbiAgICB9XG4gICAgYmluZCh0LCBlLCBzLCBuKSB7XG4gICAgICAgIGNvbnN0IHIgPSB7XG4gICAgICAgICAgICB0eXBlOiBcImRlYm91bmNlXCIsXG4gICAgICAgICAgICBkZWxheTogcyA/PyBxZSxcbiAgICAgICAgICAgIG5vdzogdGhpcy5wLnBlcmZvcm1hbmNlTm93LFxuICAgICAgICAgICAgcXVldWU6IHRoaXMucC50YXNrUXVldWUsXG4gICAgICAgICAgICBzaWduYWxzOiBpKG4pID8gWyBuIF0gOiBuID8/IENcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgbCA9IGUubGltaXQ/LihyKTtcbiAgICAgICAgaWYgKGwgPT0gbnVsbCkgOyBlbHNlIHtcbiAgICAgICAgICAgIFBlLnNldChlLCBsKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB1bmJpbmQodCwgZSkge1xuICAgICAgICBQZS5nZXQoZSk/LmRpc3Bvc2UoKTtcbiAgICAgICAgUGUuZGVsZXRlKGUpO1xuICAgIH1cbn1cblxuRGVib3VuY2VCaW5kaW5nQmVoYXZpb3IuJGF1ID0ge1xuICAgIHR5cGU6IExlLFxuICAgIG5hbWU6IFwiZGVib3VuY2VcIlxufTtcblxuY29uc3QgX2UgPSAvKkBfX1BVUkVfXyovIEJlKFwiSVNpZ25hbGVyXCIsICh0ID0+IHQuc2luZ2xldG9uKFNpZ25hbGVyKSkpO1xuXG5jbGFzcyBTaWduYWxlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuc2lnbmFscyA9IG4oKTtcbiAgICB9XG4gICAgZGlzcGF0Y2hTaWduYWwodCkge1xuICAgICAgICBjb25zdCBlID0gdGhpcy5zaWduYWxzW3RdO1xuICAgICAgICBpZiAoZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHM7XG4gICAgICAgIGZvciAocyBvZiBlLmtleXMoKSkge1xuICAgICAgICAgICAgcy5oYW5kbGVDaGFuZ2UodW5kZWZpbmVkLCB1bmRlZmluZWQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFkZFNpZ25hbExpc3RlbmVyKHQsIGUpIHtcbiAgICAgICAgKHRoaXMuc2lnbmFsc1t0XSA/Pz0gbmV3IFNldCkuYWRkKGUpO1xuICAgIH1cbiAgICByZW1vdmVTaWduYWxMaXN0ZW5lcih0LCBlKSB7XG4gICAgICAgIHRoaXMuc2lnbmFsc1t0XT8uZGVsZXRlKGUpO1xuICAgIH1cbn1cblxuY2xhc3MgU2lnbmFsQmluZGluZ0JlaGF2aW9yIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5oID0gbmV3IE1hcDtcbiAgICAgICAgdGhpcy51ID0geShfZSk7XG4gICAgfVxuICAgIGJpbmQodCwgZSwgLi4ucykge1xuICAgICAgICBpZiAoIShcImhhbmRsZUNoYW5nZVwiIGluIGUpKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVNYXBwZWRFcnJvcig4MTcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlTWFwcGVkRXJyb3IoODE4KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmguc2V0KGUsIHMpO1xuICAgICAgICBsZXQgaTtcbiAgICAgICAgZm9yIChpIG9mIHMpIHtcbiAgICAgICAgICAgIGFkZFNpZ25hbExpc3RlbmVyKHRoaXMudSwgaSwgZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdW5iaW5kKHQsIGUpIHtcbiAgICAgICAgY29uc3QgcyA9IHRoaXMuaC5nZXQoZSk7XG4gICAgICAgIHRoaXMuaC5kZWxldGUoZSk7XG4gICAgICAgIGxldCBpO1xuICAgICAgICBmb3IgKGkgb2Ygcykge1xuICAgICAgICAgICAgcmVtb3ZlU2lnbmFsTGlzdGVuZXIodGhpcy51LCBpLCBlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuU2lnbmFsQmluZGluZ0JlaGF2aW9yLiRhdSA9IHtcbiAgICB0eXBlOiBMZSxcbiAgICBuYW1lOiBcInNpZ25hbFwiXG59O1xuXG5jb25zdCBPZSA9IG5ldyBXZWFrTWFwO1xuXG5jb25zdCBGZSA9IDIwMDtcblxuY2xhc3MgVGhyb3R0bGVCaW5kaW5nQmVoYXZpb3Ige1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAoe3BlcmZvcm1hbmNlTm93OiB0aGlzLkMsIHRhc2tRdWV1ZTogdGhpcy5CfSA9IHkoaykpO1xuICAgIH1cbiAgICBiaW5kKHQsIGUsIHMsIG4pIHtcbiAgICAgICAgY29uc3QgciA9IHtcbiAgICAgICAgICAgIHR5cGU6IFwidGhyb3R0bGVcIixcbiAgICAgICAgICAgIGRlbGF5OiBzID8/IEZlLFxuICAgICAgICAgICAgbm93OiB0aGlzLkMsXG4gICAgICAgICAgICBxdWV1ZTogdGhpcy5CLFxuICAgICAgICAgICAgc2lnbmFsczogaShuKSA/IFsgbiBdIDogbiA/PyBDXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGwgPSBlLmxpbWl0Py4ocik7XG4gICAgICAgIGlmIChsID09IG51bGwpIDsgZWxzZSB7XG4gICAgICAgICAgICBPZS5zZXQoZSwgbCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdW5iaW5kKHQsIGUpIHtcbiAgICAgICAgT2UuZ2V0KGUpPy5kaXNwb3NlKCk7XG4gICAgICAgIE9lLmRlbGV0ZShlKTtcbiAgICB9XG59XG5cblRocm90dGxlQmluZGluZ0JlaGF2aW9yLiRhdSA9IHtcbiAgICB0eXBlOiBMZSxcbiAgICBuYW1lOiBcInRocm90dGxlXCJcbn07XG5cbmNvbnN0IFZlID0gLypAX19QVVJFX18qLyBCZShcIklBcHBUYXNrXCIpO1xuXG5jbGFzcyAkQXBwVGFzayB7XG4gICAgY29uc3RydWN0b3IodCwgZSwgcykge1xuICAgICAgICB0aGlzLmMgPSB2b2lkIDA7XG4gICAgICAgIHRoaXMuc2xvdCA9IHQ7XG4gICAgICAgIHRoaXMuayA9IGU7XG4gICAgICAgIHRoaXMuY2IgPSBzO1xuICAgIH1cbiAgICByZWdpc3Rlcih0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmMgPSB0LnJlZ2lzdGVyKEVlKFZlLCB0aGlzKSk7XG4gICAgfVxuICAgIHJ1bigpIHtcbiAgICAgICAgY29uc3QgdCA9IHRoaXMuaztcbiAgICAgICAgY29uc3QgZSA9IHRoaXMuY2I7XG4gICAgICAgIHJldHVybiB0ID09PSBudWxsID8gZSgpIDogZSh0aGlzLmMuZ2V0KHQpKTtcbiAgICB9XG59XG5cbmNvbnN0IEhlID0gVXQoe1xuICAgIGNyZWF0aW5nOiBjcmVhdGVBcHBUYXNrU2xvdEhvb2soXCJjcmVhdGluZ1wiKSxcbiAgICBoeWRyYXRpbmc6IGNyZWF0ZUFwcFRhc2tTbG90SG9vayhcImh5ZHJhdGluZ1wiKSxcbiAgICBoeWRyYXRlZDogY3JlYXRlQXBwVGFza1Nsb3RIb29rKFwiaHlkcmF0ZWRcIiksXG4gICAgYWN0aXZhdGluZzogY3JlYXRlQXBwVGFza1Nsb3RIb29rKFwiYWN0aXZhdGluZ1wiKSxcbiAgICBhY3RpdmF0ZWQ6IGNyZWF0ZUFwcFRhc2tTbG90SG9vayhcImFjdGl2YXRlZFwiKSxcbiAgICBkZWFjdGl2YXRpbmc6IGNyZWF0ZUFwcFRhc2tTbG90SG9vayhcImRlYWN0aXZhdGluZ1wiKSxcbiAgICBkZWFjdGl2YXRlZDogY3JlYXRlQXBwVGFza1Nsb3RIb29rKFwiZGVhY3RpdmF0ZWRcIilcbn0pO1xuXG5mdW5jdGlvbiBjcmVhdGVBcHBUYXNrU2xvdEhvb2sodCkge1xuICAgIGZ1bmN0aW9uIGFwcFRhc2tGYWN0b3J5KGUsIHMpIHtcbiAgICAgICAgaWYgKGwocykpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgJEFwcFRhc2sodCwgZSwgcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyAkQXBwVGFzayh0LCBudWxsLCBlKTtcbiAgICB9XG4gICAgcmV0dXJuIGFwcFRhc2tGYWN0b3J5O1xufVxuXG5jb25zdCAkZSA9IGs7XG5cbmZ1bmN0aW9uIHdhdGNoKHQsIGUpIHtcbiAgICBpZiAodCA9PSBudWxsKSB7XG4gICAgICAgIHRocm93IGNyZWF0ZU1hcHBlZEVycm9yKDc3Mik7XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiBkZWNvcmF0b3IocywgaSkge1xuICAgICAgICBjb25zdCBuID0gaS5raW5kID09PSBcImNsYXNzXCI7XG4gICAgICAgIGlmIChuKSB7XG4gICAgICAgICAgICBpZiAoIWwoZSkgJiYgKGUgPT0gbnVsbCB8fCAhKGUgaW4gcy5wcm90b3R5cGUpKSkge1xuICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZU1hcHBlZEVycm9yKDc3MywgYCR7anQoZSl9QCR7cy5uYW1lfX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICghbChzKSkge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlTWFwcGVkRXJyb3IoNzc0LCBpLm5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHIgPSBuZXcgV2F0Y2hEZWZpbml0aW9uKHQsIG4gPyBlIDogcyk7XG4gICAgICAgIGlmIChuKSB7XG4gICAgICAgICAgICBhZGREZWZpbml0aW9uKHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaS5hZGRJbml0aWFsaXplcigoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgYWRkRGVmaW5pdGlvbih0aGlzLmNvbnN0cnVjdG9yKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBhZGREZWZpbml0aW9uKHQpIHtcbiAgICAgICAgICAgIE5lLmFkZCh0LCByKTtcbiAgICAgICAgICAgIGlmIChpc0F0dHJpYnV0ZVR5cGUodCkpIHtcbiAgICAgICAgICAgICAgICBnZXRBdHRyaWJ1dGVEZWZpbml0aW9uKHQpLndhdGNoZXMucHVzaChyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc0VsZW1lbnRUeXBlKHQpKSB7XG4gICAgICAgICAgICAgICAgZ2V0RWxlbWVudERlZmluaXRpb24odCkud2F0Y2hlcy5wdXNoKHIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbn1cblxuY2xhc3MgV2F0Y2hEZWZpbml0aW9uIHtcbiAgICBjb25zdHJ1Y3Rvcih0LCBlKSB7XG4gICAgICAgIHRoaXMuZXhwcmVzc2lvbiA9IHQ7XG4gICAgICAgIHRoaXMuY2FsbGJhY2sgPSBlO1xuICAgIH1cbn1cblxuY29uc3QgTmUgPSAvKkBfX1BVUkVfXyovICgoKSA9PiB7XG4gICAgY29uc3QgdCA9IG5ldyBXZWFrTWFwO1xuICAgIHJldHVybiBVdCh7XG4gICAgICAgIGFkZChlLCBzKSB7XG4gICAgICAgICAgICBsZXQgaSA9IHQuZ2V0KGUpO1xuICAgICAgICAgICAgaWYgKGkgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHQuc2V0KGUsIGkgPSBbXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpLnB1c2gocyk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldERlZmluaXRpb25zKGUpIHtcbiAgICAgICAgICAgIHJldHVybiB0LmdldChlKSA/PyBDO1xuICAgICAgICB9XG4gICAgfSk7XG59KSgpO1xuXG5mdW5jdGlvbiBjdXN0b21BdHRyaWJ1dGUodCkge1xuICAgIHJldHVybiBmdW5jdGlvbihlLCBzKSB7XG4gICAgICAgIHMuYWRkSW5pdGlhbGl6ZXIoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZGVmaW5lQXR0cmlidXRlKHQsIHRoaXMpO1xuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybiBlO1xuICAgIH07XG59XG5cbmZ1bmN0aW9uIHRlbXBsYXRlQ29udHJvbGxlcih0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGUsIHMpIHtcbiAgICAgICAgcy5hZGRJbml0aWFsaXplcigoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBkZWZpbmVBdHRyaWJ1dGUoaSh0KSA/IHtcbiAgICAgICAgICAgICAgICBpc1RlbXBsYXRlQ29udHJvbGxlcjogdHJ1ZSxcbiAgICAgICAgICAgICAgICBuYW1lOiB0XG4gICAgICAgICAgICB9IDoge1xuICAgICAgICAgICAgICAgIGlzVGVtcGxhdGVDb250cm9sbGVyOiB0cnVlLFxuICAgICAgICAgICAgICAgIC4uLnRcbiAgICAgICAgICAgIH0sIHRoaXMpO1xuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybiBlO1xuICAgIH07XG59XG5cbmNsYXNzIEN1c3RvbUF0dHJpYnV0ZURlZmluaXRpb24ge1xuICAgIGdldCB0eXBlKCkge1xuICAgICAgICByZXR1cm4gVGU7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKHQsIGUsIHMsIGksIG4sIHIsIGwsIGEsIGgsIGMsIHUpIHtcbiAgICAgICAgdGhpcy5UeXBlID0gdDtcbiAgICAgICAgdGhpcy5uYW1lID0gZTtcbiAgICAgICAgdGhpcy5hbGlhc2VzID0gcztcbiAgICAgICAgdGhpcy5rZXkgPSBpO1xuICAgICAgICB0aGlzLmRlZmF1bHRCaW5kaW5nTW9kZSA9IG47XG4gICAgICAgIHRoaXMuaXNUZW1wbGF0ZUNvbnRyb2xsZXIgPSByO1xuICAgICAgICB0aGlzLmJpbmRhYmxlcyA9IGw7XG4gICAgICAgIHRoaXMubm9NdWx0aUJpbmRpbmdzID0gYTtcbiAgICAgICAgdGhpcy53YXRjaGVzID0gaDtcbiAgICAgICAgdGhpcy5kZXBlbmRlbmNpZXMgPSBjO1xuICAgICAgICB0aGlzLmNvbnRhaW5lclN0cmF0ZWd5ID0gdTtcbiAgICB9XG4gICAgc3RhdGljIGNyZWF0ZSh0LCBlKSB7XG4gICAgICAgIGxldCBzO1xuICAgICAgICBsZXQgbjtcbiAgICAgICAgaWYgKGkodCkpIHtcbiAgICAgICAgICAgIHMgPSB0O1xuICAgICAgICAgICAgbiA9IHtcbiAgICAgICAgICAgICAgICBuYW1lOiBzXG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcyA9IHQubmFtZTtcbiAgICAgICAgICAgIG4gPSB0O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHIgPSBwKGdldEF0dHJpYnV0ZUFubm90YXRpb24oZSwgXCJkZWZhdWx0QmluZGluZ01vZGVcIiksIG4uZGVmYXVsdEJpbmRpbmdNb2RlLCBlLmRlZmF1bHRCaW5kaW5nTW9kZSwgZGUpO1xuICAgICAgICBmb3IgKGNvbnN0IHQgb2YgT2JqZWN0LnZhbHVlcyhrZS5mcm9tKG4uYmluZGFibGVzKSkpIHtcbiAgICAgICAgICAgIGtlLmkodCwgZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBDdXN0b21BdHRyaWJ1dGVEZWZpbml0aW9uKGUsIHAoZ2V0QXR0cmlidXRlQW5ub3RhdGlvbihlLCBcIm5hbWVcIiksIHMpLCB2KGdldEF0dHJpYnV0ZUFubm90YXRpb24oZSwgXCJhbGlhc2VzXCIpLCBuLmFsaWFzZXMsIGUuYWxpYXNlcyksIGdldEF0dHJpYnV0ZUtleUZyb20ocyksIGkocikgPyBjdFtyXSA/PyB1ZSA6IHIsIHAoZ2V0QXR0cmlidXRlQW5ub3RhdGlvbihlLCBcImlzVGVtcGxhdGVDb250cm9sbGVyXCIpLCBuLmlzVGVtcGxhdGVDb250cm9sbGVyLCBlLmlzVGVtcGxhdGVDb250cm9sbGVyLCBmYWxzZSksIGtlLmZyb20oLi4ua2UuZ2V0QWxsKGUpLCBnZXRBdHRyaWJ1dGVBbm5vdGF0aW9uKGUsIFwiYmluZGFibGVzXCIpLCBlLmJpbmRhYmxlcywgbi5iaW5kYWJsZXMpLCBwKGdldEF0dHJpYnV0ZUFubm90YXRpb24oZSwgXCJub011bHRpQmluZGluZ3NcIiksIG4ubm9NdWx0aUJpbmRpbmdzLCBlLm5vTXVsdGlCaW5kaW5ncywgZmFsc2UpLCB2KE5lLmdldERlZmluaXRpb25zKGUpLCBlLndhdGNoZXMpLCB2KGdldEF0dHJpYnV0ZUFubm90YXRpb24oZSwgXCJkZXBlbmRlbmNpZXNcIiksIG4uZGVwZW5kZW5jaWVzLCBlLmRlcGVuZGVuY2llcyksIHAoZ2V0QXR0cmlidXRlQW5ub3RhdGlvbihlLCBcImNvbnRhaW5lclN0cmF0ZWd5XCIpLCBuLmNvbnRhaW5lclN0cmF0ZWd5LCBlLmNvbnRhaW5lclN0cmF0ZWd5LCBcInJldXNlXCIpKTtcbiAgICB9XG4gICAgcmVnaXN0ZXIodCwgZSkge1xuICAgICAgICBjb25zdCBzID0gdGhpcy5UeXBlO1xuICAgICAgICBjb25zdCBpID0gdHlwZW9mIGUgPT09IFwic3RyaW5nXCIgPyBnZXRBdHRyaWJ1dGVLZXlGcm9tKGUpIDogdGhpcy5rZXk7XG4gICAgICAgIGNvbnN0IG4gPSB0aGlzLmFsaWFzZXM7XG4gICAgICAgIGlmICghdC5oYXMoaSwgZmFsc2UpKSB7XG4gICAgICAgICAgICB0LnJlZ2lzdGVyKHQuaGFzKHMsIGZhbHNlKSA/IG51bGwgOiBTZShzLCBzKSwgQWUocywgaSksIC4uLm4ubWFwKCh0ID0+IEFlKHMsIGdldEF0dHJpYnV0ZUtleUZyb20odCkpKSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKEN1c3RvbUF0dHJpYnV0ZURlZmluaXRpb24ud2FybkR1cGxpY2F0ZSkge1xuICAgICAgICAgICAgICAgIHQuZ2V0KEIpLndhcm4oY3JlYXRlTWFwcGVkRXJyb3IoMTU0LCB0aGlzLm5hbWUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIGBhdTpjYToke3RoaXMubmFtZX1gO1xuICAgIH1cbn1cblxuQ3VzdG9tQXR0cmlidXRlRGVmaW5pdGlvbi53YXJuRHVwbGljYXRlID0gdHJ1ZTtcblxuY29uc3QgamUgPSBcImN1c3RvbS1hdHRyaWJ1dGVcIjtcblxuY29uc3QgV2UgPSAvKkBfX1BVUkVfXyovIHcoamUpO1xuXG5jb25zdCBnZXRBdHRyaWJ1dGVLZXlGcm9tID0gdCA9PiBgJHtXZX06JHt0fWA7XG5cbmNvbnN0IGdldEF0dHJpYnV0ZUFubm90YXRpb24gPSAodCwgZSkgPT4gcGUod2UoZSksIHQpO1xuXG5jb25zdCBpc0F0dHJpYnV0ZVR5cGUgPSB0ID0+IGwodCkgJiYgKHZlKFdlLCB0KSB8fCB0LiRhdT8udHlwZSA9PT0gamUpO1xuXG5jb25zdCBmaW5kQXR0cmlidXRlQ29udHJvbGxlckZvciA9ICh0LCBlKSA9PiBnZXRSZWYodCwgZ2V0QXR0cmlidXRlS2V5RnJvbShlKSkgPz8gdm9pZCAwO1xuXG5jb25zdCBkZWZpbmVBdHRyaWJ1dGUgPSAodCwgZSkgPT4ge1xuICAgIGNvbnN0IHMgPSBDdXN0b21BdHRyaWJ1dGVEZWZpbml0aW9uLmNyZWF0ZSh0LCBlKTtcbiAgICBjb25zdCBpID0gcy5UeXBlO1xuICAgIHhlKHMsIGksIFdlLCB4KTtcbiAgICByZXR1cm4gaTtcbn07XG5cbmNvbnN0IGdldEF0dHJpYnV0ZURlZmluaXRpb24gPSB0ID0+IHtcbiAgICBjb25zdCBlID0gcGUoV2UsIHQpID8/IGdldERlZmluaXRpb25Gcm9tU3RhdGljQXUodCwgamUsIEN1c3RvbUF0dHJpYnV0ZURlZmluaXRpb24uY3JlYXRlKTtcbiAgICBpZiAoZSA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHRocm93IGNyZWF0ZU1hcHBlZEVycm9yKDc1OSwgdCk7XG4gICAgfVxuICAgIHJldHVybiBlO1xufTtcblxuY29uc3QgZmluZENsb3Nlc3RDb250cm9sbGVyQnlOYW1lID0gKHQsIGUpID0+IHtcbiAgICBsZXQgcyA9IFwiXCI7XG4gICAgbGV0IG4gPSBcIlwiO1xuICAgIGlmIChpKGUpKSB7XG4gICAgICAgIHMgPSBnZXRBdHRyaWJ1dGVLZXlGcm9tKGUpO1xuICAgICAgICBuID0gZTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCB0ID0gZ2V0QXR0cmlidXRlRGVmaW5pdGlvbihlKTtcbiAgICAgICAgcyA9IHQua2V5O1xuICAgICAgICBuID0gdC5uYW1lO1xuICAgIH1cbiAgICBsZXQgciA9IHQ7XG4gICAgd2hpbGUgKHIgIT09IG51bGwpIHtcbiAgICAgICAgY29uc3QgdCA9IGdldFJlZihyLCBzKTtcbiAgICAgICAgaWYgKHQ/LmlzKG4pKSB7XG4gICAgICAgICAgICByZXR1cm4gdDtcbiAgICAgICAgfVxuICAgICAgICByID0gZ2V0RWZmZWN0aXZlUGFyZW50Tm9kZShyKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59O1xuXG5jb25zdCB6ZSA9IC8qQF9fUFVSRV9fKi8gVXQoe1xuICAgIG5hbWU6IFdlLFxuICAgIGtleUZyb206IGdldEF0dHJpYnV0ZUtleUZyb20sXG4gICAgaXNUeXBlOiBpc0F0dHJpYnV0ZVR5cGUsXG4gICAgZm9yOiBmaW5kQXR0cmlidXRlQ29udHJvbGxlckZvcixcbiAgICBjbG9zZXN0OiBmaW5kQ2xvc2VzdENvbnRyb2xsZXJCeU5hbWUsXG4gICAgZGVmaW5lOiBkZWZpbmVBdHRyaWJ1dGUsXG4gICAgZ2V0RGVmaW5pdGlvbjogZ2V0QXR0cmlidXRlRGVmaW5pdGlvbixcbiAgICBhbm5vdGF0ZSh0LCBlLCBzKSB7XG4gICAgICAgIHhlKHMsIHQsIHdlKGUpKTtcbiAgICB9LFxuICAgIGdldEFubm90YXRpb246IGdldEF0dHJpYnV0ZUFubm90YXRpb24sXG4gICAgZmluZCh0LCBlKSB7XG4gICAgICAgIGNvbnN0IHMgPSB0LmZpbmQoamUsIGUpO1xuICAgICAgICByZXR1cm4gcyA9PT0gbnVsbCA/IG51bGwgOiBwZShXZSwgcykgPz8gZ2V0RGVmaW5pdGlvbkZyb21TdGF0aWNBdShzLCBqZSwgQ3VzdG9tQXR0cmlidXRlRGVmaW5pdGlvbi5jcmVhdGUpID8/IG51bGw7XG4gICAgfVxufSk7XG5cbmNvbnN0IFVlID0gLypAX19QVVJFX18qLyBCZShcIklMaWZlY3ljbGVIb29rc1wiKTtcblxuY2xhc3MgTGlmZWN5Y2xlSG9va3NFbnRyeSB7XG4gICAgY29uc3RydWN0b3IodCwgZSkge1xuICAgICAgICB0aGlzLmRlZmluaXRpb24gPSB0O1xuICAgICAgICB0aGlzLmluc3RhbmNlID0gZTtcbiAgICB9XG59XG5cbmNsYXNzIExpZmVjeWNsZUhvb2tzRGVmaW5pdGlvbiB7XG4gICAgY29uc3RydWN0b3IodCwgZSkge1xuICAgICAgICB0aGlzLlR5cGUgPSB0O1xuICAgICAgICB0aGlzLnByb3BlcnR5TmFtZXMgPSBlO1xuICAgIH1cbiAgICBzdGF0aWMgY3JlYXRlKHQsIGUpIHtcbiAgICAgICAgY29uc3QgcyA9IG5ldyBTZXQ7XG4gICAgICAgIGxldCBpID0gZS5wcm90b3R5cGU7XG4gICAgICAgIHdoaWxlIChpICE9PSBXdCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCB0IG9mIEt0KGkpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHQgIT09IFwiY29uc3RydWN0b3JcIiAmJiAhdC5zdGFydHNXaXRoKFwiX1wiKSkge1xuICAgICAgICAgICAgICAgICAgICBzLmFkZCh0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKGkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgTGlmZWN5Y2xlSG9va3NEZWZpbml0aW9uKGUsIHMpO1xuICAgIH1cbn1cblxuY29uc3QgR2UgPSAvKkBfX1BVUkVfXyovICgoKSA9PiB7XG4gICAgY29uc3QgdCA9IG5ldyBXZWFrTWFwO1xuICAgIGNvbnN0IGUgPSBuZXcgV2Vha01hcDtcbiAgICByZXR1cm4gVXQoe1xuICAgICAgICBkZWZpbmUodCwgcykge1xuICAgICAgICAgICAgY29uc3QgaSA9IExpZmVjeWNsZUhvb2tzRGVmaW5pdGlvbi5jcmVhdGUodCwgcyk7XG4gICAgICAgICAgICBjb25zdCBuID0gaS5UeXBlO1xuICAgICAgICAgICAgZS5zZXQobiwgaSk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHJlZ2lzdGVyKHQpIHtcbiAgICAgICAgICAgICAgICAgICAgU2UoVWUsIG4pLnJlZ2lzdGVyKHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgIHJlc29sdmUocykge1xuICAgICAgICAgICAgbGV0IGkgPSB0LmdldChzKTtcbiAgICAgICAgICAgIGlmIChpID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICB0LnNldChzLCBpID0gbmV3IExpZmVjeWNsZUhvb2tzTG9va3VwSW1wbCk7XG4gICAgICAgICAgICAgICAgY29uc3QgbiA9IHMucm9vdDtcbiAgICAgICAgICAgICAgICBjb25zdCByID0gbiA9PT0gcyA/IHMuZ2V0QWxsKFVlKSA6IHMuaGFzKFVlLCBmYWxzZSkgPyBuLmdldEFsbChVZSkuY29uY2F0KHMuZ2V0QWxsKFVlKSkgOiBuLmdldEFsbChVZSk7XG4gICAgICAgICAgICAgICAgbGV0IGw7XG4gICAgICAgICAgICAgICAgbGV0IGE7XG4gICAgICAgICAgICAgICAgbGV0IGg7XG4gICAgICAgICAgICAgICAgbGV0IGM7XG4gICAgICAgICAgICAgICAgbGV0IHU7XG4gICAgICAgICAgICAgICAgZm9yIChsIG9mIHIpIHtcbiAgICAgICAgICAgICAgICAgICAgYSA9IGUuZ2V0KGwuY29uc3RydWN0b3IpO1xuICAgICAgICAgICAgICAgICAgICBoID0gbmV3IExpZmVjeWNsZUhvb2tzRW50cnkoYSwgbCk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoYyBvZiBhLnByb3BlcnR5TmFtZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHUgPSBpW2NdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHUgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlbY10gPSBbIGggXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdS5wdXNoKGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH1cbiAgICB9KTtcbn0pKCk7XG5cbmNsYXNzIExpZmVjeWNsZUhvb2tzTG9va3VwSW1wbCB7fVxuXG5mdW5jdGlvbiBsaWZlY3ljbGVIb29rcyh0LCBlKSB7XG4gICAgZnVuY3Rpb24gZGVjb3JhdG9yKHQsIGUpIHtcbiAgICAgICAgY29uc3QgcyA9IGU/Lm1ldGFkYXRhID8/ICh0W1N5bWJvbC5tZXRhZGF0YV0gPz89IE9iamVjdC5jcmVhdGUobnVsbCkpO1xuICAgICAgICBzW1NdID0gR2UuZGVmaW5lKHt9LCB0KTtcbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfVxuICAgIHJldHVybiB0ID09IG51bGwgPyBkZWNvcmF0b3IgOiBkZWNvcmF0b3IodCwgZSk7XG59XG5cbmZ1bmN0aW9uIHZhbHVlQ29udmVydGVyKHQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oZSwgcykge1xuICAgICAgICBzLmFkZEluaXRpYWxpemVyKChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIFFlLmRlZmluZSh0LCB0aGlzKTtcbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm4gZTtcbiAgICB9O1xufVxuXG5jbGFzcyBWYWx1ZUNvbnZlcnRlckRlZmluaXRpb24ge1xuICAgIGNvbnN0cnVjdG9yKHQsIGUsIHMsIGkpIHtcbiAgICAgICAgdGhpcy5UeXBlID0gdDtcbiAgICAgICAgdGhpcy5uYW1lID0gZTtcbiAgICAgICAgdGhpcy5hbGlhc2VzID0gcztcbiAgICAgICAgdGhpcy5rZXkgPSBpO1xuICAgIH1cbiAgICBzdGF0aWMgY3JlYXRlKHQsIGUpIHtcbiAgICAgICAgbGV0IHM7XG4gICAgICAgIGxldCBuO1xuICAgICAgICBpZiAoaSh0KSkge1xuICAgICAgICAgICAgcyA9IHQ7XG4gICAgICAgICAgICBuID0ge1xuICAgICAgICAgICAgICAgIG5hbWU6IHNcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzID0gdC5uYW1lO1xuICAgICAgICAgICAgbiA9IHQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBWYWx1ZUNvbnZlcnRlckRlZmluaXRpb24oZSwgcChnZXRDb252ZXJ0ZXJBbm5vdGF0aW9uKGUsIFwibmFtZVwiKSwgcyksIHYoZ2V0Q29udmVydGVyQW5ub3RhdGlvbihlLCBcImFsaWFzZXNcIiksIG4uYWxpYXNlcywgZS5hbGlhc2VzKSwgUWUua2V5RnJvbShzKSk7XG4gICAgfVxuICAgIHJlZ2lzdGVyKHQsIGUpIHtcbiAgICAgICAgY29uc3QgcyA9IHRoaXMuVHlwZTtcbiAgICAgICAgY29uc3QgaSA9IHR5cGVvZiBlID09PSBcInN0cmluZ1wiID8gZ2V0VmFsdWVDb252ZXJ0ZXJLZXlGcm9tKGUpIDogdGhpcy5rZXk7XG4gICAgICAgIGNvbnN0IG4gPSB0aGlzLmFsaWFzZXM7XG4gICAgICAgIGlmICghdC5oYXMoaSwgZmFsc2UpKSB7XG4gICAgICAgICAgICB0LnJlZ2lzdGVyKHQuaGFzKHMsIGZhbHNlKSA/IG51bGwgOiBTZShzLCBzKSwgQWUocywgaSksIC4uLm4ubWFwKCh0ID0+IEFlKHMsIGdldFZhbHVlQ29udmVydGVyS2V5RnJvbSh0KSkpKSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmNvbnN0IEtlID0gXCJ2YWx1ZS1jb252ZXJ0ZXJcIjtcblxuY29uc3QgWGUgPSAvKkBfX1BVUkVfXyovIHcoS2UpO1xuXG5jb25zdCBnZXRDb252ZXJ0ZXJBbm5vdGF0aW9uID0gKHQsIGUpID0+IHBlKHdlKGUpLCB0KTtcblxuY29uc3QgZ2V0VmFsdWVDb252ZXJ0ZXJLZXlGcm9tID0gdCA9PiBgJHtYZX06JHt0fWA7XG5cbmNvbnN0IFFlID0gVXQoe1xuICAgIG5hbWU6IFhlLFxuICAgIGtleUZyb206IGdldFZhbHVlQ29udmVydGVyS2V5RnJvbSxcbiAgICBpc1R5cGUodCkge1xuICAgICAgICByZXR1cm4gbCh0KSAmJiAodmUoWGUsIHQpIHx8IHQuJGF1Py50eXBlID09PSBLZSk7XG4gICAgfSxcbiAgICBkZWZpbmUodCwgZSkge1xuICAgICAgICBjb25zdCBzID0gVmFsdWVDb252ZXJ0ZXJEZWZpbml0aW9uLmNyZWF0ZSh0LCBlKTtcbiAgICAgICAgY29uc3QgaSA9IHMuVHlwZTtcbiAgICAgICAgeGUocywgaSwgWGUsIHgpO1xuICAgICAgICByZXR1cm4gaTtcbiAgICB9LFxuICAgIGdldERlZmluaXRpb24odCkge1xuICAgICAgICBjb25zdCBlID0gcGUoWGUsIHQpID8/IGdldERlZmluaXRpb25Gcm9tU3RhdGljQXUodCwgS2UsIFZhbHVlQ29udmVydGVyRGVmaW5pdGlvbi5jcmVhdGUpO1xuICAgICAgICBpZiAoZSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVNYXBwZWRFcnJvcigxNTIsIHQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlO1xuICAgIH0sXG4gICAgYW5ub3RhdGUodCwgZSwgcykge1xuICAgICAgICB4ZShzLCB0LCB3ZShlKSk7XG4gICAgfSxcbiAgICBnZXRBbm5vdGF0aW9uOiBnZXRDb252ZXJ0ZXJBbm5vdGF0aW9uLFxuICAgIGZpbmQodCwgZSkge1xuICAgICAgICBjb25zdCBzID0gdC5maW5kKEtlLCBlKTtcbiAgICAgICAgcmV0dXJuIHMgPT0gbnVsbCA/IG51bGwgOiBwZShYZSwgcykgPz8gZ2V0RGVmaW5pdGlvbkZyb21TdGF0aWNBdShzLCBLZSwgVmFsdWVDb252ZXJ0ZXJEZWZpbml0aW9uLmNyZWF0ZSkgPz8gbnVsbDtcbiAgICB9LFxuICAgIGdldCh0LCBlKSB7XG4gICAgICAgIHJldHVybiB0LmdldChiKGdldFZhbHVlQ29udmVydGVyS2V5RnJvbShlKSkpO1xuICAgIH1cbn0pO1xuXG5jbGFzcyBCaW5kaW5nVGFyZ2V0U3Vic2NyaWJlciB7XG4gICAgY29uc3RydWN0b3IodCwgZSkge1xuICAgICAgICB0aGlzLnYgPSB2b2lkIDA7XG4gICAgICAgIHRoaXMuYiA9IHQ7XG4gICAgICAgIHRoaXMuQSA9IGU7XG4gICAgfVxuICAgIGZsdXNoKCkge1xuICAgICAgICB0aGlzLmIudXBkYXRlU291cmNlKHRoaXMudik7XG4gICAgfVxuICAgIGhhbmRsZUNoYW5nZSh0LCBlKSB7XG4gICAgICAgIGNvbnN0IHMgPSB0aGlzLmI7XG4gICAgICAgIGlmICh0ICE9PSBhZShzLmFzdCwgcy5zLCBzLCBudWxsKSkge1xuICAgICAgICAgICAgdGhpcy52ID0gdDtcbiAgICAgICAgICAgIHRoaXMuQS5hZGQodGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmNvbnN0IFllID0gLypAX19QVVJFX18qLyAoKCkgPT4ge1xuICAgIGZ1bmN0aW9uIHVzZVNjb3BlKHQpIHtcbiAgICAgICAgdGhpcy5zID0gdDtcbiAgICB9XG4gICAgcmV0dXJuIHQgPT4ge1xuICAgICAgICBkZWZpbmVIaWRkZW5Qcm9wKHQucHJvdG90eXBlLCBcInVzZVNjb3BlXCIsIHVzZVNjb3BlKTtcbiAgICB9O1xufSkoKTtcblxuY29uc3QgWmUgPSAvKkBfX1BVUkVfXyovICgoKSA9PiB7XG4gICAgY29uc3QgdCA9IG5ldyBXZWFrTWFwO1xuICAgIGNvbnN0IGUgPSBuZXcgV2Vha01hcDtcbiAgICBmdW5jdGlvbiBldmFsdWF0b3JHZXQodCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sLmdldCh0KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZXZhbHVhdG9yR2V0U2lnbmFsZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmwucm9vdC5nZXQoX2UpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBldmFsdWF0b3JHZXRDb252ZXJ0ZXIoZSkge1xuICAgICAgICBsZXQgcyA9IHQuZ2V0KHRoaXMpO1xuICAgICAgICBpZiAocyA9PSBudWxsKSB7XG4gICAgICAgICAgICB0LnNldCh0aGlzLCBzID0gbmV3IFJlc291cmNlTG9va3VwKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc1tlXSA/Pz0gUWUuZ2V0KHRoaXMubCwgZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGV2YWx1YXRvckdldEJlaGF2aW9yKHQpIHtcbiAgICAgICAgbGV0IHMgPSBlLmdldCh0aGlzKTtcbiAgICAgICAgaWYgKHMgPT0gbnVsbCkge1xuICAgICAgICAgICAgZS5zZXQodGhpcywgcyA9IG5ldyBSZXNvdXJjZUxvb2t1cCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNbdF0gPz89IERlLmdldCh0aGlzLmwsIHQpO1xuICAgIH1cbiAgICByZXR1cm4gKHQsIGUgPSB0cnVlKSA9PiBzID0+IHtcbiAgICAgICAgY29uc3QgaSA9IHMucHJvdG90eXBlO1xuICAgICAgICBpZiAodCAhPSBudWxsKSB7XG4gICAgICAgICAgICBZdChpLCBcInN0cmljdFwiLCB7XG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBZdChpLCBcInN0cmljdEZuQ2FsbFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGRlZmluZUhpZGRlblByb3AoaSwgXCJnZXRcIiwgZXZhbHVhdG9yR2V0KTtcbiAgICAgICAgZGVmaW5lSGlkZGVuUHJvcChpLCBcImdldFNpZ25hbGVyXCIsIGV2YWx1YXRvckdldFNpZ25hbGVyKTtcbiAgICAgICAgZGVmaW5lSGlkZGVuUHJvcChpLCBcImdldENvbnZlcnRlclwiLCBldmFsdWF0b3JHZXRDb252ZXJ0ZXIpO1xuICAgICAgICBkZWZpbmVIaWRkZW5Qcm9wKGksIFwiZ2V0QmVoYXZpb3JcIiwgZXZhbHVhdG9yR2V0QmVoYXZpb3IpO1xuICAgIH07XG59KSgpO1xuXG5jbGFzcyBSZXNvdXJjZUxvb2t1cCB7fVxuXG5jb25zdCBKZSA9IC8qQF9fUFVSRV9fKi8gQmUoXCJJRmx1c2hRdWV1ZVwiLCAodCA9PiB0LnNpbmdsZXRvbihGbHVzaFF1ZXVlKSkpO1xuXG5jbGFzcyBGbHVzaFF1ZXVlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5SID0gZmFsc2U7XG4gICAgICAgIHRoaXMuVCA9IG5ldyBTZXQ7XG4gICAgfVxuICAgIGdldCBjb3VudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuVC5zaXplO1xuICAgIH1cbiAgICBhZGQodCkge1xuICAgICAgICB0aGlzLlQuYWRkKHQpO1xuICAgICAgICBpZiAodGhpcy5SKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5SID0gdHJ1ZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuVC5mb3JFYWNoKGZsdXNoSXRlbSk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICB0aGlzLlIgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjbGVhcigpIHtcbiAgICAgICAgdGhpcy5ULmNsZWFyKCk7XG4gICAgICAgIHRoaXMuUiA9IGZhbHNlO1xuICAgIH1cbn1cblxuY29uc3QgZmx1c2hJdGVtID0gZnVuY3Rpb24odCwgZSwgcykge1xuICAgIHMuZGVsZXRlKHQpO1xuICAgIHQuZmx1c2goKTtcbn07XG5cbmNvbnN0IHRzID0gLypAX19QVVJFX18qLyAoKCkgPT4ge1xuICAgIGNvbnN0IHQgPSBuZXcgV2Vha1NldDtcbiAgICBjb25zdCBkZWJvdW5jZWQgPSAodCwgZSwgcykgPT4ge1xuICAgICAgICBsZXQgaTtcbiAgICAgICAgbGV0IG47XG4gICAgICAgIGxldCByO1xuICAgICAgICBsZXQgbCA9IGZhbHNlO1xuICAgICAgICBjb25zdCBhID0gdC5xdWV1ZTtcbiAgICAgICAgY29uc3QgY2FsbE9yaWdpbmFsQ2FsbGJhY2sgPSAoKSA9PiBlKHIpO1xuICAgICAgICBjb25zdCBmbiA9IGUgPT4ge1xuICAgICAgICAgICAgciA9IGU7XG4gICAgICAgICAgICBpZiAocy5pc0JvdW5kKSB7XG4gICAgICAgICAgICAgICAgbiA9IGk7XG4gICAgICAgICAgICAgICAgaSA9IGEucXVldWVUYXNrKGNhbGxPcmlnaW5hbENhbGxiYWNrLCB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGF5OiB0LmRlbGF5XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgbj8uY2FuY2VsKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNhbGxPcmlnaW5hbENhbGxiYWNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGggPSBmbi5kaXNwb3NlID0gKCkgPT4ge1xuICAgICAgICAgICAgbj8uY2FuY2VsKCk7XG4gICAgICAgICAgICBpPy5jYW5jZWwoKTtcbiAgICAgICAgICAgIG4gPSBpID0gdm9pZCAwO1xuICAgICAgICB9O1xuICAgICAgICBmbi5mbHVzaCA9ICgpID0+IHtcbiAgICAgICAgICAgIGwgPSBpPy5zdGF0dXMgPT09IHNlO1xuICAgICAgICAgICAgaCgpO1xuICAgICAgICAgICAgaWYgKGwpIHtcbiAgICAgICAgICAgICAgICBjYWxsT3JpZ2luYWxDYWxsYmFjaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gZm47XG4gICAgfTtcbiAgICBjb25zdCB0aHJvdHRsZWQgPSAodCwgZSwgcykgPT4ge1xuICAgICAgICBsZXQgaTtcbiAgICAgICAgbGV0IG47XG4gICAgICAgIGxldCByID0gMDtcbiAgICAgICAgbGV0IGwgPSAwO1xuICAgICAgICBsZXQgYTtcbiAgICAgICAgbGV0IGggPSBmYWxzZTtcbiAgICAgICAgY29uc3QgYyA9IHQucXVldWU7XG4gICAgICAgIGNvbnN0IG5vdyA9ICgpID0+IHQubm93KCk7XG4gICAgICAgIGNvbnN0IGNhbGxPcmlnaW5hbENhbGxiYWNrID0gKCkgPT4gZShhKTtcbiAgICAgICAgY29uc3QgZm4gPSBlID0+IHtcbiAgICAgICAgICAgIGEgPSBlO1xuICAgICAgICAgICAgaWYgKHMuaXNCb3VuZCkge1xuICAgICAgICAgICAgICAgIGwgPSBub3coKSAtIHI7XG4gICAgICAgICAgICAgICAgbiA9IGk7XG4gICAgICAgICAgICAgICAgaWYgKGwgPiB0LmRlbGF5KSB7XG4gICAgICAgICAgICAgICAgICAgIHIgPSBub3coKTtcbiAgICAgICAgICAgICAgICAgICAgY2FsbE9yaWdpbmFsQ2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpID0gYy5xdWV1ZVRhc2soKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHIgPSBub3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxPcmlnaW5hbENhbGxiYWNrKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxheTogdC5kZWxheSAtIGxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG4/LmNhbmNlbCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjYWxsT3JpZ2luYWxDYWxsYmFjaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCB1ID0gZm4uZGlzcG9zZSA9ICgpID0+IHtcbiAgICAgICAgICAgIG4/LmNhbmNlbCgpO1xuICAgICAgICAgICAgaT8uY2FuY2VsKCk7XG4gICAgICAgICAgICBuID0gaSA9IHZvaWQgMDtcbiAgICAgICAgfTtcbiAgICAgICAgZm4uZmx1c2ggPSAoKSA9PiB7XG4gICAgICAgICAgICBoID0gaT8uc3RhdHVzID09PSBzZTtcbiAgICAgICAgICAgIHUoKTtcbiAgICAgICAgICAgIGlmIChoKSB7XG4gICAgICAgICAgICAgICAgY2FsbE9yaWdpbmFsQ2FsbGJhY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGZuO1xuICAgIH07XG4gICAgcmV0dXJuIChlLCBzKSA9PiB7XG4gICAgICAgIGRlZmluZUhpZGRlblByb3AoZS5wcm90b3R5cGUsIFwibGltaXRcIiwgKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGlmICh0Lmhhcyh0aGlzKSkge1xuICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZU1hcHBlZEVycm9yKDk5OTYpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdC5hZGQodGhpcyk7XG4gICAgICAgICAgICBjb25zdCBpID0gcyh0aGlzLCBlKTtcbiAgICAgICAgICAgIGNvbnN0IG4gPSBlLnNpZ25hbHM7XG4gICAgICAgICAgICBjb25zdCByID0gbi5sZW5ndGggPiAwID8gdGhpcy5nZXQoX2UpIDogbnVsbDtcbiAgICAgICAgICAgIGNvbnN0IGwgPSB0aGlzW2ldO1xuICAgICAgICAgICAgY29uc3QgY2FsbE9yaWdpbmFsID0gKC4uLnQpID0+IGwuY2FsbCh0aGlzLCAuLi50KTtcbiAgICAgICAgICAgIGNvbnN0IGEgPSBlLnR5cGUgPT09IFwiZGVib3VuY2VcIiA/IGRlYm91bmNlZChlLCBjYWxsT3JpZ2luYWwsIHRoaXMpIDogdGhyb3R0bGVkKGUsIGNhbGxPcmlnaW5hbCwgdGhpcyk7XG4gICAgICAgICAgICBjb25zdCBoID0gciA/IHtcbiAgICAgICAgICAgICAgICBoYW5kbGVDaGFuZ2U6IGEuZmx1c2hcbiAgICAgICAgICAgIH0gOiBudWxsO1xuICAgICAgICAgICAgdGhpc1tpXSA9IGE7XG4gICAgICAgICAgICBpZiAocikge1xuICAgICAgICAgICAgICAgIG4uZm9yRWFjaCgodCA9PiBhZGRTaWduYWxMaXN0ZW5lcihyLCB0LCBoKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBkaXNwb3NlOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuLmZvckVhY2goKHQgPT4gcmVtb3ZlU2lnbmFsTGlzdGVuZXIociwgdCwgaCkpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0LmRlbGV0ZSh0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgYS5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzW2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pKTtcbiAgICB9O1xufSkoKTtcblxuY29uc3QgZXMgPSAoKHQgPSBuZXcgV2Vha1NldCkgPT4gZSA9PiBmdW5jdGlvbigpIHtcbiAgICBpZiAoIXQuaGFzKHRoaXMpKSB7XG4gICAgICAgIHQuYWRkKHRoaXMpO1xuICAgICAgICBlLmNhbGwodGhpcyk7XG4gICAgfVxufSkoKTtcblxuY29uc3Qgc3MgPSB7XG4gICAgcHJlZW1wdDogdHJ1ZVxufTtcblxuY2xhc3MgQXR0cmlidXRlQmluZGluZyB7XG4gICAgY29uc3RydWN0b3IodCwgZSwgcywgaSwgbiwgciwgbCwgYSwgaCkge1xuICAgICAgICB0aGlzLnRhcmdldEF0dHJpYnV0ZSA9IGw7XG4gICAgICAgIHRoaXMudGFyZ2V0UHJvcGVydHkgPSBhO1xuICAgICAgICB0aGlzLm1vZGUgPSBoO1xuICAgICAgICB0aGlzLmlzQm91bmQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zID0gdm9pZCAwO1xuICAgICAgICB0aGlzLkwgPSBudWxsO1xuICAgICAgICB0aGlzLnYgPSB2b2lkIDA7XG4gICAgICAgIHRoaXMuYm91bmRGbiA9IGZhbHNlO1xuICAgICAgICB0aGlzLmwgPSBlO1xuICAgICAgICB0aGlzLmFzdCA9IG47XG4gICAgICAgIHRoaXMuTSA9IHQ7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gcjtcbiAgICAgICAgdGhpcy5vTCA9IHM7XG4gICAgICAgIHRoaXMuQiA9IGk7XG4gICAgfVxuICAgIHVwZGF0ZVRhcmdldCh0KSB7XG4gICAgICAgIGNvbnN0IGUgPSB0aGlzLnRhcmdldDtcbiAgICAgICAgY29uc3QgcyA9IHRoaXMudGFyZ2V0QXR0cmlidXRlO1xuICAgICAgICBjb25zdCBuID0gdGhpcy50YXJnZXRQcm9wZXJ0eTtcbiAgICAgICAgc3dpdGNoIChzKSB7XG4gICAgICAgICAgY2FzZSBcImNsYXNzXCI6XG4gICAgICAgICAgICBlLmNsYXNzTGlzdC50b2dnbGUobiwgISF0KTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSBcInN0eWxlXCI6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGV0IHMgPSBcIlwiO1xuICAgICAgICAgICAgICAgIGxldCByID0ganQodCk7XG4gICAgICAgICAgICAgICAgaWYgKGkocikgJiYgci5pbmNsdWRlcyhcIiFpbXBvcnRhbnRcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgcyA9IFwiaW1wb3J0YW50XCI7XG4gICAgICAgICAgICAgICAgICAgIHIgPSByLnJlcGxhY2UoXCIhaW1wb3J0YW50XCIsIFwiXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlLnN0eWxlLnNldFByb3BlcnR5KG4sIHIsIHMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAodCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGUucmVtb3ZlQXR0cmlidXRlKHMpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGUuc2V0QXR0cmlidXRlKHMsIGp0KHQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaGFuZGxlQ2hhbmdlKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNCb3VuZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCB0O1xuICAgICAgICB0aGlzLm9icy52ZXJzaW9uKys7XG4gICAgICAgIGNvbnN0IGUgPSBhZSh0aGlzLmFzdCwgdGhpcy5zLCB0aGlzLCAodGhpcy5tb2RlICYgZGUpID4gMCA/IHRoaXMgOiBudWxsKTtcbiAgICAgICAgdGhpcy5vYnMuY2xlYXIoKTtcbiAgICAgICAgaWYgKGUgIT09IHRoaXMudikge1xuICAgICAgICAgICAgdGhpcy52ID0gZTtcbiAgICAgICAgICAgIGNvbnN0IHMgPSB0aGlzLk0uc3RhdGUgIT09IG1pO1xuICAgICAgICAgICAgaWYgKHMpIHtcbiAgICAgICAgICAgICAgICB0ID0gdGhpcy5MO1xuICAgICAgICAgICAgICAgIHRoaXMuTCA9IHRoaXMuQi5xdWV1ZVRhc2soKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5MID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVUYXJnZXQoZSk7XG4gICAgICAgICAgICAgICAgfSksIHNzKTtcbiAgICAgICAgICAgICAgICB0Py5jYW5jZWwoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVUYXJnZXQoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaGFuZGxlQ29sbGVjdGlvbkNoYW5nZSgpIHtcbiAgICAgICAgdGhpcy5oYW5kbGVDaGFuZ2UoKTtcbiAgICB9XG4gICAgYmluZCh0KSB7XG4gICAgICAgIGlmICh0aGlzLmlzQm91bmQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnMgPT09IHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnVuYmluZCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucyA9IHQ7XG4gICAgICAgIGhlKHRoaXMuYXN0LCB0LCB0aGlzKTtcbiAgICAgICAgaWYgKHRoaXMubW9kZSAmIChkZSB8IGZlKSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUYXJnZXQodGhpcy52ID0gYWUodGhpcy5hc3QsIHQsIHRoaXMsICh0aGlzLm1vZGUgJiBkZSkgPiAwID8gdGhpcyA6IG51bGwpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlzQm91bmQgPSB0cnVlO1xuICAgIH1cbiAgICB1bmJpbmQoKSB7XG4gICAgICAgIGlmICghdGhpcy5pc0JvdW5kKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pc0JvdW5kID0gZmFsc2U7XG4gICAgICAgIGNlKHRoaXMuYXN0LCB0aGlzLnMsIHRoaXMpO1xuICAgICAgICB0aGlzLnMgPSB2b2lkIDA7XG4gICAgICAgIHRoaXMudiA9IHZvaWQgMDtcbiAgICAgICAgdGhpcy5MPy5jYW5jZWwoKTtcbiAgICAgICAgdGhpcy5MID0gbnVsbDtcbiAgICAgICAgdGhpcy5vYnMuY2xlYXJBbGwoKTtcbiAgICB9XG59XG5cbkF0dHJpYnV0ZUJpbmRpbmcubWl4ID0gZXMoKCgpID0+IHtcbiAgICBZZShBdHRyaWJ1dGVCaW5kaW5nKTtcbiAgICB0cyhBdHRyaWJ1dGVCaW5kaW5nLCAoKCkgPT4gXCJ1cGRhdGVUYXJnZXRcIikpO1xuICAgIFEoQXR0cmlidXRlQmluZGluZywgbnVsbCk7XG4gICAgWmUodHJ1ZSkoQXR0cmlidXRlQmluZGluZyk7XG59KSk7XG5cbmNvbnN0IGlzID0ge1xuICAgIHByZWVtcHQ6IHRydWVcbn07XG5cbmNsYXNzIEludGVycG9sYXRpb25CaW5kaW5nIHtcbiAgICBjb25zdHJ1Y3Rvcih0LCBlLCBzLCBpLCBuLCByLCBsLCBhKSB7XG4gICAgICAgIHRoaXMuYXN0ID0gbjtcbiAgICAgICAgdGhpcy50YXJnZXQgPSByO1xuICAgICAgICB0aGlzLnRhcmdldFByb3BlcnR5ID0gbDtcbiAgICAgICAgdGhpcy5tb2RlID0gYTtcbiAgICAgICAgdGhpcy5pc0JvdW5kID0gZmFsc2U7XG4gICAgICAgIHRoaXMucyA9IHZvaWQgMDtcbiAgICAgICAgdGhpcy5MID0gbnVsbDtcbiAgICAgICAgdGhpcy5NID0gdDtcbiAgICAgICAgdGhpcy5vTCA9IHM7XG4gICAgICAgIHRoaXMuQiA9IGk7XG4gICAgICAgIHRoaXMuSSA9IHMuZ2V0QWNjZXNzb3IociwgbCk7XG4gICAgICAgIGNvbnN0IGggPSBuLmV4cHJlc3Npb25zO1xuICAgICAgICBjb25zdCBjID0gdGhpcy5wYXJ0QmluZGluZ3MgPSBBcnJheShoLmxlbmd0aCk7XG4gICAgICAgIGNvbnN0IHUgPSBoLmxlbmd0aDtcbiAgICAgICAgbGV0IGYgPSAwO1xuICAgICAgICBmb3IgKDt1ID4gZjsgKytmKSB7XG4gICAgICAgICAgICBjW2ZdID0gbmV3IEludGVycG9sYXRpb25QYXJ0QmluZGluZyhoW2ZdLCByLCBsLCBlLCBzLCB0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBQKCkge1xuICAgICAgICB0aGlzLnVwZGF0ZVRhcmdldCgpO1xuICAgIH1cbiAgICB1cGRhdGVUYXJnZXQoKSB7XG4gICAgICAgIGNvbnN0IHQgPSB0aGlzLnBhcnRCaW5kaW5ncztcbiAgICAgICAgY29uc3QgZSA9IHRoaXMuYXN0LnBhcnRzO1xuICAgICAgICBjb25zdCBzID0gdC5sZW5ndGg7XG4gICAgICAgIGxldCBpID0gXCJcIjtcbiAgICAgICAgbGV0IG4gPSAwO1xuICAgICAgICBpZiAocyA9PT0gMSkge1xuICAgICAgICAgICAgaSA9IGVbMF0gKyB0WzBdLnYgKyBlWzFdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaSA9IGVbMF07XG4gICAgICAgICAgICBmb3IgKDtzID4gbjsgKytuKSB7XG4gICAgICAgICAgICAgICAgaSArPSB0W25dLnYgKyBlW24gKyAxXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCByID0gdGhpcy5JO1xuICAgICAgICBjb25zdCBsID0gdGhpcy5NLnN0YXRlICE9PSBtaSAmJiAoci50eXBlICYgb2UpID4gMDtcbiAgICAgICAgbGV0IGE7XG4gICAgICAgIGlmIChsKSB7XG4gICAgICAgICAgICBhID0gdGhpcy5MO1xuICAgICAgICAgICAgdGhpcy5MID0gdGhpcy5CLnF1ZXVlVGFzaygoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuTCA9IG51bGw7XG4gICAgICAgICAgICAgICAgci5zZXRWYWx1ZShpLCB0aGlzLnRhcmdldCwgdGhpcy50YXJnZXRQcm9wZXJ0eSk7XG4gICAgICAgICAgICB9KSwgaXMpO1xuICAgICAgICAgICAgYT8uY2FuY2VsKCk7XG4gICAgICAgICAgICBhID0gbnVsbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHIuc2V0VmFsdWUoaSwgdGhpcy50YXJnZXQsIHRoaXMudGFyZ2V0UHJvcGVydHkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGJpbmQodCkge1xuICAgICAgICBpZiAodGhpcy5pc0JvdW5kKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zID09PSB0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy51bmJpbmQoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnMgPSB0O1xuICAgICAgICBjb25zdCBlID0gdGhpcy5wYXJ0QmluZGluZ3M7XG4gICAgICAgIGNvbnN0IHMgPSBlLmxlbmd0aDtcbiAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICBmb3IgKDtzID4gaTsgKytpKSB7XG4gICAgICAgICAgICBlW2ldLmJpbmQodCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51cGRhdGVUYXJnZXQoKTtcbiAgICAgICAgdGhpcy5pc0JvdW5kID0gdHJ1ZTtcbiAgICB9XG4gICAgdW5iaW5kKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNCb3VuZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaXNCb3VuZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnMgPSB2b2lkIDA7XG4gICAgICAgIGNvbnN0IHQgPSB0aGlzLnBhcnRCaW5kaW5ncztcbiAgICAgICAgY29uc3QgZSA9IHQubGVuZ3RoO1xuICAgICAgICBsZXQgcyA9IDA7XG4gICAgICAgIGZvciAoO2UgPiBzOyArK3MpIHtcbiAgICAgICAgICAgIHRbc10udW5iaW5kKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5MPy5jYW5jZWwoKTtcbiAgICAgICAgdGhpcy5MID0gbnVsbDtcbiAgICB9XG4gICAgdXNlQWNjZXNzb3IodCkge1xuICAgICAgICB0aGlzLkkgPSB0O1xuICAgIH1cbn1cblxuY2xhc3MgSW50ZXJwb2xhdGlvblBhcnRCaW5kaW5nIHtcbiAgICBjb25zdHJ1Y3Rvcih0LCBlLCBzLCBpLCBuLCByKSB7XG4gICAgICAgIHRoaXMuYXN0ID0gdDtcbiAgICAgICAgdGhpcy50YXJnZXQgPSBlO1xuICAgICAgICB0aGlzLnRhcmdldFByb3BlcnR5ID0gcztcbiAgICAgICAgdGhpcy5vd25lciA9IHI7XG4gICAgICAgIHRoaXMubW9kZSA9IGRlO1xuICAgICAgICB0aGlzLnRhc2sgPSBudWxsO1xuICAgICAgICB0aGlzLmlzQm91bmQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy52ID0gXCJcIjtcbiAgICAgICAgdGhpcy5ib3VuZEZuID0gZmFsc2U7XG4gICAgICAgIHRoaXMubCA9IGk7XG4gICAgICAgIHRoaXMub0wgPSBuO1xuICAgIH1cbiAgICB1cGRhdGVUYXJnZXQoKSB7XG4gICAgICAgIHRoaXMub3duZXIuUCgpO1xuICAgIH1cbiAgICBoYW5kbGVDaGFuZ2UoKSB7XG4gICAgICAgIGlmICghdGhpcy5pc0JvdW5kKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vYnMudmVyc2lvbisrO1xuICAgICAgICBjb25zdCB0ID0gYWUodGhpcy5hc3QsIHRoaXMucywgdGhpcywgKHRoaXMubW9kZSAmIGRlKSA+IDAgPyB0aGlzIDogbnVsbCk7XG4gICAgICAgIHRoaXMub2JzLmNsZWFyKCk7XG4gICAgICAgIGlmICh0ICE9IHRoaXMudikge1xuICAgICAgICAgICAgdGhpcy52ID0gdDtcbiAgICAgICAgICAgIGlmIChhKHQpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vYnNlcnZlQ29sbGVjdGlvbih0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGFyZ2V0KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaGFuZGxlQ29sbGVjdGlvbkNoYW5nZSgpIHtcbiAgICAgICAgdGhpcy51cGRhdGVUYXJnZXQoKTtcbiAgICB9XG4gICAgYmluZCh0KSB7XG4gICAgICAgIGlmICh0aGlzLmlzQm91bmQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnMgPT09IHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnVuYmluZCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucyA9IHQ7XG4gICAgICAgIGhlKHRoaXMuYXN0LCB0LCB0aGlzKTtcbiAgICAgICAgdGhpcy52ID0gYWUodGhpcy5hc3QsIHRoaXMucywgdGhpcywgKHRoaXMubW9kZSAmIGRlKSA+IDAgPyB0aGlzIDogbnVsbCk7XG4gICAgICAgIGlmIChhKHRoaXMudikpIHtcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2ZUNvbGxlY3Rpb24odGhpcy52KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlzQm91bmQgPSB0cnVlO1xuICAgIH1cbiAgICB1bmJpbmQoKSB7XG4gICAgICAgIGlmICghdGhpcy5pc0JvdW5kKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pc0JvdW5kID0gZmFsc2U7XG4gICAgICAgIGNlKHRoaXMuYXN0LCB0aGlzLnMsIHRoaXMpO1xuICAgICAgICB0aGlzLnMgPSB2b2lkIDA7XG4gICAgICAgIHRoaXMub2JzLmNsZWFyQWxsKCk7XG4gICAgfVxufVxuXG5JbnRlcnBvbGF0aW9uUGFydEJpbmRpbmcubWl4ID0gZXMoKCgpID0+IHtcbiAgICBZZShJbnRlcnBvbGF0aW9uUGFydEJpbmRpbmcpO1xuICAgIHRzKEludGVycG9sYXRpb25QYXJ0QmluZGluZywgKCgpID0+IFwidXBkYXRlVGFyZ2V0XCIpKTtcbiAgICBRKEludGVycG9sYXRpb25QYXJ0QmluZGluZywgbnVsbCk7XG4gICAgWmUodHJ1ZSkoSW50ZXJwb2xhdGlvblBhcnRCaW5kaW5nKTtcbn0pKTtcblxuY29uc3QgbnMgPSB7XG4gICAgcHJlZW1wdDogdHJ1ZVxufTtcblxuY2xhc3MgQ29udGVudEJpbmRpbmcge1xuICAgIGNvbnN0cnVjdG9yKHQsIGUsIHMsIGksIG4sIHIsIGwpIHtcbiAgICAgICAgdGhpcy5wID0gbjtcbiAgICAgICAgdGhpcy5hc3QgPSByO1xuICAgICAgICB0aGlzLnRhcmdldCA9IGw7XG4gICAgICAgIHRoaXMuaXNCb3VuZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLm1vZGUgPSBkZTtcbiAgICAgICAgdGhpcy5MID0gbnVsbDtcbiAgICAgICAgdGhpcy52ID0gXCJcIjtcbiAgICAgICAgdGhpcy5xID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYm91bmRGbiA9IGZhbHNlO1xuICAgICAgICB0aGlzLnN0cmljdCA9IHRydWU7XG4gICAgICAgIHRoaXMubCA9IGU7XG4gICAgICAgIHRoaXMuTSA9IHQ7XG4gICAgICAgIHRoaXMub0wgPSBzO1xuICAgICAgICB0aGlzLkIgPSBpO1xuICAgIH1cbiAgICB1cGRhdGVUYXJnZXQodCkge1xuICAgICAgICBjb25zdCBlID0gdGhpcy50YXJnZXQ7XG4gICAgICAgIGNvbnN0IHMgPSB0aGlzLnY7XG4gICAgICAgIHRoaXMudiA9IHQ7XG4gICAgICAgIGlmICh0aGlzLnEpIHtcbiAgICAgICAgICAgIHMucGFyZW50Tm9kZT8ucmVtb3ZlQ2hpbGQocyk7XG4gICAgICAgICAgICB0aGlzLnEgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodCBpbnN0YW5jZW9mIHRoaXMucC5Ob2RlKSB7XG4gICAgICAgICAgICBlLnBhcmVudE5vZGU/Lmluc2VydEJlZm9yZSh0LCBlKTtcbiAgICAgICAgICAgIHQgPSBcIlwiO1xuICAgICAgICAgICAgdGhpcy5xID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlLnRleHRDb250ZW50ID0ganQodCA/PyBcIlwiKTtcbiAgICB9XG4gICAgaGFuZGxlQ2hhbmdlKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNCb3VuZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub2JzLnZlcnNpb24rKztcbiAgICAgICAgY29uc3QgdCA9IGFlKHRoaXMuYXN0LCB0aGlzLnMsIHRoaXMsICh0aGlzLm1vZGUgJiBkZSkgPiAwID8gdGhpcyA6IG51bGwpO1xuICAgICAgICB0aGlzLm9icy5jbGVhcigpO1xuICAgICAgICBpZiAodCA9PT0gdGhpcy52KSB7XG4gICAgICAgICAgICB0aGlzLkw/LmNhbmNlbCgpO1xuICAgICAgICAgICAgdGhpcy5MID0gbnVsbDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlID0gdGhpcy5NLnN0YXRlICE9PSBtaTtcbiAgICAgICAgaWYgKGUpIHtcbiAgICAgICAgICAgIHRoaXMuXyh0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGFyZ2V0KHQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGhhbmRsZUNvbGxlY3Rpb25DaGFuZ2UoKSB7XG4gICAgICAgIGlmICghdGhpcy5pc0JvdW5kKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vYnMudmVyc2lvbisrO1xuICAgICAgICBjb25zdCB0ID0gdGhpcy52ID0gYWUodGhpcy5hc3QsIHRoaXMucywgdGhpcywgKHRoaXMubW9kZSAmIGRlKSA+IDAgPyB0aGlzIDogbnVsbCk7XG4gICAgICAgIHRoaXMub2JzLmNsZWFyKCk7XG4gICAgICAgIGlmIChhKHQpKSB7XG4gICAgICAgICAgICB0aGlzLm9ic2VydmVDb2xsZWN0aW9uKHQpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGUgPSB0aGlzLk0uc3RhdGUgIT09IG1pO1xuICAgICAgICBpZiAoZSkge1xuICAgICAgICAgICAgdGhpcy5fKHQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUYXJnZXQodCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYmluZCh0KSB7XG4gICAgICAgIGlmICh0aGlzLmlzQm91bmQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnMgPT09IHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnVuYmluZCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucyA9IHQ7XG4gICAgICAgIGhlKHRoaXMuYXN0LCB0LCB0aGlzKTtcbiAgICAgICAgY29uc3QgZSA9IHRoaXMudiA9IGFlKHRoaXMuYXN0LCB0aGlzLnMsIHRoaXMsICh0aGlzLm1vZGUgJiBkZSkgPiAwID8gdGhpcyA6IG51bGwpO1xuICAgICAgICBpZiAoYShlKSkge1xuICAgICAgICAgICAgdGhpcy5vYnNlcnZlQ29sbGVjdGlvbihlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVwZGF0ZVRhcmdldChlKTtcbiAgICAgICAgdGhpcy5pc0JvdW5kID0gdHJ1ZTtcbiAgICB9XG4gICAgdW5iaW5kKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNCb3VuZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaXNCb3VuZCA9IGZhbHNlO1xuICAgICAgICBjZSh0aGlzLmFzdCwgdGhpcy5zLCB0aGlzKTtcbiAgICAgICAgaWYgKHRoaXMucSkge1xuICAgICAgICAgICAgdGhpcy52LnBhcmVudE5vZGU/LnJlbW92ZUNoaWxkKHRoaXMudik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zID0gdm9pZCAwO1xuICAgICAgICB0aGlzLm9icy5jbGVhckFsbCgpO1xuICAgICAgICB0aGlzLkw/LmNhbmNlbCgpO1xuICAgICAgICB0aGlzLkwgPSBudWxsO1xuICAgIH1cbiAgICBfKHQpIHtcbiAgICAgICAgY29uc3QgZSA9IHRoaXMuTDtcbiAgICAgICAgdGhpcy5MID0gdGhpcy5CLnF1ZXVlVGFzaygoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5MID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGFyZ2V0KHQpO1xuICAgICAgICB9KSwgbnMpO1xuICAgICAgICBlPy5jYW5jZWwoKTtcbiAgICB9XG59XG5cbkNvbnRlbnRCaW5kaW5nLm1peCA9IGVzKCgoKSA9PiB7XG4gICAgWWUoQ29udGVudEJpbmRpbmcpO1xuICAgIHRzKENvbnRlbnRCaW5kaW5nLCAoKCkgPT4gXCJ1cGRhdGVUYXJnZXRcIikpO1xuICAgIFEoQ29udGVudEJpbmRpbmcsIG51bGwpO1xuICAgIFplKHZvaWQgMCwgZmFsc2UpKENvbnRlbnRCaW5kaW5nKTtcbn0pKTtcblxuY2xhc3MgTGV0QmluZGluZyB7XG4gICAgY29uc3RydWN0b3IodCwgZSwgcywgaSwgbiA9IGZhbHNlKSB7XG4gICAgICAgIHRoaXMuYXN0ID0gcztcbiAgICAgICAgdGhpcy50YXJnZXRQcm9wZXJ0eSA9IGk7XG4gICAgICAgIHRoaXMuaXNCb3VuZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnMgPSB2b2lkIDA7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5ib3VuZEZuID0gZmFsc2U7XG4gICAgICAgIHRoaXMubCA9IHQ7XG4gICAgICAgIHRoaXMub0wgPSBlO1xuICAgICAgICB0aGlzLk8gPSBuO1xuICAgIH1cbiAgICB1cGRhdGVUYXJnZXQoKSB7XG4gICAgICAgIHRoaXMudGFyZ2V0W3RoaXMudGFyZ2V0UHJvcGVydHldID0gdGhpcy52O1xuICAgIH1cbiAgICBoYW5kbGVDaGFuZ2UoKSB7XG4gICAgICAgIGlmICghdGhpcy5pc0JvdW5kKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vYnMudmVyc2lvbisrO1xuICAgICAgICB0aGlzLnYgPSBhZSh0aGlzLmFzdCwgdGhpcy5zLCB0aGlzLCB0aGlzKTtcbiAgICAgICAgdGhpcy5vYnMuY2xlYXIoKTtcbiAgICAgICAgdGhpcy51cGRhdGVUYXJnZXQoKTtcbiAgICB9XG4gICAgaGFuZGxlQ29sbGVjdGlvbkNoYW5nZSgpIHtcbiAgICAgICAgdGhpcy5oYW5kbGVDaGFuZ2UoKTtcbiAgICB9XG4gICAgYmluZCh0KSB7XG4gICAgICAgIGlmICh0aGlzLmlzQm91bmQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnMgPT09IHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnVuYmluZCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucyA9IHQ7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdGhpcy5PID8gdC5iaW5kaW5nQ29udGV4dCA6IHQub3ZlcnJpZGVDb250ZXh0O1xuICAgICAgICBoZSh0aGlzLmFzdCwgdCwgdGhpcyk7XG4gICAgICAgIHRoaXMudiA9IGFlKHRoaXMuYXN0LCB0aGlzLnMsIHRoaXMsIHRoaXMpO1xuICAgICAgICB0aGlzLnVwZGF0ZVRhcmdldCgpO1xuICAgICAgICB0aGlzLmlzQm91bmQgPSB0cnVlO1xuICAgIH1cbiAgICB1bmJpbmQoKSB7XG4gICAgICAgIGlmICghdGhpcy5pc0JvdW5kKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pc0JvdW5kID0gZmFsc2U7XG4gICAgICAgIGNlKHRoaXMuYXN0LCB0aGlzLnMsIHRoaXMpO1xuICAgICAgICB0aGlzLnMgPSB2b2lkIDA7XG4gICAgICAgIHRoaXMub2JzLmNsZWFyQWxsKCk7XG4gICAgfVxufVxuXG5MZXRCaW5kaW5nLm1peCA9IGVzKCgoKSA9PiB7XG4gICAgWWUoTGV0QmluZGluZyk7XG4gICAgdHMoTGV0QmluZGluZywgKCgpID0+IFwidXBkYXRlVGFyZ2V0XCIpKTtcbiAgICBRKExldEJpbmRpbmcsIG51bGwpO1xuICAgIFplKHRydWUpKExldEJpbmRpbmcpO1xufSkpO1xuXG5jbGFzcyBQcm9wZXJ0eUJpbmRpbmcge1xuICAgIGNvbnN0cnVjdG9yKHQsIGUsIHMsIGksIG4sIHIsIGwsIGEpIHtcbiAgICAgICAgdGhpcy5hc3QgPSBuO1xuICAgICAgICB0aGlzLnRhcmdldCA9IHI7XG4gICAgICAgIHRoaXMudGFyZ2V0UHJvcGVydHkgPSBsO1xuICAgICAgICB0aGlzLm1vZGUgPSBhO1xuICAgICAgICB0aGlzLmlzQm91bmQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zID0gdm9pZCAwO1xuICAgICAgICB0aGlzLkkgPSB2b2lkIDA7XG4gICAgICAgIHRoaXMuTCA9IG51bGw7XG4gICAgICAgIHRoaXMuRiA9IG51bGw7XG4gICAgICAgIHRoaXMuYm91bmRGbiA9IGZhbHNlO1xuICAgICAgICB0aGlzLmwgPSBlO1xuICAgICAgICB0aGlzLk0gPSB0O1xuICAgICAgICB0aGlzLkIgPSBpO1xuICAgICAgICB0aGlzLm9MID0gcztcbiAgICB9XG4gICAgdXBkYXRlVGFyZ2V0KHQpIHtcbiAgICAgICAgdGhpcy5JLnNldFZhbHVlKHQsIHRoaXMudGFyZ2V0LCB0aGlzLnRhcmdldFByb3BlcnR5KTtcbiAgICB9XG4gICAgdXBkYXRlU291cmNlKHQpIHtcbiAgICAgICAgbGUodGhpcy5hc3QsIHRoaXMucywgdGhpcywgdCk7XG4gICAgfVxuICAgIGhhbmRsZUNoYW5nZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzQm91bmQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm9icy52ZXJzaW9uKys7XG4gICAgICAgIGNvbnN0IHQgPSBhZSh0aGlzLmFzdCwgdGhpcy5zLCB0aGlzLCAodGhpcy5tb2RlICYgZGUpID4gMCA/IHRoaXMgOiBudWxsKTtcbiAgICAgICAgdGhpcy5vYnMuY2xlYXIoKTtcbiAgICAgICAgY29uc3QgZSA9IHRoaXMuTS5zdGF0ZSAhPT0gbWkgJiYgKHRoaXMuSS50eXBlICYgb2UpID4gMDtcbiAgICAgICAgaWYgKGUpIHtcbiAgICAgICAgICAgIHJzID0gdGhpcy5MO1xuICAgICAgICAgICAgdGhpcy5MID0gdGhpcy5CLnF1ZXVlVGFzaygoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVGFyZ2V0KHQpO1xuICAgICAgICAgICAgICAgIHRoaXMuTCA9IG51bGw7XG4gICAgICAgICAgICB9KSwgb3MpO1xuICAgICAgICAgICAgcnM/LmNhbmNlbCgpO1xuICAgICAgICAgICAgcnMgPSBudWxsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUYXJnZXQodCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaGFuZGxlQ29sbGVjdGlvbkNoYW5nZSgpIHtcbiAgICAgICAgdGhpcy5oYW5kbGVDaGFuZ2UoKTtcbiAgICB9XG4gICAgYmluZCh0KSB7XG4gICAgICAgIGlmICh0aGlzLmlzQm91bmQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnMgPT09IHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnVuYmluZCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucyA9IHQ7XG4gICAgICAgIGhlKHRoaXMuYXN0LCB0LCB0aGlzKTtcbiAgICAgICAgY29uc3QgZSA9IHRoaXMub0w7XG4gICAgICAgIGNvbnN0IHMgPSB0aGlzLm1vZGU7XG4gICAgICAgIGxldCBpID0gdGhpcy5JO1xuICAgICAgICBpZiAoIWkpIHtcbiAgICAgICAgICAgIGlmIChzICYgbWUpIHtcbiAgICAgICAgICAgICAgICBpID0gZS5nZXRPYnNlcnZlcih0aGlzLnRhcmdldCwgdGhpcy50YXJnZXRQcm9wZXJ0eSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGkgPSBlLmdldEFjY2Vzc29yKHRoaXMudGFyZ2V0LCB0aGlzLnRhcmdldFByb3BlcnR5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuSSA9IGk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbiA9IChzICYgZGUpID4gMDtcbiAgICAgICAgaWYgKHMgJiAoZGUgfCBmZSkpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGFyZ2V0KGFlKHRoaXMuYXN0LCB0aGlzLnMsIHRoaXMsIG4gPyB0aGlzIDogbnVsbCkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzICYgbWUpIHtcbiAgICAgICAgICAgIGkuc3Vic2NyaWJlKHRoaXMuRiA/Pz0gbmV3IEJpbmRpbmdUYXJnZXRTdWJzY3JpYmVyKHRoaXMsIHRoaXMubC5nZXQoSmUpKSk7XG4gICAgICAgICAgICBpZiAoIW4pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVNvdXJjZShpLmdldFZhbHVlKHRoaXMudGFyZ2V0LCB0aGlzLnRhcmdldFByb3BlcnR5KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pc0JvdW5kID0gdHJ1ZTtcbiAgICB9XG4gICAgdW5iaW5kKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNCb3VuZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaXNCb3VuZCA9IGZhbHNlO1xuICAgICAgICBjZSh0aGlzLmFzdCwgdGhpcy5zLCB0aGlzKTtcbiAgICAgICAgdGhpcy5zID0gdm9pZCAwO1xuICAgICAgICBpZiAodGhpcy5GKSB7XG4gICAgICAgICAgICB0aGlzLkkudW5zdWJzY3JpYmUodGhpcy5GKTtcbiAgICAgICAgICAgIHRoaXMuRiA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5MPy5jYW5jZWwoKTtcbiAgICAgICAgdGhpcy5MID0gbnVsbDtcbiAgICAgICAgdGhpcy5vYnMuY2xlYXJBbGwoKTtcbiAgICB9XG4gICAgdXNlVGFyZ2V0T2JzZXJ2ZXIodCkge1xuICAgICAgICB0aGlzLkk/LnVuc3Vic2NyaWJlKHRoaXMpO1xuICAgICAgICAodGhpcy5JID0gdCkuc3Vic2NyaWJlKHRoaXMpO1xuICAgIH1cbiAgICB1c2VUYXJnZXRTdWJzY3JpYmVyKHQpIHtcbiAgICAgICAgaWYgKHRoaXMuRiAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVNYXBwZWRFcnJvcig5OTk1KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLkYgPSB0O1xuICAgIH1cbn1cblxuUHJvcGVydHlCaW5kaW5nLm1peCA9IGVzKCgoKSA9PiB7XG4gICAgWWUoUHJvcGVydHlCaW5kaW5nKTtcbiAgICB0cyhQcm9wZXJ0eUJpbmRpbmcsICh0ID0+IHQubW9kZSAmIG1lID8gXCJ1cGRhdGVTb3VyY2VcIiA6IFwidXBkYXRlVGFyZ2V0XCIpKTtcbiAgICBRKFByb3BlcnR5QmluZGluZywgbnVsbCk7XG4gICAgWmUodHJ1ZSwgZmFsc2UpKFByb3BlcnR5QmluZGluZyk7XG59KSk7XG5cbmxldCBycyA9IG51bGw7XG5cbmNvbnN0IG9zID0ge1xuICAgIHByZWVtcHQ6IHRydWVcbn07XG5cbmNsYXNzIFJlZkJpbmRpbmcge1xuICAgIGNvbnN0cnVjdG9yKHQsIGUsIHMpIHtcbiAgICAgICAgdGhpcy5hc3QgPSBlO1xuICAgICAgICB0aGlzLnRhcmdldCA9IHM7XG4gICAgICAgIHRoaXMuaXNCb3VuZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnMgPSB2b2lkIDA7XG4gICAgICAgIHRoaXMubCA9IHQ7XG4gICAgfVxuICAgIGJpbmQodCkge1xuICAgICAgICBpZiAodGhpcy5pc0JvdW5kKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zID09PSB0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy51bmJpbmQoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnMgPSB0O1xuICAgICAgICBoZSh0aGlzLmFzdCwgdCwgdGhpcyk7XG4gICAgICAgIGxlKHRoaXMuYXN0LCB0aGlzLnMsIHRoaXMsIHRoaXMudGFyZ2V0KTtcbiAgICAgICAgdGhpcy5pc0JvdW5kID0gdHJ1ZTtcbiAgICB9XG4gICAgdW5iaW5kKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNCb3VuZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaXNCb3VuZCA9IGZhbHNlO1xuICAgICAgICBpZiAoYWUodGhpcy5hc3QsIHRoaXMucywgdGhpcywgbnVsbCkgPT09IHRoaXMudGFyZ2V0KSB7XG4gICAgICAgICAgICBsZSh0aGlzLmFzdCwgdGhpcy5zLCB0aGlzLCBudWxsKTtcbiAgICAgICAgfVxuICAgICAgICBjZSh0aGlzLmFzdCwgdGhpcy5zLCB0aGlzKTtcbiAgICAgICAgdGhpcy5zID0gdm9pZCAwO1xuICAgIH1cbn1cblxuUmVmQmluZGluZy5taXggPSBlcygoKCkgPT4ge1xuICAgIFplKGZhbHNlKShSZWZCaW5kaW5nKTtcbn0pKTtcblxuY2xhc3MgTGlzdGVuZXJCaW5kaW5nT3B0aW9ucyB7XG4gICAgY29uc3RydWN0b3IodCwgZSA9IGZhbHNlKSB7XG4gICAgICAgIHRoaXMucHJldmVudCA9IHQ7XG4gICAgICAgIHRoaXMuY2FwdHVyZSA9IGU7XG4gICAgfVxufVxuXG5jbGFzcyBMaXN0ZW5lckJpbmRpbmcge1xuICAgIGNvbnN0cnVjdG9yKHQsIGUsIHMsIGksIG4sIHIpIHtcbiAgICAgICAgdGhpcy5hc3QgPSBlO1xuICAgICAgICB0aGlzLnRhcmdldCA9IHM7XG4gICAgICAgIHRoaXMudGFyZ2V0RXZlbnQgPSBpO1xuICAgICAgICB0aGlzLmlzQm91bmQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zZWxmID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYm91bmRGbiA9IHRydWU7XG4gICAgICAgIHRoaXMuViA9IG51bGw7XG4gICAgICAgIHRoaXMubCA9IHQ7XG4gICAgICAgIHRoaXMuSCA9IG47XG4gICAgICAgIHRoaXMuViA9IHI7XG4gICAgfVxuICAgIGNhbGxTb3VyY2UodCkge1xuICAgICAgICBjb25zdCBlID0gdGhpcy5zLm92ZXJyaWRlQ29udGV4dDtcbiAgICAgICAgZS4kZXZlbnQgPSB0O1xuICAgICAgICBsZXQgcyA9IGFlKHRoaXMuYXN0LCB0aGlzLnMsIHRoaXMsIG51bGwpO1xuICAgICAgICBkZWxldGUgZS4kZXZlbnQ7XG4gICAgICAgIGlmIChsKHMpKSB7XG4gICAgICAgICAgICBzID0gcyh0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocyAhPT0gdHJ1ZSAmJiB0aGlzLkgucHJldmVudCkge1xuICAgICAgICAgICAgdC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzO1xuICAgIH1cbiAgICBoYW5kbGVFdmVudCh0KSB7XG4gICAgICAgIGlmICh0aGlzLnNlbGYpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnRhcmdldCAhPT0gdC5jb21wb3NlZFBhdGgoKVswXSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5WPy4odCkgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aGlzLmNhbGxTb3VyY2UodCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYmluZCh0KSB7XG4gICAgICAgIGlmICh0aGlzLmlzQm91bmQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnMgPT09IHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnVuYmluZCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucyA9IHQ7XG4gICAgICAgIGhlKHRoaXMuYXN0LCB0LCB0aGlzKTtcbiAgICAgICAgdGhpcy50YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLnRhcmdldEV2ZW50LCB0aGlzLCB0aGlzLkgpO1xuICAgICAgICB0aGlzLmlzQm91bmQgPSB0cnVlO1xuICAgIH1cbiAgICB1bmJpbmQoKSB7XG4gICAgICAgIGlmICghdGhpcy5pc0JvdW5kKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pc0JvdW5kID0gZmFsc2U7XG4gICAgICAgIGNlKHRoaXMuYXN0LCB0aGlzLnMsIHRoaXMpO1xuICAgICAgICB0aGlzLnMgPSB2b2lkIDA7XG4gICAgICAgIHRoaXMudGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy50YXJnZXRFdmVudCwgdGhpcywgdGhpcy5IKTtcbiAgICB9XG59XG5cbkxpc3RlbmVyQmluZGluZy5taXggPSBlcygoZnVuY3Rpb24oKSB7XG4gICAgWWUoTGlzdGVuZXJCaW5kaW5nKTtcbiAgICB0cyhMaXN0ZW5lckJpbmRpbmcsICgoKSA9PiBcImNhbGxTb3VyY2VcIikpO1xuICAgIFplKHRydWUsIHRydWUpKExpc3RlbmVyQmluZGluZyk7XG59KSk7XG5cbmNvbnN0IGxzID0gLypAX19QVVJFX18qLyBCZShcIklFdmVudE1vZGlmaWVyXCIpO1xuXG5jb25zdCBhcyA9IC8qQF9fUFVSRV9fKi8gQmUoXCJJS2V5TWFwcGluZ1wiLCAodCA9PiB0Lmluc3RhbmNlKHtcbiAgICBtZXRhOiBVdChbIFwiY3RybFwiLCBcImFsdFwiLCBcInNoaWZ0XCIsIFwibWV0YVwiIF0pLFxuICAgIGtleXM6IHtcbiAgICAgICAgZXNjYXBlOiBcIkVzY2FwZVwiLFxuICAgICAgICBlbnRlcjogXCJFbnRlclwiLFxuICAgICAgICBzcGFjZTogXCJTcGFjZVwiLFxuICAgICAgICB0YWI6IFwidGFiXCIsXG4gICAgICAgIC4uLkFycmF5LmZyb20oe1xuICAgICAgICAgICAgbGVuZ3RoOiAyNVxuICAgICAgICB9KS5yZWR1Y2UoKCh0LCBlLCBzKSA9PiB7XG4gICAgICAgICAgICBsZXQgaSA9IFN0cmluZy5mcm9tQ2hhckNvZGUocyArIDY1KTtcbiAgICAgICAgICAgIHRbcyArIDY1XSA9IGk7XG4gICAgICAgICAgICBpID0gU3RyaW5nLmZyb21DaGFyQ29kZShzICsgOTcpO1xuICAgICAgICAgICAgdFtzICsgOTddID0gdFtpXSA9IGk7XG4gICAgICAgICAgICByZXR1cm4gdDtcbiAgICAgICAgfSksIHt9KVxuICAgIH1cbn0pKSk7XG5cbmNsYXNzIE1vZGlmaWVkTW91c2VFdmVudEhhbmRsZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnR5cGUgPSBbIFwiY2xpY2tcIiwgXCJtb3VzZWRvd25cIiwgXCJtb3VzZW1vdmVcIiwgXCJtb3VzZXVwXCIsIFwiZGJsY2xpY2tcIiwgXCJjb250ZXh0bWVudVwiIF07XG4gICAgICAgIHRoaXMuJCA9IHkoYXMpO1xuICAgICAgICB0aGlzLk4gPSBbIFwibGVmdFwiLCBcIm1pZGRsZVwiLCBcInJpZ2h0XCIgXTtcbiAgICB9XG4gICAgc3RhdGljIHJlZ2lzdGVyKHQpIHtcbiAgICAgICAgdC5yZWdpc3RlcihTZShscywgTW9kaWZpZWRNb3VzZUV2ZW50SGFuZGxlcikpO1xuICAgIH1cbiAgICBnZXRIYW5kbGVyKHQpIHtcbiAgICAgICAgY29uc3QgZSA9IHQuc3BsaXQoL1s6Ky5dLyk7XG4gICAgICAgIHJldHVybiB0ID0+IHtcbiAgICAgICAgICAgIGxldCBzID0gZmFsc2U7XG4gICAgICAgICAgICBsZXQgaSA9IGZhbHNlO1xuICAgICAgICAgICAgbGV0IG47XG4gICAgICAgICAgICBmb3IgKG4gb2YgZSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAobikge1xuICAgICAgICAgICAgICAgICAgY2FzZSBcInByZXZlbnRcIjpcbiAgICAgICAgICAgICAgICAgICAgcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAgICAgICBjYXNlIFwic3RvcFwiOlxuICAgICAgICAgICAgICAgICAgICBpID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG5cbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJsZWZ0XCI6XG4gICAgICAgICAgICAgICAgICBjYXNlIFwibWlkZGxlXCI6XG4gICAgICAgICAgICAgICAgICBjYXNlIFwicmlnaHRcIjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQuYnV0dG9uICE9PSB0aGlzLk4uaW5kZXhPZihuKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuJC5tZXRhLmluY2x1ZGVzKG4pICYmIHRbYCR7bn1LZXlgXSAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHMpIHQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGlmIChpKSB0LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH07XG4gICAgfVxufVxuXG5jbGFzcyBNb2RpZmllZEtleWJvYXJkRXZlbnRIYW5kbGVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy4kID0geShhcyk7XG4gICAgICAgIHRoaXMudHlwZSA9IFsgXCJrZXlkb3duXCIsIFwia2V5dXBcIiBdO1xuICAgIH1cbiAgICBzdGF0aWMgcmVnaXN0ZXIodCkge1xuICAgICAgICB0LnJlZ2lzdGVyKFNlKGxzLCBNb2RpZmllZEtleWJvYXJkRXZlbnRIYW5kbGVyKSk7XG4gICAgfVxuICAgIGdldEhhbmRsZXIodCkge1xuICAgICAgICBjb25zdCBlID0gdC5zcGxpdCgvWzorLl0vKTtcbiAgICAgICAgcmV0dXJuIHQgPT4ge1xuICAgICAgICAgICAgbGV0IHMgPSBmYWxzZTtcbiAgICAgICAgICAgIGxldCBpID0gZmFsc2U7XG4gICAgICAgICAgICBsZXQgbjtcbiAgICAgICAgICAgIGZvciAobiBvZiBlKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChuKSB7XG4gICAgICAgICAgICAgICAgICBjYXNlIFwicHJldmVudFwiOlxuICAgICAgICAgICAgICAgICAgICBzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG5cbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJzdG9wXCI6XG4gICAgICAgICAgICAgICAgICAgIGkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuJC5tZXRhLmluY2x1ZGVzKG4pKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0W2Ake259S2V5YF0gIT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgZSA9IHRoaXMuJC5rZXlzW25dO1xuICAgICAgICAgICAgICAgIGlmIChlICE9PSB0LmtleSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHMpIHQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGlmIChpKSB0LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH07XG4gICAgfVxufVxuXG5jbGFzcyBNb2RpZmllZEV2ZW50SGFuZGxlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMudHlwZSA9IFsgXCIkQUxMXCIgXTtcbiAgICB9XG4gICAgc3RhdGljIHJlZ2lzdGVyKHQpIHtcbiAgICAgICAgdC5yZWdpc3RlcihTZShscywgTW9kaWZpZWRFdmVudEhhbmRsZXIpKTtcbiAgICB9XG4gICAgZ2V0SGFuZGxlcih0KSB7XG4gICAgICAgIGNvbnN0IGUgPSB0LnNwbGl0KC9bOisuXS8pO1xuICAgICAgICByZXR1cm4gdCA9PiB7XG4gICAgICAgICAgICBsZXQgcyA9IGZhbHNlO1xuICAgICAgICAgICAgbGV0IGkgPSBmYWxzZTtcbiAgICAgICAgICAgIGxldCBuO1xuICAgICAgICAgICAgZm9yIChuIG9mIGUpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKG4pIHtcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJwcmV2ZW50XCI6XG4gICAgICAgICAgICAgICAgICAgIHMgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICAgICAgICAgICAgY2FzZSBcInN0b3BcIjpcbiAgICAgICAgICAgICAgICAgICAgaSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzKSB0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBpZiAoaSkgdC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9O1xuICAgIH1cbn1cblxuY29uc3QgaHMgPSAvKkBfX1BVUkVfXyovIEJlKFwiSUV2ZW50TW9kaWZpZXJIYW5kbGVyXCIsICh0ID0+IHQuaW5zdGFuY2Uoe1xuICAgIGdldEhhbmRsZXI6ICgpID0+IG51bGxcbn0pKSk7XG5cbmNsYXNzIEV2ZW50TW9kaWZpZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmogPSB5KEEobHMpKS5yZWR1Y2UoKCh0LCBlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzID0gYShlLnR5cGUpID8gZS50eXBlIDogWyBlLnR5cGUgXTtcbiAgICAgICAgICAgIHMuZm9yRWFjaCgocyA9PiB0W3NdID0gZSkpO1xuICAgICAgICAgICAgcmV0dXJuIHQ7XG4gICAgICAgIH0pLCB7fSk7XG4gICAgfVxuICAgIHN0YXRpYyByZWdpc3Rlcih0KSB7XG4gICAgICAgIHQucmVnaXN0ZXIoU2UoaHMsIEV2ZW50TW9kaWZpZXIpKTtcbiAgICB9XG4gICAgZ2V0SGFuZGxlcih0LCBlKSB7XG4gICAgICAgIHJldHVybiBpKGUpID8gKHRoaXMualt0XSA/PyB0aGlzLmouJEFMTCk/LmdldEhhbmRsZXIoZSkgPz8gbnVsbCA6IG51bGw7XG4gICAgfVxufVxuXG5jb25zdCBjcyA9IHtcbiAgICByZWdpc3Rlcih0KSB7XG4gICAgICAgIHQucmVnaXN0ZXIoRXZlbnRNb2RpZmllciwgTW9kaWZpZWRNb3VzZUV2ZW50SGFuZGxlciwgTW9kaWZpZWRLZXlib2FyZEV2ZW50SGFuZGxlciwgTW9kaWZpZWRFdmVudEhhbmRsZXIpO1xuICAgIH1cbn07XG5cbmNvbnN0IHVzID0gLypAX19QVVJFX18qLyBCZShcIklWaWV3RmFjdG9yeVwiKTtcblxuY2xhc3MgVmlld0ZhY3Rvcnkge1xuICAgIGNvbnN0cnVjdG9yKHQsIGUpIHtcbiAgICAgICAgdGhpcy5pc0NhY2hpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5XID0gbnVsbDtcbiAgICAgICAgdGhpcy5VID0gLTE7XG4gICAgICAgIHRoaXMubmFtZSA9IGUubmFtZTtcbiAgICAgICAgdGhpcy5jb250YWluZXIgPSB0O1xuICAgICAgICB0aGlzLmRlZiA9IGU7XG4gICAgfVxuICAgIHNldENhY2hlU2l6ZSh0LCBlKSB7XG4gICAgICAgIGlmICh0KSB7XG4gICAgICAgICAgICBpZiAodCA9PT0gXCIqXCIpIHtcbiAgICAgICAgICAgICAgICB0ID0gVmlld0ZhY3RvcnkubWF4Q2FjaGVTaXplO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpKHQpKSB7XG4gICAgICAgICAgICAgICAgdCA9IHBhcnNlSW50KHQsIDEwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLlUgPT09IC0xIHx8ICFlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5VID0gdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5VID4gMCkge1xuICAgICAgICAgICAgdGhpcy5XID0gW107XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLlcgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaXNDYWNoaW5nID0gdGhpcy5VID4gMDtcbiAgICB9XG4gICAgY2FuUmV0dXJuVG9DYWNoZSh0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLlcgIT0gbnVsbCAmJiB0aGlzLlcubGVuZ3RoIDwgdGhpcy5VO1xuICAgIH1cbiAgICB0cnlSZXR1cm5Ub0NhY2hlKHQpIHtcbiAgICAgICAgaWYgKHRoaXMuY2FuUmV0dXJuVG9DYWNoZSh0KSkge1xuICAgICAgICAgICAgdGhpcy5XLnB1c2godCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNyZWF0ZSh0KSB7XG4gICAgICAgIGNvbnN0IGUgPSB0aGlzLlc7XG4gICAgICAgIGxldCBzO1xuICAgICAgICBpZiAoZSAhPSBudWxsICYmIGUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcyA9IGUucG9wKCk7XG4gICAgICAgICAgICByZXR1cm4gcztcbiAgICAgICAgfVxuICAgICAgICBzID0gQ29udHJvbGxlci4kdmlldyh0aGlzLCB0KTtcbiAgICAgICAgcmV0dXJuIHM7XG4gICAgfVxufVxuXG5WaWV3RmFjdG9yeS5tYXhDYWNoZVNpemUgPSA2NTUzNTtcblxuY29uc3QgZnMgPSAvKkBfX1BVUkVfXyovICgoKSA9PiB7XG4gICAgY29uc3QgY3JlYXRlQ29tbWVudCA9ICh0LCBlKSA9PiB0LmRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoZSk7XG4gICAgcmV0dXJuIHQgPT4ge1xuICAgICAgICBjb25zdCBlID0gY3JlYXRlQ29tbWVudCh0LCBcImF1LWVuZFwiKTtcbiAgICAgICAgZS4kc3RhcnQgPSBjcmVhdGVDb21tZW50KHQsIFwiYXUtc3RhcnRcIik7XG4gICAgICAgIHJldHVybiBlO1xuICAgIH07XG59KSgpO1xuXG5jb25zdCBpbnNlcnRNYW55QmVmb3JlID0gKHQsIGUsIHMpID0+IHtcbiAgICBpZiAodCA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGkgPSBzLmxlbmd0aDtcbiAgICBsZXQgbiA9IDA7XG4gICAgd2hpbGUgKGkgPiBuKSB7XG4gICAgICAgIHQuaW5zZXJ0QmVmb3JlKHNbbl0sIGUpO1xuICAgICAgICArK247XG4gICAgfVxufTtcblxuY29uc3QgY3JlYXRlTXV0YXRpb25PYnNlcnZlciA9ICh0LCBlKSA9PiBuZXcgdC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3Lk11dGF0aW9uT2JzZXJ2ZXIoZSk7XG5cbmNvbnN0IGlzRWxlbWVudCA9IHQgPT4gdC5ub2RlVHlwZSA9PT0gMTtcblxuY29uc3QgZHMgPSBcImRlZmF1bHRcIjtcblxuY29uc3QgbXMgPSBcImF1LXNsb3RcIjtcblxuY29uc3QgZ3MgPSAvKkBfX1BVUkVfXyovIEJlKFwiSUF1U2xvdHNJbmZvXCIpO1xuXG5jbGFzcyBBdVNsb3RzSW5mbyB7XG4gICAgY29uc3RydWN0b3IodCkge1xuICAgICAgICB0aGlzLnByb2plY3RlZFNsb3RzID0gdDtcbiAgICB9XG59XG5cbmNvbnN0IHBzID0gLypAX19QVVJFX18qLyBCZShcIklBdVNsb3RXYXRjaGVyXCIpO1xuXG5jbGFzcyBBdVNsb3RXYXRjaGVyQmluZGluZyB7XG4gICAgY29uc3RydWN0b3IodCwgZSwgcywgaSkge1xuICAgICAgICB0aGlzLkcgPSBuZXcgU2V0O1xuICAgICAgICB0aGlzLksgPSBDO1xuICAgICAgICB0aGlzLmlzQm91bmQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jYiA9ICh0aGlzLm8gPSB0KVtlXTtcbiAgICAgICAgdGhpcy5zbG90TmFtZSA9IHM7XG4gICAgICAgIHRoaXMuWCA9IGk7XG4gICAgfVxuICAgIGJpbmQoKSB7XG4gICAgICAgIHRoaXMuaXNCb3VuZCA9IHRydWU7XG4gICAgfVxuICAgIHVuYmluZCgpIHtcbiAgICAgICAgdGhpcy5pc0JvdW5kID0gZmFsc2U7XG4gICAgfVxuICAgIGdldFZhbHVlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5LO1xuICAgIH1cbiAgICB3YXRjaCh0KSB7XG4gICAgICAgIGlmICghdGhpcy5HLmhhcyh0KSkge1xuICAgICAgICAgICAgdGhpcy5HLmFkZCh0KTtcbiAgICAgICAgICAgIHQuc3Vic2NyaWJlKHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHVud2F0Y2godCkge1xuICAgICAgICBpZiAodGhpcy5HLmRlbGV0ZSh0KSkge1xuICAgICAgICAgICAgdC51bnN1YnNjcmliZSh0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBoYW5kbGVTbG90Q2hhbmdlKHQsIGUpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzQm91bmQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzID0gdGhpcy5LO1xuICAgICAgICBjb25zdCBpID0gW107XG4gICAgICAgIGNvbnN0IG4gPSB0aGlzLlg7XG4gICAgICAgIGxldCByO1xuICAgICAgICBsZXQgbDtcbiAgICAgICAgZm9yIChyIG9mIHRoaXMuRykge1xuICAgICAgICAgICAgZm9yIChsIG9mIHIgPT09IHQgPyBlIDogci5ub2Rlcykge1xuICAgICAgICAgICAgICAgIGlmIChuID09PSBcIiRhbGxcIiB8fCBpc0VsZW1lbnQobCkgJiYgKG4gPT09IFwiKlwiIHx8IGwubWF0Y2hlcyhuKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaVtpLmxlbmd0aF0gPSBsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaS5sZW5ndGggIT09IHMubGVuZ3RoIHx8IGkuc29tZSgoKHQsIGUpID0+IHQgIT09IHNbZV0pKSkge1xuICAgICAgICAgICAgdGhpcy5LID0gaTtcbiAgICAgICAgICAgIHRoaXMuY2I/LmNhbGwodGhpcy5vLCBpKTtcbiAgICAgICAgICAgIHRoaXMuc3Vicy5ub3RpZnkoaSwgcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0KCkge1xuICAgICAgICB0aHJvdyBjcmVhdGVNYXBwZWRFcnJvcig5OSwgXCJnZXRcIik7XG4gICAgfVxufVxuXG5jbGFzcyBTbG90dGVkTGlmZWN5Y2xlSG9va3Mge1xuICAgIGNvbnN0cnVjdG9yKHQpIHtcbiAgICAgICAgdGhpcy5ZID0gdDtcbiAgICB9XG4gICAgcmVnaXN0ZXIodCkge1xuICAgICAgICBFZShVZSwgdGhpcykucmVnaXN0ZXIodCk7XG4gICAgfVxuICAgIGh5ZHJhdGluZyh0LCBlKSB7XG4gICAgICAgIGNvbnN0IHMgPSB0aGlzLlk7XG4gICAgICAgIGNvbnN0IGkgPSBuZXcgQXVTbG90V2F0Y2hlckJpbmRpbmcodCwgcy5jYWxsYmFjayA/PyBgJHtqdChzLm5hbWUpfUNoYW5nZWRgLCBzLnNsb3ROYW1lID8/IFwiZGVmYXVsdFwiLCBzLnF1ZXJ5ID8/IFwiKlwiKTtcbiAgICAgICAgWXQodCwgcy5uYW1lLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgZ2V0OiBHdCgoKCkgPT4gaS5nZXRWYWx1ZSgpKSwge1xuICAgICAgICAgICAgICAgIGdldE9ic2VydmVyOiAoKSA9PiBpXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIHNldDogKCkgPT4ge31cbiAgICAgICAgfSk7XG4gICAgICAgIEVlKHBzLCBpKS5yZWdpc3RlcihlLmNvbnRhaW5lcik7XG4gICAgICAgIGUuYWRkQmluZGluZyhpKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHNsb3R0ZWQodCwgZSkge1xuICAgIGlmICghdnMpIHtcbiAgICAgICAgdnMgPSB0cnVlO1xuICAgICAgICBZKEF1U2xvdFdhdGNoZXJCaW5kaW5nLCBudWxsKTtcbiAgICAgICAgbGlmZWN5Y2xlSG9va3MoKShTbG90dGVkTGlmZWN5Y2xlSG9va3MsIG51bGwpO1xuICAgIH1cbiAgICBjb25zdCBzID0gd2UoXCJkZXBlbmRlbmNpZXNcIik7XG4gICAgZnVuY3Rpb24gZGVjb3JhdG9yKGksIG4pIHtcbiAgICAgICAgaWYgKG4ua2luZCAhPT0gXCJmaWVsZFwiKSB0aHJvdyBjcmVhdGVNYXBwZWRFcnJvcig5OTkwKTtcbiAgICAgICAgY29uc3QgciA9IHR5cGVvZiB0ID09PSBcIm9iamVjdFwiID8gdCA6IHtcbiAgICAgICAgICAgIHF1ZXJ5OiB0LFxuICAgICAgICAgICAgc2xvdE5hbWU6IGUsXG4gICAgICAgICAgICBuYW1lOiBcIlwiXG4gICAgICAgIH07XG4gICAgICAgIHIubmFtZSA9IG4ubmFtZTtcbiAgICAgICAgY29uc3QgbCA9IG4ubWV0YWRhdGFbc10gPz89IFtdO1xuICAgICAgICBsLnB1c2gobmV3IFNsb3R0ZWRMaWZlY3ljbGVIb29rcyhyKSk7XG4gICAgfVxuICAgIHJldHVybiBkZWNvcmF0b3I7XG59XG5cbmxldCB2cyA9IGZhbHNlO1xuXG5jbGFzcyBTcHJlYWRCaW5kaW5nIHtcbiAgICBzdGF0aWMgY3JlYXRlKHQsIGUsIHMsIGksIG4sIHIsIGwsIGEpIHtcbiAgICAgICAgY29uc3QgaCA9IFtdO1xuICAgICAgICBjb25zdCBjID0gaS5yZW5kZXJlcnM7XG4gICAgICAgIGNvbnN0IGdldEh5ZHJhdGlvbkNvbnRleHQgPSBlID0+IHtcbiAgICAgICAgICAgIGxldCBzID0gZTtcbiAgICAgICAgICAgIGxldCBpID0gdDtcbiAgICAgICAgICAgIHdoaWxlIChpICE9IG51bGwgJiYgcyA+IDApIHtcbiAgICAgICAgICAgICAgICBpID0gaS5wYXJlbnQ7XG4gICAgICAgICAgICAgICAgLS1zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGkgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZU1hcHBlZEVycm9yKDk5OTkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlbmRlclNwcmVhZEluc3RydWN0aW9uID0gdCA9PiB7XG4gICAgICAgICAgICBjb25zdCBpID0gZ2V0SHlkcmF0aW9uQ29udGV4dCh0KTtcbiAgICAgICAgICAgIGNvbnN0IHUgPSBuZXcgU3ByZWFkQmluZGluZyhpKTtcbiAgICAgICAgICAgIGNvbnN0IGYgPSBuLmNvbXBpbGVTcHJlYWQoaS5jb250cm9sbGVyLmRlZmluaXRpb24sIGkuaW5zdHJ1Y3Rpb24/LmNhcHR1cmVzID8/IEMsIGkuY29udHJvbGxlci5jb250YWluZXIsIGUsIHMpO1xuICAgICAgICAgICAgbGV0IGQ7XG4gICAgICAgICAgICBmb3IgKGQgb2YgZikge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoZC50eXBlKSB7XG4gICAgICAgICAgICAgICAgICBjYXNlIHV0LnNwcmVhZFRyYW5zZmVyZWRCaW5kaW5nOlxuICAgICAgICAgICAgICAgICAgICByZW5kZXJTcHJlYWRJbnN0cnVjdGlvbih0ICsgMSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICBjYXNlIHV0LnNwcmVhZEVsZW1lbnRQcm9wOlxuICAgICAgICAgICAgICAgICAgICBjW2QuaW5zdHJ1Y3Rpb24udHlwZV0ucmVuZGVyKHUsIGZpbmRFbGVtZW50Q29udHJvbGxlckZvcihlKSwgZC5pbnN0cnVjdGlvbiwgciwgbCwgYSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBjW2QudHlwZV0ucmVuZGVyKHUsIGUsIGQsIHIsIGwsIGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGgucHVzaCh1KTtcbiAgICAgICAgfTtcbiAgICAgICAgcmVuZGVyU3ByZWFkSW5zdHJ1Y3Rpb24oMCk7XG4gICAgICAgIHJldHVybiBoO1xuICAgIH1cbiAgICBnZXQgY29udGFpbmVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2NhdG9yO1xuICAgIH1cbiAgICBnZXQgZGVmaW5pdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJGNvbnRyb2xsZXIuZGVmaW5pdGlvbjtcbiAgICB9XG4gICAgZ2V0IHN0YXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4kY29udHJvbGxlci5zdGF0ZTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IodCkge1xuICAgICAgICB0aGlzLmlzQm91bmQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5aID0gW107XG4gICAgICAgIHRoaXMubG9jYXRvciA9ICh0aGlzLiRjb250cm9sbGVyID0gKHRoaXMuSiA9IHQpLmNvbnRyb2xsZXIpLmNvbnRhaW5lcjtcbiAgICB9XG4gICAgZ2V0KHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9jYXRvci5nZXQodCk7XG4gICAgfVxuICAgIGJpbmQodCkge1xuICAgICAgICBpZiAodGhpcy5pc0JvdW5kKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pc0JvdW5kID0gdHJ1ZTtcbiAgICAgICAgY29uc3QgZSA9IHRoaXMuc2NvcGUgPSB0aGlzLkouY29udHJvbGxlci5zY29wZS5wYXJlbnQgPz8gdm9pZCAwO1xuICAgICAgICBpZiAoZSA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVNYXBwZWRFcnJvcig5OTk5KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLlouZm9yRWFjaCgodCA9PiB0LmJpbmQoZSkpKTtcbiAgICB9XG4gICAgdW5iaW5kKCkge1xuICAgICAgICB0aGlzLlouZm9yRWFjaCgodCA9PiB0LnVuYmluZCgpKSk7XG4gICAgICAgIHRoaXMuaXNCb3VuZCA9IGZhbHNlO1xuICAgIH1cbiAgICBhZGRCaW5kaW5nKHQpIHtcbiAgICAgICAgdGhpcy5aLnB1c2godCk7XG4gICAgfVxuICAgIGFkZENoaWxkKHQpIHtcbiAgICAgICAgaWYgKHQudm1LaW5kICE9PSB1aSkge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlTWFwcGVkRXJyb3IoOTk5OCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4kY29udHJvbGxlci5hZGRDaGlsZCh0KTtcbiAgICB9XG59XG5cbmNsYXNzIFNwcmVhZFZhbHVlQmluZGluZyB7XG4gICAgY29uc3RydWN0b3IodCwgZSwgcywgaSwgbiwgciwgbCkge1xuICAgICAgICB0aGlzLnRhcmdldCA9IGU7XG4gICAgICAgIHRoaXMudGFyZ2V0S2V5cyA9IHM7XG4gICAgICAgIHRoaXMuYXN0ID0gaTtcbiAgICAgICAgdGhpcy5pc0JvdW5kID0gZmFsc2U7XG4gICAgICAgIHRoaXMucyA9IHZvaWQgMDtcbiAgICAgICAgdGhpcy5ib3VuZEZuID0gZmFsc2U7XG4gICAgICAgIHRoaXMudHQgPSB7fTtcbiAgICAgICAgdGhpcy5ldCA9IG5ldyBXZWFrTWFwO1xuICAgICAgICB0aGlzLk0gPSB0O1xuICAgICAgICB0aGlzLm9MID0gbjtcbiAgICAgICAgdGhpcy5sID0gcjtcbiAgICAgICAgdGhpcy5CID0gbDtcbiAgICB9XG4gICAgdXBkYXRlVGFyZ2V0KCkge1xuICAgICAgICB0aGlzLm9icy52ZXJzaW9uKys7XG4gICAgICAgIGNvbnN0IHQgPSBhZSh0aGlzLmFzdCwgdGhpcy5zLCB0aGlzLCB0aGlzKTtcbiAgICAgICAgdGhpcy5vYnMuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5zdCh0LCB0cnVlKTtcbiAgICB9XG4gICAgaGFuZGxlQ2hhbmdlKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNCb3VuZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudXBkYXRlVGFyZ2V0KCk7XG4gICAgfVxuICAgIGhhbmRsZUNvbGxlY3Rpb25DaGFuZ2UoKSB7XG4gICAgICAgIGlmICghdGhpcy5pc0JvdW5kKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51cGRhdGVUYXJnZXQoKTtcbiAgICB9XG4gICAgYmluZCh0KSB7XG4gICAgICAgIGlmICh0aGlzLmlzQm91bmQpIHtcbiAgICAgICAgICAgIGlmICh0ID09PSB0aGlzLnMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnVuYmluZCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaXNCb3VuZCA9IHRydWU7XG4gICAgICAgIHRoaXMucyA9IHQ7XG4gICAgICAgIGhlKHRoaXMuYXN0LCB0LCB0aGlzKTtcbiAgICAgICAgY29uc3QgZSA9IGFlKHRoaXMuYXN0LCB0LCB0aGlzLCB0aGlzKTtcbiAgICAgICAgdGhpcy5zdChlLCBmYWxzZSk7XG4gICAgfVxuICAgIHVuYmluZCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzQm91bmQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlzQm91bmQgPSBmYWxzZTtcbiAgICAgICAgY2UodGhpcy5hc3QsIHRoaXMucywgdGhpcyk7XG4gICAgICAgIHRoaXMucyA9IHZvaWQgMDtcbiAgICAgICAgbGV0IHQ7XG4gICAgICAgIGZvciAodCBpbiB0aGlzLnR0KSB7XG4gICAgICAgICAgICB0aGlzLnR0W3RdLnVuYmluZCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0KHQsIHMpIHtcbiAgICAgICAgbGV0IGk7XG4gICAgICAgIGlmICghcih0KSkge1xuICAgICAgICAgICAgZm9yIChpIGluIHRoaXMudHQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnR0W2ldPy51bmJpbmQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbjtcbiAgICAgICAgbGV0IGwgPSB0aGlzLmV0LmdldCh0KTtcbiAgICAgICAgaWYgKGwgPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5ldC5zZXQodCwgbCA9IFNjb3BlLmZyb21QYXJlbnQodGhpcy5zLCB0KSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChpIG9mIHRoaXMudGFyZ2V0S2V5cykge1xuICAgICAgICAgICAgbiA9IHRoaXMudHRbaV07XG4gICAgICAgICAgICBpZiAoaSBpbiB0KSB7XG4gICAgICAgICAgICAgICAgaWYgKG4gPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBuID0gdGhpcy50dFtpXSA9IG5ldyBQcm9wZXJ0eUJpbmRpbmcodGhpcy5NLCB0aGlzLmwsIHRoaXMub0wsIHRoaXMuQiwgU3ByZWFkVmFsdWVCaW5kaW5nLml0W2ldID8/PSBuZXcgZShpLCAwKSwgdGhpcy50YXJnZXQsIGksIGN0LnRvVmlldyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG4uYmluZChsKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocykge1xuICAgICAgICAgICAgICAgIG4/LnVuYmluZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5TcHJlYWRWYWx1ZUJpbmRpbmcubWl4ID0gZXMoKCgpID0+IHtcbiAgICBZZShTcHJlYWRWYWx1ZUJpbmRpbmcpO1xuICAgIHRzKFNwcmVhZFZhbHVlQmluZGluZywgKCgpID0+IFwidXBkYXRlVGFyZ2V0XCIpKTtcbiAgICBRKFNwcmVhZFZhbHVlQmluZGluZywgbnVsbCk7XG4gICAgWmUodHJ1ZSwgZmFsc2UpKFNwcmVhZFZhbHVlQmluZGluZyk7XG59KSk7XG5cblNwcmVhZFZhbHVlQmluZGluZy5pdCA9IHt9O1xuXG5jb25zdCBhZGRMaXN0ZW5lciA9ICh0LCBlLCBzLCBpKSA9PiB7XG4gICAgdC5hZGRFdmVudExpc3RlbmVyKGUsIHMsIGkpO1xufTtcblxuY29uc3QgcmVtb3ZlTGlzdGVuZXIgPSAodCwgZSwgcywgaSkgPT4ge1xuICAgIHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLCBzLCBpKTtcbn07XG5cbmNvbnN0IG1peGluTm9kZU9ic2VydmVyVXNlQ29uZmlnID0gdCA9PiB7XG4gICAgbGV0IGU7XG4gICAgY29uc3QgcyA9IHQucHJvdG90eXBlO1xuICAgIGRlZmluZUhpZGRlblByb3AocywgXCJzdWJzY3JpYmVcIiwgKGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgaWYgKHRoaXMuc3Vicy5hZGQodCkgJiYgdGhpcy5zdWJzLmNvdW50ID09PSAxKSB7XG4gICAgICAgICAgICBmb3IgKGUgb2YgdGhpcy5jZi5ldmVudHMpIHtcbiAgICAgICAgICAgICAgICBhZGRMaXN0ZW5lcih0aGlzLm50LCBlLCB0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucnQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5vdD8uKCk7XG4gICAgICAgIH1cbiAgICB9KSk7XG4gICAgZGVmaW5lSGlkZGVuUHJvcChzLCBcInVuc3Vic2NyaWJlXCIsIChmdW5jdGlvbih0KSB7XG4gICAgICAgIGlmICh0aGlzLnN1YnMucmVtb3ZlKHQpICYmIHRoaXMuc3Vicy5jb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgZm9yIChlIG9mIHRoaXMuY2YuZXZlbnRzKSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlTGlzdGVuZXIodGhpcy5udCwgZSwgdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnJ0ID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmx0Py4oKTtcbiAgICAgICAgfVxuICAgIH0pKTtcbiAgICBkZWZpbmVIaWRkZW5Qcm9wKHMsIFwidXNlQ29uZmlnXCIsIChmdW5jdGlvbih0KSB7XG4gICAgICAgIHRoaXMuY2YgPSB0O1xuICAgICAgICBpZiAodGhpcy5ydCkge1xuICAgICAgICAgICAgZm9yIChlIG9mIHRoaXMuY2YuZXZlbnRzKSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlTGlzdGVuZXIodGhpcy5udCwgZSwgdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGUgb2YgdGhpcy5jZi5ldmVudHMpIHtcbiAgICAgICAgICAgICAgICBhZGRMaXN0ZW5lcih0aGlzLm50LCBlLCB0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pKTtcbn07XG5cbmNvbnN0IG1peGluTm9vcFN1YnNjcmliYWJsZSA9IHQgPT4ge1xuICAgIGRlZmluZUhpZGRlblByb3AodC5wcm90b3R5cGUsIFwic3Vic2NyaWJlXCIsIGQpO1xuICAgIGRlZmluZUhpZGRlblByb3AodC5wcm90b3R5cGUsIFwidW5zdWJzY3JpYmVcIiwgZCk7XG59O1xuXG5jbGFzcyBDbGFzc0F0dHJpYnV0ZUFjY2Vzc29yIHtcbiAgICBnZXQgZG9Ob3RDYWNoZSgpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKHQsIGUgPSB7fSkge1xuICAgICAgICB0aGlzLm9iaiA9IHQ7XG4gICAgICAgIHRoaXMubWFwcGluZyA9IGU7XG4gICAgICAgIHRoaXMudHlwZSA9IHJlIHwgb2U7XG4gICAgICAgIHRoaXMudiA9IFwiXCI7XG4gICAgICAgIHRoaXMuaHQgPSB7fTtcbiAgICAgICAgdGhpcy5jdCA9IDA7XG4gICAgfVxuICAgIGdldFZhbHVlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52O1xuICAgIH1cbiAgICBzZXRWYWx1ZSh0KSB7XG4gICAgICAgIGlmICh0ICE9PSB0aGlzLnYpIHtcbiAgICAgICAgICAgIHRoaXMudiA9IHQ7XG4gICAgICAgICAgICB0aGlzLnV0KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdXQoKSB7XG4gICAgICAgIGNvbnN0IHQgPSB0aGlzLmh0O1xuICAgICAgICBjb25zdCBlID0gKyt0aGlzLmN0O1xuICAgICAgICBjb25zdCBzID0gdGhpcy5vYmouY2xhc3NMaXN0O1xuICAgICAgICBjb25zdCBpID0gZ2V0Q2xhc3Nlc1RvQWRkKHRoaXMudik7XG4gICAgICAgIGNvbnN0IG4gPSBpLmxlbmd0aDtcbiAgICAgICAgbGV0IHIgPSAwO1xuICAgICAgICBsZXQgbDtcbiAgICAgICAgaWYgKG4gPiAwKSB7XG4gICAgICAgICAgICBmb3IgKDtyIDwgbjsgcisrKSB7XG4gICAgICAgICAgICAgICAgbCA9IGlbcl07XG4gICAgICAgICAgICAgICAgbCA9IHRoaXMubWFwcGluZ1tsXSB8fCBsO1xuICAgICAgICAgICAgICAgIGlmIChsLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdFtsXSA9IHRoaXMuY3Q7XG4gICAgICAgICAgICAgICAgcy5hZGQobCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGUgPT09IDEpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGwgaW4gdCkge1xuICAgICAgICAgICAgbCA9IHRoaXMubWFwcGluZ1tsXSB8fCBsO1xuICAgICAgICAgICAgaWYgKHRbbF0gPT09IGUpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHMucmVtb3ZlKGwpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4oKCkgPT4ge1xuICAgIG1peGluTm9vcFN1YnNjcmliYWJsZShDbGFzc0F0dHJpYnV0ZUFjY2Vzc29yKTtcbn0pKCk7XG5cbmZ1bmN0aW9uIGdldENsYXNzZXNUb0FkZCh0KSB7XG4gICAgaWYgKGkodCkpIHtcbiAgICAgICAgcmV0dXJuIHNwbGl0Q2xhc3NTdHJpbmcodCk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgdCAhPT0gXCJvYmplY3RcIikge1xuICAgICAgICByZXR1cm4gQztcbiAgICB9XG4gICAgaWYgKGEodCkpIHtcbiAgICAgICAgY29uc3QgZSA9IHQubGVuZ3RoO1xuICAgICAgICBpZiAoZSA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHMgPSBbXTtcbiAgICAgICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgICAgIGZvciAoO2UgPiBpOyArK2kpIHtcbiAgICAgICAgICAgICAgICBzLnB1c2goLi4uZ2V0Q2xhc3Nlc1RvQWRkKHRbaV0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIEM7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgZSA9IFtdO1xuICAgIGxldCBzO1xuICAgIGZvciAocyBpbiB0KSB7XG4gICAgICAgIGlmIChCb29sZWFuKHRbc10pKSB7XG4gICAgICAgICAgICBpZiAocy5pbmNsdWRlcyhcIiBcIikpIHtcbiAgICAgICAgICAgICAgICBlLnB1c2goLi4uc3BsaXRDbGFzc1N0cmluZyhzKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGUucHVzaChzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZTtcbn1cblxuZnVuY3Rpb24gc3BsaXRDbGFzc1N0cmluZyh0KSB7XG4gICAgY29uc3QgZSA9IHQubWF0Y2goL1xcUysvZyk7XG4gICAgaWYgKGUgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIEM7XG4gICAgfVxuICAgIHJldHVybiBlO1xufVxuXG5jb25zdCBmcm9tSHlkcmF0aW9uQ29udGV4dCA9IHQgPT4gKHtcbiAgICAkaXNSZXNvbHZlcjogdHJ1ZSxcbiAgICByZXNvbHZlKGUsIHMpIHtcbiAgICAgICAgcmV0dXJuIHMuZ2V0KGtpKS5jb250cm9sbGVyLmNvbnRhaW5lci5nZXQoRSh0KSk7XG4gICAgfVxufSk7XG5cbmNvbnN0IHhzID0gLypAX19QVVJFX18qLyBCZShcIklSZW5kZXJlclwiKTtcblxuZnVuY3Rpb24gcmVuZGVyZXIodCwgZSkge1xuICAgIGNvbnN0IHMgPSBlPy5tZXRhZGF0YSA/PyAodFtTeW1ib2wubWV0YWRhdGFdID8/PSBPYmplY3QuY3JlYXRlKG51bGwpKTtcbiAgICBzW1NdID0ge1xuICAgICAgICByZWdpc3RlcihlKSB7XG4gICAgICAgICAgICBTZSh4cywgdCkucmVnaXN0ZXIoZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiB0O1xufVxuXG5mdW5jdGlvbiBlbnN1cmVFeHByZXNzaW9uKHQsIGUsIHMpIHtcbiAgICBpZiAoaShlKSkge1xuICAgICAgICByZXR1cm4gdC5wYXJzZShlLCBzKTtcbiAgICB9XG4gICAgcmV0dXJuIGU7XG59XG5cbmZ1bmN0aW9uIGdldFRhcmdldCh0KSB7XG4gICAgaWYgKHQudmlld01vZGVsICE9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHQudmlld01vZGVsO1xuICAgIH1cbiAgICByZXR1cm4gdDtcbn1cblxuZnVuY3Rpb24gZ2V0UmVmVGFyZ2V0KHQsIGUpIHtcbiAgICBpZiAoZSA9PT0gXCJlbGVtZW50XCIpIHtcbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfVxuICAgIHN3aXRjaCAoZSkge1xuICAgICAgY2FzZSBcImNvbnRyb2xsZXJcIjpcbiAgICAgICAgcmV0dXJuIGZpbmRFbGVtZW50Q29udHJvbGxlckZvcih0KTtcblxuICAgICAgY2FzZSBcInZpZXdcIjpcbiAgICAgICAgdGhyb3cgY3JlYXRlTWFwcGVkRXJyb3IoNzUwKTtcblxuICAgICAgY2FzZSBcImNvbXBvbmVudFwiOlxuICAgICAgICByZXR1cm4gZmluZEVsZW1lbnRDb250cm9sbGVyRm9yKHQpLnZpZXdNb2RlbDtcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgcyA9IGZpbmRBdHRyaWJ1dGVDb250cm9sbGVyRm9yKHQsIGUpO1xuICAgICAgICAgICAgaWYgKHMgIT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzLnZpZXdNb2RlbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGkgPSBmaW5kRWxlbWVudENvbnRyb2xsZXJGb3IodCwge1xuICAgICAgICAgICAgICAgIG5hbWU6IGVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGkgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZU1hcHBlZEVycm9yKDc1MSwgZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gaS52aWV3TW9kZWw7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmNvbnN0IGJzID0gLypAX19QVVJFX18qLyByZW5kZXJlcihjbGFzcyBTZXRQcm9wZXJ0eVJlbmRlcmVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy50YXJnZXQgPSB1dC5zZXRQcm9wZXJ0eTtcbiAgICB9XG4gICAgcmVuZGVyKHQsIGUsIHMpIHtcbiAgICAgICAgY29uc3QgaSA9IGdldFRhcmdldChlKTtcbiAgICAgICAgaWYgKGkuJG9ic2VydmVycz8uW3MudG9dICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGkuJG9ic2VydmVyc1tzLnRvXS5zZXRWYWx1ZShzLnZhbHVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlbcy50b10gPSBzLnZhbHVlO1xuICAgICAgICB9XG4gICAgfVxufSwgbnVsbCk7XG5cbmNvbnN0IHdzID0gLypAX19QVVJFX18qLyByZW5kZXJlcihjbGFzcyBDdXN0b21FbGVtZW50UmVuZGVyZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnIgPSB5KHpzKTtcbiAgICAgICAgdGhpcy50YXJnZXQgPSB1dC5oeWRyYXRlRWxlbWVudDtcbiAgICB9XG4gICAgcmVuZGVyKHQsIGUsIHMsIGksIG4sIHIpIHtcbiAgICAgICAgbGV0IGw7XG4gICAgICAgIGxldCBhO1xuICAgICAgICBsZXQgaDtcbiAgICAgICAgY29uc3QgYyA9IHMucmVzO1xuICAgICAgICBjb25zdCB1ID0gcy5wcm9qZWN0aW9ucztcbiAgICAgICAgY29uc3QgZiA9IHQuY29udGFpbmVyO1xuICAgICAgICBzd2l0Y2ggKHR5cGVvZiBjKSB7XG4gICAgICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICAgICAgbCA9IEhpLmZpbmQoZiwgYyk7XG4gICAgICAgICAgICBpZiAobCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlTWFwcGVkRXJyb3IoNzUyLCBzLCB0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGwgPSBjO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGQgPSBzLmNvbnRhaW5lcmxlc3MgfHwgbC5jb250YWluZXJsZXNzO1xuICAgICAgICBjb25zdCBtID0gZCA/IGNvbnZlcnRUb1JlbmRlckxvY2F0aW9uKGUpIDogbnVsbDtcbiAgICAgICAgY29uc3QgZyA9IGNyZWF0ZUVsZW1lbnRDb250YWluZXIoaSwgdCwgZSwgcywgbSwgdSA9PSBudWxsID8gdm9pZCAwIDogbmV3IEF1U2xvdHNJbmZvKFh0KHUpKSk7XG4gICAgICAgIGEgPSBnLmludm9rZShsLlR5cGUpO1xuICAgICAgICBoID0gQ29udHJvbGxlci4kZWwoZywgYSwgZSwgcywgbCwgbSk7XG4gICAgICAgIHNldFJlZihlLCBsLmtleSwgaCk7XG4gICAgICAgIGNvbnN0IHAgPSB0aGlzLnIucmVuZGVyZXJzO1xuICAgICAgICBjb25zdCB2ID0gcy5wcm9wcztcbiAgICAgICAgY29uc3QgeCA9IHYubGVuZ3RoO1xuICAgICAgICBsZXQgYiA9IDA7XG4gICAgICAgIGxldCB3O1xuICAgICAgICB3aGlsZSAoeCA+IGIpIHtcbiAgICAgICAgICAgIHcgPSB2W2JdO1xuICAgICAgICAgICAgcFt3LnR5cGVdLnJlbmRlcih0LCBoLCB3LCBpLCBuLCByKTtcbiAgICAgICAgICAgICsrYjtcbiAgICAgICAgfVxuICAgICAgICB0LmFkZENoaWxkKGgpO1xuICAgIH1cbn0sIG51bGwpO1xuXG5jb25zdCB5cyA9IC8qQF9fUFVSRV9fKi8gcmVuZGVyZXIoY2xhc3MgQ3VzdG9tQXR0cmlidXRlUmVuZGVyZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnIgPSB5KHpzKTtcbiAgICAgICAgdGhpcy50YXJnZXQgPSB1dC5oeWRyYXRlQXR0cmlidXRlO1xuICAgIH1cbiAgICByZW5kZXIodCwgZSwgcywgaSwgbiwgcikge1xuICAgICAgICBsZXQgbCA9IHQuY29udGFpbmVyO1xuICAgICAgICBsZXQgYTtcbiAgICAgICAgc3dpdGNoICh0eXBlb2Ygcy5yZXMpIHtcbiAgICAgICAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICAgICAgICBhID0gemUuZmluZChsLCBzLnJlcyk7XG4gICAgICAgICAgICBpZiAoYSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlTWFwcGVkRXJyb3IoNzUzLCBzLCB0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGEgPSBzLnJlcztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBoID0gaW52b2tlQXR0cmlidXRlKGksIGEsIHQsIGUsIHMsIHZvaWQgMCwgdm9pZCAwKTtcbiAgICAgICAgY29uc3QgYyA9IENvbnRyb2xsZXIuJGF0dHIoaC5jdG4sIGgudm0sIGUsIGEpO1xuICAgICAgICBzZXRSZWYoZSwgYS5rZXksIGMpO1xuICAgICAgICBjb25zdCB1ID0gdGhpcy5yLnJlbmRlcmVycztcbiAgICAgICAgY29uc3QgZiA9IHMucHJvcHM7XG4gICAgICAgIGNvbnN0IGQgPSBmLmxlbmd0aDtcbiAgICAgICAgbGV0IG0gPSAwO1xuICAgICAgICBsZXQgZztcbiAgICAgICAgd2hpbGUgKGQgPiBtKSB7XG4gICAgICAgICAgICBnID0gZlttXTtcbiAgICAgICAgICAgIHVbZy50eXBlXS5yZW5kZXIodCwgYywgZywgaSwgbiwgcik7XG4gICAgICAgICAgICArK207XG4gICAgICAgIH1cbiAgICAgICAgdC5hZGRDaGlsZChjKTtcbiAgICB9XG59LCBudWxsKTtcblxuY29uc3Qga3MgPSAvKkBfX1BVUkVfXyovIHJlbmRlcmVyKGNsYXNzIFRlbXBsYXRlQ29udHJvbGxlclJlbmRlcmVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5yID0geSh6cyk7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdXQuaHlkcmF0ZVRlbXBsYXRlQ29udHJvbGxlcjtcbiAgICB9XG4gICAgcmVuZGVyKHQsIGUsIHMsIGksIG4sIHIpIHtcbiAgICAgICAgbGV0IGwgPSB0LmNvbnRhaW5lcjtcbiAgICAgICAgbGV0IGE7XG4gICAgICAgIHN3aXRjaCAodHlwZW9mIHMucmVzKSB7XG4gICAgICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICAgICAgYSA9IHplLmZpbmQobCwgcy5yZXMpO1xuICAgICAgICAgICAgaWYgKGEgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZU1hcHBlZEVycm9yKDc1NCwgcywgdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBhID0gcy5yZXM7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaCA9IHRoaXMuci5nZXRWaWV3RmFjdG9yeShzLmRlZiwgYS5jb250YWluZXJTdHJhdGVneSA9PT0gXCJuZXdcIiA/IGwuY3JlYXRlQ2hpbGQoe1xuICAgICAgICAgICAgaW5oZXJpdFBhcmVudFJlc291cmNlczogdHJ1ZVxuICAgICAgICB9KSA6IGwpO1xuICAgICAgICBjb25zdCBjID0gY29udmVydFRvUmVuZGVyTG9jYXRpb24oZSk7XG4gICAgICAgIGNvbnN0IHUgPSBpbnZva2VBdHRyaWJ1dGUoaSwgYSwgdCwgZSwgcywgaCwgYyk7XG4gICAgICAgIGNvbnN0IGYgPSBDb250cm9sbGVyLiRhdHRyKHUuY3RuLCB1LnZtLCBlLCBhKTtcbiAgICAgICAgc2V0UmVmKGMsIGEua2V5LCBmKTtcbiAgICAgICAgdS52bS5saW5rPy4odCwgZiwgZSwgcyk7XG4gICAgICAgIGNvbnN0IGQgPSB0aGlzLnIucmVuZGVyZXJzO1xuICAgICAgICBjb25zdCBtID0gcy5wcm9wcztcbiAgICAgICAgY29uc3QgZyA9IG0ubGVuZ3RoO1xuICAgICAgICBsZXQgcCA9IDA7XG4gICAgICAgIGxldCB2O1xuICAgICAgICB3aGlsZSAoZyA+IHApIHtcbiAgICAgICAgICAgIHYgPSBtW3BdO1xuICAgICAgICAgICAgZFt2LnR5cGVdLnJlbmRlcih0LCBmLCB2LCBpLCBuLCByKTtcbiAgICAgICAgICAgICsrcDtcbiAgICAgICAgfVxuICAgICAgICB0LmFkZENoaWxkKGYpO1xuICAgIH1cbn0sIG51bGwpO1xuXG5jb25zdCBDcyA9IC8qQF9fUFVSRV9fKi8gcmVuZGVyZXIoY2xhc3MgTGV0RWxlbWVudFJlbmRlcmVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy50YXJnZXQgPSB1dC5oeWRyYXRlTGV0RWxlbWVudDtcbiAgICAgICAgTGV0QmluZGluZy5taXgoKTtcbiAgICB9XG4gICAgcmVuZGVyKHQsIGUsIHMsIGksIG4sIHIpIHtcbiAgICAgICAgZS5yZW1vdmUoKTtcbiAgICAgICAgY29uc3QgbCA9IHMuaW5zdHJ1Y3Rpb25zO1xuICAgICAgICBjb25zdCBhID0gcy50b0JpbmRpbmdDb250ZXh0O1xuICAgICAgICBjb25zdCBoID0gdC5jb250YWluZXI7XG4gICAgICAgIGNvbnN0IGMgPSBsLmxlbmd0aDtcbiAgICAgICAgbGV0IHU7XG4gICAgICAgIGxldCBmO1xuICAgICAgICBsZXQgZCA9IDA7XG4gICAgICAgIHdoaWxlIChjID4gZCkge1xuICAgICAgICAgICAgdSA9IGxbZF07XG4gICAgICAgICAgICBmID0gZW5zdXJlRXhwcmVzc2lvbihuLCB1LmZyb20sIGVlKTtcbiAgICAgICAgICAgIHQuYWRkQmluZGluZyhuZXcgTGV0QmluZGluZyhoLCByLCBmLCB1LnRvLCBhKSk7XG4gICAgICAgICAgICArK2Q7XG4gICAgICAgIH1cbiAgICB9XG59LCBudWxsKTtcblxuY29uc3QgQnMgPSAvKkBfX1BVUkVfXyovIHJlbmRlcmVyKGNsYXNzIFJlZkJpbmRpbmdSZW5kZXJlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdXQucmVmQmluZGluZztcbiAgICB9XG4gICAgcmVuZGVyKHQsIGUsIHMsIGksIG4pIHtcbiAgICAgICAgdC5hZGRCaW5kaW5nKG5ldyBSZWZCaW5kaW5nKHQuY29udGFpbmVyLCBlbnN1cmVFeHByZXNzaW9uKG4sIHMuZnJvbSwgZWUpLCBnZXRSZWZUYXJnZXQoZSwgcy50bykpKTtcbiAgICB9XG59LCBudWxsKTtcblxuY29uc3QgU3MgPSAvKkBfX1BVUkVfXyovIHJlbmRlcmVyKGNsYXNzIEludGVycG9sYXRpb25CaW5kaW5nUmVuZGVyZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnRhcmdldCA9IHV0LmludGVycG9sYXRpb247XG4gICAgICAgIEludGVycG9sYXRpb25QYXJ0QmluZGluZy5taXgoKTtcbiAgICB9XG4gICAgcmVuZGVyKHQsIGUsIHMsIGksIG4sIHIpIHtcbiAgICAgICAgY29uc3QgbCA9IHQuY29udGFpbmVyO1xuICAgICAgICBjb25zdCBhID0gbmV3IEludGVycG9sYXRpb25CaW5kaW5nKHQsIGwsIHIsIGkuZG9tUXVldWUsIGVuc3VyZUV4cHJlc3Npb24obiwgcy5mcm9tLCBadCksIGdldFRhcmdldChlKSwgcy50bywgZGUpO1xuICAgICAgICBpZiAocy50byA9PT0gXCJjbGFzc1wiICYmIGEudGFyZ2V0Lm5vZGVUeXBlID4gMCkge1xuICAgICAgICAgICAgY29uc3QgdCA9IGwuZ2V0KGZyb21IeWRyYXRpb25Db250ZXh0KFRpKSk7XG4gICAgICAgICAgICBhLnVzZUFjY2Vzc29yKG5ldyBDbGFzc0F0dHJpYnV0ZUFjY2Vzc29yKGEudGFyZ2V0LCB0KSk7XG4gICAgICAgIH1cbiAgICAgICAgdC5hZGRCaW5kaW5nKGEpO1xuICAgIH1cbn0sIG51bGwpO1xuXG5jb25zdCBBcyA9IC8qQF9fUFVSRV9fKi8gcmVuZGVyZXIoY2xhc3MgUHJvcGVydHlCaW5kaW5nUmVuZGVyZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnRhcmdldCA9IHV0LnByb3BlcnR5QmluZGluZztcbiAgICAgICAgUHJvcGVydHlCaW5kaW5nLm1peCgpO1xuICAgIH1cbiAgICByZW5kZXIodCwgZSwgcywgaSwgbiwgcikge1xuICAgICAgICBjb25zdCBsID0gdC5jb250YWluZXI7XG4gICAgICAgIGNvbnN0IGEgPSBuZXcgUHJvcGVydHlCaW5kaW5nKHQsIGwsIHIsIGkuZG9tUXVldWUsIGVuc3VyZUV4cHJlc3Npb24obiwgcy5mcm9tLCBlZSksIGdldFRhcmdldChlKSwgcy50bywgcy5tb2RlKTtcbiAgICAgICAgaWYgKHMudG8gPT09IFwiY2xhc3NcIiAmJiBhLnRhcmdldC5ub2RlVHlwZSA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHQgPSBsLmdldChmcm9tSHlkcmF0aW9uQ29udGV4dChUaSkpO1xuICAgICAgICAgICAgYS51c2VUYXJnZXRPYnNlcnZlcihuZXcgQ2xhc3NBdHRyaWJ1dGVBY2Nlc3NvcihhLnRhcmdldCwgdCkpO1xuICAgICAgICB9XG4gICAgICAgIHQuYWRkQmluZGluZyhhKTtcbiAgICB9XG59LCBudWxsKTtcblxuY29uc3QgRXMgPSAvKkBfX1BVUkVfXyovIHJlbmRlcmVyKGNsYXNzIEl0ZXJhdG9yQmluZGluZ1JlbmRlcmVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy50YXJnZXQgPSB1dC5pdGVyYXRvckJpbmRpbmc7XG4gICAgICAgIFByb3BlcnR5QmluZGluZy5taXgoKTtcbiAgICB9XG4gICAgcmVuZGVyKHQsIGUsIHMsIGksIG4sIHIpIHtcbiAgICAgICAgdC5hZGRCaW5kaW5nKG5ldyBQcm9wZXJ0eUJpbmRpbmcodCwgdC5jb250YWluZXIsIHIsIGkuZG9tUXVldWUsIGVuc3VyZUV4cHJlc3Npb24obiwgcy5mb3JPZiwgSnQpLCBnZXRUYXJnZXQoZSksIHMudG8sIGRlKSk7XG4gICAgfVxufSwgbnVsbCk7XG5cbmNvbnN0IFJzID0gLypAX19QVVJFX18qLyByZW5kZXJlcihjbGFzcyBUZXh0QmluZGluZ1JlbmRlcmVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy50YXJnZXQgPSB1dC50ZXh0QmluZGluZztcbiAgICAgICAgQ29udGVudEJpbmRpbmcubWl4KCk7XG4gICAgfVxuICAgIHJlbmRlcih0LCBlLCBzLCBpLCBuLCByKSB7XG4gICAgICAgIHQuYWRkQmluZGluZyhuZXcgQ29udGVudEJpbmRpbmcodCwgdC5jb250YWluZXIsIHIsIGkuZG9tUXVldWUsIGksIGVuc3VyZUV4cHJlc3Npb24obiwgcy5mcm9tLCBlZSksIGUpKTtcbiAgICB9XG59LCBudWxsKTtcblxuY29uc3QgVHMgPSBCZShcIklMaXN0ZW5lckJpbmRpbmdPcHRpb25zXCIsICh0ID0+IHQuaW5zdGFuY2Uoe1xuICAgIHByZXZlbnQ6IGZhbHNlXG59KSkpO1xuXG5jb25zdCBMcyA9IC8qQF9fUFVSRV9fKi8gcmVuZGVyZXIoY2xhc3MgTGlzdGVuZXJCaW5kaW5nUmVuZGVyZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnRhcmdldCA9IHV0Lmxpc3RlbmVyQmluZGluZztcbiAgICAgICAgdGhpcy5mdCA9IHkoaHMpO1xuICAgICAgICB0aGlzLmR0ID0geShUcyk7XG4gICAgICAgIExpc3RlbmVyQmluZGluZy5taXgoKTtcbiAgICB9XG4gICAgcmVuZGVyKHQsIGUsIHMsIGksIG4pIHtcbiAgICAgICAgdC5hZGRCaW5kaW5nKG5ldyBMaXN0ZW5lckJpbmRpbmcodC5jb250YWluZXIsIGVuc3VyZUV4cHJlc3Npb24obiwgcy5mcm9tLCB0ZSksIGUsIHMudG8sIG5ldyBMaXN0ZW5lckJpbmRpbmdPcHRpb25zKHRoaXMuZHQucHJldmVudCwgcy5jYXB0dXJlKSwgdGhpcy5mdC5nZXRIYW5kbGVyKHMudG8sIHMubW9kaWZpZXIpKSk7XG4gICAgfVxufSwgbnVsbCk7XG5cbmNvbnN0IE1zID0gLypAX19QVVJFX18qLyByZW5kZXJlcihjbGFzcyBTZXRBdHRyaWJ1dGVSZW5kZXJlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdXQuc2V0QXR0cmlidXRlO1xuICAgIH1cbiAgICByZW5kZXIodCwgZSwgcykge1xuICAgICAgICBlLnNldEF0dHJpYnV0ZShzLnRvLCBzLnZhbHVlKTtcbiAgICB9XG59LCBudWxsKTtcblxuY29uc3QgRHMgPSAvKkBfX1BVUkVfXyovIHJlbmRlcmVyKGNsYXNzIFNldENsYXNzQXR0cmlidXRlUmVuZGVyZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnRhcmdldCA9IHV0LnNldENsYXNzQXR0cmlidXRlO1xuICAgIH1cbiAgICByZW5kZXIodCwgZSwgcykge1xuICAgICAgICBhZGRDbGFzc2VzKGUuY2xhc3NMaXN0LCBzLnZhbHVlKTtcbiAgICB9XG59LCBudWxsKTtcblxuY29uc3QgSXMgPSAvKkBfX1BVUkVfXyovIHJlbmRlcmVyKGNsYXNzIFNldFN0eWxlQXR0cmlidXRlUmVuZGVyZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnRhcmdldCA9IHV0LnNldFN0eWxlQXR0cmlidXRlO1xuICAgIH1cbiAgICByZW5kZXIodCwgZSwgcykge1xuICAgICAgICBlLnN0eWxlLmNzc1RleHQgKz0gcy52YWx1ZTtcbiAgICB9XG59LCBudWxsKTtcblxuY29uc3QgUHMgPSAvKkBfX1BVUkVfXyovIHJlbmRlcmVyKGNsYXNzIFN0eWxlUHJvcGVydHlCaW5kaW5nUmVuZGVyZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnRhcmdldCA9IHV0LnN0eWxlUHJvcGVydHlCaW5kaW5nO1xuICAgICAgICBQcm9wZXJ0eUJpbmRpbmcubWl4KCk7XG4gICAgfVxuICAgIHJlbmRlcih0LCBlLCBzLCBpLCBuLCByKSB7XG4gICAgICAgIHQuYWRkQmluZGluZyhuZXcgUHJvcGVydHlCaW5kaW5nKHQsIHQuY29udGFpbmVyLCByLCBpLmRvbVF1ZXVlLCBlbnN1cmVFeHByZXNzaW9uKG4sIHMuZnJvbSwgZWUpLCBlLnN0eWxlLCBzLnRvLCBkZSkpO1xuICAgIH1cbn0sIG51bGwpO1xuXG5jb25zdCBxcyA9IC8qQF9fUFVSRV9fKi8gcmVuZGVyZXIoY2xhc3MgQXR0cmlidXRlQmluZGluZ1JlbmRlcmVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy50YXJnZXQgPSB1dC5hdHRyaWJ1dGVCaW5kaW5nO1xuICAgICAgICBBdHRyaWJ1dGVCaW5kaW5nLm1peCgpO1xuICAgIH1cbiAgICByZW5kZXIodCwgZSwgcywgaSwgbiwgcikge1xuICAgICAgICBjb25zdCBsID0gdC5jb250YWluZXI7XG4gICAgICAgIGNvbnN0IGEgPSBsLmhhcyhUaSwgZmFsc2UpID8gbC5nZXQoVGkpIDogbnVsbDtcbiAgICAgICAgdC5hZGRCaW5kaW5nKG5ldyBBdHRyaWJ1dGVCaW5kaW5nKHQsIGwsIHIsIGkuZG9tUXVldWUsIGVuc3VyZUV4cHJlc3Npb24obiwgcy5mcm9tLCBlZSksIGUsIHMuYXR0ciwgYSA9PSBudWxsID8gcy50byA6IHMudG8uc3BsaXQoL1xccy9nKS5tYXAoKHQgPT4gYVt0XSA/PyB0KSkuam9pbihcIiBcIiksIGRlKSk7XG4gICAgfVxufSwgbnVsbCk7XG5cbmNvbnN0IF9zID0gLypAX19QVVJFX18qLyByZW5kZXJlcihjbGFzcyBTcHJlYWRSZW5kZXJlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuZ3QgPSB5KGZ0KTtcbiAgICAgICAgdGhpcy5yID0geSh6cyk7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdXQuc3ByZWFkVHJhbnNmZXJlZEJpbmRpbmc7XG4gICAgfVxuICAgIHJlbmRlcih0LCBlLCBzLCBpLCBuLCByKSB7XG4gICAgICAgIFNwcmVhZEJpbmRpbmcuY3JlYXRlKHQuY29udGFpbmVyLmdldChraSksIGUsIHZvaWQgMCwgdGhpcy5yLCB0aGlzLmd0LCBpLCBuLCByKS5mb3JFYWNoKChlID0+IHQuYWRkQmluZGluZyhlKSkpO1xuICAgIH1cbn0sIG51bGwpO1xuXG5jb25zdCBPcyA9IC8qQF9fUFVSRV9fKi8gcmVuZGVyZXIoY2xhc3MgU3ByZWFkVmFsdWVSZW5kZXJlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdXQuc3ByZWFkVmFsdWVCaW5kaW5nO1xuICAgICAgICBTcHJlYWRWYWx1ZUJpbmRpbmcubWl4KCk7XG4gICAgfVxuICAgIHJlbmRlcih0LCBlLCBzLCBpLCBuLCByKSB7XG4gICAgICAgIGNvbnN0IGwgPSBzLnRhcmdldDtcbiAgICAgICAgaWYgKGwgPT09IFwiJGJpbmRhYmxlc1wiKSB7XG4gICAgICAgICAgICB0LmFkZEJpbmRpbmcobmV3IFNwcmVhZFZhbHVlQmluZGluZyh0LCBlLnZpZXdNb2RlbCwgWHQoZS5kZWZpbml0aW9uLmJpbmRhYmxlcyksIG4ucGFyc2Uocy5mcm9tLCBlZSksIHIsIHQuY29udGFpbmVyLCBpLmRvbVF1ZXVlKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVNYXBwZWRFcnJvcig4MjAsIGwpO1xuICAgICAgICB9XG4gICAgfVxufSwgbnVsbCk7XG5cbmZ1bmN0aW9uIGFkZENsYXNzZXModCwgZSkge1xuICAgIGNvbnN0IHMgPSBlLmxlbmd0aDtcbiAgICBsZXQgaSA9IDA7XG4gICAgZm9yIChsZXQgbiA9IDA7IG4gPCBzOyArK24pIHtcbiAgICAgICAgaWYgKGUuY2hhckNvZGVBdChuKSA9PT0gMzIpIHtcbiAgICAgICAgICAgIGlmIChuICE9PSBpKSB7XG4gICAgICAgICAgICAgICAgdC5hZGQoZS5zbGljZShpLCBuKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpID0gbiArIDE7XG4gICAgICAgIH0gZWxzZSBpZiAobiArIDEgPT09IHMpIHtcbiAgICAgICAgICAgIHQuYWRkKGUuc2xpY2UoaSkpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5jb25zdCBGcyA9IFwiSUNvbnRyb2xsZXJcIjtcblxuY29uc3QgVnMgPSBcIklJbnN0cnVjdGlvblwiO1xuXG5jb25zdCBIcyA9IFwiSVJlbmRlckxvY2F0aW9uXCI7XG5cbmNvbnN0ICRzID0gXCJJU2xvdHNJbmZvXCI7XG5cbmZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnRDb250YWluZXIodCwgZSwgcywgaSwgbiwgcikge1xuICAgIGNvbnN0IGwgPSBlLmNvbnRhaW5lci5jcmVhdGVDaGlsZCgpO1xuICAgIHJlZ2lzdGVySG9zdE5vZGUobCwgcywgdCk7XG4gICAgcmVnaXN0ZXJSZXNvbHZlcihsLCB5aSwgbmV3IFIoRnMsIGUpKTtcbiAgICByZWdpc3RlclJlc29sdmVyKGwsIGR0LCBuZXcgUihWcywgaSkpO1xuICAgIHJlZ2lzdGVyUmVzb2x2ZXIobCwgUmksIG4gPT0gbnVsbCA/IE5zIDogbmV3IFJlbmRlckxvY2F0aW9uUHJvdmlkZXIobikpO1xuICAgIHJlZ2lzdGVyUmVzb2x2ZXIobCwgdXMsIGpzKTtcbiAgICByZWdpc3RlclJlc29sdmVyKGwsIGdzLCByID09IG51bGwgPyBXcyA6IG5ldyBSKCRzLCByKSk7XG4gICAgcmV0dXJuIGw7XG59XG5cbmNsYXNzIFZpZXdGYWN0b3J5UHJvdmlkZXIge1xuICAgIGdldCAkaXNSZXNvbHZlcigpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKHQpIHtcbiAgICAgICAgdGhpcy5mID0gdDtcbiAgICB9XG4gICAgcmVzb2x2ZSgpIHtcbiAgICAgICAgY29uc3QgdCA9IHRoaXMuZjtcbiAgICAgICAgaWYgKHQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZU1hcHBlZEVycm9yKDc1NSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpKHQubmFtZSkgfHwgdC5uYW1lLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlTWFwcGVkRXJyb3IoNzU2KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGludm9rZUF0dHJpYnV0ZSh0LCBlLCBzLCBpLCBuLCByLCBsLCBhKSB7XG4gICAgY29uc3QgaCA9IHMgaW5zdGFuY2VvZiBDb250cm9sbGVyID8gcyA6IHMuJGNvbnRyb2xsZXI7XG4gICAgY29uc3QgYyA9IGguY29udGFpbmVyLmNyZWF0ZUNoaWxkKCk7XG4gICAgcmVnaXN0ZXJIb3N0Tm9kZShjLCBpLCB0KTtcbiAgICByZWdpc3RlclJlc29sdmVyKGMsIHlpLCBuZXcgUihGcywgaCkpO1xuICAgIHJlZ2lzdGVyUmVzb2x2ZXIoYywgZHQsIG5ldyBSKFZzLCBuKSk7XG4gICAgcmVnaXN0ZXJSZXNvbHZlcihjLCBSaSwgbCA9PSBudWxsID8gTnMgOiBuZXcgUihIcywgbCkpO1xuICAgIHJlZ2lzdGVyUmVzb2x2ZXIoYywgdXMsIHIgPT0gbnVsbCA/IGpzIDogbmV3IFZpZXdGYWN0b3J5UHJvdmlkZXIocikpO1xuICAgIHJlZ2lzdGVyUmVzb2x2ZXIoYywgZ3MsIGEgPT0gbnVsbCA/IFdzIDogbmV3IFIoJHMsIGEpKTtcbiAgICByZXR1cm4ge1xuICAgICAgICB2bTogYy5pbnZva2UoZS5UeXBlKSxcbiAgICAgICAgY3RuOiBjXG4gICAgfTtcbn1cblxuY2xhc3MgUmVuZGVyTG9jYXRpb25Qcm92aWRlciB7XG4gICAgZ2V0IG5hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIklSZW5kZXJMb2NhdGlvblwiO1xuICAgIH1cbiAgICBnZXQgJGlzUmVzb2x2ZXIoKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBjb25zdHJ1Y3Rvcih0KSB7XG4gICAgICAgIHRoaXMubCA9IHQ7XG4gICAgfVxuICAgIHJlc29sdmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmw7XG4gICAgfVxufVxuXG5jb25zdCBOcyA9IG5ldyBSZW5kZXJMb2NhdGlvblByb3ZpZGVyKG51bGwpO1xuXG5jb25zdCBqcyA9IG5ldyBWaWV3RmFjdG9yeVByb3ZpZGVyKG51bGwpO1xuXG5jb25zdCBXcyA9IG5ldyBSKCRzLCBuZXcgQXVTbG90c0luZm8oQykpO1xuXG5jb25zdCB6cyA9IC8qQF9fUFVSRV9fKi8gQmUoXCJJUmVuZGVyaW5nXCIsICh0ID0+IHQuc2luZ2xldG9uKFJlbmRlcmluZykpKTtcblxuY2xhc3MgUmVuZGVyaW5nIHtcbiAgICBnZXQgcmVuZGVyZXJzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52dCA/Pz0gdGhpcy54dC5nZXRBbGwoeHMsIGZhbHNlKS5yZWR1Y2UoKCh0LCBlKSA9PiB7XG4gICAgICAgICAgICB0W2UudGFyZ2V0XSA/Pz0gZTtcbiAgICAgICAgICAgIHJldHVybiB0O1xuICAgICAgICB9KSwgbigpKTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuYnQgPSBuZXcgV2Vha01hcDtcbiAgICAgICAgdGhpcy53dCA9IG5ldyBXZWFrTWFwO1xuICAgICAgICBjb25zdCB0ID0gdGhpcy54dCA9IHkoVCkucm9vdDtcbiAgICAgICAgY29uc3QgZSA9IHRoaXMucCA9IHQuZ2V0KCRlKTtcbiAgICAgICAgdGhpcy5lcCA9IHQuZ2V0KHMpO1xuICAgICAgICB0aGlzLm9MID0gdC5nZXQoWik7XG4gICAgICAgIHRoaXMueXQgPSBlLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhdS1tXCIpO1xuICAgICAgICB0aGlzLmt0ID0gbmV3IEZyYWdtZW50Tm9kZVNlcXVlbmNlKGUsIGUuZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpKTtcbiAgICB9XG4gICAgY29tcGlsZSh0LCBlKSB7XG4gICAgICAgIGNvbnN0IHMgPSBlLmdldChmdCk7XG4gICAgICAgIGNvbnN0IGkgPSB0aGlzLmJ0O1xuICAgICAgICBsZXQgbiA9IGkuZ2V0KHQpO1xuICAgICAgICBpZiAobiA9PSBudWxsKSB7XG4gICAgICAgICAgICBpLnNldCh0LCBuID0gQ3VzdG9tRWxlbWVudERlZmluaXRpb24uY3JlYXRlKHQubmVlZHNDb21waWxlID8gcy5jb21waWxlKHQsIGUpIDogdCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuO1xuICAgIH1cbiAgICBnZXRWaWV3RmFjdG9yeSh0LCBlKSB7XG4gICAgICAgIHJldHVybiBuZXcgVmlld0ZhY3RvcnkoZSwgQ3VzdG9tRWxlbWVudERlZmluaXRpb24uZ2V0T3JDcmVhdGUodCkpO1xuICAgIH1cbiAgICBjcmVhdGVOb2Rlcyh0KSB7XG4gICAgICAgIGlmICh0LmVuaGFuY2UgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRnJhZ21lbnROb2RlU2VxdWVuY2UodGhpcy5wLCB0aGlzLkN0KHQudGVtcGxhdGUpKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZTtcbiAgICAgICAgbGV0IHMgPSBmYWxzZTtcbiAgICAgICAgY29uc3QgbiA9IHRoaXMud3Q7XG4gICAgICAgIGNvbnN0IHIgPSB0aGlzLnA7XG4gICAgICAgIGNvbnN0IGwgPSByLmRvY3VtZW50O1xuICAgICAgICBpZiAobi5oYXModCkpIHtcbiAgICAgICAgICAgIGUgPSBuLmdldCh0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGEgPSB0LnRlbXBsYXRlO1xuICAgICAgICAgICAgbGV0IGg7XG4gICAgICAgICAgICBpZiAoYSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZSA9IG51bGw7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGEgaW5zdGFuY2VvZiByLk5vZGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoYS5ub2RlTmFtZSA9PT0gXCJURU1QTEFURVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGUgPSBhLmNvbnRlbnQ7XG4gICAgICAgICAgICAgICAgICAgIHMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIChlID0gbC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkpLmFwcGVuZENoaWxkKGEuY2xvbmVOb2RlKHRydWUpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGggPSBsLmNyZWF0ZUVsZW1lbnQoXCJ0ZW1wbGF0ZVwiKTtcbiAgICAgICAgICAgICAgICBpZiAoaShhKSkge1xuICAgICAgICAgICAgICAgICAgICBoLmlubmVySFRNTCA9IGE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGUgPSBoLmNvbnRlbnQ7XG4gICAgICAgICAgICAgICAgcyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLkN0KGUpO1xuICAgICAgICAgICAgbi5zZXQodCwgZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGUgPT0gbnVsbCA/IHRoaXMua3QgOiBuZXcgRnJhZ21lbnROb2RlU2VxdWVuY2UodGhpcy5wLCBzID8gbC5pbXBvcnROb2RlKGUsIHRydWUpIDogbC5hZG9wdE5vZGUoZS5jbG9uZU5vZGUodHJ1ZSkpKTtcbiAgICB9XG4gICAgcmVuZGVyKHQsIGUsIHMsIGkpIHtcbiAgICAgICAgY29uc3QgbiA9IHMuaW5zdHJ1Y3Rpb25zO1xuICAgICAgICBjb25zdCByID0gdGhpcy5yZW5kZXJlcnM7XG4gICAgICAgIGNvbnN0IGwgPSBlLmxlbmd0aDtcbiAgICAgICAgbGV0IGEgPSAwO1xuICAgICAgICBsZXQgaCA9IDA7XG4gICAgICAgIGxldCBjID0gbi5sZW5ndGg7XG4gICAgICAgIGxldCB1O1xuICAgICAgICBsZXQgZjtcbiAgICAgICAgbGV0IGQ7XG4gICAgICAgIGlmIChsICE9PSBjKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVNYXBwZWRFcnJvcig3NTcsIGwsIGMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsID4gMCkge1xuICAgICAgICAgICAgd2hpbGUgKGwgPiBhKSB7XG4gICAgICAgICAgICAgICAgdSA9IG5bYV07XG4gICAgICAgICAgICAgICAgZCA9IGVbYV07XG4gICAgICAgICAgICAgICAgaCA9IDA7XG4gICAgICAgICAgICAgICAgYyA9IHUubGVuZ3RoO1xuICAgICAgICAgICAgICAgIHdoaWxlIChjID4gaCkge1xuICAgICAgICAgICAgICAgICAgICBmID0gdVtoXTtcbiAgICAgICAgICAgICAgICAgICAgcltmLnR5cGVdLnJlbmRlcih0LCBkLCBmLCB0aGlzLnAsIHRoaXMuZXAsIHRoaXMub0wpO1xuICAgICAgICAgICAgICAgICAgICArK2g7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICsrYTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaSAhPSBudWxsKSB7XG4gICAgICAgICAgICB1ID0gcy5zdXJyb2dhdGVzO1xuICAgICAgICAgICAgaWYgKChjID0gdS5sZW5ndGgpID4gMCkge1xuICAgICAgICAgICAgICAgIGggPSAwO1xuICAgICAgICAgICAgICAgIHdoaWxlIChjID4gaCkge1xuICAgICAgICAgICAgICAgICAgICBmID0gdVtoXTtcbiAgICAgICAgICAgICAgICAgICAgcltmLnR5cGVdLnJlbmRlcih0LCBpLCBmLCB0aGlzLnAsIHRoaXMuZXAsIHRoaXMub0wpO1xuICAgICAgICAgICAgICAgICAgICArK2g7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIEN0KHQpIHtcbiAgICAgICAgaWYgKHQgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZSA9IHRoaXMucC5kb2N1bWVudC5jcmVhdGVUcmVlV2Fsa2VyKHQsIDEyOCk7XG4gICAgICAgIGxldCBzO1xuICAgICAgICB3aGlsZSAoKHMgPSBlLm5leHROb2RlKCkpICE9IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChzLm5vZGVWYWx1ZSA9PT0gXCJhdSpcIikge1xuICAgICAgICAgICAgICAgIHMucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoZS5jdXJyZW50Tm9kZSA9IHRoaXMueXQuY2xvbmVOb2RlKCksIHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH1cbn1cblxuZnVuY3Rpb24gY3NzTW9kdWxlcyguLi50KSB7XG4gICAgcmV0dXJuIG5ldyBDU1NNb2R1bGVzUHJvY2Vzc29yUmVnaXN0cnkodCk7XG59XG5cbmNsYXNzIENTU01vZHVsZXNQcm9jZXNzb3JSZWdpc3RyeSB7XG4gICAgY29uc3RydWN0b3IodCkge1xuICAgICAgICB0aGlzLm1vZHVsZXMgPSB0O1xuICAgIH1cbiAgICByZWdpc3Rlcih0KSB7XG4gICAgICAgIGxldCBlID0gdC5nZXQoRShUaSkpO1xuICAgICAgICBpZiAoZSA9PSBudWxsKSB7XG4gICAgICAgICAgICB0LnJlZ2lzdGVyKEVlKFRpLCBlID0gbigpKSk7XG4gICAgICAgIH1cbiAgICAgICAge1xuICAgICAgICAgICAgR3QoZSwgLi4udGhpcy5tb2R1bGVzKTtcbiAgICAgICAgfVxuICAgICAgICBjbGFzcyBDb21waWxpbmdIb29rIHtcbiAgICAgICAgICAgIGNvbXBpbGluZyh0KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcyA9IHQudGFnTmFtZSA9PT0gXCJURU1QTEFURVwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IGkgPSBzID8gdC5jb250ZW50IDogdDtcbiAgICAgICAgICAgICAgICBjb25zdCBuID0gWyB0LCAuLi5MKGkucXVlcnlTZWxlY3RvckFsbChcIltjbGFzc11cIikpIF07XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCB0IG9mIG4pIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcyA9IHQuZ2V0QXR0cmlidXRlTm9kZShcImNsYXNzXCIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocyA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpID0gcy52YWx1ZS5zcGxpdCgvXFxzKy9nKS5tYXAoKHQgPT4gZVt0XSB8fCB0KSkuam9pbihcIiBcIik7XG4gICAgICAgICAgICAgICAgICAgIHMudmFsdWUgPSBpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0LnJlZ2lzdGVyKG10LmRlZmluZShDb21waWxpbmdIb29rKSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBzaGFkb3dDU1MoLi4udCkge1xuICAgIHJldHVybiBuZXcgU2hhZG93RE9NUmVnaXN0cnkodCk7XG59XG5cbmNvbnN0IFVzID0gLypAX19QVVJFX18qLyBCZShcIklTaGFkb3dET01TdHlsZUZhY3RvcnlcIiwgKHQgPT4gdC5jYWNoZWRDYWxsYmFjaygodCA9PiB7XG4gICAgaWYgKEFkb3B0ZWRTdHlsZVNoZWV0c1N0eWxlcy5zdXBwb3J0ZWQodC5nZXQoJGUpKSkge1xuICAgICAgICByZXR1cm4gdC5nZXQoQWRvcHRlZFN0eWxlU2hlZXRzU3R5bGVzRmFjdG9yeSk7XG4gICAgfVxuICAgIHJldHVybiB0LmdldChTdHlsZUVsZW1lbnRTdHlsZXNGYWN0b3J5KTtcbn0pKSkpO1xuXG5jbGFzcyBTaGFkb3dET01SZWdpc3RyeSB7XG4gICAgY29uc3RydWN0b3IodCkge1xuICAgICAgICB0aGlzLmNzcyA9IHQ7XG4gICAgfVxuICAgIHJlZ2lzdGVyKHQpIHtcbiAgICAgICAgY29uc3QgZSA9IHQuZ2V0KEtzKTtcbiAgICAgICAgY29uc3QgcyA9IHQuZ2V0KFVzKTtcbiAgICAgICAgdC5yZWdpc3RlcihFZShHcywgcy5jcmVhdGVTdHlsZXModGhpcy5jc3MsIGUpKSk7XG4gICAgfVxufVxuXG5jbGFzcyBBZG9wdGVkU3R5bGVTaGVldHNTdHlsZXNGYWN0b3J5IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5wID0geSgkZSk7XG4gICAgICAgIHRoaXMuY2FjaGUgPSBuZXcgTWFwO1xuICAgIH1cbiAgICBjcmVhdGVTdHlsZXModCwgZSkge1xuICAgICAgICByZXR1cm4gbmV3IEFkb3B0ZWRTdHlsZVNoZWV0c1N0eWxlcyh0aGlzLnAsIHQsIHRoaXMuY2FjaGUsIGUpO1xuICAgIH1cbn1cblxuY2xhc3MgU3R5bGVFbGVtZW50U3R5bGVzRmFjdG9yeSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMucCA9IHkoJGUpO1xuICAgIH1cbiAgICBjcmVhdGVTdHlsZXModCwgZSkge1xuICAgICAgICByZXR1cm4gbmV3IFN0eWxlRWxlbWVudFN0eWxlcyh0aGlzLnAsIHQsIGUpO1xuICAgIH1cbn1cblxuY29uc3QgR3MgPSAvKkBfX1BVUkVfXyovIEJlKFwiSVNoYWRvd0RPTVN0eWxlc1wiKTtcblxuY29uc3QgS3MgPSAvKkBfX1BVUkVfXyovIEJlKFwiSVNoYWRvd0RPTUdsb2JhbFN0eWxlc1wiLCAodCA9PiB0Lmluc3RhbmNlKHtcbiAgICBhcHBseVRvOiBkXG59KSkpO1xuXG5jbGFzcyBBZG9wdGVkU3R5bGVTaGVldHNTdHlsZXMge1xuICAgIGNvbnN0cnVjdG9yKHQsIGUsIHMsIGkgPSBudWxsKSB7XG4gICAgICAgIHRoaXMuc2hhcmVkU3R5bGVzID0gaTtcbiAgICAgICAgdGhpcy5zdHlsZVNoZWV0cyA9IGUubWFwKChlID0+IHtcbiAgICAgICAgICAgIGxldCBpO1xuICAgICAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiB0LkNTU1N0eWxlU2hlZXQpIHtcbiAgICAgICAgICAgICAgICBpID0gZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaSA9IHMuZ2V0KGUpO1xuICAgICAgICAgICAgICAgIGlmIChpID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICAgICAgaSA9IG5ldyB0LkNTU1N0eWxlU2hlZXQ7XG4gICAgICAgICAgICAgICAgICAgIGkucmVwbGFjZVN5bmMoZSk7XG4gICAgICAgICAgICAgICAgICAgIHMuc2V0KGUsIGkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIHN0YXRpYyBzdXBwb3J0ZWQodCkge1xuICAgICAgICByZXR1cm4gXCJhZG9wdGVkU3R5bGVTaGVldHNcIiBpbiB0LlNoYWRvd1Jvb3QucHJvdG90eXBlO1xuICAgIH1cbiAgICBhcHBseVRvKHQpIHtcbiAgICAgICAgaWYgKHRoaXMuc2hhcmVkU3R5bGVzICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLnNoYXJlZFN0eWxlcy5hcHBseVRvKHQpO1xuICAgICAgICB9XG4gICAgICAgIHQuYWRvcHRlZFN0eWxlU2hlZXRzID0gWyAuLi50LmFkb3B0ZWRTdHlsZVNoZWV0cywgLi4udGhpcy5zdHlsZVNoZWV0cyBdO1xuICAgIH1cbn1cblxuY2xhc3MgU3R5bGVFbGVtZW50U3R5bGVzIHtcbiAgICBjb25zdHJ1Y3Rvcih0LCBlLCBzID0gbnVsbCkge1xuICAgICAgICB0aGlzLnAgPSB0O1xuICAgICAgICB0aGlzLmxvY2FsU3R5bGVzID0gZTtcbiAgICAgICAgdGhpcy5zaGFyZWRTdHlsZXMgPSBzO1xuICAgIH1cbiAgICBhcHBseVRvKHQpIHtcbiAgICAgICAgY29uc3QgZSA9IHRoaXMubG9jYWxTdHlsZXM7XG4gICAgICAgIGNvbnN0IHMgPSB0aGlzLnA7XG4gICAgICAgIGZvciAobGV0IGkgPSBlLmxlbmd0aCAtIDE7IGkgPiAtMTsgLS1pKSB7XG4gICAgICAgICAgICBjb25zdCBuID0gcy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gICAgICAgICAgICBuLmlubmVySFRNTCA9IGVbaV07XG4gICAgICAgICAgICB0LnByZXBlbmQobik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuc2hhcmVkU3R5bGVzICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLnNoYXJlZFN0eWxlcy5hcHBseVRvKHQpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5jb25zdCBYcyA9IHtcbiAgICBzaGFkb3dET00odCkge1xuICAgICAgICByZXR1cm4gSGUuY3JlYXRpbmcoVCwgKGUgPT4ge1xuICAgICAgICAgICAgaWYgKHQuc2hhcmVkU3R5bGVzICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzID0gZS5nZXQoVXMpO1xuICAgICAgICAgICAgICAgIGUucmVnaXN0ZXIoRWUoS3MsIHMuY3JlYXRlU3R5bGVzKHQuc2hhcmVkU3R5bGVzLCBudWxsKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgfVxufTtcblxuY29uc3Qge2VudGVyOiBRcywgZXhpdDogWXN9ID0gSjtcblxuY29uc3Qge3dyYXA6IFpzLCB1bndyYXA6IEpzfSA9IHR0O1xuXG5jbGFzcyBDb21wdXRlZFdhdGNoZXIge1xuICAgIGdldCB2YWx1ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudjtcbiAgICB9XG4gICAgY29uc3RydWN0b3IodCwgZSwgcywgaSwgbikge1xuICAgICAgICB0aGlzLm9iaiA9IHQ7XG4gICAgICAgIHRoaXMuJGdldCA9IHM7XG4gICAgICAgIHRoaXMudXNlUHJveHkgPSBuO1xuICAgICAgICB0aGlzLmlzQm91bmQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5ydW5uaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMudiA9IHZvaWQgMDtcbiAgICAgICAgdGhpcy5jYiA9IGk7XG4gICAgICAgIHRoaXMub0wgPSBlO1xuICAgIH1cbiAgICBoYW5kbGVDaGFuZ2UoKSB7XG4gICAgICAgIHRoaXMucnVuKCk7XG4gICAgfVxuICAgIGhhbmRsZUNvbGxlY3Rpb25DaGFuZ2UoKSB7XG4gICAgICAgIHRoaXMucnVuKCk7XG4gICAgfVxuICAgIGJpbmQoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzQm91bmQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbXB1dGUoKTtcbiAgICAgICAgdGhpcy5pc0JvdW5kID0gdHJ1ZTtcbiAgICB9XG4gICAgdW5iaW5kKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNCb3VuZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaXNCb3VuZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLm9icy5jbGVhckFsbCgpO1xuICAgIH1cbiAgICBydW4oKSB7XG4gICAgICAgIGlmICghdGhpcy5pc0JvdW5kIHx8IHRoaXMucnVubmluZykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHQgPSB0aGlzLm9iajtcbiAgICAgICAgY29uc3QgZSA9IHRoaXMudjtcbiAgICAgICAgY29uc3QgcyA9IHRoaXMuY29tcHV0ZSgpO1xuICAgICAgICBpZiAoIU0ocywgZSkpIHtcbiAgICAgICAgICAgIHRoaXMuY2IuY2FsbCh0LCBzLCBlLCB0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb21wdXRlKCkge1xuICAgICAgICB0aGlzLnJ1bm5pbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLm9icy52ZXJzaW9uKys7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBRcyh0aGlzKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnYgPSBKcyh0aGlzLiRnZXQuY2FsbCh2b2lkIDAsIHRoaXMudXNlUHJveHkgPyBacyh0aGlzLm9iaikgOiB0aGlzLm9iaiwgdGhpcykpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgdGhpcy5vYnMuY2xlYXIoKTtcbiAgICAgICAgICAgIHRoaXMucnVubmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgWXModGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbigoKSA9PiB7XG4gICAgUShDb21wdXRlZFdhdGNoZXIsIG51bGwpO1xufSkoKTtcblxuY2xhc3MgRXhwcmVzc2lvbldhdGNoZXIge1xuICAgIGdldCB2YWx1ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudjtcbiAgICB9XG4gICAgY29uc3RydWN0b3IodCwgZSwgcywgaSwgbikge1xuICAgICAgICB0aGlzLnNjb3BlID0gdDtcbiAgICAgICAgdGhpcy5sID0gZTtcbiAgICAgICAgdGhpcy5vTCA9IHM7XG4gICAgICAgIHRoaXMuaXNCb3VuZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmJvdW5kRm4gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5vYmogPSB0LmJpbmRpbmdDb250ZXh0O1xuICAgICAgICB0aGlzLkJ0ID0gaTtcbiAgICAgICAgdGhpcy5jYiA9IG47XG4gICAgfVxuICAgIGhhbmRsZUNoYW5nZSh0KSB7XG4gICAgICAgIGNvbnN0IGUgPSB0aGlzLkJ0O1xuICAgICAgICBjb25zdCBzID0gdGhpcy5vYmo7XG4gICAgICAgIGNvbnN0IGkgPSB0aGlzLnY7XG4gICAgICAgIGNvbnN0IG4gPSBlLiRraW5kID09PSBcIkFjY2Vzc1Njb3BlXCIgJiYgdGhpcy5vYnMuY291bnQgPT09IDE7XG4gICAgICAgIGlmICghbikge1xuICAgICAgICAgICAgdGhpcy5vYnMudmVyc2lvbisrO1xuICAgICAgICAgICAgdCA9IGFlKGUsIHRoaXMuc2NvcGUsIHRoaXMsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5vYnMuY2xlYXIoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIU0odCwgaSkpIHtcbiAgICAgICAgICAgIHRoaXMudiA9IHQ7XG4gICAgICAgICAgICB0aGlzLmNiLmNhbGwocywgdCwgaSwgcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYmluZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNCb3VuZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub2JzLnZlcnNpb24rKztcbiAgICAgICAgdGhpcy52ID0gYWUodGhpcy5CdCwgdGhpcy5zY29wZSwgdGhpcywgdGhpcyk7XG4gICAgICAgIHRoaXMub2JzLmNsZWFyKCk7XG4gICAgICAgIHRoaXMuaXNCb3VuZCA9IHRydWU7XG4gICAgfVxuICAgIHVuYmluZCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzQm91bmQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlzQm91bmQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5vYnMuY2xlYXJBbGwoKTtcbiAgICAgICAgdGhpcy52ID0gdm9pZCAwO1xuICAgIH1cbn1cblxuKCgpID0+IHtcbiAgICBRKEV4cHJlc3Npb25XYXRjaGVyLCBudWxsKTtcbiAgICBaZSh0cnVlKShFeHByZXNzaW9uV2F0Y2hlcik7XG59KSgpO1xuXG5jbGFzcyBDb250cm9sbGVyIHtcbiAgICBnZXQgbGlmZWN5Y2xlSG9va3MoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLlN0O1xuICAgIH1cbiAgICBnZXQgaXNBY3RpdmUoKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5zdGF0ZSAmIChtaSB8IGdpKSkgPiAwICYmICh0aGlzLnN0YXRlICYgcGkpID09PSAwO1xuICAgIH1cbiAgICBnZXQgbmFtZSgpIHtcbiAgICAgICAgaWYgKHRoaXMucGFyZW50ID09PSBudWxsKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMudm1LaW5kKSB7XG4gICAgICAgICAgICAgIGNhc2UgdWk6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBbJHt0aGlzLmRlZmluaXRpb24ubmFtZX1dYDtcblxuICAgICAgICAgICAgICBjYXNlIGNpOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRlZmluaXRpb24ubmFtZTtcblxuICAgICAgICAgICAgICBjYXNlIGZpOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnZpZXdGYWN0b3J5Lm5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoICh0aGlzLnZtS2luZCkge1xuICAgICAgICAgIGNhc2UgdWk6XG4gICAgICAgICAgICByZXR1cm4gYCR7dGhpcy5wYXJlbnQubmFtZX0+WyR7dGhpcy5kZWZpbml0aW9uLm5hbWV9XWA7XG5cbiAgICAgICAgICBjYXNlIGNpOlxuICAgICAgICAgICAgcmV0dXJuIGAke3RoaXMucGFyZW50Lm5hbWV9PiR7dGhpcy5kZWZpbml0aW9uLm5hbWV9YDtcblxuICAgICAgICAgIGNhc2UgZmk6XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52aWV3RmFjdG9yeS5uYW1lID09PSB0aGlzLnBhcmVudC5kZWZpbml0aW9uPy5uYW1lID8gYCR7dGhpcy5wYXJlbnQubmFtZX1bdmlld11gIDogYCR7dGhpcy5wYXJlbnQubmFtZX1bdmlldzoke3RoaXMudmlld0ZhY3RvcnkubmFtZX1dYDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgdmlld01vZGVsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5BdDtcbiAgICB9XG4gICAgc2V0IHZpZXdNb2RlbCh0KSB7XG4gICAgICAgIHRoaXMuQXQgPSB0O1xuICAgICAgICB0aGlzLkV0ID0gdCA9PSBudWxsIHx8IHRoaXMudm1LaW5kID09PSBmaSA/IEhvb2tzRGVmaW5pdGlvbi5ub25lIDogbmV3IEhvb2tzRGVmaW5pdGlvbih0KTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IodCwgZSwgcywgaSwgbiwgciwgbCkge1xuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IHQ7XG4gICAgICAgIHRoaXMudm1LaW5kID0gZTtcbiAgICAgICAgdGhpcy5kZWZpbml0aW9uID0gcztcbiAgICAgICAgdGhpcy52aWV3RmFjdG9yeSA9IGk7XG4gICAgICAgIHRoaXMuaG9zdCA9IHI7XG4gICAgICAgIHRoaXMuaGVhZCA9IG51bGw7XG4gICAgICAgIHRoaXMudGFpbCA9IG51bGw7XG4gICAgICAgIHRoaXMubmV4dCA9IG51bGw7XG4gICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5iaW5kaW5ncyA9IG51bGw7XG4gICAgICAgIHRoaXMuY2hpbGRyZW4gPSBudWxsO1xuICAgICAgICB0aGlzLmhhc0xvY2tlZFNjb3BlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc2NvcGUgPSBudWxsO1xuICAgICAgICB0aGlzLmlzQm91bmQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5SdCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmhvc3RDb250cm9sbGVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5tb3VudFRhcmdldCA9IGVpO1xuICAgICAgICB0aGlzLnNoYWRvd1Jvb3QgPSBudWxsO1xuICAgICAgICB0aGlzLm5vZGVzID0gbnVsbDtcbiAgICAgICAgdGhpcy5sb2NhdGlvbiA9IG51bGw7XG4gICAgICAgIHRoaXMuU3QgPSBudWxsO1xuICAgICAgICB0aGlzLnN0YXRlID0gZGk7XG4gICAgICAgIHRoaXMuVHQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy4kaW5pdGlhdG9yID0gbnVsbDtcbiAgICAgICAgdGhpcy4kcmVzb2x2ZSA9IHZvaWQgMDtcbiAgICAgICAgdGhpcy4kcmVqZWN0ID0gdm9pZCAwO1xuICAgICAgICB0aGlzLiRwcm9taXNlID0gdm9pZCAwO1xuICAgICAgICB0aGlzLkx0ID0gMDtcbiAgICAgICAgdGhpcy5NdCA9IDA7XG4gICAgICAgIHRoaXMuRHQgPSAwO1xuICAgICAgICB0aGlzLkF0ID0gbjtcbiAgICAgICAgdGhpcy5FdCA9IGUgPT09IGZpID8gSG9va3NEZWZpbml0aW9uLm5vbmUgOiBuZXcgSG9va3NEZWZpbml0aW9uKG4pO1xuICAgICAgICB0aGlzLmxvY2F0aW9uID0gbDtcbiAgICAgICAgdGhpcy5yID0gdC5yb290LmdldCh6cyk7XG4gICAgICAgIHRoaXMuY29lcmNpb24gPSBlID09PSBmaSA/IHZvaWQgMCA6IHQuZ2V0KGxpKTtcbiAgICB9XG4gICAgc3RhdGljIGdldENhY2hlZCh0KSB7XG4gICAgICAgIHJldHVybiB0aS5nZXQodCk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXRDYWNoZWRPclRocm93KHQpIHtcbiAgICAgICAgY29uc3QgZSA9IENvbnRyb2xsZXIuZ2V0Q2FjaGVkKHQpO1xuICAgICAgICBpZiAoZSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVNYXBwZWRFcnJvcig1MDAsIHQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlO1xuICAgIH1cbiAgICBzdGF0aWMgJGVsKHQsIGUsIHMsIGksIG4gPSB2b2lkIDAsIHIgPSBudWxsKSB7XG4gICAgICAgIGlmICh0aS5oYXMoZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aS5nZXQoZSk7XG4gICAgICAgIH1cbiAgICAgICAge1xuICAgICAgICAgICAgbiA9IG4gPz8gZ2V0RWxlbWVudERlZmluaXRpb24oZS5jb25zdHJ1Y3Rvcik7XG4gICAgICAgIH1cbiAgICAgICAgcmVnaXN0ZXJSZXNvbHZlcih0LCBuLlR5cGUsIG5ldyBSKG4ua2V5LCBlLCBuLlR5cGUpKTtcbiAgICAgICAgY29uc3QgbCA9IG5ldyBDb250cm9sbGVyKHQsIGNpLCBuLCBudWxsLCBlLCBzLCByKTtcbiAgICAgICAgY29uc3QgYSA9IHQuZ2V0KEkoa2kpKTtcbiAgICAgICAgaWYgKG4uZGVwZW5kZW5jaWVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHQucmVnaXN0ZXIoLi4ubi5kZXBlbmRlbmNpZXMpO1xuICAgICAgICB9XG4gICAgICAgIHJlZ2lzdGVyUmVzb2x2ZXIodCwga2ksIG5ldyBSKFwiSUh5ZHJhdGlvbkNvbnRleHRcIiwgbmV3IEh5ZHJhdGlvbkNvbnRleHQobCwgaSwgYSkpKTtcbiAgICAgICAgdGkuc2V0KGUsIGwpO1xuICAgICAgICBpZiAoaSA9PSBudWxsIHx8IGkuaHlkcmF0ZSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGwuaEUoaSwgYSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGw7XG4gICAgfVxuICAgIHN0YXRpYyAkYXR0cih0LCBlLCBzLCBpKSB7XG4gICAgICAgIGlmICh0aS5oYXMoZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aS5nZXQoZSk7XG4gICAgICAgIH1cbiAgICAgICAgaSA9IGkgPz8gZ2V0QXR0cmlidXRlRGVmaW5pdGlvbihlLmNvbnN0cnVjdG9yKTtcbiAgICAgICAgcmVnaXN0ZXJSZXNvbHZlcih0LCBpLlR5cGUsIG5ldyBSKGkua2V5LCBlLCBpLlR5cGUpKTtcbiAgICAgICAgY29uc3QgbiA9IG5ldyBDb250cm9sbGVyKHQsIHVpLCBpLCBudWxsLCBlLCBzLCBudWxsKTtcbiAgICAgICAgaWYgKGkuZGVwZW5kZW5jaWVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHQucmVnaXN0ZXIoLi4uaS5kZXBlbmRlbmNpZXMpO1xuICAgICAgICB9XG4gICAgICAgIHRpLnNldChlLCBuKTtcbiAgICAgICAgbi5JdCgpO1xuICAgICAgICByZXR1cm4gbjtcbiAgICB9XG4gICAgc3RhdGljICR2aWV3KHQsIGUgPSB2b2lkIDApIHtcbiAgICAgICAgY29uc3QgcyA9IG5ldyBDb250cm9sbGVyKHQuY29udGFpbmVyLCBmaSwgbnVsbCwgdCwgbnVsbCwgbnVsbCwgbnVsbCk7XG4gICAgICAgIHMucGFyZW50ID0gZSA/PyBudWxsO1xuICAgICAgICBzLlB0KCk7XG4gICAgICAgIHJldHVybiBzO1xuICAgIH1cbiAgICBoRSh0LCBlKSB7XG4gICAgICAgIGNvbnN0IHMgPSB0aGlzLmNvbnRhaW5lcjtcbiAgICAgICAgY29uc3QgaSA9IHRoaXMuQXQ7XG4gICAgICAgIGNvbnN0IG4gPSB0aGlzLmRlZmluaXRpb247XG4gICAgICAgIHRoaXMuc2NvcGUgPSBTY29wZS5jcmVhdGUoaSwgbnVsbCwgdHJ1ZSk7XG4gICAgICAgIGlmIChuLndhdGNoZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY3JlYXRlV2F0Y2hlcnModGhpcywgcywgbiwgaSk7XG4gICAgICAgIH1cbiAgICAgICAgY3JlYXRlT2JzZXJ2ZXJzKHRoaXMsIG4sIGkpO1xuICAgICAgICB0aGlzLlN0ID0gR2UucmVzb2x2ZShzKTtcbiAgICAgICAgcy5yZWdpc3RlcihuLlR5cGUpO1xuICAgICAgICBpZiAobi5pbmplY3RhYmxlICE9PSBudWxsKSB7XG4gICAgICAgICAgICByZWdpc3RlclJlc29sdmVyKHMsIG4uaW5qZWN0YWJsZSwgbmV3IFIoXCJkZWZpbml0aW9uLmluamVjdGFibGVcIiwgaSkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0ID09IG51bGwgfHwgdC5oeWRyYXRlICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhpcy5oUygpO1xuICAgICAgICAgICAgdGhpcy5oQygpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGhTKCkge1xuICAgICAgICBpZiAodGhpcy5TdC5oeWRyYXRpbmcgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5TdC5oeWRyYXRpbmcuZm9yRWFjaChjYWxsSHlkcmF0aW5nSG9vaywgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuRXQucXQpIHtcbiAgICAgICAgICAgIHRoaXMuQXQuaHlkcmF0aW5nKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHQgPSB0aGlzLmRlZmluaXRpb247XG4gICAgICAgIGNvbnN0IGUgPSB0aGlzLl90ID0gdGhpcy5yLmNvbXBpbGUodCwgdGhpcy5jb250YWluZXIpO1xuICAgICAgICBjb25zdCBzID0gZS5zaGFkb3dPcHRpb25zO1xuICAgICAgICBjb25zdCBpID0gZS5oYXNTbG90cztcbiAgICAgICAgY29uc3QgbiA9IGUuY29udGFpbmVybGVzcztcbiAgICAgICAgbGV0IHIgPSB0aGlzLmhvc3Q7XG4gICAgICAgIGxldCBsID0gdGhpcy5sb2NhdGlvbjtcbiAgICAgICAgaWYgKCh0aGlzLmhvc3RDb250cm9sbGVyID0gZmluZEVsZW1lbnRDb250cm9sbGVyRm9yKHIsIG9pKSkgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHIgPSB0aGlzLmhvc3QgPSB0aGlzLmNvbnRhaW5lci5yb290LmdldCgkZSkuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0Lm5hbWUpO1xuICAgICAgICAgICAgaWYgKG4gJiYgbCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgbCA9IHRoaXMubG9jYXRpb24gPSBjb252ZXJ0VG9SZW5kZXJMb2NhdGlvbihyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzZXRSZWYociwgT2ksIHRoaXMpO1xuICAgICAgICBzZXRSZWYociwgdC5rZXksIHRoaXMpO1xuICAgICAgICBpZiAocyAhPT0gbnVsbCB8fCBpKSB7XG4gICAgICAgICAgICBpZiAobCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlTWFwcGVkRXJyb3IoNTAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldFJlZih0aGlzLnNoYWRvd1Jvb3QgPSByLmF0dGFjaFNoYWRvdyhzID8/IGhpKSwgT2ksIHRoaXMpO1xuICAgICAgICAgICAgc2V0UmVmKHRoaXMuc2hhZG93Um9vdCwgdC5rZXksIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5tb3VudFRhcmdldCA9IGlpO1xuICAgICAgICB9IGVsc2UgaWYgKGwgIT0gbnVsbCkge1xuICAgICAgICAgICAgc2V0UmVmKGwsIE9pLCB0aGlzKTtcbiAgICAgICAgICAgIHNldFJlZihsLCB0LmtleSwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLm1vdW50VGFyZ2V0ID0gbmk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm1vdW50VGFyZ2V0ID0gc2k7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5BdC4kY29udHJvbGxlciA9IHRoaXM7XG4gICAgICAgIHRoaXMubm9kZXMgPSB0aGlzLnIuY3JlYXRlTm9kZXMoZSk7XG4gICAgICAgIGlmICh0aGlzLlN0Lmh5ZHJhdGVkICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgIHRoaXMuU3QuaHlkcmF0ZWQuZm9yRWFjaChjYWxsSHlkcmF0ZWRIb29rLCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5FdC5PdCkge1xuICAgICAgICAgICAgdGhpcy5BdC5oeWRyYXRlZCh0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBoQygpIHtcbiAgICAgICAgdGhpcy5yLnJlbmRlcih0aGlzLCB0aGlzLm5vZGVzLmZpbmRUYXJnZXRzKCksIHRoaXMuX3QsIHRoaXMuaG9zdCk7XG4gICAgICAgIGlmICh0aGlzLlN0LmNyZWF0ZWQgIT09IHZvaWQgMCkge1xuICAgICAgICAgICAgdGhpcy5TdC5jcmVhdGVkLmZvckVhY2goY2FsbENyZWF0ZWRIb29rLCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5FdC5GdCkge1xuICAgICAgICAgICAgdGhpcy5BdC5jcmVhdGVkKHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIEl0KCkge1xuICAgICAgICBjb25zdCB0ID0gdGhpcy5kZWZpbml0aW9uO1xuICAgICAgICBjb25zdCBlID0gdGhpcy5BdDtcbiAgICAgICAgaWYgKHQud2F0Y2hlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjcmVhdGVXYXRjaGVycyh0aGlzLCB0aGlzLmNvbnRhaW5lciwgdCwgZSk7XG4gICAgICAgIH1cbiAgICAgICAgY3JlYXRlT2JzZXJ2ZXJzKHRoaXMsIHQsIGUpO1xuICAgICAgICBlLiRjb250cm9sbGVyID0gdGhpcztcbiAgICAgICAgdGhpcy5TdCA9IEdlLnJlc29sdmUodGhpcy5jb250YWluZXIpO1xuICAgICAgICBpZiAodGhpcy5TdC5jcmVhdGVkICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgIHRoaXMuU3QuY3JlYXRlZC5mb3JFYWNoKGNhbGxDcmVhdGVkSG9vaywgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuRXQuRnQpIHtcbiAgICAgICAgICAgIHRoaXMuQXQuY3JlYXRlZCh0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBQdCgpIHtcbiAgICAgICAgdGhpcy5fdCA9IHRoaXMuci5jb21waWxlKHRoaXMudmlld0ZhY3RvcnkuZGVmLCB0aGlzLmNvbnRhaW5lcik7XG4gICAgICAgIHRoaXMuci5yZW5kZXIodGhpcywgKHRoaXMubm9kZXMgPSB0aGlzLnIuY3JlYXRlTm9kZXModGhpcy5fdCkpLmZpbmRUYXJnZXRzKCksIHRoaXMuX3QsIHZvaWQgMCk7XG4gICAgfVxuICAgIGFjdGl2YXRlKHQsIGUsIHMpIHtcbiAgICAgICAgc3dpdGNoICh0aGlzLnN0YXRlKSB7XG4gICAgICAgICAgY2FzZSBkaTpcbiAgICAgICAgICBjYXNlIHZpOlxuICAgICAgICAgICAgaWYgKCEoZSA9PT0gbnVsbCB8fCBlLmlzQWN0aXZlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBtaTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSBnaTpcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAgIGNhc2UgYmk6XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVNYXBwZWRFcnJvcig1MDIsIHRoaXMubmFtZSk7XG5cbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgY3JlYXRlTWFwcGVkRXJyb3IoNTAzLCB0aGlzLm5hbWUsIHN0cmluZ2lmeVN0YXRlKHRoaXMuc3RhdGUpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBhcmVudCA9IGU7XG4gICAgICAgIHN3aXRjaCAodGhpcy52bUtpbmQpIHtcbiAgICAgICAgICBjYXNlIGNpOlxuICAgICAgICAgICAgdGhpcy5zY29wZS5wYXJlbnQgPSBzID8/IG51bGw7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgdWk6XG4gICAgICAgICAgICB0aGlzLnNjb3BlID0gcyA/PyBudWxsO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIGZpOlxuICAgICAgICAgICAgaWYgKHMgPT09IHZvaWQgMCB8fCBzID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlTWFwcGVkRXJyb3IoNTA0LCB0aGlzLm5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLmhhc0xvY2tlZFNjb3BlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zY29wZSA9IHM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLiRpbml0aWF0b3IgPSB0O1xuICAgICAgICB0aGlzLlZ0KCk7XG4gICAgICAgIGxldCBpID0gdm9pZCAwO1xuICAgICAgICBpZiAodGhpcy52bUtpbmQgIT09IGZpICYmIHRoaXMuU3QuYmluZGluZyAhPSBudWxsKSB7XG4gICAgICAgICAgICBpID0gUCguLi50aGlzLlN0LmJpbmRpbmcubWFwKGNhbGxCaW5kaW5nSG9vaywgdGhpcykpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLkV0Lkh0KSB7XG4gICAgICAgICAgICBpID0gUChpLCB0aGlzLkF0LmJpbmRpbmcodGhpcy4kaW5pdGlhdG9yLCB0aGlzLnBhcmVudCkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChxKGkpKSB7XG4gICAgICAgICAgICB0aGlzLiR0KCk7XG4gICAgICAgICAgICBpLnRoZW4oKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLlJ0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gbWkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5OdCgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYmluZCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pKS5jYXRjaCgodCA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5qdCh0KTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLiRwcm9taXNlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuUnQgPSB0cnVlO1xuICAgICAgICB0aGlzLmJpbmQoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuJHByb21pc2U7XG4gICAgfVxuICAgIGJpbmQoKSB7XG4gICAgICAgIGxldCB0ID0gMDtcbiAgICAgICAgbGV0IGUgPSAwO1xuICAgICAgICBsZXQgcyA9IHZvaWQgMDtcbiAgICAgICAgaWYgKHRoaXMuYmluZGluZ3MgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHQgPSAwO1xuICAgICAgICAgICAgZSA9IHRoaXMuYmluZGluZ3MubGVuZ3RoO1xuICAgICAgICAgICAgd2hpbGUgKGUgPiB0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5iaW5kaW5nc1t0XS5iaW5kKHRoaXMuc2NvcGUpO1xuICAgICAgICAgICAgICAgICsrdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy52bUtpbmQgIT09IGZpICYmIHRoaXMuU3QuYm91bmQgIT0gbnVsbCkge1xuICAgICAgICAgICAgcyA9IFAoLi4udGhpcy5TdC5ib3VuZC5tYXAoY2FsbEJvdW5kSG9vaywgdGhpcykpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLkV0Lld0KSB7XG4gICAgICAgICAgICBzID0gUChzLCB0aGlzLkF0LmJvdW5kKHRoaXMuJGluaXRpYXRvciwgdGhpcy5wYXJlbnQpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocShzKSkge1xuICAgICAgICAgICAgdGhpcy4kdCgpO1xuICAgICAgICAgICAgcy50aGVuKCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5pc0JvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gbWkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5OdCgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuenQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSkuY2F0Y2goKHQgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuanQodCk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pc0JvdW5kID0gdHJ1ZTtcbiAgICAgICAgdGhpcy56dCgpO1xuICAgIH1cbiAgICBVdCguLi50KSB7XG4gICAgICAgIHN3aXRjaCAodGhpcy5tb3VudFRhcmdldCkge1xuICAgICAgICAgIGNhc2Ugc2k6XG4gICAgICAgICAgICB0aGlzLmhvc3QuYXBwZW5kKC4uLnQpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIGlpOlxuICAgICAgICAgICAgdGhpcy5zaGFkb3dSb290LmFwcGVuZCguLi50KTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSBuaTpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsZXQgZSA9IDA7XG4gICAgICAgICAgICAgICAgZm9yICg7ZSA8IHQubGVuZ3RoOyArK2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2NhdGlvbi5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0W2VdLCB0aGlzLmxvY2F0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgenQoKSB7XG4gICAgICAgIGlmICh0aGlzLmhvc3RDb250cm9sbGVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMubW91bnRUYXJnZXQpIHtcbiAgICAgICAgICAgICAgY2FzZSBzaTpcbiAgICAgICAgICAgICAgY2FzZSBpaTpcbiAgICAgICAgICAgICAgICB0aGlzLmhvc3RDb250cm9sbGVyLlV0KHRoaXMuaG9zdCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSBuaTpcbiAgICAgICAgICAgICAgICB0aGlzLmhvc3RDb250cm9sbGVyLlV0KHRoaXMubG9jYXRpb24uJHN0YXJ0LCB0aGlzLmxvY2F0aW9uKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKHRoaXMubW91bnRUYXJnZXQpIHtcbiAgICAgICAgICBjYXNlIHNpOlxuICAgICAgICAgICAgdGhpcy5ub2Rlcy5hcHBlbmRUbyh0aGlzLmhvc3QsIHRoaXMuZGVmaW5pdGlvbiAhPSBudWxsICYmIHRoaXMuZGVmaW5pdGlvbi5lbmhhbmNlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSBpaTpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0ID0gdGhpcy5jb250YWluZXI7XG4gICAgICAgICAgICAgICAgY29uc3QgZSA9IHQuaGFzKEdzLCBmYWxzZSkgPyB0LmdldChHcykgOiB0LmdldChLcyk7XG4gICAgICAgICAgICAgICAgZS5hcHBseVRvKHRoaXMuc2hhZG93Um9vdCk7XG4gICAgICAgICAgICAgICAgdGhpcy5ub2Rlcy5hcHBlbmRUbyh0aGlzLnNoYWRvd1Jvb3QpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgY2FzZSBuaTpcbiAgICAgICAgICAgIHRoaXMubm9kZXMuaW5zZXJ0QmVmb3JlKHRoaXMubG9jYXRpb24pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHQgPSAwO1xuICAgICAgICBsZXQgZSA9IHZvaWQgMDtcbiAgICAgICAgaWYgKHRoaXMudm1LaW5kICE9PSBmaSAmJiB0aGlzLlN0LmF0dGFjaGluZyAhPSBudWxsKSB7XG4gICAgICAgICAgICBlID0gUCguLi50aGlzLlN0LmF0dGFjaGluZy5tYXAoY2FsbEF0dGFjaGluZ0hvb2ssIHRoaXMpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5FdC5HdCkge1xuICAgICAgICAgICAgZSA9IFAoZSwgdGhpcy5BdC5hdHRhY2hpbmcodGhpcy4kaW5pdGlhdG9yLCB0aGlzLnBhcmVudCkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChxKGUpKSB7XG4gICAgICAgICAgICB0aGlzLiR0KCk7XG4gICAgICAgICAgICB0aGlzLlZ0KCk7XG4gICAgICAgICAgICBlLnRoZW4oKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLk50KCk7XG4gICAgICAgICAgICB9KSkuY2F0Y2goKHQgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuanQodCk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY2hpbGRyZW4gIT09IG51bGwpIHtcbiAgICAgICAgICAgIGZvciAoO3QgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgKyt0KSB7XG4gICAgICAgICAgICAgICAgdm9pZCB0aGlzLmNoaWxkcmVuW3RdLmFjdGl2YXRlKHRoaXMuJGluaXRpYXRvciwgdGhpcywgdGhpcy5zY29wZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5OdCgpO1xuICAgIH1cbiAgICBkZWFjdGl2YXRlKHQsIGUpIHtcbiAgICAgICAgbGV0IHMgPSB2b2lkIDA7XG4gICAgICAgIHN3aXRjaCAodGhpcy5zdGF0ZSAmIH54aSkge1xuICAgICAgICAgIGNhc2UgZ2k6XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gcGk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgbWk6XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gcGk7XG4gICAgICAgICAgICBzID0gdGhpcy4kcHJvbWlzZT8uY2F0Y2goZCk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgZGk6XG4gICAgICAgICAgY2FzZSB2aTpcbiAgICAgICAgICBjYXNlIGJpOlxuICAgICAgICAgIGNhc2UgdmkgfCBiaTpcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVNYXBwZWRFcnJvcig1MDUsIHRoaXMubmFtZSwgdGhpcy5zdGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4kaW5pdGlhdG9yID0gdDtcbiAgICAgICAgaWYgKHQgPT09IHRoaXMpIHtcbiAgICAgICAgICAgIHRoaXMuS3QoKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgIGxldCBuO1xuICAgICAgICBpZiAodGhpcy5jaGlsZHJlbiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICB2b2lkIHRoaXMuY2hpbGRyZW5baV0uZGVhY3RpdmF0ZSh0LCB0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gXyhzLCAoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNCb3VuZCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnZtS2luZCAhPT0gZmkgJiYgdGhpcy5TdC5kZXRhY2hpbmcgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBuID0gUCguLi50aGlzLlN0LmRldGFjaGluZy5tYXAoY2FsbERldGFjaGluZ0hvb2ssIHRoaXMpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuRXQuWHQpIHtcbiAgICAgICAgICAgICAgICAgICAgbiA9IFAobiwgdGhpcy5BdC5kZXRhY2hpbmcodGhpcy4kaW5pdGlhdG9yLCB0aGlzLnBhcmVudCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChxKG4pKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4kdCgpO1xuICAgICAgICAgICAgICAgIHQuS3QoKTtcbiAgICAgICAgICAgICAgICBuLnRoZW4oKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdC5RdCgpO1xuICAgICAgICAgICAgICAgIH0pKS5jYXRjaCgoZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHQuanQoZSk7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHQuaGVhZCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHQuaGVhZCA9IHRoaXM7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHQudGFpbC5uZXh0ID0gdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHQudGFpbCA9IHRoaXM7XG4gICAgICAgICAgICBpZiAodCAhPT0gdGhpcykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuUXQoKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLiRwcm9taXNlO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIHJlbW92ZU5vZGVzKCkge1xuICAgICAgICBzd2l0Y2ggKHRoaXMudm1LaW5kKSB7XG4gICAgICAgICAgY2FzZSBjaTpcbiAgICAgICAgICBjYXNlIGZpOlxuICAgICAgICAgICAgdGhpcy5ub2Rlcy5yZW1vdmUoKTtcbiAgICAgICAgICAgIHRoaXMubm9kZXMudW5saW5rKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaG9zdENvbnRyb2xsZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5tb3VudFRhcmdldCkge1xuICAgICAgICAgICAgICBjYXNlIHNpOlxuICAgICAgICAgICAgICBjYXNlIGlpOlxuICAgICAgICAgICAgICAgIHRoaXMuaG9zdC5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlIG5pOlxuICAgICAgICAgICAgICAgIHRoaXMubG9jYXRpb24uJHN0YXJ0LnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMubG9jYXRpb24ucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgdW5iaW5kKCkge1xuICAgICAgICBsZXQgdCA9IDA7XG4gICAgICAgIGlmICh0aGlzLmJpbmRpbmdzICE9PSBudWxsKSB7XG4gICAgICAgICAgICBmb3IgKDt0IDwgdGhpcy5iaW5kaW5ncy5sZW5ndGg7ICsrdCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYmluZGluZ3NbdF0udW5iaW5kKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgICAgICBzd2l0Y2ggKHRoaXMudm1LaW5kKSB7XG4gICAgICAgICAgY2FzZSB1aTpcbiAgICAgICAgICAgIHRoaXMuc2NvcGUgPSBudWxsO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIGZpOlxuICAgICAgICAgICAgaWYgKCF0aGlzLmhhc0xvY2tlZFNjb3BlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zY29wZSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRoaXMuc3RhdGUgJiB4aSkgPT09IHhpICYmICF0aGlzLnZpZXdGYWN0b3J5LnRyeVJldHVyblRvQ2FjaGUodGhpcykgJiYgdGhpcy4kaW5pdGlhdG9yID09PSB0aGlzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgY2k6XG4gICAgICAgICAgICB0aGlzLnNjb3BlLnBhcmVudCA9IG51bGw7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0YXRlID0gdmk7XG4gICAgICAgIHRoaXMuJGluaXRpYXRvciA9IG51bGw7XG4gICAgICAgIHRoaXMuWXQoKTtcbiAgICB9XG4gICAgJHQoKSB7XG4gICAgICAgIGlmICh0aGlzLiRwcm9taXNlID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIHRoaXMuJHByb21pc2UgPSBuZXcgUHJvbWlzZSgoKHQsIGUpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLiRyZXNvbHZlID0gdDtcbiAgICAgICAgICAgICAgICB0aGlzLiRyZWplY3QgPSBlO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgaWYgKHRoaXMuJGluaXRpYXRvciAhPT0gdGhpcykge1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LiR0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgWXQoKSB7XG4gICAgICAgIGlmICh0aGlzLiRwcm9taXNlICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgIENpID0gdGhpcy4kcmVzb2x2ZTtcbiAgICAgICAgICAgIHRoaXMuJHJlc29sdmUgPSB0aGlzLiRyZWplY3QgPSB0aGlzLiRwcm9taXNlID0gdm9pZCAwO1xuICAgICAgICAgICAgQ2koKTtcbiAgICAgICAgICAgIENpID0gdm9pZCAwO1xuICAgICAgICB9XG4gICAgfVxuICAgIGp0KHQpIHtcbiAgICAgICAgaWYgKHRoaXMuJHByb21pc2UgIT09IHZvaWQgMCkge1xuICAgICAgICAgICAgQmkgPSB0aGlzLiRyZWplY3Q7XG4gICAgICAgICAgICB0aGlzLiRyZXNvbHZlID0gdGhpcy4kcmVqZWN0ID0gdGhpcy4kcHJvbWlzZSA9IHZvaWQgMDtcbiAgICAgICAgICAgIEJpKHQpO1xuICAgICAgICAgICAgQmkgPSB2b2lkIDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuJGluaXRpYXRvciAhPT0gdGhpcykge1xuICAgICAgICAgICAgdGhpcy5wYXJlbnQuanQodCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgVnQoKSB7XG4gICAgICAgICsrdGhpcy5MdDtcbiAgICAgICAgaWYgKHRoaXMuJGluaXRpYXRvciAhPT0gdGhpcykge1xuICAgICAgICAgICAgdGhpcy5wYXJlbnQuVnQoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBOdCgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgIT09IG1pKSB7XG4gICAgICAgICAgICAtLXRoaXMuTHQ7XG4gICAgICAgICAgICB0aGlzLll0KCk7XG4gICAgICAgICAgICBpZiAodGhpcy4kaW5pdGlhdG9yICE9PSB0aGlzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQuTnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoLS10aGlzLkx0ID09PSAwKSB7XG4gICAgICAgICAgICBpZiAodGhpcy52bUtpbmQgIT09IGZpICYmIHRoaXMuU3QuYXR0YWNoZWQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIFNpID0gUCguLi50aGlzLlN0LmF0dGFjaGVkLm1hcChjYWxsQXR0YWNoZWRIb29rLCB0aGlzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5FdC5adCkge1xuICAgICAgICAgICAgICAgIFNpID0gUChTaSwgdGhpcy5BdC5hdHRhY2hlZCh0aGlzLiRpbml0aWF0b3IpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChxKFNpKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuJHQoKTtcbiAgICAgICAgICAgICAgICBTaS50aGVuKCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBnaTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ZdCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy4kaW5pdGlhdG9yICE9PSB0aGlzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC5OdCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSkpLmNhdGNoKCh0ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5qdCh0KTtcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgU2kgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgU2kgPSB2b2lkIDA7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gZ2k7XG4gICAgICAgICAgICB0aGlzLll0KCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuJGluaXRpYXRvciAhPT0gdGhpcykge1xuICAgICAgICAgICAgdGhpcy5wYXJlbnQuTnQoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBLdCgpIHtcbiAgICAgICAgKyt0aGlzLk10O1xuICAgIH1cbiAgICBRdCgpIHtcbiAgICAgICAgaWYgKC0tdGhpcy5NdCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5KdCgpO1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVOb2RlcygpO1xuICAgICAgICAgICAgbGV0IHQgPSB0aGlzLiRpbml0aWF0b3IuaGVhZDtcbiAgICAgICAgICAgIGxldCBlID0gdm9pZCAwO1xuICAgICAgICAgICAgd2hpbGUgKHQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAodCAhPT0gdGhpcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAodC5kZWJ1Zykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdC5sb2dnZXIudHJhY2UoYGRldGFjaCgpYCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdC5yZW1vdmVOb2RlcygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodC5SdCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodC52bUtpbmQgIT09IGZpICYmIHQuU3QudW5iaW5kaW5nICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUgPSBQKC4uLnQuU3QudW5iaW5kaW5nLm1hcChjYWxsVW5iaW5kaW5nSG9vaywgdCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0LkV0LnRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodC5kZWJ1Zykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQubG9nZ2VyLnRyYWNlKFwidW5iaW5kaW5nKClcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlID0gUChlLCB0LnZpZXdNb2RlbC51bmJpbmRpbmcodC4kaW5pdGlhdG9yLCB0LnBhcmVudCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChxKGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJHQoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5KdCgpO1xuICAgICAgICAgICAgICAgICAgICBlLnRoZW4oKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZWUoKTtcbiAgICAgICAgICAgICAgICAgICAgfSkpLmNhdGNoKCh0ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuanQodCk7XG4gICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZSA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICB0ID0gdC5uZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5lZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIEp0KCkge1xuICAgICAgICArK3RoaXMuRHQ7XG4gICAgfVxuICAgIGVlKCkge1xuICAgICAgICBpZiAoLS10aGlzLkR0ID09PSAwKSB7XG4gICAgICAgICAgICBsZXQgdCA9IHRoaXMuJGluaXRpYXRvci5oZWFkO1xuICAgICAgICAgICAgbGV0IGUgPSBudWxsO1xuICAgICAgICAgICAgd2hpbGUgKHQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAodCAhPT0gdGhpcykge1xuICAgICAgICAgICAgICAgICAgICB0LlJ0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHQuaXNCb3VuZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB0LnVuYmluZCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlID0gdC5uZXh0O1xuICAgICAgICAgICAgICAgIHQubmV4dCA9IG51bGw7XG4gICAgICAgICAgICAgICAgdCA9IGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmhlYWQgPSB0aGlzLnRhaWwgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5SdCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5pc0JvdW5kID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnVuYmluZCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFkZEJpbmRpbmcodCkge1xuICAgICAgICBpZiAodGhpcy5iaW5kaW5ncyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5iaW5kaW5ncyA9IFsgdCBdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5iaW5kaW5nc1t0aGlzLmJpbmRpbmdzLmxlbmd0aF0gPSB0O1xuICAgICAgICB9XG4gICAgfVxuICAgIGFkZENoaWxkKHQpIHtcbiAgICAgICAgaWYgKHRoaXMuY2hpbGRyZW4gPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4gPSBbIHQgXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW5bdGhpcy5jaGlsZHJlbi5sZW5ndGhdID0gdDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpcyh0KSB7XG4gICAgICAgIHN3aXRjaCAodGhpcy52bUtpbmQpIHtcbiAgICAgICAgICBjYXNlIHVpOlxuICAgICAgICAgIGNhc2UgY2k6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVmaW5pdGlvbi5uYW1lID09PSB0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgY2FzZSBmaTpcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZpZXdGYWN0b3J5Lm5hbWUgPT09IHQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbG9ja1Njb3BlKHQpIHtcbiAgICAgICAgdGhpcy5zY29wZSA9IHQ7XG4gICAgICAgIHRoaXMuaGFzTG9ja2VkU2NvcGUgPSB0cnVlO1xuICAgIH1cbiAgICBzZXRIb3N0KHQpIHtcbiAgICAgICAgaWYgKHRoaXMudm1LaW5kID09PSBjaSkge1xuICAgICAgICAgICAgc2V0UmVmKHQsIE9pLCB0aGlzKTtcbiAgICAgICAgICAgIHNldFJlZih0LCB0aGlzLmRlZmluaXRpb24ua2V5LCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmhvc3QgPSB0O1xuICAgICAgICB0aGlzLm1vdW50VGFyZ2V0ID0gc2k7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBzZXRTaGFkb3dSb290KHQpIHtcbiAgICAgICAgaWYgKHRoaXMudm1LaW5kID09PSBjaSkge1xuICAgICAgICAgICAgc2V0UmVmKHQsIE9pLCB0aGlzKTtcbiAgICAgICAgICAgIHNldFJlZih0LCB0aGlzLmRlZmluaXRpb24ua2V5LCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNoYWRvd1Jvb3QgPSB0O1xuICAgICAgICB0aGlzLm1vdW50VGFyZ2V0ID0gaWk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBzZXRMb2NhdGlvbih0KSB7XG4gICAgICAgIGlmICh0aGlzLnZtS2luZCA9PT0gY2kpIHtcbiAgICAgICAgICAgIHNldFJlZih0LCBPaSwgdGhpcyk7XG4gICAgICAgICAgICBzZXRSZWYodCwgdGhpcy5kZWZpbml0aW9uLmtleSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sb2NhdGlvbiA9IHQ7XG4gICAgICAgIHRoaXMubW91bnRUYXJnZXQgPSBuaTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJlbGVhc2UoKSB7XG4gICAgICAgIHRoaXMuc3RhdGUgfD0geGk7XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIGlmICgodGhpcy5zdGF0ZSAmIGJpKSA9PT0gYmkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0YXRlIHw9IGJpO1xuICAgICAgICBpZiAodGhpcy5FdC5zZSkge1xuICAgICAgICAgICAgdGhpcy5BdC5kaXNwb3NlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY2hpbGRyZW4gIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4uZm9yRWFjaChjYWxsRGlzcG9zZSk7XG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmhvc3RDb250cm9sbGVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5zY29wZSA9IG51bGw7XG4gICAgICAgIHRoaXMubm9kZXMgPSBudWxsO1xuICAgICAgICB0aGlzLmxvY2F0aW9uID0gbnVsbDtcbiAgICAgICAgdGhpcy52aWV3RmFjdG9yeSA9IG51bGw7XG4gICAgICAgIGlmICh0aGlzLkF0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aS5kZWxldGUodGhpcy5BdCk7XG4gICAgICAgICAgICB0aGlzLkF0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLkF0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5ob3N0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5zaGFkb3dSb290ID0gbnVsbDtcbiAgICAgICAgdGhpcy5jb250YWluZXIuZGlzcG9zZVJlc29sdmVycygpO1xuICAgIH1cbiAgICBhY2NlcHQodCkge1xuICAgICAgICBpZiAodCh0aGlzKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuRXQuaWUgJiYgdGhpcy5BdC5hY2NlcHQodCkgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNoaWxkcmVuICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCB7Y2hpbGRyZW46IGV9ID0gdGhpcztcbiAgICAgICAgICAgIGZvciAobGV0IHMgPSAwLCBpID0gZS5sZW5ndGg7IHMgPCBpOyArK3MpIHtcbiAgICAgICAgICAgICAgICBpZiAoZVtzXS5hY2NlcHQodCkgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5jb25zdCB0aSA9IG5ldyBXZWFrTWFwO1xuXG5jb25zdCBlaSA9IDA7XG5cbmNvbnN0IHNpID0gMTtcblxuY29uc3QgaWkgPSAyO1xuXG5jb25zdCBuaSA9IDM7XG5cbmNvbnN0IHJpID0gVXQoe1xuICAgIG5vbmU6IGVpLFxuICAgIGhvc3Q6IHNpLFxuICAgIHNoYWRvd1Jvb3Q6IGlpLFxuICAgIGxvY2F0aW9uOiBuaVxufSk7XG5cbmNvbnN0IG9pID0ge1xuICAgIG9wdGlvbmFsOiB0cnVlXG59O1xuXG5jb25zdCBsaSA9IEQoZXQpO1xuXG5mdW5jdGlvbiBjcmVhdGVPYnNlcnZlcnModCwgZSwgcykge1xuICAgIGNvbnN0IGkgPSBlLmJpbmRhYmxlcztcbiAgICBjb25zdCBuID0gS3QoaSk7XG4gICAgY29uc3QgciA9IG4ubGVuZ3RoO1xuICAgIGNvbnN0IGwgPSB0LmNvbnRhaW5lci5nZXQoWik7XG4gICAgaWYgKHIgPiAwKSB7XG4gICAgICAgIGZvciAobGV0IGUgPSAwOyBlIDwgcjsgKytlKSB7XG4gICAgICAgICAgICBjb25zdCByID0gbltlXTtcbiAgICAgICAgICAgIGNvbnN0IGEgPSBpW3JdO1xuICAgICAgICAgICAgY29uc3QgaCA9IGEuY2FsbGJhY2s7XG4gICAgICAgICAgICBjb25zdCBjID0gbC5nZXRPYnNlcnZlcihzLCByKTtcbiAgICAgICAgICAgIGlmIChhLnNldCAhPT0gZCkge1xuICAgICAgICAgICAgICAgIGlmIChjLnVzZUNvZXJjZXI/LihhLnNldCwgdC5jb2VyY2lvbikgIT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlTWFwcGVkRXJyb3IoNTA3LCByKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc1toXSAhPSBudWxsIHx8IHMucHJvcGVydHlDaGFuZ2VkICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjYWxsYmFjayA9IChlLCBpKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0LmlzQm91bmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNbaF0/LihlLCBpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHMucHJvcGVydHlDaGFuZ2VkPy4ociwgZSwgaSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGlmIChjLnVzZUNhbGxiYWNrPy4oY2FsbGJhY2spICE9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZU1hcHBlZEVycm9yKDUwOCwgcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5jb25zdCBhaSA9IG5ldyBNYXA7XG5cbmNvbnN0IGdldEFjY2Vzc1Njb3BlQXN0ID0gdCA9PiB7XG4gICAgbGV0IHMgPSBhaS5nZXQodCk7XG4gICAgaWYgKHMgPT0gbnVsbCkge1xuICAgICAgICBzID0gbmV3IGUodCwgMCk7XG4gICAgICAgIGFpLnNldCh0LCBzKTtcbiAgICB9XG4gICAgcmV0dXJuIHM7XG59O1xuXG5mdW5jdGlvbiBjcmVhdGVXYXRjaGVycyh0LCBlLCBuLCByKSB7XG4gICAgY29uc3QgYSA9IGUuZ2V0KFopO1xuICAgIGNvbnN0IGggPSBlLmdldChzKTtcbiAgICBjb25zdCBjID0gbi53YXRjaGVzO1xuICAgIGNvbnN0IHUgPSB0LnZtS2luZCA9PT0gY2kgPyB0LnNjb3BlIDogU2NvcGUuY3JlYXRlKHIsIG51bGwsIHRydWUpO1xuICAgIGNvbnN0IGYgPSBjLmxlbmd0aDtcbiAgICBsZXQgZDtcbiAgICBsZXQgbTtcbiAgICBsZXQgZztcbiAgICBsZXQgcCA9IDA7XG4gICAgZm9yICg7ZiA+IHA7ICsrcCkge1xuICAgICAgICAoe2V4cHJlc3Npb246IGQsIGNhbGxiYWNrOiBtfSA9IGNbcF0pO1xuICAgICAgICBtID0gbChtKSA/IG0gOiBSZWZsZWN0LmdldChyLCBtKTtcbiAgICAgICAgaWYgKCFsKG0pKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVNYXBwZWRFcnJvcig1MDYsIG0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsKGQpKSB7XG4gICAgICAgICAgICB0LmFkZEJpbmRpbmcobmV3IENvbXB1dGVkV2F0Y2hlcihyLCBhLCBkLCBtLCB0cnVlKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBnID0gaShkKSA/IGgucGFyc2UoZCwgZWUpIDogZ2V0QWNjZXNzU2NvcGVBc3QoZCk7XG4gICAgICAgICAgICB0LmFkZEJpbmRpbmcobmV3IEV4cHJlc3Npb25XYXRjaGVyKHUsIGUsIGEsIGcsIG0pKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gaXNDdXN0b21FbGVtZW50Q29udHJvbGxlcih0KSB7XG4gICAgcmV0dXJuIHQgaW5zdGFuY2VvZiBDb250cm9sbGVyICYmIHQudm1LaW5kID09PSBjaTtcbn1cblxuZnVuY3Rpb24gaXNDdXN0b21FbGVtZW50Vmlld01vZGVsKHQpIHtcbiAgICByZXR1cm4gVnQodCkgJiYgaXNFbGVtZW50VHlwZSh0LmNvbnN0cnVjdG9yKTtcbn1cblxuY2xhc3MgSG9va3NEZWZpbml0aW9uIHtcbiAgICBjb25zdHJ1Y3Rvcih0KSB7XG4gICAgICAgIHRoaXMubmUgPSBcImRlZmluZVwiIGluIHQ7XG4gICAgICAgIHRoaXMucXQgPSBcImh5ZHJhdGluZ1wiIGluIHQ7XG4gICAgICAgIHRoaXMuT3QgPSBcImh5ZHJhdGVkXCIgaW4gdDtcbiAgICAgICAgdGhpcy5GdCA9IFwiY3JlYXRlZFwiIGluIHQ7XG4gICAgICAgIHRoaXMuSHQgPSBcImJpbmRpbmdcIiBpbiB0O1xuICAgICAgICB0aGlzLld0ID0gXCJib3VuZFwiIGluIHQ7XG4gICAgICAgIHRoaXMuR3QgPSBcImF0dGFjaGluZ1wiIGluIHQ7XG4gICAgICAgIHRoaXMuWnQgPSBcImF0dGFjaGVkXCIgaW4gdDtcbiAgICAgICAgdGhpcy5YdCA9IFwiZGV0YWNoaW5nXCIgaW4gdDtcbiAgICAgICAgdGhpcy50ZSA9IFwidW5iaW5kaW5nXCIgaW4gdDtcbiAgICAgICAgdGhpcy5zZSA9IFwiZGlzcG9zZVwiIGluIHQ7XG4gICAgICAgIHRoaXMuaWUgPSBcImFjY2VwdFwiIGluIHQ7XG4gICAgfVxufVxuXG5Ib29rc0RlZmluaXRpb24ubm9uZSA9IG5ldyBIb29rc0RlZmluaXRpb24oe30pO1xuXG5jb25zdCBoaSA9IHtcbiAgICBtb2RlOiBcIm9wZW5cIlxufTtcblxuY29uc3QgY2kgPSBcImN1c3RvbUVsZW1lbnRcIjtcblxuY29uc3QgdWkgPSBcImN1c3RvbUF0dHJpYnV0ZVwiO1xuXG5jb25zdCBmaSA9IFwic3ludGhldGljXCI7XG5cbmNvbnN0IGRpID0gMDtcblxuY29uc3QgbWkgPSAxO1xuXG5jb25zdCBnaSA9IDI7XG5cbmNvbnN0IHBpID0gNDtcblxuY29uc3QgdmkgPSA4O1xuXG5jb25zdCB4aSA9IDE2O1xuXG5jb25zdCBiaSA9IDMyO1xuXG5jb25zdCB3aSA9IC8qQF9fUFVSRV9fKi8gVXQoe1xuICAgIG5vbmU6IGRpLFxuICAgIGFjdGl2YXRpbmc6IG1pLFxuICAgIGFjdGl2YXRlZDogZ2ksXG4gICAgZGVhY3RpdmF0aW5nOiBwaSxcbiAgICBkZWFjdGl2YXRlZDogdmksXG4gICAgcmVsZWFzZWQ6IHhpLFxuICAgIGRpc3Bvc2VkOiBiaVxufSk7XG5cbmZ1bmN0aW9uIHN0cmluZ2lmeVN0YXRlKHQpIHtcbiAgICBjb25zdCBlID0gW107XG4gICAgaWYgKCh0ICYgbWkpID09PSBtaSkge1xuICAgICAgICBlLnB1c2goXCJhY3RpdmF0aW5nXCIpO1xuICAgIH1cbiAgICBpZiAoKHQgJiBnaSkgPT09IGdpKSB7XG4gICAgICAgIGUucHVzaChcImFjdGl2YXRlZFwiKTtcbiAgICB9XG4gICAgaWYgKCh0ICYgcGkpID09PSBwaSkge1xuICAgICAgICBlLnB1c2goXCJkZWFjdGl2YXRpbmdcIik7XG4gICAgfVxuICAgIGlmICgodCAmIHZpKSA9PT0gdmkpIHtcbiAgICAgICAgZS5wdXNoKFwiZGVhY3RpdmF0ZWRcIik7XG4gICAgfVxuICAgIGlmICgodCAmIHhpKSA9PT0geGkpIHtcbiAgICAgICAgZS5wdXNoKFwicmVsZWFzZWRcIik7XG4gICAgfVxuICAgIGlmICgodCAmIGJpKSA9PT0gYmkpIHtcbiAgICAgICAgZS5wdXNoKFwiZGlzcG9zZWRcIik7XG4gICAgfVxuICAgIHJldHVybiBlLmxlbmd0aCA9PT0gMCA/IFwibm9uZVwiIDogZS5qb2luKFwifFwiKTtcbn1cblxuY29uc3QgeWkgPSAvKkBfX1BVUkVfXyovIEJlKFwiSUNvbnRyb2xsZXJcIik7XG5cbmNvbnN0IGtpID0gLypAX19QVVJFX18qLyBCZShcIklIeWRyYXRpb25Db250ZXh0XCIpO1xuXG5jbGFzcyBIeWRyYXRpb25Db250ZXh0IHtcbiAgICBjb25zdHJ1Y3Rvcih0LCBlLCBzKSB7XG4gICAgICAgIHRoaXMuaW5zdHJ1Y3Rpb24gPSBlO1xuICAgICAgICB0aGlzLnBhcmVudCA9IHM7XG4gICAgICAgIHRoaXMuY29udHJvbGxlciA9IHQ7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBjYWxsRGlzcG9zZSh0KSB7XG4gICAgdC5kaXNwb3NlKCk7XG59XG5cbmZ1bmN0aW9uIGNhbGxDcmVhdGVkSG9vayh0KSB7XG4gICAgdC5pbnN0YW5jZS5jcmVhdGVkKHRoaXMuQXQsIHRoaXMpO1xufVxuXG5mdW5jdGlvbiBjYWxsSHlkcmF0aW5nSG9vayh0KSB7XG4gICAgdC5pbnN0YW5jZS5oeWRyYXRpbmcodGhpcy5BdCwgdGhpcyk7XG59XG5cbmZ1bmN0aW9uIGNhbGxIeWRyYXRlZEhvb2sodCkge1xuICAgIHQuaW5zdGFuY2UuaHlkcmF0ZWQodGhpcy5BdCwgdGhpcyk7XG59XG5cbmZ1bmN0aW9uIGNhbGxCaW5kaW5nSG9vayh0KSB7XG4gICAgcmV0dXJuIHQuaW5zdGFuY2UuYmluZGluZyh0aGlzLkF0LCB0aGlzW1wiJGluaXRpYXRvclwiXSwgdGhpcy5wYXJlbnQpO1xufVxuXG5mdW5jdGlvbiBjYWxsQm91bmRIb29rKHQpIHtcbiAgICByZXR1cm4gdC5pbnN0YW5jZS5ib3VuZCh0aGlzLkF0LCB0aGlzW1wiJGluaXRpYXRvclwiXSwgdGhpcy5wYXJlbnQpO1xufVxuXG5mdW5jdGlvbiBjYWxsQXR0YWNoaW5nSG9vayh0KSB7XG4gICAgcmV0dXJuIHQuaW5zdGFuY2UuYXR0YWNoaW5nKHRoaXMuQXQsIHRoaXNbXCIkaW5pdGlhdG9yXCJdLCB0aGlzLnBhcmVudCk7XG59XG5cbmZ1bmN0aW9uIGNhbGxBdHRhY2hlZEhvb2sodCkge1xuICAgIHJldHVybiB0Lmluc3RhbmNlLmF0dGFjaGVkKHRoaXMuQXQsIHRoaXNbXCIkaW5pdGlhdG9yXCJdKTtcbn1cblxuZnVuY3Rpb24gY2FsbERldGFjaGluZ0hvb2sodCkge1xuICAgIHJldHVybiB0Lmluc3RhbmNlLmRldGFjaGluZyh0aGlzLkF0LCB0aGlzW1wiJGluaXRpYXRvclwiXSwgdGhpcy5wYXJlbnQpO1xufVxuXG5mdW5jdGlvbiBjYWxsVW5iaW5kaW5nSG9vayh0KSB7XG4gICAgcmV0dXJuIHQuaW5zdGFuY2UudW5iaW5kaW5nKHRoaXMuQXQsIHRoaXNbXCIkaW5pdGlhdG9yXCJdLCB0aGlzLnBhcmVudCk7XG59XG5cbmxldCBDaTtcblxubGV0IEJpO1xuXG5sZXQgU2k7XG5cbmNsYXNzIFJlZnMge31cblxuZnVuY3Rpb24gZ2V0UmVmKHQsIGUpIHtcbiAgICByZXR1cm4gdC4kYXU/LltlXSA/PyBudWxsO1xufVxuXG5mdW5jdGlvbiBzZXRSZWYodCwgZSwgcykge1xuICAgICh0LiRhdSA/Pz0gbmV3IFJlZnMpW2VdID0gcztcbn1cblxuY29uc3QgQWkgPSAvKkBfX1BVUkVfXyovIEJlKFwiSU5vZGVcIik7XG5cbmNvbnN0IEVpID0gLypAX19QVVJFX18qLyBCZShcIklFdmVudFRhcmdldFwiLCAodCA9PiB0LmNhY2hlZENhbGxiYWNrKCh0ID0+IHtcbiAgICBpZiAodC5oYXMoTmksIHRydWUpKSB7XG4gICAgICAgIHJldHVybiB0LmdldChOaSkuaG9zdDtcbiAgICB9XG4gICAgcmV0dXJuIHQuZ2V0KCRlKS5kb2N1bWVudDtcbn0pKSkpO1xuXG5jb25zdCBSaSA9IC8qQF9fUFVSRV9fKi8gQmUoXCJJUmVuZGVyTG9jYXRpb25cIik7XG5cbmNvbnN0IFRpID0gLypAX19QVVJFX18qLyBCZShcIklDc3NDbGFzc01hcHBpbmdcIik7XG5cbmNvbnN0IExpID0gbmV3IFdlYWtNYXA7XG5cbmZ1bmN0aW9uIGdldEVmZmVjdGl2ZVBhcmVudE5vZGUodCkge1xuICAgIGlmIChMaS5oYXModCkpIHtcbiAgICAgICAgcmV0dXJuIExpLmdldCh0KTtcbiAgICB9XG4gICAgbGV0IGUgPSAwO1xuICAgIGxldCBzID0gdC5uZXh0U2libGluZztcbiAgICB3aGlsZSAocyAhPT0gbnVsbCkge1xuICAgICAgICBpZiAocy5ub2RlVHlwZSA9PT0gOCkge1xuICAgICAgICAgICAgc3dpdGNoIChzLnRleHRDb250ZW50KSB7XG4gICAgICAgICAgICAgIGNhc2UgXCJhdS1zdGFydFwiOlxuICAgICAgICAgICAgICAgICsrZTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlIFwiYXUtZW5kXCI6XG4gICAgICAgICAgICAgICAgaWYgKGUtLSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcyA9IHMubmV4dFNpYmxpbmc7XG4gICAgfVxuICAgIGlmICh0LnBhcmVudE5vZGUgPT09IG51bGwgJiYgdC5ub2RlVHlwZSA9PT0gMTEpIHtcbiAgICAgICAgY29uc3QgZSA9IGZpbmRFbGVtZW50Q29udHJvbGxlckZvcih0LCB7XG4gICAgICAgICAgICBvcHRpb25hbDogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGUgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGUubW91bnRUYXJnZXQgPT09IHJpLnNoYWRvd1Jvb3QpIHtcbiAgICAgICAgICAgIHJldHVybiBnZXRFZmZlY3RpdmVQYXJlbnROb2RlKGUuaG9zdCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHQucGFyZW50Tm9kZTtcbn1cblxuZnVuY3Rpb24gc2V0RWZmZWN0aXZlUGFyZW50Tm9kZSh0LCBlKSB7XG4gICAgaWYgKHQucGxhdGZvcm0gIT09IHZvaWQgMCAmJiAhKHQgaW5zdGFuY2VvZiB0LnBsYXRmb3JtLk5vZGUpKSB7XG4gICAgICAgIGNvbnN0IHMgPSB0LmNoaWxkTm9kZXM7XG4gICAgICAgIGZvciAobGV0IHQgPSAwLCBpID0gcy5sZW5ndGg7IHQgPCBpOyArK3QpIHtcbiAgICAgICAgICAgIExpLnNldChzW3RdLCBlKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIExpLnNldCh0LCBlKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRUb1JlbmRlckxvY2F0aW9uKHQpIHtcbiAgICBpZiAoaXNSZW5kZXJMb2NhdGlvbih0KSkge1xuICAgICAgICByZXR1cm4gdDtcbiAgICB9XG4gICAgY29uc3QgZSA9IHQub3duZXJEb2N1bWVudC5jcmVhdGVDb21tZW50KFwiYXUtZW5kXCIpO1xuICAgIGNvbnN0IHMgPSBlLiRzdGFydCA9IHQub3duZXJEb2N1bWVudC5jcmVhdGVDb21tZW50KFwiYXUtc3RhcnRcIik7XG4gICAgY29uc3QgaSA9IHQucGFyZW50Tm9kZTtcbiAgICBpZiAoaSAhPT0gbnVsbCkge1xuICAgICAgICBpLnJlcGxhY2VDaGlsZChlLCB0KTtcbiAgICAgICAgaS5pbnNlcnRCZWZvcmUocywgZSk7XG4gICAgfVxuICAgIHJldHVybiBlO1xufVxuXG5mdW5jdGlvbiBpc1JlbmRlckxvY2F0aW9uKHQpIHtcbiAgICByZXR1cm4gdC50ZXh0Q29udGVudCA9PT0gXCJhdS1lbmRcIjtcbn1cblxuY2xhc3MgRnJhZ21lbnROb2RlU2VxdWVuY2Uge1xuICAgIGdldCBmaXJzdENoaWxkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZTtcbiAgICB9XG4gICAgZ2V0IGxhc3RDaGlsZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub2U7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKHQsIGUpIHtcbiAgICAgICAgdGhpcy5wbGF0Zm9ybSA9IHQ7XG4gICAgICAgIHRoaXMubmV4dCA9IHZvaWQgMDtcbiAgICAgICAgdGhpcy5sZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmFlID0gZmFsc2U7XG4gICAgICAgIHRoaXMucmVmID0gbnVsbDtcbiAgICAgICAgY29uc3QgcyA9ICh0aGlzLmYgPSBlKS5xdWVyeVNlbGVjdG9yQWxsKFwiYXUtbVwiKTtcbiAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICBsZXQgbiA9IHMubGVuZ3RoO1xuICAgICAgICBsZXQgciA9IHRoaXMudCA9IEFycmF5KG4pO1xuICAgICAgICBsZXQgbDtcbiAgICAgICAgbGV0IGE7XG4gICAgICAgIHdoaWxlIChuID4gaSkge1xuICAgICAgICAgICAgYSA9IHNbaV07XG4gICAgICAgICAgICBsID0gYS5uZXh0U2libGluZztcbiAgICAgICAgICAgIGEucmVtb3ZlKCk7XG4gICAgICAgICAgICBpZiAobC5ub2RlVHlwZSA9PT0gOCkge1xuICAgICAgICAgICAgICAgIGEgPSBsO1xuICAgICAgICAgICAgICAgIChsID0gbC5uZXh0U2libGluZykuJHN0YXJ0ID0gYTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJbaV0gPSBsO1xuICAgICAgICAgICAgKytpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGggPSBlLmNoaWxkTm9kZXM7XG4gICAgICAgIGNvbnN0IGMgPSB0aGlzLmNoaWxkTm9kZXMgPSBBcnJheShuID0gaC5sZW5ndGgpO1xuICAgICAgICBpID0gMDtcbiAgICAgICAgd2hpbGUgKG4gPiBpKSB7XG4gICAgICAgICAgICBjW2ldID0gaFtpXTtcbiAgICAgICAgICAgICsraTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlID0gZS5maXJzdENoaWxkO1xuICAgICAgICB0aGlzLm9lID0gZS5sYXN0Q2hpbGQ7XG4gICAgfVxuICAgIGZpbmRUYXJnZXRzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50O1xuICAgIH1cbiAgICBpbnNlcnRCZWZvcmUodCkge1xuICAgICAgICBpZiAodGhpcy5hZSAmJiAhIXRoaXMucmVmKSB7XG4gICAgICAgICAgICB0aGlzLmFkZFRvTGlua2VkKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBlID0gdC5wYXJlbnROb2RlO1xuICAgICAgICAgICAgaWYgKHRoaXMubGUpIHtcbiAgICAgICAgICAgICAgICBsZXQgcyA9IHRoaXMucmU7XG4gICAgICAgICAgICAgICAgbGV0IGk7XG4gICAgICAgICAgICAgICAgY29uc3QgbiA9IHRoaXMub2U7XG4gICAgICAgICAgICAgICAgd2hpbGUgKHMgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBpID0gcy5uZXh0U2libGluZztcbiAgICAgICAgICAgICAgICAgICAgZS5pbnNlcnRCZWZvcmUocywgdCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzID09PSBuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzID0gaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMubGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpcy5mLCB0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBhcHBlbmRUbyh0LCBlID0gZmFsc2UpIHtcbiAgICAgICAgaWYgKHRoaXMubGUpIHtcbiAgICAgICAgICAgIGxldCBlID0gdGhpcy5yZTtcbiAgICAgICAgICAgIGxldCBzO1xuICAgICAgICAgICAgY29uc3QgaSA9IHRoaXMub2U7XG4gICAgICAgICAgICB3aGlsZSAoZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcyA9IGUubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICAgICAgdC5hcHBlbmRDaGlsZChlKTtcbiAgICAgICAgICAgICAgICBpZiAoZSA9PT0gaSkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZSA9IHM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmxlID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmICghZSkge1xuICAgICAgICAgICAgICAgIHQuYXBwZW5kQ2hpbGQodGhpcy5mKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZW1vdmUoKSB7XG4gICAgICAgIGlmICh0aGlzLmxlKSB7XG4gICAgICAgICAgICB0aGlzLmxlID0gZmFsc2U7XG4gICAgICAgICAgICBjb25zdCB0ID0gdGhpcy5mO1xuICAgICAgICAgICAgY29uc3QgZSA9IHRoaXMub2U7XG4gICAgICAgICAgICBsZXQgcztcbiAgICAgICAgICAgIGxldCBpID0gdGhpcy5yZTtcbiAgICAgICAgICAgIHdoaWxlIChpICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcyA9IGkubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICAgICAgdC5hcHBlbmRDaGlsZChpKTtcbiAgICAgICAgICAgICAgICBpZiAoaSA9PT0gZSkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaSA9IHM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgYWRkVG9MaW5rZWQoKSB7XG4gICAgICAgIGNvbnN0IHQgPSB0aGlzLnJlZjtcbiAgICAgICAgY29uc3QgZSA9IHQucGFyZW50Tm9kZTtcbiAgICAgICAgaWYgKHRoaXMubGUpIHtcbiAgICAgICAgICAgIGxldCBzID0gdGhpcy5yZTtcbiAgICAgICAgICAgIGxldCBpO1xuICAgICAgICAgICAgY29uc3QgbiA9IHRoaXMub2U7XG4gICAgICAgICAgICB3aGlsZSAocyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaSA9IHMubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICAgICAgZS5pbnNlcnRCZWZvcmUocywgdCk7XG4gICAgICAgICAgICAgICAgaWYgKHMgPT09IG4pIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHMgPSBpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5sZSA9IHRydWU7XG4gICAgICAgICAgICBlLmluc2VydEJlZm9yZSh0aGlzLmYsIHQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHVubGluaygpIHtcbiAgICAgICAgdGhpcy5hZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLm5leHQgPSB2b2lkIDA7XG4gICAgICAgIHRoaXMucmVmID0gdm9pZCAwO1xuICAgIH1cbiAgICBsaW5rKHQpIHtcbiAgICAgICAgdGhpcy5hZSA9IHRydWU7XG4gICAgICAgIGlmIChpc1JlbmRlckxvY2F0aW9uKHQpKSB7XG4gICAgICAgICAgICB0aGlzLnJlZiA9IHQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm5leHQgPSB0O1xuICAgICAgICAgICAgdGhpcy5oZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGhlKCkge1xuICAgICAgICBpZiAodGhpcy5uZXh0ICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgIHRoaXMucmVmID0gdGhpcy5uZXh0LmZpcnN0Q2hpbGQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJlZiA9IHZvaWQgMDtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuY29uc3QgTWkgPSAvKkBfX1BVUkVfXyovIEJlKFwiSVdpbmRvd1wiLCAodCA9PiB0LmNhbGxiYWNrKCh0ID0+IHQuZ2V0KCRlKS53aW5kb3cpKSkpO1xuXG5jb25zdCBEaSA9IC8qQF9fUFVSRV9fKi8gQmUoXCJJTG9jYXRpb25cIiwgKHQgPT4gdC5jYWxsYmFjaygodCA9PiB0LmdldChNaSkubG9jYXRpb24pKSkpO1xuXG5jb25zdCBJaSA9IC8qQF9fUFVSRV9fKi8gQmUoXCJJSGlzdG9yeVwiLCAodCA9PiB0LmNhbGxiYWNrKCh0ID0+IHQuZ2V0KE1pKS5oaXN0b3J5KSkpKTtcblxuY29uc3QgcmVnaXN0ZXJIb3N0Tm9kZSA9ICh0LCBlLCBzID0gdC5nZXQoJGUpKSA9PiB7XG4gICAgcmVnaXN0ZXJSZXNvbHZlcih0LCBzLkhUTUxFbGVtZW50LCByZWdpc3RlclJlc29sdmVyKHQsIHMuRWxlbWVudCwgcmVnaXN0ZXJSZXNvbHZlcih0LCBBaSwgbmV3IFIoXCJFbGVtZW50UmVzb2x2ZXJcIiwgZSkpKSk7XG4gICAgcmV0dXJuIHQ7XG59O1xuXG5mdW5jdGlvbiBjdXN0b21FbGVtZW50KHQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oZSwgcykge1xuICAgICAgICBzLmFkZEluaXRpYWxpemVyKChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGRlZmluZUVsZW1lbnQodCwgdGhpcyk7XG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuIGU7XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gdXNlU2hhZG93RE9NKHQsIGUpIHtcbiAgICBpZiAodCA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbih0LCBlKSB7XG4gICAgICAgICAgICBlLmFkZEluaXRpYWxpemVyKChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBhbm5vdGF0ZUVsZW1lbnRNZXRhZGF0YSh0aGlzLCBcInNoYWRvd09wdGlvbnNcIiwge1xuICAgICAgICAgICAgICAgICAgICBtb2RlOiBcIm9wZW5cIlxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAoIWwodCkpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGUsIHMpIHtcbiAgICAgICAgICAgIHMuYWRkSW5pdGlhbGl6ZXIoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGFubm90YXRlRWxlbWVudE1ldGFkYXRhKHRoaXMsIFwic2hhZG93T3B0aW9uc1wiLCB0KTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZS5hZGRJbml0aWFsaXplcigoZnVuY3Rpb24oKSB7XG4gICAgICAgIGFubm90YXRlRWxlbWVudE1ldGFkYXRhKHRoaXMsIFwic2hhZG93T3B0aW9uc1wiLCB7XG4gICAgICAgICAgICBtb2RlOiBcIm9wZW5cIlxuICAgICAgICB9KTtcbiAgICB9KSk7XG59XG5cbmZ1bmN0aW9uIGNvbnRhaW5lcmxlc3ModCwgZSkge1xuICAgIGlmICh0ID09PSB2b2lkIDApIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHQsIGUpIHtcbiAgICAgICAgICAgIGUuYWRkSW5pdGlhbGl6ZXIoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIG1hcmtDb250YWluZXJsZXNzKHQpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBlLmFkZEluaXRpYWxpemVyKChmdW5jdGlvbigpIHtcbiAgICAgICAgbWFya0NvbnRhaW5lcmxlc3ModCk7XG4gICAgfSkpO1xufVxuXG5mdW5jdGlvbiBtYXJrQ29udGFpbmVybGVzcyh0KSB7XG4gICAgY29uc3QgZSA9IHBlKE9pLCB0KTtcbiAgICBpZiAoZSA9PT0gdm9pZCAwKSB7XG4gICAgICAgIGFubm90YXRlRWxlbWVudE1ldGFkYXRhKHQsIFwiY29udGFpbmVybGVzc1wiLCB0cnVlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBlLmNvbnRhaW5lcmxlc3MgPSB0cnVlO1xufVxuXG5jb25zdCBQaSA9IG5ldyBXZWFrTWFwO1xuXG5jbGFzcyBDdXN0b21FbGVtZW50RGVmaW5pdGlvbiB7XG4gICAgZ2V0IHR5cGUoKSB7XG4gICAgICAgIHJldHVybiBSZTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IodCwgZSwgcywgaSwgbiwgciwgbCwgYSwgaCwgYywgdSwgZiwgZCwgbSwgZywgcCwgdiwgeCkge1xuICAgICAgICB0aGlzLlR5cGUgPSB0O1xuICAgICAgICB0aGlzLm5hbWUgPSBlO1xuICAgICAgICB0aGlzLmFsaWFzZXMgPSBzO1xuICAgICAgICB0aGlzLmtleSA9IGk7XG4gICAgICAgIHRoaXMuY2FwdHVyZSA9IG47XG4gICAgICAgIHRoaXMudGVtcGxhdGUgPSByO1xuICAgICAgICB0aGlzLmluc3RydWN0aW9ucyA9IGw7XG4gICAgICAgIHRoaXMuZGVwZW5kZW5jaWVzID0gYTtcbiAgICAgICAgdGhpcy5pbmplY3RhYmxlID0gaDtcbiAgICAgICAgdGhpcy5uZWVkc0NvbXBpbGUgPSBjO1xuICAgICAgICB0aGlzLnN1cnJvZ2F0ZXMgPSB1O1xuICAgICAgICB0aGlzLmJpbmRhYmxlcyA9IGY7XG4gICAgICAgIHRoaXMuY29udGFpbmVybGVzcyA9IGQ7XG4gICAgICAgIHRoaXMuc2hhZG93T3B0aW9ucyA9IG07XG4gICAgICAgIHRoaXMuaGFzU2xvdHMgPSBnO1xuICAgICAgICB0aGlzLmVuaGFuY2UgPSBwO1xuICAgICAgICB0aGlzLndhdGNoZXMgPSB2O1xuICAgICAgICB0aGlzLnByb2Nlc3NDb250ZW50ID0geDtcbiAgICB9XG4gICAgc3RhdGljIGNyZWF0ZSh0LCBlID0gbnVsbCkge1xuICAgICAgICBpZiAoZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3QgcyA9IHQ7XG4gICAgICAgICAgICBpZiAoaShzKSkge1xuICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZU1hcHBlZEVycm9yKDc2MSwgdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBuID0gTyhcIm5hbWVcIiwgcywgRmkpO1xuICAgICAgICAgICAgaWYgKGwocy5UeXBlKSkge1xuICAgICAgICAgICAgICAgIGUgPSBzLlR5cGU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGUgPSBWaShGKG4pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoY29uc3QgdCBvZiBPYmplY3QudmFsdWVzKGtlLmZyb20ocy5iaW5kYWJsZXMpKSkge1xuICAgICAgICAgICAgICAgIGtlLmkodCwgZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV3IEN1c3RvbUVsZW1lbnREZWZpbml0aW9uKGUsIG4sIHYocy5hbGlhc2VzKSwgTyhcImtleVwiLCBzLCAoKCkgPT4gZ2V0RWxlbWVudEtleUZyb20obikpKSwgVihcImNhcHR1cmVcIiwgcywgZSwgcmV0dXJuRmFsc2UpLCBPKFwidGVtcGxhdGVcIiwgcywgcmV0dXJuTnVsbCksIHYocy5pbnN0cnVjdGlvbnMpLCB2KGdldEVsZW1lbnRBbm5vdGF0aW9uKGUsIFwiZGVwZW5kZW5jaWVzXCIpLCBzLmRlcGVuZGVuY2llcyksIE8oXCJpbmplY3RhYmxlXCIsIHMsIHJldHVybk51bGwpLCBPKFwibmVlZHNDb21waWxlXCIsIHMsIHJldHVyblRydWUpLCB2KHMuc3Vycm9nYXRlcyksIGtlLmZyb20oZ2V0RWxlbWVudEFubm90YXRpb24oZSwgXCJiaW5kYWJsZXNcIiksIHMuYmluZGFibGVzKSwgVihcImNvbnRhaW5lcmxlc3NcIiwgcywgZSwgcmV0dXJuRmFsc2UpLCBPKFwic2hhZG93T3B0aW9uc1wiLCBzLCByZXR1cm5OdWxsKSwgTyhcImhhc1Nsb3RzXCIsIHMsIHJldHVybkZhbHNlKSwgTyhcImVuaGFuY2VcIiwgcywgcmV0dXJuRmFsc2UpLCBPKFwid2F0Y2hlc1wiLCBzLCByZXR1cm5FbXB0eUFycmF5KSwgSChcInByb2Nlc3NDb250ZW50XCIsIGUsIHJldHVybk51bGwpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaSh0KSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBDdXN0b21FbGVtZW50RGVmaW5pdGlvbihlLCB0LCB2KGdldEVsZW1lbnRBbm5vdGF0aW9uKGUsIFwiYWxpYXNlc1wiKSwgZS5hbGlhc2VzKSwgZ2V0RWxlbWVudEtleUZyb20odCksIEgoXCJjYXB0dXJlXCIsIGUsIHJldHVybkZhbHNlKSwgSChcInRlbXBsYXRlXCIsIGUsIHJldHVybk51bGwpLCB2KGdldEVsZW1lbnRBbm5vdGF0aW9uKGUsIFwiaW5zdHJ1Y3Rpb25zXCIpLCBlLmluc3RydWN0aW9ucyksIHYoZ2V0RWxlbWVudEFubm90YXRpb24oZSwgXCJkZXBlbmRlbmNpZXNcIiksIGUuZGVwZW5kZW5jaWVzKSwgSChcImluamVjdGFibGVcIiwgZSwgcmV0dXJuTnVsbCksIEgoXCJuZWVkc0NvbXBpbGVcIiwgZSwgcmV0dXJuVHJ1ZSksIHYoZ2V0RWxlbWVudEFubm90YXRpb24oZSwgXCJzdXJyb2dhdGVzXCIpLCBlLnN1cnJvZ2F0ZXMpLCBrZS5mcm9tKC4uLmtlLmdldEFsbChlKSwgZ2V0RWxlbWVudEFubm90YXRpb24oZSwgXCJiaW5kYWJsZXNcIiksIGUuYmluZGFibGVzKSwgSChcImNvbnRhaW5lcmxlc3NcIiwgZSwgcmV0dXJuRmFsc2UpLCBIKFwic2hhZG93T3B0aW9uc1wiLCBlLCByZXR1cm5OdWxsKSwgSChcImhhc1Nsb3RzXCIsIGUsIHJldHVybkZhbHNlKSwgSChcImVuaGFuY2VcIiwgZSwgcmV0dXJuRmFsc2UpLCB2KE5lLmdldERlZmluaXRpb25zKGUpLCBlLndhdGNoZXMpLCBIKFwicHJvY2Vzc0NvbnRlbnRcIiwgZSwgcmV0dXJuTnVsbCkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHMgPSBPKFwibmFtZVwiLCB0LCBGaSk7XG4gICAgICAgIGZvciAoY29uc3QgcyBvZiBPYmplY3QudmFsdWVzKGtlLmZyb20odC5iaW5kYWJsZXMpKSkge1xuICAgICAgICAgICAga2UuaShzLCBlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IEN1c3RvbUVsZW1lbnREZWZpbml0aW9uKGUsIHMsIHYoZ2V0RWxlbWVudEFubm90YXRpb24oZSwgXCJhbGlhc2VzXCIpLCB0LmFsaWFzZXMsIGUuYWxpYXNlcyksIGdldEVsZW1lbnRLZXlGcm9tKHMpLCBWKFwiY2FwdHVyZVwiLCB0LCBlLCByZXR1cm5GYWxzZSksIFYoXCJ0ZW1wbGF0ZVwiLCB0LCBlLCByZXR1cm5OdWxsKSwgdihnZXRFbGVtZW50QW5ub3RhdGlvbihlLCBcImluc3RydWN0aW9uc1wiKSwgdC5pbnN0cnVjdGlvbnMsIGUuaW5zdHJ1Y3Rpb25zKSwgdihnZXRFbGVtZW50QW5ub3RhdGlvbihlLCBcImRlcGVuZGVuY2llc1wiKSwgdC5kZXBlbmRlbmNpZXMsIGUuZGVwZW5kZW5jaWVzKSwgVihcImluamVjdGFibGVcIiwgdCwgZSwgcmV0dXJuTnVsbCksIFYoXCJuZWVkc0NvbXBpbGVcIiwgdCwgZSwgcmV0dXJuVHJ1ZSksIHYoZ2V0RWxlbWVudEFubm90YXRpb24oZSwgXCJzdXJyb2dhdGVzXCIpLCB0LnN1cnJvZ2F0ZXMsIGUuc3Vycm9nYXRlcyksIGtlLmZyb20oLi4ua2UuZ2V0QWxsKGUpLCBnZXRFbGVtZW50QW5ub3RhdGlvbihlLCBcImJpbmRhYmxlc1wiKSwgZS5iaW5kYWJsZXMsIHQuYmluZGFibGVzKSwgVihcImNvbnRhaW5lcmxlc3NcIiwgdCwgZSwgcmV0dXJuRmFsc2UpLCBWKFwic2hhZG93T3B0aW9uc1wiLCB0LCBlLCByZXR1cm5OdWxsKSwgVihcImhhc1Nsb3RzXCIsIHQsIGUsIHJldHVybkZhbHNlKSwgVihcImVuaGFuY2VcIiwgdCwgZSwgcmV0dXJuRmFsc2UpLCB2KHQud2F0Y2hlcywgTmUuZ2V0RGVmaW5pdGlvbnMoZSksIGUud2F0Y2hlcyksIFYoXCJwcm9jZXNzQ29udGVudFwiLCB0LCBlLCByZXR1cm5OdWxsKSk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXRPckNyZWF0ZSh0KSB7XG4gICAgICAgIGlmICh0IGluc3RhbmNlb2YgQ3VzdG9tRWxlbWVudERlZmluaXRpb24pIHtcbiAgICAgICAgICAgIHJldHVybiB0O1xuICAgICAgICB9XG4gICAgICAgIGlmIChQaS5oYXModCkpIHtcbiAgICAgICAgICAgIHJldHVybiBQaS5nZXQodCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZSA9IEN1c3RvbUVsZW1lbnREZWZpbml0aW9uLmNyZWF0ZSh0KTtcbiAgICAgICAgUGkuc2V0KHQsIGUpO1xuICAgICAgICB4ZShlLCBlLlR5cGUsIE9pKTtcbiAgICAgICAgcmV0dXJuIGU7XG4gICAgfVxuICAgIHJlZ2lzdGVyKHQsIGUpIHtcbiAgICAgICAgY29uc3QgcyA9IHRoaXMuVHlwZTtcbiAgICAgICAgY29uc3QgaSA9IHR5cGVvZiBlID09PSBcInN0cmluZ1wiID8gZ2V0RWxlbWVudEtleUZyb20oZSkgOiB0aGlzLmtleTtcbiAgICAgICAgY29uc3QgbiA9IHRoaXMuYWxpYXNlcztcbiAgICAgICAgaWYgKHQuaGFzKGksIGZhbHNlKSkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGNyZWF0ZU1hcHBlZEVycm9yKDE1MywgdGhpcy5uYW1lKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdC5yZWdpc3Rlcih0LmhhcyhzLCBmYWxzZSkgPyBudWxsIDogU2UocywgcyksIEFlKHMsIGkpLCAuLi5uLm1hcCgodCA9PiBBZShzLCBnZXRFbGVtZW50S2V5RnJvbSh0KSkpKSk7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gYGF1OmNlOiR7dGhpcy5uYW1lfWA7XG4gICAgfVxufVxuXG5jb25zdCBxaSA9IHtcbiAgICBuYW1lOiB1bmRlZmluZWQsXG4gICAgc2VhcmNoUGFyZW50czogZmFsc2UsXG4gICAgb3B0aW9uYWw6IGZhbHNlXG59O1xuXG5jb25zdCByZXR1cm5OdWxsID0gKCkgPT4gbnVsbDtcblxuY29uc3QgcmV0dXJuRmFsc2UgPSAoKSA9PiBmYWxzZTtcblxuY29uc3QgcmV0dXJuVHJ1ZSA9ICgpID0+IHRydWU7XG5cbmNvbnN0IHJldHVybkVtcHR5QXJyYXkgPSAoKSA9PiBDO1xuXG5jb25zdCBfaSA9IFwiY3VzdG9tLWVsZW1lbnRcIjtcblxuY29uc3QgT2kgPSAvKkBfX1BVUkVfXyovIHcoX2kpO1xuXG5jb25zdCBnZXRFbGVtZW50S2V5RnJvbSA9IHQgPT4gYCR7T2l9OiR7dH1gO1xuXG5jb25zdCBGaSA9IC8qQF9fUFVSRV9fKi8gKHQgPT4gKCkgPT4gYHVubmFtZWQtJHsrK3R9YCkoMCk7XG5cbmNvbnN0IGFubm90YXRlRWxlbWVudE1ldGFkYXRhID0gKHQsIGUsIHMpID0+IHtcbiAgICB4ZShzLCB0LCB3ZShlKSk7XG59O1xuXG5jb25zdCBkZWZpbmVFbGVtZW50ID0gKHQsIGUpID0+IHtcbiAgICBjb25zdCBzID0gQ3VzdG9tRWxlbWVudERlZmluaXRpb24uY3JlYXRlKHQsIGUpO1xuICAgIGNvbnN0IGkgPSBzLlR5cGU7XG4gICAgeGUocywgaSwgT2ksIHgpO1xuICAgIHJldHVybiBpO1xufTtcblxuY29uc3QgaXNFbGVtZW50VHlwZSA9IHQgPT4gbCh0KSAmJiAodmUoT2ksIHQpIHx8IHQuJGF1Py50eXBlID09PSBfaSk7XG5cbmNvbnN0IGZpbmRFbGVtZW50Q29udHJvbGxlckZvciA9ICh0LCBlID0gcWkpID0+IHtcbiAgICBpZiAoZS5uYW1lID09PSB2b2lkIDAgJiYgZS5zZWFyY2hQYXJlbnRzICE9PSB0cnVlKSB7XG4gICAgICAgIGNvbnN0IHMgPSBnZXRSZWYodCwgT2kpO1xuICAgICAgICBpZiAocyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKGUub3B0aW9uYWwgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IGNyZWF0ZU1hcHBlZEVycm9yKDc2MiwgdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHM7XG4gICAgfVxuICAgIGlmIChlLm5hbWUgIT09IHZvaWQgMCkge1xuICAgICAgICBpZiAoZS5zZWFyY2hQYXJlbnRzICE9PSB0cnVlKSB7XG4gICAgICAgICAgICBjb25zdCBzID0gZ2V0UmVmKHQsIE9pKTtcbiAgICAgICAgICAgIGlmIChzID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlTWFwcGVkRXJyb3IoNzYzLCB0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzLmlzKGUubmFtZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHMgPSB0O1xuICAgICAgICBsZXQgaSA9IGZhbHNlO1xuICAgICAgICB3aGlsZSAocyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3QgdCA9IGdldFJlZihzLCBPaSk7XG4gICAgICAgICAgICBpZiAodCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGkgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmICh0LmlzKGUubmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcyA9IGdldEVmZmVjdGl2ZVBhcmVudE5vZGUocyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGkpIHtcbiAgICAgICAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgY3JlYXRlTWFwcGVkRXJyb3IoNzY0LCB0KTtcbiAgICB9XG4gICAgbGV0IHMgPSB0O1xuICAgIHdoaWxlIChzICE9PSBudWxsKSB7XG4gICAgICAgIGNvbnN0IHQgPSBnZXRSZWYocywgT2kpO1xuICAgICAgICBpZiAodCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHQ7XG4gICAgICAgIH1cbiAgICAgICAgcyA9IGdldEVmZmVjdGl2ZVBhcmVudE5vZGUocyk7XG4gICAgfVxuICAgIHRocm93IGNyZWF0ZU1hcHBlZEVycm9yKDc2NSwgdCk7XG59O1xuXG5jb25zdCBnZXRFbGVtZW50QW5ub3RhdGlvbiA9ICh0LCBlKSA9PiBwZSh3ZShlKSwgdCk7XG5cbmNvbnN0IGdldEVsZW1lbnREZWZpbml0aW9uID0gdCA9PiB7XG4gICAgY29uc3QgZSA9IHBlKE9pLCB0KSA/PyBnZXREZWZpbml0aW9uRnJvbVN0YXRpY0F1KHQsIF9pLCBDdXN0b21FbGVtZW50RGVmaW5pdGlvbi5jcmVhdGUpO1xuICAgIGlmIChlID09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgY3JlYXRlTWFwcGVkRXJyb3IoNzYwLCB0KTtcbiAgICB9XG4gICAgcmV0dXJuIGU7XG59O1xuXG5jb25zdCBjcmVhdGVFbGVtZW50SW5qZWN0YWJsZSA9ICgpID0+IHtcbiAgICBjb25zdCB0ID0ge1xuICAgICAgICAkaXNJbnRlcmZhY2U6IGZhbHNlLFxuICAgICAgICByZWdpc3RlcigpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgJGlzUmVzb2x2ZXI6IHRydWUsXG4gICAgICAgICAgICAgICAgcmVzb2x2ZShlLCBzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzLmhhcyh0LCB0cnVlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHMuZ2V0KHQpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gdDtcbn07XG5cbmNvbnN0IFZpID0gLypAX19QVVJFX18qLyBmdW5jdGlvbigpIHtcbiAgICBjb25zdCB0ID0ge1xuICAgICAgICB2YWx1ZTogXCJcIixcbiAgICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfTtcbiAgICBjb25zdCBlID0ge307XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHMsIGkgPSBlKSB7XG4gICAgICAgIGNvbnN0IG4gPSBjbGFzcyBBbm9ueW1vdXMge307XG4gICAgICAgIHQudmFsdWUgPSBzO1xuICAgICAgICBZdChuLCBcIm5hbWVcIiwgdCk7XG4gICAgICAgIGlmIChpICE9PSBlKSB7XG4gICAgICAgICAgICBHdChuLnByb3RvdHlwZSwgaSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG47XG4gICAgfTtcbn0oKTtcblxuY29uc3QgSGkgPSAvKkBfX1BVUkVfXyovIFV0KHtcbiAgICBuYW1lOiBPaSxcbiAgICBrZXlGcm9tOiBnZXRFbGVtZW50S2V5RnJvbSxcbiAgICBpc1R5cGU6IGlzRWxlbWVudFR5cGUsXG4gICAgZm9yOiBmaW5kRWxlbWVudENvbnRyb2xsZXJGb3IsXG4gICAgZGVmaW5lOiBkZWZpbmVFbGVtZW50LFxuICAgIGdldERlZmluaXRpb246IGdldEVsZW1lbnREZWZpbml0aW9uLFxuICAgIGFubm90YXRlOiBhbm5vdGF0ZUVsZW1lbnRNZXRhZGF0YSxcbiAgICBnZXRBbm5vdGF0aW9uOiBnZXRFbGVtZW50QW5ub3RhdGlvbixcbiAgICBnZW5lcmF0ZU5hbWU6IEZpLFxuICAgIGNyZWF0ZUluamVjdGFibGU6IGNyZWF0ZUVsZW1lbnRJbmplY3RhYmxlLFxuICAgIGdlbmVyYXRlVHlwZTogVmksXG4gICAgZmluZCh0LCBlKSB7XG4gICAgICAgIGNvbnN0IHMgPSB0LmZpbmQoX2ksIGUpO1xuICAgICAgICByZXR1cm4gcyA9PSBudWxsID8gbnVsbCA6IHBlKE9pLCBzKSA/PyBnZXREZWZpbml0aW9uRnJvbVN0YXRpY0F1KHMsIF9pLCBDdXN0b21FbGVtZW50RGVmaW5pdGlvbi5jcmVhdGUpID8/IG51bGw7XG4gICAgfVxufSk7XG5cbmNvbnN0ICRpID0gLypAX19QVVJFX18qLyB3ZShcInByb2Nlc3NDb250ZW50XCIpO1xuXG5mdW5jdGlvbiBwcm9jZXNzQ29udGVudCh0KSB7XG4gICAgcmV0dXJuIHQgPT09IHZvaWQgMCA/IGZ1bmN0aW9uKHQsIGUpIHtcbiAgICAgICAgaWYgKCFlLnN0YXRpYyB8fCBlLmtpbmQgIT09IFwibWV0aG9kXCIpIHRocm93IGNyZWF0ZU1hcHBlZEVycm9yKDc2NiwgdCk7XG4gICAgICAgIGUuYWRkSW5pdGlhbGl6ZXIoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgeGUodCwgdGhpcywgJGkpO1xuICAgICAgICB9KSk7XG4gICAgfSA6IGZ1bmN0aW9uKGUsIHMpIHtcbiAgICAgICAgcy5hZGRJbml0aWFsaXplcigoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoaSh0KSB8fCAkKHQpKSB7XG4gICAgICAgICAgICAgICAgdCA9IHRoaXNbdF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWwodCkpIHRocm93IGNyZWF0ZU1hcHBlZEVycm9yKDc2NiwgdCk7XG4gICAgICAgICAgICBjb25zdCBlID0gcGUoT2ksIHRoaXMpO1xuICAgICAgICAgICAgaWYgKGUgIT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgIGUucHJvY2Vzc0NvbnRlbnQgPSB0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB4ZSh0LCB0aGlzLCAkaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuIGU7XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gY2FwdHVyZSh0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGUsIHMpIHtcbiAgICAgICAgY29uc3QgaSA9IGwodCkgPyB0IDogdHJ1ZTtcbiAgICAgICAgcy5hZGRJbml0aWFsaXplcigoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBhbm5vdGF0ZUVsZW1lbnRNZXRhZGF0YSh0aGlzLCBcImNhcHR1cmVcIiwgaSk7XG4gICAgICAgICAgICBpZiAoaXNFbGVtZW50VHlwZSh0aGlzKSkge1xuICAgICAgICAgICAgICAgIGdldEVsZW1lbnREZWZpbml0aW9uKHRoaXMpLmNhcHR1cmUgPSBpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgfTtcbn1cblxuY29uc3QgTmkgPSAvKkBfX1BVUkVfXyovIEJlKFwiSUFwcFJvb3RcIik7XG5cbmNsYXNzIEFwcFJvb3Qge1xuICAgIGdldCBjb250cm9sbGVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5NO1xuICAgIH1cbiAgICBjb25zdHJ1Y3Rvcih0LCBlLCBzLCBpID0gZmFsc2UpIHtcbiAgICAgICAgdGhpcy5jb25maWcgPSB0O1xuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IGU7XG4gICAgICAgIHRoaXMuY2UgPSB2b2lkIDA7XG4gICAgICAgIHRoaXMudWUgPSBpO1xuICAgICAgICBjb25zdCBuID0gdGhpcy5ob3N0ID0gdC5ob3N0O1xuICAgICAgICBzLnByZXBhcmUodGhpcyk7XG4gICAgICAgIHJlZ2lzdGVyUmVzb2x2ZXIoZSwgRWksIG5ldyBSKFwiSUV2ZW50VGFyZ2V0XCIsIG4pKTtcbiAgICAgICAgcmVnaXN0ZXJIb3N0Tm9kZShlLCBuLCB0aGlzLnBsYXRmb3JtID0gdGhpcy5mZShlLCBuKSk7XG4gICAgICAgIHRoaXMuY2UgPSBfKHRoaXMuZGUoXCJjcmVhdGluZ1wiKSwgKCgpID0+IHtcbiAgICAgICAgICAgIGlmICghdC5hbGxvd0FjdGlvbmxlc3NGb3JtICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIG4uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAodCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGUgPSB0LnRhcmdldDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcyA9ICFlLmdldEF0dHJpYnV0ZShcImFjdGlvblwiKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFnTmFtZSA9PT0gXCJGT1JNXCIgJiYgcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSksIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHMgPSBpID8gZSA6IGUuY3JlYXRlQ2hpbGQoKTtcbiAgICAgICAgICAgIGNvbnN0IHIgPSB0LmNvbXBvbmVudDtcbiAgICAgICAgICAgIGxldCBhO1xuICAgICAgICAgICAgaWYgKGwocikpIHtcbiAgICAgICAgICAgICAgICBhID0gcy5pbnZva2Uocik7XG4gICAgICAgICAgICAgICAgRWUociwgYSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGEgPSB0LmNvbXBvbmVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGggPSB7XG4gICAgICAgICAgICAgICAgaHlkcmF0ZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgcHJvamVjdGlvbnM6IG51bGxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBjID0gaSA/IEN1c3RvbUVsZW1lbnREZWZpbml0aW9uLmNyZWF0ZSh7XG4gICAgICAgICAgICAgICAgbmFtZTogRmkoKSxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogdGhpcy5ob3N0LFxuICAgICAgICAgICAgICAgIGVuaGFuY2U6IHRydWVcbiAgICAgICAgICAgIH0pIDogdm9pZCAwO1xuICAgICAgICAgICAgY29uc3QgdSA9IHRoaXMuTSA9IENvbnRyb2xsZXIuJGVsKHMsIGEsIG4sIGgsIGMpO1xuICAgICAgICAgICAgdS5oRShoLCBudWxsKTtcbiAgICAgICAgICAgIHJldHVybiBfKHRoaXMuZGUoXCJoeWRyYXRpbmdcIiksICgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdS5oUygpO1xuICAgICAgICAgICAgICAgIHJldHVybiBfKHRoaXMuZGUoXCJoeWRyYXRlZFwiKSwgKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdS5oQygpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNlID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBhY3RpdmF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIF8odGhpcy5jZSwgKCgpID0+IF8odGhpcy5kZShcImFjdGl2YXRpbmdcIiksICgoKSA9PiBfKHRoaXMuTS5hY3RpdmF0ZSh0aGlzLk0sIG51bGwsIHZvaWQgMCksICgoKSA9PiB0aGlzLmRlKFwiYWN0aXZhdGVkXCIpKSkpKSkpO1xuICAgIH1cbiAgICBkZWFjdGl2YXRlKCkge1xuICAgICAgICByZXR1cm4gXyh0aGlzLmRlKFwiZGVhY3RpdmF0aW5nXCIpLCAoKCkgPT4gXyh0aGlzLk0uZGVhY3RpdmF0ZSh0aGlzLk0sIG51bGwpLCAoKCkgPT4gdGhpcy5kZShcImRlYWN0aXZhdGVkXCIpKSkpKTtcbiAgICB9XG4gICAgZGUodCkge1xuICAgICAgICBjb25zdCBlID0gdGhpcy5jb250YWluZXI7XG4gICAgICAgIGNvbnN0IHMgPSB0aGlzLnVlICYmICFlLmhhcyhWZSwgZmFsc2UpID8gW10gOiBlLmdldEFsbChWZSk7XG4gICAgICAgIHJldHVybiBQKC4uLnMucmVkdWNlKCgoZSwgcykgPT4ge1xuICAgICAgICAgICAgaWYgKHMuc2xvdCA9PT0gdCkge1xuICAgICAgICAgICAgICAgIGUucHVzaChzLnJ1bigpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBlO1xuICAgICAgICB9KSwgW10pKTtcbiAgICB9XG4gICAgZmUodCwgZSkge1xuICAgICAgICBsZXQgcztcbiAgICAgICAgaWYgKCF0LmhhcygkZSwgZmFsc2UpKSB7XG4gICAgICAgICAgICBpZiAoZS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlTWFwcGVkRXJyb3IoNzY5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHMgPSBuZXcgSHQoZS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3KTtcbiAgICAgICAgICAgIHQucmVnaXN0ZXIoRWUoJGUsIHMpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHMgPSB0LmdldCgkZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHM7XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHRoaXMuTT8uZGlzcG9zZSgpO1xuICAgIH1cbn1cblxuY29uc3QgamkgPSAvKkBfX1BVUkVfXyovIEJlKFwiSUF1cmVsaWFcIik7XG5cbmNsYXNzIEF1cmVsaWEge1xuICAgIGdldCBpc1J1bm5pbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlyO1xuICAgIH1cbiAgICBnZXQgaXNTdGFydGluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWU7XG4gICAgfVxuICAgIGdldCBpc1N0b3BwaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZTtcbiAgICB9XG4gICAgZ2V0IHJvb3QoKSB7XG4gICAgICAgIGlmICh0aGlzLnBlID09IG51bGwpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm5leHQgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZU1hcHBlZEVycm9yKDc2Nyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5uZXh0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnBlO1xuICAgIH1cbiAgICBjb25zdHJ1Y3Rvcih0ID0gbS5jcmVhdGVDb250YWluZXIoKSkge1xuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IHQ7XG4gICAgICAgIHRoaXMuaXIgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5tZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmdlID0gZmFsc2U7XG4gICAgICAgIHRoaXMucGUgPSB2b2lkIDA7XG4gICAgICAgIHRoaXMubmV4dCA9IHZvaWQgMDtcbiAgICAgICAgdGhpcy52ZSA9IHZvaWQgMDtcbiAgICAgICAgdGhpcy54ZSA9IHZvaWQgMDtcbiAgICAgICAgaWYgKHQuaGFzKGppLCB0cnVlKSB8fCB0LmhhcyhBdXJlbGlhLCB0cnVlKSkge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlTWFwcGVkRXJyb3IoNzY4KTtcbiAgICAgICAgfVxuICAgICAgICByZWdpc3RlclJlc29sdmVyKHQsIGppLCBuZXcgUihcIklBdXJlbGlhXCIsIHRoaXMpKTtcbiAgICAgICAgcmVnaXN0ZXJSZXNvbHZlcih0LCBBdXJlbGlhLCBuZXcgUihcIkF1cmVsaWFcIiwgdGhpcykpO1xuICAgICAgICByZWdpc3RlclJlc29sdmVyKHQsIE5pLCB0aGlzLmJlID0gbmV3IFIoXCJJQXBwUm9vdFwiKSk7XG4gICAgfVxuICAgIHJlZ2lzdGVyKC4uLnQpIHtcbiAgICAgICAgdGhpcy5jb250YWluZXIucmVnaXN0ZXIoLi4udCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBhcHAodCkge1xuICAgICAgICB0aGlzLm5leHQgPSBuZXcgQXBwUm9vdCh0LCB0aGlzLmNvbnRhaW5lciwgdGhpcy5iZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBlbmhhbmNlKHQpIHtcbiAgICAgICAgY29uc3QgZSA9IHQuY29udGFpbmVyID8/IHRoaXMuY29udGFpbmVyLmNyZWF0ZUNoaWxkKCk7XG4gICAgICAgIGNvbnN0IHMgPSByZWdpc3RlclJlc29sdmVyKGUsIE5pLCBuZXcgUihcIklBcHBSb290XCIpKTtcbiAgICAgICAgY29uc3QgaSA9IG5ldyBBcHBSb290KHtcbiAgICAgICAgICAgIGhvc3Q6IHQuaG9zdCxcbiAgICAgICAgICAgIGNvbXBvbmVudDogdC5jb21wb25lbnRcbiAgICAgICAgfSwgZSwgcywgdHJ1ZSk7XG4gICAgICAgIHJldHVybiBfKGkuYWN0aXZhdGUoKSwgKCgpID0+IGkpKTtcbiAgICB9XG4gICAgYXN5bmMgd2FpdEZvcklkbGUoKSB7XG4gICAgICAgIGNvbnN0IHQgPSB0aGlzLnJvb3QucGxhdGZvcm07XG4gICAgICAgIGF3YWl0IHQuZG9tUXVldWUueWllbGQoKTtcbiAgICAgICAgYXdhaXQgdC50YXNrUXVldWUueWllbGQoKTtcbiAgICB9XG4gICAgc3RhcnQodCA9IHRoaXMubmV4dCkge1xuICAgICAgICBpZiAodCA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVNYXBwZWRFcnJvcig3NzApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChxKHRoaXMudmUpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy52ZSA9IF8odGhpcy5zdG9wKCksICgoKSA9PiB7XG4gICAgICAgICAgICBSZWZsZWN0LnNldCh0Lmhvc3QsIFwiJGF1cmVsaWFcIiwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLmJlLnByZXBhcmUodGhpcy5wZSA9IHQpO1xuICAgICAgICAgICAgdGhpcy5tZSA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm4gXyh0LmFjdGl2YXRlKCksICgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5pciA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5tZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMudmUgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgdGhpcy53ZSh0LCBcImF1LXN0YXJ0ZWRcIiwgdC5ob3N0KTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBzdG9wKHQgPSBmYWxzZSkge1xuICAgICAgICBpZiAocSh0aGlzLnhlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMueGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaXIgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGNvbnN0IGUgPSB0aGlzLnBlO1xuICAgICAgICAgICAgdGhpcy5pciA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5nZSA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy54ZSA9IF8oZS5kZWFjdGl2YXRlKCksICgoKSA9PiB7XG4gICAgICAgICAgICAgICAgUmVmbGVjdC5kZWxldGVQcm9wZXJ0eShlLmhvc3QsIFwiJGF1cmVsaWFcIik7XG4gICAgICAgICAgICAgICAgaWYgKHQpIHtcbiAgICAgICAgICAgICAgICAgICAgZS5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMucGUgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgdGhpcy5iZS5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5nZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMud2UoZSwgXCJhdS1zdG9wcGVkXCIsIGUuaG9zdCk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXIgfHwgdGhpcy5nZSkge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlTWFwcGVkRXJyb3IoNzcxKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbnRhaW5lci5kaXNwb3NlKCk7XG4gICAgfVxuICAgIHdlKHQsIGUsIHMpIHtcbiAgICAgICAgY29uc3QgaSA9IG5ldyB0LnBsYXRmb3JtLndpbmRvdy5DdXN0b21FdmVudChlLCB7XG4gICAgICAgICAgICBkZXRhaWw6IHRoaXMsXG4gICAgICAgICAgICBidWJibGVzOiB0cnVlLFxuICAgICAgICAgICAgY2FuY2VsYWJsZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgcy5kaXNwYXRjaEV2ZW50KGkpO1xuICAgIH1cbn1cblxuY29uc3QgV2kgPSAvKkBfX1BVUkVfXyovIEJlKFwiSVNWR0FuYWx5emVyXCIsICh0ID0+IHQuc2luZ2xldG9uKE5vb3BTVkdBbmFseXplcikpKTtcblxuY29uc3QgbyA9IHQgPT4ge1xuICAgIGNvbnN0IGUgPSBuKCk7XG4gICAgdCA9IGkodCkgPyB0LnNwbGl0KFwiIFwiKSA6IHQ7XG4gICAgbGV0IHM7XG4gICAgZm9yIChzIG9mIHQpIHtcbiAgICAgICAgZVtzXSA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiBlO1xufTtcblxuY2xhc3MgTm9vcFNWR0FuYWx5emVyIHtcbiAgICBpc1N0YW5kYXJkU3ZnQXR0cmlidXRlKHQsIGUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cblxuY2xhc3MgU1ZHQW5hbHl6ZXIge1xuICAgIHN0YXRpYyByZWdpc3Rlcih0KSB7XG4gICAgICAgIHQucmVnaXN0ZXIoU2UodGhpcywgdGhpcyksIEFlKHRoaXMsIFdpKSk7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnllID0gR3QobigpLCB7XG4gICAgICAgICAgICBhOiBvKFwiY2xhc3MgZXh0ZXJuYWxSZXNvdXJjZXNSZXF1aXJlZCBpZCBvbmFjdGl2YXRlIG9uY2xpY2sgb25mb2N1c2luIG9uZm9jdXNvdXQgb25sb2FkIG9ubW91c2Vkb3duIG9ubW91c2Vtb3ZlIG9ubW91c2VvdXQgb25tb3VzZW92ZXIgb25tb3VzZXVwIHJlcXVpcmVkRXh0ZW5zaW9ucyByZXF1aXJlZEZlYXR1cmVzIHN0eWxlIHN5c3RlbUxhbmd1YWdlIHRhcmdldCB0cmFuc2Zvcm0geGxpbms6YWN0dWF0ZSB4bGluazphcmNyb2xlIHhsaW5rOmhyZWYgeGxpbms6cm9sZSB4bGluazpzaG93IHhsaW5rOnRpdGxlIHhsaW5rOnR5cGUgeG1sOmJhc2UgeG1sOmxhbmcgeG1sOnNwYWNlXCIpLFxuICAgICAgICAgICAgYWx0R2x5cGg6IG8oXCJjbGFzcyBkeCBkeSBleHRlcm5hbFJlc291cmNlc1JlcXVpcmVkIGZvcm1hdCBnbHlwaFJlZiBpZCBvbmFjdGl2YXRlIG9uY2xpY2sgb25mb2N1c2luIG9uZm9jdXNvdXQgb25sb2FkIG9ubW91c2Vkb3duIG9ubW91c2Vtb3ZlIG9ubW91c2VvdXQgb25tb3VzZW92ZXIgb25tb3VzZXVwIHJlcXVpcmVkRXh0ZW5zaW9ucyByZXF1aXJlZEZlYXR1cmVzIHJvdGF0ZSBzdHlsZSBzeXN0ZW1MYW5ndWFnZSB4IHhsaW5rOmFjdHVhdGUgeGxpbms6YXJjcm9sZSB4bGluazpocmVmIHhsaW5rOnJvbGUgeGxpbms6c2hvdyB4bGluazp0aXRsZSB4bGluazp0eXBlIHhtbDpiYXNlIHhtbDpsYW5nIHhtbDpzcGFjZSB5XCIpLFxuICAgICAgICAgICAgYWx0Z2x5cGg6IG4oKSxcbiAgICAgICAgICAgIGFsdEdseXBoRGVmOiBvKFwiaWQgeG1sOmJhc2UgeG1sOmxhbmcgeG1sOnNwYWNlXCIpLFxuICAgICAgICAgICAgYWx0Z2x5cGhkZWY6IG4oKSxcbiAgICAgICAgICAgIGFsdEdseXBoSXRlbTogbyhcImlkIHhtbDpiYXNlIHhtbDpsYW5nIHhtbDpzcGFjZVwiKSxcbiAgICAgICAgICAgIGFsdGdseXBoaXRlbTogbigpLFxuICAgICAgICAgICAgYW5pbWF0ZTogbyhcImFjY3VtdWxhdGUgYWRkaXRpdmUgYXR0cmlidXRlTmFtZSBhdHRyaWJ1dGVUeXBlIGJlZ2luIGJ5IGNhbGNNb2RlIGR1ciBlbmQgZXh0ZXJuYWxSZXNvdXJjZXNSZXF1aXJlZCBmaWxsIGZyb20gaWQga2V5U3BsaW5lcyBrZXlUaW1lcyBtYXggbWluIG9uYmVnaW4gb25lbmQgb25sb2FkIG9ucmVwZWF0IHJlcGVhdENvdW50IHJlcGVhdER1ciByZXF1aXJlZEV4dGVuc2lvbnMgcmVxdWlyZWRGZWF0dXJlcyByZXN0YXJ0IHN5c3RlbUxhbmd1YWdlIHRvIHZhbHVlcyB4bGluazphY3R1YXRlIHhsaW5rOmFyY3JvbGUgeGxpbms6aHJlZiB4bGluazpyb2xlIHhsaW5rOnNob3cgeGxpbms6dGl0bGUgeGxpbms6dHlwZSB4bWw6YmFzZSB4bWw6bGFuZyB4bWw6c3BhY2VcIiksXG4gICAgICAgICAgICBhbmltYXRlQ29sb3I6IG8oXCJhY2N1bXVsYXRlIGFkZGl0aXZlIGF0dHJpYnV0ZU5hbWUgYXR0cmlidXRlVHlwZSBiZWdpbiBieSBjYWxjTW9kZSBkdXIgZW5kIGV4dGVybmFsUmVzb3VyY2VzUmVxdWlyZWQgZmlsbCBmcm9tIGlkIGtleVNwbGluZXMga2V5VGltZXMgbWF4IG1pbiBvbmJlZ2luIG9uZW5kIG9ubG9hZCBvbnJlcGVhdCByZXBlYXRDb3VudCByZXBlYXREdXIgcmVxdWlyZWRFeHRlbnNpb25zIHJlcXVpcmVkRmVhdHVyZXMgcmVzdGFydCBzeXN0ZW1MYW5ndWFnZSB0byB2YWx1ZXMgeGxpbms6YWN0dWF0ZSB4bGluazphcmNyb2xlIHhsaW5rOmhyZWYgeGxpbms6cm9sZSB4bGluazpzaG93IHhsaW5rOnRpdGxlIHhsaW5rOnR5cGUgeG1sOmJhc2UgeG1sOmxhbmcgeG1sOnNwYWNlXCIpLFxuICAgICAgICAgICAgYW5pbWF0ZU1vdGlvbjogbyhcImFjY3VtdWxhdGUgYWRkaXRpdmUgYmVnaW4gYnkgY2FsY01vZGUgZHVyIGVuZCBleHRlcm5hbFJlc291cmNlc1JlcXVpcmVkIGZpbGwgZnJvbSBpZCBrZXlQb2ludHMga2V5U3BsaW5lcyBrZXlUaW1lcyBtYXggbWluIG9uYmVnaW4gb25lbmQgb25sb2FkIG9ucmVwZWF0IG9yaWdpbiBwYXRoIHJlcGVhdENvdW50IHJlcGVhdER1ciByZXF1aXJlZEV4dGVuc2lvbnMgcmVxdWlyZWRGZWF0dXJlcyByZXN0YXJ0IHJvdGF0ZSBzeXN0ZW1MYW5ndWFnZSB0byB2YWx1ZXMgeGxpbms6YWN0dWF0ZSB4bGluazphcmNyb2xlIHhsaW5rOmhyZWYgeGxpbms6cm9sZSB4bGluazpzaG93IHhsaW5rOnRpdGxlIHhsaW5rOnR5cGUgeG1sOmJhc2UgeG1sOmxhbmcgeG1sOnNwYWNlXCIpLFxuICAgICAgICAgICAgYW5pbWF0ZVRyYW5zZm9ybTogbyhcImFjY3VtdWxhdGUgYWRkaXRpdmUgYXR0cmlidXRlTmFtZSBhdHRyaWJ1dGVUeXBlIGJlZ2luIGJ5IGNhbGNNb2RlIGR1ciBlbmQgZXh0ZXJuYWxSZXNvdXJjZXNSZXF1aXJlZCBmaWxsIGZyb20gaWQga2V5U3BsaW5lcyBrZXlUaW1lcyBtYXggbWluIG9uYmVnaW4gb25lbmQgb25sb2FkIG9ucmVwZWF0IHJlcGVhdENvdW50IHJlcGVhdER1ciByZXF1aXJlZEV4dGVuc2lvbnMgcmVxdWlyZWRGZWF0dXJlcyByZXN0YXJ0IHN5c3RlbUxhbmd1YWdlIHRvIHR5cGUgdmFsdWVzIHhsaW5rOmFjdHVhdGUgeGxpbms6YXJjcm9sZSB4bGluazpocmVmIHhsaW5rOnJvbGUgeGxpbms6c2hvdyB4bGluazp0aXRsZSB4bGluazp0eXBlIHhtbDpiYXNlIHhtbDpsYW5nIHhtbDpzcGFjZVwiKSxcbiAgICAgICAgICAgIGNpcmNsZTogbyhcImNsYXNzIGN4IGN5IGV4dGVybmFsUmVzb3VyY2VzUmVxdWlyZWQgaWQgb25hY3RpdmF0ZSBvbmNsaWNrIG9uZm9jdXNpbiBvbmZvY3Vzb3V0IG9ubG9hZCBvbm1vdXNlZG93biBvbm1vdXNlbW92ZSBvbm1vdXNlb3V0IG9ubW91c2VvdmVyIG9ubW91c2V1cCByIHJlcXVpcmVkRXh0ZW5zaW9ucyByZXF1aXJlZEZlYXR1cmVzIHN0eWxlIHN5c3RlbUxhbmd1YWdlIHRyYW5zZm9ybSB4bWw6YmFzZSB4bWw6bGFuZyB4bWw6c3BhY2VcIiksXG4gICAgICAgICAgICBjbGlwUGF0aDogbyhcImNsYXNzIGNsaXBQYXRoVW5pdHMgZXh0ZXJuYWxSZXNvdXJjZXNSZXF1aXJlZCBpZCByZXF1aXJlZEV4dGVuc2lvbnMgcmVxdWlyZWRGZWF0dXJlcyBzdHlsZSBzeXN0ZW1MYW5ndWFnZSB0cmFuc2Zvcm0geG1sOmJhc2UgeG1sOmxhbmcgeG1sOnNwYWNlXCIpLFxuICAgICAgICAgICAgXCJjb2xvci1wcm9maWxlXCI6IG8oXCJpZCBsb2NhbCBuYW1lIHJlbmRlcmluZy1pbnRlbnQgeGxpbms6YWN0dWF0ZSB4bGluazphcmNyb2xlIHhsaW5rOmhyZWYgeGxpbms6cm9sZSB4bGluazpzaG93IHhsaW5rOnRpdGxlIHhsaW5rOnR5cGUgeG1sOmJhc2UgeG1sOmxhbmcgeG1sOnNwYWNlXCIpLFxuICAgICAgICAgICAgY3Vyc29yOiBvKFwiZXh0ZXJuYWxSZXNvdXJjZXNSZXF1aXJlZCBpZCByZXF1aXJlZEV4dGVuc2lvbnMgcmVxdWlyZWRGZWF0dXJlcyBzeXN0ZW1MYW5ndWFnZSB4IHhsaW5rOmFjdHVhdGUgeGxpbms6YXJjcm9sZSB4bGluazpocmVmIHhsaW5rOnJvbGUgeGxpbms6c2hvdyB4bGluazp0aXRsZSB4bGluazp0eXBlIHhtbDpiYXNlIHhtbDpsYW5nIHhtbDpzcGFjZSB5XCIpLFxuICAgICAgICAgICAgZGVmczogbyhcImNsYXNzIGV4dGVybmFsUmVzb3VyY2VzUmVxdWlyZWQgaWQgb25hY3RpdmF0ZSBvbmNsaWNrIG9uZm9jdXNpbiBvbmZvY3Vzb3V0IG9ubG9hZCBvbm1vdXNlZG93biBvbm1vdXNlbW92ZSBvbm1vdXNlb3V0IG9ubW91c2VvdmVyIG9ubW91c2V1cCByZXF1aXJlZEV4dGVuc2lvbnMgcmVxdWlyZWRGZWF0dXJlcyBzdHlsZSBzeXN0ZW1MYW5ndWFnZSB0cmFuc2Zvcm0geG1sOmJhc2UgeG1sOmxhbmcgeG1sOnNwYWNlXCIpLFxuICAgICAgICAgICAgZGVzYzogbyhcImNsYXNzIGlkIHN0eWxlIHhtbDpiYXNlIHhtbDpsYW5nIHhtbDpzcGFjZVwiKSxcbiAgICAgICAgICAgIGVsbGlwc2U6IG8oXCJjbGFzcyBjeCBjeSBleHRlcm5hbFJlc291cmNlc1JlcXVpcmVkIGlkIG9uYWN0aXZhdGUgb25jbGljayBvbmZvY3VzaW4gb25mb2N1c291dCBvbmxvYWQgb25tb3VzZWRvd24gb25tb3VzZW1vdmUgb25tb3VzZW91dCBvbm1vdXNlb3ZlciBvbm1vdXNldXAgcmVxdWlyZWRFeHRlbnNpb25zIHJlcXVpcmVkRmVhdHVyZXMgcnggcnkgc3R5bGUgc3lzdGVtTGFuZ3VhZ2UgdHJhbnNmb3JtIHhtbDpiYXNlIHhtbDpsYW5nIHhtbDpzcGFjZVwiKSxcbiAgICAgICAgICAgIGZlQmxlbmQ6IG8oXCJjbGFzcyBoZWlnaHQgaWQgaW4gaW4yIG1vZGUgcmVzdWx0IHN0eWxlIHdpZHRoIHggeG1sOmJhc2UgeG1sOmxhbmcgeG1sOnNwYWNlIHlcIiksXG4gICAgICAgICAgICBmZUNvbG9yTWF0cml4OiBvKFwiY2xhc3MgaGVpZ2h0IGlkIGluIHJlc3VsdCBzdHlsZSB0eXBlIHZhbHVlcyB3aWR0aCB4IHhtbDpiYXNlIHhtbDpsYW5nIHhtbDpzcGFjZSB5XCIpLFxuICAgICAgICAgICAgZmVDb21wb25lbnRUcmFuc2ZlcjogbyhcImNsYXNzIGhlaWdodCBpZCBpbiByZXN1bHQgc3R5bGUgd2lkdGggeCB4bWw6YmFzZSB4bWw6bGFuZyB4bWw6c3BhY2UgeVwiKSxcbiAgICAgICAgICAgIGZlQ29tcG9zaXRlOiBvKFwiY2xhc3MgaGVpZ2h0IGlkIGluIGluMiBrMSBrMiBrMyBrNCBvcGVyYXRvciByZXN1bHQgc3R5bGUgd2lkdGggeCB4bWw6YmFzZSB4bWw6bGFuZyB4bWw6c3BhY2UgeVwiKSxcbiAgICAgICAgICAgIGZlQ29udm9sdmVNYXRyaXg6IG8oXCJiaWFzIGNsYXNzIGRpdmlzb3IgZWRnZU1vZGUgaGVpZ2h0IGlkIGluIGtlcm5lbE1hdHJpeCBrZXJuZWxVbml0TGVuZ3RoIG9yZGVyIHByZXNlcnZlQWxwaGEgcmVzdWx0IHN0eWxlIHRhcmdldFggdGFyZ2V0WSB3aWR0aCB4IHhtbDpiYXNlIHhtbDpsYW5nIHhtbDpzcGFjZSB5XCIpLFxuICAgICAgICAgICAgZmVEaWZmdXNlTGlnaHRpbmc6IG8oXCJjbGFzcyBkaWZmdXNlQ29uc3RhbnQgaGVpZ2h0IGlkIGluIGtlcm5lbFVuaXRMZW5ndGggcmVzdWx0IHN0eWxlIHN1cmZhY2VTY2FsZSB3aWR0aCB4IHhtbDpiYXNlIHhtbDpsYW5nIHhtbDpzcGFjZSB5XCIpLFxuICAgICAgICAgICAgZmVEaXNwbGFjZW1lbnRNYXA6IG8oXCJjbGFzcyBoZWlnaHQgaWQgaW4gaW4yIHJlc3VsdCBzY2FsZSBzdHlsZSB3aWR0aCB4IHhDaGFubmVsU2VsZWN0b3IgeG1sOmJhc2UgeG1sOmxhbmcgeG1sOnNwYWNlIHkgeUNoYW5uZWxTZWxlY3RvclwiKSxcbiAgICAgICAgICAgIGZlRGlzdGFudExpZ2h0OiBvKFwiYXppbXV0aCBlbGV2YXRpb24gaWQgeG1sOmJhc2UgeG1sOmxhbmcgeG1sOnNwYWNlXCIpLFxuICAgICAgICAgICAgZmVGbG9vZDogbyhcImNsYXNzIGhlaWdodCBpZCByZXN1bHQgc3R5bGUgd2lkdGggeCB4bWw6YmFzZSB4bWw6bGFuZyB4bWw6c3BhY2UgeVwiKSxcbiAgICAgICAgICAgIGZlRnVuY0E6IG8oXCJhbXBsaXR1ZGUgZXhwb25lbnQgaWQgaW50ZXJjZXB0IG9mZnNldCBzbG9wZSB0YWJsZVZhbHVlcyB0eXBlIHhtbDpiYXNlIHhtbDpsYW5nIHhtbDpzcGFjZVwiKSxcbiAgICAgICAgICAgIGZlRnVuY0I6IG8oXCJhbXBsaXR1ZGUgZXhwb25lbnQgaWQgaW50ZXJjZXB0IG9mZnNldCBzbG9wZSB0YWJsZVZhbHVlcyB0eXBlIHhtbDpiYXNlIHhtbDpsYW5nIHhtbDpzcGFjZVwiKSxcbiAgICAgICAgICAgIGZlRnVuY0c6IG8oXCJhbXBsaXR1ZGUgZXhwb25lbnQgaWQgaW50ZXJjZXB0IG9mZnNldCBzbG9wZSB0YWJsZVZhbHVlcyB0eXBlIHhtbDpiYXNlIHhtbDpsYW5nIHhtbDpzcGFjZVwiKSxcbiAgICAgICAgICAgIGZlRnVuY1I6IG8oXCJhbXBsaXR1ZGUgZXhwb25lbnQgaWQgaW50ZXJjZXB0IG9mZnNldCBzbG9wZSB0YWJsZVZhbHVlcyB0eXBlIHhtbDpiYXNlIHhtbDpsYW5nIHhtbDpzcGFjZVwiKSxcbiAgICAgICAgICAgIGZlR2F1c3NpYW5CbHVyOiBvKFwiY2xhc3MgaGVpZ2h0IGlkIGluIHJlc3VsdCBzdGREZXZpYXRpb24gc3R5bGUgd2lkdGggeCB4bWw6YmFzZSB4bWw6bGFuZyB4bWw6c3BhY2UgeVwiKSxcbiAgICAgICAgICAgIGZlSW1hZ2U6IG8oXCJjbGFzcyBleHRlcm5hbFJlc291cmNlc1JlcXVpcmVkIGhlaWdodCBpZCBwcmVzZXJ2ZUFzcGVjdFJhdGlvIHJlc3VsdCBzdHlsZSB3aWR0aCB4IHhsaW5rOmFjdHVhdGUgeGxpbms6YXJjcm9sZSB4bGluazpocmVmIHhsaW5rOnJvbGUgeGxpbms6c2hvdyB4bGluazp0aXRsZSB4bGluazp0eXBlIHhtbDpiYXNlIHhtbDpsYW5nIHhtbDpzcGFjZSB5XCIpLFxuICAgICAgICAgICAgZmVNZXJnZTogbyhcImNsYXNzIGhlaWdodCBpZCByZXN1bHQgc3R5bGUgd2lkdGggeCB4bWw6YmFzZSB4bWw6bGFuZyB4bWw6c3BhY2UgeVwiKSxcbiAgICAgICAgICAgIGZlTWVyZ2VOb2RlOiBvKFwiaWQgeG1sOmJhc2UgeG1sOmxhbmcgeG1sOnNwYWNlXCIpLFxuICAgICAgICAgICAgZmVNb3JwaG9sb2d5OiBvKFwiY2xhc3MgaGVpZ2h0IGlkIGluIG9wZXJhdG9yIHJhZGl1cyByZXN1bHQgc3R5bGUgd2lkdGggeCB4bWw6YmFzZSB4bWw6bGFuZyB4bWw6c3BhY2UgeVwiKSxcbiAgICAgICAgICAgIGZlT2Zmc2V0OiBvKFwiY2xhc3MgZHggZHkgaGVpZ2h0IGlkIGluIHJlc3VsdCBzdHlsZSB3aWR0aCB4IHhtbDpiYXNlIHhtbDpsYW5nIHhtbDpzcGFjZSB5XCIpLFxuICAgICAgICAgICAgZmVQb2ludExpZ2h0OiBvKFwiaWQgeCB4bWw6YmFzZSB4bWw6bGFuZyB4bWw6c3BhY2UgeSB6XCIpLFxuICAgICAgICAgICAgZmVTcGVjdWxhckxpZ2h0aW5nOiBvKFwiY2xhc3MgaGVpZ2h0IGlkIGluIGtlcm5lbFVuaXRMZW5ndGggcmVzdWx0IHNwZWN1bGFyQ29uc3RhbnQgc3BlY3VsYXJFeHBvbmVudCBzdHlsZSBzdXJmYWNlU2NhbGUgd2lkdGggeCB4bWw6YmFzZSB4bWw6bGFuZyB4bWw6c3BhY2UgeVwiKSxcbiAgICAgICAgICAgIGZlU3BvdExpZ2h0OiBvKFwiaWQgbGltaXRpbmdDb25lQW5nbGUgcG9pbnRzQXRYIHBvaW50c0F0WSBwb2ludHNBdFogc3BlY3VsYXJFeHBvbmVudCB4IHhtbDpiYXNlIHhtbDpsYW5nIHhtbDpzcGFjZSB5IHpcIiksXG4gICAgICAgICAgICBmZVRpbGU6IG8oXCJjbGFzcyBoZWlnaHQgaWQgaW4gcmVzdWx0IHN0eWxlIHdpZHRoIHggeG1sOmJhc2UgeG1sOmxhbmcgeG1sOnNwYWNlIHlcIiksXG4gICAgICAgICAgICBmZVR1cmJ1bGVuY2U6IG8oXCJiYXNlRnJlcXVlbmN5IGNsYXNzIGhlaWdodCBpZCBudW1PY3RhdmVzIHJlc3VsdCBzZWVkIHN0aXRjaFRpbGVzIHN0eWxlIHR5cGUgd2lkdGggeCB4bWw6YmFzZSB4bWw6bGFuZyB4bWw6c3BhY2UgeVwiKSxcbiAgICAgICAgICAgIGZpbHRlcjogbyhcImNsYXNzIGV4dGVybmFsUmVzb3VyY2VzUmVxdWlyZWQgZmlsdGVyUmVzIGZpbHRlclVuaXRzIGhlaWdodCBpZCBwcmltaXRpdmVVbml0cyBzdHlsZSB3aWR0aCB4IHhsaW5rOmFjdHVhdGUgeGxpbms6YXJjcm9sZSB4bGluazpocmVmIHhsaW5rOnJvbGUgeGxpbms6c2hvdyB4bGluazp0aXRsZSB4bGluazp0eXBlIHhtbDpiYXNlIHhtbDpsYW5nIHhtbDpzcGFjZSB5XCIpLFxuICAgICAgICAgICAgZm9udDogbyhcImNsYXNzIGV4dGVybmFsUmVzb3VyY2VzUmVxdWlyZWQgaG9yaXotYWR2LXggaG9yaXotb3JpZ2luLXggaG9yaXotb3JpZ2luLXkgaWQgc3R5bGUgdmVydC1hZHYteSB2ZXJ0LW9yaWdpbi14IHZlcnQtb3JpZ2luLXkgeG1sOmJhc2UgeG1sOmxhbmcgeG1sOnNwYWNlXCIpLFxuICAgICAgICAgICAgXCJmb250LWZhY2VcIjogbyhcImFjY2VudC1oZWlnaHQgYWxwaGFiZXRpYyBhc2NlbnQgYmJveCBjYXAtaGVpZ2h0IGRlc2NlbnQgZm9udC1mYW1pbHkgZm9udC1zaXplIGZvbnQtc3RyZXRjaCBmb250LXN0eWxlIGZvbnQtdmFyaWFudCBmb250LXdlaWdodCBoYW5naW5nIGlkIGlkZW9ncmFwaGljIG1hdGhlbWF0aWNhbCBvdmVybGluZS1wb3NpdGlvbiBvdmVybGluZS10aGlja25lc3MgcGFub3NlLTEgc2xvcGUgc3RlbWggc3RlbXYgc3RyaWtldGhyb3VnaC1wb3NpdGlvbiBzdHJpa2V0aHJvdWdoLXRoaWNrbmVzcyB1bmRlcmxpbmUtcG9zaXRpb24gdW5kZXJsaW5lLXRoaWNrbmVzcyB1bmljb2RlLXJhbmdlIHVuaXRzLXBlci1lbSB2LWFscGhhYmV0aWMgdi1oYW5naW5nIHYtaWRlb2dyYXBoaWMgdi1tYXRoZW1hdGljYWwgd2lkdGhzIHgtaGVpZ2h0IHhtbDpiYXNlIHhtbDpsYW5nIHhtbDpzcGFjZVwiKSxcbiAgICAgICAgICAgIFwiZm9udC1mYWNlLWZvcm1hdFwiOiBvKFwiaWQgc3RyaW5nIHhtbDpiYXNlIHhtbDpsYW5nIHhtbDpzcGFjZVwiKSxcbiAgICAgICAgICAgIFwiZm9udC1mYWNlLW5hbWVcIjogbyhcImlkIG5hbWUgeG1sOmJhc2UgeG1sOmxhbmcgeG1sOnNwYWNlXCIpLFxuICAgICAgICAgICAgXCJmb250LWZhY2Utc3JjXCI6IG8oXCJpZCB4bWw6YmFzZSB4bWw6bGFuZyB4bWw6c3BhY2VcIiksXG4gICAgICAgICAgICBcImZvbnQtZmFjZS11cmlcIjogbyhcImlkIHhsaW5rOmFjdHVhdGUgeGxpbms6YXJjcm9sZSB4bGluazpocmVmIHhsaW5rOnJvbGUgeGxpbms6c2hvdyB4bGluazp0aXRsZSB4bGluazp0eXBlIHhtbDpiYXNlIHhtbDpsYW5nIHhtbDpzcGFjZVwiKSxcbiAgICAgICAgICAgIGZvcmVpZ25PYmplY3Q6IG8oXCJjbGFzcyBleHRlcm5hbFJlc291cmNlc1JlcXVpcmVkIGhlaWdodCBpZCBvbmFjdGl2YXRlIG9uY2xpY2sgb25mb2N1c2luIG9uZm9jdXNvdXQgb25sb2FkIG9ubW91c2Vkb3duIG9ubW91c2Vtb3ZlIG9ubW91c2VvdXQgb25tb3VzZW92ZXIgb25tb3VzZXVwIHJlcXVpcmVkRXh0ZW5zaW9ucyByZXF1aXJlZEZlYXR1cmVzIHN0eWxlIHN5c3RlbUxhbmd1YWdlIHRyYW5zZm9ybSB3aWR0aCB4IHhtbDpiYXNlIHhtbDpsYW5nIHhtbDpzcGFjZSB5XCIpLFxuICAgICAgICAgICAgZzogbyhcImNsYXNzIGV4dGVybmFsUmVzb3VyY2VzUmVxdWlyZWQgaWQgb25hY3RpdmF0ZSBvbmNsaWNrIG9uZm9jdXNpbiBvbmZvY3Vzb3V0IG9ubG9hZCBvbm1vdXNlZG93biBvbm1vdXNlbW92ZSBvbm1vdXNlb3V0IG9ubW91c2VvdmVyIG9ubW91c2V1cCByZXF1aXJlZEV4dGVuc2lvbnMgcmVxdWlyZWRGZWF0dXJlcyBzdHlsZSBzeXN0ZW1MYW5ndWFnZSB0cmFuc2Zvcm0geG1sOmJhc2UgeG1sOmxhbmcgeG1sOnNwYWNlXCIpLFxuICAgICAgICAgICAgZ2x5cGg6IG8oXCJhcmFiaWMtZm9ybSBjbGFzcyBkIGdseXBoLW5hbWUgaG9yaXotYWR2LXggaWQgbGFuZyBvcmllbnRhdGlvbiBzdHlsZSB1bmljb2RlIHZlcnQtYWR2LXkgdmVydC1vcmlnaW4teCB2ZXJ0LW9yaWdpbi15IHhtbDpiYXNlIHhtbDpsYW5nIHhtbDpzcGFjZVwiKSxcbiAgICAgICAgICAgIGdseXBoUmVmOiBvKFwiY2xhc3MgZHggZHkgZm9ybWF0IGdseXBoUmVmIGlkIHN0eWxlIHggeGxpbms6YWN0dWF0ZSB4bGluazphcmNyb2xlIHhsaW5rOmhyZWYgeGxpbms6cm9sZSB4bGluazpzaG93IHhsaW5rOnRpdGxlIHhsaW5rOnR5cGUgeG1sOmJhc2UgeG1sOmxhbmcgeG1sOnNwYWNlIHlcIiksXG4gICAgICAgICAgICBnbHlwaHJlZjogbigpLFxuICAgICAgICAgICAgaGtlcm46IG8oXCJnMSBnMiBpZCBrIHUxIHUyIHhtbDpiYXNlIHhtbDpsYW5nIHhtbDpzcGFjZVwiKSxcbiAgICAgICAgICAgIGltYWdlOiBvKFwiY2xhc3MgZXh0ZXJuYWxSZXNvdXJjZXNSZXF1aXJlZCBoZWlnaHQgaWQgb25hY3RpdmF0ZSBvbmNsaWNrIG9uZm9jdXNpbiBvbmZvY3Vzb3V0IG9ubG9hZCBvbm1vdXNlZG93biBvbm1vdXNlbW92ZSBvbm1vdXNlb3V0IG9ubW91c2VvdmVyIG9ubW91c2V1cCBwcmVzZXJ2ZUFzcGVjdFJhdGlvIHJlcXVpcmVkRXh0ZW5zaW9ucyByZXF1aXJlZEZlYXR1cmVzIHN0eWxlIHN5c3RlbUxhbmd1YWdlIHRyYW5zZm9ybSB3aWR0aCB4IHhsaW5rOmFjdHVhdGUgeGxpbms6YXJjcm9sZSB4bGluazpocmVmIHhsaW5rOnJvbGUgeGxpbms6c2hvdyB4bGluazp0aXRsZSB4bGluazp0eXBlIHhtbDpiYXNlIHhtbDpsYW5nIHhtbDpzcGFjZSB5XCIpLFxuICAgICAgICAgICAgbGluZTogbyhcImNsYXNzIGV4dGVybmFsUmVzb3VyY2VzUmVxdWlyZWQgaWQgb25hY3RpdmF0ZSBvbmNsaWNrIG9uZm9jdXNpbiBvbmZvY3Vzb3V0IG9ubG9hZCBvbm1vdXNlZG93biBvbm1vdXNlbW92ZSBvbm1vdXNlb3V0IG9ubW91c2VvdmVyIG9ubW91c2V1cCByZXF1aXJlZEV4dGVuc2lvbnMgcmVxdWlyZWRGZWF0dXJlcyBzdHlsZSBzeXN0ZW1MYW5ndWFnZSB0cmFuc2Zvcm0geDEgeDIgeG1sOmJhc2UgeG1sOmxhbmcgeG1sOnNwYWNlIHkxIHkyXCIpLFxuICAgICAgICAgICAgbGluZWFyR3JhZGllbnQ6IG8oXCJjbGFzcyBleHRlcm5hbFJlc291cmNlc1JlcXVpcmVkIGdyYWRpZW50VHJhbnNmb3JtIGdyYWRpZW50VW5pdHMgaWQgc3ByZWFkTWV0aG9kIHN0eWxlIHgxIHgyIHhsaW5rOmFyY3JvbGUgeGxpbms6aHJlZiB4bGluazpyb2xlIHhsaW5rOnRpdGxlIHhsaW5rOnR5cGUgeG1sOmJhc2UgeG1sOmxhbmcgeG1sOnNwYWNlIHkxIHkyXCIpLFxuICAgICAgICAgICAgbWFya2VyOiBvKFwiY2xhc3MgZXh0ZXJuYWxSZXNvdXJjZXNSZXF1aXJlZCBpZCBtYXJrZXJIZWlnaHQgbWFya2VyVW5pdHMgbWFya2VyV2lkdGggb3JpZW50IHByZXNlcnZlQXNwZWN0UmF0aW8gcmVmWCByZWZZIHN0eWxlIHZpZXdCb3ggeG1sOmJhc2UgeG1sOmxhbmcgeG1sOnNwYWNlXCIpLFxuICAgICAgICAgICAgbWFzazogbyhcImNsYXNzIGV4dGVybmFsUmVzb3VyY2VzUmVxdWlyZWQgaGVpZ2h0IGlkIG1hc2tDb250ZW50VW5pdHMgbWFza1VuaXRzIHJlcXVpcmVkRXh0ZW5zaW9ucyByZXF1aXJlZEZlYXR1cmVzIHN0eWxlIHN5c3RlbUxhbmd1YWdlIHdpZHRoIHggeG1sOmJhc2UgeG1sOmxhbmcgeG1sOnNwYWNlIHlcIiksXG4gICAgICAgICAgICBtZXRhZGF0YTogbyhcImlkIHhtbDpiYXNlIHhtbDpsYW5nIHhtbDpzcGFjZVwiKSxcbiAgICAgICAgICAgIFwibWlzc2luZy1nbHlwaFwiOiBvKFwiY2xhc3MgZCBob3Jpei1hZHYteCBpZCBzdHlsZSB2ZXJ0LWFkdi15IHZlcnQtb3JpZ2luLXggdmVydC1vcmlnaW4teSB4bWw6YmFzZSB4bWw6bGFuZyB4bWw6c3BhY2VcIiksXG4gICAgICAgICAgICBtcGF0aDogbyhcImV4dGVybmFsUmVzb3VyY2VzUmVxdWlyZWQgaWQgeGxpbms6YWN0dWF0ZSB4bGluazphcmNyb2xlIHhsaW5rOmhyZWYgeGxpbms6cm9sZSB4bGluazpzaG93IHhsaW5rOnRpdGxlIHhsaW5rOnR5cGUgeG1sOmJhc2UgeG1sOmxhbmcgeG1sOnNwYWNlXCIpLFxuICAgICAgICAgICAgcGF0aDogbyhcImNsYXNzIGQgZXh0ZXJuYWxSZXNvdXJjZXNSZXF1aXJlZCBpZCBvbmFjdGl2YXRlIG9uY2xpY2sgb25mb2N1c2luIG9uZm9jdXNvdXQgb25sb2FkIG9ubW91c2Vkb3duIG9ubW91c2Vtb3ZlIG9ubW91c2VvdXQgb25tb3VzZW92ZXIgb25tb3VzZXVwIHBhdGhMZW5ndGggcmVxdWlyZWRFeHRlbnNpb25zIHJlcXVpcmVkRmVhdHVyZXMgc3R5bGUgc3lzdGVtTGFuZ3VhZ2UgdHJhbnNmb3JtIHhtbDpiYXNlIHhtbDpsYW5nIHhtbDpzcGFjZVwiKSxcbiAgICAgICAgICAgIHBhdHRlcm46IG8oXCJjbGFzcyBleHRlcm5hbFJlc291cmNlc1JlcXVpcmVkIGhlaWdodCBpZCBwYXR0ZXJuQ29udGVudFVuaXRzIHBhdHRlcm5UcmFuc2Zvcm0gcGF0dGVyblVuaXRzIHByZXNlcnZlQXNwZWN0UmF0aW8gcmVxdWlyZWRFeHRlbnNpb25zIHJlcXVpcmVkRmVhdHVyZXMgc3R5bGUgc3lzdGVtTGFuZ3VhZ2Ugdmlld0JveCB3aWR0aCB4IHhsaW5rOmFjdHVhdGUgeGxpbms6YXJjcm9sZSB4bGluazpocmVmIHhsaW5rOnJvbGUgeGxpbms6c2hvdyB4bGluazp0aXRsZSB4bGluazp0eXBlIHhtbDpiYXNlIHhtbDpsYW5nIHhtbDpzcGFjZSB5XCIpLFxuICAgICAgICAgICAgcG9seWdvbjogbyhcImNsYXNzIGV4dGVybmFsUmVzb3VyY2VzUmVxdWlyZWQgaWQgb25hY3RpdmF0ZSBvbmNsaWNrIG9uZm9jdXNpbiBvbmZvY3Vzb3V0IG9ubG9hZCBvbm1vdXNlZG93biBvbm1vdXNlbW92ZSBvbm1vdXNlb3V0IG9ubW91c2VvdmVyIG9ubW91c2V1cCBwb2ludHMgcmVxdWlyZWRFeHRlbnNpb25zIHJlcXVpcmVkRmVhdHVyZXMgc3R5bGUgc3lzdGVtTGFuZ3VhZ2UgdHJhbnNmb3JtIHhtbDpiYXNlIHhtbDpsYW5nIHhtbDpzcGFjZVwiKSxcbiAgICAgICAgICAgIHBvbHlsaW5lOiBvKFwiY2xhc3MgZXh0ZXJuYWxSZXNvdXJjZXNSZXF1aXJlZCBpZCBvbmFjdGl2YXRlIG9uY2xpY2sgb25mb2N1c2luIG9uZm9jdXNvdXQgb25sb2FkIG9ubW91c2Vkb3duIG9ubW91c2Vtb3ZlIG9ubW91c2VvdXQgb25tb3VzZW92ZXIgb25tb3VzZXVwIHBvaW50cyByZXF1aXJlZEV4dGVuc2lvbnMgcmVxdWlyZWRGZWF0dXJlcyBzdHlsZSBzeXN0ZW1MYW5ndWFnZSB0cmFuc2Zvcm0geG1sOmJhc2UgeG1sOmxhbmcgeG1sOnNwYWNlXCIpLFxuICAgICAgICAgICAgcmFkaWFsR3JhZGllbnQ6IG8oXCJjbGFzcyBjeCBjeSBleHRlcm5hbFJlc291cmNlc1JlcXVpcmVkIGZ4IGZ5IGdyYWRpZW50VHJhbnNmb3JtIGdyYWRpZW50VW5pdHMgaWQgciBzcHJlYWRNZXRob2Qgc3R5bGUgeGxpbms6YXJjcm9sZSB4bGluazpocmVmIHhsaW5rOnJvbGUgeGxpbms6dGl0bGUgeGxpbms6dHlwZSB4bWw6YmFzZSB4bWw6bGFuZyB4bWw6c3BhY2VcIiksXG4gICAgICAgICAgICByZWN0OiBvKFwiY2xhc3MgZXh0ZXJuYWxSZXNvdXJjZXNSZXF1aXJlZCBoZWlnaHQgaWQgb25hY3RpdmF0ZSBvbmNsaWNrIG9uZm9jdXNpbiBvbmZvY3Vzb3V0IG9ubG9hZCBvbm1vdXNlZG93biBvbm1vdXNlbW92ZSBvbm1vdXNlb3V0IG9ubW91c2VvdmVyIG9ubW91c2V1cCByZXF1aXJlZEV4dGVuc2lvbnMgcmVxdWlyZWRGZWF0dXJlcyByeCByeSBzdHlsZSBzeXN0ZW1MYW5ndWFnZSB0cmFuc2Zvcm0gd2lkdGggeCB4bWw6YmFzZSB4bWw6bGFuZyB4bWw6c3BhY2UgeVwiKSxcbiAgICAgICAgICAgIHNjcmlwdDogbyhcImV4dGVybmFsUmVzb3VyY2VzUmVxdWlyZWQgaWQgdHlwZSB4bGluazphY3R1YXRlIHhsaW5rOmFyY3JvbGUgeGxpbms6aHJlZiB4bGluazpyb2xlIHhsaW5rOnNob3cgeGxpbms6dGl0bGUgeGxpbms6dHlwZSB4bWw6YmFzZSB4bWw6bGFuZyB4bWw6c3BhY2VcIiksXG4gICAgICAgICAgICBzZXQ6IG8oXCJhdHRyaWJ1dGVOYW1lIGF0dHJpYnV0ZVR5cGUgYmVnaW4gZHVyIGVuZCBleHRlcm5hbFJlc291cmNlc1JlcXVpcmVkIGZpbGwgaWQgbWF4IG1pbiBvbmJlZ2luIG9uZW5kIG9ubG9hZCBvbnJlcGVhdCByZXBlYXRDb3VudCByZXBlYXREdXIgcmVxdWlyZWRFeHRlbnNpb25zIHJlcXVpcmVkRmVhdHVyZXMgcmVzdGFydCBzeXN0ZW1MYW5ndWFnZSB0byB4bGluazphY3R1YXRlIHhsaW5rOmFyY3JvbGUgeGxpbms6aHJlZiB4bGluazpyb2xlIHhsaW5rOnNob3cgeGxpbms6dGl0bGUgeGxpbms6dHlwZSB4bWw6YmFzZSB4bWw6bGFuZyB4bWw6c3BhY2VcIiksXG4gICAgICAgICAgICBzdG9wOiBvKFwiY2xhc3MgaWQgb2Zmc2V0IHN0eWxlIHhtbDpiYXNlIHhtbDpsYW5nIHhtbDpzcGFjZVwiKSxcbiAgICAgICAgICAgIHN0eWxlOiBvKFwiaWQgbWVkaWEgdGl0bGUgdHlwZSB4bWw6YmFzZSB4bWw6bGFuZyB4bWw6c3BhY2VcIiksXG4gICAgICAgICAgICBzdmc6IG8oXCJiYXNlUHJvZmlsZSBjbGFzcyBjb250ZW50U2NyaXB0VHlwZSBjb250ZW50U3R5bGVUeXBlIGV4dGVybmFsUmVzb3VyY2VzUmVxdWlyZWQgaGVpZ2h0IGlkIG9uYWJvcnQgb25hY3RpdmF0ZSBvbmNsaWNrIG9uZXJyb3Igb25mb2N1c2luIG9uZm9jdXNvdXQgb25sb2FkIG9ubW91c2Vkb3duIG9ubW91c2Vtb3ZlIG9ubW91c2VvdXQgb25tb3VzZW92ZXIgb25tb3VzZXVwIG9ucmVzaXplIG9uc2Nyb2xsIG9udW5sb2FkIG9uem9vbSBwcmVzZXJ2ZUFzcGVjdFJhdGlvIHJlcXVpcmVkRXh0ZW5zaW9ucyByZXF1aXJlZEZlYXR1cmVzIHN0eWxlIHN5c3RlbUxhbmd1YWdlIHZlcnNpb24gdmlld0JveCB3aWR0aCB4IHhtbDpiYXNlIHhtbDpsYW5nIHhtbDpzcGFjZSB5IHpvb21BbmRQYW5cIiksXG4gICAgICAgICAgICBzd2l0Y2g6IG8oXCJjbGFzcyBleHRlcm5hbFJlc291cmNlc1JlcXVpcmVkIGlkIG9uYWN0aXZhdGUgb25jbGljayBvbmZvY3VzaW4gb25mb2N1c291dCBvbmxvYWQgb25tb3VzZWRvd24gb25tb3VzZW1vdmUgb25tb3VzZW91dCBvbm1vdXNlb3ZlciBvbm1vdXNldXAgcmVxdWlyZWRFeHRlbnNpb25zIHJlcXVpcmVkRmVhdHVyZXMgc3R5bGUgc3lzdGVtTGFuZ3VhZ2UgdHJhbnNmb3JtIHhtbDpiYXNlIHhtbDpsYW5nIHhtbDpzcGFjZVwiKSxcbiAgICAgICAgICAgIHN5bWJvbDogbyhcImNsYXNzIGV4dGVybmFsUmVzb3VyY2VzUmVxdWlyZWQgaWQgb25hY3RpdmF0ZSBvbmNsaWNrIG9uZm9jdXNpbiBvbmZvY3Vzb3V0IG9ubG9hZCBvbm1vdXNlZG93biBvbm1vdXNlbW92ZSBvbm1vdXNlb3V0IG9ubW91c2VvdmVyIG9ubW91c2V1cCBwcmVzZXJ2ZUFzcGVjdFJhdGlvIHN0eWxlIHZpZXdCb3ggeG1sOmJhc2UgeG1sOmxhbmcgeG1sOnNwYWNlXCIpLFxuICAgICAgICAgICAgdGV4dDogbyhcImNsYXNzIGR4IGR5IGV4dGVybmFsUmVzb3VyY2VzUmVxdWlyZWQgaWQgbGVuZ3RoQWRqdXN0IG9uYWN0aXZhdGUgb25jbGljayBvbmZvY3VzaW4gb25mb2N1c291dCBvbmxvYWQgb25tb3VzZWRvd24gb25tb3VzZW1vdmUgb25tb3VzZW91dCBvbm1vdXNlb3ZlciBvbm1vdXNldXAgcmVxdWlyZWRFeHRlbnNpb25zIHJlcXVpcmVkRmVhdHVyZXMgcm90YXRlIHN0eWxlIHN5c3RlbUxhbmd1YWdlIHRleHRMZW5ndGggdHJhbnNmb3JtIHggeG1sOmJhc2UgeG1sOmxhbmcgeG1sOnNwYWNlIHlcIiksXG4gICAgICAgICAgICB0ZXh0UGF0aDogbyhcImNsYXNzIGV4dGVybmFsUmVzb3VyY2VzUmVxdWlyZWQgaWQgbGVuZ3RoQWRqdXN0IG1ldGhvZCBvbmFjdGl2YXRlIG9uY2xpY2sgb25mb2N1c2luIG9uZm9jdXNvdXQgb25sb2FkIG9ubW91c2Vkb3duIG9ubW91c2Vtb3ZlIG9ubW91c2VvdXQgb25tb3VzZW92ZXIgb25tb3VzZXVwIHJlcXVpcmVkRXh0ZW5zaW9ucyByZXF1aXJlZEZlYXR1cmVzIHNwYWNpbmcgc3RhcnRPZmZzZXQgc3R5bGUgc3lzdGVtTGFuZ3VhZ2UgdGV4dExlbmd0aCB4bGluazphcmNyb2xlIHhsaW5rOmhyZWYgeGxpbms6cm9sZSB4bGluazp0aXRsZSB4bGluazp0eXBlIHhtbDpiYXNlIHhtbDpsYW5nIHhtbDpzcGFjZVwiKSxcbiAgICAgICAgICAgIHRpdGxlOiBvKFwiY2xhc3MgaWQgc3R5bGUgeG1sOmJhc2UgeG1sOmxhbmcgeG1sOnNwYWNlXCIpLFxuICAgICAgICAgICAgdHJlZjogbyhcImNsYXNzIGR4IGR5IGV4dGVybmFsUmVzb3VyY2VzUmVxdWlyZWQgaWQgbGVuZ3RoQWRqdXN0IG9uYWN0aXZhdGUgb25jbGljayBvbmZvY3VzaW4gb25mb2N1c291dCBvbmxvYWQgb25tb3VzZWRvd24gb25tb3VzZW1vdmUgb25tb3VzZW91dCBvbm1vdXNlb3ZlciBvbm1vdXNldXAgcmVxdWlyZWRFeHRlbnNpb25zIHJlcXVpcmVkRmVhdHVyZXMgcm90YXRlIHN0eWxlIHN5c3RlbUxhbmd1YWdlIHRleHRMZW5ndGggeCB4bGluazphcmNyb2xlIHhsaW5rOmhyZWYgeGxpbms6cm9sZSB4bGluazp0aXRsZSB4bGluazp0eXBlIHhtbDpiYXNlIHhtbDpsYW5nIHhtbDpzcGFjZSB5XCIpLFxuICAgICAgICAgICAgdHNwYW46IG8oXCJjbGFzcyBkeCBkeSBleHRlcm5hbFJlc291cmNlc1JlcXVpcmVkIGlkIGxlbmd0aEFkanVzdCBvbmFjdGl2YXRlIG9uY2xpY2sgb25mb2N1c2luIG9uZm9jdXNvdXQgb25sb2FkIG9ubW91c2Vkb3duIG9ubW91c2Vtb3ZlIG9ubW91c2VvdXQgb25tb3VzZW92ZXIgb25tb3VzZXVwIHJlcXVpcmVkRXh0ZW5zaW9ucyByZXF1aXJlZEZlYXR1cmVzIHJvdGF0ZSBzdHlsZSBzeXN0ZW1MYW5ndWFnZSB0ZXh0TGVuZ3RoIHggeG1sOmJhc2UgeG1sOmxhbmcgeG1sOnNwYWNlIHlcIiksXG4gICAgICAgICAgICB1c2U6IG8oXCJjbGFzcyBleHRlcm5hbFJlc291cmNlc1JlcXVpcmVkIGhlaWdodCBpZCBvbmFjdGl2YXRlIG9uY2xpY2sgb25mb2N1c2luIG9uZm9jdXNvdXQgb25sb2FkIG9ubW91c2Vkb3duIG9ubW91c2Vtb3ZlIG9ubW91c2VvdXQgb25tb3VzZW92ZXIgb25tb3VzZXVwIHJlcXVpcmVkRXh0ZW5zaW9ucyByZXF1aXJlZEZlYXR1cmVzIHN0eWxlIHN5c3RlbUxhbmd1YWdlIHRyYW5zZm9ybSB3aWR0aCB4IHhsaW5rOmFjdHVhdGUgeGxpbms6YXJjcm9sZSB4bGluazpocmVmIHhsaW5rOnJvbGUgeGxpbms6c2hvdyB4bGluazp0aXRsZSB4bGluazp0eXBlIHhtbDpiYXNlIHhtbDpsYW5nIHhtbDpzcGFjZSB5XCIpLFxuICAgICAgICAgICAgdmlldzogbyhcImV4dGVybmFsUmVzb3VyY2VzUmVxdWlyZWQgaWQgcHJlc2VydmVBc3BlY3RSYXRpbyB2aWV3Qm94IHZpZXdUYXJnZXQgeG1sOmJhc2UgeG1sOmxhbmcgeG1sOnNwYWNlIHpvb21BbmRQYW5cIiksXG4gICAgICAgICAgICB2a2VybjogbyhcImcxIGcyIGlkIGsgdTEgdTIgeG1sOmJhc2UgeG1sOmxhbmcgeG1sOnNwYWNlXCIpXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmtlID0gbyhcImEgYWx0R2x5cGggYW5pbWF0ZSBhbmltYXRlQ29sb3IgY2lyY2xlIGNsaXBQYXRoIGRlZnMgZWxsaXBzZSBmZUJsZW5kIGZlQ29sb3JNYXRyaXggZmVDb21wb25lbnRUcmFuc2ZlciBmZUNvbXBvc2l0ZSBmZUNvbnZvbHZlTWF0cml4IGZlRGlmZnVzZUxpZ2h0aW5nIGZlRGlzcGxhY2VtZW50TWFwIGZlRmxvb2QgZmVHYXVzc2lhbkJsdXIgZmVJbWFnZSBmZU1lcmdlIGZlTW9ycGhvbG9neSBmZU9mZnNldCBmZVNwZWN1bGFyTGlnaHRpbmcgZmVUaWxlIGZlVHVyYnVsZW5jZSBmaWx0ZXIgZm9udCBmb3JlaWduT2JqZWN0IGcgZ2x5cGggZ2x5cGhSZWYgaW1hZ2UgbGluZSBsaW5lYXJHcmFkaWVudCBtYXJrZXIgbWFzayBtaXNzaW5nLWdseXBoIHBhdGggcGF0dGVybiBwb2x5Z29uIHBvbHlsaW5lIHJhZGlhbEdyYWRpZW50IHJlY3Qgc3RvcCBzdmcgc3dpdGNoIHN5bWJvbCB0ZXh0IHRleHRQYXRoIHRyZWYgdHNwYW4gdXNlXCIpO1xuICAgICAgICB0aGlzLkNlID0gbyhcImFsaWdubWVudC1iYXNlbGluZSBiYXNlbGluZS1zaGlmdCBjbGlwLXBhdGggY2xpcC1ydWxlIGNsaXAgY29sb3ItaW50ZXJwb2xhdGlvbi1maWx0ZXJzIGNvbG9yLWludGVycG9sYXRpb24gY29sb3ItcHJvZmlsZSBjb2xvci1yZW5kZXJpbmcgY29sb3IgY3Vyc29yIGRpcmVjdGlvbiBkaXNwbGF5IGRvbWluYW50LWJhc2VsaW5lIGVuYWJsZS1iYWNrZ3JvdW5kIGZpbGwtb3BhY2l0eSBmaWxsLXJ1bGUgZmlsbCBmaWx0ZXIgZmxvb2QtY29sb3IgZmxvb2Qtb3BhY2l0eSBmb250LWZhbWlseSBmb250LXNpemUtYWRqdXN0IGZvbnQtc2l6ZSBmb250LXN0cmV0Y2ggZm9udC1zdHlsZSBmb250LXZhcmlhbnQgZm9udC13ZWlnaHQgZ2x5cGgtb3JpZW50YXRpb24taG9yaXpvbnRhbCBnbHlwaC1vcmllbnRhdGlvbi12ZXJ0aWNhbCBpbWFnZS1yZW5kZXJpbmcga2VybmluZyBsZXR0ZXItc3BhY2luZyBsaWdodGluZy1jb2xvciBtYXJrZXItZW5kIG1hcmtlci1taWQgbWFya2VyLXN0YXJ0IG1hc2sgb3BhY2l0eSBvdmVyZmxvdyBwb2ludGVyLWV2ZW50cyBzaGFwZS1yZW5kZXJpbmcgc3RvcC1jb2xvciBzdG9wLW9wYWNpdHkgc3Ryb2tlLWRhc2hhcnJheSBzdHJva2UtZGFzaG9mZnNldCBzdHJva2UtbGluZWNhcCBzdHJva2UtbGluZWpvaW4gc3Ryb2tlLW1pdGVybGltaXQgc3Ryb2tlLW9wYWNpdHkgc3Ryb2tlLXdpZHRoIHN0cm9rZSB0ZXh0LWFuY2hvciB0ZXh0LWRlY29yYXRpb24gdGV4dC1yZW5kZXJpbmcgdW5pY29kZS1iaWRpIHZpc2liaWxpdHkgd29yZC1zcGFjaW5nIHdyaXRpbmctbW9kZVwiKTtcbiAgICAgICAgY29uc3QgdCA9IHkoJGUpO1xuICAgICAgICB0aGlzLlNWR0VsZW1lbnQgPSB0Lmdsb2JhbFRoaXMuU1ZHRWxlbWVudDtcbiAgICAgICAgY29uc3QgZSA9IHQuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgZS5pbm5lckhUTUwgPSBcIjxzdmc+PGFsdEdseXBoIC8+PC9zdmc+XCI7XG4gICAgICAgIGlmIChlLmZpcnN0RWxlbWVudENoaWxkLm5vZGVOYW1lID09PSBcImFsdGdseXBoXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IHQgPSB0aGlzLnllO1xuICAgICAgICAgICAgbGV0IGUgPSB0LmFsdEdseXBoO1xuICAgICAgICAgICAgdC5hbHRHbHlwaCA9IHQuYWx0Z2x5cGg7XG4gICAgICAgICAgICB0LmFsdGdseXBoID0gZTtcbiAgICAgICAgICAgIGUgPSB0LmFsdEdseXBoRGVmO1xuICAgICAgICAgICAgdC5hbHRHbHlwaERlZiA9IHQuYWx0Z2x5cGhkZWY7XG4gICAgICAgICAgICB0LmFsdGdseXBoZGVmID0gZTtcbiAgICAgICAgICAgIGUgPSB0LmFsdEdseXBoSXRlbTtcbiAgICAgICAgICAgIHQuYWx0R2x5cGhJdGVtID0gdC5hbHRnbHlwaGl0ZW07XG4gICAgICAgICAgICB0LmFsdGdseXBoaXRlbSA9IGU7XG4gICAgICAgICAgICBlID0gdC5nbHlwaFJlZjtcbiAgICAgICAgICAgIHQuZ2x5cGhSZWYgPSB0LmdseXBocmVmO1xuICAgICAgICAgICAgdC5nbHlwaHJlZiA9IGU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaXNTdGFuZGFyZFN2Z0F0dHJpYnV0ZSh0LCBlKSB7XG4gICAgICAgIGlmICghKHQgaW5zdGFuY2VvZiB0aGlzLlNWR0VsZW1lbnQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMua2VbdC5ub2RlTmFtZV0gPT09IHRydWUgJiYgdGhpcy5DZVtlXSA9PT0gdHJ1ZSB8fCB0aGlzLnllW3Qubm9kZU5hbWVdPy5bZV0gPT09IHRydWU7XG4gICAgfVxufVxuXG5jbGFzcyBBdHRyTWFwcGVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5mbnMgPSBbXTtcbiAgICAgICAgdGhpcy5CZSA9IG4oKTtcbiAgICAgICAgdGhpcy5TZSA9IG4oKTtcbiAgICAgICAgdGhpcy5zdmcgPSB5KFdpKTtcbiAgICAgICAgdGhpcy51c2VNYXBwaW5nKHtcbiAgICAgICAgICAgIExBQkVMOiB7XG4gICAgICAgICAgICAgICAgZm9yOiBcImh0bWxGb3JcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIElNRzoge1xuICAgICAgICAgICAgICAgIHVzZW1hcDogXCJ1c2VNYXBcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIElOUFVUOiB7XG4gICAgICAgICAgICAgICAgbWF4bGVuZ3RoOiBcIm1heExlbmd0aFwiLFxuICAgICAgICAgICAgICAgIG1pbmxlbmd0aDogXCJtaW5MZW5ndGhcIixcbiAgICAgICAgICAgICAgICBmb3JtYWN0aW9uOiBcImZvcm1BY3Rpb25cIixcbiAgICAgICAgICAgICAgICBmb3JtZW5jdHlwZTogXCJmb3JtRW5jVHlwZVwiLFxuICAgICAgICAgICAgICAgIGZvcm1tZXRob2Q6IFwiZm9ybU1ldGhvZFwiLFxuICAgICAgICAgICAgICAgIGZvcm1ub3ZhbGlkYXRlOiBcImZvcm1Ob1ZhbGlkYXRlXCIsXG4gICAgICAgICAgICAgICAgZm9ybXRhcmdldDogXCJmb3JtVGFyZ2V0XCIsXG4gICAgICAgICAgICAgICAgaW5wdXRtb2RlOiBcImlucHV0TW9kZVwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgVEVYVEFSRUE6IHtcbiAgICAgICAgICAgICAgICBtYXhsZW5ndGg6IFwibWF4TGVuZ3RoXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBURDoge1xuICAgICAgICAgICAgICAgIHJvd3NwYW46IFwicm93U3BhblwiLFxuICAgICAgICAgICAgICAgIGNvbHNwYW46IFwiY29sU3BhblwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgVEg6IHtcbiAgICAgICAgICAgICAgICByb3dzcGFuOiBcInJvd1NwYW5cIixcbiAgICAgICAgICAgICAgICBjb2xzcGFuOiBcImNvbFNwYW5cIlxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy51c2VHbG9iYWxNYXBwaW5nKHtcbiAgICAgICAgICAgIGFjY2Vzc2tleTogXCJhY2Nlc3NLZXlcIixcbiAgICAgICAgICAgIGNvbnRlbnRlZGl0YWJsZTogXCJjb250ZW50RWRpdGFibGVcIixcbiAgICAgICAgICAgIHRhYmluZGV4OiBcInRhYkluZGV4XCIsXG4gICAgICAgICAgICB0ZXh0Y29udGVudDogXCJ0ZXh0Q29udGVudFwiLFxuICAgICAgICAgICAgaW5uZXJodG1sOiBcImlubmVySFRNTFwiLFxuICAgICAgICAgICAgc2Nyb2xsdG9wOiBcInNjcm9sbFRvcFwiLFxuICAgICAgICAgICAgc2Nyb2xsbGVmdDogXCJzY3JvbGxMZWZ0XCIsXG4gICAgICAgICAgICByZWFkb25seTogXCJyZWFkT25seVwiXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB1c2VNYXBwaW5nKHQpIHtcbiAgICAgICAgbGV0IGU7XG4gICAgICAgIGxldCBzO1xuICAgICAgICBsZXQgaTtcbiAgICAgICAgbGV0IHI7XG4gICAgICAgIGZvciAoaSBpbiB0KSB7XG4gICAgICAgICAgICBlID0gdFtpXTtcbiAgICAgICAgICAgIHMgPSB0aGlzLkJlW2ldID8/PSBuKCk7XG4gICAgICAgICAgICBmb3IgKHIgaW4gZSkge1xuICAgICAgICAgICAgICAgIGlmIChzW3JdICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IociwgaSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNbcl0gPSBlW3JdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHVzZUdsb2JhbE1hcHBpbmcodCkge1xuICAgICAgICBjb25zdCBlID0gdGhpcy5TZTtcbiAgICAgICAgZm9yIChjb25zdCBzIGluIHQpIHtcbiAgICAgICAgICAgIGlmIChlW3NdICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcihzLCBcIipcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlW3NdID0gdFtzXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB1c2VUd29XYXkodCkge1xuICAgICAgICB0aGlzLmZucy5wdXNoKHQpO1xuICAgIH1cbiAgICBpc1R3b1dheSh0LCBlKSB7XG4gICAgICAgIHJldHVybiBzaG91bGREZWZhdWx0VG9Ud29XYXkodCwgZSkgfHwgdGhpcy5mbnMubGVuZ3RoID4gMCAmJiB0aGlzLmZucy5zb21lKChzID0+IHModCwgZSkpKTtcbiAgICB9XG4gICAgbWFwKHQsIGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuQmVbdC5ub2RlTmFtZV0/LltlXSA/PyB0aGlzLlNlW2VdID8/IChpc0RhdGFBdHRyaWJ1dGUodCwgZSwgdGhpcy5zdmcpID8gZSA6IG51bGwpO1xuICAgIH1cbn1cblxuQXR0ck1hcHBlci5yZWdpc3RlciA9IE4oZ3QpO1xuXG5mdW5jdGlvbiBzaG91bGREZWZhdWx0VG9Ud29XYXkodCwgZSkge1xuICAgIHN3aXRjaCAodC5ub2RlTmFtZSkge1xuICAgICAgY2FzZSBcIklOUFVUXCI6XG4gICAgICAgIHN3aXRjaCAodC50eXBlKSB7XG4gICAgICAgICAgY2FzZSBcImNoZWNrYm94XCI6XG4gICAgICAgICAgY2FzZSBcInJhZGlvXCI6XG4gICAgICAgICAgICByZXR1cm4gZSA9PT0gXCJjaGVja2VkXCI7XG5cbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIGUgPT09IFwidmFsdWVcIiB8fCBlID09PSBcImZpbGVzXCIgfHwgZSA9PT0gXCJ2YWx1ZS1hcy1udW1iZXJcIiB8fCBlID09PSBcInZhbHVlLWFzLWRhdGVcIjtcbiAgICAgICAgfVxuXG4gICAgICBjYXNlIFwiVEVYVEFSRUFcIjpcbiAgICAgIGNhc2UgXCJTRUxFQ1RcIjpcbiAgICAgICAgcmV0dXJuIGUgPT09IFwidmFsdWVcIjtcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgc3dpdGNoIChlKSB7XG4gICAgICAgICAgY2FzZSBcInRleHRjb250ZW50XCI6XG4gICAgICAgICAgY2FzZSBcImlubmVyaHRtbFwiOlxuICAgICAgICAgICAgcmV0dXJuIHQuaGFzQXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpO1xuXG4gICAgICAgICAgY2FzZSBcInNjcm9sbHRvcFwiOlxuICAgICAgICAgIGNhc2UgXCJzY3JvbGxsZWZ0XCI6XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcblxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUVycm9yKHQsIGUpIHtcbiAgICByZXR1cm4gY3JlYXRlTWFwcGVkRXJyb3IoNzE5LCB0LCBlKTtcbn1cblxuY29uc3QgemkgPSB7XG4gICAgcmVnaXN0ZXIodCkge1xuICAgICAgICB0LnJlZ2lzdGVyKHZ0LCBBdHRyTWFwcGVyLCBSZXNvdXJjZVJlc29sdmVyKTtcbiAgICB9XG59O1xuXG5jbGFzcyBCaW5kYWJsZXNJbmZvIHtcbiAgICBjb25zdHJ1Y3Rvcih0LCBlLCBzKSB7XG4gICAgICAgIHRoaXMuYXR0cnMgPSB0O1xuICAgICAgICB0aGlzLmJpbmRhYmxlcyA9IGU7XG4gICAgICAgIHRoaXMucHJpbWFyeSA9IHM7XG4gICAgfVxufVxuXG5jbGFzcyBSZXNvdXJjZVJlc29sdmVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5BZSA9IG5ldyBXZWFrTWFwO1xuICAgICAgICB0aGlzLkVlID0gbmV3IFdlYWtNYXA7XG4gICAgfVxuICAgIGVsKHQsIGUpIHtcbiAgICAgICAgbGV0IHMgPSB0aGlzLkFlLmdldCh0KTtcbiAgICAgICAgaWYgKHMgPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5BZS5zZXQodCwgcyA9IG5ldyBSZWNvcmRDYWNoZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGUgaW4gcy5SZSA/IHMuUmVbZV0gOiBzLlJlW2VdID0gSGkuZmluZCh0LCBlKTtcbiAgICB9XG4gICAgYXR0cih0LCBlKSB7XG4gICAgICAgIGxldCBzID0gdGhpcy5BZS5nZXQodCk7XG4gICAgICAgIGlmIChzID09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuQWUuc2V0KHQsIHMgPSBuZXcgUmVjb3JkQ2FjaGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlIGluIHMuVGUgPyBzLlRlW2VdIDogcy5UZVtlXSA9IHplLmZpbmQodCwgZSk7XG4gICAgfVxuICAgIGJpbmRhYmxlcyh0KSB7XG4gICAgICAgIGxldCBlID0gdGhpcy5FZS5nZXQodCk7XG4gICAgICAgIGlmIChlID09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IHMgPSB0LmJpbmRhYmxlcztcbiAgICAgICAgICAgIGNvbnN0IGkgPSBuKCk7XG4gICAgICAgICAgICBsZXQgcjtcbiAgICAgICAgICAgIGxldCBsO1xuICAgICAgICAgICAgbGV0IGEgPSBmYWxzZTtcbiAgICAgICAgICAgIGxldCBoO1xuICAgICAgICAgICAgbGV0IGM7XG4gICAgICAgICAgICBmb3IgKGwgaW4gcykge1xuICAgICAgICAgICAgICAgIHIgPSBzW2xdO1xuICAgICAgICAgICAgICAgIGMgPSByLmF0dHJpYnV0ZTtcbiAgICAgICAgICAgICAgICBpZiAoci5wcmltYXJ5ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVNYXBwZWRFcnJvcig3MTQsIHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGEgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBoID0gcjtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFhICYmIGggPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBoID0gcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaVtjXSA9IEJpbmRhYmxlRGVmaW5pdGlvbi5jcmVhdGUobCwgcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAociA9PSBudWxsICYmIHQudHlwZSA9PT0gXCJjdXN0b20tYXR0cmlidXRlXCIpIHtcbiAgICAgICAgICAgICAgICBoID0gaS52YWx1ZSA9IEJpbmRhYmxlRGVmaW5pdGlvbi5jcmVhdGUoXCJ2YWx1ZVwiLCB7XG4gICAgICAgICAgICAgICAgICAgIG1vZGU6IHQuZGVmYXVsdEJpbmRpbmdNb2RlID8/IHVlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLkVlLnNldCh0LCBlID0gbmV3IEJpbmRhYmxlc0luZm8oaSwgcywgaCA/PyBudWxsKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGU7XG4gICAgfVxufVxuXG5SZXNvdXJjZVJlc29sdmVyLnJlZ2lzdGVyID0gTihwdCk7XG5cbmNsYXNzIFJlY29yZENhY2hlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5SZSA9IG4oKTtcbiAgICAgICAgdGhpcy5UZSA9IG4oKTtcbiAgICB9XG59XG5cbmNvbnN0IFVpID0gbigpO1xuXG5jbGFzcyBBdHRyaWJ1dGVOU0FjY2Vzc29yIHtcbiAgICBzdGF0aWMgZm9yTnModCkge1xuICAgICAgICByZXR1cm4gVWlbdF0gPz89IG5ldyBBdHRyaWJ1dGVOU0FjY2Vzc29yKHQpO1xuICAgIH1cbiAgICBjb25zdHJ1Y3Rvcih0KSB7XG4gICAgICAgIHRoaXMubnMgPSB0O1xuICAgICAgICB0aGlzLnR5cGUgPSByZSB8IG9lO1xuICAgIH1cbiAgICBnZXRWYWx1ZSh0LCBlKSB7XG4gICAgICAgIHJldHVybiB0LmdldEF0dHJpYnV0ZU5TKHRoaXMubnMsIGUpO1xuICAgIH1cbiAgICBzZXRWYWx1ZSh0LCBlLCBzKSB7XG4gICAgICAgIGlmICh0ID09IG51bGwpIHtcbiAgICAgICAgICAgIGUucmVtb3ZlQXR0cmlidXRlTlModGhpcy5ucywgcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlLnNldEF0dHJpYnV0ZU5TKHRoaXMubnMsIHMsIHQpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4oKCkgPT4ge1xuICAgIG1peGluTm9vcFN1YnNjcmliYWJsZShBdHRyaWJ1dGVOU0FjY2Vzc29yKTtcbn0pKCk7XG5cbmNsYXNzIERhdGFBdHRyaWJ1dGVBY2Nlc3NvciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMudHlwZSA9IHJlIHwgb2U7XG4gICAgfVxuICAgIGdldFZhbHVlKHQsIGUpIHtcbiAgICAgICAgcmV0dXJuIHQuZ2V0QXR0cmlidXRlKGUpO1xuICAgIH1cbiAgICBzZXRWYWx1ZSh0LCBlLCBzKSB7XG4gICAgICAgIGlmICh0ID09IG51bGwpIHtcbiAgICAgICAgICAgIGUucmVtb3ZlQXR0cmlidXRlKHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZS5zZXRBdHRyaWJ1dGUocywgdCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbigoKSA9PiB7XG4gICAgbWl4aW5Ob29wU3Vic2NyaWJhYmxlKERhdGFBdHRyaWJ1dGVBY2Nlc3Nvcik7XG59KSgpO1xuXG5jb25zdCBHaSA9IC8qQF9fUFVSRV9fKi8gbmV3IERhdGFBdHRyaWJ1dGVBY2Nlc3NvcjtcblxuY2xhc3MgU2VsZWN0VmFsdWVPYnNlcnZlciB7XG4gICAgc3RhdGljIExlKHQpIHtcbiAgICAgICAgY29uc3QgZSA9IFtdO1xuICAgICAgICBpZiAodC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHMgPSB0Lmxlbmd0aDtcbiAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICBsZXQgbjtcbiAgICAgICAgd2hpbGUgKHMgPiBpKSB7XG4gICAgICAgICAgICBuID0gdFtpXTtcbiAgICAgICAgICAgIGlmIChuLnNlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgZVtlLmxlbmd0aF0gPSB6dC5jYWxsKG4sIFwibW9kZWxcIikgPyBuLm1vZGVsIDogbi52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICsraTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZTtcbiAgICB9XG4gICAgc3RhdGljIE1lKHQsIGUpIHtcbiAgICAgICAgcmV0dXJuIHQgPT09IGU7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKHQsIGUsIHMsIGkpIHtcbiAgICAgICAgdGhpcy50eXBlID0gcmUgfCBuZSB8IG9lO1xuICAgICAgICB0aGlzLnYgPSB2b2lkIDA7XG4gICAgICAgIHRoaXMub3YgPSB2b2lkIDA7XG4gICAgICAgIHRoaXMuRGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5JZSA9IHZvaWQgMDtcbiAgICAgICAgdGhpcy5QZSA9IHZvaWQgMDtcbiAgICAgICAgdGhpcy5pTyA9IGZhbHNlO1xuICAgICAgICB0aGlzLnJ0ID0gZmFsc2U7XG4gICAgICAgIHRoaXMubnQgPSB0O1xuICAgICAgICB0aGlzLm9MID0gaTtcbiAgICAgICAgdGhpcy5jZiA9IHM7XG4gICAgfVxuICAgIGdldFZhbHVlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pTyA/IHRoaXMudiA6IHRoaXMubnQubXVsdGlwbGUgPyBTZWxlY3RWYWx1ZU9ic2VydmVyLkxlKHRoaXMubnQub3B0aW9ucykgOiB0aGlzLm50LnZhbHVlO1xuICAgIH1cbiAgICBzZXRWYWx1ZSh0KSB7XG4gICAgICAgIHRoaXMub3YgPSB0aGlzLnY7XG4gICAgICAgIHRoaXMudiA9IHQ7XG4gICAgICAgIHRoaXMuRGUgPSB0ICE9PSB0aGlzLm92O1xuICAgICAgICB0aGlzLnFlKHQgaW5zdGFuY2VvZiBBcnJheSA/IHQgOiBudWxsKTtcbiAgICAgICAgdGhpcy51dCgpO1xuICAgIH1cbiAgICB1dCgpIHtcbiAgICAgICAgaWYgKHRoaXMuRGUpIHtcbiAgICAgICAgICAgIHRoaXMuRGUgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuc3luY09wdGlvbnMoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBoYW5kbGVDb2xsZWN0aW9uQ2hhbmdlKCkge1xuICAgICAgICB0aGlzLnN5bmNPcHRpb25zKCk7XG4gICAgfVxuICAgIHN5bmNPcHRpb25zKCkge1xuICAgICAgICBjb25zdCB0ID0gdGhpcy52O1xuICAgICAgICBjb25zdCBlID0gdGhpcy5udDtcbiAgICAgICAgY29uc3QgcyA9IGEodCk7XG4gICAgICAgIGNvbnN0IGkgPSBlLm1hdGNoZXIgPz8gU2VsZWN0VmFsdWVPYnNlcnZlci5NZTtcbiAgICAgICAgY29uc3QgbiA9IGUub3B0aW9ucztcbiAgICAgICAgbGV0IHIgPSBuLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKHItLSA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGUgPSBuW3JdO1xuICAgICAgICAgICAgY29uc3QgbCA9IHp0LmNhbGwoZSwgXCJtb2RlbFwiKSA/IGUubW9kZWwgOiBlLnZhbHVlO1xuICAgICAgICAgICAgaWYgKHMpIHtcbiAgICAgICAgICAgICAgICBlLnNlbGVjdGVkID0gdC5maW5kSW5kZXgoKHQgPT4gISFpKGwsIHQpKSkgIT09IC0xO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZS5zZWxlY3RlZCA9ICEhaShsLCB0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzeW5jVmFsdWUoKSB7XG4gICAgICAgIGNvbnN0IHQgPSB0aGlzLm50O1xuICAgICAgICBjb25zdCBlID0gdC5vcHRpb25zO1xuICAgICAgICBjb25zdCBzID0gZS5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGkgPSB0aGlzLnY7XG4gICAgICAgIGxldCBuID0gMDtcbiAgICAgICAgaWYgKHQubXVsdGlwbGUpIHtcbiAgICAgICAgICAgIGlmICghKGkgaW5zdGFuY2VvZiBBcnJheSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCByO1xuICAgICAgICAgICAgY29uc3QgbCA9IHQubWF0Y2hlciB8fCBTZWxlY3RWYWx1ZU9ic2VydmVyLk1lO1xuICAgICAgICAgICAgY29uc3QgYSA9IFtdO1xuICAgICAgICAgICAgd2hpbGUgKG4gPCBzKSB7XG4gICAgICAgICAgICAgICAgciA9IGVbbl07XG4gICAgICAgICAgICAgICAgaWYgKHIuc2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgYS5wdXNoKHp0LmNhbGwociwgXCJtb2RlbFwiKSA/IHIubW9kZWwgOiByLnZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKytuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGg7XG4gICAgICAgICAgICBuID0gMDtcbiAgICAgICAgICAgIHdoaWxlIChuIDwgaS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBoID0gaVtuXTtcbiAgICAgICAgICAgICAgICBpZiAoYS5maW5kSW5kZXgoKHQgPT4gISFsKGgsIHQpKSkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIGkuc3BsaWNlKG4sIDEpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICsrbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuID0gMDtcbiAgICAgICAgICAgIHdoaWxlIChuIDwgYS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBoID0gYVtuXTtcbiAgICAgICAgICAgICAgICBpZiAoaS5maW5kSW5kZXgoKHQgPT4gISFsKGgsIHQpKSkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIGkucHVzaChoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKytuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGxldCByID0gbnVsbDtcbiAgICAgICAgbGV0IGw7XG4gICAgICAgIHdoaWxlIChuIDwgcykge1xuICAgICAgICAgICAgbCA9IGVbbl07XG4gICAgICAgICAgICBpZiAobC5zZWxlY3RlZCkge1xuICAgICAgICAgICAgICAgIHIgPSB6dC5jYWxsKGwsIFwibW9kZWxcIikgPyBsLm1vZGVsIDogbC52YWx1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICsrbjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm92ID0gdGhpcy52O1xuICAgICAgICB0aGlzLnYgPSByO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgb3QoKSB7XG4gICAgICAgICh0aGlzLlBlID0gY3JlYXRlTXV0YXRpb25PYnNlcnZlcih0aGlzLm50LCB0aGlzLl9lLmJpbmQodGhpcykpKS5vYnNlcnZlKHRoaXMubnQsIHtcbiAgICAgICAgICAgIGNoaWxkTGlzdDogdHJ1ZSxcbiAgICAgICAgICAgIHN1YnRyZWU6IHRydWUsXG4gICAgICAgICAgICBjaGFyYWN0ZXJEYXRhOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnFlKHRoaXMudiBpbnN0YW5jZW9mIEFycmF5ID8gdGhpcy52IDogbnVsbCk7XG4gICAgICAgIHRoaXMuaU8gPSB0cnVlO1xuICAgIH1cbiAgICBsdCgpIHtcbiAgICAgICAgdGhpcy5QZS5kaXNjb25uZWN0KCk7XG4gICAgICAgIHRoaXMuSWU/LnVuc3Vic2NyaWJlKHRoaXMpO1xuICAgICAgICB0aGlzLlBlID0gdGhpcy5JZSA9IHZvaWQgMDtcbiAgICAgICAgdGhpcy5pTyA9IGZhbHNlO1xuICAgIH1cbiAgICBxZSh0KSB7XG4gICAgICAgIHRoaXMuSWU/LnVuc3Vic2NyaWJlKHRoaXMpO1xuICAgICAgICB0aGlzLkllID0gdm9pZCAwO1xuICAgICAgICBpZiAodCAhPSBudWxsKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMubnQubXVsdGlwbGUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVNYXBwZWRFcnJvcig2NTQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgKHRoaXMuSWUgPSB0aGlzLm9MLmdldEFycmF5T2JzZXJ2ZXIodCkpLnN1YnNjcmliZSh0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBoYW5kbGVFdmVudCgpIHtcbiAgICAgICAgY29uc3QgdCA9IHRoaXMuc3luY1ZhbHVlKCk7XG4gICAgICAgIGlmICh0KSB7XG4gICAgICAgICAgICB0aGlzLk9lKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2UodCkge1xuICAgICAgICB0aGlzLnN5bmNPcHRpb25zKCk7XG4gICAgICAgIGNvbnN0IGUgPSB0aGlzLnN5bmNWYWx1ZSgpO1xuICAgICAgICBpZiAoZSkge1xuICAgICAgICAgICAgdGhpcy5PZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIE9lKCkge1xuICAgICAgICBjb25zdCB0ID0gdGhpcy5vdjtcbiAgICAgICAgdGhpcy5vdiA9IHRoaXMudjtcbiAgICAgICAgdGhpcy5zdWJzLm5vdGlmeSh0aGlzLnYsIHQpO1xuICAgIH1cbn1cblxuKCgpID0+IHtcbiAgICBtaXhpbk5vZGVPYnNlcnZlclVzZUNvbmZpZyhTZWxlY3RWYWx1ZU9ic2VydmVyKTtcbiAgICBZKFNlbGVjdFZhbHVlT2JzZXJ2ZXIsIG51bGwpO1xufSkoKTtcblxuY29uc3QgS2kgPSBcIi0tXCI7XG5cbmNsYXNzIFN0eWxlQXR0cmlidXRlQWNjZXNzb3Ige1xuICAgIGNvbnN0cnVjdG9yKHQpIHtcbiAgICAgICAgdGhpcy5vYmogPSB0O1xuICAgICAgICB0aGlzLnR5cGUgPSByZSB8IG9lO1xuICAgICAgICB0aGlzLnYgPSBcIlwiO1xuICAgICAgICB0aGlzLm92ID0gXCJcIjtcbiAgICAgICAgdGhpcy5zdHlsZXMgPSB7fTtcbiAgICAgICAgdGhpcy52ZXJzaW9uID0gMDtcbiAgICAgICAgdGhpcy5EZSA9IGZhbHNlO1xuICAgIH1cbiAgICBnZXRWYWx1ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub2JqLnN0eWxlLmNzc1RleHQ7XG4gICAgfVxuICAgIHNldFZhbHVlKHQpIHtcbiAgICAgICAgdGhpcy52ID0gdDtcbiAgICAgICAgdGhpcy5EZSA9IHQgIT09IHRoaXMub3Y7XG4gICAgICAgIHRoaXMudXQoKTtcbiAgICB9XG4gICAgRmUodCkge1xuICAgICAgICBjb25zdCBlID0gW107XG4gICAgICAgIGNvbnN0IHMgPSAvdXJsXFwoW14pXSskLztcbiAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICBsZXQgbiA9IFwiXCI7XG4gICAgICAgIGxldCByO1xuICAgICAgICBsZXQgbDtcbiAgICAgICAgbGV0IGE7XG4gICAgICAgIGxldCBoO1xuICAgICAgICB3aGlsZSAoaSA8IHQubGVuZ3RoKSB7XG4gICAgICAgICAgICByID0gdC5pbmRleE9mKFwiO1wiLCBpKTtcbiAgICAgICAgICAgIGlmIChyID09PSAtMSkge1xuICAgICAgICAgICAgICAgIHIgPSB0Lmxlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG4gKz0gdC5zdWJzdHJpbmcoaSwgcik7XG4gICAgICAgICAgICBpID0gciArIDE7XG4gICAgICAgICAgICBpZiAocy50ZXN0KG4pKSB7XG4gICAgICAgICAgICAgICAgbiArPSBcIjtcIjtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGwgPSBuLmluZGV4T2YoXCI6XCIpO1xuICAgICAgICAgICAgYSA9IG4uc3Vic3RyaW5nKDAsIGwpLnRyaW0oKTtcbiAgICAgICAgICAgIGggPSBuLnN1YnN0cmluZyhsICsgMSkudHJpbSgpO1xuICAgICAgICAgICAgZS5wdXNoKFsgYSwgaCBdKTtcbiAgICAgICAgICAgIG4gPSBcIlwiO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlO1xuICAgIH1cbiAgICBWZSh0KSB7XG4gICAgICAgIGxldCBlO1xuICAgICAgICBsZXQgcztcbiAgICAgICAgY29uc3QgbiA9IFtdO1xuICAgICAgICBmb3IgKHMgaW4gdCkge1xuICAgICAgICAgICAgZSA9IHRbc107XG4gICAgICAgICAgICBpZiAoZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaShlKSkge1xuICAgICAgICAgICAgICAgIGlmIChzLnN0YXJ0c1dpdGgoS2kpKSB7XG4gICAgICAgICAgICAgICAgICAgIG4ucHVzaChbIHMsIGUgXSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBuLnB1c2goWyBmKHMpLCBlIF0pO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbi5wdXNoKC4uLnRoaXMuSGUoZSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuO1xuICAgIH1cbiAgICAkZSh0KSB7XG4gICAgICAgIGNvbnN0IGUgPSB0Lmxlbmd0aDtcbiAgICAgICAgaWYgKGUgPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBzID0gW107XG4gICAgICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgICAgICBmb3IgKDtlID4gaTsgKytpKSB7XG4gICAgICAgICAgICAgICAgcy5wdXNoKC4uLnRoaXMuSGUodFtpXSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEM7XG4gICAgfVxuICAgIEhlKHQpIHtcbiAgICAgICAgaWYgKGkodCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLkZlKHQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0IGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLiRlKHQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0IGluc3RhbmNlb2YgT2JqZWN0KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5WZSh0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gQztcbiAgICB9XG4gICAgdXQoKSB7XG4gICAgICAgIGlmICh0aGlzLkRlKSB7XG4gICAgICAgICAgICB0aGlzLkRlID0gZmFsc2U7XG4gICAgICAgICAgICBjb25zdCB0ID0gdGhpcy52O1xuICAgICAgICAgICAgY29uc3QgZSA9IHRoaXMuc3R5bGVzO1xuICAgICAgICAgICAgY29uc3QgcyA9IHRoaXMuSGUodCk7XG4gICAgICAgICAgICBsZXQgaTtcbiAgICAgICAgICAgIGxldCBuID0gdGhpcy52ZXJzaW9uO1xuICAgICAgICAgICAgdGhpcy5vdiA9IHQ7XG4gICAgICAgICAgICBsZXQgcjtcbiAgICAgICAgICAgIGxldCBsO1xuICAgICAgICAgICAgbGV0IGE7XG4gICAgICAgICAgICBsZXQgaCA9IDA7XG4gICAgICAgICAgICBjb25zdCBjID0gcy5sZW5ndGg7XG4gICAgICAgICAgICBmb3IgKDtoIDwgYzsgKytoKSB7XG4gICAgICAgICAgICAgICAgciA9IHNbaF07XG4gICAgICAgICAgICAgICAgbCA9IHJbMF07XG4gICAgICAgICAgICAgICAgYSA9IHJbMV07XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRQcm9wZXJ0eShsLCBhKTtcbiAgICAgICAgICAgICAgICBlW2xdID0gbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc3R5bGVzID0gZTtcbiAgICAgICAgICAgIHRoaXMudmVyc2lvbiArPSAxO1xuICAgICAgICAgICAgaWYgKG4gPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuIC09IDE7XG4gICAgICAgICAgICBmb3IgKGkgaW4gZSkge1xuICAgICAgICAgICAgICAgIGlmICghenQuY2FsbChlLCBpKSB8fCBlW2ldICE9PSBuKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLm9iai5zdHlsZS5yZW1vdmVQcm9wZXJ0eShpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBzZXRQcm9wZXJ0eSh0LCBlKSB7XG4gICAgICAgIGxldCBzID0gXCJcIjtcbiAgICAgICAgaWYgKGUgIT0gbnVsbCAmJiBsKGUuaW5kZXhPZikgJiYgZS5pbmNsdWRlcyhcIiFpbXBvcnRhbnRcIikpIHtcbiAgICAgICAgICAgIHMgPSBcImltcG9ydGFudFwiO1xuICAgICAgICAgICAgZSA9IGUucmVwbGFjZShcIiFpbXBvcnRhbnRcIiwgXCJcIik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vYmouc3R5bGUuc2V0UHJvcGVydHkodCwgZSwgcyk7XG4gICAgfVxuICAgIGJpbmQoKSB7XG4gICAgICAgIHRoaXMudiA9IHRoaXMub3YgPSB0aGlzLm9iai5zdHlsZS5jc3NUZXh0O1xuICAgIH1cbn1cblxuKCgpID0+IHtcbiAgICBtaXhpbk5vb3BTdWJzY3JpYmFibGUoU3R5bGVBdHRyaWJ1dGVBY2Nlc3Nvcik7XG59KSgpO1xuXG5jbGFzcyBWYWx1ZUF0dHJpYnV0ZU9ic2VydmVyIHtcbiAgICBjb25zdHJ1Y3Rvcih0LCBlLCBzKSB7XG4gICAgICAgIHRoaXMudHlwZSA9IHJlIHwgbmUgfCBvZTtcbiAgICAgICAgdGhpcy52ID0gXCJcIjtcbiAgICAgICAgdGhpcy5vdiA9IFwiXCI7XG4gICAgICAgIHRoaXMuRGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5ydCA9IGZhbHNlO1xuICAgICAgICB0aGlzLm50ID0gdDtcbiAgICAgICAgdGhpcy5rID0gZTtcbiAgICAgICAgdGhpcy5jZiA9IHM7XG4gICAgfVxuICAgIGdldFZhbHVlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52O1xuICAgIH1cbiAgICBzZXRWYWx1ZSh0KSB7XG4gICAgICAgIGlmIChNKHQsIHRoaXMudikpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm92ID0gdGhpcy52O1xuICAgICAgICB0aGlzLnYgPSB0O1xuICAgICAgICB0aGlzLkRlID0gdHJ1ZTtcbiAgICAgICAgaWYgKCF0aGlzLmNmLnJlYWRvbmx5KSB7XG4gICAgICAgICAgICB0aGlzLnV0KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdXQoKSB7XG4gICAgICAgIGlmICh0aGlzLkRlKSB7XG4gICAgICAgICAgICB0aGlzLkRlID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLm50W3RoaXMua10gPSB0aGlzLnYgPz8gdGhpcy5jZi5kZWZhdWx0O1xuICAgICAgICAgICAgdGhpcy5PZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGhhbmRsZUV2ZW50KCkge1xuICAgICAgICB0aGlzLm92ID0gdGhpcy52O1xuICAgICAgICB0aGlzLnYgPSB0aGlzLm50W3RoaXMua107XG4gICAgICAgIGlmICh0aGlzLm92ICE9PSB0aGlzLnYpIHtcbiAgICAgICAgICAgIHRoaXMuRGUgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuT2UoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvdCgpIHtcbiAgICAgICAgdGhpcy52ID0gdGhpcy5vdiA9IHRoaXMubnRbdGhpcy5rXTtcbiAgICB9XG4gICAgT2UoKSB7XG4gICAgICAgIGNvbnN0IHQgPSB0aGlzLm92O1xuICAgICAgICB0aGlzLm92ID0gdGhpcy52O1xuICAgICAgICB0aGlzLnN1YnMubm90aWZ5KHRoaXMudiwgdCk7XG4gICAgfVxufVxuXG4oKCkgPT4ge1xuICAgIG1peGluTm9kZU9ic2VydmVyVXNlQ29uZmlnKFZhbHVlQXR0cmlidXRlT2JzZXJ2ZXIpO1xuICAgIFkoVmFsdWVBdHRyaWJ1dGVPYnNlcnZlciwgbnVsbCk7XG59KSgpO1xuXG5jb25zdCBYaSA9ICgoKSA9PiB7XG4gICAgY29uc3QgdCA9IFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiO1xuICAgIGNvbnN0IGUgPSBcImh0dHA6Ly93d3cudzMub3JnL1hNTC8xOTk4L25hbWVzcGFjZVwiO1xuICAgIGNvbnN0IHMgPSBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAveG1sbnMvXCI7XG4gICAgcmV0dXJuIEd0KG4oKSwge1xuICAgICAgICBcInhsaW5rOmFjdHVhdGVcIjogWyBcImFjdHVhdGVcIiwgdCBdLFxuICAgICAgICBcInhsaW5rOmFyY3JvbGVcIjogWyBcImFyY3JvbGVcIiwgdCBdLFxuICAgICAgICBcInhsaW5rOmhyZWZcIjogWyBcImhyZWZcIiwgdCBdLFxuICAgICAgICBcInhsaW5rOnJvbGVcIjogWyBcInJvbGVcIiwgdCBdLFxuICAgICAgICBcInhsaW5rOnNob3dcIjogWyBcInNob3dcIiwgdCBdLFxuICAgICAgICBcInhsaW5rOnRpdGxlXCI6IFsgXCJ0aXRsZVwiLCB0IF0sXG4gICAgICAgIFwieGxpbms6dHlwZVwiOiBbIFwidHlwZVwiLCB0IF0sXG4gICAgICAgIFwieG1sOmxhbmdcIjogWyBcImxhbmdcIiwgZSBdLFxuICAgICAgICBcInhtbDpzcGFjZVwiOiBbIFwic3BhY2VcIiwgZSBdLFxuICAgICAgICB4bWxuczogWyBcInhtbG5zXCIsIHMgXSxcbiAgICAgICAgXCJ4bWxuczp4bGlua1wiOiBbIFwieGxpbmtcIiwgcyBdXG4gICAgfSk7XG59KSgpO1xuXG5jb25zdCBRaSA9IG5ldyBzdDtcblxuUWkudHlwZSA9IHJlIHwgb2U7XG5cbmNsYXNzIE5vZGVPYnNlcnZlckxvY2F0b3Ige1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmFsbG93RGlydHlDaGVjayA9IHRydWU7XG4gICAgICAgIHRoaXMuTmUgPSBuKCk7XG4gICAgICAgIHRoaXMuamUgPSBuKCk7XG4gICAgICAgIHRoaXMuV2UgPSBuKCk7XG4gICAgICAgIHRoaXMuemUgPSBuKCk7XG4gICAgICAgIHRoaXMuVWUgPSB5KGopO1xuICAgICAgICB0aGlzLnAgPSB5KCRlKTtcbiAgICAgICAgdGhpcy5HZSA9IHkobnQpO1xuICAgICAgICB0aGlzLnN2ZyA9IHkoV2kpO1xuICAgICAgICBjb25zdCB0ID0gWyBcImNoYW5nZVwiLCBcImlucHV0XCIgXTtcbiAgICAgICAgY29uc3QgZSA9IHtcbiAgICAgICAgICAgIGV2ZW50czogdCxcbiAgICAgICAgICAgIGRlZmF1bHQ6IFwiXCJcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy51c2VDb25maWcoe1xuICAgICAgICAgICAgSU5QVVQ6IHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogZSxcbiAgICAgICAgICAgICAgICB2YWx1ZUFzTnVtYmVyOiB7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50czogdCxcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY2hlY2tlZDoge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBDaGVja2VkT2JzZXJ2ZXIsXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50czogdFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZmlsZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRzOiB0LFxuICAgICAgICAgICAgICAgICAgICByZWFkb25seTogdHJ1ZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBTRUxFQ1Q6IHtcbiAgICAgICAgICAgICAgICB2YWx1ZToge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBTZWxlY3RWYWx1ZU9ic2VydmVyLFxuICAgICAgICAgICAgICAgICAgICBldmVudHM6IFsgXCJjaGFuZ2VcIiBdLFxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBcIlwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFRFWFRBUkVBOiB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IGVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHMgPSB7XG4gICAgICAgICAgICBldmVudHM6IFsgXCJjaGFuZ2VcIiwgXCJpbnB1dFwiLCBcImJsdXJcIiwgXCJrZXl1cFwiLCBcInBhc3RlXCIgXSxcbiAgICAgICAgICAgIGRlZmF1bHQ6IFwiXCJcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgaSA9IHtcbiAgICAgICAgICAgIGV2ZW50czogWyBcInNjcm9sbFwiIF0sXG4gICAgICAgICAgICBkZWZhdWx0OiAwXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudXNlQ29uZmlnR2xvYmFsKHtcbiAgICAgICAgICAgIHNjcm9sbFRvcDogaSxcbiAgICAgICAgICAgIHNjcm9sbExlZnQ6IGksXG4gICAgICAgICAgICB0ZXh0Q29udGVudDogcyxcbiAgICAgICAgICAgIGlubmVySFRNTDogc1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5vdmVycmlkZUFjY2Vzc29yR2xvYmFsKFwiY3NzXCIsIFwic3R5bGVcIiwgXCJjbGFzc1wiKTtcbiAgICAgICAgdGhpcy5vdmVycmlkZUFjY2Vzc29yKHtcbiAgICAgICAgICAgIElOUFVUOiBbIFwidmFsdWVcIiwgXCJjaGVja2VkXCIsIFwibW9kZWxcIiBdLFxuICAgICAgICAgICAgU0VMRUNUOiBbIFwidmFsdWVcIiBdLFxuICAgICAgICAgICAgVEVYVEFSRUE6IFsgXCJ2YWx1ZVwiIF1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGhhbmRsZXModCwgZSkge1xuICAgICAgICByZXR1cm4gdCBpbnN0YW5jZW9mIHRoaXMucC5Ob2RlO1xuICAgIH1cbiAgICB1c2VDb25maWcodCwgZSwgcykge1xuICAgICAgICBjb25zdCByID0gdGhpcy5OZTtcbiAgICAgICAgbGV0IGw7XG4gICAgICAgIGlmIChpKHQpKSB7XG4gICAgICAgICAgICBsID0gclt0XSA/Pz0gbigpO1xuICAgICAgICAgICAgaWYgKGxbZV0gPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGxbZV0gPSBzO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvd01hcHBpbmdFeGlzdGVkKHQsIGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZm9yIChjb25zdCBzIGluIHQpIHtcbiAgICAgICAgICAgICAgICBsID0gcltzXSA/Pz0gbigpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGkgPSB0W3NdO1xuICAgICAgICAgICAgICAgIGZvciAoZSBpbiBpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsW2VdID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxbZV0gPSBpW2VdO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3dNYXBwaW5nRXhpc3RlZChzLCBlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICB1c2VDb25maWdHbG9iYWwodCwgZSkge1xuICAgICAgICBjb25zdCBzID0gdGhpcy5qZTtcbiAgICAgICAgaWYgKHR5cGVvZiB0ID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGUgaW4gdCkge1xuICAgICAgICAgICAgICAgIGlmIChzW2VdID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgc1tlXSA9IHRbZV07XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3dNYXBwaW5nRXhpc3RlZChcIipcIiwgZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHNbdF0gPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHNbdF0gPSBlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvd01hcHBpbmdFeGlzdGVkKFwiKlwiLCB0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRBY2Nlc3Nvcih0LCBlLCBzKSB7XG4gICAgICAgIGlmIChlIGluIHRoaXMuemUgfHwgZSBpbiAodGhpcy5XZVt0LnRhZ05hbWVdID8/IFcpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRPYnNlcnZlcih0LCBlLCBzKTtcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKGUpIHtcbiAgICAgICAgICBjYXNlIFwic3JjXCI6XG4gICAgICAgICAgY2FzZSBcImhyZWZcIjpcbiAgICAgICAgICBjYXNlIFwicm9sZVwiOlxuICAgICAgICAgIGNhc2UgXCJtaW5MZW5ndGhcIjpcbiAgICAgICAgICBjYXNlIFwibWF4TGVuZ3RoXCI6XG4gICAgICAgICAgY2FzZSBcInBsYWNlaG9sZGVyXCI6XG4gICAgICAgICAgY2FzZSBcInNpemVcIjpcbiAgICAgICAgICBjYXNlIFwicGF0dGVyblwiOlxuICAgICAgICAgIGNhc2UgXCJ0aXRsZVwiOlxuICAgICAgICAgIGNhc2UgXCJwb3BvdmVydGFyZ2V0XCI6XG4gICAgICAgICAgY2FzZSBcInBvcG92ZXJ0YXJnZXRhY3Rpb25cIjpcbiAgICAgICAgICAgIHJldHVybiBHaTtcblxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgcyA9IFhpW2VdO1xuICAgICAgICAgICAgICAgIGlmIChzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEF0dHJpYnV0ZU5TQWNjZXNzb3IuZm9yTnMoc1sxXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpc0RhdGFBdHRyaWJ1dGUodCwgZSwgdGhpcy5zdmcpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBHaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIFFpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIG92ZXJyaWRlQWNjZXNzb3IodCwgZSkge1xuICAgICAgICBsZXQgcztcbiAgICAgICAgaWYgKGkodCkpIHtcbiAgICAgICAgICAgIHMgPSB0aGlzLldlW3RdID8/PSBuKCk7XG4gICAgICAgICAgICBzW2VdID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZSBpbiB0KSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBpIG9mIHRbZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgcyA9IHRoaXMuV2VbZV0gPz89IG4oKTtcbiAgICAgICAgICAgICAgICAgICAgc1tpXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIG92ZXJyaWRlQWNjZXNzb3JHbG9iYWwoLi4udCkge1xuICAgICAgICBmb3IgKGNvbnN0IGUgb2YgdCkge1xuICAgICAgICAgICAgdGhpcy56ZVtlXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0Tm9kZU9ic2VydmVyQ29uZmlnKHQsIGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuTmVbdC50YWdOYW1lXT8uW2VdID8/IHRoaXMuamVbZV07XG4gICAgfVxuICAgIGdldE5vZGVPYnNlcnZlcih0LCBlLCBzKSB7XG4gICAgICAgIGNvbnN0IGkgPSB0aGlzLk5lW3QudGFnTmFtZV0/LltlXSA/PyB0aGlzLmplW2VdO1xuICAgICAgICBsZXQgbjtcbiAgICAgICAgaWYgKGkgIT0gbnVsbCkge1xuICAgICAgICAgICAgbiA9IG5ldyAoaS50eXBlID8/IFZhbHVlQXR0cmlidXRlT2JzZXJ2ZXIpKHQsIGUsIGksIHMsIHRoaXMuVWUpO1xuICAgICAgICAgICAgaWYgKCFuLmRvTm90Q2FjaGUpIHtcbiAgICAgICAgICAgICAgICBydCh0KVtlXSA9IG47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZ2V0T2JzZXJ2ZXIodCwgZSwgcykge1xuICAgICAgICBzd2l0Y2ggKGUpIHtcbiAgICAgICAgICBjYXNlIFwiY2xhc3NcIjpcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ2xhc3NBdHRyaWJ1dGVBY2Nlc3Nvcih0KTtcblxuICAgICAgICAgIGNhc2UgXCJjc3NcIjpcbiAgICAgICAgICBjYXNlIFwic3R5bGVcIjpcbiAgICAgICAgICAgIHJldHVybiBuZXcgU3R5bGVBdHRyaWJ1dGVBY2Nlc3Nvcih0KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpID0gdGhpcy5nZXROb2RlT2JzZXJ2ZXIodCwgZSwgcyk7XG4gICAgICAgIGlmIChpICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG4gPSBYaVtlXTtcbiAgICAgICAgaWYgKG4gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIEF0dHJpYnV0ZU5TQWNjZXNzb3IuZm9yTnMoblsxXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzRGF0YUF0dHJpYnV0ZSh0LCBlLCB0aGlzLnN2ZykpIHtcbiAgICAgICAgICAgIHJldHVybiBHaTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZSBpbiB0LmNvbnN0cnVjdG9yLnByb3RvdHlwZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuYWxsb3dEaXJ0eUNoZWNrKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuR2UuY3JlYXRlUHJvcGVydHkodCwgZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVNYXBwZWRFcnJvcig2NTIsIGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBvdCh0LCBlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuTm9kZU9ic2VydmVyTG9jYXRvci5yZWdpc3RlciA9IE4oaXQpO1xuXG5mdW5jdGlvbiBnZXRDb2xsZWN0aW9uT2JzZXJ2ZXIodCwgZSkge1xuICAgIGlmICh0IGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgcmV0dXJuIGUuZ2V0QXJyYXlPYnNlcnZlcih0KTtcbiAgICB9XG4gICAgaWYgKHQgaW5zdGFuY2VvZiBNYXApIHtcbiAgICAgICAgcmV0dXJuIGUuZ2V0TWFwT2JzZXJ2ZXIodCk7XG4gICAgfVxuICAgIGlmICh0IGluc3RhbmNlb2YgU2V0KSB7XG4gICAgICAgIHJldHVybiBlLmdldFNldE9ic2VydmVyKHQpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gdGhyb3dNYXBwaW5nRXhpc3RlZCh0LCBlKSB7XG4gICAgdGhyb3cgY3JlYXRlTWFwcGVkRXJyb3IoNjUzLCB0LCBlKTtcbn1cblxuZnVuY3Rpb24gZGVmYXVsdE1hdGNoZXIodCwgZSkge1xuICAgIHJldHVybiB0ID09PSBlO1xufVxuXG5jbGFzcyBDaGVja2VkT2JzZXJ2ZXIge1xuICAgIGNvbnN0cnVjdG9yKHQsIGUsIHMsIGkpIHtcbiAgICAgICAgdGhpcy50eXBlID0gcmUgfCBuZSB8IG9lO1xuICAgICAgICB0aGlzLnYgPSB2b2lkIDA7XG4gICAgICAgIHRoaXMub3YgPSB2b2lkIDA7XG4gICAgICAgIHRoaXMuS2UgPSB2b2lkIDA7XG4gICAgICAgIHRoaXMuWGUgPSB2b2lkIDA7XG4gICAgICAgIHRoaXMucnQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5udCA9IHQ7XG4gICAgICAgIHRoaXMub0wgPSBpO1xuICAgICAgICB0aGlzLmNmID0gcztcbiAgICB9XG4gICAgZ2V0VmFsdWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnY7XG4gICAgfVxuICAgIHNldFZhbHVlKHQpIHtcbiAgICAgICAgY29uc3QgZSA9IHRoaXMudjtcbiAgICAgICAgaWYgKHQgPT09IGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnYgPSB0O1xuICAgICAgICB0aGlzLm92ID0gZTtcbiAgICAgICAgdGhpcy5RZSgpO1xuICAgICAgICB0aGlzLlllKCk7XG4gICAgICAgIHRoaXMuT2UoKTtcbiAgICB9XG4gICAgaGFuZGxlQ29sbGVjdGlvbkNoYW5nZSgpIHtcbiAgICAgICAgdGhpcy5ZZSgpO1xuICAgIH1cbiAgICBoYW5kbGVDaGFuZ2UodCwgZSkge1xuICAgICAgICB0aGlzLlllKCk7XG4gICAgfVxuICAgIFllKCkge1xuICAgICAgICBjb25zdCB0ID0gdGhpcy52O1xuICAgICAgICBjb25zdCBlID0gdGhpcy5udDtcbiAgICAgICAgY29uc3QgcyA9IHp0LmNhbGwoZSwgXCJtb2RlbFwiKSA/IGUubW9kZWwgOiBlLnZhbHVlO1xuICAgICAgICBjb25zdCBpID0gZS50eXBlID09PSBcInJhZGlvXCI7XG4gICAgICAgIGNvbnN0IG4gPSBlLm1hdGNoZXIgIT09IHZvaWQgMCA/IGUubWF0Y2hlciA6IGRlZmF1bHRNYXRjaGVyO1xuICAgICAgICBpZiAoaSkge1xuICAgICAgICAgICAgZS5jaGVja2VkID0gISFuKHQsIHMpO1xuICAgICAgICB9IGVsc2UgaWYgKHQgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGUuY2hlY2tlZCA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgaSA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKGEodCkpIHtcbiAgICAgICAgICAgICAgICBpID0gdC5maW5kSW5kZXgoKHQgPT4gISFuKHQsIHMpKSkgIT09IC0xO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0IGluc3RhbmNlb2YgU2V0KSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBlIG9mIHQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG4oZSwgcykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHQgaW5zdGFuY2VvZiBNYXApIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGUgb2YgdCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ID0gZVswXTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgciA9IGVbMV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChuKHQsIHMpICYmIHIgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlLmNoZWNrZWQgPSBpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGhhbmRsZUV2ZW50KCkge1xuICAgICAgICBsZXQgdCA9IHRoaXMub3YgPSB0aGlzLnY7XG4gICAgICAgIGNvbnN0IGUgPSB0aGlzLm50O1xuICAgICAgICBjb25zdCBzID0genQuY2FsbChlLCBcIm1vZGVsXCIpID8gZS5tb2RlbCA6IGUudmFsdWU7XG4gICAgICAgIGNvbnN0IGkgPSBlLmNoZWNrZWQ7XG4gICAgICAgIGNvbnN0IG4gPSBlLm1hdGNoZXIgIT09IHZvaWQgMCA/IGUubWF0Y2hlciA6IGRlZmF1bHRNYXRjaGVyO1xuICAgICAgICBpZiAoZS50eXBlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgIGlmIChhKHQpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZSA9IHQuZmluZEluZGV4KCh0ID0+ICEhbih0LCBzKSkpO1xuICAgICAgICAgICAgICAgIGlmIChpICYmIGUgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHQucHVzaChzKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFpICYmIGUgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHQuc3BsaWNlKGUsIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHQgaW5zdGFuY2VvZiBTZXQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlID0ge307XG4gICAgICAgICAgICAgICAgbGV0IHIgPSBlO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZSBvZiB0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuKGUsIHMpID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByID0gZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpICYmIHIgPT09IGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdC5hZGQocyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICghaSAmJiByICE9PSBlKSB7XG4gICAgICAgICAgICAgICAgICAgIHQuZGVsZXRlKHIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHQgaW5zdGFuY2VvZiBNYXApIHtcbiAgICAgICAgICAgICAgICBsZXQgZTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGkgb2YgdCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ID0gaVswXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG4odCwgcykgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUgPSB0O1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdC5zZXQoZSwgaSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdCA9IGk7XG4gICAgICAgIH0gZWxzZSBpZiAoaSkge1xuICAgICAgICAgICAgdCA9IHM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy52ID0gdDtcbiAgICAgICAgdGhpcy5PZSgpO1xuICAgIH1cbiAgICBvdCgpIHtcbiAgICAgICAgdGhpcy5RZSgpO1xuICAgIH1cbiAgICBsdCgpIHtcbiAgICAgICAgdGhpcy5LZT8udW5zdWJzY3JpYmUodGhpcyk7XG4gICAgICAgIHRoaXMuWGU/LnVuc3Vic2NyaWJlKHRoaXMpO1xuICAgICAgICB0aGlzLktlID0gdGhpcy5YZSA9IHZvaWQgMDtcbiAgICB9XG4gICAgT2UoKSB7XG4gICAgICAgIFlpID0gdGhpcy5vdjtcbiAgICAgICAgdGhpcy5vdiA9IHRoaXMudjtcbiAgICAgICAgdGhpcy5zdWJzLm5vdGlmeSh0aGlzLnYsIFlpKTtcbiAgICB9XG4gICAgUWUoKSB7XG4gICAgICAgIGNvbnN0IHQgPSB0aGlzLm50O1xuICAgICAgICAodGhpcy5YZSA/Pz0gdC4kb2JzZXJ2ZXJzPy5tb2RlbCA/PyB0LiRvYnNlcnZlcnM/LnZhbHVlKT8uc3Vic2NyaWJlKHRoaXMpO1xuICAgICAgICB0aGlzLktlPy51bnN1YnNjcmliZSh0aGlzKTtcbiAgICAgICAgdGhpcy5LZSA9IHZvaWQgMDtcbiAgICAgICAgaWYgKHQudHlwZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICAodGhpcy5LZSA9IGdldENvbGxlY3Rpb25PYnNlcnZlcih0aGlzLnYsIHRoaXMub0wpKT8uc3Vic2NyaWJlKHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4oKCkgPT4ge1xuICAgIG1peGluTm9kZU9ic2VydmVyVXNlQ29uZmlnKENoZWNrZWRPYnNlcnZlcik7XG4gICAgWShDaGVja2VkT2JzZXJ2ZXIsIG51bGwpO1xufSkoKTtcblxubGV0IFlpID0gdm9pZCAwO1xuXG5jbGFzcyBBdHRyQmluZGluZ0JlaGF2aW9yIHtcbiAgICBiaW5kKHQsIGUpIHtcbiAgICAgICAgaWYgKCEoZSBpbnN0YW5jZW9mIFByb3BlcnR5QmluZGluZykpIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZU1hcHBlZEVycm9yKDk5OTQsIGUpO1xuICAgICAgICB9XG4gICAgICAgIGUudXNlVGFyZ2V0T2JzZXJ2ZXIoR2kpO1xuICAgIH1cbn1cblxuQXR0ckJpbmRpbmdCZWhhdmlvci4kYXUgPSB7XG4gICAgdHlwZTogTGUsXG4gICAgbmFtZTogXCJhdHRyXCJcbn07XG5cbmNsYXNzIFNlbGZCaW5kaW5nQmVoYXZpb3Ige1xuICAgIGJpbmQodCwgZSkge1xuICAgICAgICBpZiAoIShcImhhbmRsZUV2ZW50XCIgaW4gZSkpIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZU1hcHBlZEVycm9yKDgwMSk7XG4gICAgICAgIH1cbiAgICAgICAgZS5zZWxmID0gdHJ1ZTtcbiAgICB9XG4gICAgdW5iaW5kKHQsIGUpIHtcbiAgICAgICAgZS5zZWxmID0gZmFsc2U7XG4gICAgfVxufVxuXG5TZWxmQmluZGluZ0JlaGF2aW9yLiRhdSA9IHtcbiAgICB0eXBlOiBMZSxcbiAgICBuYW1lOiBcInNlbGZcIlxufTtcblxuY2xhc3MgVXBkYXRlVHJpZ2dlckJpbmRpbmdCZWhhdmlvciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMub0wgPSB5KFopO1xuICAgICAgICB0aGlzLlplID0geShpdCk7XG4gICAgfVxuICAgIGJpbmQodCwgZSwgLi4ucykge1xuICAgICAgICBpZiAoISh0aGlzLlplIGluc3RhbmNlb2YgTm9kZU9ic2VydmVyTG9jYXRvcikpIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZU1hcHBlZEVycm9yKDk5OTMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlTWFwcGVkRXJyb3IoODAyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIShlIGluc3RhbmNlb2YgUHJvcGVydHlCaW5kaW5nKSB8fCAhKGUubW9kZSAmIG1lKSkge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlTWFwcGVkRXJyb3IoODAzKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpID0gdGhpcy5aZS5nZXROb2RlT2JzZXJ2ZXJDb25maWcoZS50YXJnZXQsIGUudGFyZ2V0UHJvcGVydHkpO1xuICAgICAgICBpZiAoaSA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVNYXBwZWRFcnJvcig5OTkyLCBlKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuID0gdGhpcy5aZS5nZXROb2RlT2JzZXJ2ZXIoZS50YXJnZXQsIGUudGFyZ2V0UHJvcGVydHksIHRoaXMub0wpO1xuICAgICAgICBuLnVzZUNvbmZpZyh7XG4gICAgICAgICAgICByZWFkb25seTogaS5yZWFkb25seSxcbiAgICAgICAgICAgIGRlZmF1bHQ6IGkuZGVmYXVsdCxcbiAgICAgICAgICAgIGV2ZW50czogc1xuICAgICAgICB9KTtcbiAgICAgICAgZS51c2VUYXJnZXRPYnNlcnZlcihuKTtcbiAgICB9XG59XG5cblVwZGF0ZVRyaWdnZXJCaW5kaW5nQmVoYXZpb3IuJGF1ID0ge1xuICAgIHR5cGU6IExlLFxuICAgIG5hbWU6IFwidXBkYXRlVHJpZ2dlclwiXG59O1xuXG5jbGFzcyBJZiB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuZWxzZUZhY3RvcnkgPSB2b2lkIDA7XG4gICAgICAgIHRoaXMuZWxzZVZpZXcgPSB2b2lkIDA7XG4gICAgICAgIHRoaXMuaWZWaWV3ID0gdm9pZCAwO1xuICAgICAgICB0aGlzLnZpZXcgPSB2b2lkIDA7XG4gICAgICAgIHRoaXMudmFsdWUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jYWNoZSA9IHRydWU7XG4gICAgICAgIHRoaXMucGVuZGluZyA9IHZvaWQgMDtcbiAgICAgICAgdGhpcy5KZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnRzID0gMDtcbiAgICAgICAgdGhpcy5lcyA9IHkodXMpO1xuICAgICAgICB0aGlzLmwgPSB5KFJpKTtcbiAgICB9XG4gICAgYXR0YWNoaW5nKHQsIGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3ModGhpcy52YWx1ZSk7XG4gICAgfVxuICAgIGRldGFjaGluZyh0LCBlKSB7XG4gICAgICAgIHRoaXMuSmUgPSB0cnVlO1xuICAgICAgICByZXR1cm4gXyh0aGlzLnBlbmRpbmcsICgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLkplID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnBlbmRpbmcgPSB2b2lkIDA7XG4gICAgICAgICAgICB2b2lkIHRoaXMudmlldz8uZGVhY3RpdmF0ZSh0LCB0aGlzLiRjb250cm9sbGVyKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICB2YWx1ZUNoYW5nZWQodCwgZSkge1xuICAgICAgICBpZiAoIXRoaXMuJGNvbnRyb2xsZXIuaXNBY3RpdmUpIHJldHVybjtcbiAgICAgICAgdCA9ICEhdDtcbiAgICAgICAgZSA9ICEhZTtcbiAgICAgICAgaWYgKHQgIT09IGUpIHJldHVybiB0aGlzLnNzKHQpO1xuICAgIH1cbiAgICBzcyh0KSB7XG4gICAgICAgIGNvbnN0IGUgPSB0aGlzLnZpZXc7XG4gICAgICAgIGNvbnN0IHMgPSB0aGlzLiRjb250cm9sbGVyO1xuICAgICAgICBjb25zdCBpID0gdGhpcy50cysrO1xuICAgICAgICBjb25zdCBpc0N1cnJlbnQgPSAoKSA9PiAhdGhpcy5KZSAmJiB0aGlzLnRzID09PSBpICsgMTtcbiAgICAgICAgbGV0IG47XG4gICAgICAgIHJldHVybiBfKHRoaXMucGVuZGluZywgKCgpID0+IHRoaXMucGVuZGluZyA9IF8oZT8uZGVhY3RpdmF0ZShlLCBzKSwgKCgpID0+IHtcbiAgICAgICAgICAgIGlmICghaXNDdXJyZW50KCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodCkge1xuICAgICAgICAgICAgICAgIG4gPSB0aGlzLnZpZXcgPSB0aGlzLmlmVmlldyA9IHRoaXMuY2FjaGUgJiYgdGhpcy5pZlZpZXcgIT0gbnVsbCA/IHRoaXMuaWZWaWV3IDogdGhpcy5lcy5jcmVhdGUoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbiA9IHRoaXMudmlldyA9IHRoaXMuZWxzZVZpZXcgPSB0aGlzLmNhY2hlICYmIHRoaXMuZWxzZVZpZXcgIT0gbnVsbCA/IHRoaXMuZWxzZVZpZXcgOiB0aGlzLmVsc2VGYWN0b3J5Py5jcmVhdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChuID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuLnNldExvY2F0aW9uKHRoaXMubCk7XG4gICAgICAgICAgICByZXR1cm4gXyhuLmFjdGl2YXRlKG4sIHMsIHMuc2NvcGUpLCAoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChpc0N1cnJlbnQoKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBlbmRpbmcgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9KSkpKTtcbiAgICB9XG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgdGhpcy5pZlZpZXc/LmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5lbHNlVmlldz8uZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLmlmVmlldyA9IHRoaXMuZWxzZVZpZXcgPSB0aGlzLnZpZXcgPSB2b2lkIDA7XG4gICAgfVxuICAgIGFjY2VwdCh0KSB7XG4gICAgICAgIGlmICh0aGlzLnZpZXc/LmFjY2VwdCh0KSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbklmLiRhdSA9IHtcbiAgICB0eXBlOiBqZSxcbiAgICBuYW1lOiBcImlmXCIsXG4gICAgaXNUZW1wbGF0ZUNvbnRyb2xsZXI6IHRydWUsXG4gICAgYmluZGFibGVzOiB7XG4gICAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgICBjYWNoZToge1xuICAgICAgICAgICAgc2V0OiB0ID0+IHQgPT09IFwiXCIgfHwgISF0ICYmIHQgIT09IFwiZmFsc2VcIlxuICAgICAgICB9XG4gICAgfVxufTtcblxuY2xhc3MgRWxzZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuZiA9IHkodXMpO1xuICAgIH1cbiAgICBsaW5rKHQsIGUsIHMsIGkpIHtcbiAgICAgICAgY29uc3QgbiA9IHQuY2hpbGRyZW47XG4gICAgICAgIGNvbnN0IHIgPSBuW24ubGVuZ3RoIC0gMV07XG4gICAgICAgIGlmIChyIGluc3RhbmNlb2YgSWYpIHtcbiAgICAgICAgICAgIHIuZWxzZUZhY3RvcnkgPSB0aGlzLmY7XG4gICAgICAgIH0gZWxzZSBpZiAoci52aWV3TW9kZWwgaW5zdGFuY2VvZiBJZikge1xuICAgICAgICAgICAgci52aWV3TW9kZWwuZWxzZUZhY3RvcnkgPSB0aGlzLmY7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVNYXBwZWRFcnJvcig4MTApO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5FbHNlLiRhdSA9IHtcbiAgICB0eXBlOiBcImN1c3RvbS1hdHRyaWJ1dGVcIixcbiAgICBuYW1lOiBcImVsc2VcIixcbiAgICBpc1RlbXBsYXRlQ29udHJvbGxlcjogdHJ1ZVxufTtcblxuZnVuY3Rpb24gZGlzcG9zZSh0KSB7XG4gICAgdC5kaXNwb3NlKCk7XG59XG5cbmNvbnN0IFppID0gWyBcIkJpbmRpbmdCZWhhdmlvclwiLCBcIlZhbHVlQ29udmVydGVyXCIgXTtcblxuY2xhc3MgUmVwZWF0IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy52aWV3cyA9IFtdO1xuICAgICAgICB0aGlzLnJzID0gW107XG4gICAgICAgIHRoaXMua2V5ID0gbnVsbDtcbiAgICAgICAgdGhpcy5vcyA9IG5ldyBNYXA7XG4gICAgICAgIHRoaXMubHMgPSBuZXcgTWFwO1xuICAgICAgICB0aGlzLmNzID0gdm9pZCAwO1xuICAgICAgICB0aGlzLnVzID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZHMgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5ncyA9IG51bGw7XG4gICAgICAgIHRoaXMucHMgPSB2b2lkIDA7XG4gICAgICAgIHRoaXMueHMgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5sID0geShSaSk7XG4gICAgICAgIHRoaXMuYnMgPSB5KHlpKTtcbiAgICAgICAgdGhpcy5mID0geSh1cyk7XG4gICAgICAgIHRoaXMud3MgPSB5KHNuKTtcbiAgICAgICAgY29uc3QgdCA9IHkoZHQpO1xuICAgICAgICBjb25zdCBlID0gdC5wcm9wc1swXS5wcm9wc1swXTtcbiAgICAgICAgaWYgKGUgIT09IHZvaWQgMCkge1xuICAgICAgICAgICAgY29uc3Qge3RvOiB0LCB2YWx1ZTogaSwgY29tbWFuZDogbn0gPSBlO1xuICAgICAgICAgICAgaWYgKHQgPT09IFwia2V5XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAobiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmtleSA9IGk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChuID09PSBcImJpbmRcIikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmtleSA9IHkocykucGFyc2UoaSwgZWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZU1hcHBlZEVycm9yKDc3NSwgbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVNYXBwZWRFcnJvcig3NzYsIHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGJpbmRpbmcodCwgZSkge1xuICAgICAgICBjb25zdCBzID0gdGhpcy5icy5iaW5kaW5ncztcbiAgICAgICAgY29uc3QgaSA9IHMubGVuZ3RoO1xuICAgICAgICBsZXQgbiA9IHZvaWQgMDtcbiAgICAgICAgbGV0IHI7XG4gICAgICAgIGxldCBsID0gMDtcbiAgICAgICAgZm9yICg7aSA+IGw7ICsrbCkge1xuICAgICAgICAgICAgbiA9IHNbbF07XG4gICAgICAgICAgICBpZiAobi50YXJnZXQgPT09IHRoaXMgJiYgbi50YXJnZXRQcm9wZXJ0eSA9PT0gXCJpdGVtc1wiKSB7XG4gICAgICAgICAgICAgICAgciA9IHRoaXMuZm9yT2YgPSBuLmFzdDtcbiAgICAgICAgICAgICAgICB0aGlzLnlzID0gbjtcbiAgICAgICAgICAgICAgICBsZXQgdCA9IHIuaXRlcmFibGU7XG4gICAgICAgICAgICAgICAgd2hpbGUgKHQgIT0gbnVsbCAmJiBaaS5pbmNsdWRlcyh0LiRraW5kKSkge1xuICAgICAgICAgICAgICAgICAgICB0ID0gdC5leHByZXNzaW9uO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5ncyA9IHQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5rcygpO1xuICAgICAgICBjb25zdCBhID0gci5kZWNsYXJhdGlvbjtcbiAgICAgICAgaWYgKCEodGhpcy54cyA9IGEuJGtpbmQgPT09IFwiQXJyYXlEZXN0cnVjdHVyaW5nXCIgfHwgYS4ka2luZCA9PT0gXCJPYmplY3REZXN0cnVjdHVyaW5nXCIpKSB7XG4gICAgICAgICAgICB0aGlzLmxvY2FsID0gYWUoYSwgdGhpcy4kY29udHJvbGxlci5zY29wZSwgbiwgbnVsbCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXR0YWNoaW5nKHQsIGUpIHtcbiAgICAgICAgdGhpcy5DcygpO1xuICAgICAgICByZXR1cm4gdGhpcy5Ccyh0LCB0aGlzLnBzID8/IEMpO1xuICAgIH1cbiAgICBkZXRhY2hpbmcodCwgZSkge1xuICAgICAgICB0aGlzLmtzKCk7XG4gICAgICAgIHJldHVybiB0aGlzLlNzKHQpO1xuICAgIH1cbiAgICB1bmJpbmRpbmcodCwgZSkge1xuICAgICAgICB0aGlzLmxzLmNsZWFyKCk7XG4gICAgICAgIHRoaXMub3MuY2xlYXIoKTtcbiAgICB9XG4gICAgaXRlbXNDaGFuZ2VkKCkge1xuICAgICAgICBpZiAoIXRoaXMuJGNvbnRyb2xsZXIuaXNBY3RpdmUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmtzKCk7XG4gICAgICAgIHRoaXMuQ3MoKTtcbiAgICAgICAgdGhpcy5Bcyh0aGlzLml0ZW1zLCB2b2lkIDApO1xuICAgIH1cbiAgICBoYW5kbGVDb2xsZWN0aW9uQ2hhbmdlKHQsIGUpIHtcbiAgICAgICAgY29uc3QgcyA9IHRoaXMuJGNvbnRyb2xsZXI7XG4gICAgICAgIGlmICghcy5pc0FjdGl2ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnVzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5kcykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZHMgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5pdGVtcyA9IGFlKHRoaXMuZm9yT2YuaXRlcmFibGUsIHMuc2NvcGUsIHRoaXMueXMsIG51bGwpO1xuICAgICAgICAgICAgdGhpcy5kcyA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuQ3MoKTtcbiAgICAgICAgdGhpcy5Bcyh0LCBlKTtcbiAgICB9XG4gICAgQXModCwgZSkge1xuICAgICAgICBjb25zdCBzID0gdGhpcy52aWV3cztcbiAgICAgICAgdGhpcy5ycyA9IHMuc2xpY2UoKTtcbiAgICAgICAgY29uc3QgaSA9IHMubGVuZ3RoO1xuICAgICAgICBjb25zdCBuID0gdGhpcy5rZXk7XG4gICAgICAgIGNvbnN0IHIgPSBuICE9PSBudWxsO1xuICAgICAgICBpZiAociB8fCBlID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGNvbnN0IHQgPSB0aGlzLmxvY2FsO1xuICAgICAgICAgICAgY29uc3QgbCA9IHRoaXMucHM7XG4gICAgICAgICAgICBjb25zdCBhID0gbC5sZW5ndGg7XG4gICAgICAgICAgICBjb25zdCBoID0gdGhpcy5mb3JPZjtcbiAgICAgICAgICAgIGNvbnN0IGMgPSBoLmRlY2xhcmF0aW9uO1xuICAgICAgICAgICAgY29uc3QgdSA9IHRoaXMueXM7XG4gICAgICAgICAgICBjb25zdCBmID0gdGhpcy54cztcbiAgICAgICAgICAgIGUgPSBsdChhKTtcbiAgICAgICAgICAgIGxldCBkID0gMDtcbiAgICAgICAgICAgIGlmIChpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgZm9yICg7ZCA8IGE7ICsrZCkge1xuICAgICAgICAgICAgICAgICAgICBlW2RdID0gLTI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChhID09PSAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKGYpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChkID0gMDsgZCA8IGk7ICsrZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5kZWxldGVkSW5kaWNlcy5wdXNoKGQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5kZWxldGVkSXRlbXMucHVzaChhZShjLCBzW2RdLnNjb3BlLCB1LCBudWxsKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGQgPSAwOyBkIDwgaTsgKytkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLmRlbGV0ZWRJbmRpY2VzLnB1c2goZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLmRlbGV0ZWRJdGVtcy5wdXNoKHNbZF0uc2NvcGUuYmluZGluZ0NvbnRleHRbdF0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBtID0gQXJyYXkoaSk7XG4gICAgICAgICAgICAgICAgaWYgKGYpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChkID0gMDsgZCA8IGk7ICsrZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbVtkXSA9IGFlKGMsIHNbZF0uc2NvcGUsIHUsIG51bGwpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChkID0gMDsgZCA8IGk7ICsrZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbVtkXSA9IHNbZF0uc2NvcGUuYmluZGluZ0NvbnRleHRbdF07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGV0IGc7XG4gICAgICAgICAgICAgICAgbGV0IHA7XG4gICAgICAgICAgICAgICAgbGV0IHY7XG4gICAgICAgICAgICAgICAgbGV0IHg7XG4gICAgICAgICAgICAgICAgbGV0IGIgPSAwO1xuICAgICAgICAgICAgICAgIGNvbnN0IHcgPSBpIC0gMTtcbiAgICAgICAgICAgICAgICBjb25zdCB5ID0gYSAtIDE7XG4gICAgICAgICAgICAgICAgY29uc3QgayA9IG5ldyBNYXA7XG4gICAgICAgICAgICAgICAgY29uc3QgQyA9IG5ldyBNYXA7XG4gICAgICAgICAgICAgICAgY29uc3QgQiA9IHRoaXMub3M7XG4gICAgICAgICAgICAgICAgY29uc3QgUyA9IHRoaXMubHM7XG4gICAgICAgICAgICAgICAgY29uc3QgQSA9IHRoaXMuJGNvbnRyb2xsZXIuc2NvcGU7XG4gICAgICAgICAgICAgICAgZCA9IDA7XG4gICAgICAgICAgICAgICAgdDoge1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnID0gbVtkXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwID0gbFtkXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2ID0gZ2V0S2V5VmFsdWUoQiwgbiwgZywgZ2V0U2NvcGUoUywgZywgaCwgQSwgdSwgdCwgZiksIHUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHggPSBnZXRLZXlWYWx1ZShCLCBuLCBwLCBnZXRTY29wZShTLCBwLCBoLCBBLCB1LCB0LCBmKSwgdSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGcgPSB2ID0gZW5zdXJlVW5pcXVlKG1bZF0sIGQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHAgPSB4ID0gZW5zdXJlVW5pcXVlKGxbZF0sIGQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHYgIT09IHgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBCLnNldChnLCB2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBCLnNldChwLCB4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICsrZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkID4gdyB8fCBkID4geSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHcgIT09IHkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIHQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYiA9IHk7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGcgPSBtW2JdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHAgPSBsW2JdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYgPSBnZXRLZXlWYWx1ZShCLCBuLCBnLCBnZXRTY29wZShTLCBnLCBoLCBBLCB1LCB0LCBmKSwgdSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeCA9IGdldEtleVZhbHVlKEIsIG4sIHAsIGdldFNjb3BlKFMsIHAsIGgsIEEsIHUsIHQsIGYpLCB1KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZyA9IHYgPSBlbnN1cmVVbmlxdWUobVtkXSwgZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcCA9IHggPSBlbnN1cmVVbmlxdWUobFtkXSwgZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodiAhPT0geCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEIuc2V0KGcsIHYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEIuc2V0KHAsIHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLS1iO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGQgPiBiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsgdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBFID0gZDtcbiAgICAgICAgICAgICAgICBjb25zdCBSID0gZDtcbiAgICAgICAgICAgICAgICBmb3IgKGQgPSBSOyBkIDw9IHk7ICsrZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoQi5oYXMocCA9IHIgPyBsW2RdIDogZW5zdXJlVW5pcXVlKGxbZF0sIGQpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgeCA9IEIuZ2V0KHApO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgeCA9IHIgPyBnZXRLZXlWYWx1ZShCLCBuLCBwLCBnZXRTY29wZShTLCBwLCBoLCBBLCB1LCB0LCBmKSwgdSkgOiBwO1xuICAgICAgICAgICAgICAgICAgICAgICAgQi5zZXQocCwgeCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgQy5zZXQoeCwgZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvciAoZCA9IEU7IGQgPD0gdzsgKytkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChCLmhhcyhnID0gciA/IG1bZF0gOiBlbnN1cmVVbmlxdWUobVtkXSwgZCkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2ID0gQi5nZXQoZyk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2ID0gciA/IGdldEtleVZhbHVlKEIsIG4sIGcsIHNbZF0uc2NvcGUsIHUpIDogZztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBrLnNldCh2LCBkKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKEMuaGFzKHYpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlW0MuZ2V0KHYpXSA9IGQ7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLmRlbGV0ZWRJbmRpY2VzLnB1c2goZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLmRlbGV0ZWRJdGVtcy5wdXNoKGcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvciAoZCA9IFI7IGQgPD0geTsgKytkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghay5oYXMoQi5nZXQociA/IGxbZF0gOiBlbnN1cmVVbmlxdWUobFtkXSwgZCkpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZVtkXSA9IC0yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGsuY2xlYXIoKTtcbiAgICAgICAgICAgICAgICBDLmNsZWFyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGUgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgY29uc3QgdCA9IF8odGhpcy5TcyhudWxsKSwgKCgpID0+IHRoaXMuQnMobnVsbCwgdGhpcy5wcyA/PyBDKSkpO1xuICAgICAgICAgICAgaWYgKHEodCkpIHtcbiAgICAgICAgICAgICAgICB0LmNhdGNoKHJldGhyb3cpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGUuZGVsZXRlZEluZGljZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBfKHRoaXMuRXMoZSksICgoKSA9PiB0aGlzLlJzKGksIGUpKSk7XG4gICAgICAgICAgICAgICAgaWYgKHEodCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdC5jYXRjaChyZXRocm93KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuUnMoaSwgZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAga3MoKSB7XG4gICAgICAgIGNvbnN0IHQgPSB0aGlzLiRjb250cm9sbGVyLnNjb3BlO1xuICAgICAgICBsZXQgZSA9IHRoaXMuVHM7XG4gICAgICAgIGxldCBzID0gdGhpcy51cztcbiAgICAgICAgbGV0IGk7XG4gICAgICAgIGlmIChzKSB7XG4gICAgICAgICAgICBlID0gdGhpcy5UcyA9IGFlKHRoaXMuZ3MsIHQsIHRoaXMueXMsIG51bGwpID8/IG51bGw7XG4gICAgICAgICAgICBzID0gdGhpcy51cyA9ICFNKHRoaXMuaXRlbXMsIGUpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG4gPSB0aGlzLmNzO1xuICAgICAgICBpZiAodGhpcy4kY29udHJvbGxlci5pc0FjdGl2ZSkge1xuICAgICAgICAgICAgY29uc3QgdCA9IHMgPyBlIDogdGhpcy5pdGVtcztcbiAgICAgICAgICAgIGkgPSB0aGlzLmNzID0gdGhpcy53cy5yZXNvbHZlKHQpLmdldE9ic2VydmVyPy4odCk7XG4gICAgICAgICAgICBpZiAobiAhPT0gaSkge1xuICAgICAgICAgICAgICAgIG4/LnVuc3Vic2NyaWJlKHRoaXMpO1xuICAgICAgICAgICAgICAgIGk/LnN1YnNjcmliZSh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG4/LnVuc3Vic2NyaWJlKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5jcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBDcygpIHtcbiAgICAgICAgY29uc3QgdCA9IHRoaXMuaXRlbXM7XG4gICAgICAgIGlmIChhKHQpKSB7XG4gICAgICAgICAgICB0aGlzLnBzID0gdC5zbGljZSgwKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlID0gW107XG4gICAgICAgIHRoaXMud3MucmVzb2x2ZSh0KS5pdGVyYXRlKHQsICgodCwgcykgPT4ge1xuICAgICAgICAgICAgZVtzXSA9IHQ7XG4gICAgICAgIH0pKTtcbiAgICAgICAgdGhpcy5wcyA9IGU7XG4gICAgfVxuICAgIEJzKHQsIGUpIHtcbiAgICAgICAgbGV0IHMgPSB2b2lkIDA7XG4gICAgICAgIGxldCBpO1xuICAgICAgICBsZXQgbjtcbiAgICAgICAgbGV0IHI7XG4gICAgICAgIGNvbnN0IHskY29udHJvbGxlcjogbCwgZjogYSwgbG9jYWw6IGgsIGw6IGMsIGxzOiB1LCB5czogZiwgZm9yT2Y6IGQsIHhzOiBtfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IGcgPSBsLnNjb3BlO1xuICAgICAgICBjb25zdCBwID0gZS5sZW5ndGg7XG4gICAgICAgIGNvbnN0IHYgPSB0aGlzLnZpZXdzID0gQXJyYXkocCk7XG4gICAgICAgIGUuZm9yRWFjaCgoKGUsIHgpID0+IHtcbiAgICAgICAgICAgIG4gPSB2W3hdID0gYS5jcmVhdGUoKS5zZXRMb2NhdGlvbihjKTtcbiAgICAgICAgICAgIG4ubm9kZXMudW5saW5rKCk7XG4gICAgICAgICAgICByID0gZ2V0U2NvcGUodSwgZSwgZCwgZywgZiwgaCwgbSk7XG4gICAgICAgICAgICBzZXRDb250ZXh0dWFsUHJvcGVydGllcyhyLm92ZXJyaWRlQ29udGV4dCwgeCwgcCk7XG4gICAgICAgICAgICBpID0gbi5hY3RpdmF0ZSh0ID8/IG4sIGwsIHIpO1xuICAgICAgICAgICAgaWYgKHEoaSkpIHtcbiAgICAgICAgICAgICAgICAocyA/Pz0gW10pLnB1c2goaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICAgICAgaWYgKHMgIT09IHZvaWQgMCkge1xuICAgICAgICAgICAgcmV0dXJuIHMubGVuZ3RoID09PSAxID8gc1swXSA6IFByb21pc2UuYWxsKHMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIFNzKHQpIHtcbiAgICAgICAgbGV0IGUgPSB2b2lkIDA7XG4gICAgICAgIGxldCBzO1xuICAgICAgICBsZXQgaTtcbiAgICAgICAgbGV0IG4gPSAwO1xuICAgICAgICBjb25zdCB7dmlld3M6IHIsICRjb250cm9sbGVyOiBsfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IGEgPSByLmxlbmd0aDtcbiAgICAgICAgZm9yICg7YSA+IG47ICsrbikge1xuICAgICAgICAgICAgaSA9IHJbbl07XG4gICAgICAgICAgICBpLnJlbGVhc2UoKTtcbiAgICAgICAgICAgIHMgPSBpLmRlYWN0aXZhdGUodCA/PyBpLCBsKTtcbiAgICAgICAgICAgIGlmIChxKHMpKSB7XG4gICAgICAgICAgICAgICAgKGUgPz8gKGUgPSBbXSkpLnB1c2gocyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGUgIT09IHZvaWQgMCkge1xuICAgICAgICAgICAgcmV0dXJuIGUubGVuZ3RoID09PSAxID8gZVswXSA6IFByb21pc2UuYWxsKGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIEVzKHQpIHtcbiAgICAgICAgbGV0IGUgPSB2b2lkIDA7XG4gICAgICAgIGxldCBzO1xuICAgICAgICBsZXQgaTtcbiAgICAgICAgY29uc3QgeyRjb250cm9sbGVyOiBuLCB2aWV3czogcn0gPSB0aGlzO1xuICAgICAgICBjb25zdCBsID0gdC5kZWxldGVkSW5kaWNlcy5zbGljZSgpLnNvcnQoY29tcGFyZU51bWJlcik7XG4gICAgICAgIGNvbnN0IGEgPSBsLmxlbmd0aDtcbiAgICAgICAgbGV0IGggPSAwO1xuICAgICAgICBmb3IgKDthID4gaDsgKytoKSB7XG4gICAgICAgICAgICBpID0gcltsW2hdXTtcbiAgICAgICAgICAgIGkucmVsZWFzZSgpO1xuICAgICAgICAgICAgcyA9IGkuZGVhY3RpdmF0ZShpLCBuKTtcbiAgICAgICAgICAgIGlmIChxKHMpKSB7XG4gICAgICAgICAgICAgICAgKGUgPz8gKGUgPSBbXSkpLnB1c2gocyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaCA9IDA7XG4gICAgICAgIGZvciAoO2EgPiBoOyArK2gpIHtcbiAgICAgICAgICAgIHIuc3BsaWNlKGxbaF0gLSBoLCAxKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZSAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZS5sZW5ndGggPT09IDEgPyBlWzBdIDogUHJvbWlzZS5hbGwoZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgUnModCwgZSkge1xuICAgICAgICBsZXQgcyA9IHZvaWQgMDtcbiAgICAgICAgbGV0IGk7XG4gICAgICAgIGxldCBuO1xuICAgICAgICBsZXQgcjtcbiAgICAgICAgbGV0IGwgPSAwO1xuICAgICAgICBjb25zdCB7JGNvbnRyb2xsZXI6IGEsIGY6IGgsIGxvY2FsOiBjLCBwczogdSwgbDogZiwgdmlld3M6IGQsIHhzOiBtLCB5czogZywgbHM6IHAsIHJzOiB2LCBmb3JPZjogeH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBiID0gZS5sZW5ndGg7XG4gICAgICAgIGZvciAoO2IgPiBsOyArK2wpIHtcbiAgICAgICAgICAgIGlmIChlW2xdID09PSAtMikge1xuICAgICAgICAgICAgICAgIG4gPSBoLmNyZWF0ZSgpO1xuICAgICAgICAgICAgICAgIGQuc3BsaWNlKGwsIDAsIG4pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChkLmxlbmd0aCAhPT0gYikge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlTWFwcGVkRXJyb3IoODE0LCBbIGQubGVuZ3RoLCBiIF0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHcgPSBhLnNjb3BlO1xuICAgICAgICBjb25zdCB5ID0gZS5sZW5ndGg7XG4gICAgICAgIGxldCBrID0gMDtcbiAgICAgICAgbCA9IDA7XG4gICAgICAgIGZvciAoO2wgPCBlLmxlbmd0aDsgKytsKSB7XG4gICAgICAgICAgICBpZiAoKGsgPSBlW2xdKSAhPT0gLTIpIHtcbiAgICAgICAgICAgICAgICBkW2xdID0gdltrXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBDID0gbG9uZ2VzdEluY3JlYXNpbmdTdWJzZXF1ZW5jZShlKTtcbiAgICAgICAgY29uc3QgQiA9IEMubGVuZ3RoO1xuICAgICAgICBjb25zdCBTID0geC5kZWNsYXJhdGlvbjtcbiAgICAgICAgbGV0IEE7XG4gICAgICAgIGxldCBFID0gQiAtIDE7XG4gICAgICAgIGwgPSB5IC0gMTtcbiAgICAgICAgZm9yICg7bCA+PSAwOyAtLWwpIHtcbiAgICAgICAgICAgIG4gPSBkW2xdO1xuICAgICAgICAgICAgQSA9IGRbbCArIDFdO1xuICAgICAgICAgICAgbi5ub2Rlcy5saW5rKEE/Lm5vZGVzID8/IGYpO1xuICAgICAgICAgICAgaWYgKGVbbF0gPT09IC0yKSB7XG4gICAgICAgICAgICAgICAgciA9IGdldFNjb3BlKHAsIHVbbF0sIHgsIHcsIGcsIGMsIG0pO1xuICAgICAgICAgICAgICAgIHNldENvbnRleHR1YWxQcm9wZXJ0aWVzKHIub3ZlcnJpZGVDb250ZXh0LCBsLCB5KTtcbiAgICAgICAgICAgICAgICBuLnNldExvY2F0aW9uKGYpO1xuICAgICAgICAgICAgICAgIGkgPSBuLmFjdGl2YXRlKG4sIGEsIHIpO1xuICAgICAgICAgICAgICAgIGlmIChxKGkpKSB7XG4gICAgICAgICAgICAgICAgICAgIChzID8/IChzID0gW10pKS5wdXNoKGkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoRSA8IDAgfHwgQiA9PT0gMSB8fCBsICE9PSBDW0VdKSB7XG4gICAgICAgICAgICAgICAgaWYgKG0pIHtcbiAgICAgICAgICAgICAgICAgICAgbGUoUywgbi5zY29wZSwgZywgdVtsXSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbi5zY29wZS5iaW5kaW5nQ29udGV4dFtjXSA9IHVbbF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNldENvbnRleHR1YWxQcm9wZXJ0aWVzKG4uc2NvcGUub3ZlcnJpZGVDb250ZXh0LCBsLCB5KTtcbiAgICAgICAgICAgICAgICBuLm5vZGVzLmluc2VydEJlZm9yZShuLmxvY2F0aW9uKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKG0pIHtcbiAgICAgICAgICAgICAgICAgICAgbGUoUywgbi5zY29wZSwgZywgdVtsXSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbi5zY29wZS5iaW5kaW5nQ29udGV4dFtjXSA9IHVbbF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0ICE9PSB5KSB7XG4gICAgICAgICAgICAgICAgICAgIHNldENvbnRleHR1YWxQcm9wZXJ0aWVzKG4uc2NvcGUub3ZlcnJpZGVDb250ZXh0LCBsLCB5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLS1FO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgIHJldHVybiBzLmxlbmd0aCA9PT0gMSA/IHNbMF0gOiBQcm9taXNlLmFsbChzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICB0aGlzLnZpZXdzLmZvckVhY2goZGlzcG9zZSk7XG4gICAgICAgIHRoaXMudmlld3MgPSB2b2lkIDA7XG4gICAgfVxuICAgIGFjY2VwdCh0KSB7XG4gICAgICAgIGNvbnN0IHt2aWV3czogZX0gPSB0aGlzO1xuICAgICAgICBpZiAoZSAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBzID0gMCwgaSA9IGUubGVuZ3RoOyBzIDwgaTsgKytzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVbc10uYWNjZXB0KHQpID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuUmVwZWF0LiRhdSA9IHtcbiAgICB0eXBlOiBqZSxcbiAgICBuYW1lOiBcInJlcGVhdFwiLFxuICAgIGlzVGVtcGxhdGVDb250cm9sbGVyOiB0cnVlLFxuICAgIGJpbmRhYmxlczogWyBcIml0ZW1zXCIgXVxufTtcblxubGV0IEppID0gMTY7XG5cbmxldCB0biA9IG5ldyBJbnQzMkFycmF5KEppKTtcblxubGV0IGVuID0gbmV3IEludDMyQXJyYXkoSmkpO1xuXG5mdW5jdGlvbiBsb25nZXN0SW5jcmVhc2luZ1N1YnNlcXVlbmNlKHQpIHtcbiAgICBjb25zdCBlID0gdC5sZW5ndGg7XG4gICAgaWYgKGUgPiBKaSkge1xuICAgICAgICBKaSA9IGU7XG4gICAgICAgIHRuID0gbmV3IEludDMyQXJyYXkoZSk7XG4gICAgICAgIGVuID0gbmV3IEludDMyQXJyYXkoZSk7XG4gICAgfVxuICAgIGxldCBzID0gMDtcbiAgICBsZXQgaSA9IDA7XG4gICAgbGV0IG4gPSAwO1xuICAgIGxldCByID0gMDtcbiAgICBsZXQgbCA9IDA7XG4gICAgbGV0IGEgPSAwO1xuICAgIGxldCBoID0gMDtcbiAgICBsZXQgYyA9IDA7XG4gICAgZm9yICg7ciA8IGU7IHIrKykge1xuICAgICAgICBpID0gdFtyXTtcbiAgICAgICAgaWYgKGkgIT09IC0yKSB7XG4gICAgICAgICAgICBsID0gdG5bc107XG4gICAgICAgICAgICBuID0gdFtsXTtcbiAgICAgICAgICAgIGlmIChuICE9PSAtMiAmJiBuIDwgaSkge1xuICAgICAgICAgICAgICAgIGVuW3JdID0gbDtcbiAgICAgICAgICAgICAgICB0blsrK3NdID0gcjtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGEgPSAwO1xuICAgICAgICAgICAgaCA9IHM7XG4gICAgICAgICAgICB3aGlsZSAoYSA8IGgpIHtcbiAgICAgICAgICAgICAgICBjID0gYSArIGggPj4gMTtcbiAgICAgICAgICAgICAgICBuID0gdFt0bltjXV07XG4gICAgICAgICAgICAgICAgaWYgKG4gIT09IC0yICYmIG4gPCBpKSB7XG4gICAgICAgICAgICAgICAgICAgIGEgPSBjICsgMTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBoID0gYztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuID0gdFt0blthXV07XG4gICAgICAgICAgICBpZiAoaSA8IG4gfHwgbiA9PT0gLTIpIHtcbiAgICAgICAgICAgICAgICBpZiAoYSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZW5bcl0gPSB0blthIC0gMV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRuW2FdID0gcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByID0gKytzO1xuICAgIGNvbnN0IHUgPSBuZXcgSW50MzJBcnJheShyKTtcbiAgICBpID0gdG5bcyAtIDFdO1xuICAgIHdoaWxlIChzLS0gPiAwKSB7XG4gICAgICAgIHVbc10gPSBpO1xuICAgICAgICBpID0gZW5baV07XG4gICAgfVxuICAgIHdoaWxlIChyLS0gPiAwKSB0bltyXSA9IDA7XG4gICAgcmV0dXJuIHU7XG59XG5cbmNvbnN0IHNldENvbnRleHR1YWxQcm9wZXJ0aWVzID0gKHQsIGUsIHMpID0+IHtcbiAgICBjb25zdCBpID0gZSA9PT0gMDtcbiAgICBjb25zdCBuID0gZSA9PT0gcyAtIDE7XG4gICAgY29uc3QgciA9IGUgJSAyID09PSAwO1xuICAgIHQuJGluZGV4ID0gZTtcbiAgICB0LiRmaXJzdCA9IGk7XG4gICAgdC4kbGFzdCA9IG47XG4gICAgdC4kbWlkZGxlID0gIWkgJiYgIW47XG4gICAgdC4kZXZlbiA9IHI7XG4gICAgdC4kb2RkID0gIXI7XG4gICAgdC4kbGVuZ3RoID0gcztcbn07XG5cbmNvbnN0IHNuID0gLypAX19QVVJFX18qLyBCZShcIklSZXBlYXRhYmxlSGFuZGxlclJlc29sdmVyXCIsICh0ID0+IHQuc2luZ2xldG9uKFJlcGVhdGFibGVIYW5kbGVyUmVzb2x2ZXIpKSk7XG5cbmNsYXNzIFJlcGVhdGFibGVIYW5kbGVyUmVzb2x2ZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLkxzID0geShBKG5uKSk7XG4gICAgfVxuICAgIHJlc29sdmUodCkge1xuICAgICAgICBpZiAocm4uaGFuZGxlcyh0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvbi5oYW5kbGVzKHQpKSB7XG4gICAgICAgICAgICByZXR1cm4gb247XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxuLmhhbmRsZXModCkpIHtcbiAgICAgICAgICAgIHJldHVybiBsbjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYW4uaGFuZGxlcyh0KSkge1xuICAgICAgICAgICAgcmV0dXJuIGFuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChobi5oYW5kbGVzKHQpKSB7XG4gICAgICAgICAgICByZXR1cm4gaG47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZSA9IHRoaXMuTHMuZmluZCgoZSA9PiBlLmhhbmRsZXModCkpKTtcbiAgICAgICAgaWYgKGUgIT09IHZvaWQgMCkge1xuICAgICAgICAgICAgcmV0dXJuIGU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNuO1xuICAgIH1cbn1cblxuY2xhc3MgQXJyYXlMaWtlSGFuZGxlciB7XG4gICAgc3RhdGljIHJlZ2lzdGVyKHQpIHtcbiAgICAgICAgdC5yZWdpc3RlcihTZShubiwgdGhpcykpO1xuICAgIH1cbiAgICBoYW5kbGVzKHQpIHtcbiAgICAgICAgcmV0dXJuIFwibGVuZ3RoXCIgaW4gdCAmJiB6KHQubGVuZ3RoKTtcbiAgICB9XG4gICAgaXRlcmF0ZSh0LCBlKSB7XG4gICAgICAgIGZvciAobGV0IHMgPSAwLCBpID0gdC5sZW5ndGg7IHMgPCBpOyArK3MpIHtcbiAgICAgICAgICAgIGUodFtzXSwgcywgdCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmNvbnN0IG5uID0gLypAX19QVVJFX18qLyBCZShcIklSZXBlYXRhYmxlSGFuZGxlclwiKTtcblxuY29uc3Qgcm4gPSB7XG4gICAgaGFuZGxlczogYSxcbiAgICBnZXRPYnNlcnZlcjogYXQsXG4gICAgaXRlcmF0ZSh0LCBlKSB7XG4gICAgICAgIGNvbnN0IHMgPSB0Lmxlbmd0aDtcbiAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICBmb3IgKDtpIDwgczsgKytpKSB7XG4gICAgICAgICAgICBlKHRbaV0sIGksIHQpO1xuICAgICAgICB9XG4gICAgfVxufTtcblxuY29uc3Qgb24gPSB7XG4gICAgaGFuZGxlczogVSxcbiAgICBnZXRPYnNlcnZlcjogYXQsXG4gICAgaXRlcmF0ZSh0LCBlKSB7XG4gICAgICAgIGxldCBzID0gMDtcbiAgICAgICAgbGV0IGk7XG4gICAgICAgIGZvciAoaSBvZiB0LmtleXMoKSkge1xuICAgICAgICAgICAgZShpLCBzKyssIHQpO1xuICAgICAgICB9XG4gICAgfVxufTtcblxuY29uc3QgbG4gPSB7XG4gICAgaGFuZGxlczogRyxcbiAgICBnZXRPYnNlcnZlcjogYXQsXG4gICAgaXRlcmF0ZSh0LCBlKSB7XG4gICAgICAgIGxldCBzID0gMDtcbiAgICAgICAgbGV0IGk7XG4gICAgICAgIGZvciAoaSBvZiB0LmVudHJpZXMoKSkge1xuICAgICAgICAgICAgZShpLCBzKyssIHQpO1xuICAgICAgICB9XG4gICAgfVxufTtcblxuY29uc3QgYW4gPSB7XG4gICAgaGFuZGxlczogeixcbiAgICBpdGVyYXRlKHQsIGUpIHtcbiAgICAgICAgbGV0IHMgPSAwO1xuICAgICAgICBmb3IgKDtzIDwgdDsgKytzKSB7XG4gICAgICAgICAgICBlKHMsIHMsIHQpO1xuICAgICAgICB9XG4gICAgfVxufTtcblxuY29uc3QgaG4gPSB7XG4gICAgaGFuZGxlczogdCA9PiB0ID09IG51bGwsXG4gICAgaXRlcmF0ZSgpIHt9XG59O1xuXG5jb25zdCBjbiA9IHtcbiAgICBoYW5kbGVzKHQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG4gICAgaXRlcmF0ZSh0LCBlKSB7XG4gICAgICAgIHRocm93IGNyZWF0ZU1hcHBlZEVycm9yKDc3NywgdCk7XG4gICAgfVxufTtcblxuY29uc3QgZ2V0S2V5VmFsdWUgPSAodCwgZSwgcywgaSwgbikgPT4ge1xuICAgIGxldCByID0gdC5nZXQocyk7XG4gICAgaWYgKHIgPT09IHZvaWQgMCkge1xuICAgICAgICBpZiAodHlwZW9mIGUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHIgPSBzW2VdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgciA9IGFlKGUsIGksIG4sIG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIHQuc2V0KHMsIHIpO1xuICAgIH1cbiAgICByZXR1cm4gcjtcbn07XG5cbmNvbnN0IGdldFNjb3BlID0gKHQsIGUsIHMsIGksIG4sIHIsIGwpID0+IHtcbiAgICBsZXQgYSA9IHQuZ2V0KGUpO1xuICAgIGlmIChhID09PSB2b2lkIDApIHtcbiAgICAgICAgaWYgKGwpIHtcbiAgICAgICAgICAgIGxlKHMuZGVjbGFyYXRpb24sIGEgPSBTY29wZS5mcm9tUGFyZW50KGksIG5ldyBCaW5kaW5nQ29udGV4dCksIG4sIGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYSA9IFNjb3BlLmZyb21QYXJlbnQoaSwgbmV3IEJpbmRpbmdDb250ZXh0KHIsIGUpKTtcbiAgICAgICAgfVxuICAgICAgICB0LnNldChlLCBhKTtcbiAgICB9XG4gICAgcmV0dXJuIGE7XG59O1xuXG5jb25zdCBlbnN1cmVVbmlxdWUgPSAodCwgZSkgPT4ge1xuICAgIGNvbnN0IHMgPSB0eXBlb2YgdDtcbiAgICBzd2l0Y2ggKHMpIHtcbiAgICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgICAgaWYgKHQgIT09IG51bGwpIHJldHVybiB0O1xuXG4gICAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICBjYXNlIFwiYmlnaW50XCI6XG4gICAgICBjYXNlIFwidW5kZWZpbmVkXCI6XG4gICAgICBjYXNlIFwiYm9vbGVhblwiOlxuICAgICAgICByZXR1cm4gYCR7ZX0ke3N9JHt0fWA7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiB0O1xuICAgIH1cbn07XG5cbmNvbnN0IGNvbXBhcmVOdW1iZXIgPSAodCwgZSkgPT4gdCAtIGU7XG5cbmNsYXNzIFdpdGgge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnZpZXcgPSB5KHVzKS5jcmVhdGUoKS5zZXRMb2NhdGlvbih5KFJpKSk7XG4gICAgfVxuICAgIHZhbHVlQ2hhbmdlZCh0LCBlKSB7XG4gICAgICAgIGNvbnN0IHMgPSB0aGlzLiRjb250cm9sbGVyO1xuICAgICAgICBjb25zdCBpID0gdGhpcy52aWV3LmJpbmRpbmdzO1xuICAgICAgICBsZXQgbjtcbiAgICAgICAgbGV0IHIgPSAwLCBsID0gMDtcbiAgICAgICAgaWYgKHMuaXNBY3RpdmUgJiYgaSAhPSBudWxsKSB7XG4gICAgICAgICAgICBuID0gU2NvcGUuZnJvbVBhcmVudChzLnNjb3BlLCB0ID09PSB2b2lkIDAgPyB7fSA6IHQpO1xuICAgICAgICAgICAgZm9yIChsID0gaS5sZW5ndGg7IGwgPiByOyArK3IpIHtcbiAgICAgICAgICAgICAgICBpW3JdLmJpbmQobik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXR0YWNoaW5nKHQsIGUpIHtcbiAgICAgICAgY29uc3QgeyRjb250cm9sbGVyOiBzLCB2YWx1ZTogaX0gPSB0aGlzO1xuICAgICAgICBjb25zdCBuID0gU2NvcGUuZnJvbVBhcmVudChzLnNjb3BlLCBpID09PSB2b2lkIDAgPyB7fSA6IGkpO1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LmFjdGl2YXRlKHQsIHMsIG4pO1xuICAgIH1cbiAgICBkZXRhY2hpbmcodCwgZSkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LmRlYWN0aXZhdGUodCwgdGhpcy4kY29udHJvbGxlcik7XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHRoaXMudmlldy5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMudmlldyA9IHZvaWQgMDtcbiAgICB9XG4gICAgYWNjZXB0KHQpIHtcbiAgICAgICAgaWYgKHRoaXMudmlldz8uYWNjZXB0KHQpID09PSB0cnVlKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuV2l0aC4kYXUgPSB7XG4gICAgdHlwZTogamUsXG4gICAgbmFtZTogXCJ3aXRoXCIsXG4gICAgaXNUZW1wbGF0ZUNvbnRyb2xsZXI6IHRydWUsXG4gICAgYmluZGFibGVzOiBbIFwidmFsdWVcIiBdXG59O1xuXG5jbGFzcyBTd2l0Y2gge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmNhc2VzID0gW107XG4gICAgICAgIHRoaXMuYWN0aXZlQ2FzZXMgPSBbXTtcbiAgICAgICAgdGhpcy5wcm9taXNlID0gdm9pZCAwO1xuICAgICAgICB0aGlzLmYgPSB5KHVzKTtcbiAgICAgICAgdGhpcy5sID0geShSaSk7XG4gICAgfVxuICAgIGxpbmsodCwgZSwgcywgaSkge1xuICAgICAgICB0aGlzLnZpZXcgPSB0aGlzLmYuY3JlYXRlKHRoaXMuJGNvbnRyb2xsZXIpLnNldExvY2F0aW9uKHRoaXMubCk7XG4gICAgfVxuICAgIGF0dGFjaGluZyh0LCBlKSB7XG4gICAgICAgIGNvbnN0IHMgPSB0aGlzLnZpZXc7XG4gICAgICAgIGNvbnN0IGkgPSB0aGlzLiRjb250cm9sbGVyO1xuICAgICAgICB0aGlzLnF1ZXVlKCgoKSA9PiBzLmFjdGl2YXRlKHQsIGksIGkuc2NvcGUpKSk7XG4gICAgICAgIHRoaXMucXVldWUoKCgpID0+IHRoaXMuc3dhcCh0LCB0aGlzLnZhbHVlKSkpO1xuICAgICAgICByZXR1cm4gdGhpcy5wcm9taXNlO1xuICAgIH1cbiAgICBkZXRhY2hpbmcodCwgZSkge1xuICAgICAgICB0aGlzLnF1ZXVlKCgoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlID0gdGhpcy52aWV3O1xuICAgICAgICAgICAgcmV0dXJuIGUuZGVhY3RpdmF0ZSh0LCB0aGlzLiRjb250cm9sbGVyKTtcbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm4gdGhpcy5wcm9taXNlO1xuICAgIH1cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICB0aGlzLnZpZXc/LmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy52aWV3ID0gdm9pZCAwO1xuICAgIH1cbiAgICB2YWx1ZUNoYW5nZWQodCwgZSkge1xuICAgICAgICBpZiAoIXRoaXMuJGNvbnRyb2xsZXIuaXNBY3RpdmUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnF1ZXVlKCgoKSA9PiB0aGlzLnN3YXAobnVsbCwgdGhpcy52YWx1ZSkpKTtcbiAgICB9XG4gICAgY2FzZUNoYW5nZWQodCkge1xuICAgICAgICB0aGlzLnF1ZXVlKCgoKSA9PiB0aGlzLk1zKHQpKSk7XG4gICAgfVxuICAgIE1zKHQpIHtcbiAgICAgICAgY29uc3QgZSA9IHQuaXNNYXRjaCh0aGlzLnZhbHVlKTtcbiAgICAgICAgY29uc3QgcyA9IHRoaXMuYWN0aXZlQ2FzZXM7XG4gICAgICAgIGNvbnN0IGkgPSBzLmxlbmd0aDtcbiAgICAgICAgaWYgKCFlKSB7XG4gICAgICAgICAgICBpZiAoaSA+IDAgJiYgc1swXS5pZCA9PT0gdC5pZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLkRzKG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpID4gMCAmJiBzWzBdLmlkIDwgdC5pZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG4gPSBbXTtcbiAgICAgICAgbGV0IHIgPSB0LmZhbGxUaHJvdWdoO1xuICAgICAgICBpZiAoIXIpIHtcbiAgICAgICAgICAgIG4ucHVzaCh0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGUgPSB0aGlzLmNhc2VzO1xuICAgICAgICAgICAgY29uc3QgcyA9IGUuaW5kZXhPZih0KTtcbiAgICAgICAgICAgIGZvciAobGV0IHQgPSBzLCBpID0gZS5sZW5ndGg7IHQgPCBpICYmIHI7IHQrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHMgPSBlW3RdO1xuICAgICAgICAgICAgICAgIG4ucHVzaChzKTtcbiAgICAgICAgICAgICAgICByID0gcy5mYWxsVGhyb3VnaDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gXyh0aGlzLkRzKG51bGwsIG4pLCAoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5hY3RpdmVDYXNlcyA9IG47XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5JcyhudWxsKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBzd2FwKHQsIGUpIHtcbiAgICAgICAgY29uc3QgcyA9IFtdO1xuICAgICAgICBsZXQgaSA9IGZhbHNlO1xuICAgICAgICBmb3IgKGNvbnN0IHQgb2YgdGhpcy5jYXNlcykge1xuICAgICAgICAgICAgaWYgKGkgfHwgdC5pc01hdGNoKGUpKSB7XG4gICAgICAgICAgICAgICAgcy5wdXNoKHQpO1xuICAgICAgICAgICAgICAgIGkgPSB0LmZhbGxUaHJvdWdoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHMubGVuZ3RoID4gMCAmJiAhaSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG4gPSB0aGlzLmRlZmF1bHRDYXNlO1xuICAgICAgICBpZiAocy5sZW5ndGggPT09IDAgJiYgbiAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBzLnB1c2gobik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF8odGhpcy5hY3RpdmVDYXNlcy5sZW5ndGggPiAwID8gdGhpcy5Ecyh0LCBzKSA6IHZvaWQgMCwgKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlQ2FzZXMgPSBzO1xuICAgICAgICAgICAgaWYgKHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuSXModCk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgSXModCkge1xuICAgICAgICBjb25zdCBlID0gdGhpcy4kY29udHJvbGxlcjtcbiAgICAgICAgaWYgKCFlLmlzQWN0aXZlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcyA9IHRoaXMuYWN0aXZlQ2FzZXM7XG4gICAgICAgIGNvbnN0IGkgPSBzLmxlbmd0aDtcbiAgICAgICAgaWYgKGkgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuID0gZS5zY29wZTtcbiAgICAgICAgaWYgKGkgPT09IDEpIHtcbiAgICAgICAgICAgIHJldHVybiBzWzBdLmFjdGl2YXRlKHQsIG4pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQKC4uLnMubWFwKChlID0+IGUuYWN0aXZhdGUodCwgbikpKSk7XG4gICAgfVxuICAgIERzKHQsIGUgPSBbXSkge1xuICAgICAgICBjb25zdCBzID0gdGhpcy5hY3RpdmVDYXNlcztcbiAgICAgICAgY29uc3QgaSA9IHMubGVuZ3RoO1xuICAgICAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpID09PSAxKSB7XG4gICAgICAgICAgICBjb25zdCBpID0gc1swXTtcbiAgICAgICAgICAgIGlmICghZS5pbmNsdWRlcyhpKSkge1xuICAgICAgICAgICAgICAgIHMubGVuZ3RoID0gMDtcbiAgICAgICAgICAgICAgICByZXR1cm4gaS5kZWFjdGl2YXRlKHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfKFAoLi4ucy5yZWR1Y2UoKChzLCBpKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWUuaW5jbHVkZXMoaSkpIHtcbiAgICAgICAgICAgICAgICBzLnB1c2goaS5kZWFjdGl2YXRlKHQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzO1xuICAgICAgICB9KSwgW10pKSwgKCgpID0+IHtcbiAgICAgICAgICAgIHMubGVuZ3RoID0gMDtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBxdWV1ZSh0KSB7XG4gICAgICAgIGNvbnN0IGUgPSB0aGlzLnByb21pc2U7XG4gICAgICAgIGxldCBzID0gdm9pZCAwO1xuICAgICAgICBzID0gdGhpcy5wcm9taXNlID0gXyhfKGUsIHQpLCAoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJvbWlzZSA9PT0gcykge1xuICAgICAgICAgICAgICAgIHRoaXMucHJvbWlzZSA9IHZvaWQgMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBhY2NlcHQodCkge1xuICAgICAgICBpZiAodGhpcy4kY29udHJvbGxlci5hY2NlcHQodCkgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZUNhc2VzLnNvbWUoKGUgPT4gZS5hY2NlcHQodCkpKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG59XG5cblN3aXRjaC4kYXUgPSB7XG4gICAgdHlwZTogamUsXG4gICAgbmFtZTogXCJzd2l0Y2hcIixcbiAgICBpc1RlbXBsYXRlQ29udHJvbGxlcjogdHJ1ZSxcbiAgICBiaW5kYWJsZXM6IFsgXCJ2YWx1ZVwiIF1cbn07XG5cbmxldCB1biA9IDA7XG5cbmNvbnN0IGRuID0gWyBcInZhbHVlXCIsIHtcbiAgICBuYW1lOiBcImZhbGxUaHJvdWdoXCIsXG4gICAgbW9kZTogZmUsXG4gICAgc2V0KHQpIHtcbiAgICAgICAgc3dpdGNoICh0KSB7XG4gICAgICAgICAgY2FzZSBcInRydWVcIjpcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgICAgICAgY2FzZSBcImZhbHNlXCI6XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuICEhdDtcbiAgICAgICAgfVxuICAgIH1cbn0gXTtcblxuY2xhc3MgQ2FzZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuaWQgPSArK3VuO1xuICAgICAgICB0aGlzLmZhbGxUaHJvdWdoID0gZmFsc2U7XG4gICAgICAgIHRoaXMudmlldyA9IHZvaWQgMDtcbiAgICAgICAgdGhpcy5mID0geSh1cyk7XG4gICAgICAgIHRoaXMuVWUgPSB5KFopO1xuICAgICAgICB0aGlzLmwgPSB5KFJpKTtcbiAgICAgICAgdGhpcy5QcyA9IHkoQikuc2NvcGVUbyhgJHt0aGlzLmNvbnN0cnVjdG9yLm5hbWV9LSMke3RoaXMuaWR9YCk7XG4gICAgfVxuICAgIGxpbmsodCwgZSwgcywgaSkge1xuICAgICAgICBjb25zdCBuID0gdC5wYXJlbnQ7XG4gICAgICAgIGNvbnN0IHIgPSBuPy52aWV3TW9kZWw7XG4gICAgICAgIGlmIChyIGluc3RhbmNlb2YgU3dpdGNoKSB7XG4gICAgICAgICAgICB0aGlzLiRzd2l0Y2ggPSByO1xuICAgICAgICAgICAgdGhpcy5saW5rVG9Td2l0Y2gocik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVNYXBwZWRFcnJvcig4MTUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGRldGFjaGluZyh0LCBlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRlYWN0aXZhdGUodCk7XG4gICAgfVxuICAgIGlzTWF0Y2godCkge1xuICAgICAgICB0aGlzLlBzLmRlYnVnKFwiaXNNYXRjaCgpXCIpO1xuICAgICAgICBjb25zdCBlID0gdGhpcy52YWx1ZTtcbiAgICAgICAgaWYgKGEoZSkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNzID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNzID0gdGhpcy5xcyhlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBlLmluY2x1ZGVzKHQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlID09PSB0O1xuICAgIH1cbiAgICB2YWx1ZUNoYW5nZWQodCwgZSkge1xuICAgICAgICBpZiAoYSh0KSkge1xuICAgICAgICAgICAgdGhpcy5jcz8udW5zdWJzY3JpYmUodGhpcyk7XG4gICAgICAgICAgICB0aGlzLmNzID0gdGhpcy5xcyh0KTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNzICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgIHRoaXMuY3MudW5zdWJzY3JpYmUodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4kc3dpdGNoLmNhc2VDaGFuZ2VkKHRoaXMpO1xuICAgIH1cbiAgICBoYW5kbGVDb2xsZWN0aW9uQ2hhbmdlKCkge1xuICAgICAgICB0aGlzLiRzd2l0Y2guY2FzZUNoYW5nZWQodGhpcyk7XG4gICAgfVxuICAgIGFjdGl2YXRlKHQsIGUpIHtcbiAgICAgICAgbGV0IHMgPSB0aGlzLnZpZXc7XG4gICAgICAgIGlmIChzID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIHMgPSB0aGlzLnZpZXcgPSB0aGlzLmYuY3JlYXRlKCkuc2V0TG9jYXRpb24odGhpcy5sKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocy5pc0FjdGl2ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzLmFjdGl2YXRlKHQgPz8gcywgdGhpcy4kY29udHJvbGxlciwgZSk7XG4gICAgfVxuICAgIGRlYWN0aXZhdGUodCkge1xuICAgICAgICBjb25zdCBlID0gdGhpcy52aWV3O1xuICAgICAgICBpZiAoZSA9PT0gdm9pZCAwIHx8ICFlLmlzQWN0aXZlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGUuZGVhY3RpdmF0ZSh0ID8/IGUsIHRoaXMuJGNvbnRyb2xsZXIpO1xuICAgIH1cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICB0aGlzLmNzPy51bnN1YnNjcmliZSh0aGlzKTtcbiAgICAgICAgdGhpcy52aWV3Py5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMudmlldyA9IHZvaWQgMDtcbiAgICB9XG4gICAgbGlua1RvU3dpdGNoKHQpIHtcbiAgICAgICAgdC5jYXNlcy5wdXNoKHRoaXMpO1xuICAgIH1cbiAgICBxcyh0KSB7XG4gICAgICAgIGNvbnN0IGUgPSB0aGlzLlVlLmdldEFycmF5T2JzZXJ2ZXIodCk7XG4gICAgICAgIGUuc3Vic2NyaWJlKHRoaXMpO1xuICAgICAgICByZXR1cm4gZTtcbiAgICB9XG4gICAgYWNjZXB0KHQpIHtcbiAgICAgICAgaWYgKHRoaXMuJGNvbnRyb2xsZXIuYWNjZXB0KHQpID09PSB0cnVlKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy52aWV3Py5hY2NlcHQodCk7XG4gICAgfVxufVxuXG4oKCkgPT4ge1xuICAgIGRlZmluZUF0dHJpYnV0ZSh7XG4gICAgICAgIG5hbWU6IFwiY2FzZVwiLFxuICAgICAgICBiaW5kYWJsZXM6IGRuLFxuICAgICAgICBpc1RlbXBsYXRlQ29udHJvbGxlcjogdHJ1ZVxuICAgIH0sIENhc2UpO1xufSkoKTtcblxuY2xhc3MgRGVmYXVsdENhc2UgZXh0ZW5kcyBDYXNlIHtcbiAgICBsaW5rVG9Td2l0Y2godCkge1xuICAgICAgICBpZiAodC5kZWZhdWx0Q2FzZSAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVNYXBwZWRFcnJvcig4MTYpO1xuICAgICAgICB9XG4gICAgICAgIHQuZGVmYXVsdENhc2UgPSB0aGlzO1xuICAgIH1cbn1cblxuKCgpID0+IHtcbiAgICBkZWZpbmVBdHRyaWJ1dGUoe1xuICAgICAgICBuYW1lOiBcImRlZmF1bHQtY2FzZVwiLFxuICAgICAgICBiaW5kYWJsZXM6IGRuLFxuICAgICAgICBpc1RlbXBsYXRlQ29udHJvbGxlcjogdHJ1ZVxuICAgIH0sIERlZmF1bHRDYXNlKTtcbn0pKCk7XG5cbnZhciBtbiwgZ24sIHBuO1xuXG5jbGFzcyBQcm9taXNlVGVtcGxhdGVDb250cm9sbGVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5wcmVTZXR0bGVkVGFzayA9IG51bGw7XG4gICAgICAgIHRoaXMucG9zdFNldHRsZWRUYXNrID0gbnVsbDtcbiAgICAgICAgdGhpcy5mID0geSh1cyk7XG4gICAgICAgIHRoaXMubCA9IHkoUmkpO1xuICAgICAgICB0aGlzLnAgPSB5KCRlKTtcbiAgICAgICAgdGhpcy5sb2dnZXIgPSB5KEIpLnNjb3BlVG8oXCJwcm9taXNlLnJlc29sdmVcIik7XG4gICAgfVxuICAgIGxpbmsodCwgZSwgcywgaSkge1xuICAgICAgICB0aGlzLnZpZXcgPSB0aGlzLmYuY3JlYXRlKHRoaXMuJGNvbnRyb2xsZXIpLnNldExvY2F0aW9uKHRoaXMubCk7XG4gICAgfVxuICAgIGF0dGFjaGluZyh0LCBlKSB7XG4gICAgICAgIGNvbnN0IHMgPSB0aGlzLnZpZXc7XG4gICAgICAgIGNvbnN0IGkgPSB0aGlzLiRjb250cm9sbGVyO1xuICAgICAgICByZXR1cm4gXyhzLmFjdGl2YXRlKHQsIGksIHRoaXMudmlld1Njb3BlID0gU2NvcGUuZnJvbVBhcmVudChpLnNjb3BlLCB7fSkpLCAoKCkgPT4gdGhpcy5zd2FwKHQpKSk7XG4gICAgfVxuICAgIHZhbHVlQ2hhbmdlZCh0LCBlKSB7XG4gICAgICAgIGlmICghdGhpcy4kY29udHJvbGxlci5pc0FjdGl2ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3dhcChudWxsKTtcbiAgICB9XG4gICAgc3dhcCh0KSB7XG4gICAgICAgIGNvbnN0IGUgPSB0aGlzLnZhbHVlO1xuICAgICAgICBpZiAoIXEoZSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzID0gdGhpcy5wLmRvbVF1ZXVlO1xuICAgICAgICBjb25zdCBpID0gdGhpcy5mdWxmaWxsZWQ7XG4gICAgICAgIGNvbnN0IG4gPSB0aGlzLnJlamVjdGVkO1xuICAgICAgICBjb25zdCByID0gdGhpcy5wZW5kaW5nO1xuICAgICAgICBjb25zdCBsID0gdGhpcy52aWV3U2NvcGU7XG4gICAgICAgIGxldCBhO1xuICAgICAgICBjb25zdCAkc3dhcCA9ICgpID0+IHtcbiAgICAgICAgICAgIHZvaWQgUChhID0gKHRoaXMucHJlU2V0dGxlZFRhc2sgPSBzLnF1ZXVlVGFzaygoKCkgPT4gUChpPy5kZWFjdGl2YXRlKHQpLCBuPy5kZWFjdGl2YXRlKHQpLCByPy5hY3RpdmF0ZSh0LCBsKSkpKSkucmVzdWx0LmNhdGNoKCh0ID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoISh0IGluc3RhbmNlb2YgJHQpKSB0aHJvdyB0O1xuICAgICAgICAgICAgfSkpLCBlLnRoZW4oKGggPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnZhbHVlICE9PSBlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgZnVsZmlsbCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb3N0U2V0dGxlUHJvbWlzZSA9ICh0aGlzLnBvc3RTZXR0bGVkVGFzayA9IHMucXVldWVUYXNrKCgoKSA9PiBQKHI/LmRlYWN0aXZhdGUodCksIG4/LmRlYWN0aXZhdGUodCksIGk/LmFjdGl2YXRlKHQsIGwsIGgpKSkpKS5yZXN1bHQ7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wcmVTZXR0bGVkVGFzay5zdGF0dXMgPT09IGllKSB7XG4gICAgICAgICAgICAgICAgICAgIHZvaWQgYS50aGVuKGZ1bGZpbGwpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJlU2V0dGxlZFRhc2suY2FuY2VsKCk7XG4gICAgICAgICAgICAgICAgICAgIGZ1bGZpbGwoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSwgKGggPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnZhbHVlICE9PSBlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgcmVqZWN0ID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvc3RTZXR0bGVQcm9taXNlID0gKHRoaXMucG9zdFNldHRsZWRUYXNrID0gcy5xdWV1ZVRhc2soKCgpID0+IFAocj8uZGVhY3RpdmF0ZSh0KSwgaT8uZGVhY3RpdmF0ZSh0KSwgbj8uYWN0aXZhdGUodCwgbCwgaCkpKSkpLnJlc3VsdDtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnByZVNldHRsZWRUYXNrLnN0YXR1cyA9PT0gaWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdm9pZCBhLnRoZW4ocmVqZWN0KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZVNldHRsZWRUYXNrLmNhbmNlbCgpO1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSkpO1xuICAgICAgICB9O1xuICAgICAgICBpZiAodGhpcy5wb3N0U2V0dGxlZFRhc2s/LnN0YXR1cyA9PT0gaWUpIHtcbiAgICAgICAgICAgIHZvaWQgdGhpcy5wb3N0U2V0dGxlUHJvbWlzZS50aGVuKCRzd2FwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucG9zdFNldHRsZWRUYXNrPy5jYW5jZWwoKTtcbiAgICAgICAgICAgICRzd2FwKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZGV0YWNoaW5nKHQsIGUpIHtcbiAgICAgICAgdGhpcy5wcmVTZXR0bGVkVGFzaz8uY2FuY2VsKCk7XG4gICAgICAgIHRoaXMucG9zdFNldHRsZWRUYXNrPy5jYW5jZWwoKTtcbiAgICAgICAgdGhpcy5wcmVTZXR0bGVkVGFzayA9IHRoaXMucG9zdFNldHRsZWRUYXNrID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlldy5kZWFjdGl2YXRlKHQsIHRoaXMuJGNvbnRyb2xsZXIpO1xuICAgIH1cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICB0aGlzLnZpZXc/LmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy52aWV3ID0gdm9pZCAwO1xuICAgIH1cbn1cblxuUHJvbWlzZVRlbXBsYXRlQ29udHJvbGxlci4kYXUgPSB7XG4gICAgdHlwZTogamUsXG4gICAgbmFtZTogXCJwcm9taXNlXCIsXG4gICAgaXNUZW1wbGF0ZUNvbnRyb2xsZXI6IHRydWUsXG4gICAgYmluZGFibGVzOiBbIFwidmFsdWVcIiBdXG59O1xuXG5jbGFzcyBQZW5kaW5nVGVtcGxhdGVDb250cm9sbGVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy52aWV3ID0gdm9pZCAwO1xuICAgICAgICB0aGlzLmYgPSB5KHVzKTtcbiAgICAgICAgdGhpcy5sID0geShSaSk7XG4gICAgfVxuICAgIGxpbmsodCwgZSwgcywgaSkge1xuICAgICAgICBnZXRQcm9taXNlQ29udHJvbGxlcih0KS5wZW5kaW5nID0gdGhpcztcbiAgICB9XG4gICAgYWN0aXZhdGUodCwgZSkge1xuICAgICAgICBsZXQgcyA9IHRoaXMudmlldztcbiAgICAgICAgaWYgKHMgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgcyA9IHRoaXMudmlldyA9IHRoaXMuZi5jcmVhdGUoKS5zZXRMb2NhdGlvbih0aGlzLmwpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzLmlzQWN0aXZlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHMuYWN0aXZhdGUocywgdGhpcy4kY29udHJvbGxlciwgZSk7XG4gICAgfVxuICAgIGRlYWN0aXZhdGUodCkge1xuICAgICAgICBjb25zdCBlID0gdGhpcy52aWV3O1xuICAgICAgICBpZiAoZSA9PT0gdm9pZCAwIHx8ICFlLmlzQWN0aXZlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGUuZGVhY3RpdmF0ZShlLCB0aGlzLiRjb250cm9sbGVyKTtcbiAgICB9XG4gICAgZGV0YWNoaW5nKHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVhY3RpdmF0ZSh0KTtcbiAgICB9XG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgdGhpcy52aWV3Py5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMudmlldyA9IHZvaWQgMDtcbiAgICB9XG59XG5cblBlbmRpbmdUZW1wbGF0ZUNvbnRyb2xsZXIuJGF1ID0ge1xuICAgIHR5cGU6IGplLFxuICAgIG5hbWU6IFwicGVuZGluZ1wiLFxuICAgIGlzVGVtcGxhdGVDb250cm9sbGVyOiB0cnVlLFxuICAgIGJpbmRhYmxlczoge1xuICAgICAgICB2YWx1ZToge1xuICAgICAgICAgICAgbW9kZTogZGVcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbmNsYXNzIEZ1bGZpbGxlZFRlbXBsYXRlQ29udHJvbGxlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMudmlldyA9IHZvaWQgMDtcbiAgICAgICAgdGhpcy5mID0geSh1cyk7XG4gICAgICAgIHRoaXMubCA9IHkoUmkpO1xuICAgIH1cbiAgICBsaW5rKHQsIGUsIHMsIGkpIHtcbiAgICAgICAgZ2V0UHJvbWlzZUNvbnRyb2xsZXIodCkuZnVsZmlsbGVkID0gdGhpcztcbiAgICB9XG4gICAgYWN0aXZhdGUodCwgZSwgcykge1xuICAgICAgICB0aGlzLnZhbHVlID0gcztcbiAgICAgICAgbGV0IGkgPSB0aGlzLnZpZXc7XG4gICAgICAgIGlmIChpID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGkgPSB0aGlzLnZpZXcgPSB0aGlzLmYuY3JlYXRlKCkuc2V0TG9jYXRpb24odGhpcy5sKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaS5pc0FjdGl2ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpLmFjdGl2YXRlKGksIHRoaXMuJGNvbnRyb2xsZXIsIGUpO1xuICAgIH1cbiAgICBkZWFjdGl2YXRlKHQpIHtcbiAgICAgICAgY29uc3QgZSA9IHRoaXMudmlldztcbiAgICAgICAgaWYgKGUgPT09IHZvaWQgMCB8fCAhZS5pc0FjdGl2ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlLmRlYWN0aXZhdGUoZSwgdGhpcy4kY29udHJvbGxlcik7XG4gICAgfVxuICAgIGRldGFjaGluZyh0LCBlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRlYWN0aXZhdGUodCk7XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHRoaXMudmlldz8uZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLnZpZXcgPSB2b2lkIDA7XG4gICAgfVxufVxuXG5GdWxmaWxsZWRUZW1wbGF0ZUNvbnRyb2xsZXIuJGF1ID0ge1xuICAgIHR5cGU6IGplLFxuICAgIG5hbWU6IFwidGhlblwiLFxuICAgIGlzVGVtcGxhdGVDb250cm9sbGVyOiB0cnVlLFxuICAgIGJpbmRhYmxlczoge1xuICAgICAgICB2YWx1ZToge1xuICAgICAgICAgICAgbW9kZTogbWVcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbmNsYXNzIFJlamVjdGVkVGVtcGxhdGVDb250cm9sbGVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy52aWV3ID0gdm9pZCAwO1xuICAgICAgICB0aGlzLmYgPSB5KHVzKTtcbiAgICAgICAgdGhpcy5sID0geShSaSk7XG4gICAgfVxuICAgIGxpbmsodCwgZSwgcywgaSkge1xuICAgICAgICBnZXRQcm9taXNlQ29udHJvbGxlcih0KS5yZWplY3RlZCA9IHRoaXM7XG4gICAgfVxuICAgIGFjdGl2YXRlKHQsIGUsIHMpIHtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHM7XG4gICAgICAgIGxldCBpID0gdGhpcy52aWV3O1xuICAgICAgICBpZiAoaSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBpID0gdGhpcy52aWV3ID0gdGhpcy5mLmNyZWF0ZSgpLnNldExvY2F0aW9uKHRoaXMubCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGkuaXNBY3RpdmUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaS5hY3RpdmF0ZShpLCB0aGlzLiRjb250cm9sbGVyLCBlKTtcbiAgICB9XG4gICAgZGVhY3RpdmF0ZSh0KSB7XG4gICAgICAgIGNvbnN0IGUgPSB0aGlzLnZpZXc7XG4gICAgICAgIGlmIChlID09PSB2b2lkIDAgfHwgIWUuaXNBY3RpdmUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZS5kZWFjdGl2YXRlKGUsIHRoaXMuJGNvbnRyb2xsZXIpO1xuICAgIH1cbiAgICBkZXRhY2hpbmcodCwgZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5kZWFjdGl2YXRlKHQpO1xuICAgIH1cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICB0aGlzLnZpZXc/LmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy52aWV3ID0gdm9pZCAwO1xuICAgIH1cbn1cblxuUmVqZWN0ZWRUZW1wbGF0ZUNvbnRyb2xsZXIuJGF1ID0ge1xuICAgIHR5cGU6IGplLFxuICAgIG5hbWU6IFwiY2F0Y2hcIixcbiAgICBpc1RlbXBsYXRlQ29udHJvbGxlcjogdHJ1ZSxcbiAgICBiaW5kYWJsZXM6IHtcbiAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgIG1vZGU6IG1lXG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5mdW5jdGlvbiBnZXRQcm9taXNlQ29udHJvbGxlcih0KSB7XG4gICAgY29uc3QgZSA9IHQucGFyZW50O1xuICAgIGNvbnN0IHMgPSBlPy52aWV3TW9kZWw7XG4gICAgaWYgKHMgaW5zdGFuY2VvZiBQcm9taXNlVGVtcGxhdGVDb250cm9sbGVyKSB7XG4gICAgICAgIHJldHVybiBzO1xuICAgIH1cbiAgICB0aHJvdyBjcmVhdGVNYXBwZWRFcnJvcig4MTMpO1xufVxuXG5jbGFzcyBQcm9taXNlQXR0cmlidXRlUGF0dGVybiB7XG4gICAgXCJwcm9taXNlLnJlc29sdmVcIih0LCBlKSB7XG4gICAgICAgIHJldHVybiBuZXcgYnQodCwgZSwgXCJwcm9taXNlXCIsIFwiYmluZFwiKTtcbiAgICB9XG59XG5cbm1uID0gU3ltYm9sLm1ldGFkYXRhO1xuXG5Qcm9taXNlQXR0cmlidXRlUGF0dGVyblttbl0gPSB7XG4gICAgW1NdOiB4dC5jcmVhdGUoWyB7XG4gICAgICAgIHBhdHRlcm46IFwicHJvbWlzZS5yZXNvbHZlXCIsXG4gICAgICAgIHN5bWJvbHM6IFwiXCJcbiAgICB9IF0sIFByb21pc2VBdHRyaWJ1dGVQYXR0ZXJuKVxufTtcblxuY2xhc3MgRnVsZmlsbGVkQXR0cmlidXRlUGF0dGVybiB7XG4gICAgdGhlbih0LCBlKSB7XG4gICAgICAgIHJldHVybiBuZXcgYnQodCwgZSwgXCJ0aGVuXCIsIFwiZnJvbS12aWV3XCIpO1xuICAgIH1cbn1cblxuZ24gPSBTeW1ib2wubWV0YWRhdGE7XG5cbkZ1bGZpbGxlZEF0dHJpYnV0ZVBhdHRlcm5bZ25dID0ge1xuICAgIFtTXTogeHQuY3JlYXRlKFsge1xuICAgICAgICBwYXR0ZXJuOiBcInRoZW5cIixcbiAgICAgICAgc3ltYm9sczogXCJcIlxuICAgIH0gXSwgRnVsZmlsbGVkQXR0cmlidXRlUGF0dGVybilcbn07XG5cbmNsYXNzIFJlamVjdGVkQXR0cmlidXRlUGF0dGVybiB7XG4gICAgY2F0Y2godCwgZSkge1xuICAgICAgICByZXR1cm4gbmV3IGJ0KHQsIGUsIFwiY2F0Y2hcIiwgXCJmcm9tLXZpZXdcIik7XG4gICAgfVxufVxuXG5wbiA9IFN5bWJvbC5tZXRhZGF0YTtcblxuUmVqZWN0ZWRBdHRyaWJ1dGVQYXR0ZXJuW3BuXSA9IHtcbiAgICBbU106IHh0LmNyZWF0ZShbIHtcbiAgICAgICAgcGF0dGVybjogXCJjYXRjaFwiLFxuICAgICAgICBzeW1ib2xzOiBcIlwiXG4gICAgfSBdLCBSZWplY3RlZEF0dHJpYnV0ZVBhdHRlcm4pXG59O1xuXG5jbGFzcyBGb2N1cyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuX3MgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5SZSA9IHkoQWkpO1xuICAgICAgICB0aGlzLnAgPSB5KCRlKTtcbiAgICB9XG4gICAgYmluZGluZygpIHtcbiAgICAgICAgdGhpcy52YWx1ZUNoYW5nZWQoKTtcbiAgICB9XG4gICAgdmFsdWVDaGFuZ2VkKCkge1xuICAgICAgICBpZiAodGhpcy4kY29udHJvbGxlci5pc0FjdGl2ZSkge1xuICAgICAgICAgICAgdGhpcy5PcygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fcyA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXR0YWNoZWQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9zKSB7XG4gICAgICAgICAgICB0aGlzLl9zID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLk9zKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5SZS5hZGRFdmVudExpc3RlbmVyKFwiZm9jdXNcIiwgdGhpcyk7XG4gICAgICAgIHRoaXMuUmUuYWRkRXZlbnRMaXN0ZW5lcihcImJsdXJcIiwgdGhpcyk7XG4gICAgfVxuICAgIGRldGFjaGluZygpIHtcbiAgICAgICAgY29uc3QgdCA9IHRoaXMuUmU7XG4gICAgICAgIHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImZvY3VzXCIsIHRoaXMpO1xuICAgICAgICB0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJibHVyXCIsIHRoaXMpO1xuICAgIH1cbiAgICBoYW5kbGVFdmVudCh0KSB7XG4gICAgICAgIGlmICh0LnR5cGUgPT09IFwiZm9jdXNcIikge1xuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAoIXRoaXMuRnMpIHtcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBPcygpIHtcbiAgICAgICAgY29uc3QgdCA9IHRoaXMuUmU7XG4gICAgICAgIGNvbnN0IGUgPSB0aGlzLkZzO1xuICAgICAgICBjb25zdCBzID0gdGhpcy52YWx1ZTtcbiAgICAgICAgaWYgKHMgJiYgIWUpIHtcbiAgICAgICAgICAgIHQuZm9jdXMoKTtcbiAgICAgICAgfSBlbHNlIGlmICghcyAmJiBlKSB7XG4gICAgICAgICAgICB0LmJsdXIoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgRnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLlJlID09PSB0aGlzLnAuZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcbiAgICB9XG59XG5cbkZvY3VzLiRhdSA9IHtcbiAgICB0eXBlOiBqZSxcbiAgICBuYW1lOiBcImZvY3VzXCIsXG4gICAgYmluZGFibGVzOiB7XG4gICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgICBtb2RlOiBnZVxuICAgICAgICB9XG4gICAgfVxufTtcblxuY2xhc3MgUG9ydGFsIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IFwiYmVmb3JlZW5kXCI7XG4gICAgICAgIHRoaXMuc3RyaWN0ID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IHQgPSB5KHVzKTtcbiAgICAgICAgY29uc3QgZSA9IHkoUmkpO1xuICAgICAgICBjb25zdCBzID0geSgkZSk7XG4gICAgICAgIHRoaXMucCA9IHM7XG4gICAgICAgIHRoaXMuVnMgPSBzLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICh0aGlzLnZpZXcgPSB0LmNyZWF0ZSgpKS5zZXRMb2NhdGlvbih0aGlzLkhzID0gZnMocykpO1xuICAgICAgICBzZXRFZmZlY3RpdmVQYXJlbnROb2RlKHRoaXMudmlldy5ub2RlcywgZSk7XG4gICAgfVxuICAgIGF0dGFjaGluZyh0KSB7XG4gICAgICAgIGlmICh0aGlzLmNhbGxiYWNrQ29udGV4dCA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmNhbGxiYWNrQ29udGV4dCA9IHRoaXMuJGNvbnRyb2xsZXIuc2NvcGUuYmluZGluZ0NvbnRleHQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZSA9IHRoaXMuVnMgPSB0aGlzLiRzKCk7XG4gICAgICAgIHRoaXMuTnMoZSwgdGhpcy5wb3NpdGlvbik7XG4gICAgICAgIHJldHVybiB0aGlzLmpzKHQsIGUpO1xuICAgIH1cbiAgICBkZXRhY2hpbmcodCkge1xuICAgICAgICByZXR1cm4gdGhpcy5Xcyh0LCB0aGlzLlZzKTtcbiAgICB9XG4gICAgdGFyZ2V0Q2hhbmdlZCgpIHtcbiAgICAgICAgY29uc3QgeyRjb250cm9sbGVyOiB0fSA9IHRoaXM7XG4gICAgICAgIGlmICghdC5pc0FjdGl2ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGUgPSB0aGlzLiRzKCk7XG4gICAgICAgIGlmICh0aGlzLlZzID09PSBlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5WcyA9IGU7XG4gICAgICAgIGNvbnN0IHMgPSBfKHRoaXMuV3MobnVsbCwgZSksICgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLk5zKGUsIHRoaXMucG9zaXRpb24pO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuanMobnVsbCwgZSk7XG4gICAgICAgIH0pKTtcbiAgICAgICAgaWYgKHEocykpIHtcbiAgICAgICAgICAgIHMuY2F0Y2gocmV0aHJvdyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcG9zaXRpb25DaGFuZ2VkKCkge1xuICAgICAgICBjb25zdCB7JGNvbnRyb2xsZXI6IHQsIFZzOiBlfSA9IHRoaXM7XG4gICAgICAgIGlmICghdC5pc0FjdGl2ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHMgPSBfKHRoaXMuV3MobnVsbCwgZSksICgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLk5zKGUsIHRoaXMucG9zaXRpb24pO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuanMobnVsbCwgZSk7XG4gICAgICAgIH0pKTtcbiAgICAgICAgaWYgKHEocykpIHtcbiAgICAgICAgICAgIHMuY2F0Y2gocmV0aHJvdyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAganModCwgZSkge1xuICAgICAgICBjb25zdCB7YWN0aXZhdGluZzogcywgY2FsbGJhY2tDb250ZXh0OiBpLCB2aWV3OiBufSA9IHRoaXM7XG4gICAgICAgIHJldHVybiBfKHM/LmNhbGwoaSwgZSwgbiksICgoKSA9PiB0aGlzLnpzKHQsIGUpKSk7XG4gICAgfVxuICAgIHpzKHQsIGUpIHtcbiAgICAgICAgY29uc3QgeyRjb250cm9sbGVyOiBzLCB2aWV3OiBpfSA9IHRoaXM7XG4gICAgICAgIGlmICh0ID09PSBudWxsKSB7XG4gICAgICAgICAgICBpLm5vZGVzLmluc2VydEJlZm9yZSh0aGlzLkhzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBfKGkuYWN0aXZhdGUodCA/PyBpLCBzLCBzLnNjb3BlKSwgKCgpID0+IHRoaXMuVXMoZSkpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5VcyhlKTtcbiAgICB9XG4gICAgVXModCkge1xuICAgICAgICBjb25zdCB7YWN0aXZhdGVkOiBlLCBjYWxsYmFja0NvbnRleHQ6IHMsIHZpZXc6IGl9ID0gdGhpcztcbiAgICAgICAgcmV0dXJuIGU/LmNhbGwocywgdCwgaSk7XG4gICAgfVxuICAgIFdzKHQsIGUpIHtcbiAgICAgICAgY29uc3Qge2RlYWN0aXZhdGluZzogcywgY2FsbGJhY2tDb250ZXh0OiBpLCB2aWV3OiBufSA9IHRoaXM7XG4gICAgICAgIHJldHVybiBfKHM/LmNhbGwoaSwgZSwgbiksICgoKSA9PiB0aGlzLkdzKHQsIGUpKSk7XG4gICAgfVxuICAgIEdzKHQsIGUpIHtcbiAgICAgICAgY29uc3QgeyRjb250cm9sbGVyOiBzLCB2aWV3OiBpfSA9IHRoaXM7XG4gICAgICAgIGlmICh0ID09PSBudWxsKSB7XG4gICAgICAgICAgICBpLm5vZGVzLnJlbW92ZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIF8oaS5kZWFjdGl2YXRlKHQsIHMpLCAoKCkgPT4gdGhpcy5LcyhlKSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLktzKGUpO1xuICAgIH1cbiAgICBLcyh0KSB7XG4gICAgICAgIGNvbnN0IHtkZWFjdGl2YXRlZDogZSwgY2FsbGJhY2tDb250ZXh0OiBzLCB2aWV3OiBpfSA9IHRoaXM7XG4gICAgICAgIHJldHVybiBfKGU/LmNhbGwocywgdCwgaSksICgoKSA9PiB0aGlzLlhzKCkpKTtcbiAgICB9XG4gICAgJHMoKSB7XG4gICAgICAgIGNvbnN0IHQgPSB0aGlzLnA7XG4gICAgICAgIGNvbnN0IGUgPSB0LmRvY3VtZW50O1xuICAgICAgICBsZXQgcyA9IHRoaXMudGFyZ2V0O1xuICAgICAgICBsZXQgbiA9IHRoaXMucmVuZGVyQ29udGV4dDtcbiAgICAgICAgaWYgKHMgPT09IFwiXCIpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnN0cmljdCkge1xuICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZU1hcHBlZEVycm9yKDgxMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZS5ib2R5O1xuICAgICAgICB9XG4gICAgICAgIGlmIChpKHMpKSB7XG4gICAgICAgICAgICBsZXQgciA9IGU7XG4gICAgICAgICAgICBpZiAoaShuKSkge1xuICAgICAgICAgICAgICAgIG4gPSBlLnF1ZXJ5U2VsZWN0b3Iobik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobiBpbnN0YW5jZW9mIHQuTm9kZSkge1xuICAgICAgICAgICAgICAgIHIgPSBuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcyA9IHIucXVlcnlTZWxlY3RvcihzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocyBpbnN0YW5jZW9mIHQuTm9kZSkge1xuICAgICAgICAgICAgcmV0dXJuIHM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMgPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuc3RyaWN0KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlTWFwcGVkRXJyb3IoODEyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBlLmJvZHk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHM7XG4gICAgfVxuICAgIFhzKCkge1xuICAgICAgICB0aGlzLkhzLnJlbW92ZSgpO1xuICAgICAgICB0aGlzLkhzLiRzdGFydC5yZW1vdmUoKTtcbiAgICB9XG4gICAgTnModCwgZSkge1xuICAgICAgICBjb25zdCBzID0gdGhpcy5IcztcbiAgICAgICAgY29uc3QgaSA9IHMuJHN0YXJ0O1xuICAgICAgICBjb25zdCBuID0gdC5wYXJlbnROb2RlO1xuICAgICAgICBjb25zdCByID0gWyBpLCBzIF07XG4gICAgICAgIHN3aXRjaCAoZSkge1xuICAgICAgICAgIGNhc2UgXCJiZWZvcmVlbmRcIjpcbiAgICAgICAgICAgIGluc2VydE1hbnlCZWZvcmUodCwgbnVsbCwgcik7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgXCJhZnRlcmJlZ2luXCI6XG4gICAgICAgICAgICBpbnNlcnRNYW55QmVmb3JlKHQsIHQuZmlyc3RDaGlsZCwgcik7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgXCJiZWZvcmViZWdpblwiOlxuICAgICAgICAgICAgaW5zZXJ0TWFueUJlZm9yZShuLCB0LCByKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSBcImFmdGVyZW5kXCI6XG4gICAgICAgICAgICBpbnNlcnRNYW55QmVmb3JlKG4sIHQubmV4dFNpYmxpbmcsIHIpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgY3JlYXRlTWFwcGVkRXJyb3IoNzc5LCBlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICB0aGlzLnZpZXcuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLnZpZXcgPSB2b2lkIDA7XG4gICAgICAgIHRoaXMuY2FsbGJhY2tDb250ZXh0ID0gbnVsbDtcbiAgICB9XG4gICAgYWNjZXB0KHQpIHtcbiAgICAgICAgaWYgKHRoaXMudmlldz8uYWNjZXB0KHQpID09PSB0cnVlKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuUG9ydGFsLiRhdSA9IHtcbiAgICB0eXBlOiBqZSxcbiAgICBuYW1lOiBcInBvcnRhbFwiLFxuICAgIGlzVGVtcGxhdGVDb250cm9sbGVyOiB0cnVlLFxuICAgIGJpbmRhYmxlczogWyB7XG4gICAgICAgIG5hbWU6IFwidGFyZ2V0XCIsXG4gICAgICAgIHByaW1hcnk6IHRydWVcbiAgICB9LCBcInBvc2l0aW9uXCIsIFwiYWN0aXZhdGVkXCIsIFwiYWN0aXZhdGluZ1wiLCBcImNhbGxiYWNrQ29udGV4dFwiLCB7XG4gICAgICAgIG5hbWU6IFwicmVuZGVyQ29udGV4dFwiLFxuICAgICAgICBjYWxsYmFjazogXCJ0YXJnZXRDaGFuZ2VkXCJcbiAgICB9LCBcInN0cmljdFwiLCBcImRlYWN0aXZhdGVkXCIsIFwiZGVhY3RpdmF0aW5nXCIgXVxufTtcblxubGV0IHZuO1xuXG5jbGFzcyBBdVNsb3Qge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLlFzID0gbnVsbDtcbiAgICAgICAgdGhpcy5ZcyA9IG51bGw7XG4gICAgICAgIHRoaXMuWnQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5leHBvc2UgPSBudWxsO1xuICAgICAgICB0aGlzLnNsb3RjaGFuZ2UgPSBudWxsO1xuICAgICAgICB0aGlzLlpzID0gbmV3IFNldDtcbiAgICAgICAgdGhpcy5jcyA9IG51bGw7XG4gICAgICAgIGNvbnN0IHQgPSB5KGtpKTtcbiAgICAgICAgY29uc3QgZSA9IHkoUmkpO1xuICAgICAgICBjb25zdCBzID0geShkdCk7XG4gICAgICAgIGNvbnN0IGkgPSB5KHpzKTtcbiAgICAgICAgY29uc3QgbiA9IHRoaXMubmFtZSA9IHMuZGF0YS5uYW1lO1xuICAgICAgICBjb25zdCByID0gcy5wcm9qZWN0aW9ucz8uW2RzXTtcbiAgICAgICAgY29uc3QgbCA9IHQuaW5zdHJ1Y3Rpb24/LnByb2plY3Rpb25zPy5bbl07XG4gICAgICAgIGNvbnN0IGEgPSB0LmNvbnRyb2xsZXIuY29udGFpbmVyO1xuICAgICAgICBsZXQgaDtcbiAgICAgICAgbGV0IGM7XG4gICAgICAgIGlmIChsID09IG51bGwpIHtcbiAgICAgICAgICAgIGMgPSBhLmNyZWF0ZUNoaWxkKHtcbiAgICAgICAgICAgICAgICBpbmhlcml0UGFyZW50UmVzb3VyY2VzOiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGggPSBpLmdldFZpZXdGYWN0b3J5KHIgPz8gKHZuID8/PSBDdXN0b21FbGVtZW50RGVmaW5pdGlvbi5jcmVhdGUoe1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiYXUtc2xvdC1lbXB0eS10ZW1wbGF0ZVwiLFxuICAgICAgICAgICAgICAgIHRlbXBsYXRlOiBcIlwiLFxuICAgICAgICAgICAgICAgIG5lZWRzQ29tcGlsZTogZmFsc2VcbiAgICAgICAgICAgIH0pKSwgYyk7XG4gICAgICAgICAgICB0aGlzLkpzID0gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjID0gYS5jcmVhdGVDaGlsZCgpO1xuICAgICAgICAgICAgYy51c2VSZXNvdXJjZXModC5wYXJlbnQuY29udHJvbGxlci5jb250YWluZXIpO1xuICAgICAgICAgICAgcmVnaXN0ZXJSZXNvbHZlcihjLCBraSwgbmV3IFIodm9pZCAwLCB0LnBhcmVudCkpO1xuICAgICAgICAgICAgaCA9IGkuZ2V0Vmlld0ZhY3RvcnkobCwgYyk7XG4gICAgICAgICAgICB0aGlzLkpzID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMudGkgPSBhLmdldEFsbChwcywgZmFsc2UpPy5maWx0ZXIoKHQgPT4gdC5zbG90TmFtZSA9PT0gXCIqXCIgfHwgdC5zbG90TmFtZSA9PT0gbikpID8/IEM7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5laSA9ICh0aGlzLnRpID8/PSBDKS5sZW5ndGggPiAwO1xuICAgICAgICB0aGlzLnNpID0gdDtcbiAgICAgICAgdGhpcy52aWV3ID0gaC5jcmVhdGUoKS5zZXRMb2NhdGlvbih0aGlzLmwgPSBlKTtcbiAgICB9XG4gICAgZ2V0IG5vZGVzKCkge1xuICAgICAgICBjb25zdCB0ID0gW107XG4gICAgICAgIGNvbnN0IGUgPSB0aGlzLmw7XG4gICAgICAgIGxldCBzID0gZS4kc3RhcnQubmV4dFNpYmxpbmc7XG4gICAgICAgIHdoaWxlIChzICE9IG51bGwgJiYgcyAhPT0gZSkge1xuICAgICAgICAgICAgaWYgKHMubm9kZVR5cGUgIT09IDgpIHtcbiAgICAgICAgICAgICAgICB0LnB1c2gocyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzID0gcy5uZXh0U2libGluZztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9XG4gICAgc3Vic2NyaWJlKHQpIHtcbiAgICAgICAgdGhpcy5acy5hZGQodCk7XG4gICAgfVxuICAgIHVuc3Vic2NyaWJlKHQpIHtcbiAgICAgICAgdGhpcy5acy5kZWxldGUodCk7XG4gICAgfVxuICAgIGJpbmRpbmcodCwgZSkge1xuICAgICAgICB0aGlzLlFzID0gZS5zY29wZTtcbiAgICAgICAgd2hpbGUgKGUudm1LaW5kID09PSBcInN5bnRoZXRpY1wiICYmIGUucGFyZW50Py52aWV3TW9kZWwgaW5zdGFuY2VvZiBBdVNsb3QpIHtcbiAgICAgICAgICAgIGUgPSBlLnBhcmVudC5wYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcyA9IGUuc2NvcGUuYmluZGluZ0NvbnRleHQ7XG4gICAgICAgIGxldCBpO1xuICAgICAgICBpZiAodGhpcy5Kcykge1xuICAgICAgICAgICAgaSA9IHRoaXMuc2kuY29udHJvbGxlci5zY29wZS5wYXJlbnQ7XG4gICAgICAgICAgICAodGhpcy5ZcyA9IFNjb3BlLmZyb21QYXJlbnQoaSwgaS5iaW5kaW5nQ29udGV4dCkpLm92ZXJyaWRlQ29udGV4dC4kaG9zdCA9IHRoaXMuZXhwb3NlID8/IHM7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXR0YWNoaW5nKHQsIGUpIHtcbiAgICAgICAgcmV0dXJuIF8odGhpcy52aWV3LmFjdGl2YXRlKHQsIHRoaXMuJGNvbnRyb2xsZXIsIHRoaXMuSnMgPyB0aGlzLllzIDogdGhpcy5RcyksICgoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5laSkge1xuICAgICAgICAgICAgICAgIHRoaXMudGkuZm9yRWFjaCgodCA9PiB0LndhdGNoKHRoaXMpKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5RZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuaWkoKTtcbiAgICAgICAgICAgICAgICB0aGlzLlp0ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBkZXRhY2hpbmcodCwgZSkge1xuICAgICAgICB0aGlzLlp0ID0gZmFsc2U7XG4gICAgICAgIHRoaXMubmkoKTtcbiAgICAgICAgdGhpcy50aS5mb3JFYWNoKCh0ID0+IHQudW53YXRjaCh0aGlzKSkpO1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LmRlYWN0aXZhdGUodCwgdGhpcy4kY29udHJvbGxlcik7XG4gICAgfVxuICAgIGV4cG9zZUNoYW5nZWQodCkge1xuICAgICAgICBpZiAodGhpcy5KcyAmJiB0aGlzLllzICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuWXMub3ZlcnJpZGVDb250ZXh0LiRob3N0ID0gdDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICB0aGlzLnZpZXcuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLnZpZXcgPSB2b2lkIDA7XG4gICAgfVxuICAgIGFjY2VwdCh0KSB7XG4gICAgICAgIGlmICh0aGlzLnZpZXc/LmFjY2VwdCh0KSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgUWUoKSB7XG4gICAgICAgIGlmICh0aGlzLmNzICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0ID0gdGhpcy5sO1xuICAgICAgICBjb25zdCBlID0gdC5wYXJlbnRFbGVtZW50O1xuICAgICAgICBpZiAoZSA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgKHRoaXMuY3MgPSBjcmVhdGVNdXRhdGlvbk9ic2VydmVyKGUsIChlID0+IHtcbiAgICAgICAgICAgIGlmIChpc011dGF0aW9uV2l0aGluTG9jYXRpb24odCwgZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlpKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKSkub2JzZXJ2ZShlLCB7XG4gICAgICAgICAgICBjaGlsZExpc3Q6IHRydWVcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG5pKCkge1xuICAgICAgICB0aGlzLmNzPy5kaXNjb25uZWN0KCk7XG4gICAgICAgIHRoaXMuY3MgPSBudWxsO1xuICAgIH1cbiAgICBpaSgpIHtcbiAgICAgICAgY29uc3QgdCA9IHRoaXMubm9kZXM7XG4gICAgICAgIGNvbnN0IGUgPSBuZXcgU2V0KHRoaXMuWnMpO1xuICAgICAgICBsZXQgcztcbiAgICAgICAgaWYgKHRoaXMuWnQpIHtcbiAgICAgICAgICAgIHRoaXMuc2xvdGNoYW5nZT8uY2FsbCh2b2lkIDAsIHRoaXMubmFtZSwgdCk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChzIG9mIGUpIHtcbiAgICAgICAgICAgIHMuaGFuZGxlU2xvdENoYW5nZSh0aGlzLCB0KTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuQXVTbG90LiRhdSA9IHtcbiAgICB0eXBlOiBfaSxcbiAgICBuYW1lOiBcImF1LXNsb3RcIixcbiAgICB0ZW1wbGF0ZTogbnVsbCxcbiAgICBjb250YWluZXJsZXNzOiB0cnVlLFxuICAgIHByb2Nlc3NDb250ZW50KHQsIGUsIHMpIHtcbiAgICAgICAgcy5uYW1lID0gdC5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpID8/IGRzO1xuICAgICAgICBsZXQgaSA9IHQuZmlyc3RDaGlsZDtcbiAgICAgICAgbGV0IG4gPSBudWxsO1xuICAgICAgICB3aGlsZSAoaSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgbiA9IGkubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICBpZiAoaXNFbGVtZW50KGkpICYmIGkuaGFzQXR0cmlidXRlKG1zKSkge1xuICAgICAgICAgICAgICAgIHQucmVtb3ZlQ2hpbGQoaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpID0gbjtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgYmluZGFibGVzOiBbIFwiZXhwb3NlXCIsIFwic2xvdGNoYW5nZVwiIF1cbn07XG5cbmNvbnN0IGNvbXBhcmVQb3NpdGlvbiA9ICh0LCBlKSA9PiB0LmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGUpO1xuXG5jb25zdCBpc011dGF0aW9uV2l0aGluTG9jYXRpb24gPSAodCwgZSkgPT4ge1xuICAgIGZvciAoY29uc3Qge2FkZGVkTm9kZXM6IHMsIHJlbW92ZWROb2RlczogaSwgbmV4dFNpYmxpbmc6IG59IG9mIGUpIHtcbiAgICAgICAgbGV0IGUgPSAwO1xuICAgICAgICBsZXQgciA9IHMubGVuZ3RoO1xuICAgICAgICBsZXQgbDtcbiAgICAgICAgZm9yICg7ZSA8IHI7ICsrZSkge1xuICAgICAgICAgICAgbCA9IHNbZV07XG4gICAgICAgICAgICBpZiAoY29tcGFyZVBvc2l0aW9uKHQuJHN0YXJ0LCBsKSA9PT0gNCAmJiBjb21wYXJlUG9zaXRpb24odCwgbCkgPT09IDIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBpZiAobiAhPSBudWxsICYmIGNvbXBhcmVQb3NpdGlvbih0LiRzdGFydCwgbikgPT09IDQgJiYgY29tcGFyZVBvc2l0aW9uKHQsIG4pID09PSAyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5jbGFzcyBBdUNvbXBvc2Uge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnNjb3BlQmVoYXZpb3IgPSBcImF1dG9cIjtcbiAgICAgICAgdGhpcy5yaSA9IHZvaWQgMDtcbiAgICAgICAgdGhpcy50YWcgPSBudWxsO1xuICAgICAgICB0aGlzLmMgPSB5KFQpO1xuICAgICAgICB0aGlzLnBhcmVudCA9IHkoeWkpO1xuICAgICAgICB0aGlzLm9pID0geShBaSk7XG4gICAgICAgIHRoaXMubCA9IHkoUmkpO1xuICAgICAgICB0aGlzLnAgPSB5KCRlKTtcbiAgICAgICAgdGhpcy5yID0geSh6cyk7XG4gICAgICAgIHRoaXMubGkgPSB5KGR0KTtcbiAgICAgICAgdGhpcy5haSA9IHkoSyhDb21wb3NpdGlvbkNvbnRleHRGYWN0b3J5LCBudWxsKSk7XG4gICAgICAgIHRoaXMuZ3QgPSB5KGZ0KTtcbiAgICAgICAgdGhpcy5KID0geShraSk7XG4gICAgICAgIHRoaXMuZXAgPSB5KHMpO1xuICAgICAgICB0aGlzLm9MID0geShaKTtcbiAgICB9XG4gICAgZ2V0IGNvbXBvc2luZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGk7XG4gICAgfVxuICAgIGdldCBjb21wb3NpdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmk7XG4gICAgfVxuICAgIGF0dGFjaGluZyh0LCBlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmhpID0gXyh0aGlzLnF1ZXVlKG5ldyBDaGFuZ2VJbmZvKHRoaXMudGVtcGxhdGUsIHRoaXMuY29tcG9uZW50LCB0aGlzLm1vZGVsLCB2b2lkIDApLCB0KSwgKHQgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuYWkuY2kodCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhpID0gdm9pZCAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgfVxuICAgIGRldGFjaGluZyh0KSB7XG4gICAgICAgIGNvbnN0IGUgPSB0aGlzLnJpO1xuICAgICAgICBjb25zdCBzID0gdGhpcy5oaTtcbiAgICAgICAgdGhpcy5haS5pbnZhbGlkYXRlKCk7XG4gICAgICAgIHRoaXMucmkgPSB0aGlzLmhpID0gdm9pZCAwO1xuICAgICAgICByZXR1cm4gXyhzLCAoKCkgPT4gZT8uZGVhY3RpdmF0ZSh0KSkpO1xuICAgIH1cbiAgICBwcm9wZXJ0eUNoYW5nZWQodCkge1xuICAgICAgICBpZiAodCA9PT0gXCJjb21wb3NpbmdcIiB8fCB0ID09PSBcImNvbXBvc2l0aW9uXCIpIHJldHVybjtcbiAgICAgICAgaWYgKHQgPT09IFwibW9kZWxcIiAmJiB0aGlzLnJpICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMucmkudXBkYXRlKHRoaXMubW9kZWwpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0ID09PSBcInRhZ1wiICYmIHRoaXMucmk/LmNvbnRyb2xsZXIudm1LaW5kID09PSBjaSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaGkgPSBfKHRoaXMuaGksICgoKSA9PiBfKHRoaXMucXVldWUobmV3IENoYW5nZUluZm8odGhpcy50ZW1wbGF0ZSwgdGhpcy5jb21wb25lbnQsIHRoaXMubW9kZWwsIHQpLCB2b2lkIDApLCAodCA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5haS5jaSh0KSkge1xuICAgICAgICAgICAgICAgIHRoaXMuaGkgPSB2b2lkIDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKSkpO1xuICAgIH1cbiAgICBxdWV1ZSh0LCBlKSB7XG4gICAgICAgIGNvbnN0IHMgPSB0aGlzLmFpO1xuICAgICAgICBjb25zdCBpID0gdGhpcy5yaTtcbiAgICAgICAgcmV0dXJuIF8ocy5jcmVhdGUodCksICh0ID0+IHtcbiAgICAgICAgICAgIGlmIChzLmNpKHQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF8odGhpcy5jb21wb3NlKHQpLCAobiA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzLmNpKHQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXyhuLmFjdGl2YXRlKGUpLCAoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzLmNpKHQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmkgPSBuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXyhpPy5kZWFjdGl2YXRlKGUpLCAoKCkgPT4gdCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfKG4uY29udHJvbGxlci5kZWFjdGl2YXRlKG4uY29udHJvbGxlciwgdGhpcy4kY29udHJvbGxlciksICgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuLmNvbnRyb2xsZXIuZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbi5jb250cm9sbGVyLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHQ7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHQ7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgY29tcG9zZSh0KSB7XG4gICAgICAgIGNvbnN0IHt1aTogZSwgZmk6IHMsIGRpOiBpfSA9IHQuY2hhbmdlO1xuICAgICAgICBjb25zdCB7YzogbiwgJGNvbnRyb2xsZXI6IHIsIGw6IGEsIGxpOiBofSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IGMgPSB0aGlzLm1pKHRoaXMuSi5jb250cm9sbGVyLmNvbnRhaW5lciwgcyk7XG4gICAgICAgIGNvbnN0IHUgPSBuLmNyZWF0ZUNoaWxkKCk7XG4gICAgICAgIGNvbnN0IGYgPSB0aGlzLnAuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChjID09IG51bGwgPyB0aGlzLnRhZyA/PyBcImRpdlwiIDogYy5uYW1lKTtcbiAgICAgICAgYS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShmLCBhKTtcbiAgICAgICAgbGV0IGQ7XG4gICAgICAgIGlmIChjID09IG51bGwpIHtcbiAgICAgICAgICAgIGQgPSB0aGlzLnRhZyA9PSBudWxsID8gY29udmVydFRvUmVuZGVyTG9jYXRpb24oZikgOiBudWxsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZCA9IGMuY29udGFpbmVybGVzcyA/IGNvbnZlcnRUb1JlbmRlckxvY2F0aW9uKGYpIDogbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZW1vdmVDb21wb3NpdGlvbkhvc3QgPSAoKSA9PiB7XG4gICAgICAgICAgICBmLnJlbW92ZSgpO1xuICAgICAgICAgICAgaWYgKGQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGxldCB0ID0gZC4kc3RhcnQubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICAgICAgbGV0IGUgPSBudWxsO1xuICAgICAgICAgICAgICAgIHdoaWxlICh0ICE9PSBudWxsICYmIHQgIT09IGQpIHtcbiAgICAgICAgICAgICAgICAgICAgZSA9IHQubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICAgICAgICAgIHQucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgIHQgPSBlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkLiRzdGFydD8ucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgZC5yZW1vdmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgbSA9IHRoaXMuZ2kodSwgdHlwZW9mIHMgPT09IFwic3RyaW5nXCIgPyBjLlR5cGUgOiBzLCBmLCBkKTtcbiAgICAgICAgY29uc3QgY29tcG9zZSA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHMgPSBoLmNhcHR1cmVzID8/IEM7XG4gICAgICAgICAgICBpZiAoYyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGUgPSBjLmNhcHR1cmU7XG4gICAgICAgICAgICAgICAgY29uc3QgW2ksIG5dID0gcy5yZWR1Y2UoKCh0LCBzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGkgPSAhKHMudGFyZ2V0IGluIGMuYmluZGFibGVzKSAmJiAoZSA9PT0gdHJ1ZSB8fCBsKGUpICYmICEhZShzLnRhcmdldCkpO1xuICAgICAgICAgICAgICAgICAgICB0W2kgPyAwIDogMV0ucHVzaChzKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHQ7XG4gICAgICAgICAgICAgICAgfSksIFsgW10sIFtdIF0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IGEgPSBDb250cm9sbGVyLiRlbCh1LCBtLCBmLCB7XG4gICAgICAgICAgICAgICAgICAgIHByb2plY3Rpb25zOiBoLnByb2plY3Rpb25zLFxuICAgICAgICAgICAgICAgICAgICBjYXB0dXJlczogaVxuICAgICAgICAgICAgICAgIH0sIGMsIGQpO1xuICAgICAgICAgICAgICAgIHRoaXMucGkoZiwgYywgbikuZm9yRWFjaCgodCA9PiBhLmFkZEJpbmRpbmcodCkpKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBvc2l0aW9uQ29udHJvbGxlcihhLCAodCA9PiBhLmFjdGl2YXRlKHQgPz8gYSwgciwgci5zY29wZS5wYXJlbnQpKSwgKHQgPT4gXyhhLmRlYWN0aXZhdGUodCA/PyBhLCByKSwgcmVtb3ZlQ29tcG9zaXRpb25Ib3N0KSksICh0ID0+IG0uYWN0aXZhdGU/Lih0KSksIHQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpID0gQ3VzdG9tRWxlbWVudERlZmluaXRpb24uY3JlYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogSGkuZ2VuZXJhdGVOYW1lKCksXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiBlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgbiA9IHRoaXMuci5nZXRWaWV3RmFjdG9yeShpLCB1KTtcbiAgICAgICAgICAgICAgICBjb25zdCBsID0gQ29udHJvbGxlci4kdmlldyhuLCByKTtcbiAgICAgICAgICAgICAgICBjb25zdCBhID0gdGhpcy5zY29wZUJlaGF2aW9yID09PSBcImF1dG9cIiA/IFNjb3BlLmZyb21QYXJlbnQodGhpcy5wYXJlbnQuc2NvcGUsIG0pIDogU2NvcGUuY3JlYXRlKG0pO1xuICAgICAgICAgICAgICAgIGwuc2V0SG9zdChmKTtcbiAgICAgICAgICAgICAgICBpZiAoZCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGkoZiwgaSwgcykuZm9yRWFjaCgodCA9PiBsLmFkZEJpbmRpbmcodCkpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsLnNldExvY2F0aW9uKGQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBvc2l0aW9uQ29udHJvbGxlcihsLCAodCA9PiBsLmFjdGl2YXRlKHQgPz8gbCwgciwgYSkpLCAodCA9PiBfKGwuZGVhY3RpdmF0ZSh0ID8/IGwsIHIpLCByZW1vdmVDb21wb3NpdGlvbkhvc3QpKSwgKHQgPT4gbS5hY3RpdmF0ZT8uKHQpKSwgdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGlmIChcImFjdGl2YXRlXCIgaW4gbSkge1xuICAgICAgICAgICAgcmV0dXJuIF8obS5hY3RpdmF0ZShpKSwgKCgpID0+IGNvbXBvc2UoKSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGNvbXBvc2UoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnaSh0LCBlLCBzLCBpKSB7XG4gICAgICAgIGlmIChlID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRW1wdHlDb21wb25lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBlID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICByZXR1cm4gZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuID0gdGhpcy5wO1xuICAgICAgICByZWdpc3Rlckhvc3ROb2RlKHQsIHMsIG4pO1xuICAgICAgICByZWdpc3RlclJlc29sdmVyKHQsIFJpLCBuZXcgUihcIklSZW5kZXJMb2NhdGlvblwiLCBpKSk7XG4gICAgICAgIGNvbnN0IHIgPSB0Lmludm9rZShlKTtcbiAgICAgICAgcmVnaXN0ZXJSZXNvbHZlcih0LCBlLCBuZXcgUihcImF1LWNvbXBvc2UuY29tcG9uZW50XCIsIHIpKTtcbiAgICAgICAgcmV0dXJuIHI7XG4gICAgfVxuICAgIG1pKHQsIGUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICBjb25zdCBzID0gSGkuZmluZCh0LCBlKTtcbiAgICAgICAgICAgIGlmIChzID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVNYXBwZWRFcnJvcig4MDYsIGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHM7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcyA9IGwoZSkgPyBlIDogZT8uY29uc3RydWN0b3I7XG4gICAgICAgIHJldHVybiBIaS5pc1R5cGUocywgdm9pZCAwKSA/IEhpLmdldERlZmluaXRpb24ocywgbnVsbCkgOiBudWxsO1xuICAgIH1cbiAgICBwaSh0LCBlLCBzKSB7XG4gICAgICAgIGNvbnN0IGkgPSBuZXcgSHlkcmF0aW9uQ29udGV4dCh0aGlzLiRjb250cm9sbGVyLCB7XG4gICAgICAgICAgICBwcm9qZWN0aW9uczogbnVsbCxcbiAgICAgICAgICAgIGNhcHR1cmVzOiBzXG4gICAgICAgIH0sIHRoaXMuSi5wYXJlbnQpO1xuICAgICAgICByZXR1cm4gU3ByZWFkQmluZGluZy5jcmVhdGUoaSwgdCwgZSwgdGhpcy5yLCB0aGlzLmd0LCB0aGlzLnAsIHRoaXMuZXAsIHRoaXMub0wpO1xuICAgIH1cbn1cblxuQXVDb21wb3NlLiRhdSA9IHtcbiAgICB0eXBlOiBfaSxcbiAgICBuYW1lOiBcImF1LWNvbXBvc2VcIixcbiAgICBjYXB0dXJlOiB0cnVlLFxuICAgIGNvbnRhaW5lcmxlc3M6IHRydWUsXG4gICAgYmluZGFibGVzOiBbIFwidGVtcGxhdGVcIiwgXCJjb21wb25lbnRcIiwgXCJtb2RlbFwiLCB7XG4gICAgICAgIG5hbWU6IFwic2NvcGVCZWhhdmlvclwiLFxuICAgICAgICBzZXQ6IHQgPT4ge1xuICAgICAgICAgICAgaWYgKHQgPT09IFwic2NvcGVkXCIgfHwgdCA9PT0gXCJhdXRvXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IGNyZWF0ZU1hcHBlZEVycm9yKDgwNSwgdCk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIG5hbWU6IFwiY29tcG9zaW5nXCIsXG4gICAgICAgIG1vZGU6IG1lXG4gICAgfSwge1xuICAgICAgICBuYW1lOiBcImNvbXBvc2l0aW9uXCIsXG4gICAgICAgIG1vZGU6IG1lXG4gICAgfSwgXCJ0YWdcIiBdXG59O1xuXG5jbGFzcyBFbXB0eUNvbXBvbmVudCB7fVxuXG5jbGFzcyBDb21wb3NpdGlvbkNvbnRleHRGYWN0b3J5IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5pZCA9IDA7XG4gICAgfVxuICAgIGNpKHQpIHtcbiAgICAgICAgcmV0dXJuIHQuaWQgPT09IHRoaXMuaWQ7XG4gICAgfVxuICAgIGNyZWF0ZSh0KSB7XG4gICAgICAgIHJldHVybiBfKHQubG9hZCgpLCAodCA9PiBuZXcgQ29tcG9zaXRpb25Db250ZXh0KCsrdGhpcy5pZCwgdCkpKTtcbiAgICB9XG4gICAgaW52YWxpZGF0ZSgpIHtcbiAgICAgICAgdGhpcy5pZCsrO1xuICAgIH1cbn1cblxuY2xhc3MgQ2hhbmdlSW5mbyB7XG4gICAgY29uc3RydWN0b3IodCwgZSwgcywgaSkge1xuICAgICAgICB0aGlzLnVpID0gdDtcbiAgICAgICAgdGhpcy5maSA9IGU7XG4gICAgICAgIHRoaXMuZGkgPSBzO1xuICAgICAgICB0aGlzLnhpID0gaTtcbiAgICB9XG4gICAgbG9hZCgpIHtcbiAgICAgICAgaWYgKHEodGhpcy51aSkgfHwgcSh0aGlzLmZpKSkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKFsgdGhpcy51aSwgdGhpcy5maSBdKS50aGVuKCgoW3QsIGVdKSA9PiBuZXcgTG9hZGVkQ2hhbmdlSW5mbyh0LCBlLCB0aGlzLmRpLCB0aGlzLnhpKSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBMb2FkZWRDaGFuZ2VJbmZvKHRoaXMudWksIHRoaXMuZmksIHRoaXMuZGksIHRoaXMueGkpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5jbGFzcyBMb2FkZWRDaGFuZ2VJbmZvIHtcbiAgICBjb25zdHJ1Y3Rvcih0LCBlLCBzLCBpKSB7XG4gICAgICAgIHRoaXMudWkgPSB0O1xuICAgICAgICB0aGlzLmZpID0gZTtcbiAgICAgICAgdGhpcy5kaSA9IHM7XG4gICAgICAgIHRoaXMueGkgPSBpO1xuICAgIH1cbn1cblxuY2xhc3MgQ29tcG9zaXRpb25Db250ZXh0IHtcbiAgICBjb25zdHJ1Y3Rvcih0LCBlKSB7XG4gICAgICAgIHRoaXMuaWQgPSB0O1xuICAgICAgICB0aGlzLmNoYW5nZSA9IGU7XG4gICAgfVxufVxuXG5jbGFzcyBDb21wb3NpdGlvbkNvbnRyb2xsZXIge1xuICAgIGNvbnN0cnVjdG9yKHQsIGUsIHMsIGksIG4pIHtcbiAgICAgICAgdGhpcy5jb250cm9sbGVyID0gdDtcbiAgICAgICAgdGhpcy5zdGFydCA9IGU7XG4gICAgICAgIHRoaXMuc3RvcCA9IHM7XG4gICAgICAgIHRoaXMudXBkYXRlID0gaTtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gbjtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IDA7XG4gICAgfVxuICAgIGFjdGl2YXRlKHQpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgIT09IDApIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZU1hcHBlZEVycm9yKDgwNywgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdGF0ZSA9IDE7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXJ0KHQpO1xuICAgIH1cbiAgICBkZWFjdGl2YXRlKHQpIHtcbiAgICAgICAgc3dpdGNoICh0aGlzLnN0YXRlKSB7XG4gICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IC0xO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RvcCh0KTtcblxuICAgICAgICAgIGNhc2UgLTE6XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVNYXBwZWRFcnJvcig4MDgpO1xuXG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSAtMTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuY29uc3QgeG4gPSAvKkBfX1BVUkVfXyovIEJlKFwiSVNhbml0aXplclwiLCAodCA9PiB0LnNpbmdsZXRvbihjbGFzcyB7XG4gICAgc2FuaXRpemUoKSB7XG4gICAgICAgIHRocm93IGNyZWF0ZU1hcHBlZEVycm9yKDk5LCBcInNhbml0aXplXCIpO1xuICAgIH1cbn0pKSk7XG5cbmNsYXNzIFNhbml0aXplVmFsdWVDb252ZXJ0ZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmJpID0geSh4bik7XG4gICAgfVxuICAgIHRvVmlldyh0KSB7XG4gICAgICAgIGlmICh0ID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmJpLnNhbml0aXplKHQpO1xuICAgIH1cbn1cblxuU2FuaXRpemVWYWx1ZUNvbnZlcnRlci4kYXUgPSB7XG4gICAgdHlwZTogS2UsXG4gICAgbmFtZTogXCJzYW5pdGl6ZVwiXG59O1xuXG5jbGFzcyBTaG93IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5lbCA9IHkoQWkpO1xuICAgICAgICB0aGlzLnAgPSB5KCRlKTtcbiAgICAgICAgdGhpcy53aSA9IGZhbHNlO1xuICAgICAgICB0aGlzLkwgPSBudWxsO1xuICAgICAgICB0aGlzLiR2YWwgPSBcIlwiO1xuICAgICAgICB0aGlzLiRwcmlvID0gXCJcIjtcbiAgICAgICAgdGhpcy51cGRhdGUgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLkwgPSBudWxsO1xuICAgICAgICAgICAgaWYgKEJvb2xlYW4odGhpcy52YWx1ZSkgIT09IHRoaXMueWkpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy55aSA9PT0gdGhpcy5raSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnlpID0gIXRoaXMua2k7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJHZhbCA9IHRoaXMuZWwuc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZShcImRpc3BsYXlcIik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJHByaW8gPSB0aGlzLmVsLnN0eWxlLmdldFByb3BlcnR5UHJpb3JpdHkoXCJkaXNwbGF5XCIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVsLnN0eWxlLnNldFByb3BlcnR5KFwiZGlzcGxheVwiLCBcIm5vbmVcIiwgXCJpbXBvcnRhbnRcIik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy55aSA9IHRoaXMua2k7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWwuc3R5bGUuc2V0UHJvcGVydHkoXCJkaXNwbGF5XCIsIHRoaXMuJHZhbCwgdGhpcy4kcHJpbyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmVsLmdldEF0dHJpYnV0ZShcInN0eWxlXCIpID09PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVsLnJlbW92ZUF0dHJpYnV0ZShcInN0eWxlXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCB0ID0geShkdCk7XG4gICAgICAgIHRoaXMueWkgPSB0aGlzLmtpID0gdC5hbGlhcyAhPT0gXCJoaWRlXCI7XG4gICAgfVxuICAgIGJpbmRpbmcoKSB7XG4gICAgICAgIHRoaXMud2kgPSB0cnVlO1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIH1cbiAgICBkZXRhY2hpbmcoKSB7XG4gICAgICAgIHRoaXMud2kgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5MPy5jYW5jZWwoKTtcbiAgICAgICAgdGhpcy5MID0gbnVsbDtcbiAgICB9XG4gICAgdmFsdWVDaGFuZ2VkKCkge1xuICAgICAgICBpZiAodGhpcy53aSAmJiB0aGlzLkwgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuTCA9IHRoaXMucC5kb21RdWV1ZS5xdWV1ZVRhc2sodGhpcy51cGRhdGUpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5TaG93LiRhdSA9IHtcbiAgICB0eXBlOiBqZSxcbiAgICBuYW1lOiBcInNob3dcIixcbiAgICBiaW5kYWJsZXM6IFsgXCJ2YWx1ZVwiIF0sXG4gICAgYWxpYXNlczogWyBcImhpZGVcIiBdXG59O1xuXG5jb25zdCBibiA9IFsgemksIGh0LCBOb2RlT2JzZXJ2ZXJMb2NhdG9yIF07XG5cbmNvbnN0IHduID0gWyB3dCwgeXQsIGt0LCBjcyBdO1xuXG5jb25zdCB5biA9IFsgQ3QsIEJ0IF07XG5cbmNvbnN0IGtuID0gWyBTdCwgQXQsIEV0LCBSdCwgVHQsIEx0LCBNdCwgRHQsIEl0LCBQdCwgcXQsIF90LCBPdCBdO1xuXG5jb25zdCBDbiA9IFsgRGVib3VuY2VCaW5kaW5nQmVoYXZpb3IsIE9uZVRpbWVCaW5kaW5nQmVoYXZpb3IsIFRvVmlld0JpbmRpbmdCZWhhdmlvciwgRnJvbVZpZXdCaW5kaW5nQmVoYXZpb3IsIFNpZ25hbEJpbmRpbmdCZWhhdmlvciwgVGhyb3R0bGVCaW5kaW5nQmVoYXZpb3IsIFR3b1dheUJpbmRpbmdCZWhhdmlvciwgU2FuaXRpemVWYWx1ZUNvbnZlcnRlciwgSWYsIEVsc2UsIFJlcGVhdCwgV2l0aCwgU3dpdGNoLCBDYXNlLCBEZWZhdWx0Q2FzZSwgUHJvbWlzZVRlbXBsYXRlQ29udHJvbGxlciwgUGVuZGluZ1RlbXBsYXRlQ29udHJvbGxlciwgRnVsZmlsbGVkVGVtcGxhdGVDb250cm9sbGVyLCBSZWplY3RlZFRlbXBsYXRlQ29udHJvbGxlciwgUHJvbWlzZUF0dHJpYnV0ZVBhdHRlcm4sIEZ1bGZpbGxlZEF0dHJpYnV0ZVBhdHRlcm4sIFJlamVjdGVkQXR0cmlidXRlUGF0dGVybiwgQXR0ckJpbmRpbmdCZWhhdmlvciwgU2VsZkJpbmRpbmdCZWhhdmlvciwgVXBkYXRlVHJpZ2dlckJpbmRpbmdCZWhhdmlvciwgQXVDb21wb3NlLCBQb3J0YWwsIEZvY3VzLCBTaG93LCBBdVNsb3QgXTtcblxuY29uc3QgQm4gPSBbIEFzLCBFcywgQnMsIFNzLCBicywgd3MsIHlzLCBrcywgQ3MsIExzLCBxcywgTXMsIERzLCBJcywgUHMsIFJzLCBfcywgT3MgXTtcblxuY29uc3QgU24gPSAvKkBfX1BVUkVfXyovIGNyZWF0ZUNvbmZpZ3VyYXRpb24oZCk7XG5cbmZ1bmN0aW9uIGNyZWF0ZUNvbmZpZ3VyYXRpb24odCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIG9wdGlvbnNQcm92aWRlcjogdCxcbiAgICAgICAgcmVnaXN0ZXIoZSkge1xuICAgICAgICAgICAgY29uc3QgcyA9IHtcbiAgICAgICAgICAgICAgICBjb2VyY2luZ09wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgZW5hYmxlQ29lcmNpb246IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBjb2VyY2VOdWxsaXNoOiBmYWxzZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0KHMpO1xuICAgICAgICAgICAgcmV0dXJuIGUucmVnaXN0ZXIoRWUoZXQsIHMuY29lcmNpbmdPcHRpb25zKSwgLi4uYm4sIC4uLkNuLCAuLi53biwgLi4ua24sIC4uLkJuKTtcbiAgICAgICAgfSxcbiAgICAgICAgY3VzdG9taXplKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVDb25maWd1cmF0aW9uKGUgPz8gdCk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5mdW5jdGlvbiBjaGlsZHJlbih0LCBlKSB7XG4gICAgaWYgKCFjaGlsZHJlbi5taXhlZCkge1xuICAgICAgICBjaGlsZHJlbi5taXhlZCA9IHRydWU7XG4gICAgICAgIFkoQ2hpbGRyZW5CaW5kaW5nLCBudWxsKTtcbiAgICAgICAgbGlmZWN5Y2xlSG9va3MoKShDaGlsZHJlbkxpZmVjeWNsZUhvb2tzLCBudWxsKTtcbiAgICB9XG4gICAgbGV0IHM7XG4gICAgY29uc3QgbiA9IHdlKFwiZGVwZW5kZW5jaWVzXCIpO1xuICAgIGZ1bmN0aW9uIGRlY29yYXRvcih0LCBlKSB7XG4gICAgICAgIHN3aXRjaCAoZS5raW5kKSB7XG4gICAgICAgICAgY2FzZSBcImZpZWxkXCI6XG4gICAgICAgICAgICBzLm5hbWUgPSBlLm5hbWU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpID0gZS5tZXRhZGF0YVtuXSA/Pz0gW107XG4gICAgICAgIGkucHVzaChuZXcgQ2hpbGRyZW5MaWZlY3ljbGVIb29rcyhzID8/IHt9KSk7XG4gICAgfVxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBzID0ge307XG4gICAgICAgIGRlY29yYXRvcih0LCBlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSBpZiAoaSh0KSkge1xuICAgICAgICBzID0ge1xuICAgICAgICAgICAgcXVlcnk6IHRcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGRlY29yYXRvcjtcbiAgICB9XG4gICAgcyA9IHQgPT09IHZvaWQgMCA/IHt9IDogdDtcbiAgICByZXR1cm4gZGVjb3JhdG9yO1xufVxuXG5jaGlsZHJlbi5taXhlZCA9IGZhbHNlO1xuXG5jbGFzcyBDaGlsZHJlbkJpbmRpbmcge1xuICAgIGNvbnN0cnVjdG9yKHQsIGUsIHMsIGksIG4sIHIpIHtcbiAgICAgICAgdGhpcy5DaSA9IHZvaWQgMDtcbiAgICAgICAgdGhpcy5pc0JvdW5kID0gZmFsc2U7XG4gICAgICAgIHRoaXMub2JqID0gZTtcbiAgICAgICAgdGhpcy5jYiA9IHM7XG4gICAgICAgIHRoaXMuWCA9IGk7XG4gICAgICAgIHRoaXMuQmkgPSBuO1xuICAgICAgICB0aGlzLlNpID0gcjtcbiAgICAgICAgdGhpcy5jcyA9IGNyZWF0ZU11dGF0aW9uT2JzZXJ2ZXIodGhpcy5vaSA9IHQsICgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLkFpKCk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgZ2V0VmFsdWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzQm91bmQgPyB0aGlzLkNpIDogdGhpcy5FaSgpO1xuICAgIH1cbiAgICBzZXRWYWx1ZSh0KSB7fVxuICAgIGJpbmQoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzQm91bmQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlzQm91bmQgPSB0cnVlO1xuICAgICAgICB0aGlzLmNzLm9ic2VydmUodGhpcy5vaSwge1xuICAgICAgICAgICAgY2hpbGRMaXN0OiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLkNpID0gdGhpcy5FaSgpO1xuICAgIH1cbiAgICB1bmJpbmQoKSB7XG4gICAgICAgIGlmICghdGhpcy5pc0JvdW5kKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pc0JvdW5kID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY3MudGFrZVJlY29yZHMoKTtcbiAgICAgICAgdGhpcy5jcy5kaXNjb25uZWN0KCk7XG4gICAgICAgIHRoaXMuQ2kgPSBDO1xuICAgIH1cbiAgICBBaSgpIHtcbiAgICAgICAgdGhpcy5DaSA9IHRoaXMuRWkoKTtcbiAgICAgICAgdGhpcy5jYj8uY2FsbCh0aGlzLm9iaik7XG4gICAgICAgIHRoaXMuc3Vicy5ub3RpZnkodGhpcy5DaSwgdW5kZWZpbmVkKTtcbiAgICB9XG4gICAgZ2V0KCkge1xuICAgICAgICB0aHJvdyBjcmVhdGVNYXBwZWRFcnJvcig5OSwgXCJnZXRcIik7XG4gICAgfVxuICAgIEVpKCkge1xuICAgICAgICBjb25zdCB0ID0gdGhpcy5YO1xuICAgICAgICBjb25zdCBlID0gdGhpcy5CaTtcbiAgICAgICAgY29uc3QgcyA9IHRoaXMuU2k7XG4gICAgICAgIGNvbnN0IGkgPSB0ID09PSBcIiRhbGxcIiA/IHRoaXMub2kuY2hpbGROb2RlcyA6IHRoaXMub2kucXVlcnlTZWxlY3RvckFsbChgOnNjb3BlID4gJHt0fWApO1xuICAgICAgICBjb25zdCBuID0gaS5sZW5ndGg7XG4gICAgICAgIGNvbnN0IHIgPSBbXTtcbiAgICAgICAgY29uc3QgbCA9IHtcbiAgICAgICAgICAgIG9wdGlvbmFsOiB0cnVlXG4gICAgICAgIH07XG4gICAgICAgIGxldCBhO1xuICAgICAgICBsZXQgaDtcbiAgICAgICAgbGV0IGMgPSAwO1xuICAgICAgICBsZXQgdTtcbiAgICAgICAgd2hpbGUgKG4gPiBjKSB7XG4gICAgICAgICAgICB1ID0gaVtjXTtcbiAgICAgICAgICAgIGEgPSBmaW5kRWxlbWVudENvbnRyb2xsZXJGb3IodSwgbCk7XG4gICAgICAgICAgICBoID0gYT8udmlld01vZGVsID8/IG51bGw7XG4gICAgICAgICAgICBpZiAoZSA9PSBudWxsID8gdHJ1ZSA6IGUodSwgaCkpIHtcbiAgICAgICAgICAgICAgICByLnB1c2gocyA9PSBudWxsID8gaCA/PyB1IDogcyh1LCBoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICArK2M7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHI7XG4gICAgfVxufVxuXG5jbGFzcyBDaGlsZHJlbkxpZmVjeWNsZUhvb2tzIHtcbiAgICBjb25zdHJ1Y3Rvcih0KSB7XG4gICAgICAgIHRoaXMuWSA9IHQ7XG4gICAgfVxuICAgIHJlZ2lzdGVyKHQpIHtcbiAgICAgICAgRWUoVWUsIHRoaXMpLnJlZ2lzdGVyKHQpO1xuICAgIH1cbiAgICBoeWRyYXRpbmcodCwgZSkge1xuICAgICAgICBjb25zdCBzID0gdGhpcy5ZO1xuICAgICAgICBjb25zdCBpID0gcy5xdWVyeSA/PyBcIipcIjtcbiAgICAgICAgY29uc3QgbiA9IG5ldyBDaGlsZHJlbkJpbmRpbmcoZS5ob3N0LCB0LCB0W3MuY2FsbGJhY2sgPz8gYCR7anQocy5uYW1lKX1DaGFuZ2VkYF0sIGksIHMuZmlsdGVyLCBzLm1hcCk7XG4gICAgICAgIGlmICgvW1xccz5dLy50ZXN0KGkpKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVNYXBwZWRFcnJvcig5OTg5LCBpKTtcbiAgICAgICAgfVxuICAgICAgICBZdCh0LCBzLm5hbWUsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICBnZXQ6IEd0KCgoKSA9PiBuLmdldFZhbHVlKCkpLCB7XG4gICAgICAgICAgICAgICAgZ2V0T2JzZXJ2ZXI6ICgpID0+IG5cbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgc2V0OiAoKSA9PiB7fVxuICAgICAgICB9KTtcbiAgICAgICAgZS5hZGRCaW5kaW5nKG4pO1xuICAgIH1cbn1cblxuZXhwb3J0IHsgQWRvcHRlZFN0eWxlU2hlZXRzU3R5bGVzLCBBcHBSb290LCBIZSBhcyBBcHBUYXNrLCBBcnJheUxpa2VIYW5kbGVyLCBBdHRyQmluZGluZ0JlaGF2aW9yLCBBdHRyTWFwcGVyLCBBdHRyaWJ1dGVCaW5kaW5nLCBxcyBhcyBBdHRyaWJ1dGVCaW5kaW5nUmVuZGVyZXIsIEF0dHJpYnV0ZU5TQWNjZXNzb3IsIEF1Q29tcG9zZSwgQXVTbG90LCBBdVNsb3RzSW5mbywgQXVyZWxpYSwga2UgYXMgQmluZGFibGUsIEJpbmRhYmxlRGVmaW5pdGlvbiwgRGUgYXMgQmluZGluZ0JlaGF2aW9yLCBCaW5kaW5nQmVoYXZpb3JEZWZpbml0aW9uLCBCaW5kaW5nQ29udGV4dCwgQmluZGluZ01vZGVCZWhhdmlvciwgQmluZGluZ1RhcmdldFN1YnNjcmliZXIsIENTU01vZHVsZXNQcm9jZXNzb3JSZWdpc3RyeSwgQ2FzZSwgQ2hlY2tlZE9ic2VydmVyLCBDaGlsZHJlbkJpbmRpbmcsIENsYXNzQXR0cmlidXRlQWNjZXNzb3IsIENvbXB1dGVkV2F0Y2hlciwgQ29udGVudEJpbmRpbmcsIENvbnRyb2xsZXIsIHplIGFzIEN1c3RvbUF0dHJpYnV0ZSwgQ3VzdG9tQXR0cmlidXRlRGVmaW5pdGlvbiwgeXMgYXMgQ3VzdG9tQXR0cmlidXRlUmVuZGVyZXIsIEhpIGFzIEN1c3RvbUVsZW1lbnQsIEN1c3RvbUVsZW1lbnREZWZpbml0aW9uLCB3cyBhcyBDdXN0b21FbGVtZW50UmVuZGVyZXIsIERhdGFBdHRyaWJ1dGVBY2Nlc3NvciwgRGVib3VuY2VCaW5kaW5nQmVoYXZpb3IsIGtuIGFzIERlZmF1bHRCaW5kaW5nTGFuZ3VhZ2UsIHduIGFzIERlZmF1bHRCaW5kaW5nU3ludGF4LCBEZWZhdWx0Q2FzZSwgYm4gYXMgRGVmYXVsdENvbXBvbmVudHMsIEJuIGFzIERlZmF1bHRSZW5kZXJlcnMsIENuIGFzIERlZmF1bHRSZXNvdXJjZXMsIEVsc2UsIEV2ZW50TW9kaWZpZXIsIGNzIGFzIEV2ZW50TW9kaWZpZXJSZWdpc3RyYXRpb24sIEV4cHJlc3Npb25XYXRjaGVyLCBGbHVzaFF1ZXVlLCBGb2N1cywgRnJhZ21lbnROb2RlU2VxdWVuY2UsIEZyb21WaWV3QmluZGluZ0JlaGF2aW9yLCBGdWxmaWxsZWRUZW1wbGF0ZUNvbnRyb2xsZXIsIE5pIGFzIElBcHBSb290LCBWZSBhcyBJQXBwVGFzaywgcHMgYXMgSUF1U2xvdFdhdGNoZXIsIGdzIGFzIElBdVNsb3RzSW5mbywgamkgYXMgSUF1cmVsaWEsIHlpIGFzIElDb250cm9sbGVyLCBocyBhcyBJRXZlbnRNb2RpZmllciwgRWkgYXMgSUV2ZW50VGFyZ2V0LCBKZSBhcyBJRmx1c2hRdWV1ZSwgSWkgYXMgSUhpc3RvcnksIGtpIGFzIElIeWRyYXRpb25Db250ZXh0LCBhcyBhcyBJS2V5TWFwcGluZywgVWUgYXMgSUxpZmVjeWNsZUhvb2tzLCBUcyBhcyBJTGlzdGVuZXJCaW5kaW5nT3B0aW9ucywgRGkgYXMgSUxvY2F0aW9uLCBscyBhcyBJTW9kaWZpZWRFdmVudEhhbmRsZXJDcmVhdG9yLCBBaSBhcyBJTm9kZSwgJGUgYXMgSVBsYXRmb3JtLCBSaSBhcyBJUmVuZGVyTG9jYXRpb24sIHhzIGFzIElSZW5kZXJlciwgenMgYXMgSVJlbmRlcmluZywgbm4gYXMgSVJlcGVhdGFibGVIYW5kbGVyLCBzbiBhcyBJUmVwZWF0YWJsZUhhbmRsZXJSZXNvbHZlciwgV2kgYXMgSVNWR0FuYWx5emVyLCB4biBhcyBJU2FuaXRpemVyLCBLcyBhcyBJU2hhZG93RE9NR2xvYmFsU3R5bGVzLCBVcyBhcyBJU2hhZG93RE9NU3R5bGVGYWN0b3J5LCBHcyBhcyBJU2hhZG93RE9NU3R5bGVzLCBfZSBhcyBJU2lnbmFsZXIsIHVzIGFzIElWaWV3RmFjdG9yeSwgTWkgYXMgSVdpbmRvdywgSWYsIEludGVycG9sYXRpb25CaW5kaW5nLCBTcyBhcyBJbnRlcnBvbGF0aW9uQmluZGluZ1JlbmRlcmVyLCBJbnRlcnBvbGF0aW9uUGFydEJpbmRpbmcsIEVzIGFzIEl0ZXJhdG9yQmluZGluZ1JlbmRlcmVyLCBMZXRCaW5kaW5nLCBDcyBhcyBMZXRFbGVtZW50UmVuZGVyZXIsIEdlIGFzIExpZmVjeWNsZUhvb2tzLCBMaWZlY3ljbGVIb29rc0RlZmluaXRpb24sIExpZmVjeWNsZUhvb2tzRW50cnksIExpc3RlbmVyQmluZGluZywgTGlzdGVuZXJCaW5kaW5nT3B0aW9ucywgTHMgYXMgTGlzdGVuZXJCaW5kaW5nUmVuZGVyZXIsIE5vZGVPYnNlcnZlckxvY2F0b3IsIE5vb3BTVkdBbmFseXplciwgT25lVGltZUJpbmRpbmdCZWhhdmlvciwgUGVuZGluZ1RlbXBsYXRlQ29udHJvbGxlciwgUG9ydGFsLCBQcm9taXNlVGVtcGxhdGVDb250cm9sbGVyLCBQcm9wZXJ0eUJpbmRpbmcsIEFzIGFzIFByb3BlcnR5QmluZGluZ1JlbmRlcmVyLCBSZWZCaW5kaW5nLCBCcyBhcyBSZWZCaW5kaW5nUmVuZGVyZXIsIFJlamVjdGVkVGVtcGxhdGVDb250cm9sbGVyLCBSZW5kZXJpbmcsIFJlcGVhdCwgemkgYXMgUnVudGltZVRlbXBsYXRlQ29tcGlsZXJJbXBsZW1lbnRhdGlvbiwgU1ZHQW5hbHl6ZXIsIFNhbml0aXplVmFsdWVDb252ZXJ0ZXIsIFNjb3BlLCBTZWxlY3RWYWx1ZU9ic2VydmVyLCBTZWxmQmluZGluZ0JlaGF2aW9yLCBNcyBhcyBTZXRBdHRyaWJ1dGVSZW5kZXJlciwgRHMgYXMgU2V0Q2xhc3NBdHRyaWJ1dGVSZW5kZXJlciwgYnMgYXMgU2V0UHJvcGVydHlSZW5kZXJlciwgSXMgYXMgU2V0U3R5bGVBdHRyaWJ1dGVSZW5kZXJlciwgU2hhZG93RE9NUmVnaXN0cnksIHluIGFzIFNob3J0SGFuZEJpbmRpbmdTeW50YXgsIFNpZ25hbEJpbmRpbmdCZWhhdmlvciwgX3MgYXMgU3ByZWFkUmVuZGVyZXIsIFNuIGFzIFN0YW5kYXJkQ29uZmlndXJhdGlvbiwgd2kgYXMgU3RhdGUsIFN0eWxlQXR0cmlidXRlQWNjZXNzb3IsIFhzIGFzIFN0eWxlQ29uZmlndXJhdGlvbiwgU3R5bGVFbGVtZW50U3R5bGVzLCBQcyBhcyBTdHlsZVByb3BlcnR5QmluZGluZ1JlbmRlcmVyLCBTd2l0Y2gsIGtzIGFzIFRlbXBsYXRlQ29udHJvbGxlclJlbmRlcmVyLCBScyBhcyBUZXh0QmluZGluZ1JlbmRlcmVyLCBUaHJvdHRsZUJpbmRpbmdCZWhhdmlvciwgVG9WaWV3QmluZGluZ0JlaGF2aW9yLCBUd29XYXlCaW5kaW5nQmVoYXZpb3IsIFVwZGF0ZVRyaWdnZXJCaW5kaW5nQmVoYXZpb3IsIFZhbHVlQXR0cmlidXRlT2JzZXJ2ZXIsIFFlIGFzIFZhbHVlQ29udmVydGVyLCBWYWx1ZUNvbnZlcnRlckRlZmluaXRpb24sIFZpZXdGYWN0b3J5LCBOZSBhcyBXYXRjaCwgV2l0aCwgYWxpYXMsIGxlIGFzIGFzdEFzc2lnbiwgaGUgYXMgYXN0QmluZCwgYWUgYXMgYXN0RXZhbHVhdGUsIGNlIGFzIGFzdFVuYmluZCwgYmluZGFibGUsIGJpbmRpbmdCZWhhdmlvciwgY2FwdHVyZSwgY2hpbGRyZW4sIGNvZXJjZXIsIGNvbnRhaW5lcmxlc3MsIGNvbnZlcnRUb1JlbmRlckxvY2F0aW9uLCBjc3NNb2R1bGVzLCBjdXN0b21BdHRyaWJ1dGUsIGN1c3RvbUVsZW1lbnQsIGdldEVmZmVjdGl2ZVBhcmVudE5vZGUsIGdldFJlZiwgaXNDdXN0b21FbGVtZW50Q29udHJvbGxlciwgaXNDdXN0b21FbGVtZW50Vmlld01vZGVsLCBpc1JlbmRlckxvY2F0aW9uLCBsaWZlY3ljbGVIb29rcywgWmUgYXMgbWl4aW5Bc3RFdmFsdWF0b3IsIFllIGFzIG1peGluVXNlU2NvcGUsIHRzIGFzIG1peGluZ0JpbmRpbmdMaW1pdGVkLCBwcm9jZXNzQ29udGVudCwgcmVnaXN0ZXJBbGlhc2VzLCByZWdpc3Rlckhvc3ROb2RlLCByZW5kZXJlciwgc2V0RWZmZWN0aXZlUGFyZW50Tm9kZSwgc2V0UmVmLCBzaGFkb3dDU1MsIHNsb3R0ZWQsIHRlbXBsYXRlQ29udHJvbGxlciwgdXNlU2hhZG93RE9NLCB2YWx1ZUNvbnZlcnRlciwgd2F0Y2ggfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime-html/dist/esm/index.mjs\n\n}");

/***/ },

/***/ "./node_modules/@aurelia/runtime/dist/esm/index.mjs"
/*!**********************************************************!*\
  !*** ./node_modules/@aurelia/runtime/dist/esm/index.mjs ***!
  \**********************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AccessorType: () => (/* binding */ I),\n/* harmony export */   CollectionLengthObserver: () => (/* binding */ CollectionLengthObserver),\n/* harmony export */   CollectionSizeObserver: () => (/* binding */ CollectionSizeObserver),\n/* harmony export */   ComputedObserver: () => (/* binding */ ComputedObserver),\n/* harmony export */   ConnectableSwitcher: () => (/* binding */ F),\n/* harmony export */   DirtyCheckProperty: () => (/* binding */ DirtyCheckProperty),\n/* harmony export */   DirtyCheckSettings: () => (/* binding */ Q),\n/* harmony export */   DirtyChecker: () => (/* binding */ DirtyChecker),\n/* harmony export */   ICoercionConfiguration: () => (/* binding */ A),\n/* harmony export */   IComputedObserverLocator: () => (/* binding */ et),\n/* harmony export */   IDirtyChecker: () => (/* binding */ J),\n/* harmony export */   INodeObserverLocator: () => (/* binding */ tt),\n/* harmony export */   IObservation: () => (/* binding */ it),\n/* harmony export */   IObserverLocator: () => (/* binding */ Z),\n/* harmony export */   Observation: () => (/* binding */ Observation),\n/* harmony export */   ObserverLocator: () => (/* binding */ ObserverLocator),\n/* harmony export */   PrimitiveObserver: () => (/* binding */ PrimitiveObserver),\n/* harmony export */   PropertyAccessor: () => (/* binding */ PropertyAccessor),\n/* harmony export */   ProxyObservable: () => (/* binding */ G),\n/* harmony export */   SetterObserver: () => (/* binding */ SetterObserver),\n/* harmony export */   batch: () => (/* binding */ batch),\n/* harmony export */   cloneIndexMap: () => (/* binding */ cloneIndexMap),\n/* harmony export */   connectable: () => (/* binding */ connectable),\n/* harmony export */   copyIndexMap: () => (/* binding */ copyIndexMap),\n/* harmony export */   createIndexMap: () => (/* binding */ createIndexMap),\n/* harmony export */   getCollectionObserver: () => (/* binding */ getCollectionObserver),\n/* harmony export */   getObserverLookup: () => (/* binding */ getObserverLookup),\n/* harmony export */   isIndexMap: () => (/* binding */ isIndexMap),\n/* harmony export */   nowrap: () => (/* binding */ nowrap),\n/* harmony export */   observable: () => (/* binding */ nt),\n/* harmony export */   subscriberCollection: () => (/* binding */ D)\n/* harmony export */ });\n/* harmony import */ var _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/kernel */ \"./node_modules/@aurelia/kernel/dist/esm/index.mjs\");\n/* harmony import */ var _aurelia_metadata__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @aurelia/metadata */ \"./node_modules/@aurelia/metadata/dist/esm/index.mjs\");\n\n\n\n\nconst d = Object.prototype.hasOwnProperty;\n\nconst b = Reflect.defineProperty;\n\nfunction rtDefineHiddenProp(t, e, r) {\n    b(t, e, {\n        enumerable: false,\n        configurable: true,\n        writable: true,\n        value: r\n    });\n    return r;\n}\n\nfunction ensureProto(t, e, r) {\n    if (!(e in t)) {\n        rtDefineHiddenProp(t, e, r);\n    }\n}\n\nconst w = Object.assign;\n\nconst v = Object.freeze;\n\nconst g = String;\n\nconst y = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.DI.createInterface;\n\nconst C = _aurelia_metadata__WEBPACK_IMPORTED_MODULE_1__.Metadata.get;\n\nconst O = _aurelia_metadata__WEBPACK_IMPORTED_MODULE_1__.Metadata.define;\n\nconst A = /*@__PURE__*/ _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.DI.createInterface(\"ICoercionConfiguration\");\n\nconst m = 0;\n\nconst S = 1;\n\nconst R = 2;\n\nconst P = 4;\n\nconst I = /*@__PURE__*/ v({\n    None: m,\n    Observer: S,\n    Node: R,\n    Layout: P\n});\n\nfunction copyIndexMap(t, e, r) {\n    const {length: s} = t;\n    const i = Array(s);\n    let n = 0;\n    while (n < s) {\n        i[n] = t[n];\n        ++n;\n    }\n    if (e !== void 0) {\n        i.deletedIndices = e.slice(0);\n    } else if (t.deletedIndices !== void 0) {\n        i.deletedIndices = t.deletedIndices.slice(0);\n    } else {\n        i.deletedIndices = [];\n    }\n    if (r !== void 0) {\n        i.deletedItems = r.slice(0);\n    } else if (t.deletedItems !== void 0) {\n        i.deletedItems = t.deletedItems.slice(0);\n    } else {\n        i.deletedItems = [];\n    }\n    i.isIndexMap = true;\n    return i;\n}\n\nfunction createIndexMap(t = 0) {\n    const e = Array(t);\n    let r = 0;\n    while (r < t) {\n        e[r] = r++;\n    }\n    e.deletedIndices = [];\n    e.deletedItems = [];\n    e.isIndexMap = true;\n    return e;\n}\n\nfunction cloneIndexMap(t) {\n    const e = t.slice();\n    e.deletedIndices = t.deletedIndices.slice();\n    e.deletedItems = t.deletedItems.slice();\n    e.isIndexMap = true;\n    return e;\n}\n\nfunction isIndexMap(t) {\n    return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.isArray)(t) && t.isIndexMap === true;\n}\n\nlet _ = new Map;\n\nlet x = false;\n\nfunction batch(t) {\n    const e = _;\n    const r = _ = new Map;\n    x = true;\n    try {\n        t();\n    } finally {\n        _ = null;\n        x = false;\n        try {\n            let t;\n            let s;\n            let i;\n            let n;\n            let o;\n            let c = false;\n            let u;\n            let a;\n            for (t of r) {\n                s = t[0];\n                i = t[1];\n                if (e?.has(s)) {\n                    e.set(s, i);\n                }\n                if (i[0] === 1) {\n                    s.notify(i[1], i[2]);\n                } else {\n                    n = i[1];\n                    o = i[2];\n                    c = false;\n                    if (o.deletedIndices.length > 0) {\n                        c = true;\n                    } else {\n                        for (u = 0, a = o.length; u < a; ++u) {\n                            if (o[u] !== u) {\n                                c = true;\n                                break;\n                            }\n                        }\n                    }\n                    if (c) {\n                        s.notifyCollection(n, o);\n                    }\n                }\n            }\n        } finally {\n            _ = e;\n        }\n    }\n}\n\nfunction addCollectionBatch(t, e, r) {\n    if (!_.has(t)) {\n        _.set(t, [ 2, e, r ]);\n    } else {\n        _.get(t)[2] = r;\n    }\n}\n\nfunction addValueBatch(t, e, r) {\n    const s = _.get(t);\n    if (s === void 0) {\n        _.set(t, [ 1, e, r ]);\n    } else {\n        s[1] = e;\n        s[2] = r;\n    }\n}\n\nconst D = /*@__PURE__*/ (() => {\n    function subscriberCollection(t, e) {\n        return t == null ? subscriberCollectionDeco : subscriberCollectionDeco(t);\n    }\n    function getSubscriberRecord() {\n        return rtDefineHiddenProp(this, \"subs\", new SubscriberRecord);\n    }\n    function addSubscriber(t) {\n        return this.subs.add(t);\n    }\n    function removeSubscriber(t) {\n        return this.subs.remove(t);\n    }\n    const t = new WeakSet;\n    function subscriberCollectionDeco(e, r) {\n        if (!t.has(e)) {\n            t.add(e);\n            const r = e.prototype;\n            b(r, \"subs\", {\n                get: getSubscriberRecord\n            });\n            ensureProto(r, \"subscribe\", addSubscriber);\n            ensureProto(r, \"unsubscribe\", removeSubscriber);\n        }\n        return e;\n    }\n    class SubscriberRecord {\n        constructor() {\n            this.count = 0;\n            this.t = [];\n            this.i = [];\n            this.u = false;\n        }\n        add(t) {\n            if (this.t.includes(t)) {\n                return false;\n            }\n            this.t[this.t.length] = t;\n            if (\"handleDirty\" in t) {\n                this.i[this.i.length] = t;\n                this.u = true;\n            }\n            ++this.count;\n            return true;\n        }\n        remove(t) {\n            let e = this.t.indexOf(t);\n            if (e !== -1) {\n                this.t.splice(e, 1);\n                e = this.i.indexOf(t);\n                if (e !== -1) {\n                    this.i.splice(e, 1);\n                    this.u = this.i.length > 0;\n                }\n                --this.count;\n                return true;\n            }\n            return false;\n        }\n        notify(t, e) {\n            if (x) {\n                addValueBatch(this, t, e);\n                return;\n            }\n            for (const r of this.t.slice(0)) {\n                r.handleChange(t, e);\n            }\n        }\n        notifyCollection(t, e) {\n            const r = this.t.slice(0);\n            const s = r.length;\n            let i = 0;\n            for (;i < s; ++i) {\n                r[i].handleCollectionChange(t, e);\n            }\n            return;\n        }\n        notifyDirty() {\n            if (this.u) {\n                for (const t of this.i.slice(0)) {\n                    t.handleDirty();\n                }\n            }\n        }\n    }\n    return subscriberCollection;\n})();\n\nconst createMappedError = (t, ...e) => new Error(`AUR${g(t).padStart(4, \"0\")}:${e.map(g)}`);\n\nclass CollectionLengthObserver {\n    constructor(t) {\n        this.owner = t;\n        this.type = S;\n        this.v = (this.o = t.collection).length;\n    }\n    getValue() {\n        return this.o.length;\n    }\n    setValue(t) {\n        if (t !== this.v) {\n            if (!Number.isNaN(t)) {\n                this.o.splice(t);\n                this.v = this.o.length;\n            }\n        }\n    }\n    handleDirty() {\n        if (this.v !== this.o.length) {\n            this.subs.notifyDirty();\n        }\n    }\n    handleCollectionChange(t, e) {\n        const r = this.v;\n        const s = this.o.length;\n        if ((this.v = s) !== r) {\n            this.subs.notifyDirty();\n            this.subs.notify(this.v, r);\n        }\n    }\n}\n\n(() => {\n    implementLengthObserver(CollectionLengthObserver);\n})();\n\nclass CollectionSizeObserver {\n    constructor(t) {\n        this.owner = t;\n        this.type = S;\n        this.v = (this.o = t.collection).size;\n    }\n    getValue() {\n        return this.o.size;\n    }\n    setValue() {\n        throw createMappedError(220);\n    }\n    handleDirty() {\n        if (this.v !== this.o.size) {\n            this.subs.notifyDirty();\n        }\n    }\n    handleCollectionChange(t, e) {\n        const r = this.v;\n        const s = this.o.size;\n        if ((this.v = s) !== r) {\n            this.subs.notify(this.v, r);\n        }\n    }\n}\n\n(() => {\n    implementLengthObserver(CollectionSizeObserver);\n})();\n\nfunction implementLengthObserver(t) {\n    const e = t.prototype;\n    ensureProto(e, \"subscribe\", subscribe);\n    ensureProto(e, \"unsubscribe\", unsubscribe);\n    return D(t, null);\n}\n\nfunction subscribe(t) {\n    if (this.subs.add(t) && this.subs.count === 1) {\n        this.owner.subscribe(this);\n    }\n}\n\nfunction unsubscribe(t) {\n    if (this.subs.remove(t) && this.subs.count === 0) {\n        this.owner.subscribe(this);\n    }\n}\n\nconst k = /*@__PURE__*/ (() => {\n    const t = Symbol.for(\"__au_arr_obs__\");\n    const e = Array[t] ?? rtDefineHiddenProp(Array, t, new WeakMap);\n    function sortCompare(t, e) {\n        if (t === e) {\n            return 0;\n        }\n        t = t === null ? \"null\" : t.toString();\n        e = e === null ? \"null\" : e.toString();\n        return t < e ? -1 : 1;\n    }\n    function preSortCompare(t, e) {\n        if (t === void 0) {\n            if (e === void 0) {\n                return 0;\n            } else {\n                return 1;\n            }\n        }\n        if (e === void 0) {\n            return -1;\n        }\n        return 0;\n    }\n    function insertionSort(t, e, r, s, i) {\n        let n, o, c, u, a;\n        let h, l;\n        for (h = r + 1; h < s; h++) {\n            n = t[h];\n            o = e[h];\n            for (l = h - 1; l >= r; l--) {\n                c = t[l];\n                u = e[l];\n                a = i(c, n);\n                if (a > 0) {\n                    t[l + 1] = c;\n                    e[l + 1] = u;\n                } else {\n                    break;\n                }\n            }\n            t[l + 1] = n;\n            e[l + 1] = o;\n        }\n    }\n    function quickSort(t, e, r, s, i) {\n        let n = 0, o = 0;\n        let c, u, a;\n        let h, l, f;\n        let p, d, b;\n        let w, v;\n        let g, y, C, O;\n        let A, m, S, R;\n        while (true) {\n            if (s - r <= 10) {\n                insertionSort(t, e, r, s, i);\n                return;\n            }\n            n = r + (s - r >> 1);\n            c = t[r];\n            h = e[r];\n            u = t[s - 1];\n            l = e[s - 1];\n            a = t[n];\n            f = e[n];\n            p = i(c, u);\n            if (p > 0) {\n                w = c;\n                v = h;\n                c = u;\n                h = l;\n                u = w;\n                l = v;\n            }\n            d = i(c, a);\n            if (d >= 0) {\n                w = c;\n                v = h;\n                c = a;\n                h = f;\n                a = u;\n                f = l;\n                u = w;\n                l = v;\n            } else {\n                b = i(u, a);\n                if (b > 0) {\n                    w = u;\n                    v = l;\n                    u = a;\n                    l = f;\n                    a = w;\n                    f = v;\n                }\n            }\n            t[r] = c;\n            e[r] = h;\n            t[s - 1] = a;\n            e[s - 1] = f;\n            g = u;\n            y = l;\n            C = r + 1;\n            O = s - 1;\n            t[n] = t[C];\n            e[n] = e[C];\n            t[C] = g;\n            e[C] = y;\n            t: for (o = C + 1; o < O; o++) {\n                A = t[o];\n                m = e[o];\n                S = i(A, g);\n                if (S < 0) {\n                    t[o] = t[C];\n                    e[o] = e[C];\n                    t[C] = A;\n                    e[C] = m;\n                    C++;\n                } else if (S > 0) {\n                    do {\n                        O--;\n                        if (O == o) {\n                            break t;\n                        }\n                        R = t[O];\n                        S = i(R, g);\n                    } while (S > 0);\n                    t[o] = t[O];\n                    e[o] = e[O];\n                    t[O] = A;\n                    e[O] = m;\n                    if (S < 0) {\n                        A = t[o];\n                        m = e[o];\n                        t[o] = t[C];\n                        e[o] = e[C];\n                        t[C] = A;\n                        e[C] = m;\n                        C++;\n                    }\n                }\n            }\n            if (s - O < C - r) {\n                quickSort(t, e, O, s, i);\n                s = C;\n            } else {\n                quickSort(t, e, r, C, i);\n                r = O;\n            }\n        }\n    }\n    const s = Array.prototype;\n    const i = [ \"push\", \"unshift\", \"pop\", \"shift\", \"splice\", \"reverse\", \"sort\" ];\n    let n;\n    function overrideArrayPrototypes() {\n        const t = s.push;\n        const o = s.unshift;\n        const c = s.pop;\n        const u = s.shift;\n        const a = s.splice;\n        const h = s.reverse;\n        const l = s.sort;\n        n = {\n            push: function(...r) {\n                const s = e.get(this);\n                if (s === void 0) {\n                    return t.apply(this, r);\n                }\n                const i = this.length;\n                const n = r.length;\n                if (n === 0) {\n                    return i;\n                }\n                this.length = s.indexMap.length = i + n;\n                let o = i;\n                while (o < this.length) {\n                    this[o] = r[o - i];\n                    s.indexMap[o] = -2;\n                    o++;\n                }\n                s.notify();\n                return this.length;\n            },\n            unshift: function(...t) {\n                const r = e.get(this);\n                if (r === void 0) {\n                    return o.apply(this, t);\n                }\n                const s = t.length;\n                const i = new Array(s);\n                let n = 0;\n                while (n < s) {\n                    i[n++] = -2;\n                }\n                o.apply(r.indexMap, i);\n                const c = o.apply(this, t);\n                r.notify();\n                return c;\n            },\n            pop: function() {\n                const t = e.get(this);\n                if (t === void 0) {\n                    return c.call(this);\n                }\n                const r = t.indexMap;\n                const s = c.call(this);\n                const i = r.length - 1;\n                if (r[i] > -1) {\n                    r.deletedIndices.push(r[i]);\n                    r.deletedItems.push(s);\n                }\n                c.call(r);\n                t.notify();\n                return s;\n            },\n            shift: function() {\n                const t = e.get(this);\n                if (t === void 0) {\n                    return u.call(this);\n                }\n                const r = t.indexMap;\n                const s = u.call(this);\n                if (r[0] > -1) {\n                    r.deletedIndices.push(r[0]);\n                    r.deletedItems.push(s);\n                }\n                u.call(r);\n                t.notify();\n                return s;\n            },\n            splice: function(...t) {\n                const r = t[0];\n                const s = t[1];\n                const i = e.get(this);\n                if (i === void 0) {\n                    return a.apply(this, t);\n                }\n                const n = this.length;\n                const o = r | 0;\n                const c = o < 0 ? Math.max(n + o, 0) : Math.min(o, n);\n                const u = i.indexMap;\n                const h = t.length;\n                const l = h === 0 ? 0 : h === 1 ? n - c : s;\n                let f = c;\n                if (l > 0) {\n                    const t = f + l;\n                    while (f < t) {\n                        if (u[f] > -1) {\n                            u.deletedIndices.push(u[f]);\n                            u.deletedItems.push(this[f]);\n                        }\n                        f++;\n                    }\n                }\n                f = 0;\n                if (h > 2) {\n                    const t = h - 2;\n                    const e = new Array(t);\n                    while (f < t) {\n                        e[f++] = -2;\n                    }\n                    a.call(u, r, s, ...e);\n                } else {\n                    a.apply(u, t);\n                }\n                const p = a.apply(this, t);\n                if (l > 0 || f > 0) {\n                    i.notify();\n                }\n                return p;\n            },\n            reverse: function() {\n                const t = e.get(this);\n                if (t === void 0) {\n                    h.call(this);\n                    return this;\n                }\n                const r = this.length;\n                const s = r / 2 | 0;\n                let i = 0;\n                while (i !== s) {\n                    const e = r - i - 1;\n                    const s = this[i];\n                    const n = t.indexMap[i];\n                    const o = this[e];\n                    const c = t.indexMap[e];\n                    this[i] = o;\n                    t.indexMap[i] = c;\n                    this[e] = s;\n                    t.indexMap[e] = n;\n                    i++;\n                }\n                t.notify();\n                return this;\n            },\n            sort: function(t) {\n                const s = e.get(this);\n                if (s === void 0) {\n                    l.call(this, t);\n                    return this;\n                }\n                let i = this.length;\n                if (i < 2) {\n                    return this;\n                }\n                quickSort(this, s.indexMap, 0, i, preSortCompare);\n                let n = 0;\n                while (n < i) {\n                    if (this[n] === void 0) {\n                        break;\n                    }\n                    n++;\n                }\n                if (t === void 0 || !(0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.isFunction)(t)) {\n                    t = sortCompare;\n                }\n                quickSort(this, s.indexMap, 0, n, t);\n                let o = false;\n                for (n = 0, i = s.indexMap.length; i > n; ++n) {\n                    if (s.indexMap[n] !== n) {\n                        o = true;\n                        break;\n                    }\n                }\n                if (o || x) {\n                    s.notify();\n                }\n                return this;\n            }\n        };\n        for (const t of i) {\n            b(n[t], \"observing\", {\n                value: true,\n                writable: false,\n                configurable: false,\n                enumerable: false\n            });\n        }\n    }\n    let o = false;\n    const c = \"__au_arr_on__\";\n    function enableArrayObservation() {\n        if (n === undefined) {\n            overrideArrayPrototypes();\n        }\n        if (!(C(c, Array) ?? false)) {\n            O(true, Array, c);\n            for (const t of i) {\n                if (s[t].observing !== true) {\n                    rtDefineHiddenProp(s, t, n[t]);\n                }\n            }\n        }\n    }\n    class ArrayObserverImpl {\n        constructor(t) {\n            this.type = S;\n            if (!o) {\n                o = true;\n                enableArrayObservation();\n            }\n            this.indexObservers = {};\n            this.collection = t;\n            this.indexMap = createIndexMap(t.length);\n            this.lenObs = void 0;\n            e.set(t, this);\n        }\n        notify() {\n            const t = this.subs;\n            t.notifyDirty();\n            const e = this.indexMap;\n            if (x) {\n                addCollectionBatch(t, this.collection, e);\n                return;\n            }\n            const r = this.collection;\n            const s = r.length;\n            this.indexMap = createIndexMap(s);\n            t.notifyCollection(r, e);\n        }\n        getLengthObserver() {\n            return this.lenObs ??= new CollectionLengthObserver(this);\n        }\n        getIndexObserver(t) {\n            return this.indexObservers[t] ??= new ArrayIndexObserverImpl(this, t);\n        }\n    }\n    (() => {\n        D(ArrayObserverImpl, null);\n    })();\n    class ArrayIndexObserverImpl {\n        constructor(t, e) {\n            this.owner = t;\n            this.index = e;\n            this.doNotCache = true;\n            this.value = this.getValue();\n        }\n        getValue() {\n            return this.owner.collection[this.index];\n        }\n        setValue(t) {\n            if (t === this.getValue()) {\n                return;\n            }\n            const e = this.owner;\n            const r = this.index;\n            const s = e.indexMap;\n            if (s[r] > -1) {\n                s.deletedIndices.push(s[r]);\n            }\n            s[r] = -2;\n            e.collection[r] = t;\n            e.notify();\n        }\n        handleDirty() {\n            if (this.value !== this.getValue()) {\n                this.subs.notifyDirty();\n            }\n        }\n        handleCollectionChange(t, e) {\n            const r = this.index;\n            const s = e[r] === r;\n            if (s) {\n                return;\n            }\n            const i = this.value;\n            const n = this.value = this.getValue();\n            if (i !== n) {\n                this.subs.notify(n, i);\n            }\n        }\n        subscribe(t) {\n            if (this.subs.add(t) && this.subs.count === 1) {\n                this.owner.subscribe(this);\n            }\n        }\n        unsubscribe(t) {\n            if (this.subs.remove(t) && this.subs.count === 0) {\n                this.owner.unsubscribe(this);\n            }\n        }\n    }\n    (() => {\n        D(ArrayIndexObserverImpl, null);\n    })();\n    return function getArrayObserver(t) {\n        let r = e.get(t);\n        if (r === void 0) {\n            e.set(t, r = new ArrayObserverImpl(t));\n            enableArrayObservation();\n        }\n        return r;\n    };\n})();\n\nconst M = /*@__PURE__*/ (() => {\n    const t = Symbol.for(\"__au_set_obs__\");\n    const e = Set[t] ?? rtDefineHiddenProp(Set, t, new WeakMap);\n    const {add: r, clear: s, delete: i} = Set.prototype;\n    const n = [ \"add\", \"clear\", \"delete\" ];\n    const o = {\n        add: function(t) {\n            const s = e.get(this);\n            if (s === undefined) {\n                r.call(this, t);\n                return this;\n            }\n            const i = this.size;\n            r.call(this, t);\n            const n = this.size;\n            if (n === i) {\n                return this;\n            }\n            s.indexMap[i] = -2;\n            s.notify();\n            return this;\n        },\n        clear: function() {\n            const t = e.get(this);\n            if (t === undefined) {\n                return s.call(this);\n            }\n            const r = this.size;\n            if (r > 0) {\n                const e = t.indexMap;\n                let r = 0;\n                for (const t of this.keys()) {\n                    if (e[r] > -1) {\n                        e.deletedIndices.push(e[r]);\n                        e.deletedItems.push(t);\n                    }\n                    r++;\n                }\n                s.call(this);\n                e.length = 0;\n                t.notify();\n            }\n            return undefined;\n        },\n        delete: function(t) {\n            const r = e.get(this);\n            if (r === undefined) {\n                return i.call(this, t);\n            }\n            const s = this.size;\n            if (s === 0) {\n                return false;\n            }\n            let n = 0;\n            const o = r.indexMap;\n            for (const e of this.keys()) {\n                if (e === t) {\n                    if (o[n] > -1) {\n                        o.deletedIndices.push(o[n]);\n                        o.deletedItems.push(e);\n                    }\n                    o.splice(n, 1);\n                    const s = i.call(this, t);\n                    if (s === true) {\n                        r.notify();\n                    }\n                    return s;\n                }\n                n++;\n            }\n            return false;\n        }\n    };\n    function enableSetObservation(t) {\n        for (const e of n) {\n            rtDefineHiddenProp(t, e, o[e]);\n        }\n    }\n    class SetObserverImpl {\n        constructor(t) {\n            this.type = S;\n            this.collection = t;\n            this.indexMap = createIndexMap(t.size);\n            this.lenObs = void 0;\n        }\n        notify() {\n            const t = this.subs;\n            t.notifyDirty();\n            const e = this.indexMap;\n            if (x) {\n                addCollectionBatch(t, this.collection, e);\n                return;\n            }\n            const r = this.collection;\n            const s = r.size;\n            this.indexMap = createIndexMap(s);\n            t.notifyCollection(r, e);\n        }\n        getLengthObserver() {\n            return this.lenObs ??= new CollectionSizeObserver(this);\n        }\n    }\n    D(SetObserverImpl, null);\n    return function getSetObserver(t) {\n        let r = e.get(t);\n        if (r === void 0) {\n            e.set(t, r = new SetObserverImpl(t));\n            enableSetObservation(t);\n        }\n        return r;\n    };\n})();\n\nconst L = /*@__PURE__*/ (() => {\n    const t = Symbol.for(\"__au_map_obs__\");\n    const e = Map[t] ?? rtDefineHiddenProp(Map, t, new WeakMap);\n    const {set: r, clear: s, delete: i} = Map.prototype;\n    const n = [ \"set\", \"clear\", \"delete\" ];\n    const o = {\n        set: function(t, s) {\n            const i = e.get(this);\n            if (i === undefined) {\n                r.call(this, t, s);\n                return this;\n            }\n            const n = this.get(t);\n            const o = this.size;\n            r.call(this, t, s);\n            const c = this.size;\n            if (c === o) {\n                let e = 0;\n                for (const r of this.entries()) {\n                    if (r[0] === t) {\n                        if (r[1] !== n) {\n                            i.indexMap.deletedIndices.push(i.indexMap[e]);\n                            i.indexMap.deletedItems.push(r);\n                            i.indexMap[e] = -2;\n                            i.notify();\n                        }\n                        return this;\n                    }\n                    e++;\n                }\n                return this;\n            }\n            i.indexMap[o] = -2;\n            i.notify();\n            return this;\n        },\n        clear: function() {\n            const t = e.get(this);\n            if (t === undefined) {\n                return s.call(this);\n            }\n            const r = this.size;\n            if (r > 0) {\n                const e = t.indexMap;\n                let r = 0;\n                for (const t of this.keys()) {\n                    if (e[r] > -1) {\n                        e.deletedIndices.push(e[r]);\n                        e.deletedItems.push(t);\n                    }\n                    r++;\n                }\n                s.call(this);\n                e.length = 0;\n                t.notify();\n            }\n            return undefined;\n        },\n        delete: function(t) {\n            const r = e.get(this);\n            if (r === undefined) {\n                return i.call(this, t);\n            }\n            const s = this.size;\n            if (s === 0) {\n                return false;\n            }\n            let n = 0;\n            const o = r.indexMap;\n            for (const e of this.keys()) {\n                if (e === t) {\n                    if (o[n] > -1) {\n                        o.deletedIndices.push(o[n]);\n                        o.deletedItems.push(e);\n                    }\n                    o.splice(n, 1);\n                    const s = i.call(this, t);\n                    if (s === true) {\n                        r.notify();\n                    }\n                    return s;\n                }\n                ++n;\n            }\n            return false;\n        }\n    };\n    function enableMapObservation(t) {\n        for (const e of n) {\n            rtDefineHiddenProp(t, e, o[e]);\n        }\n    }\n    class MapObserverImpl {\n        constructor(t) {\n            this.type = S;\n            this.collection = t;\n            this.indexMap = createIndexMap(t.size);\n            this.lenObs = void 0;\n        }\n        notify() {\n            const t = this.subs;\n            t.notifyDirty();\n            const e = this.indexMap;\n            if (x) {\n                addCollectionBatch(t, this.collection, e);\n                return;\n            }\n            const r = this.collection;\n            const s = r.size;\n            this.indexMap = createIndexMap(s);\n            t.notifyCollection(r, e);\n        }\n        getLengthObserver() {\n            return this.lenObs ??= new CollectionSizeObserver(this);\n        }\n    }\n    D(MapObserverImpl, null);\n    return function getMapObserver(t) {\n        let r = e.get(t);\n        if (r === void 0) {\n            e.set(t, r = new MapObserverImpl(t));\n            enableMapObservation(t);\n        }\n        return r;\n    };\n})();\n\nconst V = /*@__PURE__*/ (() => {\n    class BindingObserverRecord {\n        constructor(t) {\n            this.version = 0;\n            this.count = 0;\n            this.o = new Map;\n            this.b = t;\n        }\n        add(t) {\n            if (!this.o.has(t)) {\n                t.subscribe(this.b);\n                ++this.count;\n            }\n            this.o.set(t, this.version);\n        }\n        clear() {\n            this.o.forEach(unsubscribeStale, this);\n            this.count = this.o.size;\n        }\n        clearAll() {\n            this.o.forEach(unsubscribeAll, this);\n            this.o.clear();\n            this.count = 0;\n        }\n    }\n    function unsubscribeAll(t, e) {\n        e.unsubscribe(this.b);\n    }\n    function unsubscribeStale(t, e) {\n        if (this.version !== t) {\n            e.unsubscribe(this.b);\n            this.o.delete(e);\n        }\n    }\n    function getObserverRecord() {\n        return rtDefineHiddenProp(this, \"obs\", new BindingObserverRecord(this));\n    }\n    function observe(t, e) {\n        this.obs.add(this.oL.getObserver(t, e));\n    }\n    function observeCollection(t) {\n        let r;\n        if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.isArray)(t)) {\n            r = k(t);\n        } else if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.isSet)(t)) {\n            r = M(t);\n        } else if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.isMap)(t)) {\n            r = L(t);\n        } else {\n            throw createMappedError(210, t);\n        }\n        this.obs.add(r);\n    }\n    function subscribeTo(t) {\n        this.obs.add(t);\n    }\n    function noopHandleChange() {\n        throw createMappedError(99, \"handleChange\");\n    }\n    function noopHandleCollectionChange() {\n        throw createMappedError(99, \"handleCollectionChange\");\n    }\n    return function connectableDecorator(t, e) {\n        const r = t.prototype;\n        ensureProto(r, \"observe\", observe);\n        ensureProto(r, \"observeCollection\", observeCollection);\n        ensureProto(r, \"subscribeTo\", subscribeTo);\n        b(r, \"obs\", {\n            get: getObserverRecord\n        });\n        ensureProto(r, \"handleChange\", noopHandleChange);\n        ensureProto(r, \"handleCollectionChange\", noopHandleCollectionChange);\n        return t;\n    };\n})();\n\nfunction connectable(t, e) {\n    return t == null ? V : V(t, e);\n}\n\nlet N = null;\n\nconst H = [];\n\nlet E = false;\n\nfunction pauseConnecting() {\n    E = false;\n}\n\nfunction resumeConnecting() {\n    E = true;\n}\n\nfunction currentConnectable() {\n    return N;\n}\n\nfunction enterConnectable(t) {\n    if (t == null) {\n        throw createMappedError(206);\n    }\n    if (N == null) {\n        N = t;\n        H[0] = N;\n        E = true;\n        return;\n    }\n    if (N === t) {\n        throw createMappedError(207);\n    }\n    H.push(t);\n    N = t;\n    E = true;\n}\n\nfunction exitConnectable(t) {\n    if (t == null) {\n        throw createMappedError(208);\n    }\n    if (N !== t) {\n        throw createMappedError(209);\n    }\n    H.pop();\n    N = H.length > 0 ? H[H.length - 1] : null;\n    E = N != null;\n}\n\nconst F = /*@__PURE__*/ v({\n    get current() {\n        return N;\n    },\n    get connecting() {\n        return E;\n    },\n    enter: enterConnectable,\n    exit: exitConnectable,\n    pause: pauseConnecting,\n    resume: resumeConnecting\n});\n\nconst j = Reflect.get;\n\nconst z = Object.prototype.toString;\n\nconst $ = new WeakMap;\n\nconst B = \"__au_nw__\";\n\nconst W = \"__au_nw\";\n\nfunction canWrap(t) {\n    switch (z.call(t)) {\n      case \"[object Object]\":\n        return t.constructor[B] !== true;\n\n      case \"[object Array]\":\n      case \"[object Map]\":\n      case \"[object Set]\":\n        return true;\n\n      default:\n        return false;\n    }\n}\n\nconst q = \"__raw__\";\n\nfunction wrap(t) {\n    return canWrap(t) ? getProxy(t) : t;\n}\n\nfunction getProxy(t) {\n    return $.get(t) ?? createProxy(t);\n}\n\nfunction getRaw(t) {\n    return t[q] ?? t;\n}\n\nfunction unwrap(t) {\n    return canWrap(t) && t[q] || t;\n}\n\nfunction doNotCollect(t, e) {\n    return e === \"constructor\" || e === \"__proto__\" || e === \"$observers\" || e === Symbol.toPrimitive || e === Symbol.toStringTag || t.constructor[`${W}_${g(e)}__`] === true;\n}\n\nfunction createProxy(t) {\n    const r = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.isArray)(t) ? T : (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.isMap)(t) || (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.isSet)(t) ? U : K;\n    const n = new Proxy(t, r);\n    $.set(t, n);\n    $.set(n, n);\n    return n;\n}\n\nconst K = {\n    get(t, e, r) {\n        if (e === q) {\n            return t;\n        }\n        const s = currentConnectable();\n        if (!E || doNotCollect(t, e) || s == null) {\n            return j(t, e, r);\n        }\n        s.observe(t, e);\n        return wrap(j(t, e, r));\n    }\n};\n\nconst T = {\n    get(t, e, r) {\n        if (e === q) {\n            return t;\n        }\n        if (!E || doNotCollect(t, e) || N == null) {\n            return j(t, e, r);\n        }\n        switch (e) {\n          case \"length\":\n            N.observe(t, \"length\");\n            return t.length;\n\n          case \"map\":\n            return wrappedArrayMap;\n\n          case \"includes\":\n            return wrappedArrayIncludes;\n\n          case \"indexOf\":\n            return wrappedArrayIndexOf;\n\n          case \"lastIndexOf\":\n            return wrappedArrayLastIndexOf;\n\n          case \"every\":\n            return wrappedArrayEvery;\n\n          case \"filter\":\n            return wrappedArrayFilter;\n\n          case \"find\":\n            return wrappedArrayFind;\n\n          case \"findIndex\":\n            return wrappedArrayFindIndex;\n\n          case \"flat\":\n            return wrappedArrayFlat;\n\n          case \"flatMap\":\n            return wrappedArrayFlatMap;\n\n          case \"join\":\n            return wrappedArrayJoin;\n\n          case \"push\":\n            return wrappedArrayPush;\n\n          case \"pop\":\n            return wrappedArrayPop;\n\n          case \"reduce\":\n            return wrappedReduce;\n\n          case \"reduceRight\":\n            return wrappedReduceRight;\n\n          case \"reverse\":\n            return wrappedArrayReverse;\n\n          case \"shift\":\n            return wrappedArrayShift;\n\n          case \"unshift\":\n            return wrappedArrayUnshift;\n\n          case \"slice\":\n            return wrappedArraySlice;\n\n          case \"splice\":\n            return wrappedArraySplice;\n\n          case \"some\":\n            return wrappedArraySome;\n\n          case \"sort\":\n            return wrappedArraySort;\n\n          case \"keys\":\n            return wrappedKeys;\n\n          case \"values\":\n          case Symbol.iterator:\n            return wrappedValues;\n\n          case \"entries\":\n            return wrappedEntries;\n        }\n        N.observe(t, e);\n        return wrap(j(t, e, r));\n    },\n    ownKeys(t) {\n        currentConnectable()?.observe(t, \"length\");\n        return Reflect.ownKeys(t);\n    }\n};\n\nfunction wrappedArrayMap(t, e) {\n    const r = getRaw(this);\n    const s = r.map(((r, s) => unwrap(t.call(e, wrap(r), s, this))));\n    observeCollection(N, r);\n    return wrap(s);\n}\n\nfunction wrappedArrayEvery(t, e) {\n    const r = getRaw(this);\n    const s = r.every(((r, s) => t.call(e, wrap(r), s, this)));\n    observeCollection(N, r);\n    return s;\n}\n\nfunction wrappedArrayFilter(t, e) {\n    const r = getRaw(this);\n    const s = r.filter(((r, s) => unwrap(t.call(e, wrap(r), s, this))));\n    observeCollection(N, r);\n    return wrap(s);\n}\n\nfunction wrappedArrayIncludes(t) {\n    const e = getRaw(this);\n    const r = e.includes(unwrap(t));\n    observeCollection(N, e);\n    return r;\n}\n\nfunction wrappedArrayIndexOf(t) {\n    const e = getRaw(this);\n    const r = e.indexOf(unwrap(t));\n    observeCollection(N, e);\n    return r;\n}\n\nfunction wrappedArrayLastIndexOf(t) {\n    const e = getRaw(this);\n    const r = e.lastIndexOf(unwrap(t));\n    observeCollection(N, e);\n    return r;\n}\n\nfunction wrappedArrayFindIndex(t, e) {\n    const r = getRaw(this);\n    const s = r.findIndex(((r, s) => unwrap(t.call(e, wrap(r), s, this))));\n    observeCollection(N, r);\n    return s;\n}\n\nfunction wrappedArrayFind(t, e) {\n    const r = getRaw(this);\n    const s = r.find(((e, r) => t(wrap(e), r, this)), e);\n    observeCollection(N, r);\n    return wrap(s);\n}\n\nfunction wrappedArrayFlat() {\n    const t = getRaw(this);\n    observeCollection(N, t);\n    return wrap(t.flat());\n}\n\nfunction wrappedArrayFlatMap(t, e) {\n    const r = getRaw(this);\n    observeCollection(N, r);\n    return getProxy(r.flatMap(((r, s) => wrap(t.call(e, wrap(r), s, this)))));\n}\n\nfunction wrappedArrayJoin(t) {\n    const e = getRaw(this);\n    observeCollection(N, e);\n    return e.join(t);\n}\n\nfunction wrappedArrayPop() {\n    return wrap(getRaw(this).pop());\n}\n\nfunction wrappedArrayPush(...t) {\n    return getRaw(this).push(...t);\n}\n\nfunction wrappedArrayShift() {\n    return wrap(getRaw(this).shift());\n}\n\nfunction wrappedArrayUnshift(...t) {\n    return getRaw(this).unshift(...t);\n}\n\nfunction wrappedArraySplice(...t) {\n    return wrap(getRaw(this).splice(...t));\n}\n\nfunction wrappedArrayReverse(...t) {\n    const e = getRaw(this);\n    const r = e.reverse();\n    observeCollection(N, e);\n    return wrap(r);\n}\n\nfunction wrappedArraySome(t, e) {\n    const r = getRaw(this);\n    const s = r.some(((r, s) => unwrap(t.call(e, wrap(r), s, this))));\n    observeCollection(N, r);\n    return s;\n}\n\nfunction wrappedArraySort(t) {\n    const e = getRaw(this);\n    const r = e.sort(t);\n    observeCollection(N, e);\n    return wrap(r);\n}\n\nfunction wrappedArraySlice(t, e) {\n    const r = getRaw(this);\n    observeCollection(N, r);\n    return getProxy(r.slice(t, e));\n}\n\nfunction wrappedReduce(t, e) {\n    const r = getRaw(this);\n    const s = r.reduce(((e, r, s) => t(e, wrap(r), s, this)), e);\n    observeCollection(N, r);\n    return wrap(s);\n}\n\nfunction wrappedReduceRight(t, e) {\n    const r = getRaw(this);\n    const s = r.reduceRight(((e, r, s) => t(e, wrap(r), s, this)), e);\n    observeCollection(N, r);\n    return wrap(s);\n}\n\nconst U = {\n    get(t, e, r) {\n        if (e === q) {\n            return t;\n        }\n        const n = currentConnectable();\n        if (!E || doNotCollect(t, e) || n == null) {\n            return j(t, e, r);\n        }\n        switch (e) {\n          case \"size\":\n            n.observe(t, \"size\");\n            return t.size;\n\n          case \"clear\":\n            return wrappedClear;\n\n          case \"delete\":\n            return wrappedDelete;\n\n          case \"forEach\":\n            return wrappedForEach;\n\n          case \"add\":\n            if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.isSet)(t)) {\n                return wrappedAdd;\n            }\n            break;\n\n          case \"get\":\n            if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.isMap)(t)) {\n                return wrappedGet;\n            }\n            break;\n\n          case \"set\":\n            if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.isMap)(t)) {\n                return wrappedSet;\n            }\n            break;\n\n          case \"has\":\n            return wrappedHas;\n\n          case \"keys\":\n            return wrappedKeys;\n\n          case \"values\":\n            return wrappedValues;\n\n          case \"entries\":\n            return wrappedEntries;\n\n          case Symbol.iterator:\n            return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.isMap)(t) ? wrappedEntries : wrappedValues;\n        }\n        return wrap(j(t, e, r));\n    }\n};\n\nfunction wrappedForEach(t, e) {\n    const r = getRaw(this);\n    observeCollection(N, r);\n    return r.forEach(((r, s) => {\n        t.call(e, wrap(r), wrap(s), this);\n    }));\n}\n\nfunction wrappedHas(t) {\n    const e = getRaw(this);\n    observeCollection(N, e);\n    return e.has(unwrap(t));\n}\n\nfunction wrappedGet(t) {\n    const e = getRaw(this);\n    observeCollection(N, e);\n    return wrap(e.get(unwrap(t)));\n}\n\nfunction wrappedSet(t, e) {\n    return wrap(getRaw(this).set(unwrap(t), unwrap(e)));\n}\n\nfunction wrappedAdd(t) {\n    return wrap(getRaw(this).add(unwrap(t)));\n}\n\nfunction wrappedClear() {\n    return wrap(getRaw(this).clear());\n}\n\nfunction wrappedDelete(t) {\n    return wrap(getRaw(this).delete(unwrap(t)));\n}\n\nfunction wrappedKeys() {\n    const t = getRaw(this);\n    observeCollection(N, t);\n    const e = t.keys();\n    return {\n        next() {\n            const t = e.next();\n            const r = t.value;\n            const s = t.done;\n            return s ? {\n                value: void 0,\n                done: s\n            } : {\n                value: wrap(r),\n                done: s\n            };\n        },\n        [Symbol.iterator]() {\n            return this;\n        }\n    };\n}\n\nfunction wrappedValues() {\n    const t = getRaw(this);\n    observeCollection(N, t);\n    const e = t.values();\n    return {\n        next() {\n            const t = e.next();\n            const r = t.value;\n            const s = t.done;\n            return s ? {\n                value: void 0,\n                done: s\n            } : {\n                value: wrap(r),\n                done: s\n            };\n        },\n        [Symbol.iterator]() {\n            return this;\n        }\n    };\n}\n\nfunction wrappedEntries() {\n    const t = getRaw(this);\n    observeCollection(N, t);\n    const e = t.entries();\n    return {\n        next() {\n            const t = e.next();\n            const r = t.value;\n            const s = t.done;\n            return s ? {\n                value: void 0,\n                done: s\n            } : {\n                value: [ wrap(r[0]), wrap(r[1]) ],\n                done: s\n            };\n        },\n        [Symbol.iterator]() {\n            return this;\n        }\n    };\n}\n\nconst observeCollection = (t, e) => t?.observeCollection(e);\n\nconst G = /*@__PURE__*/ v({\n    getProxy: getProxy,\n    getRaw: getRaw,\n    wrap: wrap,\n    unwrap: unwrap,\n    rawKey: q\n});\n\nclass ComputedObserver {\n    constructor(t, e, r, s, i) {\n        this.type = S;\n        this.v = void 0;\n        this.ir = false;\n        this.D = false;\n        this.cb = void 0;\n        this.h = void 0;\n        this.C = void 0;\n        this.o = t;\n        this.O = i ? wrap(t) : t;\n        this.$get = e;\n        this.$set = r;\n        this.oL = s;\n    }\n    init(t) {\n        this.v = t;\n        this.D = false;\n    }\n    getValue() {\n        if (this.subs.count === 0) {\n            return this.$get.call(this.o, this.o, this);\n        }\n        if (this.D) {\n            this.compute();\n            this.D = false;\n        }\n        return this.v;\n    }\n    setValue(t) {\n        if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.isFunction)(this.$set)) {\n            if (this.h !== void 0) {\n                t = this.h.call(null, t, this.C);\n            }\n            if (!(0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.areEqual)(t, this.v)) {\n                this.ir = true;\n                this.$set.call(this.o, t);\n                this.ir = false;\n                this.run();\n            }\n        } else {\n            throw createMappedError(221);\n        }\n    }\n    useCoercer(t, e) {\n        this.h = t;\n        this.C = e;\n        return true;\n    }\n    useCallback(t) {\n        this.cb = t;\n        return true;\n    }\n    handleDirty() {\n        if (!this.D) {\n            this.D = true;\n            this.subs.notifyDirty();\n        }\n    }\n    handleChange() {\n        this.D = true;\n        if (this.subs.count > 0) {\n            this.run();\n        }\n    }\n    handleCollectionChange() {\n        this.D = true;\n        if (this.subs.count > 0) {\n            this.run();\n        }\n    }\n    subscribe(t) {\n        if (this.subs.add(t) && this.subs.count === 1) {\n            this.compute();\n            this.D = false;\n        }\n    }\n    unsubscribe(t) {\n        if (this.subs.remove(t) && this.subs.count === 0) {\n            this.D = true;\n            this.obs.clearAll();\n        }\n    }\n    run() {\n        if (this.ir) {\n            return;\n        }\n        const t = this.v;\n        const e = this.compute();\n        this.D = false;\n        if (!(0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.areEqual)(e, t)) {\n            this.cb?.(e, t);\n            this.subs.notify(this.v, t);\n        }\n    }\n    compute() {\n        this.ir = true;\n        this.obs.version++;\n        try {\n            enterConnectable(this);\n            return this.v = unwrap(this.$get.call(this.O, this.O, this));\n        } finally {\n            this.obs.clear();\n            this.ir = false;\n            exitConnectable(this);\n        }\n    }\n}\n\n(() => {\n    connectable(ComputedObserver, null);\n    D(ComputedObserver, null);\n})();\n\nconst J = /*@__PURE__*/ y(\"IDirtyChecker\", void 0);\n\nconst Q = {\n    timeoutsPerCheck: 25,\n    disabled: false,\n    throw: false,\n    resetToDefault() {\n        this.timeoutsPerCheck = 6;\n        this.disabled = false;\n        this.throw = false;\n    }\n};\n\nclass DirtyChecker {\n    static register(t) {\n        t.register(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Registration.singleton(this, this), _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Registration.aliasTo(this, J));\n    }\n    constructor() {\n        this.tracked = [];\n        this.A = null;\n        this.R = 0;\n        this.p = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.resolve)(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.IPlatform);\n        this.check = () => {\n            if (Q.disabled) {\n                return;\n            }\n            if (++this.R < Q.timeoutsPerCheck) {\n                return;\n            }\n            this.R = 0;\n            const t = this.tracked;\n            const e = t.length;\n            let r;\n            let s = 0;\n            for (;s < e; ++s) {\n                r = t[s];\n                if (r.isDirty()) {\n                    r.flush();\n                }\n            }\n        };\n        D(DirtyCheckProperty, null);\n    }\n    createProperty(t, e) {\n        if (Q.throw) {\n            throw createMappedError(218, e);\n        }\n        return new DirtyCheckProperty(this, t, e);\n    }\n    addProperty(t) {\n        this.tracked.push(t);\n        if (this.tracked.length === 1) {\n            this.A = this.p.taskQueue.queueTask(this.check, {\n                persistent: true\n            });\n        }\n    }\n    removeProperty(t) {\n        this.tracked.splice(this.tracked.indexOf(t), 1);\n        if (this.tracked.length === 0) {\n            this.A.cancel();\n            this.A = null;\n        }\n    }\n}\n\nclass DirtyCheckProperty {\n    constructor(t, e, r) {\n        this.obj = e;\n        this.key = r;\n        this.type = m;\n        this.ov = void 0;\n        this.P = t;\n    }\n    getValue() {\n        return this.obj[this.key];\n    }\n    setValue(t) {\n        throw createMappedError(219, this.key);\n    }\n    isDirty() {\n        return this.ov !== this.obj[this.key];\n    }\n    flush() {\n        const t = this.ov;\n        const e = this.getValue();\n        this.ov = e;\n        this.subs.notify(e, t);\n    }\n    subscribe(t) {\n        if (this.subs.add(t) && this.subs.count === 1) {\n            this.ov = this.obj[this.key];\n            this.P.addProperty(this);\n        }\n    }\n    unsubscribe(t) {\n        if (this.subs.remove(t) && this.subs.count === 0) {\n            this.P.removeProperty(this);\n        }\n    }\n}\n\nclass PrimitiveObserver {\n    get doNotCache() {\n        return true;\n    }\n    constructor(t, e) {\n        this.type = m;\n        this.o = t;\n        this.k = e;\n    }\n    getValue() {\n        return this.o[this.k];\n    }\n    setValue() {}\n    subscribe() {}\n    unsubscribe() {}\n}\n\nclass PropertyAccessor {\n    constructor() {\n        this.type = m;\n    }\n    getValue(t, e) {\n        return t[e];\n    }\n    setValue(t, e, r) {\n        e[r] = t;\n    }\n}\n\nclass SetterObserver {\n    constructor(t, e) {\n        this.type = S;\n        this.v = void 0;\n        this.iO = false;\n        this.cb = void 0;\n        this.h = void 0;\n        this.C = void 0;\n        this.o = t;\n        this.k = e;\n    }\n    getValue() {\n        return this.v;\n    }\n    setValue(t) {\n        if (this.h !== void 0) {\n            t = this.h.call(void 0, t, this.C);\n        }\n        if (this.iO) {\n            if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.areEqual)(t, this.v)) {\n                return;\n            }\n            X = this.v;\n            this.v = t;\n            this.cb?.(t, X);\n            this.subs.notifyDirty();\n            this.subs.notify(t, X);\n        } else {\n            this.v = this.o[this.k] = t;\n            this.cb?.(t, X);\n        }\n    }\n    useCallback(t) {\n        this.cb = t;\n        this.start();\n        return true;\n    }\n    useCoercer(t, e) {\n        this.h = t;\n        this.C = e;\n        this.start();\n        return true;\n    }\n    subscribe(t) {\n        if (this.iO === false) {\n            this.start();\n        }\n        this.subs.add(t);\n    }\n    start() {\n        if (this.iO === false) {\n            this.iO = true;\n            this.v = this.o[this.k];\n            b(this.o, this.k, {\n                enumerable: true,\n                configurable: true,\n                get: w((() => this.getValue()), {\n                    getObserver: () => this\n                }),\n                set: t => {\n                    this.setValue(t);\n                }\n            });\n        }\n        return this;\n    }\n    stop() {\n        if (this.iO) {\n            b(this.o, this.k, {\n                enumerable: true,\n                configurable: true,\n                writable: true,\n                value: this.v\n            });\n            this.iO = false;\n        }\n        return this;\n    }\n}\n\n(() => {\n    D(SetterObserver, null);\n})();\n\nlet X = void 0;\n\nconst Y = new PropertyAccessor;\n\nconst Z = /*@__PURE__*/ y(\"IObserverLocator\", (t => t.singleton(ObserverLocator)));\n\nconst tt = /*@__PURE__*/ y(\"INodeObserverLocator\", (t => t.cachedCallback((t => new DefaultNodeObserverLocator))));\n\nclass DefaultNodeObserverLocator {\n    handles() {\n        return false;\n    }\n    getObserver() {\n        return Y;\n    }\n    getAccessor() {\n        return Y;\n    }\n}\n\nconst et = /*@__PURE__*/ y(\"IComputedObserverLocator\", (t => t.singleton(class DefaultLocator {\n    getObserver(t, e, r, s) {\n        const i = new ComputedObserver(t, r.get, r.set, s, true);\n        b(t, e, {\n            enumerable: r.enumerable,\n            configurable: true,\n            get: w((() => i.getValue()), {\n                getObserver: () => i\n            }),\n            set: t => {\n                i.setValue(t);\n            }\n        });\n        return i;\n    }\n})));\n\nclass ObserverLocator {\n    constructor() {\n        this.I = [];\n        this.P = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.resolve)(J);\n        this._ = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.resolve)(tt);\n        this.M = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.resolve)(et);\n    }\n    addAdapter(t) {\n        this.I.push(t);\n    }\n    getObserver(t, e) {\n        if (t == null) {\n            throw createMappedError(199, e);\n        }\n        if (!(0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.isObject)(t)) {\n            return new PrimitiveObserver(t, (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.isFunction)(e) ? \"\" : e);\n        }\n        if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.isFunction)(e)) {\n            return new ComputedObserver(t, e, void 0, this, true);\n        }\n        const s = getObserverLookup(t);\n        let i = s[e];\n        if (i === void 0) {\n            i = this.createObserver(t, e);\n            if (!i.doNotCache) {\n                s[e] = i;\n            }\n        }\n        return i;\n    }\n    getAccessor(t, e) {\n        const r = t.$observers?.[e];\n        if (r !== void 0) {\n            return r;\n        }\n        if (this._.handles(t, e, this)) {\n            return this._.getAccessor(t, e, this);\n        }\n        return Y;\n    }\n    getArrayObserver(t) {\n        return k(t);\n    }\n    getMapObserver(t) {\n        return L(t);\n    }\n    getSetObserver(t) {\n        return M(t);\n    }\n    createObserver(t, r) {\n        if (this._.handles(t, r, this)) {\n            return this._.getObserver(t, r, this);\n        }\n        switch (r) {\n          case \"length\":\n            if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.isArray)(t)) {\n                return k(t).getLengthObserver();\n            }\n            break;\n\n          case \"size\":\n            if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.isMap)(t)) {\n                return L(t).getLengthObserver();\n            } else if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.isSet)(t)) {\n                return M(t).getLengthObserver();\n            }\n            break;\n\n          default:\n            if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.isArray)(t) && (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.isArrayIndex)(r)) {\n                return k(t).getIndexObserver(Number(r));\n            }\n            break;\n        }\n        let n = st(t, r);\n        if (n === void 0) {\n            let e = rt(t);\n            while (e !== null) {\n                n = st(e, r);\n                if (n === void 0) {\n                    e = rt(e);\n                } else {\n                    break;\n                }\n            }\n        }\n        if (n !== void 0 && !d.call(n, \"value\")) {\n            let e = this.L(t, r, n);\n            if (e == null) {\n                e = (n.get?.getObserver)?.(t);\n            }\n            return e == null ? n.configurable ? this.M.getObserver(t, r, n, this) : this.P.createProperty(t, r) : e;\n        }\n        return new SetterObserver(t, r);\n    }\n    L(t, e, r) {\n        if (this.I.length > 0) {\n            for (const s of this.I) {\n                const i = s.getObserver(t, e, r, this);\n                if (i != null) {\n                    return i;\n                }\n            }\n        }\n        return null;\n    }\n}\n\nconst getCollectionObserver = t => {\n    let r;\n    if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.isArray)(t)) {\n        r = k(t);\n    } else if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.isMap)(t)) {\n        r = L(t);\n    } else if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.isSet)(t)) {\n        r = M(t);\n    }\n    return r;\n};\n\nconst rt = Object.getPrototypeOf;\n\nconst st = Object.getOwnPropertyDescriptor;\n\nconst getObserverLookup = t => {\n    let e = t.$observers;\n    if (e === void 0) {\n        b(t, \"$observers\", {\n            enumerable: false,\n            value: e = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.createLookup)()\n        });\n    }\n    return e;\n};\n\nconst it = /*@__PURE__*/ y(\"IObservation\", (t => t.singleton(Observation)));\n\nclass Observation {\n    static get inject() {\n        return [ Z ];\n    }\n    constructor(t) {\n        this.oL = t;\n        this.V = {\n            immediate: true\n        };\n    }\n    run(t) {\n        const e = new RunEffect(this.oL, t);\n        e.run();\n        return e;\n    }\n    watch(t, e, r, s = this.V) {\n        let i = undefined;\n        let n = false;\n        const o = this.oL.getObserver(t, e);\n        const c = {\n            handleChange: (t, e) => r(t, i = e)\n        };\n        const run = () => {\n            if (n) return;\n            r(o.getValue(), i);\n        };\n        const stop = () => {\n            n = true;\n            o.unsubscribe(c);\n        };\n        o.subscribe(c);\n        if (s.immediate) {\n            run();\n        }\n        return {\n            run: run,\n            stop: stop\n        };\n    }\n}\n\nclass RunEffect {\n    constructor(t, e) {\n        this.oL = t;\n        this.fn = e;\n        this.maxRunCount = 10;\n        this.queued = false;\n        this.running = false;\n        this.runCount = 0;\n        this.stopped = false;\n    }\n    handleChange() {\n        this.queued = true;\n        this.run();\n    }\n    handleCollectionChange() {\n        this.queued = true;\n        this.run();\n    }\n    run() {\n        if (this.stopped) {\n            throw createMappedError(225);\n        }\n        if (this.running) {\n            return;\n        }\n        ++this.runCount;\n        this.running = true;\n        this.queued = false;\n        ++this.obs.version;\n        try {\n            enterConnectable(this);\n            this.fn(this);\n        } finally {\n            this.obs.clear();\n            this.running = false;\n            exitConnectable(this);\n        }\n        if (this.queued) {\n            if (this.runCount > this.maxRunCount) {\n                this.runCount = 0;\n                throw createMappedError(226);\n            }\n            this.run();\n        } else {\n            this.runCount = 0;\n        }\n    }\n    stop() {\n        this.stopped = true;\n        this.obs.clearAll();\n    }\n}\n\n(() => {\n    connectable(RunEffect, null);\n})();\n\nconst nt = /*@__PURE__*/ (() => {\n    function getObserversLookup(t) {\n        if (t.$observers === void 0) {\n            b(t, \"$observers\", {\n                value: {}\n            });\n        }\n        return t.$observers;\n    }\n    const t = {};\n    function observable(e, r) {\n        if (!SetterNotifier.mixed) {\n            SetterNotifier.mixed = true;\n            D(SetterNotifier, null);\n        }\n        let s = false;\n        let i;\n        if (typeof e === \"object\") {\n            i = e;\n        } else if (e != null) {\n            i = {\n                name: e\n            };\n            s = true;\n        } else {\n            i = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.emptyObject;\n        }\n        if (arguments.length === 0) {\n            return function(t, e) {\n                if (e.kind !== \"field\") throw createMappedError(224);\n                return createFieldInitializer(e);\n            };\n        }\n        if (r?.kind === \"field\") return createFieldInitializer(r);\n        if (s) {\n            return function(e, r) {\n                createDescriptor(e, i.name, (() => t), true);\n            };\n        }\n        return function(e, r) {\n            switch (r.kind) {\n              case \"field\":\n                return createFieldInitializer(r);\n\n              case \"class\":\n                return createDescriptor(e, i.name, (() => t), true);\n\n              default:\n                throw createMappedError(224);\n            }\n        };\n        function createFieldInitializer(t) {\n            let e;\n            t.addInitializer((function() {\n                createDescriptor(this, t.name, (() => e), false);\n            }));\n            return function(t) {\n                return e = t;\n            };\n        }\n        function createDescriptor(t, e, r, s) {\n            const n = i.callback || `${g(e)}Changed`;\n            const o = i.set;\n            const observableGetter = function() {\n                const t = getNotifier(this, e, n, r, o);\n                currentConnectable()?.subscribeTo(t);\n                return t.getValue();\n            };\n            observableGetter.getObserver = function(t) {\n                return getNotifier(t, e, n, r, o);\n            };\n            const c = {\n                enumerable: true,\n                configurable: true,\n                get: observableGetter,\n                set(t) {\n                    getNotifier(this, e, n, r, o).setValue(t);\n                }\n            };\n            if (s) b(t.prototype, e, c); else b(t, e, c);\n        }\n    }\n    function getNotifier(e, r, s, i, n) {\n        const o = getObserversLookup(e);\n        let c = o[r];\n        if (c == null) {\n            const u = i();\n            c = new SetterNotifier(e, s, n, u === t ? void 0 : u);\n            o[r] = c;\n        }\n        return c;\n    }\n    class SetterNotifier {\n        constructor(t, e, s, i) {\n            this.type = S;\n            this.v = void 0;\n            this.ov = void 0;\n            this.o = t;\n            this.S = s;\n            this.hs = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.isFunction)(s);\n            const n = t[e];\n            this.cb = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.isFunction)(n) ? n : void 0;\n            this.v = i;\n        }\n        getValue() {\n            return this.v;\n        }\n        setValue(t) {\n            if (this.hs) {\n                t = this.S(t);\n            }\n            if (!(0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.areEqual)(t, this.v)) {\n                this.ov = this.v;\n                this.v = t;\n                this.cb?.call(this.o, this.v, this.ov);\n                t = this.ov;\n                this.ov = this.v;\n                this.subs.notifyDirty();\n                this.subs.notify(this.v, t);\n            }\n        }\n    }\n    SetterNotifier.mixed = false;\n    return observable;\n})();\n\ntypeof SuppressedError === \"function\" ? SuppressedError : function(t, e, r) {\n    var s = new Error(r);\n    return s.name = \"SuppressedError\", s.error = t, s.suppressed = e, s;\n};\n\nfunction nowrap(t, e) {\n    return arguments.length === 0 ? decorator : decorator(t, e);\n    function decorator(t, e) {\n        switch (e.kind) {\n          case \"class\":\n            rtDefineHiddenProp(t, B, true);\n            break;\n\n          case \"field\":\n            e.addInitializer((function() {\n                const t = this.constructor;\n                const r = `${W}_${g(e.name)}__`;\n                if (r in t) return;\n                rtDefineHiddenProp(t, r, true);\n            }));\n            break;\n        }\n    }\n}\n\n\n//# sourceMappingURL=index.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS9kaXN0L2VzbS9pbmRleC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXdPOztBQUV0TDs7QUFFbEQ7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQSxVQUFVLCtDQUFDOztBQUVYLFVBQVUsdURBQUM7O0FBRVgsVUFBVSx1REFBQzs7QUFFWCx3QkFBd0IsK0NBQUM7O0FBRXpCOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0EsV0FBVyxXQUFXO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsV0FBVyx3REFBQztBQUNaOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCLGtEQUFrRCxPQUFPO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixPQUFPO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRCx1REFBdUQsc0JBQXNCLEdBQUcsU0FBUzs7QUFFekY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixPQUFPO0FBQy9CO0FBQ0E7QUFDQSw0QkFBNEIsUUFBUTtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsT0FBTztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQywyREFBQztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRCxPQUFPO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBLFdBQVcsNkJBQTZCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQSxXQUFXLDZCQUE2QjtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksd0RBQUM7QUFDYjtBQUNBLFVBQVUsU0FBUyxzREFBQztBQUNwQjtBQUNBLFVBQVUsU0FBUyxzREFBQztBQUNwQjtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxzSkFBc0osRUFBRSxHQUFHLEtBQUs7QUFDaEs7O0FBRUE7QUFDQSxjQUFjLHdEQUFDLFVBQVUsc0RBQUMsT0FBTyxzREFBQztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsZ0JBQWdCLHNEQUFDO0FBQ2pCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGdCQUFnQixzREFBQztBQUNqQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxnQkFBZ0Isc0RBQUM7QUFDakI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxtQkFBbUIsc0RBQUM7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSwyREFBQztBQUNiO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQix5REFBQztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSx5REFBQztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxtQkFBbUIseURBQUMsd0JBQXdCLHlEQUFDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsd0RBQUMsQ0FBQyxzREFBQztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsT0FBTztBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IseURBQUM7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxDQUFDOztBQUVEOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLHdEQUFDO0FBQ2xCLGlCQUFpQix3REFBQztBQUNsQixpQkFBaUIsd0RBQUM7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEseURBQUM7QUFDZCw0Q0FBNEMsMkRBQUM7QUFDN0M7QUFDQSxZQUFZLDJEQUFDO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0Isd0RBQUM7QUFDakI7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZ0JBQWdCLHNEQUFDO0FBQ2pCO0FBQ0EsY0FBYyxTQUFTLHNEQUFDO0FBQ3hCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGdCQUFnQix3REFBQyxPQUFPLDZEQUFDO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFFBQVEsd0RBQUM7QUFDVDtBQUNBLE1BQU0sU0FBUyxzREFBQztBQUNoQjtBQUNBLE1BQU0sU0FBUyxzREFBQztBQUNoQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLDZEQUFDO0FBQ3hCLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1YsZ0JBQWdCLHdEQUFDO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsS0FBSztBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLDJEQUFDO0FBQ3ZCO0FBQ0Esc0JBQXNCLDJEQUFDO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQix5REFBQztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixFQUFFLEdBQUcsVUFBVTtBQUM1QztBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBOztBQUVtbUI7QUFDbm1CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmV0cm9hcHAtY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhdXJlbGlhL3J1bnRpbWUvZGlzdC9lc20vaW5kZXgubWpzP2I2ZTkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgREkgYXMgdCwgaXNBcnJheSBhcyBlLCBpc0Z1bmN0aW9uIGFzIHIsIGlzU2V0IGFzIHMsIGlzTWFwIGFzIGksIGFyZUVxdWFsIGFzIG4sIFJlZ2lzdHJhdGlvbiBhcyBvLCByZXNvbHZlIGFzIGMsIElQbGF0Zm9ybSBhcyB1LCBpc09iamVjdCBhcyBhLCBpc0FycmF5SW5kZXggYXMgaCwgY3JlYXRlTG9va3VwIGFzIGwsIGVtcHR5T2JqZWN0IGFzIGYgfSBmcm9tIFwiQGF1cmVsaWEva2VybmVsXCI7XG5cbmltcG9ydCB7IE1ldGFkYXRhIGFzIHAgfSBmcm9tIFwiQGF1cmVsaWEvbWV0YWRhdGFcIjtcblxuY29uc3QgZCA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cbmNvbnN0IGIgPSBSZWZsZWN0LmRlZmluZVByb3BlcnR5O1xuXG5mdW5jdGlvbiBydERlZmluZUhpZGRlblByb3AodCwgZSwgcikge1xuICAgIGIodCwgZSwge1xuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHJcbiAgICB9KTtcbiAgICByZXR1cm4gcjtcbn1cblxuZnVuY3Rpb24gZW5zdXJlUHJvdG8odCwgZSwgcikge1xuICAgIGlmICghKGUgaW4gdCkpIHtcbiAgICAgICAgcnREZWZpbmVIaWRkZW5Qcm9wKHQsIGUsIHIpO1xuICAgIH1cbn1cblxuY29uc3QgdyA9IE9iamVjdC5hc3NpZ247XG5cbmNvbnN0IHYgPSBPYmplY3QuZnJlZXplO1xuXG5jb25zdCBnID0gU3RyaW5nO1xuXG5jb25zdCB5ID0gdC5jcmVhdGVJbnRlcmZhY2U7XG5cbmNvbnN0IEMgPSBwLmdldDtcblxuY29uc3QgTyA9IHAuZGVmaW5lO1xuXG5jb25zdCBBID0gLypAX19QVVJFX18qLyB0LmNyZWF0ZUludGVyZmFjZShcIklDb2VyY2lvbkNvbmZpZ3VyYXRpb25cIik7XG5cbmNvbnN0IG0gPSAwO1xuXG5jb25zdCBTID0gMTtcblxuY29uc3QgUiA9IDI7XG5cbmNvbnN0IFAgPSA0O1xuXG5jb25zdCBJID0gLypAX19QVVJFX18qLyB2KHtcbiAgICBOb25lOiBtLFxuICAgIE9ic2VydmVyOiBTLFxuICAgIE5vZGU6IFIsXG4gICAgTGF5b3V0OiBQXG59KTtcblxuZnVuY3Rpb24gY29weUluZGV4TWFwKHQsIGUsIHIpIHtcbiAgICBjb25zdCB7bGVuZ3RoOiBzfSA9IHQ7XG4gICAgY29uc3QgaSA9IEFycmF5KHMpO1xuICAgIGxldCBuID0gMDtcbiAgICB3aGlsZSAobiA8IHMpIHtcbiAgICAgICAgaVtuXSA9IHRbbl07XG4gICAgICAgICsrbjtcbiAgICB9XG4gICAgaWYgKGUgIT09IHZvaWQgMCkge1xuICAgICAgICBpLmRlbGV0ZWRJbmRpY2VzID0gZS5zbGljZSgwKTtcbiAgICB9IGVsc2UgaWYgKHQuZGVsZXRlZEluZGljZXMgIT09IHZvaWQgMCkge1xuICAgICAgICBpLmRlbGV0ZWRJbmRpY2VzID0gdC5kZWxldGVkSW5kaWNlcy5zbGljZSgwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBpLmRlbGV0ZWRJbmRpY2VzID0gW107XG4gICAgfVxuICAgIGlmIChyICE9PSB2b2lkIDApIHtcbiAgICAgICAgaS5kZWxldGVkSXRlbXMgPSByLnNsaWNlKDApO1xuICAgIH0gZWxzZSBpZiAodC5kZWxldGVkSXRlbXMgIT09IHZvaWQgMCkge1xuICAgICAgICBpLmRlbGV0ZWRJdGVtcyA9IHQuZGVsZXRlZEl0ZW1zLnNsaWNlKDApO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGkuZGVsZXRlZEl0ZW1zID0gW107XG4gICAgfVxuICAgIGkuaXNJbmRleE1hcCA9IHRydWU7XG4gICAgcmV0dXJuIGk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUluZGV4TWFwKHQgPSAwKSB7XG4gICAgY29uc3QgZSA9IEFycmF5KHQpO1xuICAgIGxldCByID0gMDtcbiAgICB3aGlsZSAociA8IHQpIHtcbiAgICAgICAgZVtyXSA9IHIrKztcbiAgICB9XG4gICAgZS5kZWxldGVkSW5kaWNlcyA9IFtdO1xuICAgIGUuZGVsZXRlZEl0ZW1zID0gW107XG4gICAgZS5pc0luZGV4TWFwID0gdHJ1ZTtcbiAgICByZXR1cm4gZTtcbn1cblxuZnVuY3Rpb24gY2xvbmVJbmRleE1hcCh0KSB7XG4gICAgY29uc3QgZSA9IHQuc2xpY2UoKTtcbiAgICBlLmRlbGV0ZWRJbmRpY2VzID0gdC5kZWxldGVkSW5kaWNlcy5zbGljZSgpO1xuICAgIGUuZGVsZXRlZEl0ZW1zID0gdC5kZWxldGVkSXRlbXMuc2xpY2UoKTtcbiAgICBlLmlzSW5kZXhNYXAgPSB0cnVlO1xuICAgIHJldHVybiBlO1xufVxuXG5mdW5jdGlvbiBpc0luZGV4TWFwKHQpIHtcbiAgICByZXR1cm4gZSh0KSAmJiB0LmlzSW5kZXhNYXAgPT09IHRydWU7XG59XG5cbmxldCBfID0gbmV3IE1hcDtcblxubGV0IHggPSBmYWxzZTtcblxuZnVuY3Rpb24gYmF0Y2godCkge1xuICAgIGNvbnN0IGUgPSBfO1xuICAgIGNvbnN0IHIgPSBfID0gbmV3IE1hcDtcbiAgICB4ID0gdHJ1ZTtcbiAgICB0cnkge1xuICAgICAgICB0KCk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgICAgXyA9IG51bGw7XG4gICAgICAgIHggPSBmYWxzZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxldCB0O1xuICAgICAgICAgICAgbGV0IHM7XG4gICAgICAgICAgICBsZXQgaTtcbiAgICAgICAgICAgIGxldCBuO1xuICAgICAgICAgICAgbGV0IG87XG4gICAgICAgICAgICBsZXQgYyA9IGZhbHNlO1xuICAgICAgICAgICAgbGV0IHU7XG4gICAgICAgICAgICBsZXQgYTtcbiAgICAgICAgICAgIGZvciAodCBvZiByKSB7XG4gICAgICAgICAgICAgICAgcyA9IHRbMF07XG4gICAgICAgICAgICAgICAgaSA9IHRbMV07XG4gICAgICAgICAgICAgICAgaWYgKGU/LmhhcyhzKSkge1xuICAgICAgICAgICAgICAgICAgICBlLnNldChzLCBpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGlbMF0gPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgcy5ub3RpZnkoaVsxXSwgaVsyXSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbiA9IGlbMV07XG4gICAgICAgICAgICAgICAgICAgIG8gPSBpWzJdO1xuICAgICAgICAgICAgICAgICAgICBjID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvLmRlbGV0ZWRJbmRpY2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGMgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh1ID0gMCwgYSA9IG8ubGVuZ3RoOyB1IDwgYTsgKyt1KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9bdV0gIT09IHUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoYykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcy5ub3RpZnlDb2xsZWN0aW9uKG4sIG8pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgXyA9IGU7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGFkZENvbGxlY3Rpb25CYXRjaCh0LCBlLCByKSB7XG4gICAgaWYgKCFfLmhhcyh0KSkge1xuICAgICAgICBfLnNldCh0LCBbIDIsIGUsIHIgXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgXy5nZXQodClbMl0gPSByO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gYWRkVmFsdWVCYXRjaCh0LCBlLCByKSB7XG4gICAgY29uc3QgcyA9IF8uZ2V0KHQpO1xuICAgIGlmIChzID09PSB2b2lkIDApIHtcbiAgICAgICAgXy5zZXQodCwgWyAxLCBlLCByIF0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHNbMV0gPSBlO1xuICAgICAgICBzWzJdID0gcjtcbiAgICB9XG59XG5cbmNvbnN0IEQgPSAvKkBfX1BVUkVfXyovICgoKSA9PiB7XG4gICAgZnVuY3Rpb24gc3Vic2NyaWJlckNvbGxlY3Rpb24odCwgZSkge1xuICAgICAgICByZXR1cm4gdCA9PSBudWxsID8gc3Vic2NyaWJlckNvbGxlY3Rpb25EZWNvIDogc3Vic2NyaWJlckNvbGxlY3Rpb25EZWNvKHQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRTdWJzY3JpYmVyUmVjb3JkKCkge1xuICAgICAgICByZXR1cm4gcnREZWZpbmVIaWRkZW5Qcm9wKHRoaXMsIFwic3Vic1wiLCBuZXcgU3Vic2NyaWJlclJlY29yZCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFkZFN1YnNjcmliZXIodCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdWJzLmFkZCh0KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVtb3ZlU3Vic2NyaWJlcih0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN1YnMucmVtb3ZlKHQpO1xuICAgIH1cbiAgICBjb25zdCB0ID0gbmV3IFdlYWtTZXQ7XG4gICAgZnVuY3Rpb24gc3Vic2NyaWJlckNvbGxlY3Rpb25EZWNvKGUsIHIpIHtcbiAgICAgICAgaWYgKCF0LmhhcyhlKSkge1xuICAgICAgICAgICAgdC5hZGQoZSk7XG4gICAgICAgICAgICBjb25zdCByID0gZS5wcm90b3R5cGU7XG4gICAgICAgICAgICBiKHIsIFwic3Vic1wiLCB7XG4gICAgICAgICAgICAgICAgZ2V0OiBnZXRTdWJzY3JpYmVyUmVjb3JkXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGVuc3VyZVByb3RvKHIsIFwic3Vic2NyaWJlXCIsIGFkZFN1YnNjcmliZXIpO1xuICAgICAgICAgICAgZW5zdXJlUHJvdG8ociwgXCJ1bnN1YnNjcmliZVwiLCByZW1vdmVTdWJzY3JpYmVyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZTtcbiAgICB9XG4gICAgY2xhc3MgU3Vic2NyaWJlclJlY29yZCB7XG4gICAgICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAgICAgdGhpcy5jb3VudCA9IDA7XG4gICAgICAgICAgICB0aGlzLnQgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuaSA9IFtdO1xuICAgICAgICAgICAgdGhpcy51ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgYWRkKHQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnQuaW5jbHVkZXModCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnRbdGhpcy50Lmxlbmd0aF0gPSB0O1xuICAgICAgICAgICAgaWYgKFwiaGFuZGxlRGlydHlcIiBpbiB0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pW3RoaXMuaS5sZW5ndGhdID0gdDtcbiAgICAgICAgICAgICAgICB0aGlzLnUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgKyt0aGlzLmNvdW50O1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmVtb3ZlKHQpIHtcbiAgICAgICAgICAgIGxldCBlID0gdGhpcy50LmluZGV4T2YodCk7XG4gICAgICAgICAgICBpZiAoZSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnQuc3BsaWNlKGUsIDEpO1xuICAgICAgICAgICAgICAgIGUgPSB0aGlzLmkuaW5kZXhPZih0KTtcbiAgICAgICAgICAgICAgICBpZiAoZSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pLnNwbGljZShlLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51ID0gdGhpcy5pLmxlbmd0aCA+IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC0tdGhpcy5jb3VudDtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBub3RpZnkodCwgZSkge1xuICAgICAgICAgICAgaWYgKHgpIHtcbiAgICAgICAgICAgICAgICBhZGRWYWx1ZUJhdGNoKHRoaXMsIHQsIGUpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoY29uc3QgciBvZiB0aGlzLnQuc2xpY2UoMCkpIHtcbiAgICAgICAgICAgICAgICByLmhhbmRsZUNoYW5nZSh0LCBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBub3RpZnlDb2xsZWN0aW9uKHQsIGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHIgPSB0aGlzLnQuc2xpY2UoMCk7XG4gICAgICAgICAgICBjb25zdCBzID0gci5sZW5ndGg7XG4gICAgICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgICAgICBmb3IgKDtpIDwgczsgKytpKSB7XG4gICAgICAgICAgICAgICAgcltpXS5oYW5kbGVDb2xsZWN0aW9uQ2hhbmdlKHQsIGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIG5vdGlmeURpcnR5KCkge1xuICAgICAgICAgICAgaWYgKHRoaXMudSkge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdCBvZiB0aGlzLmkuc2xpY2UoMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdC5oYW5kbGVEaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc3Vic2NyaWJlckNvbGxlY3Rpb247XG59KSgpO1xuXG5jb25zdCBjcmVhdGVNYXBwZWRFcnJvciA9ICh0LCAuLi5lKSA9PiBuZXcgRXJyb3IoYEFVUiR7Zyh0KS5wYWRTdGFydCg0LCBcIjBcIil9OiR7ZS5tYXAoZyl9YCk7XG5cbmNsYXNzIENvbGxlY3Rpb25MZW5ndGhPYnNlcnZlciB7XG4gICAgY29uc3RydWN0b3IodCkge1xuICAgICAgICB0aGlzLm93bmVyID0gdDtcbiAgICAgICAgdGhpcy50eXBlID0gUztcbiAgICAgICAgdGhpcy52ID0gKHRoaXMubyA9IHQuY29sbGVjdGlvbikubGVuZ3RoO1xuICAgIH1cbiAgICBnZXRWYWx1ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuby5sZW5ndGg7XG4gICAgfVxuICAgIHNldFZhbHVlKHQpIHtcbiAgICAgICAgaWYgKHQgIT09IHRoaXMudikge1xuICAgICAgICAgICAgaWYgKCFOdW1iZXIuaXNOYU4odCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm8uc3BsaWNlKHQpO1xuICAgICAgICAgICAgICAgIHRoaXMudiA9IHRoaXMuby5sZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaGFuZGxlRGlydHkoKSB7XG4gICAgICAgIGlmICh0aGlzLnYgIT09IHRoaXMuby5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuc3Vicy5ub3RpZnlEaXJ0eSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGhhbmRsZUNvbGxlY3Rpb25DaGFuZ2UodCwgZSkge1xuICAgICAgICBjb25zdCByID0gdGhpcy52O1xuICAgICAgICBjb25zdCBzID0gdGhpcy5vLmxlbmd0aDtcbiAgICAgICAgaWYgKCh0aGlzLnYgPSBzKSAhPT0gcikge1xuICAgICAgICAgICAgdGhpcy5zdWJzLm5vdGlmeURpcnR5KCk7XG4gICAgICAgICAgICB0aGlzLnN1YnMubm90aWZ5KHRoaXMudiwgcik7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbigoKSA9PiB7XG4gICAgaW1wbGVtZW50TGVuZ3RoT2JzZXJ2ZXIoQ29sbGVjdGlvbkxlbmd0aE9ic2VydmVyKTtcbn0pKCk7XG5cbmNsYXNzIENvbGxlY3Rpb25TaXplT2JzZXJ2ZXIge1xuICAgIGNvbnN0cnVjdG9yKHQpIHtcbiAgICAgICAgdGhpcy5vd25lciA9IHQ7XG4gICAgICAgIHRoaXMudHlwZSA9IFM7XG4gICAgICAgIHRoaXMudiA9ICh0aGlzLm8gPSB0LmNvbGxlY3Rpb24pLnNpemU7XG4gICAgfVxuICAgIGdldFZhbHVlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vLnNpemU7XG4gICAgfVxuICAgIHNldFZhbHVlKCkge1xuICAgICAgICB0aHJvdyBjcmVhdGVNYXBwZWRFcnJvcigyMjApO1xuICAgIH1cbiAgICBoYW5kbGVEaXJ0eSgpIHtcbiAgICAgICAgaWYgKHRoaXMudiAhPT0gdGhpcy5vLnNpemUpIHtcbiAgICAgICAgICAgIHRoaXMuc3Vicy5ub3RpZnlEaXJ0eSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGhhbmRsZUNvbGxlY3Rpb25DaGFuZ2UodCwgZSkge1xuICAgICAgICBjb25zdCByID0gdGhpcy52O1xuICAgICAgICBjb25zdCBzID0gdGhpcy5vLnNpemU7XG4gICAgICAgIGlmICgodGhpcy52ID0gcykgIT09IHIpIHtcbiAgICAgICAgICAgIHRoaXMuc3Vicy5ub3RpZnkodGhpcy52LCByKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuKCgpID0+IHtcbiAgICBpbXBsZW1lbnRMZW5ndGhPYnNlcnZlcihDb2xsZWN0aW9uU2l6ZU9ic2VydmVyKTtcbn0pKCk7XG5cbmZ1bmN0aW9uIGltcGxlbWVudExlbmd0aE9ic2VydmVyKHQpIHtcbiAgICBjb25zdCBlID0gdC5wcm90b3R5cGU7XG4gICAgZW5zdXJlUHJvdG8oZSwgXCJzdWJzY3JpYmVcIiwgc3Vic2NyaWJlKTtcbiAgICBlbnN1cmVQcm90byhlLCBcInVuc3Vic2NyaWJlXCIsIHVuc3Vic2NyaWJlKTtcbiAgICByZXR1cm4gRCh0LCBudWxsKTtcbn1cblxuZnVuY3Rpb24gc3Vic2NyaWJlKHQpIHtcbiAgICBpZiAodGhpcy5zdWJzLmFkZCh0KSAmJiB0aGlzLnN1YnMuY291bnQgPT09IDEpIHtcbiAgICAgICAgdGhpcy5vd25lci5zdWJzY3JpYmUodGhpcyk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiB1bnN1YnNjcmliZSh0KSB7XG4gICAgaWYgKHRoaXMuc3Vicy5yZW1vdmUodCkgJiYgdGhpcy5zdWJzLmNvdW50ID09PSAwKSB7XG4gICAgICAgIHRoaXMub3duZXIuc3Vic2NyaWJlKHRoaXMpO1xuICAgIH1cbn1cblxuY29uc3QgayA9IC8qQF9fUFVSRV9fKi8gKCgpID0+IHtcbiAgICBjb25zdCB0ID0gU3ltYm9sLmZvcihcIl9fYXVfYXJyX29ic19fXCIpO1xuICAgIGNvbnN0IGUgPSBBcnJheVt0XSA/PyBydERlZmluZUhpZGRlblByb3AoQXJyYXksIHQsIG5ldyBXZWFrTWFwKTtcbiAgICBmdW5jdGlvbiBzb3J0Q29tcGFyZSh0LCBlKSB7XG4gICAgICAgIGlmICh0ID09PSBlKSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgICAgICB0ID0gdCA9PT0gbnVsbCA/IFwibnVsbFwiIDogdC50b1N0cmluZygpO1xuICAgICAgICBlID0gZSA9PT0gbnVsbCA/IFwibnVsbFwiIDogZS50b1N0cmluZygpO1xuICAgICAgICByZXR1cm4gdCA8IGUgPyAtMSA6IDE7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHByZVNvcnRDb21wYXJlKHQsIGUpIHtcbiAgICAgICAgaWYgKHQgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgaWYgKGUgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGluc2VydGlvblNvcnQodCwgZSwgciwgcywgaSkge1xuICAgICAgICBsZXQgbiwgbywgYywgdSwgYTtcbiAgICAgICAgbGV0IGgsIGw7XG4gICAgICAgIGZvciAoaCA9IHIgKyAxOyBoIDwgczsgaCsrKSB7XG4gICAgICAgICAgICBuID0gdFtoXTtcbiAgICAgICAgICAgIG8gPSBlW2hdO1xuICAgICAgICAgICAgZm9yIChsID0gaCAtIDE7IGwgPj0gcjsgbC0tKSB7XG4gICAgICAgICAgICAgICAgYyA9IHRbbF07XG4gICAgICAgICAgICAgICAgdSA9IGVbbF07XG4gICAgICAgICAgICAgICAgYSA9IGkoYywgbik7XG4gICAgICAgICAgICAgICAgaWYgKGEgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRbbCArIDFdID0gYztcbiAgICAgICAgICAgICAgICAgICAgZVtsICsgMV0gPSB1O1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRbbCArIDFdID0gbjtcbiAgICAgICAgICAgIGVbbCArIDFdID0gbztcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBxdWlja1NvcnQodCwgZSwgciwgcywgaSkge1xuICAgICAgICBsZXQgbiA9IDAsIG8gPSAwO1xuICAgICAgICBsZXQgYywgdSwgYTtcbiAgICAgICAgbGV0IGgsIGwsIGY7XG4gICAgICAgIGxldCBwLCBkLCBiO1xuICAgICAgICBsZXQgdywgdjtcbiAgICAgICAgbGV0IGcsIHksIEMsIE87XG4gICAgICAgIGxldCBBLCBtLCBTLCBSO1xuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgaWYgKHMgLSByIDw9IDEwKSB7XG4gICAgICAgICAgICAgICAgaW5zZXJ0aW9uU29ydCh0LCBlLCByLCBzLCBpKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuID0gciArIChzIC0gciA+PiAxKTtcbiAgICAgICAgICAgIGMgPSB0W3JdO1xuICAgICAgICAgICAgaCA9IGVbcl07XG4gICAgICAgICAgICB1ID0gdFtzIC0gMV07XG4gICAgICAgICAgICBsID0gZVtzIC0gMV07XG4gICAgICAgICAgICBhID0gdFtuXTtcbiAgICAgICAgICAgIGYgPSBlW25dO1xuICAgICAgICAgICAgcCA9IGkoYywgdSk7XG4gICAgICAgICAgICBpZiAocCA+IDApIHtcbiAgICAgICAgICAgICAgICB3ID0gYztcbiAgICAgICAgICAgICAgICB2ID0gaDtcbiAgICAgICAgICAgICAgICBjID0gdTtcbiAgICAgICAgICAgICAgICBoID0gbDtcbiAgICAgICAgICAgICAgICB1ID0gdztcbiAgICAgICAgICAgICAgICBsID0gdjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGQgPSBpKGMsIGEpO1xuICAgICAgICAgICAgaWYgKGQgPj0gMCkge1xuICAgICAgICAgICAgICAgIHcgPSBjO1xuICAgICAgICAgICAgICAgIHYgPSBoO1xuICAgICAgICAgICAgICAgIGMgPSBhO1xuICAgICAgICAgICAgICAgIGggPSBmO1xuICAgICAgICAgICAgICAgIGEgPSB1O1xuICAgICAgICAgICAgICAgIGYgPSBsO1xuICAgICAgICAgICAgICAgIHUgPSB3O1xuICAgICAgICAgICAgICAgIGwgPSB2O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBiID0gaSh1LCBhKTtcbiAgICAgICAgICAgICAgICBpZiAoYiA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdyA9IHU7XG4gICAgICAgICAgICAgICAgICAgIHYgPSBsO1xuICAgICAgICAgICAgICAgICAgICB1ID0gYTtcbiAgICAgICAgICAgICAgICAgICAgbCA9IGY7XG4gICAgICAgICAgICAgICAgICAgIGEgPSB3O1xuICAgICAgICAgICAgICAgICAgICBmID0gdjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0W3JdID0gYztcbiAgICAgICAgICAgIGVbcl0gPSBoO1xuICAgICAgICAgICAgdFtzIC0gMV0gPSBhO1xuICAgICAgICAgICAgZVtzIC0gMV0gPSBmO1xuICAgICAgICAgICAgZyA9IHU7XG4gICAgICAgICAgICB5ID0gbDtcbiAgICAgICAgICAgIEMgPSByICsgMTtcbiAgICAgICAgICAgIE8gPSBzIC0gMTtcbiAgICAgICAgICAgIHRbbl0gPSB0W0NdO1xuICAgICAgICAgICAgZVtuXSA9IGVbQ107XG4gICAgICAgICAgICB0W0NdID0gZztcbiAgICAgICAgICAgIGVbQ10gPSB5O1xuICAgICAgICAgICAgdDogZm9yIChvID0gQyArIDE7IG8gPCBPOyBvKyspIHtcbiAgICAgICAgICAgICAgICBBID0gdFtvXTtcbiAgICAgICAgICAgICAgICBtID0gZVtvXTtcbiAgICAgICAgICAgICAgICBTID0gaShBLCBnKTtcbiAgICAgICAgICAgICAgICBpZiAoUyA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdFtvXSA9IHRbQ107XG4gICAgICAgICAgICAgICAgICAgIGVbb10gPSBlW0NdO1xuICAgICAgICAgICAgICAgICAgICB0W0NdID0gQTtcbiAgICAgICAgICAgICAgICAgICAgZVtDXSA9IG07XG4gICAgICAgICAgICAgICAgICAgIEMrKztcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFMgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIE8tLTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChPID09IG8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhayB0O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgUiA9IHRbT107XG4gICAgICAgICAgICAgICAgICAgICAgICBTID0gaShSLCBnKTtcbiAgICAgICAgICAgICAgICAgICAgfSB3aGlsZSAoUyA+IDApO1xuICAgICAgICAgICAgICAgICAgICB0W29dID0gdFtPXTtcbiAgICAgICAgICAgICAgICAgICAgZVtvXSA9IGVbT107XG4gICAgICAgICAgICAgICAgICAgIHRbT10gPSBBO1xuICAgICAgICAgICAgICAgICAgICBlW09dID0gbTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFMgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBBID0gdFtvXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG0gPSBlW29dO1xuICAgICAgICAgICAgICAgICAgICAgICAgdFtvXSA9IHRbQ107XG4gICAgICAgICAgICAgICAgICAgICAgICBlW29dID0gZVtDXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRbQ10gPSBBO1xuICAgICAgICAgICAgICAgICAgICAgICAgZVtDXSA9IG07XG4gICAgICAgICAgICAgICAgICAgICAgICBDKys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocyAtIE8gPCBDIC0gcikge1xuICAgICAgICAgICAgICAgIHF1aWNrU29ydCh0LCBlLCBPLCBzLCBpKTtcbiAgICAgICAgICAgICAgICBzID0gQztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcXVpY2tTb3J0KHQsIGUsIHIsIEMsIGkpO1xuICAgICAgICAgICAgICAgIHIgPSBPO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHMgPSBBcnJheS5wcm90b3R5cGU7XG4gICAgY29uc3QgaSA9IFsgXCJwdXNoXCIsIFwidW5zaGlmdFwiLCBcInBvcFwiLCBcInNoaWZ0XCIsIFwic3BsaWNlXCIsIFwicmV2ZXJzZVwiLCBcInNvcnRcIiBdO1xuICAgIGxldCBuO1xuICAgIGZ1bmN0aW9uIG92ZXJyaWRlQXJyYXlQcm90b3R5cGVzKCkge1xuICAgICAgICBjb25zdCB0ID0gcy5wdXNoO1xuICAgICAgICBjb25zdCBvID0gcy51bnNoaWZ0O1xuICAgICAgICBjb25zdCBjID0gcy5wb3A7XG4gICAgICAgIGNvbnN0IHUgPSBzLnNoaWZ0O1xuICAgICAgICBjb25zdCBhID0gcy5zcGxpY2U7XG4gICAgICAgIGNvbnN0IGggPSBzLnJldmVyc2U7XG4gICAgICAgIGNvbnN0IGwgPSBzLnNvcnQ7XG4gICAgICAgIG4gPSB7XG4gICAgICAgICAgICBwdXNoOiBmdW5jdGlvbiguLi5yKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcyA9IGUuZ2V0KHRoaXMpO1xuICAgICAgICAgICAgICAgIGlmIChzID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHQuYXBwbHkodGhpcywgcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGkgPSB0aGlzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBjb25zdCBuID0gci5sZW5ndGg7XG4gICAgICAgICAgICAgICAgaWYgKG4gPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMubGVuZ3RoID0gcy5pbmRleE1hcC5sZW5ndGggPSBpICsgbjtcbiAgICAgICAgICAgICAgICBsZXQgbyA9IGk7XG4gICAgICAgICAgICAgICAgd2hpbGUgKG8gPCB0aGlzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzW29dID0gcltvIC0gaV07XG4gICAgICAgICAgICAgICAgICAgIHMuaW5kZXhNYXBbb10gPSAtMjtcbiAgICAgICAgICAgICAgICAgICAgbysrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzLm5vdGlmeSgpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmxlbmd0aDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB1bnNoaWZ0OiBmdW5jdGlvbiguLi50KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgciA9IGUuZ2V0KHRoaXMpO1xuICAgICAgICAgICAgICAgIGlmIChyID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG8uYXBwbHkodGhpcywgdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHMgPSB0Lmxlbmd0aDtcbiAgICAgICAgICAgICAgICBjb25zdCBpID0gbmV3IEFycmF5KHMpO1xuICAgICAgICAgICAgICAgIGxldCBuID0gMDtcbiAgICAgICAgICAgICAgICB3aGlsZSAobiA8IHMpIHtcbiAgICAgICAgICAgICAgICAgICAgaVtuKytdID0gLTI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG8uYXBwbHkoci5pbmRleE1hcCwgaSk7XG4gICAgICAgICAgICAgICAgY29uc3QgYyA9IG8uYXBwbHkodGhpcywgdCk7XG4gICAgICAgICAgICAgICAgci5ub3RpZnkoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwb3A6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBlLmdldCh0aGlzKTtcbiAgICAgICAgICAgICAgICBpZiAodCA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjLmNhbGwodGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHIgPSB0LmluZGV4TWFwO1xuICAgICAgICAgICAgICAgIGNvbnN0IHMgPSBjLmNhbGwodGhpcyk7XG4gICAgICAgICAgICAgICAgY29uc3QgaSA9IHIubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgICBpZiAocltpXSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHIuZGVsZXRlZEluZGljZXMucHVzaChyW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgci5kZWxldGVkSXRlbXMucHVzaChzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYy5jYWxsKHIpO1xuICAgICAgICAgICAgICAgIHQubm90aWZ5KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHM7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2hpZnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBlLmdldCh0aGlzKTtcbiAgICAgICAgICAgICAgICBpZiAodCA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1LmNhbGwodGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHIgPSB0LmluZGV4TWFwO1xuICAgICAgICAgICAgICAgIGNvbnN0IHMgPSB1LmNhbGwodGhpcyk7XG4gICAgICAgICAgICAgICAgaWYgKHJbMF0gPiAtMSkge1xuICAgICAgICAgICAgICAgICAgICByLmRlbGV0ZWRJbmRpY2VzLnB1c2goclswXSk7XG4gICAgICAgICAgICAgICAgICAgIHIuZGVsZXRlZEl0ZW1zLnB1c2gocyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHUuY2FsbChyKTtcbiAgICAgICAgICAgICAgICB0Lm5vdGlmeSgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNwbGljZTogZnVuY3Rpb24oLi4udCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHIgPSB0WzBdO1xuICAgICAgICAgICAgICAgIGNvbnN0IHMgPSB0WzFdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGkgPSBlLmdldCh0aGlzKTtcbiAgICAgICAgICAgICAgICBpZiAoaSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhLmFwcGx5KHRoaXMsIHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBuID0gdGhpcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgY29uc3QgbyA9IHIgfCAwO1xuICAgICAgICAgICAgICAgIGNvbnN0IGMgPSBvIDwgMCA/IE1hdGgubWF4KG4gKyBvLCAwKSA6IE1hdGgubWluKG8sIG4pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHUgPSBpLmluZGV4TWFwO1xuICAgICAgICAgICAgICAgIGNvbnN0IGggPSB0Lmxlbmd0aDtcbiAgICAgICAgICAgICAgICBjb25zdCBsID0gaCA9PT0gMCA/IDAgOiBoID09PSAxID8gbiAtIGMgOiBzO1xuICAgICAgICAgICAgICAgIGxldCBmID0gYztcbiAgICAgICAgICAgICAgICBpZiAobCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdCA9IGYgKyBsO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoZiA8IHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1W2ZdID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1LmRlbGV0ZWRJbmRpY2VzLnB1c2godVtmXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdS5kZWxldGVkSXRlbXMucHVzaCh0aGlzW2ZdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGYrKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmID0gMDtcbiAgICAgICAgICAgICAgICBpZiAoaCA+IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdCA9IGggLSAyO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlID0gbmV3IEFycmF5KHQpO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoZiA8IHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVbZisrXSA9IC0yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGEuY2FsbCh1LCByLCBzLCAuLi5lKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhLmFwcGx5KHUsIHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBwID0gYS5hcHBseSh0aGlzLCB0KTtcbiAgICAgICAgICAgICAgICBpZiAobCA+IDAgfHwgZiA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaS5ub3RpZnkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHA7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmV2ZXJzZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdCA9IGUuZ2V0KHRoaXMpO1xuICAgICAgICAgICAgICAgIGlmICh0ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICAgICAgaC5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgciA9IHRoaXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGNvbnN0IHMgPSByIC8gMiB8IDA7XG4gICAgICAgICAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICAgICAgICAgIHdoaWxlIChpICE9PSBzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGUgPSByIC0gaSAtIDE7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHMgPSB0aGlzW2ldO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuID0gdC5pbmRleE1hcFtpXTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbyA9IHRoaXNbZV07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGMgPSB0LmluZGV4TWFwW2VdO1xuICAgICAgICAgICAgICAgICAgICB0aGlzW2ldID0gbztcbiAgICAgICAgICAgICAgICAgICAgdC5pbmRleE1hcFtpXSA9IGM7XG4gICAgICAgICAgICAgICAgICAgIHRoaXNbZV0gPSBzO1xuICAgICAgICAgICAgICAgICAgICB0LmluZGV4TWFwW2VdID0gbjtcbiAgICAgICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0Lm5vdGlmeSgpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNvcnQ6IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzID0gZS5nZXQodGhpcyk7XG4gICAgICAgICAgICAgICAgaWYgKHMgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgICAgICBsLmNhbGwodGhpcywgdCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgaSA9IHRoaXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGlmIChpIDwgMikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcXVpY2tTb3J0KHRoaXMsIHMuaW5kZXhNYXAsIDAsIGksIHByZVNvcnRDb21wYXJlKTtcbiAgICAgICAgICAgICAgICBsZXQgbiA9IDA7XG4gICAgICAgICAgICAgICAgd2hpbGUgKG4gPCBpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzW25dID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG4rKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHQgPT09IHZvaWQgMCB8fCAhcih0KSkge1xuICAgICAgICAgICAgICAgICAgICB0ID0gc29ydENvbXBhcmU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHF1aWNrU29ydCh0aGlzLCBzLmluZGV4TWFwLCAwLCBuLCB0KTtcbiAgICAgICAgICAgICAgICBsZXQgbyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGZvciAobiA9IDAsIGkgPSBzLmluZGV4TWFwLmxlbmd0aDsgaSA+IG47ICsrbikge1xuICAgICAgICAgICAgICAgICAgICBpZiAocy5pbmRleE1hcFtuXSAhPT0gbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgbyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobyB8fCB4KSB7XG4gICAgICAgICAgICAgICAgICAgIHMubm90aWZ5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBmb3IgKGNvbnN0IHQgb2YgaSkge1xuICAgICAgICAgICAgYihuW3RdLCBcIm9ic2VydmluZ1wiLCB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IHRydWUsXG4gICAgICAgICAgICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2VcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGxldCBvID0gZmFsc2U7XG4gICAgY29uc3QgYyA9IFwiX19hdV9hcnJfb25fX1wiO1xuICAgIGZ1bmN0aW9uIGVuYWJsZUFycmF5T2JzZXJ2YXRpb24oKSB7XG4gICAgICAgIGlmIChuID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG92ZXJyaWRlQXJyYXlQcm90b3R5cGVzKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEoQyhjLCBBcnJheSkgPz8gZmFsc2UpKSB7XG4gICAgICAgICAgICBPKHRydWUsIEFycmF5LCBjKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgdCBvZiBpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNbdF0ub2JzZXJ2aW5nICE9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJ0RGVmaW5lSGlkZGVuUHJvcChzLCB0LCBuW3RdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2xhc3MgQXJyYXlPYnNlcnZlckltcGwge1xuICAgICAgICBjb25zdHJ1Y3Rvcih0KSB7XG4gICAgICAgICAgICB0aGlzLnR5cGUgPSBTO1xuICAgICAgICAgICAgaWYgKCFvKSB7XG4gICAgICAgICAgICAgICAgbyA9IHRydWU7XG4gICAgICAgICAgICAgICAgZW5hYmxlQXJyYXlPYnNlcnZhdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5pbmRleE9ic2VydmVycyA9IHt9O1xuICAgICAgICAgICAgdGhpcy5jb2xsZWN0aW9uID0gdDtcbiAgICAgICAgICAgIHRoaXMuaW5kZXhNYXAgPSBjcmVhdGVJbmRleE1hcCh0Lmxlbmd0aCk7XG4gICAgICAgICAgICB0aGlzLmxlbk9icyA9IHZvaWQgMDtcbiAgICAgICAgICAgIGUuc2V0KHQsIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIG5vdGlmeSgpIHtcbiAgICAgICAgICAgIGNvbnN0IHQgPSB0aGlzLnN1YnM7XG4gICAgICAgICAgICB0Lm5vdGlmeURpcnR5KCk7XG4gICAgICAgICAgICBjb25zdCBlID0gdGhpcy5pbmRleE1hcDtcbiAgICAgICAgICAgIGlmICh4KSB7XG4gICAgICAgICAgICAgICAgYWRkQ29sbGVjdGlvbkJhdGNoKHQsIHRoaXMuY29sbGVjdGlvbiwgZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgciA9IHRoaXMuY29sbGVjdGlvbjtcbiAgICAgICAgICAgIGNvbnN0IHMgPSByLmxlbmd0aDtcbiAgICAgICAgICAgIHRoaXMuaW5kZXhNYXAgPSBjcmVhdGVJbmRleE1hcChzKTtcbiAgICAgICAgICAgIHQubm90aWZ5Q29sbGVjdGlvbihyLCBlKTtcbiAgICAgICAgfVxuICAgICAgICBnZXRMZW5ndGhPYnNlcnZlcigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxlbk9icyA/Pz0gbmV3IENvbGxlY3Rpb25MZW5ndGhPYnNlcnZlcih0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBnZXRJbmRleE9ic2VydmVyKHQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmluZGV4T2JzZXJ2ZXJzW3RdID8/PSBuZXcgQXJyYXlJbmRleE9ic2VydmVySW1wbCh0aGlzLCB0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAoKCkgPT4ge1xuICAgICAgICBEKEFycmF5T2JzZXJ2ZXJJbXBsLCBudWxsKTtcbiAgICB9KSgpO1xuICAgIGNsYXNzIEFycmF5SW5kZXhPYnNlcnZlckltcGwge1xuICAgICAgICBjb25zdHJ1Y3Rvcih0LCBlKSB7XG4gICAgICAgICAgICB0aGlzLm93bmVyID0gdDtcbiAgICAgICAgICAgIHRoaXMuaW5kZXggPSBlO1xuICAgICAgICAgICAgdGhpcy5kb05vdENhY2hlID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLmdldFZhbHVlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0VmFsdWUoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5vd25lci5jb2xsZWN0aW9uW3RoaXMuaW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIHNldFZhbHVlKHQpIHtcbiAgICAgICAgICAgIGlmICh0ID09PSB0aGlzLmdldFZhbHVlKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBlID0gdGhpcy5vd25lcjtcbiAgICAgICAgICAgIGNvbnN0IHIgPSB0aGlzLmluZGV4O1xuICAgICAgICAgICAgY29uc3QgcyA9IGUuaW5kZXhNYXA7XG4gICAgICAgICAgICBpZiAoc1tyXSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgcy5kZWxldGVkSW5kaWNlcy5wdXNoKHNbcl0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc1tyXSA9IC0yO1xuICAgICAgICAgICAgZS5jb2xsZWN0aW9uW3JdID0gdDtcbiAgICAgICAgICAgIGUubm90aWZ5KCk7XG4gICAgICAgIH1cbiAgICAgICAgaGFuZGxlRGlydHkoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy52YWx1ZSAhPT0gdGhpcy5nZXRWYWx1ZSgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdWJzLm5vdGlmeURpcnR5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaGFuZGxlQ29sbGVjdGlvbkNoYW5nZSh0LCBlKSB7XG4gICAgICAgICAgICBjb25zdCByID0gdGhpcy5pbmRleDtcbiAgICAgICAgICAgIGNvbnN0IHMgPSBlW3JdID09PSByO1xuICAgICAgICAgICAgaWYgKHMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBpID0gdGhpcy52YWx1ZTtcbiAgICAgICAgICAgIGNvbnN0IG4gPSB0aGlzLnZhbHVlID0gdGhpcy5nZXRWYWx1ZSgpO1xuICAgICAgICAgICAgaWYgKGkgIT09IG4pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN1YnMubm90aWZ5KG4sIGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHN1YnNjcmliZSh0KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zdWJzLmFkZCh0KSAmJiB0aGlzLnN1YnMuY291bnQgPT09IDEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm93bmVyLnN1YnNjcmliZSh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB1bnN1YnNjcmliZSh0KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zdWJzLnJlbW92ZSh0KSAmJiB0aGlzLnN1YnMuY291bnQgPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLm93bmVyLnVuc3Vic2NyaWJlKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgICgoKSA9PiB7XG4gICAgICAgIEQoQXJyYXlJbmRleE9ic2VydmVySW1wbCwgbnVsbCk7XG4gICAgfSkoKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gZ2V0QXJyYXlPYnNlcnZlcih0KSB7XG4gICAgICAgIGxldCByID0gZS5nZXQodCk7XG4gICAgICAgIGlmIChyID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGUuc2V0KHQsIHIgPSBuZXcgQXJyYXlPYnNlcnZlckltcGwodCkpO1xuICAgICAgICAgICAgZW5hYmxlQXJyYXlPYnNlcnZhdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByO1xuICAgIH07XG59KSgpO1xuXG5jb25zdCBNID0gLypAX19QVVJFX18qLyAoKCkgPT4ge1xuICAgIGNvbnN0IHQgPSBTeW1ib2wuZm9yKFwiX19hdV9zZXRfb2JzX19cIik7XG4gICAgY29uc3QgZSA9IFNldFt0XSA/PyBydERlZmluZUhpZGRlblByb3AoU2V0LCB0LCBuZXcgV2Vha01hcCk7XG4gICAgY29uc3Qge2FkZDogciwgY2xlYXI6IHMsIGRlbGV0ZTogaX0gPSBTZXQucHJvdG90eXBlO1xuICAgIGNvbnN0IG4gPSBbIFwiYWRkXCIsIFwiY2xlYXJcIiwgXCJkZWxldGVcIiBdO1xuICAgIGNvbnN0IG8gPSB7XG4gICAgICAgIGFkZDogZnVuY3Rpb24odCkge1xuICAgICAgICAgICAgY29uc3QgcyA9IGUuZ2V0KHRoaXMpO1xuICAgICAgICAgICAgaWYgKHMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHIuY2FsbCh0aGlzLCB0KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGkgPSB0aGlzLnNpemU7XG4gICAgICAgICAgICByLmNhbGwodGhpcywgdCk7XG4gICAgICAgICAgICBjb25zdCBuID0gdGhpcy5zaXplO1xuICAgICAgICAgICAgaWYgKG4gPT09IGkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHMuaW5kZXhNYXBbaV0gPSAtMjtcbiAgICAgICAgICAgIHMubm90aWZ5KCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcbiAgICAgICAgY2xlYXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgY29uc3QgdCA9IGUuZ2V0KHRoaXMpO1xuICAgICAgICAgICAgaWYgKHQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzLmNhbGwodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCByID0gdGhpcy5zaXplO1xuICAgICAgICAgICAgaWYgKHIgPiAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZSA9IHQuaW5kZXhNYXA7XG4gICAgICAgICAgICAgICAgbGV0IHIgPSAwO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdCBvZiB0aGlzLmtleXMoKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZVtyXSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLmRlbGV0ZWRJbmRpY2VzLnB1c2goZVtyXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLmRlbGV0ZWRJdGVtcy5wdXNoKHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHIrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcy5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgICAgIGUubGVuZ3RoID0gMDtcbiAgICAgICAgICAgICAgICB0Lm5vdGlmeSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfSxcbiAgICAgICAgZGVsZXRlOiBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgICBjb25zdCByID0gZS5nZXQodGhpcyk7XG4gICAgICAgICAgICBpZiAociA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGkuY2FsbCh0aGlzLCB0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHMgPSB0aGlzLnNpemU7XG4gICAgICAgICAgICBpZiAocyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBuID0gMDtcbiAgICAgICAgICAgIGNvbnN0IG8gPSByLmluZGV4TWFwO1xuICAgICAgICAgICAgZm9yIChjb25zdCBlIG9mIHRoaXMua2V5cygpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGUgPT09IHQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9bbl0gPiAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgby5kZWxldGVkSW5kaWNlcy5wdXNoKG9bbl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgby5kZWxldGVkSXRlbXMucHVzaChlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBvLnNwbGljZShuLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcyA9IGkuY2FsbCh0aGlzLCB0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHMgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHIubm90aWZ5KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG4rKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgZnVuY3Rpb24gZW5hYmxlU2V0T2JzZXJ2YXRpb24odCkge1xuICAgICAgICBmb3IgKGNvbnN0IGUgb2Ygbikge1xuICAgICAgICAgICAgcnREZWZpbmVIaWRkZW5Qcm9wKHQsIGUsIG9bZV0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNsYXNzIFNldE9ic2VydmVySW1wbCB7XG4gICAgICAgIGNvbnN0cnVjdG9yKHQpIHtcbiAgICAgICAgICAgIHRoaXMudHlwZSA9IFM7XG4gICAgICAgICAgICB0aGlzLmNvbGxlY3Rpb24gPSB0O1xuICAgICAgICAgICAgdGhpcy5pbmRleE1hcCA9IGNyZWF0ZUluZGV4TWFwKHQuc2l6ZSk7XG4gICAgICAgICAgICB0aGlzLmxlbk9icyA9IHZvaWQgMDtcbiAgICAgICAgfVxuICAgICAgICBub3RpZnkoKSB7XG4gICAgICAgICAgICBjb25zdCB0ID0gdGhpcy5zdWJzO1xuICAgICAgICAgICAgdC5ub3RpZnlEaXJ0eSgpO1xuICAgICAgICAgICAgY29uc3QgZSA9IHRoaXMuaW5kZXhNYXA7XG4gICAgICAgICAgICBpZiAoeCkge1xuICAgICAgICAgICAgICAgIGFkZENvbGxlY3Rpb25CYXRjaCh0LCB0aGlzLmNvbGxlY3Rpb24sIGUpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHIgPSB0aGlzLmNvbGxlY3Rpb247XG4gICAgICAgICAgICBjb25zdCBzID0gci5zaXplO1xuICAgICAgICAgICAgdGhpcy5pbmRleE1hcCA9IGNyZWF0ZUluZGV4TWFwKHMpO1xuICAgICAgICAgICAgdC5ub3RpZnlDb2xsZWN0aW9uKHIsIGUpO1xuICAgICAgICB9XG4gICAgICAgIGdldExlbmd0aE9ic2VydmVyKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGVuT2JzID8/PSBuZXcgQ29sbGVjdGlvblNpemVPYnNlcnZlcih0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBEKFNldE9ic2VydmVySW1wbCwgbnVsbCk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGdldFNldE9ic2VydmVyKHQpIHtcbiAgICAgICAgbGV0IHIgPSBlLmdldCh0KTtcbiAgICAgICAgaWYgKHIgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgZS5zZXQodCwgciA9IG5ldyBTZXRPYnNlcnZlckltcGwodCkpO1xuICAgICAgICAgICAgZW5hYmxlU2V0T2JzZXJ2YXRpb24odCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHI7XG4gICAgfTtcbn0pKCk7XG5cbmNvbnN0IEwgPSAvKkBfX1BVUkVfXyovICgoKSA9PiB7XG4gICAgY29uc3QgdCA9IFN5bWJvbC5mb3IoXCJfX2F1X21hcF9vYnNfX1wiKTtcbiAgICBjb25zdCBlID0gTWFwW3RdID8/IHJ0RGVmaW5lSGlkZGVuUHJvcChNYXAsIHQsIG5ldyBXZWFrTWFwKTtcbiAgICBjb25zdCB7c2V0OiByLCBjbGVhcjogcywgZGVsZXRlOiBpfSA9IE1hcC5wcm90b3R5cGU7XG4gICAgY29uc3QgbiA9IFsgXCJzZXRcIiwgXCJjbGVhclwiLCBcImRlbGV0ZVwiIF07XG4gICAgY29uc3QgbyA9IHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbih0LCBzKSB7XG4gICAgICAgICAgICBjb25zdCBpID0gZS5nZXQodGhpcyk7XG4gICAgICAgICAgICBpZiAoaSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgci5jYWxsKHRoaXMsIHQsIHMpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbiA9IHRoaXMuZ2V0KHQpO1xuICAgICAgICAgICAgY29uc3QgbyA9IHRoaXMuc2l6ZTtcbiAgICAgICAgICAgIHIuY2FsbCh0aGlzLCB0LCBzKTtcbiAgICAgICAgICAgIGNvbnN0IGMgPSB0aGlzLnNpemU7XG4gICAgICAgICAgICBpZiAoYyA9PT0gbykge1xuICAgICAgICAgICAgICAgIGxldCBlID0gMDtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHIgb2YgdGhpcy5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJbMF0gPT09IHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyWzFdICE9PSBuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaS5pbmRleE1hcC5kZWxldGVkSW5kaWNlcy5wdXNoKGkuaW5kZXhNYXBbZV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkuaW5kZXhNYXAuZGVsZXRlZEl0ZW1zLnB1c2gocik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaS5pbmRleE1hcFtlXSA9IC0yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkubm90aWZ5KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaS5pbmRleE1hcFtvXSA9IC0yO1xuICAgICAgICAgICAgaS5ub3RpZnkoKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuICAgICAgICBjbGVhcjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBjb25zdCB0ID0gZS5nZXQodGhpcyk7XG4gICAgICAgICAgICBpZiAodCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHMuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHIgPSB0aGlzLnNpemU7XG4gICAgICAgICAgICBpZiAociA+IDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlID0gdC5pbmRleE1hcDtcbiAgICAgICAgICAgICAgICBsZXQgciA9IDA7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCB0IG9mIHRoaXMua2V5cygpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlW3JdID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUuZGVsZXRlZEluZGljZXMucHVzaChlW3JdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUuZGVsZXRlZEl0ZW1zLnB1c2godCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcisrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzLmNhbGwodGhpcyk7XG4gICAgICAgICAgICAgICAgZS5sZW5ndGggPSAwO1xuICAgICAgICAgICAgICAgIHQubm90aWZ5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9LFxuICAgICAgICBkZWxldGU6IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICAgIGNvbnN0IHIgPSBlLmdldCh0aGlzKTtcbiAgICAgICAgICAgIGlmIChyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaS5jYWxsKHRoaXMsIHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcyA9IHRoaXMuc2l6ZTtcbiAgICAgICAgICAgIGlmIChzID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IG4gPSAwO1xuICAgICAgICAgICAgY29uc3QgbyA9IHIuaW5kZXhNYXA7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGUgb2YgdGhpcy5rZXlzKCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoZSA9PT0gdCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAob1tuXSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvLmRlbGV0ZWRJbmRpY2VzLnB1c2gob1tuXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBvLmRlbGV0ZWRJdGVtcy5wdXNoKGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG8uc3BsaWNlKG4sIDEpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzID0gaS5jYWxsKHRoaXMsIHQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgci5ub3RpZnkoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKytuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBmdW5jdGlvbiBlbmFibGVNYXBPYnNlcnZhdGlvbih0KSB7XG4gICAgICAgIGZvciAoY29uc3QgZSBvZiBuKSB7XG4gICAgICAgICAgICBydERlZmluZUhpZGRlblByb3AodCwgZSwgb1tlXSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2xhc3MgTWFwT2JzZXJ2ZXJJbXBsIHtcbiAgICAgICAgY29uc3RydWN0b3IodCkge1xuICAgICAgICAgICAgdGhpcy50eXBlID0gUztcbiAgICAgICAgICAgIHRoaXMuY29sbGVjdGlvbiA9IHQ7XG4gICAgICAgICAgICB0aGlzLmluZGV4TWFwID0gY3JlYXRlSW5kZXhNYXAodC5zaXplKTtcbiAgICAgICAgICAgIHRoaXMubGVuT2JzID0gdm9pZCAwO1xuICAgICAgICB9XG4gICAgICAgIG5vdGlmeSgpIHtcbiAgICAgICAgICAgIGNvbnN0IHQgPSB0aGlzLnN1YnM7XG4gICAgICAgICAgICB0Lm5vdGlmeURpcnR5KCk7XG4gICAgICAgICAgICBjb25zdCBlID0gdGhpcy5pbmRleE1hcDtcbiAgICAgICAgICAgIGlmICh4KSB7XG4gICAgICAgICAgICAgICAgYWRkQ29sbGVjdGlvbkJhdGNoKHQsIHRoaXMuY29sbGVjdGlvbiwgZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgciA9IHRoaXMuY29sbGVjdGlvbjtcbiAgICAgICAgICAgIGNvbnN0IHMgPSByLnNpemU7XG4gICAgICAgICAgICB0aGlzLmluZGV4TWFwID0gY3JlYXRlSW5kZXhNYXAocyk7XG4gICAgICAgICAgICB0Lm5vdGlmeUNvbGxlY3Rpb24ociwgZSk7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0TGVuZ3RoT2JzZXJ2ZXIoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sZW5PYnMgPz89IG5ldyBDb2xsZWN0aW9uU2l6ZU9ic2VydmVyKHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIEQoTWFwT2JzZXJ2ZXJJbXBsLCBudWxsKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gZ2V0TWFwT2JzZXJ2ZXIodCkge1xuICAgICAgICBsZXQgciA9IGUuZ2V0KHQpO1xuICAgICAgICBpZiAociA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBlLnNldCh0LCByID0gbmV3IE1hcE9ic2VydmVySW1wbCh0KSk7XG4gICAgICAgICAgICBlbmFibGVNYXBPYnNlcnZhdGlvbih0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcjtcbiAgICB9O1xufSkoKTtcblxuY29uc3QgViA9IC8qQF9fUFVSRV9fKi8gKCgpID0+IHtcbiAgICBjbGFzcyBCaW5kaW5nT2JzZXJ2ZXJSZWNvcmQge1xuICAgICAgICBjb25zdHJ1Y3Rvcih0KSB7XG4gICAgICAgICAgICB0aGlzLnZlcnNpb24gPSAwO1xuICAgICAgICAgICAgdGhpcy5jb3VudCA9IDA7XG4gICAgICAgICAgICB0aGlzLm8gPSBuZXcgTWFwO1xuICAgICAgICAgICAgdGhpcy5iID0gdDtcbiAgICAgICAgfVxuICAgICAgICBhZGQodCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLm8uaGFzKHQpKSB7XG4gICAgICAgICAgICAgICAgdC5zdWJzY3JpYmUodGhpcy5iKTtcbiAgICAgICAgICAgICAgICArK3RoaXMuY291bnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm8uc2V0KHQsIHRoaXMudmVyc2lvbik7XG4gICAgICAgIH1cbiAgICAgICAgY2xlYXIoKSB7XG4gICAgICAgICAgICB0aGlzLm8uZm9yRWFjaCh1bnN1YnNjcmliZVN0YWxlLCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuY291bnQgPSB0aGlzLm8uc2l6ZTtcbiAgICAgICAgfVxuICAgICAgICBjbGVhckFsbCgpIHtcbiAgICAgICAgICAgIHRoaXMuby5mb3JFYWNoKHVuc3Vic2NyaWJlQWxsLCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuby5jbGVhcigpO1xuICAgICAgICAgICAgdGhpcy5jb3VudCA9IDA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gdW5zdWJzY3JpYmVBbGwodCwgZSkge1xuICAgICAgICBlLnVuc3Vic2NyaWJlKHRoaXMuYik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVuc3Vic2NyaWJlU3RhbGUodCwgZSkge1xuICAgICAgICBpZiAodGhpcy52ZXJzaW9uICE9PSB0KSB7XG4gICAgICAgICAgICBlLnVuc3Vic2NyaWJlKHRoaXMuYik7XG4gICAgICAgICAgICB0aGlzLm8uZGVsZXRlKGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldE9ic2VydmVyUmVjb3JkKCkge1xuICAgICAgICByZXR1cm4gcnREZWZpbmVIaWRkZW5Qcm9wKHRoaXMsIFwib2JzXCIsIG5ldyBCaW5kaW5nT2JzZXJ2ZXJSZWNvcmQodGhpcykpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBvYnNlcnZlKHQsIGUpIHtcbiAgICAgICAgdGhpcy5vYnMuYWRkKHRoaXMub0wuZ2V0T2JzZXJ2ZXIodCwgZSkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBvYnNlcnZlQ29sbGVjdGlvbih0KSB7XG4gICAgICAgIGxldCByO1xuICAgICAgICBpZiAoZSh0KSkge1xuICAgICAgICAgICAgciA9IGsodCk7XG4gICAgICAgIH0gZWxzZSBpZiAocyh0KSkge1xuICAgICAgICAgICAgciA9IE0odCk7XG4gICAgICAgIH0gZWxzZSBpZiAoaSh0KSkge1xuICAgICAgICAgICAgciA9IEwodCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVNYXBwZWRFcnJvcigyMTAsIHQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub2JzLmFkZChyKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc3Vic2NyaWJlVG8odCkge1xuICAgICAgICB0aGlzLm9icy5hZGQodCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG5vb3BIYW5kbGVDaGFuZ2UoKSB7XG4gICAgICAgIHRocm93IGNyZWF0ZU1hcHBlZEVycm9yKDk5LCBcImhhbmRsZUNoYW5nZVwiKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbm9vcEhhbmRsZUNvbGxlY3Rpb25DaGFuZ2UoKSB7XG4gICAgICAgIHRocm93IGNyZWF0ZU1hcHBlZEVycm9yKDk5LCBcImhhbmRsZUNvbGxlY3Rpb25DaGFuZ2VcIik7XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiBjb25uZWN0YWJsZURlY29yYXRvcih0LCBlKSB7XG4gICAgICAgIGNvbnN0IHIgPSB0LnByb3RvdHlwZTtcbiAgICAgICAgZW5zdXJlUHJvdG8ociwgXCJvYnNlcnZlXCIsIG9ic2VydmUpO1xuICAgICAgICBlbnN1cmVQcm90byhyLCBcIm9ic2VydmVDb2xsZWN0aW9uXCIsIG9ic2VydmVDb2xsZWN0aW9uKTtcbiAgICAgICAgZW5zdXJlUHJvdG8ociwgXCJzdWJzY3JpYmVUb1wiLCBzdWJzY3JpYmVUbyk7XG4gICAgICAgIGIociwgXCJvYnNcIiwge1xuICAgICAgICAgICAgZ2V0OiBnZXRPYnNlcnZlclJlY29yZFxuICAgICAgICB9KTtcbiAgICAgICAgZW5zdXJlUHJvdG8ociwgXCJoYW5kbGVDaGFuZ2VcIiwgbm9vcEhhbmRsZUNoYW5nZSk7XG4gICAgICAgIGVuc3VyZVByb3RvKHIsIFwiaGFuZGxlQ29sbGVjdGlvbkNoYW5nZVwiLCBub29wSGFuZGxlQ29sbGVjdGlvbkNoYW5nZSk7XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG59KSgpO1xuXG5mdW5jdGlvbiBjb25uZWN0YWJsZSh0LCBlKSB7XG4gICAgcmV0dXJuIHQgPT0gbnVsbCA/IFYgOiBWKHQsIGUpO1xufVxuXG5sZXQgTiA9IG51bGw7XG5cbmNvbnN0IEggPSBbXTtcblxubGV0IEUgPSBmYWxzZTtcblxuZnVuY3Rpb24gcGF1c2VDb25uZWN0aW5nKCkge1xuICAgIEUgPSBmYWxzZTtcbn1cblxuZnVuY3Rpb24gcmVzdW1lQ29ubmVjdGluZygpIHtcbiAgICBFID0gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gY3VycmVudENvbm5lY3RhYmxlKCkge1xuICAgIHJldHVybiBOO1xufVxuXG5mdW5jdGlvbiBlbnRlckNvbm5lY3RhYmxlKHQpIHtcbiAgICBpZiAodCA9PSBudWxsKSB7XG4gICAgICAgIHRocm93IGNyZWF0ZU1hcHBlZEVycm9yKDIwNik7XG4gICAgfVxuICAgIGlmIChOID09IG51bGwpIHtcbiAgICAgICAgTiA9IHQ7XG4gICAgICAgIEhbMF0gPSBOO1xuICAgICAgICBFID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoTiA9PT0gdCkge1xuICAgICAgICB0aHJvdyBjcmVhdGVNYXBwZWRFcnJvcigyMDcpO1xuICAgIH1cbiAgICBILnB1c2godCk7XG4gICAgTiA9IHQ7XG4gICAgRSA9IHRydWU7XG59XG5cbmZ1bmN0aW9uIGV4aXRDb25uZWN0YWJsZSh0KSB7XG4gICAgaWYgKHQgPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBjcmVhdGVNYXBwZWRFcnJvcigyMDgpO1xuICAgIH1cbiAgICBpZiAoTiAhPT0gdCkge1xuICAgICAgICB0aHJvdyBjcmVhdGVNYXBwZWRFcnJvcigyMDkpO1xuICAgIH1cbiAgICBILnBvcCgpO1xuICAgIE4gPSBILmxlbmd0aCA+IDAgPyBIW0gubGVuZ3RoIC0gMV0gOiBudWxsO1xuICAgIEUgPSBOICE9IG51bGw7XG59XG5cbmNvbnN0IEYgPSAvKkBfX1BVUkVfXyovIHYoe1xuICAgIGdldCBjdXJyZW50KCkge1xuICAgICAgICByZXR1cm4gTjtcbiAgICB9LFxuICAgIGdldCBjb25uZWN0aW5nKCkge1xuICAgICAgICByZXR1cm4gRTtcbiAgICB9LFxuICAgIGVudGVyOiBlbnRlckNvbm5lY3RhYmxlLFxuICAgIGV4aXQ6IGV4aXRDb25uZWN0YWJsZSxcbiAgICBwYXVzZTogcGF1c2VDb25uZWN0aW5nLFxuICAgIHJlc3VtZTogcmVzdW1lQ29ubmVjdGluZ1xufSk7XG5cbmNvbnN0IGogPSBSZWZsZWN0LmdldDtcblxuY29uc3QgeiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5cbmNvbnN0ICQgPSBuZXcgV2Vha01hcDtcblxuY29uc3QgQiA9IFwiX19hdV9ud19fXCI7XG5cbmNvbnN0IFcgPSBcIl9fYXVfbndcIjtcblxuZnVuY3Rpb24gY2FuV3JhcCh0KSB7XG4gICAgc3dpdGNoICh6LmNhbGwodCkpIHtcbiAgICAgIGNhc2UgXCJbb2JqZWN0IE9iamVjdF1cIjpcbiAgICAgICAgcmV0dXJuIHQuY29uc3RydWN0b3JbQl0gIT09IHRydWU7XG5cbiAgICAgIGNhc2UgXCJbb2JqZWN0IEFycmF5XVwiOlxuICAgICAgY2FzZSBcIltvYmplY3QgTWFwXVwiOlxuICAgICAgY2FzZSBcIltvYmplY3QgU2V0XVwiOlxuICAgICAgICByZXR1cm4gdHJ1ZTtcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cblxuY29uc3QgcSA9IFwiX19yYXdfX1wiO1xuXG5mdW5jdGlvbiB3cmFwKHQpIHtcbiAgICByZXR1cm4gY2FuV3JhcCh0KSA/IGdldFByb3h5KHQpIDogdDtcbn1cblxuZnVuY3Rpb24gZ2V0UHJveHkodCkge1xuICAgIHJldHVybiAkLmdldCh0KSA/PyBjcmVhdGVQcm94eSh0KTtcbn1cblxuZnVuY3Rpb24gZ2V0UmF3KHQpIHtcbiAgICByZXR1cm4gdFtxXSA/PyB0O1xufVxuXG5mdW5jdGlvbiB1bndyYXAodCkge1xuICAgIHJldHVybiBjYW5XcmFwKHQpICYmIHRbcV0gfHwgdDtcbn1cblxuZnVuY3Rpb24gZG9Ob3RDb2xsZWN0KHQsIGUpIHtcbiAgICByZXR1cm4gZSA9PT0gXCJjb25zdHJ1Y3RvclwiIHx8IGUgPT09IFwiX19wcm90b19fXCIgfHwgZSA9PT0gXCIkb2JzZXJ2ZXJzXCIgfHwgZSA9PT0gU3ltYm9sLnRvUHJpbWl0aXZlIHx8IGUgPT09IFN5bWJvbC50b1N0cmluZ1RhZyB8fCB0LmNvbnN0cnVjdG9yW2Ake1d9XyR7ZyhlKX1fX2BdID09PSB0cnVlO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVQcm94eSh0KSB7XG4gICAgY29uc3QgciA9IGUodCkgPyBUIDogaSh0KSB8fCBzKHQpID8gVSA6IEs7XG4gICAgY29uc3QgbiA9IG5ldyBQcm94eSh0LCByKTtcbiAgICAkLnNldCh0LCBuKTtcbiAgICAkLnNldChuLCBuKTtcbiAgICByZXR1cm4gbjtcbn1cblxuY29uc3QgSyA9IHtcbiAgICBnZXQodCwgZSwgcikge1xuICAgICAgICBpZiAoZSA9PT0gcSkge1xuICAgICAgICAgICAgcmV0dXJuIHQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcyA9IGN1cnJlbnRDb25uZWN0YWJsZSgpO1xuICAgICAgICBpZiAoIUUgfHwgZG9Ob3RDb2xsZWN0KHQsIGUpIHx8IHMgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGoodCwgZSwgcik7XG4gICAgICAgIH1cbiAgICAgICAgcy5vYnNlcnZlKHQsIGUpO1xuICAgICAgICByZXR1cm4gd3JhcChqKHQsIGUsIHIpKTtcbiAgICB9XG59O1xuXG5jb25zdCBUID0ge1xuICAgIGdldCh0LCBlLCByKSB7XG4gICAgICAgIGlmIChlID09PSBxKSB7XG4gICAgICAgICAgICByZXR1cm4gdDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIUUgfHwgZG9Ob3RDb2xsZWN0KHQsIGUpIHx8IE4gPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGoodCwgZSwgcik7XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoIChlKSB7XG4gICAgICAgICAgY2FzZSBcImxlbmd0aFwiOlxuICAgICAgICAgICAgTi5vYnNlcnZlKHQsIFwibGVuZ3RoXCIpO1xuICAgICAgICAgICAgcmV0dXJuIHQubGVuZ3RoO1xuXG4gICAgICAgICAgY2FzZSBcIm1hcFwiOlxuICAgICAgICAgICAgcmV0dXJuIHdyYXBwZWRBcnJheU1hcDtcblxuICAgICAgICAgIGNhc2UgXCJpbmNsdWRlc1wiOlxuICAgICAgICAgICAgcmV0dXJuIHdyYXBwZWRBcnJheUluY2x1ZGVzO1xuXG4gICAgICAgICAgY2FzZSBcImluZGV4T2ZcIjpcbiAgICAgICAgICAgIHJldHVybiB3cmFwcGVkQXJyYXlJbmRleE9mO1xuXG4gICAgICAgICAgY2FzZSBcImxhc3RJbmRleE9mXCI6XG4gICAgICAgICAgICByZXR1cm4gd3JhcHBlZEFycmF5TGFzdEluZGV4T2Y7XG5cbiAgICAgICAgICBjYXNlIFwiZXZlcnlcIjpcbiAgICAgICAgICAgIHJldHVybiB3cmFwcGVkQXJyYXlFdmVyeTtcblxuICAgICAgICAgIGNhc2UgXCJmaWx0ZXJcIjpcbiAgICAgICAgICAgIHJldHVybiB3cmFwcGVkQXJyYXlGaWx0ZXI7XG5cbiAgICAgICAgICBjYXNlIFwiZmluZFwiOlxuICAgICAgICAgICAgcmV0dXJuIHdyYXBwZWRBcnJheUZpbmQ7XG5cbiAgICAgICAgICBjYXNlIFwiZmluZEluZGV4XCI6XG4gICAgICAgICAgICByZXR1cm4gd3JhcHBlZEFycmF5RmluZEluZGV4O1xuXG4gICAgICAgICAgY2FzZSBcImZsYXRcIjpcbiAgICAgICAgICAgIHJldHVybiB3cmFwcGVkQXJyYXlGbGF0O1xuXG4gICAgICAgICAgY2FzZSBcImZsYXRNYXBcIjpcbiAgICAgICAgICAgIHJldHVybiB3cmFwcGVkQXJyYXlGbGF0TWFwO1xuXG4gICAgICAgICAgY2FzZSBcImpvaW5cIjpcbiAgICAgICAgICAgIHJldHVybiB3cmFwcGVkQXJyYXlKb2luO1xuXG4gICAgICAgICAgY2FzZSBcInB1c2hcIjpcbiAgICAgICAgICAgIHJldHVybiB3cmFwcGVkQXJyYXlQdXNoO1xuXG4gICAgICAgICAgY2FzZSBcInBvcFwiOlxuICAgICAgICAgICAgcmV0dXJuIHdyYXBwZWRBcnJheVBvcDtcblxuICAgICAgICAgIGNhc2UgXCJyZWR1Y2VcIjpcbiAgICAgICAgICAgIHJldHVybiB3cmFwcGVkUmVkdWNlO1xuXG4gICAgICAgICAgY2FzZSBcInJlZHVjZVJpZ2h0XCI6XG4gICAgICAgICAgICByZXR1cm4gd3JhcHBlZFJlZHVjZVJpZ2h0O1xuXG4gICAgICAgICAgY2FzZSBcInJldmVyc2VcIjpcbiAgICAgICAgICAgIHJldHVybiB3cmFwcGVkQXJyYXlSZXZlcnNlO1xuXG4gICAgICAgICAgY2FzZSBcInNoaWZ0XCI6XG4gICAgICAgICAgICByZXR1cm4gd3JhcHBlZEFycmF5U2hpZnQ7XG5cbiAgICAgICAgICBjYXNlIFwidW5zaGlmdFwiOlxuICAgICAgICAgICAgcmV0dXJuIHdyYXBwZWRBcnJheVVuc2hpZnQ7XG5cbiAgICAgICAgICBjYXNlIFwic2xpY2VcIjpcbiAgICAgICAgICAgIHJldHVybiB3cmFwcGVkQXJyYXlTbGljZTtcblxuICAgICAgICAgIGNhc2UgXCJzcGxpY2VcIjpcbiAgICAgICAgICAgIHJldHVybiB3cmFwcGVkQXJyYXlTcGxpY2U7XG5cbiAgICAgICAgICBjYXNlIFwic29tZVwiOlxuICAgICAgICAgICAgcmV0dXJuIHdyYXBwZWRBcnJheVNvbWU7XG5cbiAgICAgICAgICBjYXNlIFwic29ydFwiOlxuICAgICAgICAgICAgcmV0dXJuIHdyYXBwZWRBcnJheVNvcnQ7XG5cbiAgICAgICAgICBjYXNlIFwia2V5c1wiOlxuICAgICAgICAgICAgcmV0dXJuIHdyYXBwZWRLZXlzO1xuXG4gICAgICAgICAgY2FzZSBcInZhbHVlc1wiOlxuICAgICAgICAgIGNhc2UgU3ltYm9sLml0ZXJhdG9yOlxuICAgICAgICAgICAgcmV0dXJuIHdyYXBwZWRWYWx1ZXM7XG5cbiAgICAgICAgICBjYXNlIFwiZW50cmllc1wiOlxuICAgICAgICAgICAgcmV0dXJuIHdyYXBwZWRFbnRyaWVzO1xuICAgICAgICB9XG4gICAgICAgIE4ub2JzZXJ2ZSh0LCBlKTtcbiAgICAgICAgcmV0dXJuIHdyYXAoaih0LCBlLCByKSk7XG4gICAgfSxcbiAgICBvd25LZXlzKHQpIHtcbiAgICAgICAgY3VycmVudENvbm5lY3RhYmxlKCk/Lm9ic2VydmUodCwgXCJsZW5ndGhcIik7XG4gICAgICAgIHJldHVybiBSZWZsZWN0Lm93bktleXModCk7XG4gICAgfVxufTtcblxuZnVuY3Rpb24gd3JhcHBlZEFycmF5TWFwKHQsIGUpIHtcbiAgICBjb25zdCByID0gZ2V0UmF3KHRoaXMpO1xuICAgIGNvbnN0IHMgPSByLm1hcCgoKHIsIHMpID0+IHVud3JhcCh0LmNhbGwoZSwgd3JhcChyKSwgcywgdGhpcykpKSk7XG4gICAgb2JzZXJ2ZUNvbGxlY3Rpb24oTiwgcik7XG4gICAgcmV0dXJuIHdyYXAocyk7XG59XG5cbmZ1bmN0aW9uIHdyYXBwZWRBcnJheUV2ZXJ5KHQsIGUpIHtcbiAgICBjb25zdCByID0gZ2V0UmF3KHRoaXMpO1xuICAgIGNvbnN0IHMgPSByLmV2ZXJ5KCgociwgcykgPT4gdC5jYWxsKGUsIHdyYXAociksIHMsIHRoaXMpKSk7XG4gICAgb2JzZXJ2ZUNvbGxlY3Rpb24oTiwgcik7XG4gICAgcmV0dXJuIHM7XG59XG5cbmZ1bmN0aW9uIHdyYXBwZWRBcnJheUZpbHRlcih0LCBlKSB7XG4gICAgY29uc3QgciA9IGdldFJhdyh0aGlzKTtcbiAgICBjb25zdCBzID0gci5maWx0ZXIoKChyLCBzKSA9PiB1bndyYXAodC5jYWxsKGUsIHdyYXAociksIHMsIHRoaXMpKSkpO1xuICAgIG9ic2VydmVDb2xsZWN0aW9uKE4sIHIpO1xuICAgIHJldHVybiB3cmFwKHMpO1xufVxuXG5mdW5jdGlvbiB3cmFwcGVkQXJyYXlJbmNsdWRlcyh0KSB7XG4gICAgY29uc3QgZSA9IGdldFJhdyh0aGlzKTtcbiAgICBjb25zdCByID0gZS5pbmNsdWRlcyh1bndyYXAodCkpO1xuICAgIG9ic2VydmVDb2xsZWN0aW9uKE4sIGUpO1xuICAgIHJldHVybiByO1xufVxuXG5mdW5jdGlvbiB3cmFwcGVkQXJyYXlJbmRleE9mKHQpIHtcbiAgICBjb25zdCBlID0gZ2V0UmF3KHRoaXMpO1xuICAgIGNvbnN0IHIgPSBlLmluZGV4T2YodW53cmFwKHQpKTtcbiAgICBvYnNlcnZlQ29sbGVjdGlvbihOLCBlKTtcbiAgICByZXR1cm4gcjtcbn1cblxuZnVuY3Rpb24gd3JhcHBlZEFycmF5TGFzdEluZGV4T2YodCkge1xuICAgIGNvbnN0IGUgPSBnZXRSYXcodGhpcyk7XG4gICAgY29uc3QgciA9IGUubGFzdEluZGV4T2YodW53cmFwKHQpKTtcbiAgICBvYnNlcnZlQ29sbGVjdGlvbihOLCBlKTtcbiAgICByZXR1cm4gcjtcbn1cblxuZnVuY3Rpb24gd3JhcHBlZEFycmF5RmluZEluZGV4KHQsIGUpIHtcbiAgICBjb25zdCByID0gZ2V0UmF3KHRoaXMpO1xuICAgIGNvbnN0IHMgPSByLmZpbmRJbmRleCgoKHIsIHMpID0+IHVud3JhcCh0LmNhbGwoZSwgd3JhcChyKSwgcywgdGhpcykpKSk7XG4gICAgb2JzZXJ2ZUNvbGxlY3Rpb24oTiwgcik7XG4gICAgcmV0dXJuIHM7XG59XG5cbmZ1bmN0aW9uIHdyYXBwZWRBcnJheUZpbmQodCwgZSkge1xuICAgIGNvbnN0IHIgPSBnZXRSYXcodGhpcyk7XG4gICAgY29uc3QgcyA9IHIuZmluZCgoKGUsIHIpID0+IHQod3JhcChlKSwgciwgdGhpcykpLCBlKTtcbiAgICBvYnNlcnZlQ29sbGVjdGlvbihOLCByKTtcbiAgICByZXR1cm4gd3JhcChzKTtcbn1cblxuZnVuY3Rpb24gd3JhcHBlZEFycmF5RmxhdCgpIHtcbiAgICBjb25zdCB0ID0gZ2V0UmF3KHRoaXMpO1xuICAgIG9ic2VydmVDb2xsZWN0aW9uKE4sIHQpO1xuICAgIHJldHVybiB3cmFwKHQuZmxhdCgpKTtcbn1cblxuZnVuY3Rpb24gd3JhcHBlZEFycmF5RmxhdE1hcCh0LCBlKSB7XG4gICAgY29uc3QgciA9IGdldFJhdyh0aGlzKTtcbiAgICBvYnNlcnZlQ29sbGVjdGlvbihOLCByKTtcbiAgICByZXR1cm4gZ2V0UHJveHkoci5mbGF0TWFwKCgociwgcykgPT4gd3JhcCh0LmNhbGwoZSwgd3JhcChyKSwgcywgdGhpcykpKSkpO1xufVxuXG5mdW5jdGlvbiB3cmFwcGVkQXJyYXlKb2luKHQpIHtcbiAgICBjb25zdCBlID0gZ2V0UmF3KHRoaXMpO1xuICAgIG9ic2VydmVDb2xsZWN0aW9uKE4sIGUpO1xuICAgIHJldHVybiBlLmpvaW4odCk7XG59XG5cbmZ1bmN0aW9uIHdyYXBwZWRBcnJheVBvcCgpIHtcbiAgICByZXR1cm4gd3JhcChnZXRSYXcodGhpcykucG9wKCkpO1xufVxuXG5mdW5jdGlvbiB3cmFwcGVkQXJyYXlQdXNoKC4uLnQpIHtcbiAgICByZXR1cm4gZ2V0UmF3KHRoaXMpLnB1c2goLi4udCk7XG59XG5cbmZ1bmN0aW9uIHdyYXBwZWRBcnJheVNoaWZ0KCkge1xuICAgIHJldHVybiB3cmFwKGdldFJhdyh0aGlzKS5zaGlmdCgpKTtcbn1cblxuZnVuY3Rpb24gd3JhcHBlZEFycmF5VW5zaGlmdCguLi50KSB7XG4gICAgcmV0dXJuIGdldFJhdyh0aGlzKS51bnNoaWZ0KC4uLnQpO1xufVxuXG5mdW5jdGlvbiB3cmFwcGVkQXJyYXlTcGxpY2UoLi4udCkge1xuICAgIHJldHVybiB3cmFwKGdldFJhdyh0aGlzKS5zcGxpY2UoLi4udCkpO1xufVxuXG5mdW5jdGlvbiB3cmFwcGVkQXJyYXlSZXZlcnNlKC4uLnQpIHtcbiAgICBjb25zdCBlID0gZ2V0UmF3KHRoaXMpO1xuICAgIGNvbnN0IHIgPSBlLnJldmVyc2UoKTtcbiAgICBvYnNlcnZlQ29sbGVjdGlvbihOLCBlKTtcbiAgICByZXR1cm4gd3JhcChyKTtcbn1cblxuZnVuY3Rpb24gd3JhcHBlZEFycmF5U29tZSh0LCBlKSB7XG4gICAgY29uc3QgciA9IGdldFJhdyh0aGlzKTtcbiAgICBjb25zdCBzID0gci5zb21lKCgociwgcykgPT4gdW53cmFwKHQuY2FsbChlLCB3cmFwKHIpLCBzLCB0aGlzKSkpKTtcbiAgICBvYnNlcnZlQ29sbGVjdGlvbihOLCByKTtcbiAgICByZXR1cm4gcztcbn1cblxuZnVuY3Rpb24gd3JhcHBlZEFycmF5U29ydCh0KSB7XG4gICAgY29uc3QgZSA9IGdldFJhdyh0aGlzKTtcbiAgICBjb25zdCByID0gZS5zb3J0KHQpO1xuICAgIG9ic2VydmVDb2xsZWN0aW9uKE4sIGUpO1xuICAgIHJldHVybiB3cmFwKHIpO1xufVxuXG5mdW5jdGlvbiB3cmFwcGVkQXJyYXlTbGljZSh0LCBlKSB7XG4gICAgY29uc3QgciA9IGdldFJhdyh0aGlzKTtcbiAgICBvYnNlcnZlQ29sbGVjdGlvbihOLCByKTtcbiAgICByZXR1cm4gZ2V0UHJveHkoci5zbGljZSh0LCBlKSk7XG59XG5cbmZ1bmN0aW9uIHdyYXBwZWRSZWR1Y2UodCwgZSkge1xuICAgIGNvbnN0IHIgPSBnZXRSYXcodGhpcyk7XG4gICAgY29uc3QgcyA9IHIucmVkdWNlKCgoZSwgciwgcykgPT4gdChlLCB3cmFwKHIpLCBzLCB0aGlzKSksIGUpO1xuICAgIG9ic2VydmVDb2xsZWN0aW9uKE4sIHIpO1xuICAgIHJldHVybiB3cmFwKHMpO1xufVxuXG5mdW5jdGlvbiB3cmFwcGVkUmVkdWNlUmlnaHQodCwgZSkge1xuICAgIGNvbnN0IHIgPSBnZXRSYXcodGhpcyk7XG4gICAgY29uc3QgcyA9IHIucmVkdWNlUmlnaHQoKChlLCByLCBzKSA9PiB0KGUsIHdyYXAociksIHMsIHRoaXMpKSwgZSk7XG4gICAgb2JzZXJ2ZUNvbGxlY3Rpb24oTiwgcik7XG4gICAgcmV0dXJuIHdyYXAocyk7XG59XG5cbmNvbnN0IFUgPSB7XG4gICAgZ2V0KHQsIGUsIHIpIHtcbiAgICAgICAgaWYgKGUgPT09IHEpIHtcbiAgICAgICAgICAgIHJldHVybiB0O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG4gPSBjdXJyZW50Q29ubmVjdGFibGUoKTtcbiAgICAgICAgaWYgKCFFIHx8IGRvTm90Q29sbGVjdCh0LCBlKSB8fCBuID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBqKHQsIGUsIHIpO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAoZSkge1xuICAgICAgICAgIGNhc2UgXCJzaXplXCI6XG4gICAgICAgICAgICBuLm9ic2VydmUodCwgXCJzaXplXCIpO1xuICAgICAgICAgICAgcmV0dXJuIHQuc2l6ZTtcblxuICAgICAgICAgIGNhc2UgXCJjbGVhclwiOlxuICAgICAgICAgICAgcmV0dXJuIHdyYXBwZWRDbGVhcjtcblxuICAgICAgICAgIGNhc2UgXCJkZWxldGVcIjpcbiAgICAgICAgICAgIHJldHVybiB3cmFwcGVkRGVsZXRlO1xuXG4gICAgICAgICAgY2FzZSBcImZvckVhY2hcIjpcbiAgICAgICAgICAgIHJldHVybiB3cmFwcGVkRm9yRWFjaDtcblxuICAgICAgICAgIGNhc2UgXCJhZGRcIjpcbiAgICAgICAgICAgIGlmIChzKHQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHdyYXBwZWRBZGQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgXCJnZXRcIjpcbiAgICAgICAgICAgIGlmIChpKHQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHdyYXBwZWRHZXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgXCJzZXRcIjpcbiAgICAgICAgICAgIGlmIChpKHQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHdyYXBwZWRTZXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgXCJoYXNcIjpcbiAgICAgICAgICAgIHJldHVybiB3cmFwcGVkSGFzO1xuXG4gICAgICAgICAgY2FzZSBcImtleXNcIjpcbiAgICAgICAgICAgIHJldHVybiB3cmFwcGVkS2V5cztcblxuICAgICAgICAgIGNhc2UgXCJ2YWx1ZXNcIjpcbiAgICAgICAgICAgIHJldHVybiB3cmFwcGVkVmFsdWVzO1xuXG4gICAgICAgICAgY2FzZSBcImVudHJpZXNcIjpcbiAgICAgICAgICAgIHJldHVybiB3cmFwcGVkRW50cmllcztcblxuICAgICAgICAgIGNhc2UgU3ltYm9sLml0ZXJhdG9yOlxuICAgICAgICAgICAgcmV0dXJuIGkodCkgPyB3cmFwcGVkRW50cmllcyA6IHdyYXBwZWRWYWx1ZXM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyYXAoaih0LCBlLCByKSk7XG4gICAgfVxufTtcblxuZnVuY3Rpb24gd3JhcHBlZEZvckVhY2godCwgZSkge1xuICAgIGNvbnN0IHIgPSBnZXRSYXcodGhpcyk7XG4gICAgb2JzZXJ2ZUNvbGxlY3Rpb24oTiwgcik7XG4gICAgcmV0dXJuIHIuZm9yRWFjaCgoKHIsIHMpID0+IHtcbiAgICAgICAgdC5jYWxsKGUsIHdyYXAociksIHdyYXAocyksIHRoaXMpO1xuICAgIH0pKTtcbn1cblxuZnVuY3Rpb24gd3JhcHBlZEhhcyh0KSB7XG4gICAgY29uc3QgZSA9IGdldFJhdyh0aGlzKTtcbiAgICBvYnNlcnZlQ29sbGVjdGlvbihOLCBlKTtcbiAgICByZXR1cm4gZS5oYXModW53cmFwKHQpKTtcbn1cblxuZnVuY3Rpb24gd3JhcHBlZEdldCh0KSB7XG4gICAgY29uc3QgZSA9IGdldFJhdyh0aGlzKTtcbiAgICBvYnNlcnZlQ29sbGVjdGlvbihOLCBlKTtcbiAgICByZXR1cm4gd3JhcChlLmdldCh1bndyYXAodCkpKTtcbn1cblxuZnVuY3Rpb24gd3JhcHBlZFNldCh0LCBlKSB7XG4gICAgcmV0dXJuIHdyYXAoZ2V0UmF3KHRoaXMpLnNldCh1bndyYXAodCksIHVud3JhcChlKSkpO1xufVxuXG5mdW5jdGlvbiB3cmFwcGVkQWRkKHQpIHtcbiAgICByZXR1cm4gd3JhcChnZXRSYXcodGhpcykuYWRkKHVud3JhcCh0KSkpO1xufVxuXG5mdW5jdGlvbiB3cmFwcGVkQ2xlYXIoKSB7XG4gICAgcmV0dXJuIHdyYXAoZ2V0UmF3KHRoaXMpLmNsZWFyKCkpO1xufVxuXG5mdW5jdGlvbiB3cmFwcGVkRGVsZXRlKHQpIHtcbiAgICByZXR1cm4gd3JhcChnZXRSYXcodGhpcykuZGVsZXRlKHVud3JhcCh0KSkpO1xufVxuXG5mdW5jdGlvbiB3cmFwcGVkS2V5cygpIHtcbiAgICBjb25zdCB0ID0gZ2V0UmF3KHRoaXMpO1xuICAgIG9ic2VydmVDb2xsZWN0aW9uKE4sIHQpO1xuICAgIGNvbnN0IGUgPSB0LmtleXMoKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBuZXh0KCkge1xuICAgICAgICAgICAgY29uc3QgdCA9IGUubmV4dCgpO1xuICAgICAgICAgICAgY29uc3QgciA9IHQudmFsdWU7XG4gICAgICAgICAgICBjb25zdCBzID0gdC5kb25lO1xuICAgICAgICAgICAgcmV0dXJuIHMgPyB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IHZvaWQgMCxcbiAgICAgICAgICAgICAgICBkb25lOiBzXG4gICAgICAgICAgICB9IDoge1xuICAgICAgICAgICAgICAgIHZhbHVlOiB3cmFwKHIpLFxuICAgICAgICAgICAgICAgIGRvbmU6IHNcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgIFtTeW1ib2wuaXRlcmF0b3JdKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5mdW5jdGlvbiB3cmFwcGVkVmFsdWVzKCkge1xuICAgIGNvbnN0IHQgPSBnZXRSYXcodGhpcyk7XG4gICAgb2JzZXJ2ZUNvbGxlY3Rpb24oTiwgdCk7XG4gICAgY29uc3QgZSA9IHQudmFsdWVzKCk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbmV4dCgpIHtcbiAgICAgICAgICAgIGNvbnN0IHQgPSBlLm5leHQoKTtcbiAgICAgICAgICAgIGNvbnN0IHIgPSB0LnZhbHVlO1xuICAgICAgICAgICAgY29uc3QgcyA9IHQuZG9uZTtcbiAgICAgICAgICAgIHJldHVybiBzID8ge1xuICAgICAgICAgICAgICAgIHZhbHVlOiB2b2lkIDAsXG4gICAgICAgICAgICAgICAgZG9uZTogc1xuICAgICAgICAgICAgfSA6IHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogd3JhcChyKSxcbiAgICAgICAgICAgICAgICBkb25lOiBzXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICBbU3ltYm9sLml0ZXJhdG9yXSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gd3JhcHBlZEVudHJpZXMoKSB7XG4gICAgY29uc3QgdCA9IGdldFJhdyh0aGlzKTtcbiAgICBvYnNlcnZlQ29sbGVjdGlvbihOLCB0KTtcbiAgICBjb25zdCBlID0gdC5lbnRyaWVzKCk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbmV4dCgpIHtcbiAgICAgICAgICAgIGNvbnN0IHQgPSBlLm5leHQoKTtcbiAgICAgICAgICAgIGNvbnN0IHIgPSB0LnZhbHVlO1xuICAgICAgICAgICAgY29uc3QgcyA9IHQuZG9uZTtcbiAgICAgICAgICAgIHJldHVybiBzID8ge1xuICAgICAgICAgICAgICAgIHZhbHVlOiB2b2lkIDAsXG4gICAgICAgICAgICAgICAgZG9uZTogc1xuICAgICAgICAgICAgfSA6IHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogWyB3cmFwKHJbMF0pLCB3cmFwKHJbMV0pIF0sXG4gICAgICAgICAgICAgICAgZG9uZTogc1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgW1N5bWJvbC5pdGVyYXRvcl0oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgIH07XG59XG5cbmNvbnN0IG9ic2VydmVDb2xsZWN0aW9uID0gKHQsIGUpID0+IHQ/Lm9ic2VydmVDb2xsZWN0aW9uKGUpO1xuXG5jb25zdCBHID0gLypAX19QVVJFX18qLyB2KHtcbiAgICBnZXRQcm94eTogZ2V0UHJveHksXG4gICAgZ2V0UmF3OiBnZXRSYXcsXG4gICAgd3JhcDogd3JhcCxcbiAgICB1bndyYXA6IHVud3JhcCxcbiAgICByYXdLZXk6IHFcbn0pO1xuXG5jbGFzcyBDb21wdXRlZE9ic2VydmVyIHtcbiAgICBjb25zdHJ1Y3Rvcih0LCBlLCByLCBzLCBpKSB7XG4gICAgICAgIHRoaXMudHlwZSA9IFM7XG4gICAgICAgIHRoaXMudiA9IHZvaWQgMDtcbiAgICAgICAgdGhpcy5pciA9IGZhbHNlO1xuICAgICAgICB0aGlzLkQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jYiA9IHZvaWQgMDtcbiAgICAgICAgdGhpcy5oID0gdm9pZCAwO1xuICAgICAgICB0aGlzLkMgPSB2b2lkIDA7XG4gICAgICAgIHRoaXMubyA9IHQ7XG4gICAgICAgIHRoaXMuTyA9IGkgPyB3cmFwKHQpIDogdDtcbiAgICAgICAgdGhpcy4kZ2V0ID0gZTtcbiAgICAgICAgdGhpcy4kc2V0ID0gcjtcbiAgICAgICAgdGhpcy5vTCA9IHM7XG4gICAgfVxuICAgIGluaXQodCkge1xuICAgICAgICB0aGlzLnYgPSB0O1xuICAgICAgICB0aGlzLkQgPSBmYWxzZTtcbiAgICB9XG4gICAgZ2V0VmFsdWUoKSB7XG4gICAgICAgIGlmICh0aGlzLnN1YnMuY291bnQgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLiRnZXQuY2FsbCh0aGlzLm8sIHRoaXMubywgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuRCkge1xuICAgICAgICAgICAgdGhpcy5jb21wdXRlKCk7XG4gICAgICAgICAgICB0aGlzLkQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy52O1xuICAgIH1cbiAgICBzZXRWYWx1ZSh0KSB7XG4gICAgICAgIGlmIChyKHRoaXMuJHNldCkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmggIT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgIHQgPSB0aGlzLmguY2FsbChudWxsLCB0LCB0aGlzLkMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFuKHQsIHRoaXMudikpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLiRzZXQuY2FsbCh0aGlzLm8sIHQpO1xuICAgICAgICAgICAgICAgIHRoaXMuaXIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLnJ1bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlTWFwcGVkRXJyb3IoMjIxKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB1c2VDb2VyY2VyKHQsIGUpIHtcbiAgICAgICAgdGhpcy5oID0gdDtcbiAgICAgICAgdGhpcy5DID0gZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHVzZUNhbGxiYWNrKHQpIHtcbiAgICAgICAgdGhpcy5jYiA9IHQ7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBoYW5kbGVEaXJ0eSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLkQpIHtcbiAgICAgICAgICAgIHRoaXMuRCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnN1YnMubm90aWZ5RGlydHkoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBoYW5kbGVDaGFuZ2UoKSB7XG4gICAgICAgIHRoaXMuRCA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLnN1YnMuY291bnQgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLnJ1bigpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGhhbmRsZUNvbGxlY3Rpb25DaGFuZ2UoKSB7XG4gICAgICAgIHRoaXMuRCA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLnN1YnMuY291bnQgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLnJ1bigpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN1YnNjcmliZSh0KSB7XG4gICAgICAgIGlmICh0aGlzLnN1YnMuYWRkKHQpICYmIHRoaXMuc3Vicy5jb3VudCA9PT0gMSkge1xuICAgICAgICAgICAgdGhpcy5jb21wdXRlKCk7XG4gICAgICAgICAgICB0aGlzLkQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB1bnN1YnNjcmliZSh0KSB7XG4gICAgICAgIGlmICh0aGlzLnN1YnMucmVtb3ZlKHQpICYmIHRoaXMuc3Vicy5jb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5EID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMub2JzLmNsZWFyQWxsKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcnVuKCkge1xuICAgICAgICBpZiAodGhpcy5pcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHQgPSB0aGlzLnY7XG4gICAgICAgIGNvbnN0IGUgPSB0aGlzLmNvbXB1dGUoKTtcbiAgICAgICAgdGhpcy5EID0gZmFsc2U7XG4gICAgICAgIGlmICghbihlLCB0KSkge1xuICAgICAgICAgICAgdGhpcy5jYj8uKGUsIHQpO1xuICAgICAgICAgICAgdGhpcy5zdWJzLm5vdGlmeSh0aGlzLnYsIHQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbXB1dGUoKSB7XG4gICAgICAgIHRoaXMuaXIgPSB0cnVlO1xuICAgICAgICB0aGlzLm9icy52ZXJzaW9uKys7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBlbnRlckNvbm5lY3RhYmxlKHRoaXMpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudiA9IHVud3JhcCh0aGlzLiRnZXQuY2FsbCh0aGlzLk8sIHRoaXMuTywgdGhpcykpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgdGhpcy5vYnMuY2xlYXIoKTtcbiAgICAgICAgICAgIHRoaXMuaXIgPSBmYWxzZTtcbiAgICAgICAgICAgIGV4aXRDb25uZWN0YWJsZSh0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuKCgpID0+IHtcbiAgICBjb25uZWN0YWJsZShDb21wdXRlZE9ic2VydmVyLCBudWxsKTtcbiAgICBEKENvbXB1dGVkT2JzZXJ2ZXIsIG51bGwpO1xufSkoKTtcblxuY29uc3QgSiA9IC8qQF9fUFVSRV9fKi8geShcIklEaXJ0eUNoZWNrZXJcIiwgdm9pZCAwKTtcblxuY29uc3QgUSA9IHtcbiAgICB0aW1lb3V0c1BlckNoZWNrOiAyNSxcbiAgICBkaXNhYmxlZDogZmFsc2UsXG4gICAgdGhyb3c6IGZhbHNlLFxuICAgIHJlc2V0VG9EZWZhdWx0KCkge1xuICAgICAgICB0aGlzLnRpbWVvdXRzUGVyQ2hlY2sgPSA2O1xuICAgICAgICB0aGlzLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMudGhyb3cgPSBmYWxzZTtcbiAgICB9XG59O1xuXG5jbGFzcyBEaXJ0eUNoZWNrZXIge1xuICAgIHN0YXRpYyByZWdpc3Rlcih0KSB7XG4gICAgICAgIHQucmVnaXN0ZXIoby5zaW5nbGV0b24odGhpcywgdGhpcyksIG8uYWxpYXNUbyh0aGlzLCBKKSk7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnRyYWNrZWQgPSBbXTtcbiAgICAgICAgdGhpcy5BID0gbnVsbDtcbiAgICAgICAgdGhpcy5SID0gMDtcbiAgICAgICAgdGhpcy5wID0gYyh1KTtcbiAgICAgICAgdGhpcy5jaGVjayA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmIChRLmRpc2FibGVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCsrdGhpcy5SIDwgUS50aW1lb3V0c1BlckNoZWNrKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5SID0gMDtcbiAgICAgICAgICAgIGNvbnN0IHQgPSB0aGlzLnRyYWNrZWQ7XG4gICAgICAgICAgICBjb25zdCBlID0gdC5sZW5ndGg7XG4gICAgICAgICAgICBsZXQgcjtcbiAgICAgICAgICAgIGxldCBzID0gMDtcbiAgICAgICAgICAgIGZvciAoO3MgPCBlOyArK3MpIHtcbiAgICAgICAgICAgICAgICByID0gdFtzXTtcbiAgICAgICAgICAgICAgICBpZiAoci5pc0RpcnR5KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgci5mbHVzaCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgRChEaXJ0eUNoZWNrUHJvcGVydHksIG51bGwpO1xuICAgIH1cbiAgICBjcmVhdGVQcm9wZXJ0eSh0LCBlKSB7XG4gICAgICAgIGlmIChRLnRocm93KSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVNYXBwZWRFcnJvcigyMTgsIGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgRGlydHlDaGVja1Byb3BlcnR5KHRoaXMsIHQsIGUpO1xuICAgIH1cbiAgICBhZGRQcm9wZXJ0eSh0KSB7XG4gICAgICAgIHRoaXMudHJhY2tlZC5wdXNoKHQpO1xuICAgICAgICBpZiAodGhpcy50cmFja2VkLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgdGhpcy5BID0gdGhpcy5wLnRhc2tRdWV1ZS5xdWV1ZVRhc2sodGhpcy5jaGVjaywge1xuICAgICAgICAgICAgICAgIHBlcnNpc3RlbnQ6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlbW92ZVByb3BlcnR5KHQpIHtcbiAgICAgICAgdGhpcy50cmFja2VkLnNwbGljZSh0aGlzLnRyYWNrZWQuaW5kZXhPZih0KSwgMSk7XG4gICAgICAgIGlmICh0aGlzLnRyYWNrZWQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLkEuY2FuY2VsKCk7XG4gICAgICAgICAgICB0aGlzLkEgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5jbGFzcyBEaXJ0eUNoZWNrUHJvcGVydHkge1xuICAgIGNvbnN0cnVjdG9yKHQsIGUsIHIpIHtcbiAgICAgICAgdGhpcy5vYmogPSBlO1xuICAgICAgICB0aGlzLmtleSA9IHI7XG4gICAgICAgIHRoaXMudHlwZSA9IG07XG4gICAgICAgIHRoaXMub3YgPSB2b2lkIDA7XG4gICAgICAgIHRoaXMuUCA9IHQ7XG4gICAgfVxuICAgIGdldFZhbHVlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vYmpbdGhpcy5rZXldO1xuICAgIH1cbiAgICBzZXRWYWx1ZSh0KSB7XG4gICAgICAgIHRocm93IGNyZWF0ZU1hcHBlZEVycm9yKDIxOSwgdGhpcy5rZXkpO1xuICAgIH1cbiAgICBpc0RpcnR5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vdiAhPT0gdGhpcy5vYmpbdGhpcy5rZXldO1xuICAgIH1cbiAgICBmbHVzaCgpIHtcbiAgICAgICAgY29uc3QgdCA9IHRoaXMub3Y7XG4gICAgICAgIGNvbnN0IGUgPSB0aGlzLmdldFZhbHVlKCk7XG4gICAgICAgIHRoaXMub3YgPSBlO1xuICAgICAgICB0aGlzLnN1YnMubm90aWZ5KGUsIHQpO1xuICAgIH1cbiAgICBzdWJzY3JpYmUodCkge1xuICAgICAgICBpZiAodGhpcy5zdWJzLmFkZCh0KSAmJiB0aGlzLnN1YnMuY291bnQgPT09IDEpIHtcbiAgICAgICAgICAgIHRoaXMub3YgPSB0aGlzLm9ialt0aGlzLmtleV07XG4gICAgICAgICAgICB0aGlzLlAuYWRkUHJvcGVydHkodGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdW5zdWJzY3JpYmUodCkge1xuICAgICAgICBpZiAodGhpcy5zdWJzLnJlbW92ZSh0KSAmJiB0aGlzLnN1YnMuY291bnQgPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuUC5yZW1vdmVQcm9wZXJ0eSh0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuY2xhc3MgUHJpbWl0aXZlT2JzZXJ2ZXIge1xuICAgIGdldCBkb05vdENhY2hlKCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IodCwgZSkge1xuICAgICAgICB0aGlzLnR5cGUgPSBtO1xuICAgICAgICB0aGlzLm8gPSB0O1xuICAgICAgICB0aGlzLmsgPSBlO1xuICAgIH1cbiAgICBnZXRWYWx1ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub1t0aGlzLmtdO1xuICAgIH1cbiAgICBzZXRWYWx1ZSgpIHt9XG4gICAgc3Vic2NyaWJlKCkge31cbiAgICB1bnN1YnNjcmliZSgpIHt9XG59XG5cbmNsYXNzIFByb3BlcnR5QWNjZXNzb3Ige1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnR5cGUgPSBtO1xuICAgIH1cbiAgICBnZXRWYWx1ZSh0LCBlKSB7XG4gICAgICAgIHJldHVybiB0W2VdO1xuICAgIH1cbiAgICBzZXRWYWx1ZSh0LCBlLCByKSB7XG4gICAgICAgIGVbcl0gPSB0O1xuICAgIH1cbn1cblxuY2xhc3MgU2V0dGVyT2JzZXJ2ZXIge1xuICAgIGNvbnN0cnVjdG9yKHQsIGUpIHtcbiAgICAgICAgdGhpcy50eXBlID0gUztcbiAgICAgICAgdGhpcy52ID0gdm9pZCAwO1xuICAgICAgICB0aGlzLmlPID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY2IgPSB2b2lkIDA7XG4gICAgICAgIHRoaXMuaCA9IHZvaWQgMDtcbiAgICAgICAgdGhpcy5DID0gdm9pZCAwO1xuICAgICAgICB0aGlzLm8gPSB0O1xuICAgICAgICB0aGlzLmsgPSBlO1xuICAgIH1cbiAgICBnZXRWYWx1ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudjtcbiAgICB9XG4gICAgc2V0VmFsdWUodCkge1xuICAgICAgICBpZiAodGhpcy5oICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgIHQgPSB0aGlzLmguY2FsbCh2b2lkIDAsIHQsIHRoaXMuQyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaU8pIHtcbiAgICAgICAgICAgIGlmIChuKHQsIHRoaXMudikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBYID0gdGhpcy52O1xuICAgICAgICAgICAgdGhpcy52ID0gdDtcbiAgICAgICAgICAgIHRoaXMuY2I/Lih0LCBYKTtcbiAgICAgICAgICAgIHRoaXMuc3Vicy5ub3RpZnlEaXJ0eSgpO1xuICAgICAgICAgICAgdGhpcy5zdWJzLm5vdGlmeSh0LCBYKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudiA9IHRoaXMub1t0aGlzLmtdID0gdDtcbiAgICAgICAgICAgIHRoaXMuY2I/Lih0LCBYKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB1c2VDYWxsYmFjayh0KSB7XG4gICAgICAgIHRoaXMuY2IgPSB0O1xuICAgICAgICB0aGlzLnN0YXJ0KCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICB1c2VDb2VyY2VyKHQsIGUpIHtcbiAgICAgICAgdGhpcy5oID0gdDtcbiAgICAgICAgdGhpcy5DID0gZTtcbiAgICAgICAgdGhpcy5zdGFydCgpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgc3Vic2NyaWJlKHQpIHtcbiAgICAgICAgaWYgKHRoaXMuaU8gPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdWJzLmFkZCh0KTtcbiAgICB9XG4gICAgc3RhcnQoKSB7XG4gICAgICAgIGlmICh0aGlzLmlPID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhpcy5pTyA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnYgPSB0aGlzLm9bdGhpcy5rXTtcbiAgICAgICAgICAgIGIodGhpcy5vLCB0aGlzLmssIHtcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBnZXQ6IHcoKCgpID0+IHRoaXMuZ2V0VmFsdWUoKSksIHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0T2JzZXJ2ZXI6ICgpID0+IHRoaXNcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBzZXQ6IHQgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFZhbHVlKHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBzdG9wKCkge1xuICAgICAgICBpZiAodGhpcy5pTykge1xuICAgICAgICAgICAgYih0aGlzLm8sIHRoaXMuaywge1xuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLnZcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5pTyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cblxuKCgpID0+IHtcbiAgICBEKFNldHRlck9ic2VydmVyLCBudWxsKTtcbn0pKCk7XG5cbmxldCBYID0gdm9pZCAwO1xuXG5jb25zdCBZID0gbmV3IFByb3BlcnR5QWNjZXNzb3I7XG5cbmNvbnN0IFogPSAvKkBfX1BVUkVfXyovIHkoXCJJT2JzZXJ2ZXJMb2NhdG9yXCIsICh0ID0+IHQuc2luZ2xldG9uKE9ic2VydmVyTG9jYXRvcikpKTtcblxuY29uc3QgdHQgPSAvKkBfX1BVUkVfXyovIHkoXCJJTm9kZU9ic2VydmVyTG9jYXRvclwiLCAodCA9PiB0LmNhY2hlZENhbGxiYWNrKCh0ID0+IG5ldyBEZWZhdWx0Tm9kZU9ic2VydmVyTG9jYXRvcikpKSk7XG5cbmNsYXNzIERlZmF1bHROb2RlT2JzZXJ2ZXJMb2NhdG9yIHtcbiAgICBoYW5kbGVzKCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGdldE9ic2VydmVyKCkge1xuICAgICAgICByZXR1cm4gWTtcbiAgICB9XG4gICAgZ2V0QWNjZXNzb3IoKSB7XG4gICAgICAgIHJldHVybiBZO1xuICAgIH1cbn1cblxuY29uc3QgZXQgPSAvKkBfX1BVUkVfXyovIHkoXCJJQ29tcHV0ZWRPYnNlcnZlckxvY2F0b3JcIiwgKHQgPT4gdC5zaW5nbGV0b24oY2xhc3MgRGVmYXVsdExvY2F0b3Ige1xuICAgIGdldE9ic2VydmVyKHQsIGUsIHIsIHMpIHtcbiAgICAgICAgY29uc3QgaSA9IG5ldyBDb21wdXRlZE9ic2VydmVyKHQsIHIuZ2V0LCByLnNldCwgcywgdHJ1ZSk7XG4gICAgICAgIGIodCwgZSwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogci5lbnVtZXJhYmxlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgZ2V0OiB3KCgoKSA9PiBpLmdldFZhbHVlKCkpLCB7XG4gICAgICAgICAgICAgICAgZ2V0T2JzZXJ2ZXI6ICgpID0+IGlcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgc2V0OiB0ID0+IHtcbiAgICAgICAgICAgICAgICBpLnNldFZhbHVlKHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGk7XG4gICAgfVxufSkpKTtcblxuY2xhc3MgT2JzZXJ2ZXJMb2NhdG9yIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5JID0gW107XG4gICAgICAgIHRoaXMuUCA9IGMoSik7XG4gICAgICAgIHRoaXMuXyA9IGModHQpO1xuICAgICAgICB0aGlzLk0gPSBjKGV0KTtcbiAgICB9XG4gICAgYWRkQWRhcHRlcih0KSB7XG4gICAgICAgIHRoaXMuSS5wdXNoKHQpO1xuICAgIH1cbiAgICBnZXRPYnNlcnZlcih0LCBlKSB7XG4gICAgICAgIGlmICh0ID09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZU1hcHBlZEVycm9yKDE5OSwgZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFhKHQpKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByaW1pdGl2ZU9ic2VydmVyKHQsIHIoZSkgPyBcIlwiIDogZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHIoZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcHV0ZWRPYnNlcnZlcih0LCBlLCB2b2lkIDAsIHRoaXMsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHMgPSBnZXRPYnNlcnZlckxvb2t1cCh0KTtcbiAgICAgICAgbGV0IGkgPSBzW2VdO1xuICAgICAgICBpZiAoaSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBpID0gdGhpcy5jcmVhdGVPYnNlcnZlcih0LCBlKTtcbiAgICAgICAgICAgIGlmICghaS5kb05vdENhY2hlKSB7XG4gICAgICAgICAgICAgICAgc1tlXSA9IGk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGk7XG4gICAgfVxuICAgIGdldEFjY2Vzc29yKHQsIGUpIHtcbiAgICAgICAgY29uc3QgciA9IHQuJG9ic2VydmVycz8uW2VdO1xuICAgICAgICBpZiAociAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgICByZXR1cm4gcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fLmhhbmRsZXModCwgZSwgdGhpcykpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl8uZ2V0QWNjZXNzb3IodCwgZSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFk7XG4gICAgfVxuICAgIGdldEFycmF5T2JzZXJ2ZXIodCkge1xuICAgICAgICByZXR1cm4gayh0KTtcbiAgICB9XG4gICAgZ2V0TWFwT2JzZXJ2ZXIodCkge1xuICAgICAgICByZXR1cm4gTCh0KTtcbiAgICB9XG4gICAgZ2V0U2V0T2JzZXJ2ZXIodCkge1xuICAgICAgICByZXR1cm4gTSh0KTtcbiAgICB9XG4gICAgY3JlYXRlT2JzZXJ2ZXIodCwgcikge1xuICAgICAgICBpZiAodGhpcy5fLmhhbmRsZXModCwgciwgdGhpcykpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl8uZ2V0T2JzZXJ2ZXIodCwgciwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoIChyKSB7XG4gICAgICAgICAgY2FzZSBcImxlbmd0aFwiOlxuICAgICAgICAgICAgaWYgKGUodCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gayh0KS5nZXRMZW5ndGhPYnNlcnZlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIFwic2l6ZVwiOlxuICAgICAgICAgICAgaWYgKGkodCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gTCh0KS5nZXRMZW5ndGhPYnNlcnZlcigpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzKHQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE0odCkuZ2V0TGVuZ3RoT2JzZXJ2ZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGlmIChlKHQpICYmIGgocikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gayh0KS5nZXRJbmRleE9ic2VydmVyKE51bWJlcihyKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBsZXQgbiA9IHN0KHQsIHIpO1xuICAgICAgICBpZiAobiA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBsZXQgZSA9IHJ0KHQpO1xuICAgICAgICAgICAgd2hpbGUgKGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBuID0gc3QoZSwgcik7XG4gICAgICAgICAgICAgICAgaWYgKG4gPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgICAgICBlID0gcnQoZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChuICE9PSB2b2lkIDAgJiYgIWQuY2FsbChuLCBcInZhbHVlXCIpKSB7XG4gICAgICAgICAgICBsZXQgZSA9IHRoaXMuTCh0LCByLCBuKTtcbiAgICAgICAgICAgIGlmIChlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBlID0gKG4uZ2V0Py5nZXRPYnNlcnZlcik/Lih0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBlID09IG51bGwgPyBuLmNvbmZpZ3VyYWJsZSA/IHRoaXMuTS5nZXRPYnNlcnZlcih0LCByLCBuLCB0aGlzKSA6IHRoaXMuUC5jcmVhdGVQcm9wZXJ0eSh0LCByKSA6IGU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBTZXR0ZXJPYnNlcnZlcih0LCByKTtcbiAgICB9XG4gICAgTCh0LCBlLCByKSB7XG4gICAgICAgIGlmICh0aGlzLkkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBzIG9mIHRoaXMuSSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGkgPSBzLmdldE9ic2VydmVyKHQsIGUsIHIsIHRoaXMpO1xuICAgICAgICAgICAgICAgIGlmIChpICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cblxuY29uc3QgZ2V0Q29sbGVjdGlvbk9ic2VydmVyID0gdCA9PiB7XG4gICAgbGV0IHI7XG4gICAgaWYgKGUodCkpIHtcbiAgICAgICAgciA9IGsodCk7XG4gICAgfSBlbHNlIGlmIChpKHQpKSB7XG4gICAgICAgIHIgPSBMKHQpO1xuICAgIH0gZWxzZSBpZiAocyh0KSkge1xuICAgICAgICByID0gTSh0KTtcbiAgICB9XG4gICAgcmV0dXJuIHI7XG59O1xuXG5jb25zdCBydCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjtcblxuY29uc3Qgc3QgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xuXG5jb25zdCBnZXRPYnNlcnZlckxvb2t1cCA9IHQgPT4ge1xuICAgIGxldCBlID0gdC4kb2JzZXJ2ZXJzO1xuICAgIGlmIChlID09PSB2b2lkIDApIHtcbiAgICAgICAgYih0LCBcIiRvYnNlcnZlcnNcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICB2YWx1ZTogZSA9IGwoKVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGU7XG59O1xuXG5jb25zdCBpdCA9IC8qQF9fUFVSRV9fKi8geShcIklPYnNlcnZhdGlvblwiLCAodCA9PiB0LnNpbmdsZXRvbihPYnNlcnZhdGlvbikpKTtcblxuY2xhc3MgT2JzZXJ2YXRpb24ge1xuICAgIHN0YXRpYyBnZXQgaW5qZWN0KCkge1xuICAgICAgICByZXR1cm4gWyBaIF07XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKHQpIHtcbiAgICAgICAgdGhpcy5vTCA9IHQ7XG4gICAgICAgIHRoaXMuViA9IHtcbiAgICAgICAgICAgIGltbWVkaWF0ZTogdHJ1ZVxuICAgICAgICB9O1xuICAgIH1cbiAgICBydW4odCkge1xuICAgICAgICBjb25zdCBlID0gbmV3IFJ1bkVmZmVjdCh0aGlzLm9MLCB0KTtcbiAgICAgICAgZS5ydW4oKTtcbiAgICAgICAgcmV0dXJuIGU7XG4gICAgfVxuICAgIHdhdGNoKHQsIGUsIHIsIHMgPSB0aGlzLlYpIHtcbiAgICAgICAgbGV0IGkgPSB1bmRlZmluZWQ7XG4gICAgICAgIGxldCBuID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IG8gPSB0aGlzLm9MLmdldE9ic2VydmVyKHQsIGUpO1xuICAgICAgICBjb25zdCBjID0ge1xuICAgICAgICAgICAgaGFuZGxlQ2hhbmdlOiAodCwgZSkgPT4gcih0LCBpID0gZSlcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcnVuID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKG4pIHJldHVybjtcbiAgICAgICAgICAgIHIoby5nZXRWYWx1ZSgpLCBpKTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3Qgc3RvcCA9ICgpID0+IHtcbiAgICAgICAgICAgIG4gPSB0cnVlO1xuICAgICAgICAgICAgby51bnN1YnNjcmliZShjKTtcbiAgICAgICAgfTtcbiAgICAgICAgby5zdWJzY3JpYmUoYyk7XG4gICAgICAgIGlmIChzLmltbWVkaWF0ZSkge1xuICAgICAgICAgICAgcnVuKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJ1bjogcnVuLFxuICAgICAgICAgICAgc3RvcDogc3RvcFxuICAgICAgICB9O1xuICAgIH1cbn1cblxuY2xhc3MgUnVuRWZmZWN0IHtcbiAgICBjb25zdHJ1Y3Rvcih0LCBlKSB7XG4gICAgICAgIHRoaXMub0wgPSB0O1xuICAgICAgICB0aGlzLmZuID0gZTtcbiAgICAgICAgdGhpcy5tYXhSdW5Db3VudCA9IDEwO1xuICAgICAgICB0aGlzLnF1ZXVlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnJ1bm5pbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5ydW5Db3VudCA9IDA7XG4gICAgICAgIHRoaXMuc3RvcHBlZCA9IGZhbHNlO1xuICAgIH1cbiAgICBoYW5kbGVDaGFuZ2UoKSB7XG4gICAgICAgIHRoaXMucXVldWVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5ydW4oKTtcbiAgICB9XG4gICAgaGFuZGxlQ29sbGVjdGlvbkNoYW5nZSgpIHtcbiAgICAgICAgdGhpcy5xdWV1ZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLnJ1bigpO1xuICAgIH1cbiAgICBydW4oKSB7XG4gICAgICAgIGlmICh0aGlzLnN0b3BwZWQpIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZU1hcHBlZEVycm9yKDIyNSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucnVubmluZykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgICsrdGhpcy5ydW5Db3VudDtcbiAgICAgICAgdGhpcy5ydW5uaW5nID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5xdWV1ZWQgPSBmYWxzZTtcbiAgICAgICAgKyt0aGlzLm9icy52ZXJzaW9uO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZW50ZXJDb25uZWN0YWJsZSh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuZm4odGhpcyk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICB0aGlzLm9icy5jbGVhcigpO1xuICAgICAgICAgICAgdGhpcy5ydW5uaW5nID0gZmFsc2U7XG4gICAgICAgICAgICBleGl0Q29ubmVjdGFibGUodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucXVldWVkKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5ydW5Db3VudCA+IHRoaXMubWF4UnVuQ291bnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJ1bkNvdW50ID0gMDtcbiAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVNYXBwZWRFcnJvcigyMjYpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5ydW4oKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucnVuQ291bnQgPSAwO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0b3AoKSB7XG4gICAgICAgIHRoaXMuc3RvcHBlZCA9IHRydWU7XG4gICAgICAgIHRoaXMub2JzLmNsZWFyQWxsKCk7XG4gICAgfVxufVxuXG4oKCkgPT4ge1xuICAgIGNvbm5lY3RhYmxlKFJ1bkVmZmVjdCwgbnVsbCk7XG59KSgpO1xuXG5jb25zdCBudCA9IC8qQF9fUFVSRV9fKi8gKCgpID0+IHtcbiAgICBmdW5jdGlvbiBnZXRPYnNlcnZlcnNMb29rdXAodCkge1xuICAgICAgICBpZiAodC4kb2JzZXJ2ZXJzID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGIodCwgXCIkb2JzZXJ2ZXJzXCIsIHtcbiAgICAgICAgICAgICAgICB2YWx1ZToge31cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0LiRvYnNlcnZlcnM7XG4gICAgfVxuICAgIGNvbnN0IHQgPSB7fTtcbiAgICBmdW5jdGlvbiBvYnNlcnZhYmxlKGUsIHIpIHtcbiAgICAgICAgaWYgKCFTZXR0ZXJOb3RpZmllci5taXhlZCkge1xuICAgICAgICAgICAgU2V0dGVyTm90aWZpZXIubWl4ZWQgPSB0cnVlO1xuICAgICAgICAgICAgRChTZXR0ZXJOb3RpZmllciwgbnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHMgPSBmYWxzZTtcbiAgICAgICAgbGV0IGk7XG4gICAgICAgIGlmICh0eXBlb2YgZSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgaSA9IGU7XG4gICAgICAgIH0gZWxzZSBpZiAoZSAhPSBudWxsKSB7XG4gICAgICAgICAgICBpID0ge1xuICAgICAgICAgICAgICAgIG5hbWU6IGVcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGkgPSBmO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24odCwgZSkge1xuICAgICAgICAgICAgICAgIGlmIChlLmtpbmQgIT09IFwiZmllbGRcIikgdGhyb3cgY3JlYXRlTWFwcGVkRXJyb3IoMjI0KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlRmllbGRJbml0aWFsaXplcihlKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHI/LmtpbmQgPT09IFwiZmllbGRcIikgcmV0dXJuIGNyZWF0ZUZpZWxkSW5pdGlhbGl6ZXIocik7XG4gICAgICAgIGlmIChzKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oZSwgcikge1xuICAgICAgICAgICAgICAgIGNyZWF0ZURlc2NyaXB0b3IoZSwgaS5uYW1lLCAoKCkgPT4gdCksIHRydWUpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnVuY3Rpb24oZSwgcikge1xuICAgICAgICAgICAgc3dpdGNoIChyLmtpbmQpIHtcbiAgICAgICAgICAgICAgY2FzZSBcImZpZWxkXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUZpZWxkSW5pdGlhbGl6ZXIocik7XG5cbiAgICAgICAgICAgICAgY2FzZSBcImNsYXNzXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZURlc2NyaXB0b3IoZSwgaS5uYW1lLCAoKCkgPT4gdCksIHRydWUpO1xuXG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlTWFwcGVkRXJyb3IoMjI0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlRmllbGRJbml0aWFsaXplcih0KSB7XG4gICAgICAgICAgICBsZXQgZTtcbiAgICAgICAgICAgIHQuYWRkSW5pdGlhbGl6ZXIoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGNyZWF0ZURlc2NyaXB0b3IodGhpcywgdC5uYW1lLCAoKCkgPT4gZSksIGZhbHNlKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGUgPSB0O1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBjcmVhdGVEZXNjcmlwdG9yKHQsIGUsIHIsIHMpIHtcbiAgICAgICAgICAgIGNvbnN0IG4gPSBpLmNhbGxiYWNrIHx8IGAke2coZSl9Q2hhbmdlZGA7XG4gICAgICAgICAgICBjb25zdCBvID0gaS5zZXQ7XG4gICAgICAgICAgICBjb25zdCBvYnNlcnZhYmxlR2V0dGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdCA9IGdldE5vdGlmaWVyKHRoaXMsIGUsIG4sIHIsIG8pO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRDb25uZWN0YWJsZSgpPy5zdWJzY3JpYmVUbyh0KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdC5nZXRWYWx1ZSgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIG9ic2VydmFibGVHZXR0ZXIuZ2V0T2JzZXJ2ZXIgPSBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldE5vdGlmaWVyKHQsIGUsIG4sIHIsIG8pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGMgPSB7XG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgZ2V0OiBvYnNlcnZhYmxlR2V0dGVyLFxuICAgICAgICAgICAgICAgIHNldCh0KSB7XG4gICAgICAgICAgICAgICAgICAgIGdldE5vdGlmaWVyKHRoaXMsIGUsIG4sIHIsIG8pLnNldFZhbHVlKHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAocykgYih0LnByb3RvdHlwZSwgZSwgYyk7IGVsc2UgYih0LCBlLCBjKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBnZXROb3RpZmllcihlLCByLCBzLCBpLCBuKSB7XG4gICAgICAgIGNvbnN0IG8gPSBnZXRPYnNlcnZlcnNMb29rdXAoZSk7XG4gICAgICAgIGxldCBjID0gb1tyXTtcbiAgICAgICAgaWYgKGMgPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3QgdSA9IGkoKTtcbiAgICAgICAgICAgIGMgPSBuZXcgU2V0dGVyTm90aWZpZXIoZSwgcywgbiwgdSA9PT0gdCA/IHZvaWQgMCA6IHUpO1xuICAgICAgICAgICAgb1tyXSA9IGM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGM7XG4gICAgfVxuICAgIGNsYXNzIFNldHRlck5vdGlmaWVyIHtcbiAgICAgICAgY29uc3RydWN0b3IodCwgZSwgcywgaSkge1xuICAgICAgICAgICAgdGhpcy50eXBlID0gUztcbiAgICAgICAgICAgIHRoaXMudiA9IHZvaWQgMDtcbiAgICAgICAgICAgIHRoaXMub3YgPSB2b2lkIDA7XG4gICAgICAgICAgICB0aGlzLm8gPSB0O1xuICAgICAgICAgICAgdGhpcy5TID0gcztcbiAgICAgICAgICAgIHRoaXMuaHMgPSByKHMpO1xuICAgICAgICAgICAgY29uc3QgbiA9IHRbZV07XG4gICAgICAgICAgICB0aGlzLmNiID0gcihuKSA/IG4gOiB2b2lkIDA7XG4gICAgICAgICAgICB0aGlzLnYgPSBpO1xuICAgICAgICB9XG4gICAgICAgIGdldFZhbHVlKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudjtcbiAgICAgICAgfVxuICAgICAgICBzZXRWYWx1ZSh0KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5ocykge1xuICAgICAgICAgICAgICAgIHQgPSB0aGlzLlModCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIW4odCwgdGhpcy52KSkge1xuICAgICAgICAgICAgICAgIHRoaXMub3YgPSB0aGlzLnY7XG4gICAgICAgICAgICAgICAgdGhpcy52ID0gdDtcbiAgICAgICAgICAgICAgICB0aGlzLmNiPy5jYWxsKHRoaXMubywgdGhpcy52LCB0aGlzLm92KTtcbiAgICAgICAgICAgICAgICB0ID0gdGhpcy5vdjtcbiAgICAgICAgICAgICAgICB0aGlzLm92ID0gdGhpcy52O1xuICAgICAgICAgICAgICAgIHRoaXMuc3Vicy5ub3RpZnlEaXJ0eSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuc3Vicy5ub3RpZnkodGhpcy52LCB0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBTZXR0ZXJOb3RpZmllci5taXhlZCA9IGZhbHNlO1xuICAgIHJldHVybiBvYnNlcnZhYmxlO1xufSkoKTtcblxudHlwZW9mIFN1cHByZXNzZWRFcnJvciA9PT0gXCJmdW5jdGlvblwiID8gU3VwcHJlc3NlZEVycm9yIDogZnVuY3Rpb24odCwgZSwgcikge1xuICAgIHZhciBzID0gbmV3IEVycm9yKHIpO1xuICAgIHJldHVybiBzLm5hbWUgPSBcIlN1cHByZXNzZWRFcnJvclwiLCBzLmVycm9yID0gdCwgcy5zdXBwcmVzc2VkID0gZSwgcztcbn07XG5cbmZ1bmN0aW9uIG5vd3JhcCh0LCBlKSB7XG4gICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPT09IDAgPyBkZWNvcmF0b3IgOiBkZWNvcmF0b3IodCwgZSk7XG4gICAgZnVuY3Rpb24gZGVjb3JhdG9yKHQsIGUpIHtcbiAgICAgICAgc3dpdGNoIChlLmtpbmQpIHtcbiAgICAgICAgICBjYXNlIFwiY2xhc3NcIjpcbiAgICAgICAgICAgIHJ0RGVmaW5lSGlkZGVuUHJvcCh0LCBCLCB0cnVlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSBcImZpZWxkXCI6XG4gICAgICAgICAgICBlLmFkZEluaXRpYWxpemVyKChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0ID0gdGhpcy5jb25zdHJ1Y3RvcjtcbiAgICAgICAgICAgICAgICBjb25zdCByID0gYCR7V31fJHtnKGUubmFtZSl9X19gO1xuICAgICAgICAgICAgICAgIGlmIChyIGluIHQpIHJldHVybjtcbiAgICAgICAgICAgICAgICBydERlZmluZUhpZGRlblByb3AodCwgciwgdHJ1ZSk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IHsgSSBhcyBBY2Nlc3NvclR5cGUsIENvbGxlY3Rpb25MZW5ndGhPYnNlcnZlciwgQ29sbGVjdGlvblNpemVPYnNlcnZlciwgQ29tcHV0ZWRPYnNlcnZlciwgRiBhcyBDb25uZWN0YWJsZVN3aXRjaGVyLCBEaXJ0eUNoZWNrUHJvcGVydHksIFEgYXMgRGlydHlDaGVja1NldHRpbmdzLCBEaXJ0eUNoZWNrZXIsIEEgYXMgSUNvZXJjaW9uQ29uZmlndXJhdGlvbiwgZXQgYXMgSUNvbXB1dGVkT2JzZXJ2ZXJMb2NhdG9yLCBKIGFzIElEaXJ0eUNoZWNrZXIsIHR0IGFzIElOb2RlT2JzZXJ2ZXJMb2NhdG9yLCBpdCBhcyBJT2JzZXJ2YXRpb24sIFogYXMgSU9ic2VydmVyTG9jYXRvciwgT2JzZXJ2YXRpb24sIE9ic2VydmVyTG9jYXRvciwgUHJpbWl0aXZlT2JzZXJ2ZXIsIFByb3BlcnR5QWNjZXNzb3IsIEcgYXMgUHJveHlPYnNlcnZhYmxlLCBTZXR0ZXJPYnNlcnZlciwgYmF0Y2gsIGNsb25lSW5kZXhNYXAsIGNvbm5lY3RhYmxlLCBjb3B5SW5kZXhNYXAsIGNyZWF0ZUluZGV4TWFwLCBnZXRDb2xsZWN0aW9uT2JzZXJ2ZXIsIGdldE9ic2VydmVyTG9va3VwLCBpc0luZGV4TWFwLCBub3dyYXAsIG50IGFzIG9ic2VydmFibGUsIEQgYXMgc3Vic2NyaWJlckNvbGxlY3Rpb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime/dist/esm/index.mjs\n\n}");

/***/ },

/***/ "./node_modules/@aurelia/template-compiler/dist/esm/index.mjs"
/*!********************************************************************!*\
  !*** ./node_modules/@aurelia/template-compiler/dist/esm/index.mjs ***!
  \********************************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AtPrefixedTriggerAttributePattern: () => (/* binding */ AtPrefixedTriggerAttributePattern),\n/* harmony export */   AttrBindingCommand: () => (/* binding */ AttrBindingCommand),\n/* harmony export */   AttrSyntax: () => (/* binding */ AttrSyntax),\n/* harmony export */   AttributeBindingInstruction: () => (/* binding */ AttributeBindingInstruction),\n/* harmony export */   AttributeParser: () => (/* binding */ AttributeParser),\n/* harmony export */   AttributePattern: () => (/* binding */ N),\n/* harmony export */   BindingCommand: () => (/* binding */ gt),\n/* harmony export */   BindingCommandDefinition: () => (/* binding */ BindingCommandDefinition),\n/* harmony export */   BindingMode: () => (/* binding */ _),\n/* harmony export */   CaptureBindingCommand: () => (/* binding */ CaptureBindingCommand),\n/* harmony export */   ClassBindingCommand: () => (/* binding */ ClassBindingCommand),\n/* harmony export */   ColonPrefixedBindAttributePattern: () => (/* binding */ ColonPrefixedBindAttributePattern),\n/* harmony export */   DefaultBindingCommand: () => (/* binding */ DefaultBindingCommand),\n/* harmony export */   DotSeparatedAttributePattern: () => (/* binding */ DotSeparatedAttributePattern),\n/* harmony export */   EventAttributePattern: () => (/* binding */ EventAttributePattern),\n/* harmony export */   ForBindingCommand: () => (/* binding */ ForBindingCommand),\n/* harmony export */   FromViewBindingCommand: () => (/* binding */ FromViewBindingCommand),\n/* harmony export */   HydrateAttributeInstruction: () => (/* binding */ HydrateAttributeInstruction),\n/* harmony export */   HydrateElementInstruction: () => (/* binding */ HydrateElementInstruction),\n/* harmony export */   HydrateLetElementInstruction: () => (/* binding */ HydrateLetElementInstruction),\n/* harmony export */   HydrateTemplateController: () => (/* binding */ HydrateTemplateController),\n/* harmony export */   IAttrMapper: () => (/* binding */ L),\n/* harmony export */   IAttributeParser: () => (/* binding */ W),\n/* harmony export */   IAttributePattern: () => (/* binding */ O),\n/* harmony export */   IBindingCommandResolver: () => (/* binding */ vt),\n/* harmony export */   IInstruction: () => (/* binding */ ft),\n/* harmony export */   IResourceResolver: () => (/* binding */ xt),\n/* harmony export */   ISyntaxInterpreter: () => (/* binding */ F),\n/* harmony export */   ITemplateCompiler: () => (/* binding */ k),\n/* harmony export */   ITemplateCompilerHooks: () => (/* binding */ Lt),\n/* harmony export */   ITemplateElementFactory: () => (/* binding */ wt),\n/* harmony export */   InstructionType: () => (/* binding */ dt),\n/* harmony export */   InterpolationInstruction: () => (/* binding */ InterpolationInstruction),\n/* harmony export */   Interpretation: () => (/* binding */ Interpretation),\n/* harmony export */   IteratorBindingInstruction: () => (/* binding */ IteratorBindingInstruction),\n/* harmony export */   LetBindingInstruction: () => (/* binding */ LetBindingInstruction),\n/* harmony export */   ListenerBindingInstruction: () => (/* binding */ ListenerBindingInstruction),\n/* harmony export */   MultiAttrInstruction: () => (/* binding */ MultiAttrInstruction),\n/* harmony export */   OneTimeBindingCommand: () => (/* binding */ OneTimeBindingCommand),\n/* harmony export */   PropertyBindingInstruction: () => (/* binding */ PropertyBindingInstruction),\n/* harmony export */   RefAttributePattern: () => (/* binding */ RefAttributePattern),\n/* harmony export */   RefBindingCommand: () => (/* binding */ RefBindingCommand),\n/* harmony export */   RefBindingInstruction: () => (/* binding */ RefBindingInstruction),\n/* harmony export */   SetAttributeInstruction: () => (/* binding */ SetAttributeInstruction),\n/* harmony export */   SetClassAttributeInstruction: () => (/* binding */ SetClassAttributeInstruction),\n/* harmony export */   SetPropertyInstruction: () => (/* binding */ SetPropertyInstruction),\n/* harmony export */   SetStyleAttributeInstruction: () => (/* binding */ SetStyleAttributeInstruction),\n/* harmony export */   SpreadElementPropBindingInstruction: () => (/* binding */ SpreadElementPropBindingInstruction),\n/* harmony export */   SpreadTransferedBindingInstruction: () => (/* binding */ SpreadTransferedBindingInstruction),\n/* harmony export */   SpreadValueBindingCommand: () => (/* binding */ SpreadValueBindingCommand),\n/* harmony export */   SpreadValueBindingInstruction: () => (/* binding */ SpreadValueBindingInstruction),\n/* harmony export */   StyleBindingCommand: () => (/* binding */ StyleBindingCommand),\n/* harmony export */   StylePropertyBindingInstruction: () => (/* binding */ StylePropertyBindingInstruction),\n/* harmony export */   SyntaxInterpreter: () => (/* binding */ SyntaxInterpreter),\n/* harmony export */   TemplateCompiler: () => (/* binding */ TemplateCompiler),\n/* harmony export */   TemplateCompilerHooks: () => (/* binding */ Dt),\n/* harmony export */   TextBindingInstruction: () => (/* binding */ TextBindingInstruction),\n/* harmony export */   ToViewBindingCommand: () => (/* binding */ ToViewBindingCommand),\n/* harmony export */   TriggerBindingCommand: () => (/* binding */ TriggerBindingCommand),\n/* harmony export */   TwoWayBindingCommand: () => (/* binding */ TwoWayBindingCommand),\n/* harmony export */   attributePattern: () => (/* binding */ attributePattern),\n/* harmony export */   bindingCommand: () => (/* binding */ bindingCommand),\n/* harmony export */   generateElementName: () => (/* binding */ Bt),\n/* harmony export */   templateCompilerHooks: () => (/* binding */ templateCompilerHooks)\n/* harmony export */ });\n/* harmony import */ var _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/kernel */ \"./node_modules/@aurelia/kernel/dist/esm/index.mjs\");\n/* harmony import */ var _aurelia_metadata__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @aurelia/metadata */ \"./node_modules/@aurelia/metadata/dist/esm/index.mjs\");\n/* harmony import */ var _aurelia_expression_parser__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @aurelia/expression-parser */ \"./node_modules/@aurelia/expression-parser/dist/esm/index.mjs\");\n\n\n\n\n\n\nconst isString = t => typeof t === \"string\";\n\nconst B = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.DI.createInterface;\n\nconst P = Object.freeze;\n\nconst {aliasTo: C, singleton: T} = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Registration;\n\nconst R = \"Interpolation\";\n\nconst E = \"IsFunction\";\n\nconst x = \"IsProperty\";\n\nconst v = \"custom-element\";\n\nconst _ = /*@__PURE__*/ P({\n    default: 0,\n    oneTime: 1,\n    toView: 2,\n    fromView: 4,\n    twoWay: 6\n});\n\nconst k = /*@__PURE__*/ B(\"ITemplateCompiler\");\n\nconst L = /*@__PURE__*/ B(\"IAttrMapper\");\n\nconst createMappedError = (t, ...e) => new Error(`AUR${String(t).padStart(4, \"0\")}:${e.map(String)}`);\n\nvar D, V, H, M, $;\n\nclass CharSpec {\n    constructor(t, e, n, i) {\n        this.chars = t;\n        this.repeat = e;\n        this.isSymbol = n;\n        this.isInverted = i;\n        if (i) {\n            switch (t.length) {\n              case 0:\n                this.has = this.i;\n                break;\n\n              case 1:\n                this.has = this.u;\n                break;\n\n              default:\n                this.has = this.A;\n            }\n        } else {\n            switch (t.length) {\n              case 0:\n                this.has = this.I;\n                break;\n\n              case 1:\n                this.has = this.B;\n                break;\n\n              default:\n                this.has = this.P;\n            }\n        }\n    }\n    equals(t) {\n        return this.chars === t.chars && this.repeat === t.repeat && this.isSymbol === t.isSymbol && this.isInverted === t.isInverted;\n    }\n    P(t) {\n        return this.chars.includes(t);\n    }\n    B(t) {\n        return this.chars === t;\n    }\n    I(t) {\n        return false;\n    }\n    A(t) {\n        return !this.chars.includes(t);\n    }\n    u(t) {\n        return this.chars !== t;\n    }\n    i(t) {\n        return true;\n    }\n}\n\nclass Interpretation {\n    constructor() {\n        this.parts = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.emptyArray;\n        this.C = \"\";\n        this.T = {};\n        this.R = {};\n    }\n    get pattern() {\n        const t = this.C;\n        if (t === \"\") {\n            return null;\n        } else {\n            return t;\n        }\n    }\n    set pattern(t) {\n        if (t == null) {\n            this.C = \"\";\n            this.parts = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.emptyArray;\n        } else {\n            this.C = t;\n            this.parts = this.R[t];\n        }\n    }\n    append(t, e) {\n        const n = this.T;\n        if (n[t] === undefined) {\n            n[t] = e;\n        } else {\n            n[t] += e;\n        }\n    }\n    next(t) {\n        const e = this.T;\n        let n;\n        if (e[t] !== undefined) {\n            n = this.R;\n            if (n[t] === undefined) {\n                n[t] = [ e[t] ];\n            } else {\n                n[t].push(e[t]);\n            }\n            e[t] = undefined;\n        }\n    }\n}\n\nclass AttrParsingState {\n    get C() {\n        return this._ ? this.L[0] : null;\n    }\n    constructor(t, ...e) {\n        this.charSpec = t;\n        this.V = [];\n        this.H = null;\n        this._ = false;\n        this.L = e;\n    }\n    findChild(t) {\n        const e = this.V;\n        const n = e.length;\n        let i = null;\n        let r = 0;\n        for (;r < n; ++r) {\n            i = e[r];\n            if (t.equals(i.charSpec)) {\n                return i;\n            }\n        }\n        return null;\n    }\n    append(t, e) {\n        const n = this.L;\n        if (!n.includes(e)) {\n            n.push(e);\n        }\n        let i = this.findChild(t);\n        if (i == null) {\n            i = new AttrParsingState(t, e);\n            this.V.push(i);\n            if (t.repeat) {\n                i.V.push(i);\n            }\n        }\n        return i;\n    }\n    findMatches(t, e) {\n        const n = [];\n        const i = this.V;\n        const r = i.length;\n        let s = 0;\n        let l = null;\n        let o = 0;\n        let u = 0;\n        for (;o < r; ++o) {\n            l = i[o];\n            if (l.charSpec.has(t)) {\n                n.push(l);\n                s = l.L.length;\n                u = 0;\n                if (l.charSpec.isSymbol) {\n                    for (;u < s; ++u) {\n                        e.next(l.L[u]);\n                    }\n                } else {\n                    for (;u < s; ++u) {\n                        e.append(l.L[u], t);\n                    }\n                }\n            }\n        }\n        return n;\n    }\n}\n\nclass StaticSegment {\n    constructor(t) {\n        this.text = t;\n        const e = this.M = t.length;\n        const n = this.$ = [];\n        let i = 0;\n        for (;e > i; ++i) {\n            n.push(new CharSpec(t[i], false, false, false));\n        }\n    }\n    eachChar(t) {\n        const e = this.M;\n        const n = this.$;\n        let i = 0;\n        for (;e > i; ++i) {\n            t(n[i]);\n        }\n    }\n}\n\nclass DynamicSegment {\n    constructor(t) {\n        this.text = \"PART\";\n        this.F = new CharSpec(t, true, false, true);\n    }\n    eachChar(t) {\n        t(this.F);\n    }\n}\n\nclass SymbolSegment {\n    constructor(t) {\n        this.text = t;\n        this.F = new CharSpec(t, false, true, false);\n    }\n    eachChar(t) {\n        t(this.F);\n    }\n}\n\nclass SegmentTypes {\n    constructor() {\n        this.statics = 0;\n        this.dynamics = 0;\n        this.symbols = 0;\n    }\n}\n\nconst F = /*@__PURE__*/ B(\"ISyntaxInterpreter\", (t => t.singleton(SyntaxInterpreter)));\n\nclass SyntaxInterpreter {\n    constructor() {\n        this.O = new AttrParsingState(null);\n        this.W = [ this.O ];\n    }\n    add(t) {\n        t = t.slice(0).sort(((t, e) => t.pattern > e.pattern ? 1 : -1));\n        const e = t.length;\n        let n;\n        let i;\n        let r;\n        let s;\n        let l;\n        let o;\n        let u;\n        let c = 0;\n        let a;\n        while (e > c) {\n            n = this.O;\n            i = t[c];\n            r = i.pattern;\n            s = new SegmentTypes;\n            l = this.N(i, s);\n            o = l.length;\n            u = t => n = n.append(t, r);\n            for (a = 0; o > a; ++a) {\n                l[a].eachChar(u);\n            }\n            n.H = s;\n            n._ = true;\n            ++c;\n        }\n    }\n    interpret(t) {\n        const e = new Interpretation;\n        const n = t.length;\n        let i = this.W;\n        let r = 0;\n        let s;\n        for (;r < n; ++r) {\n            i = this.j(i, t.charAt(r), e);\n            if (i.length === 0) {\n                break;\n            }\n        }\n        i = i.filter(isEndpoint);\n        if (i.length > 0) {\n            i.sort(sortEndpoint);\n            s = i[0];\n            if (!s.charSpec.isSymbol) {\n                e.next(s.C);\n            }\n            e.pattern = s.C;\n        }\n        return e;\n    }\n    j(t, e, n) {\n        const i = [];\n        let r = null;\n        const s = t.length;\n        let l = 0;\n        for (;l < s; ++l) {\n            r = t[l];\n            i.push(...r.findMatches(e, n));\n        }\n        return i;\n    }\n    N(t, e) {\n        const n = [];\n        const i = t.pattern;\n        const r = i.length;\n        const s = t.symbols;\n        let l = 0;\n        let o = 0;\n        let u = \"\";\n        while (l < r) {\n            u = i.charAt(l);\n            if (s.length === 0 || !s.includes(u)) {\n                if (l === o) {\n                    if (u === \"P\" && i.slice(l, l + 4) === \"PART\") {\n                        o = l = l + 4;\n                        n.push(new DynamicSegment(s));\n                        ++e.dynamics;\n                    } else {\n                        ++l;\n                    }\n                } else {\n                    ++l;\n                }\n            } else if (l !== o) {\n                n.push(new StaticSegment(i.slice(o, l)));\n                ++e.statics;\n                o = l;\n            } else {\n                n.push(new SymbolSegment(i.slice(o, l + 1)));\n                ++e.symbols;\n                o = ++l;\n            }\n        }\n        if (o !== l) {\n            n.push(new StaticSegment(i.slice(o, l)));\n            ++e.statics;\n        }\n        return n;\n    }\n}\n\nfunction isEndpoint(t) {\n    return t._;\n}\n\nfunction sortEndpoint(t, e) {\n    const n = t.H;\n    const i = e.H;\n    if (n.statics !== i.statics) {\n        return i.statics - n.statics;\n    }\n    if (n.dynamics !== i.dynamics) {\n        return i.dynamics - n.dynamics;\n    }\n    if (n.symbols !== i.symbols) {\n        return i.symbols - n.symbols;\n    }\n    return 0;\n}\n\nclass AttrSyntax {\n    constructor(t, e, n, i, r = null) {\n        this.rawName = t;\n        this.rawValue = e;\n        this.target = n;\n        this.command = i;\n        this.parts = r;\n    }\n}\n\nconst O = /*@__PURE__*/ B(\"IAttributePattern\");\n\nconst W = /*@__PURE__*/ B(\"IAttributeParser\", (t => t.singleton(AttributeParser)));\n\nclass AttributeParser {\n    constructor() {\n        this.U = {};\n        this.L = {};\n        this.q = false;\n        this.G = [];\n        this.J = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.resolve)(F);\n        this.c = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.resolve)(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.IContainer);\n    }\n    registerPattern(t, e) {\n        if (this.q) throw createMappedError(88);\n        const n = this.L;\n        for (const {pattern: i} of t) {\n            if (n[i] != null) throw createMappedError(89, i);\n            n[i] = {\n                patternType: e\n            };\n        }\n        this.G.push(...t);\n    }\n    K() {\n        this.J.add(this.G);\n        const t = this.c;\n        for (const [, e] of Object.entries(this.L)) {\n            e.pattern = t.get(e.patternType);\n        }\n    }\n    parse(t, e) {\n        if (!this.q) {\n            this.K();\n            this.q = true;\n        }\n        let n = this.U[t];\n        if (n == null) {\n            n = this.U[t] = this.J.interpret(t);\n        }\n        const i = n.pattern;\n        if (i == null) {\n            return new AttrSyntax(t, e, t, null, null);\n        } else {\n            return this.L[i].pattern[i](t, e, n.parts);\n        }\n    }\n}\n\nfunction attributePattern(...t) {\n    return function decorator(e, n) {\n        const r = N.create(t, e);\n        n.metadata[_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.registrableMetadataKey] = r;\n        return e;\n    };\n}\n\nconst N = /*@__PURE__*/ P({\n    name: (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.getResourceKeyFor)(\"attribute-pattern\"),\n    create(t, e) {\n        return {\n            register(n) {\n                n.get(W).registerPattern(t, e);\n                T(O, e).register(n);\n            }\n        };\n    }\n});\n\nclass DotSeparatedAttributePattern {\n    \"PART.PART\"(t, e, n) {\n        return new AttrSyntax(t, e, n[0], n[1]);\n    }\n    \"PART.PART.PART\"(t, e, n) {\n        return new AttrSyntax(t, e, `${n[0]}.${n[1]}`, n[2]);\n    }\n}\n\nD = Symbol.metadata;\n\nDotSeparatedAttributePattern[D] = {\n    [_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.registrableMetadataKey]: /*@__PURE__*/ N.create([ {\n        pattern: \"PART.PART\",\n        symbols: \".\"\n    }, {\n        pattern: \"PART.PART.PART\",\n        symbols: \".\"\n    } ], DotSeparatedAttributePattern)\n};\n\nclass RefAttributePattern {\n    ref(t, e, n) {\n        return new AttrSyntax(t, e, \"element\", \"ref\");\n    }\n    \"PART.ref\"(t, e, n) {\n        let i = n[0];\n        if (i === \"view-model\") {\n            i = \"component\";\n        }\n        return new AttrSyntax(t, e, i, \"ref\");\n    }\n}\n\nV = Symbol.metadata;\n\nRefAttributePattern[V] = {\n    [_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.registrableMetadataKey]: /*@__PURE__*/ N.create([ {\n        pattern: \"ref\",\n        symbols: \"\"\n    }, {\n        pattern: \"PART.ref\",\n        symbols: \".\"\n    } ], RefAttributePattern)\n};\n\nclass EventAttributePattern {\n    \"PART.trigger:PART\"(t, e, n) {\n        return new AttrSyntax(t, e, n[0], \"trigger\", n);\n    }\n    \"PART.capture:PART\"(t, e, n) {\n        return new AttrSyntax(t, e, n[0], \"capture\", n);\n    }\n}\n\nH = Symbol.metadata;\n\nEventAttributePattern[H] = {\n    [_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.registrableMetadataKey]: /*@__PURE__*/ N.create([ {\n        pattern: \"PART.trigger:PART\",\n        symbols: \".:\"\n    }, {\n        pattern: \"PART.capture:PART\",\n        symbols: \".:\"\n    } ], EventAttributePattern)\n};\n\nclass ColonPrefixedBindAttributePattern {\n    \":PART\"(t, e, n) {\n        return new AttrSyntax(t, e, n[0], \"bind\");\n    }\n}\n\nM = Symbol.metadata;\n\nColonPrefixedBindAttributePattern[M] = {\n    [_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.registrableMetadataKey]: /*@__PURE__*/ N.create([ {\n        pattern: \":PART\",\n        symbols: \":\"\n    } ], ColonPrefixedBindAttributePattern)\n};\n\nclass AtPrefixedTriggerAttributePattern {\n    \"@PART\"(t, e, n) {\n        return new AttrSyntax(t, e, n[0], \"trigger\");\n    }\n    \"@PART:PART\"(t, e, n) {\n        return new AttrSyntax(t, e, n[0], \"trigger\", [ n[0], \"trigger\", ...n.slice(1) ]);\n    }\n}\n\n$ = Symbol.metadata;\n\nAtPrefixedTriggerAttributePattern[$] = {\n    [_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.registrableMetadataKey]: /*@__PURE__*/ N.create([ {\n        pattern: \"@PART\",\n        symbols: \"@\"\n    }, {\n        pattern: \"@PART:PART\",\n        symbols: \"@:\"\n    } ], AtPrefixedTriggerAttributePattern)\n};\n\nconst j = _aurelia_metadata__WEBPACK_IMPORTED_MODULE_1__.Metadata.get;\n\n_aurelia_metadata__WEBPACK_IMPORTED_MODULE_1__.Metadata.has;\n\nconst U = _aurelia_metadata__WEBPACK_IMPORTED_MODULE_1__.Metadata.define;\n\nconst q = \"ra\";\n\nconst z = \"rb\";\n\nconst G = \"rc\";\n\nconst J = \"rd\";\n\nconst K = \"re\";\n\nconst Q = \"rf\";\n\nconst X = \"rg\";\n\nconst Y = \"ri\";\n\nconst Z = \"rj\";\n\nconst tt = \"rk\";\n\nconst et = \"rl\";\n\nconst nt = \"ha\";\n\nconst it = \"hb\";\n\nconst rt = \"hc\";\n\nconst st = \"hd\";\n\nconst lt = \"he\";\n\nconst ot = \"hf\";\n\nconst ut = \"hg\";\n\nconst ct = \"hs\";\n\nconst at = \"hp\";\n\nconst ht = \"svb\";\n\nconst dt = /*@__PURE__*/ P({\n    hydrateElement: q,\n    hydrateAttribute: z,\n    hydrateTemplateController: G,\n    hydrateLetElement: J,\n    setProperty: K,\n    interpolation: Q,\n    propertyBinding: X,\n    letBinding: Y,\n    refBinding: Z,\n    iteratorBinding: tt,\n    multiAttr: et,\n    textBinding: nt,\n    listenerBinding: it,\n    attributeBinding: rt,\n    stylePropertyBinding: st,\n    setAttribute: lt,\n    setClassAttribute: ot,\n    setStyleAttribute: ut,\n    spreadTransferedBinding: ct,\n    spreadElementProp: at,\n    spreadValueBinding: ht\n});\n\nconst ft = /*@__PURE__*/ B(\"Instruction\");\n\nclass InterpolationInstruction {\n    constructor(t, e) {\n        this.from = t;\n        this.to = e;\n        this.type = Q;\n    }\n}\n\nclass PropertyBindingInstruction {\n    constructor(t, e, n) {\n        this.from = t;\n        this.to = e;\n        this.mode = n;\n        this.type = X;\n    }\n}\n\nclass IteratorBindingInstruction {\n    constructor(t, e, n) {\n        this.forOf = t;\n        this.to = e;\n        this.props = n;\n        this.type = tt;\n    }\n}\n\nclass RefBindingInstruction {\n    constructor(t, e) {\n        this.from = t;\n        this.to = e;\n        this.type = Z;\n    }\n}\n\nclass SetPropertyInstruction {\n    constructor(t, e) {\n        this.value = t;\n        this.to = e;\n        this.type = K;\n    }\n}\n\nclass MultiAttrInstruction {\n    constructor(t, e, n) {\n        this.value = t;\n        this.to = e;\n        this.command = n;\n        this.type = et;\n    }\n}\n\nclass HydrateElementInstruction {\n    constructor(t, e, n, i, r, s) {\n        this.res = t;\n        this.props = e;\n        this.projections = n;\n        this.containerless = i;\n        this.captures = r;\n        this.data = s;\n        this.type = q;\n    }\n}\n\nclass HydrateAttributeInstruction {\n    constructor(t, e, n) {\n        this.res = t;\n        this.alias = e;\n        this.props = n;\n        this.type = z;\n    }\n}\n\nclass HydrateTemplateController {\n    constructor(t, e, n, i) {\n        this.def = t;\n        this.res = e;\n        this.alias = n;\n        this.props = i;\n        this.type = G;\n    }\n}\n\nclass HydrateLetElementInstruction {\n    constructor(t, e) {\n        this.instructions = t;\n        this.toBindingContext = e;\n        this.type = J;\n    }\n}\n\nclass LetBindingInstruction {\n    constructor(t, e) {\n        this.from = t;\n        this.to = e;\n        this.type = Y;\n    }\n}\n\nclass TextBindingInstruction {\n    constructor(t) {\n        this.from = t;\n        this.type = nt;\n    }\n}\n\nclass ListenerBindingInstruction {\n    constructor(t, e, n, i) {\n        this.from = t;\n        this.to = e;\n        this.capture = n;\n        this.modifier = i;\n        this.type = it;\n    }\n}\n\nclass StylePropertyBindingInstruction {\n    constructor(t, e) {\n        this.from = t;\n        this.to = e;\n        this.type = st;\n    }\n}\n\nclass SetAttributeInstruction {\n    constructor(t, e) {\n        this.value = t;\n        this.to = e;\n        this.type = lt;\n    }\n}\n\nclass SetClassAttributeInstruction {\n    constructor(t) {\n        this.value = t;\n        this.type = ot;\n    }\n}\n\nclass SetStyleAttributeInstruction {\n    constructor(t) {\n        this.value = t;\n        this.type = ut;\n    }\n}\n\nclass AttributeBindingInstruction {\n    constructor(t, e, n) {\n        this.attr = t;\n        this.from = e;\n        this.to = n;\n        this.type = rt;\n    }\n}\n\nclass SpreadTransferedBindingInstruction {\n    constructor() {\n        this.type = ct;\n    }\n}\n\nclass SpreadElementPropBindingInstruction {\n    constructor(t) {\n        this.instruction = t;\n        this.type = at;\n    }\n}\n\nclass SpreadValueBindingInstruction {\n    constructor(t, e) {\n        this.target = t;\n        this.from = e;\n        this.type = ht;\n    }\n}\n\nfunction bindingCommand(t) {\n    return function(e, n) {\n        n.addInitializer((function() {\n            gt.define(t, e);\n        }));\n        return e;\n    };\n}\n\nclass BindingCommandDefinition {\n    constructor(t, e, n, i) {\n        this.Type = t;\n        this.name = e;\n        this.aliases = n;\n        this.key = i;\n    }\n    static create(t, e) {\n        let n;\n        let i;\n        if (isString(t)) {\n            n = t;\n            i = {\n                name: n\n            };\n        } else {\n            n = t.name;\n            i = t;\n        }\n        return new BindingCommandDefinition(e, (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.firstDefined)(getCommandAnnotation(e, \"name\"), n), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.mergeArrays)(getCommandAnnotation(e, \"aliases\"), i.aliases, e.aliases), getCommandKeyFrom(n));\n    }\n    register(t, e) {\n        const n = this.Type;\n        const i = typeof e === \"string\" ? getCommandKeyFrom(e) : this.key;\n        const r = this.aliases;\n        if (!t.has(i, false)) {\n            t.register(t.has(n, false) ? null : T(n, n), C(n, i), ...r.map((t => C(n, getCommandKeyFrom(t)))));\n        }\n    }\n}\n\nconst mt = \"binding-command\";\n\nconst pt = /*@__PURE__*/ (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.getResourceKeyFor)(mt);\n\nconst getCommandKeyFrom = t => `${pt}:${t}`;\n\nconst getCommandAnnotation = (t, e) => j(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Protocol.annotation.keyFor(e), t);\n\nconst gt = /*@__PURE__*/ (() => {\n    const t = \"__au_static_resource__\";\n    const getDefinitionFromStaticAu = (e, n, i) => {\n        let r = j(t, e);\n        if (r == null) {\n            if (e.$au?.type === n) {\n                r = i(e.$au, e);\n                U(r, e, t);\n            }\n        }\n        return r;\n    };\n    return P({\n        name: pt,\n        keyFrom: getCommandKeyFrom,\n        define(t, e) {\n            const n = BindingCommandDefinition.create(t, e);\n            const i = n.Type;\n            U(n, i, pt, _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.resourceBaseName);\n            return i;\n        },\n        getAnnotation: getCommandAnnotation,\n        find(t, e) {\n            const n = t.find(mt, e);\n            return n == null ? null : j(pt, n) ?? getDefinitionFromStaticAu(n, mt, BindingCommandDefinition.create) ?? null;\n        },\n        get(t, e) {\n            return t.get((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.resource)(getCommandKeyFrom(e)));\n        }\n    });\n})();\n\nclass OneTimeBindingCommand {\n    get ignoreAttr() {\n        return false;\n    }\n    build(t, e, n) {\n        const i = t.attr;\n        let r = i.target;\n        let s = t.attr.rawValue;\n        s = s === \"\" ? (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.camelCase)(r) : s;\n        if (t.bindable == null) {\n            r = n.map(t.node, r) ?? (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.camelCase)(r);\n        } else {\n            r = t.bindable.name;\n        }\n        return new PropertyBindingInstruction(e.parse(s, x), r, 1);\n    }\n}\n\nOneTimeBindingCommand.$au = {\n    type: mt,\n    name: \"one-time\"\n};\n\nclass ToViewBindingCommand {\n    get ignoreAttr() {\n        return false;\n    }\n    build(t, e, n) {\n        const i = t.attr;\n        let r = i.target;\n        let s = t.attr.rawValue;\n        s = s === \"\" ? (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.camelCase)(r) : s;\n        if (t.bindable == null) {\n            r = n.map(t.node, r) ?? (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.camelCase)(r);\n        } else {\n            r = t.bindable.name;\n        }\n        return new PropertyBindingInstruction(e.parse(s, x), r, 2);\n    }\n}\n\nToViewBindingCommand.$au = {\n    type: mt,\n    name: \"to-view\"\n};\n\nclass FromViewBindingCommand {\n    get ignoreAttr() {\n        return false;\n    }\n    build(t, e, n) {\n        const i = t.attr;\n        let r = i.target;\n        let s = i.rawValue;\n        s = s === \"\" ? (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.camelCase)(r) : s;\n        if (t.bindable == null) {\n            r = n.map(t.node, r) ?? (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.camelCase)(r);\n        } else {\n            r = t.bindable.name;\n        }\n        return new PropertyBindingInstruction(e.parse(s, x), r, 4);\n    }\n}\n\nFromViewBindingCommand.$au = {\n    type: mt,\n    name: \"from-view\"\n};\n\nclass TwoWayBindingCommand {\n    get ignoreAttr() {\n        return false;\n    }\n    build(t, e, n) {\n        const i = t.attr;\n        let r = i.target;\n        let s = i.rawValue;\n        s = s === \"\" ? (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.camelCase)(r) : s;\n        if (t.bindable == null) {\n            r = n.map(t.node, r) ?? (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.camelCase)(r);\n        } else {\n            r = t.bindable.name;\n        }\n        return new PropertyBindingInstruction(e.parse(s, x), r, 6);\n    }\n}\n\nTwoWayBindingCommand.$au = {\n    type: mt,\n    name: \"two-way\"\n};\n\nclass DefaultBindingCommand {\n    get ignoreAttr() {\n        return false;\n    }\n    build(t, e, n) {\n        const i = t.attr;\n        const r = t.bindable;\n        let s = i.rawValue;\n        let l = i.target;\n        let o;\n        let u;\n        s = s === \"\" ? (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.camelCase)(l) : s;\n        if (r == null) {\n            u = n.isTwoWay(t.node, l) ? 6 : 2;\n            l = n.map(t.node, l) ?? (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.camelCase)(l);\n        } else {\n            o = t.def.defaultBindingMode ?? 0;\n            u = r.mode === 0 || r.mode == null ? o == null || o === 0 ? 2 : o : r.mode;\n            l = r.name;\n        }\n        return new PropertyBindingInstruction(e.parse(s, x), l, isString(u) ? _[u] ?? 0 : u);\n    }\n}\n\nDefaultBindingCommand.$au = {\n    type: mt,\n    name: \"bind\"\n};\n\nclass ForBindingCommand {\n    constructor() {\n        this.X = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.resolve)(W);\n    }\n    get ignoreAttr() {\n        return false;\n    }\n    build(t, e) {\n        const n = t.bindable === null ? (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.camelCase)(t.attr.target) : t.bindable.name;\n        const i = e.parse(t.attr.rawValue, \"IsIterator\");\n        let s = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.emptyArray;\n        if (i.semiIdx > -1) {\n            const e = t.attr.rawValue.slice(i.semiIdx + 1);\n            const n = e.indexOf(\":\");\n            if (n > -1) {\n                const t = e.slice(0, n).trim();\n                const i = e.slice(n + 1).trim();\n                const r = this.X.parse(t, i);\n                s = [ new MultiAttrInstruction(i, r.target, r.command) ];\n            }\n        }\n        return new IteratorBindingInstruction(i, n, s);\n    }\n}\n\nForBindingCommand.$au = {\n    type: mt,\n    name: \"for\"\n};\n\nclass TriggerBindingCommand {\n    get ignoreAttr() {\n        return true;\n    }\n    build(t, e) {\n        return new ListenerBindingInstruction(e.parse(t.attr.rawValue, E), t.attr.target, false, t.attr.parts?.[2] ?? null);\n    }\n}\n\nTriggerBindingCommand.$au = {\n    type: mt,\n    name: \"trigger\"\n};\n\nclass CaptureBindingCommand {\n    get ignoreAttr() {\n        return true;\n    }\n    build(t, e) {\n        return new ListenerBindingInstruction(e.parse(t.attr.rawValue, E), t.attr.target, true, t.attr.parts?.[2] ?? null);\n    }\n}\n\nCaptureBindingCommand.$au = {\n    type: mt,\n    name: \"capture\"\n};\n\nclass AttrBindingCommand {\n    get ignoreAttr() {\n        return true;\n    }\n    build(t, e) {\n        const n = t.attr;\n        const i = n.target;\n        let r = n.rawValue;\n        r = r === \"\" ? (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.camelCase)(i) : r;\n        return new AttributeBindingInstruction(i, e.parse(r, x), i);\n    }\n}\n\nAttrBindingCommand.$au = {\n    type: mt,\n    name: \"attr\"\n};\n\nclass StyleBindingCommand {\n    get ignoreAttr() {\n        return true;\n    }\n    build(t, e) {\n        return new AttributeBindingInstruction(\"style\", e.parse(t.attr.rawValue, x), t.attr.target);\n    }\n}\n\nStyleBindingCommand.$au = {\n    type: mt,\n    name: \"style\"\n};\n\nclass ClassBindingCommand {\n    get ignoreAttr() {\n        return true;\n    }\n    build(t, e) {\n        return new AttributeBindingInstruction(\"class\", e.parse(t.attr.rawValue, x), t.attr.target);\n    }\n}\n\nClassBindingCommand.$au = {\n    type: mt,\n    name: \"class\"\n};\n\nclass RefBindingCommand {\n    get ignoreAttr() {\n        return true;\n    }\n    build(t, e) {\n        return new RefBindingInstruction(e.parse(t.attr.rawValue, x), t.attr.target);\n    }\n}\n\nRefBindingCommand.$au = {\n    type: mt,\n    name: \"ref\"\n};\n\nclass SpreadValueBindingCommand {\n    get ignoreAttr() {\n        return false;\n    }\n    build(t) {\n        return new SpreadValueBindingInstruction(t.attr.target, t.attr.rawValue);\n    }\n}\n\nSpreadValueBindingCommand.$au = {\n    type: mt,\n    name: \"spread\"\n};\n\ntypeof SuppressedError === \"function\" ? SuppressedError : function(t, e, n) {\n    var i = new Error(n);\n    return i.name = \"SuppressedError\", i.error = t, i.suppressed = e, i;\n};\n\nconst wt = /*@__PURE__*/ B(\"ITemplateElementFactory\", (t => t.singleton(TemplateElementFactory)));\n\nconst bt = {};\n\nclass TemplateElementFactory {\n    constructor() {\n        this.p = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.resolve)(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.IPlatform);\n        this.Y = this.t();\n    }\n    t() {\n        return this.p.document.createElement(\"template\");\n    }\n    createTemplate(t) {\n        if (isString(t)) {\n            let e = bt[t];\n            if (e === void 0) {\n                const n = this.Y;\n                n.innerHTML = t;\n                const i = n.content.firstElementChild;\n                if (needsWrapping(i)) {\n                    this.Y = this.t();\n                    e = n;\n                } else {\n                    n.content.removeChild(i);\n                    e = i;\n                }\n                bt[t] = e;\n            }\n            return e.cloneNode(true);\n        }\n        if (t.nodeName !== \"TEMPLATE\") {\n            const e = this.t();\n            e.content.appendChild(t);\n            return e;\n        }\n        t.parentNode?.removeChild(t);\n        return t.cloneNode(true);\n        function needsWrapping(t) {\n            if (t == null) return true;\n            if (t.nodeName !== \"TEMPLATE\") return true;\n            const e = t.nextElementSibling;\n            if (e != null) return true;\n            const n = t.previousSibling;\n            if (n != null) {\n                switch (n.nodeType) {\n                  case 3:\n                    return n.textContent.trim().length > 0;\n                }\n            }\n            const i = t.nextSibling;\n            if (i != null) {\n                switch (i.nodeType) {\n                  case 3:\n                    return i.textContent.trim().length > 0;\n                }\n            }\n            return false;\n        }\n    }\n}\n\nconst At = \"au-start\";\n\nconst yt = \"au-end\";\n\nconst insertBefore = (t, e, n) => t.insertBefore(e, n);\n\nconst insertManyBefore = (t, e, n) => {\n    if (t === null) {\n        return;\n    }\n    const i = n.length;\n    let r = 0;\n    while (i > r) {\n        t.insertBefore(n[r], e);\n        ++r;\n    }\n};\n\nconst appendToTemplate = (t, e) => t.content.appendChild(e);\n\nconst appendManyToTemplate = (t, e) => {\n    const n = e.length;\n    let i = 0;\n    while (n > i) {\n        t.content.appendChild(e[i]);\n        ++i;\n    }\n};\n\nconst isElement = t => t.nodeType === 1;\n\nconst isTextNode = t => t.nodeType === 3;\n\nconst It = \"au-slot\";\n\nconst St = \"default\";\n\nconst Bt = (t => () => `anonymous-${++t}`)(0);\n\nclass TemplateCompiler {\n    constructor() {\n        this.debug = false;\n        this.resolveResources = true;\n    }\n    compile(t, e) {\n        if (t.template == null || t.needsCompile === false) {\n            return t;\n        }\n        const n = new CompilationContext(t, e, null, null, void 0);\n        const i = isString(t.template) || !t.enhance ? n.Z.createTemplate(t.template) : t.template;\n        const s = i.nodeName === Pt && i.content != null;\n        const l = s ? i.content : i;\n        const o = Dt.findAll(e);\n        const u = o.length;\n        let c = 0;\n        if (u > 0) {\n            while (u > c) {\n                o[c].compiling?.(i);\n                ++c;\n            }\n        }\n        if (i.hasAttribute(kt)) {\n            throw createMappedError(701, t);\n        }\n        this.tt(l, n);\n        this.et(l, n);\n        const a = {\n            ...t,\n            name: t.name || Bt(),\n            dependencies: (t.dependencies ?? _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.emptyArray).concat(n.deps ?? _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.emptyArray),\n            instructions: n.rows,\n            surrogates: s ? this.nt(i, n) : _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.emptyArray,\n            template: i,\n            hasSlots: n.hasSlot,\n            needsCompile: false\n        };\n        return a;\n    }\n    compileSpread(t, e, n, i, r) {\n        const s = new CompilationContext(t, n, null, null, void 0);\n        const l = [];\n        const o = r ?? s.it(i.nodeName.toLowerCase());\n        const u = o !== null;\n        const c = s.ep;\n        const a = e.length;\n        let h = 0;\n        let f;\n        let m = null;\n        let p;\n        let g;\n        let w;\n        let b;\n        let A;\n        let y = null;\n        let I;\n        let S;\n        let B;\n        let P;\n        for (;a > h; ++h) {\n            f = e[h];\n            B = f.target;\n            P = f.rawValue;\n            if (B === \"...$attrs\") {\n                l.push(new SpreadTransferedBindingInstruction);\n                continue;\n            }\n            y = s.rt(f);\n            if (y !== null && y.ignoreAttr) {\n                Tt.node = i;\n                Tt.attr = f;\n                Tt.bindable = null;\n                Tt.def = null;\n                l.push(y.build(Tt, s.ep, s.m));\n                continue;\n            }\n            if (u) {\n                w = s.st(o);\n                b = w.attrs[B];\n                if (b !== void 0) {\n                    if (y == null) {\n                        I = c.parse(P, R);\n                        l.push(new SpreadElementPropBindingInstruction(I == null ? new SetPropertyInstruction(P, b.name) : new InterpolationInstruction(I, b.name)));\n                    } else {\n                        Tt.node = i;\n                        Tt.attr = f;\n                        Tt.bindable = b;\n                        Tt.def = o;\n                        l.push(new SpreadElementPropBindingInstruction(y.build(Tt, s.ep, s.m)));\n                    }\n                    continue;\n                }\n            }\n            m = s.lt(B);\n            if (m !== null) {\n                if (m.isTemplateController) {\n                    throw createMappedError(9998, B);\n                }\n                w = s.st(m);\n                S = m.noMultiBindings === false && y === null && hasInlineBindings(P);\n                if (S) {\n                    g = this.ot(i, P, m, s);\n                } else {\n                    A = w.primary;\n                    if (y === null) {\n                        I = c.parse(P, R);\n                        g = [ I === null ? new SetPropertyInstruction(P, A.name) : new InterpolationInstruction(I, A.name) ];\n                    } else {\n                        Tt.node = i;\n                        Tt.attr = f;\n                        Tt.bindable = A;\n                        Tt.def = m;\n                        g = [ y.build(Tt, s.ep, s.m) ];\n                    }\n                }\n                (p ??= []).push(new HydrateAttributeInstruction(this.resolveResources ? m : m.name, m.aliases != null && m.aliases.includes(B) ? B : void 0, g));\n                continue;\n            }\n            if (y == null) {\n                I = c.parse(P, R);\n                if (I != null) {\n                    l.push(new InterpolationInstruction(I, s.m.map(i, B) ?? (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.camelCase)(B)));\n                } else {\n                    switch (B) {\n                      case \"class\":\n                        l.push(new SetClassAttributeInstruction(P));\n                        break;\n\n                      case \"style\":\n                        l.push(new SetStyleAttributeInstruction(P));\n                        break;\n\n                      default:\n                        l.push(new SetAttributeInstruction(P, B));\n                    }\n                }\n            } else {\n                Tt.node = i;\n                Tt.attr = f;\n                Tt.bindable = null;\n                Tt.def = null;\n                l.push(y.build(Tt, s.ep, s.m));\n            }\n        }\n        resetCommandBuildInfo();\n        if (p != null) {\n            return p.concat(l);\n        }\n        return l;\n    }\n    nt(t, e) {\n        const n = [];\n        const i = t.attributes;\n        const r = e.ep;\n        let s = i.length;\n        let l = 0;\n        let o;\n        let u;\n        let c;\n        let a;\n        let h = null;\n        let f;\n        let m;\n        let p;\n        let g;\n        let w = null;\n        let b;\n        let A;\n        let y;\n        let I;\n        for (;s > l; ++l) {\n            o = i[l];\n            u = o.name;\n            c = o.value;\n            a = e.X.parse(u, c);\n            y = a.target;\n            I = a.rawValue;\n            if (Rt[y]) {\n                throw createMappedError(702, u);\n            }\n            w = e.rt(a);\n            if (w !== null && w.ignoreAttr) {\n                Tt.node = t;\n                Tt.attr = a;\n                Tt.bindable = null;\n                Tt.def = null;\n                n.push(w.build(Tt, e.ep, e.m));\n                continue;\n            }\n            h = e.lt(y);\n            if (h !== null) {\n                if (h.isTemplateController) {\n                    throw createMappedError(703, y);\n                }\n                p = e.st(h);\n                A = h.noMultiBindings === false && w === null && hasInlineBindings(I);\n                if (A) {\n                    m = this.ot(t, I, h, e);\n                } else {\n                    g = p.primary;\n                    if (w === null) {\n                        b = r.parse(I, R);\n                        m = b === null ? I === \"\" ? [] : [ new SetPropertyInstruction(I, g.name) ] : [ new InterpolationInstruction(b, g.name) ];\n                    } else {\n                        Tt.node = t;\n                        Tt.attr = a;\n                        Tt.bindable = g;\n                        Tt.def = h;\n                        m = [ w.build(Tt, e.ep, e.m) ];\n                    }\n                }\n                t.removeAttribute(u);\n                --l;\n                --s;\n                (f ??= []).push(new HydrateAttributeInstruction(this.resolveResources ? h : h.name, h.aliases != null && h.aliases.includes(y) ? y : void 0, m));\n                continue;\n            }\n            if (w === null) {\n                b = r.parse(I, R);\n                if (b != null) {\n                    t.removeAttribute(u);\n                    --l;\n                    --s;\n                    n.push(new InterpolationInstruction(b, e.m.map(t, y) ?? (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.camelCase)(y)));\n                } else {\n                    switch (u) {\n                      case \"class\":\n                        n.push(new SetClassAttributeInstruction(I));\n                        break;\n\n                      case \"style\":\n                        n.push(new SetStyleAttributeInstruction(I));\n                        break;\n\n                      default:\n                        n.push(new SetAttributeInstruction(I, u));\n                    }\n                }\n            } else {\n                Tt.node = t;\n                Tt.attr = a;\n                Tt.bindable = null;\n                Tt.def = null;\n                n.push(w.build(Tt, e.ep, e.m));\n            }\n        }\n        resetCommandBuildInfo();\n        if (f != null) {\n            return f.concat(n);\n        }\n        return n;\n    }\n    et(t, e) {\n        switch (t.nodeType) {\n          case 1:\n            switch (t.nodeName) {\n              case \"LET\":\n                return this.ut(t, e);\n\n              default:\n                return this.ct(t, e);\n            }\n\n          case 3:\n            return this.ht(t, e);\n\n          case 11:\n            {\n                let n = t.firstChild;\n                while (n !== null) {\n                    n = this.et(n, e);\n                }\n                break;\n            }\n        }\n        return t.nextSibling;\n    }\n    ut(t, e) {\n        const n = t.attributes;\n        const i = n.length;\n        const r = [];\n        const s = e.ep;\n        let l = false;\n        let o = 0;\n        let u;\n        let c;\n        let a;\n        let h;\n        let f;\n        let m;\n        let p;\n        let g;\n        for (;i > o; ++o) {\n            u = n[o];\n            a = u.name;\n            h = u.value;\n            if (a === \"to-binding-context\") {\n                l = true;\n                continue;\n            }\n            c = e.X.parse(a, h);\n            m = c.target;\n            p = c.rawValue;\n            f = e.rt(c);\n            if (f !== null) {\n                if (c.command === \"bind\") {\n                    r.push(new LetBindingInstruction(s.parse(p, x), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.camelCase)(m)));\n                } else {\n                    throw createMappedError(704, c);\n                }\n                continue;\n            }\n            g = s.parse(p, R);\n            r.push(new LetBindingInstruction(g === null ? new _aurelia_expression_parser__WEBPACK_IMPORTED_MODULE_2__.PrimitiveLiteralExpression(p) : g, (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.camelCase)(m)));\n        }\n        e.rows.push([ new HydrateLetElementInstruction(r, l) ]);\n        return this.dt(t, e).nextSibling;\n    }\n    ct(t, e) {\n        const n = t.nextSibling;\n        const i = (t.getAttribute(\"as-element\") ?? t.nodeName).toLowerCase();\n        const s = e.it(i);\n        const l = s !== null;\n        const o = l && s.shadowOptions != null;\n        const u = s?.capture;\n        const c = u != null && typeof u !== \"boolean\";\n        const a = u ? [] : _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.emptyArray;\n        const h = e.ep;\n        const f = this.debug ? _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.noop : () => {\n            t.removeAttribute(y);\n            --b;\n            --w;\n        };\n        let m = t.attributes;\n        let g;\n        let w = m.length;\n        let b = 0;\n        let A;\n        let y;\n        let I;\n        let S;\n        let B;\n        let P;\n        let C = null;\n        let T = false;\n        let E;\n        let x;\n        let _;\n        let k;\n        let L;\n        let D;\n        let V;\n        let H = null;\n        let M;\n        let $;\n        let F;\n        let O;\n        let W = true;\n        let N = false;\n        let j = false;\n        let U = false;\n        let q;\n        let z = 0;\n        if (i === \"slot\") {\n            if (e.root.def.shadowOptions == null) {\n                throw createMappedError(717, e.root.def.name);\n            }\n            e.root.hasSlot = true;\n        }\n        if (l) {\n            q = {};\n            W = s.processContent?.call(s.Type, t, e.p, q);\n            m = t.attributes;\n            w = m.length;\n        }\n        for (;w > b; ++b) {\n            A = m[b];\n            y = A.name;\n            I = A.value;\n            switch (y) {\n              case \"as-element\":\n              case \"containerless\":\n                f();\n                N = N || y === \"containerless\";\n                continue;\n            }\n            S = e.X.parse(y, I);\n            H = e.rt(S);\n            F = S.target;\n            O = S.rawValue;\n            if (u && (!c || c && u(F))) {\n                if (H != null && H.ignoreAttr) {\n                    f();\n                    a.push(S);\n                    continue;\n                }\n                j = F !== It && F !== \"slot\" && ((z = F.indexOf(\"...\")) === -1 || z === 0 && F === \"...$attrs\");\n                if (j) {\n                    M = e.st(s);\n                    if (M.attrs[F] == null && !e.lt(F)?.isTemplateController) {\n                        f();\n                        a.push(S);\n                        continue;\n                    }\n                }\n            }\n            if (F === \"...$attrs\") {\n                (B ??= []).push(new SpreadTransferedBindingInstruction);\n                f();\n                continue;\n            }\n            if (H?.ignoreAttr) {\n                Tt.node = t;\n                Tt.attr = S;\n                Tt.bindable = null;\n                Tt.def = null;\n                (B ??= []).push(H.build(Tt, e.ep, e.m));\n                f();\n                continue;\n            }\n            if (F.indexOf(\"...\") === 0) {\n                if (l && (F = F.slice(3)) !== \"$element\") {\n                    (P ??= []).push(new SpreadValueBindingInstruction(\"$bindables\", F === \"$bindables\" ? O : F));\n                    f();\n                    continue;\n                }\n                throw createMappedError(720, F);\n            }\n            if (l) {\n                M = e.st(s);\n                E = M.attrs[F];\n                if (E !== void 0) {\n                    if (H === null) {\n                        D = h.parse(O, R);\n                        (P ??= []).push(D == null ? new SetPropertyInstruction(O, E.name) : new InterpolationInstruction(D, E.name));\n                    } else {\n                        Tt.node = t;\n                        Tt.attr = S;\n                        Tt.bindable = E;\n                        Tt.def = s;\n                        (P ??= []).push(H.build(Tt, e.ep, e.m));\n                    }\n                    f();\n                    continue;\n                }\n                if (F === \"$bindables\") {\n                    if (H != null) {\n                        Tt.node = t;\n                        Tt.attr = S;\n                        Tt.bindable = null;\n                        Tt.def = s;\n                        {\n                            (P ??= []).push(H.build(Tt, e.ep, e.m));\n                        }\n                    }\n                    f();\n                    continue;\n                }\n            }\n            if (F === \"$bindables\") {\n                throw createMappedError(721, t.nodeName, F, O);\n            }\n            C = e.lt(F);\n            if (C !== null) {\n                M = e.st(C);\n                T = C.noMultiBindings === false && H === null && hasInlineBindings(O);\n                if (T) {\n                    _ = this.ot(t, O, C, e);\n                } else {\n                    $ = M.primary;\n                    if (H === null) {\n                        D = h.parse(O, R);\n                        _ = D === null ? O === \"\" ? [] : [ new SetPropertyInstruction(O, $.name) ] : [ new InterpolationInstruction(D, $.name) ];\n                    } else {\n                        Tt.node = t;\n                        Tt.attr = S;\n                        Tt.bindable = $;\n                        Tt.def = C;\n                        _ = [ H.build(Tt, e.ep, e.m) ];\n                    }\n                }\n                f();\n                if (C.isTemplateController) {\n                    (k ??= []).push(new HydrateTemplateController(Ct, this.resolveResources ? C : C.name, void 0, _));\n                } else {\n                    (x ??= []).push(new HydrateAttributeInstruction(this.resolveResources ? C : C.name, C.aliases != null && C.aliases.includes(F) ? F : void 0, _));\n                }\n                continue;\n            }\n            if (H === null) {\n                D = h.parse(O, R);\n                if (D != null) {\n                    f();\n                    (B ??= []).push(new InterpolationInstruction(D, e.m.map(t, F) ?? (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.camelCase)(F)));\n                }\n                continue;\n            }\n            Tt.node = t;\n            Tt.attr = S;\n            Tt.bindable = null;\n            Tt.def = null;\n            (B ??= []).push(H.build(Tt, e.ep, e.m));\n            f();\n        }\n        resetCommandBuildInfo();\n        if (this.ft(t, B) && B != null && B.length > 1) {\n            this.gt(t, B);\n        }\n        if (l) {\n            V = new HydrateElementInstruction(this.resolveResources ? s : s.name, P ?? _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.emptyArray, null, N, a, q);\n        }\n        if (B != null || V != null || x != null) {\n            g = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.emptyArray.concat(V ?? _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.emptyArray, x ?? _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.emptyArray, B ?? _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.emptyArray);\n            U = true;\n        }\n        let G;\n        if (k != null) {\n            w = k.length - 1;\n            b = w;\n            L = k[b];\n            let n;\n            if (isMarker(t)) {\n                n = e.t();\n                appendManyToTemplate(n, [ e.wt(), e.bt(At), e.bt(yt) ]);\n            } else {\n                this.At(t, e);\n                if (t.nodeName === \"TEMPLATE\") {\n                    n = t;\n                } else {\n                    n = e.t();\n                    appendToTemplate(n, t);\n                }\n            }\n            const r = n;\n            const u = e.yt(g == null ? [] : [ g ]);\n            let c;\n            let a;\n            let h = false;\n            let d;\n            let f;\n            let m;\n            let p;\n            let A;\n            let y;\n            let I = 0, S = 0;\n            let B = t.firstChild;\n            let P = false;\n            if (W !== false) {\n                while (B !== null) {\n                    a = isElement(B) ? B.getAttribute(It) : null;\n                    h = a !== null || l && !o;\n                    c = B.nextSibling;\n                    if (h) {\n                        if (!l) {\n                            throw createMappedError(706, a, i);\n                        }\n                        B.removeAttribute?.(It);\n                        P = isTextNode(B) && B.textContent.trim() === \"\";\n                        if (!P) {\n                            ((f ??= {})[a || St] ??= []).push(B);\n                        }\n                        t.removeChild(B);\n                    }\n                    B = c;\n                }\n            }\n            if (f != null) {\n                d = {};\n                for (a in f) {\n                    n = e.t();\n                    m = f[a];\n                    for (I = 0, S = m.length; S > I; ++I) {\n                        p = m[I];\n                        if (p.nodeName === \"TEMPLATE\") {\n                            if (p.attributes.length > 0) {\n                                appendToTemplate(n, p);\n                            } else {\n                                appendToTemplate(n, p.content);\n                            }\n                        } else {\n                            appendToTemplate(n, p);\n                        }\n                    }\n                    y = e.yt();\n                    this.et(n.content, y);\n                    d[a] = {\n                        name: Bt(),\n                        type: v,\n                        template: n,\n                        instructions: y.rows,\n                        needsCompile: false\n                    };\n                }\n                V.projections = d;\n            }\n            if (U) {\n                if (l && (N || s.containerless)) {\n                    this.At(t, e);\n                } else {\n                    this.dt(t, e);\n                }\n            }\n            G = !l || !s.containerless && !N && W !== false;\n            if (G) {\n                if (t.nodeName === Pt) {\n                    this.et(t.content, u);\n                } else {\n                    B = t.firstChild;\n                    while (B !== null) {\n                        B = this.et(B, u);\n                    }\n                }\n            }\n            L.def = {\n                name: Bt(),\n                type: v,\n                template: r,\n                instructions: u.rows,\n                needsCompile: false\n            };\n            while (b-- > 0) {\n                L = k[b];\n                n = e.t();\n                A = e.wt();\n                appendManyToTemplate(n, [ A, e.bt(At), e.bt(yt) ]);\n                L.def = {\n                    name: Bt(),\n                    type: v,\n                    template: n,\n                    needsCompile: false,\n                    instructions: [ [ k[b + 1] ] ]\n                };\n            }\n            e.rows.push([ L ]);\n        } else {\n            if (g != null) {\n                e.rows.push(g);\n            }\n            let n = t.firstChild;\n            let r;\n            let u;\n            let c = false;\n            let a = null;\n            let h;\n            let d;\n            let f;\n            let m;\n            let p;\n            let w = false;\n            let b = 0, A = 0;\n            if (W !== false) {\n                while (n !== null) {\n                    u = isElement(n) ? n.getAttribute(It) : null;\n                    c = u !== null || l && !o;\n                    r = n.nextSibling;\n                    if (c) {\n                        if (!l) {\n                            throw createMappedError(706, u, i);\n                        }\n                        n.removeAttribute?.(It);\n                        w = isTextNode(n) && n.textContent.trim() === \"\";\n                        if (!w) {\n                            ((h ??= {})[u || St] ??= []).push(n);\n                        }\n                        t.removeChild(n);\n                    }\n                    n = r;\n                }\n            }\n            if (h != null) {\n                a = {};\n                for (u in h) {\n                    m = e.t();\n                    d = h[u];\n                    for (b = 0, A = d.length; A > b; ++b) {\n                        f = d[b];\n                        if (f.nodeName === Pt) {\n                            if (f.attributes.length > 0) {\n                                appendToTemplate(m, f);\n                            } else {\n                                appendToTemplate(m, f.content);\n                            }\n                        } else {\n                            appendToTemplate(m, f);\n                        }\n                    }\n                    p = e.yt();\n                    this.et(m.content, p);\n                    a[u] = {\n                        name: Bt(),\n                        type: v,\n                        template: m,\n                        instructions: p.rows,\n                        needsCompile: false\n                    };\n                }\n                V.projections = a;\n            }\n            if (U) {\n                if (l && (N || s.containerless)) {\n                    this.At(t, e);\n                } else {\n                    this.dt(t, e);\n                }\n            }\n            G = !l || !s.containerless && !N && W !== false;\n            if (G && t.childNodes.length > 0) {\n                n = t.firstChild;\n                while (n !== null) {\n                    n = this.et(n, e);\n                }\n            }\n        }\n        return n;\n    }\n    ht(t, e) {\n        const n = t.parentNode;\n        const i = e.ep.parse(t.textContent, R);\n        const r = t.nextSibling;\n        let s;\n        let l;\n        let o;\n        let u;\n        let c;\n        if (i !== null) {\n            ({parts: s, expressions: l} = i);\n            if (c = s[0]) {\n                insertBefore(n, e.It(c), t);\n            }\n            for (o = 0, u = l.length; u > o; ++o) {\n                insertManyBefore(n, t, [ e.wt(), e.It(\" \") ]);\n                if (c = s[o + 1]) {\n                    insertBefore(n, e.It(c), t);\n                }\n                e.rows.push([ new TextBindingInstruction(l[o]) ]);\n            }\n            n.removeChild(t);\n        }\n        return r;\n    }\n    ot(t, e, n, i) {\n        const r = i.st(n);\n        const s = e.length;\n        const l = [];\n        let o = void 0;\n        let u = void 0;\n        let c = 0;\n        let a = 0;\n        let h;\n        let d;\n        let f;\n        let m;\n        for (let p = 0; p < s; ++p) {\n            a = e.charCodeAt(p);\n            if (a === 92) {\n                ++p;\n            } else if (a === 58) {\n                o = e.slice(c, p);\n                while (e.charCodeAt(++p) <= 32) ;\n                c = p;\n                for (;p < s; ++p) {\n                    a = e.charCodeAt(p);\n                    if (a === 92) {\n                        ++p;\n                    } else if (a === 59) {\n                        u = e.slice(c, p);\n                        break;\n                    }\n                }\n                if (u === void 0) {\n                    u = e.slice(c);\n                }\n                d = i.X.parse(o, u);\n                f = i.rt(d);\n                m = r.attrs[d.target];\n                if (m == null) {\n                    throw createMappedError(707, d.target, n.name);\n                }\n                if (f === null) {\n                    h = i.ep.parse(u, R);\n                    l.push(h === null ? new SetPropertyInstruction(u, m.name) : new InterpolationInstruction(h, m.name));\n                } else {\n                    Tt.node = t;\n                    Tt.attr = d;\n                    Tt.bindable = m;\n                    Tt.def = n;\n                    l.push(f.build(Tt, i.ep, i.m));\n                }\n                while (p < s && e.charCodeAt(++p) <= 32) ;\n                c = p;\n                o = void 0;\n                u = void 0;\n            }\n        }\n        resetCommandBuildInfo();\n        return l;\n    }\n    tt(t, e) {\n        const n = e.root.def.name;\n        const i = t;\n        const s = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.toArray)(i.querySelectorAll(\"template[as-custom-element]\"));\n        const l = s.length;\n        if (l === 0) {\n            return;\n        }\n        if (l === i.childElementCount) {\n            throw createMappedError(708, n);\n        }\n        const o = new Set;\n        const u = [];\n        for (const t of s) {\n            if (t.parentNode !== i) {\n                throw createMappedError(709, n);\n            }\n            const e = processTemplateName(n, t, o);\n            const r = t.content;\n            const s = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.toArray)(r.querySelectorAll(\"bindable\"));\n            const l = new Set;\n            const c = new Set;\n            const a = s.reduce(((t, n) => {\n                if (n.parentNode !== r) {\n                    throw createMappedError(710, e);\n                }\n                const i = n.getAttribute(\"name\");\n                if (i === null) {\n                    throw createMappedError(711, n, e);\n                }\n                const s = n.getAttribute(\"attribute\");\n                if (s !== null && c.has(s) || l.has(i)) {\n                    throw createMappedError(712, l, s);\n                } else {\n                    if (s !== null) {\n                        c.add(s);\n                    }\n                    l.add(i);\n                }\n                const o = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.toArray)(n.attributes).filter((t => !_t.includes(t.name)));\n                if (o.length > 0) ;\n                n.remove();\n                t[i] = {\n                    name: i,\n                    attribute: s ?? void 0,\n                    mode: n.getAttribute(\"mode\") ?? \"default\"\n                };\n                return t;\n            }), {});\n            class LocalDepType {}\n            LocalDepType.$au = {\n                type: v,\n                name: e,\n                template: t,\n                bindables: a\n            };\n            Reflect.defineProperty(LocalDepType, \"name\", {\n                value: (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.pascalCase)(e)\n            });\n            u.push(LocalDepType);\n            i.removeChild(t);\n        }\n        const c = (e.root.def.dependencies ?? []).concat(e.root.def.Type == null ? _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.emptyArray : [ e.root.def.Type ]);\n        for (const t of u) {\n            t.dependencies = c.concat(u.filter((e => e !== t)));\n            e.St(t);\n        }\n    }\n    ft(t, e) {\n        const n = t.nodeName;\n        return n === \"INPUT\" && Et[t.type] === 1 || n === \"SELECT\" && (t.hasAttribute(\"multiple\") || e?.some((t => t.type === X && t.to === \"multiple\")));\n    }\n    gt(t, e) {\n        switch (t.nodeName) {\n          case \"INPUT\":\n            {\n                const t = e;\n                let n = void 0;\n                let i = void 0;\n                let r = 0;\n                let s;\n                for (let e = 0; e < t.length && r < 3; e++) {\n                    s = t[e];\n                    switch (s.to) {\n                      case \"model\":\n                      case \"value\":\n                      case \"matcher\":\n                        n = e;\n                        r++;\n                        break;\n\n                      case \"checked\":\n                        i = e;\n                        r++;\n                        break;\n                    }\n                }\n                if (i !== void 0 && n !== void 0 && i < n) {\n                    [t[n], t[i]] = [ t[i], t[n] ];\n                }\n                break;\n            }\n\n          case \"SELECT\":\n            {\n                const t = e;\n                let n = 0;\n                let i = 0;\n                let r = 0;\n                let s;\n                for (let e = 0; e < t.length && r < 2; ++e) {\n                    s = t[e];\n                    switch (s.to) {\n                      case \"multiple\":\n                        i = e;\n                        r++;\n                        break;\n\n                      case \"value\":\n                        n = e;\n                        r++;\n                        break;\n                    }\n                    if (r === 2 && n < i) {\n                        [t[i], t[n]] = [ t[n], t[i] ];\n                    }\n                }\n            }\n        }\n    }\n    dt(t, e) {\n        insertBefore(t.parentNode, e.bt(\"au*\"), t);\n        return t;\n    }\n    At(t, e) {\n        if (isMarker(t)) {\n            return t;\n        }\n        const n = t.parentNode;\n        const i = e.wt();\n        insertManyBefore(n, t, [ i, e.bt(At), e.bt(yt) ]);\n        n.removeChild(t);\n        return i;\n    }\n}\n\nTemplateCompiler.register = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.createImplementationRegister)(k);\n\nconst Pt = \"TEMPLATE\";\n\nconst isMarker = t => t.nodeValue === \"au*\";\n\nclass CompilationContext {\n    constructor(t, e, n, i, r) {\n        this.hasSlot = false;\n        this.deps = null;\n        const s = n !== null;\n        this.c = e;\n        this.root = i === null ? this : i;\n        this.def = t;\n        this.parent = n;\n        this.Bt = s ? n.Bt : e.get(xt);\n        this.Pt = s ? n.Pt : e.get(vt);\n        this.Z = s ? n.Z : e.get(wt);\n        this.X = s ? n.X : e.get(W);\n        this.ep = s ? n.ep : e.get(_aurelia_expression_parser__WEBPACK_IMPORTED_MODULE_2__.IExpressionParser);\n        this.m = s ? n.m : e.get(L);\n        this.Ct = s ? n.Ct : e.get(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.ILogger);\n        if (typeof (this.p = s ? n.p : e.get(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.IPlatform)).document?.nodeType !== \"number\") {\n            throw createMappedError(722);\n        }\n        this.localEls = s ? n.localEls : new Set;\n        this.rows = r ?? [];\n    }\n    St(t) {\n        (this.root.deps ??= []).push(t);\n        this.root.c.register(t);\n        return this;\n    }\n    It(t) {\n        return this.p.document.createTextNode(t);\n    }\n    bt(t) {\n        return this.p.document.createComment(t);\n    }\n    wt() {\n        return this.bt(\"au*\");\n    }\n    h(t) {\n        const e = this.p.document.createElement(t);\n        if (t === \"template\") {\n            this.p.document.adoptNode(e.content);\n        }\n        return e;\n    }\n    t() {\n        return this.h(\"template\");\n    }\n    it(t) {\n        return this.Bt.el(this.c, t);\n    }\n    lt(t) {\n        return this.Bt.attr(this.c, t);\n    }\n    st(t) {\n        return this.Bt.bindables(t);\n    }\n    yt(t) {\n        return new CompilationContext(this.def, this.c, this, this.root, t);\n    }\n    rt(t) {\n        const e = t.command;\n        if (e === null) {\n            return null;\n        }\n        return this.Pt.get(this.c, e);\n    }\n}\n\nconst hasInlineBindings = t => {\n    const e = t.length;\n    let n = 0;\n    let i = 0;\n    while (e > i) {\n        n = t.charCodeAt(i);\n        if (n === 92) {\n            ++i;\n        } else if (n === 58) {\n            return true;\n        } else if (n === 36 && t.charCodeAt(i + 1) === 123) {\n            return false;\n        }\n        ++i;\n    }\n    return false;\n};\n\nconst resetCommandBuildInfo = () => {\n    Tt.node = Tt.attr = Tt.bindable = Tt.def = null;\n};\n\nconst Ct = {\n    name: \"unnamed\",\n    type: v\n};\n\nconst Tt = {\n    node: null,\n    attr: null,\n    bindable: null,\n    def: null\n};\n\nconst Rt = {\n    id: true,\n    name: true,\n    \"au-slot\": true,\n    \"as-element\": true\n};\n\nconst Et = {\n    checkbox: 1,\n    radio: 1\n};\n\nconst xt = /*@__PURE__*/ B(\"IResourceResolver\");\n\nconst vt = /*@__PURE__*/ B(\"IBindingCommandResolver\", (t => {\n    class DefaultBindingCommandResolver {\n        constructor() {\n            this.U = new WeakMap;\n        }\n        get(t, e) {\n            let n = this.U.get(t);\n            if (!n) {\n                this.U.set(t, n = {});\n            }\n            return e in n ? n[e] : n[e] = gt.get(t, e);\n        }\n    }\n    return t.singleton(DefaultBindingCommandResolver);\n}));\n\nconst _t = P([ \"name\", \"attribute\", \"mode\" ]);\n\nconst kt = \"as-custom-element\";\n\nconst processTemplateName = (t, e, n) => {\n    const i = e.getAttribute(kt);\n    if (i === null || i === \"\") {\n        throw createMappedError(715, t);\n    }\n    if (n.has(i)) {\n        throw createMappedError(716, i, t);\n    } else {\n        n.add(i);\n        e.removeAttribute(kt);\n    }\n    return i;\n};\n\nconst Lt = /*@__PURE__*/ B(\"ITemplateCompilerHooks\");\n\nconst Dt = P({\n    name: /*@__PURE__*/ (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.getResourceKeyFor)(\"compiler-hooks\"),\n    define(t) {\n        return {\n            register(e) {\n                T(Lt, t).register(e);\n            }\n        };\n    },\n    findAll(t) {\n        return t.get((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.allResources)(Lt));\n    }\n});\n\nconst templateCompilerHooks = (t, e) => {\n    return t === void 0 ? decorator : decorator(t, e);\n    function decorator(t, e) {\n        e.metadata[_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.registrableMetadataKey] = Dt.define(t);\n        return t;\n    }\n};\n\n\n//# sourceMappingURL=index.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvdGVtcGxhdGUtY29tcGlsZXIvZGlzdC9lc20vaW5kZXgubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBMFk7O0FBRXhWOztBQUVtRDs7QUFFckc7O0FBRUEsVUFBVSwrQ0FBQzs7QUFFWDs7QUFFQSxPQUFPLDBCQUEwQixFQUFFLHlEQUFDOztBQUVwQzs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEOztBQUVBOztBQUVBLHVEQUF1RCwyQkFBMkIsR0FBRyxjQUFjOztBQUVuRzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EscUJBQXFCLHVEQUFDO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLHVEQUFDO0FBQzFCLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsT0FBTztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLE9BQU87QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLE9BQU87QUFDakM7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQiwwQkFBMEIsT0FBTztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsT0FBTztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsT0FBTztBQUNyQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLE9BQU87QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLE9BQU87QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxPQUFPO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLHdEQUFDO0FBQ2xCLGlCQUFpQix3REFBQyxDQUFDLHVEQUFDO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFlBQVk7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsbUVBQUM7QUFDcEI7QUFDQTtBQUNBOztBQUVBO0FBQ0EsVUFBVSxrRUFBQztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsS0FBSyxHQUFHLEtBQUs7QUFDcEQ7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLEtBQUssbUVBQUM7QUFDTjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxNQUFNO0FBQ047O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsS0FBSyxtRUFBQztBQUNOO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLE1BQU07QUFDTjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsS0FBSyxtRUFBQztBQUNOO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLE1BQU07QUFDTjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsS0FBSyxtRUFBQztBQUNOO0FBQ0E7QUFDQSxNQUFNO0FBQ047O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLEtBQUssbUVBQUM7QUFDTjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxNQUFNO0FBQ047O0FBRUEsVUFBVSx1REFBQzs7QUFFWCx1REFBQzs7QUFFRCxVQUFVLHVEQUFDOztBQUVYOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtB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QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QyxPQUFPO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QyxPQUFPO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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QUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLHdCQUF3QixrRUFBQztBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxxQkFBcUIsNkRBQUM7QUFDdEI7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixtRUFBQztBQUNwQjtBQUNBO0FBQ0E7O0FBRXFqRDtBQUNyakQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZXRyb2FwcC1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvdGVtcGxhdGUtY29tcGlsZXIvZGlzdC9lc20vaW5kZXgubWpzPzc1YzIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgREkgYXMgdCwgUmVnaXN0cmF0aW9uIGFzIGUsIGdldFJlc291cmNlS2V5Rm9yIGFzIG4sIHJlZ2lzdHJhYmxlTWV0YWRhdGFLZXkgYXMgaSwgZW1wdHlBcnJheSBhcyByLCByZXNvbHZlIGFzIHMsIElDb250YWluZXIgYXMgbCwgZmlyc3REZWZpbmVkIGFzIG8sIG1lcmdlQXJyYXlzIGFzIHUsIFByb3RvY29sIGFzIGMsIHJlc291cmNlQmFzZU5hbWUgYXMgYSwgcmVzb3VyY2UgYXMgaCwgY2FtZWxDYXNlIGFzIGQsIElQbGF0Zm9ybSBhcyBmLCBjcmVhdGVJbXBsZW1lbnRhdGlvblJlZ2lzdGVyIGFzIG0sIG5vb3AgYXMgcCwgdG9BcnJheSBhcyBnLCBwYXNjYWxDYXNlIGFzIHcsIElMb2dnZXIgYXMgYiwgYWxsUmVzb3VyY2VzIGFzIEEgfSBmcm9tIFwiQGF1cmVsaWEva2VybmVsXCI7XG5cbmltcG9ydCB7IE1ldGFkYXRhIGFzIHkgfSBmcm9tIFwiQGF1cmVsaWEvbWV0YWRhdGFcIjtcblxuaW1wb3J0IHsgUHJpbWl0aXZlTGl0ZXJhbEV4cHJlc3Npb24gYXMgSSwgSUV4cHJlc3Npb25QYXJzZXIgYXMgUyB9IGZyb20gXCJAYXVyZWxpYS9leHByZXNzaW9uLXBhcnNlclwiO1xuXG5jb25zdCBpc1N0cmluZyA9IHQgPT4gdHlwZW9mIHQgPT09IFwic3RyaW5nXCI7XG5cbmNvbnN0IEIgPSB0LmNyZWF0ZUludGVyZmFjZTtcblxuY29uc3QgUCA9IE9iamVjdC5mcmVlemU7XG5cbmNvbnN0IHthbGlhc1RvOiBDLCBzaW5nbGV0b246IFR9ID0gZTtcblxuY29uc3QgUiA9IFwiSW50ZXJwb2xhdGlvblwiO1xuXG5jb25zdCBFID0gXCJJc0Z1bmN0aW9uXCI7XG5cbmNvbnN0IHggPSBcIklzUHJvcGVydHlcIjtcblxuY29uc3QgdiA9IFwiY3VzdG9tLWVsZW1lbnRcIjtcblxuY29uc3QgXyA9IC8qQF9fUFVSRV9fKi8gUCh7XG4gICAgZGVmYXVsdDogMCxcbiAgICBvbmVUaW1lOiAxLFxuICAgIHRvVmlldzogMixcbiAgICBmcm9tVmlldzogNCxcbiAgICB0d29XYXk6IDZcbn0pO1xuXG5jb25zdCBrID0gLypAX19QVVJFX18qLyBCKFwiSVRlbXBsYXRlQ29tcGlsZXJcIik7XG5cbmNvbnN0IEwgPSAvKkBfX1BVUkVfXyovIEIoXCJJQXR0ck1hcHBlclwiKTtcblxuY29uc3QgY3JlYXRlTWFwcGVkRXJyb3IgPSAodCwgLi4uZSkgPT4gbmV3IEVycm9yKGBBVVIke1N0cmluZyh0KS5wYWRTdGFydCg0LCBcIjBcIil9OiR7ZS5tYXAoU3RyaW5nKX1gKTtcblxudmFyIEQsIFYsIEgsIE0sICQ7XG5cbmNsYXNzIENoYXJTcGVjIHtcbiAgICBjb25zdHJ1Y3Rvcih0LCBlLCBuLCBpKSB7XG4gICAgICAgIHRoaXMuY2hhcnMgPSB0O1xuICAgICAgICB0aGlzLnJlcGVhdCA9IGU7XG4gICAgICAgIHRoaXMuaXNTeW1ib2wgPSBuO1xuICAgICAgICB0aGlzLmlzSW52ZXJ0ZWQgPSBpO1xuICAgICAgICBpZiAoaSkge1xuICAgICAgICAgICAgc3dpdGNoICh0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgdGhpcy5oYXMgPSB0aGlzLmk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIHRoaXMuaGFzID0gdGhpcy51O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhpcy5oYXMgPSB0aGlzLkE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICB0aGlzLmhhcyA9IHRoaXMuSTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgdGhpcy5oYXMgPSB0aGlzLkI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aGlzLmhhcyA9IHRoaXMuUDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBlcXVhbHModCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGFycyA9PT0gdC5jaGFycyAmJiB0aGlzLnJlcGVhdCA9PT0gdC5yZXBlYXQgJiYgdGhpcy5pc1N5bWJvbCA9PT0gdC5pc1N5bWJvbCAmJiB0aGlzLmlzSW52ZXJ0ZWQgPT09IHQuaXNJbnZlcnRlZDtcbiAgICB9XG4gICAgUCh0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNoYXJzLmluY2x1ZGVzKHQpO1xuICAgIH1cbiAgICBCKHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hhcnMgPT09IHQ7XG4gICAgfVxuICAgIEkodCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIEEodCkge1xuICAgICAgICByZXR1cm4gIXRoaXMuY2hhcnMuaW5jbHVkZXModCk7XG4gICAgfVxuICAgIHUodCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGFycyAhPT0gdDtcbiAgICB9XG4gICAgaSh0KSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn1cblxuY2xhc3MgSW50ZXJwcmV0YXRpb24ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnBhcnRzID0gcjtcbiAgICAgICAgdGhpcy5DID0gXCJcIjtcbiAgICAgICAgdGhpcy5UID0ge307XG4gICAgICAgIHRoaXMuUiA9IHt9O1xuICAgIH1cbiAgICBnZXQgcGF0dGVybigpIHtcbiAgICAgICAgY29uc3QgdCA9IHRoaXMuQztcbiAgICAgICAgaWYgKHQgPT09IFwiXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0IHBhdHRlcm4odCkge1xuICAgICAgICBpZiAodCA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLkMgPSBcIlwiO1xuICAgICAgICAgICAgdGhpcy5wYXJ0cyA9IHI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLkMgPSB0O1xuICAgICAgICAgICAgdGhpcy5wYXJ0cyA9IHRoaXMuUlt0XTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhcHBlbmQodCwgZSkge1xuICAgICAgICBjb25zdCBuID0gdGhpcy5UO1xuICAgICAgICBpZiAoblt0XSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBuW3RdID0gZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5bdF0gKz0gZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBuZXh0KHQpIHtcbiAgICAgICAgY29uc3QgZSA9IHRoaXMuVDtcbiAgICAgICAgbGV0IG47XG4gICAgICAgIGlmIChlW3RdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG4gPSB0aGlzLlI7XG4gICAgICAgICAgICBpZiAoblt0XSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgblt0XSA9IFsgZVt0XSBdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBuW3RdLnB1c2goZVt0XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlW3RdID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5jbGFzcyBBdHRyUGFyc2luZ1N0YXRlIHtcbiAgICBnZXQgQygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuXyA/IHRoaXMuTFswXSA6IG51bGw7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKHQsIC4uLmUpIHtcbiAgICAgICAgdGhpcy5jaGFyU3BlYyA9IHQ7XG4gICAgICAgIHRoaXMuViA9IFtdO1xuICAgICAgICB0aGlzLkggPSBudWxsO1xuICAgICAgICB0aGlzLl8gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5MID0gZTtcbiAgICB9XG4gICAgZmluZENoaWxkKHQpIHtcbiAgICAgICAgY29uc3QgZSA9IHRoaXMuVjtcbiAgICAgICAgY29uc3QgbiA9IGUubGVuZ3RoO1xuICAgICAgICBsZXQgaSA9IG51bGw7XG4gICAgICAgIGxldCByID0gMDtcbiAgICAgICAgZm9yICg7ciA8IG47ICsrcikge1xuICAgICAgICAgICAgaSA9IGVbcl07XG4gICAgICAgICAgICBpZiAodC5lcXVhbHMoaS5jaGFyU3BlYykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgYXBwZW5kKHQsIGUpIHtcbiAgICAgICAgY29uc3QgbiA9IHRoaXMuTDtcbiAgICAgICAgaWYgKCFuLmluY2x1ZGVzKGUpKSB7XG4gICAgICAgICAgICBuLnB1c2goZSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGkgPSB0aGlzLmZpbmRDaGlsZCh0KTtcbiAgICAgICAgaWYgKGkgPT0gbnVsbCkge1xuICAgICAgICAgICAgaSA9IG5ldyBBdHRyUGFyc2luZ1N0YXRlKHQsIGUpO1xuICAgICAgICAgICAgdGhpcy5WLnB1c2goaSk7XG4gICAgICAgICAgICBpZiAodC5yZXBlYXQpIHtcbiAgICAgICAgICAgICAgICBpLlYucHVzaChpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaTtcbiAgICB9XG4gICAgZmluZE1hdGNoZXModCwgZSkge1xuICAgICAgICBjb25zdCBuID0gW107XG4gICAgICAgIGNvbnN0IGkgPSB0aGlzLlY7XG4gICAgICAgIGNvbnN0IHIgPSBpLmxlbmd0aDtcbiAgICAgICAgbGV0IHMgPSAwO1xuICAgICAgICBsZXQgbCA9IG51bGw7XG4gICAgICAgIGxldCBvID0gMDtcbiAgICAgICAgbGV0IHUgPSAwO1xuICAgICAgICBmb3IgKDtvIDwgcjsgKytvKSB7XG4gICAgICAgICAgICBsID0gaVtvXTtcbiAgICAgICAgICAgIGlmIChsLmNoYXJTcGVjLmhhcyh0KSkge1xuICAgICAgICAgICAgICAgIG4ucHVzaChsKTtcbiAgICAgICAgICAgICAgICBzID0gbC5MLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB1ID0gMDtcbiAgICAgICAgICAgICAgICBpZiAobC5jaGFyU3BlYy5pc1N5bWJvbCkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKDt1IDwgczsgKyt1KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLm5leHQobC5MW3VdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoO3UgPCBzOyArK3UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUuYXBwZW5kKGwuTFt1XSwgdCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG47XG4gICAgfVxufVxuXG5jbGFzcyBTdGF0aWNTZWdtZW50IHtcbiAgICBjb25zdHJ1Y3Rvcih0KSB7XG4gICAgICAgIHRoaXMudGV4dCA9IHQ7XG4gICAgICAgIGNvbnN0IGUgPSB0aGlzLk0gPSB0Lmxlbmd0aDtcbiAgICAgICAgY29uc3QgbiA9IHRoaXMuJCA9IFtdO1xuICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgIGZvciAoO2UgPiBpOyArK2kpIHtcbiAgICAgICAgICAgIG4ucHVzaChuZXcgQ2hhclNwZWModFtpXSwgZmFsc2UsIGZhbHNlLCBmYWxzZSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVhY2hDaGFyKHQpIHtcbiAgICAgICAgY29uc3QgZSA9IHRoaXMuTTtcbiAgICAgICAgY29uc3QgbiA9IHRoaXMuJDtcbiAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICBmb3IgKDtlID4gaTsgKytpKSB7XG4gICAgICAgICAgICB0KG5baV0pO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5jbGFzcyBEeW5hbWljU2VnbWVudCB7XG4gICAgY29uc3RydWN0b3IodCkge1xuICAgICAgICB0aGlzLnRleHQgPSBcIlBBUlRcIjtcbiAgICAgICAgdGhpcy5GID0gbmV3IENoYXJTcGVjKHQsIHRydWUsIGZhbHNlLCB0cnVlKTtcbiAgICB9XG4gICAgZWFjaENoYXIodCkge1xuICAgICAgICB0KHRoaXMuRik7XG4gICAgfVxufVxuXG5jbGFzcyBTeW1ib2xTZWdtZW50IHtcbiAgICBjb25zdHJ1Y3Rvcih0KSB7XG4gICAgICAgIHRoaXMudGV4dCA9IHQ7XG4gICAgICAgIHRoaXMuRiA9IG5ldyBDaGFyU3BlYyh0LCBmYWxzZSwgdHJ1ZSwgZmFsc2UpO1xuICAgIH1cbiAgICBlYWNoQ2hhcih0KSB7XG4gICAgICAgIHQodGhpcy5GKTtcbiAgICB9XG59XG5cbmNsYXNzIFNlZ21lbnRUeXBlcyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuc3RhdGljcyA9IDA7XG4gICAgICAgIHRoaXMuZHluYW1pY3MgPSAwO1xuICAgICAgICB0aGlzLnN5bWJvbHMgPSAwO1xuICAgIH1cbn1cblxuY29uc3QgRiA9IC8qQF9fUFVSRV9fKi8gQihcIklTeW50YXhJbnRlcnByZXRlclwiLCAodCA9PiB0LnNpbmdsZXRvbihTeW50YXhJbnRlcnByZXRlcikpKTtcblxuY2xhc3MgU3ludGF4SW50ZXJwcmV0ZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLk8gPSBuZXcgQXR0clBhcnNpbmdTdGF0ZShudWxsKTtcbiAgICAgICAgdGhpcy5XID0gWyB0aGlzLk8gXTtcbiAgICB9XG4gICAgYWRkKHQpIHtcbiAgICAgICAgdCA9IHQuc2xpY2UoMCkuc29ydCgoKHQsIGUpID0+IHQucGF0dGVybiA+IGUucGF0dGVybiA/IDEgOiAtMSkpO1xuICAgICAgICBjb25zdCBlID0gdC5sZW5ndGg7XG4gICAgICAgIGxldCBuO1xuICAgICAgICBsZXQgaTtcbiAgICAgICAgbGV0IHI7XG4gICAgICAgIGxldCBzO1xuICAgICAgICBsZXQgbDtcbiAgICAgICAgbGV0IG87XG4gICAgICAgIGxldCB1O1xuICAgICAgICBsZXQgYyA9IDA7XG4gICAgICAgIGxldCBhO1xuICAgICAgICB3aGlsZSAoZSA+IGMpIHtcbiAgICAgICAgICAgIG4gPSB0aGlzLk87XG4gICAgICAgICAgICBpID0gdFtjXTtcbiAgICAgICAgICAgIHIgPSBpLnBhdHRlcm47XG4gICAgICAgICAgICBzID0gbmV3IFNlZ21lbnRUeXBlcztcbiAgICAgICAgICAgIGwgPSB0aGlzLk4oaSwgcyk7XG4gICAgICAgICAgICBvID0gbC5sZW5ndGg7XG4gICAgICAgICAgICB1ID0gdCA9PiBuID0gbi5hcHBlbmQodCwgcik7XG4gICAgICAgICAgICBmb3IgKGEgPSAwOyBvID4gYTsgKythKSB7XG4gICAgICAgICAgICAgICAgbFthXS5lYWNoQ2hhcih1KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG4uSCA9IHM7XG4gICAgICAgICAgICBuLl8gPSB0cnVlO1xuICAgICAgICAgICAgKytjO1xuICAgICAgICB9XG4gICAgfVxuICAgIGludGVycHJldCh0KSB7XG4gICAgICAgIGNvbnN0IGUgPSBuZXcgSW50ZXJwcmV0YXRpb247XG4gICAgICAgIGNvbnN0IG4gPSB0Lmxlbmd0aDtcbiAgICAgICAgbGV0IGkgPSB0aGlzLlc7XG4gICAgICAgIGxldCByID0gMDtcbiAgICAgICAgbGV0IHM7XG4gICAgICAgIGZvciAoO3IgPCBuOyArK3IpIHtcbiAgICAgICAgICAgIGkgPSB0aGlzLmooaSwgdC5jaGFyQXQociksIGUpO1xuICAgICAgICAgICAgaWYgKGkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaSA9IGkuZmlsdGVyKGlzRW5kcG9pbnQpO1xuICAgICAgICBpZiAoaS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBpLnNvcnQoc29ydEVuZHBvaW50KTtcbiAgICAgICAgICAgIHMgPSBpWzBdO1xuICAgICAgICAgICAgaWYgKCFzLmNoYXJTcGVjLmlzU3ltYm9sKSB7XG4gICAgICAgICAgICAgICAgZS5uZXh0KHMuQyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlLnBhdHRlcm4gPSBzLkM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGU7XG4gICAgfVxuICAgIGoodCwgZSwgbikge1xuICAgICAgICBjb25zdCBpID0gW107XG4gICAgICAgIGxldCByID0gbnVsbDtcbiAgICAgICAgY29uc3QgcyA9IHQubGVuZ3RoO1xuICAgICAgICBsZXQgbCA9IDA7XG4gICAgICAgIGZvciAoO2wgPCBzOyArK2wpIHtcbiAgICAgICAgICAgIHIgPSB0W2xdO1xuICAgICAgICAgICAgaS5wdXNoKC4uLnIuZmluZE1hdGNoZXMoZSwgbikpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpO1xuICAgIH1cbiAgICBOKHQsIGUpIHtcbiAgICAgICAgY29uc3QgbiA9IFtdO1xuICAgICAgICBjb25zdCBpID0gdC5wYXR0ZXJuO1xuICAgICAgICBjb25zdCByID0gaS5sZW5ndGg7XG4gICAgICAgIGNvbnN0IHMgPSB0LnN5bWJvbHM7XG4gICAgICAgIGxldCBsID0gMDtcbiAgICAgICAgbGV0IG8gPSAwO1xuICAgICAgICBsZXQgdSA9IFwiXCI7XG4gICAgICAgIHdoaWxlIChsIDwgcikge1xuICAgICAgICAgICAgdSA9IGkuY2hhckF0KGwpO1xuICAgICAgICAgICAgaWYgKHMubGVuZ3RoID09PSAwIHx8ICFzLmluY2x1ZGVzKHUpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGwgPT09IG8pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHUgPT09IFwiUFwiICYmIGkuc2xpY2UobCwgbCArIDQpID09PSBcIlBBUlRcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgbyA9IGwgPSBsICsgNDtcbiAgICAgICAgICAgICAgICAgICAgICAgIG4ucHVzaChuZXcgRHluYW1pY1NlZ21lbnQocykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgKytlLmR5bmFtaWNzO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgKytsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgKytsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAobCAhPT0gbykge1xuICAgICAgICAgICAgICAgIG4ucHVzaChuZXcgU3RhdGljU2VnbWVudChpLnNsaWNlKG8sIGwpKSk7XG4gICAgICAgICAgICAgICAgKytlLnN0YXRpY3M7XG4gICAgICAgICAgICAgICAgbyA9IGw7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG4ucHVzaChuZXcgU3ltYm9sU2VnbWVudChpLnNsaWNlKG8sIGwgKyAxKSkpO1xuICAgICAgICAgICAgICAgICsrZS5zeW1ib2xzO1xuICAgICAgICAgICAgICAgIG8gPSArK2w7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG8gIT09IGwpIHtcbiAgICAgICAgICAgIG4ucHVzaChuZXcgU3RhdGljU2VnbWVudChpLnNsaWNlKG8sIGwpKSk7XG4gICAgICAgICAgICArK2Uuc3RhdGljcztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbjtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGlzRW5kcG9pbnQodCkge1xuICAgIHJldHVybiB0Ll87XG59XG5cbmZ1bmN0aW9uIHNvcnRFbmRwb2ludCh0LCBlKSB7XG4gICAgY29uc3QgbiA9IHQuSDtcbiAgICBjb25zdCBpID0gZS5IO1xuICAgIGlmIChuLnN0YXRpY3MgIT09IGkuc3RhdGljcykge1xuICAgICAgICByZXR1cm4gaS5zdGF0aWNzIC0gbi5zdGF0aWNzO1xuICAgIH1cbiAgICBpZiAobi5keW5hbWljcyAhPT0gaS5keW5hbWljcykge1xuICAgICAgICByZXR1cm4gaS5keW5hbWljcyAtIG4uZHluYW1pY3M7XG4gICAgfVxuICAgIGlmIChuLnN5bWJvbHMgIT09IGkuc3ltYm9scykge1xuICAgICAgICByZXR1cm4gaS5zeW1ib2xzIC0gbi5zeW1ib2xzO1xuICAgIH1cbiAgICByZXR1cm4gMDtcbn1cblxuY2xhc3MgQXR0clN5bnRheCB7XG4gICAgY29uc3RydWN0b3IodCwgZSwgbiwgaSwgciA9IG51bGwpIHtcbiAgICAgICAgdGhpcy5yYXdOYW1lID0gdDtcbiAgICAgICAgdGhpcy5yYXdWYWx1ZSA9IGU7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gbjtcbiAgICAgICAgdGhpcy5jb21tYW5kID0gaTtcbiAgICAgICAgdGhpcy5wYXJ0cyA9IHI7XG4gICAgfVxufVxuXG5jb25zdCBPID0gLypAX19QVVJFX18qLyBCKFwiSUF0dHJpYnV0ZVBhdHRlcm5cIik7XG5cbmNvbnN0IFcgPSAvKkBfX1BVUkVfXyovIEIoXCJJQXR0cmlidXRlUGFyc2VyXCIsICh0ID0+IHQuc2luZ2xldG9uKEF0dHJpYnV0ZVBhcnNlcikpKTtcblxuY2xhc3MgQXR0cmlidXRlUGFyc2VyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5VID0ge307XG4gICAgICAgIHRoaXMuTCA9IHt9O1xuICAgICAgICB0aGlzLnEgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5HID0gW107XG4gICAgICAgIHRoaXMuSiA9IHMoRik7XG4gICAgICAgIHRoaXMuYyA9IHMobCk7XG4gICAgfVxuICAgIHJlZ2lzdGVyUGF0dGVybih0LCBlKSB7XG4gICAgICAgIGlmICh0aGlzLnEpIHRocm93IGNyZWF0ZU1hcHBlZEVycm9yKDg4KTtcbiAgICAgICAgY29uc3QgbiA9IHRoaXMuTDtcbiAgICAgICAgZm9yIChjb25zdCB7cGF0dGVybjogaX0gb2YgdCkge1xuICAgICAgICAgICAgaWYgKG5baV0gIT0gbnVsbCkgdGhyb3cgY3JlYXRlTWFwcGVkRXJyb3IoODksIGkpO1xuICAgICAgICAgICAgbltpXSA9IHtcbiAgICAgICAgICAgICAgICBwYXR0ZXJuVHlwZTogZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLkcucHVzaCguLi50KTtcbiAgICB9XG4gICAgSygpIHtcbiAgICAgICAgdGhpcy5KLmFkZCh0aGlzLkcpO1xuICAgICAgICBjb25zdCB0ID0gdGhpcy5jO1xuICAgICAgICBmb3IgKGNvbnN0IFssIGVdIG9mIE9iamVjdC5lbnRyaWVzKHRoaXMuTCkpIHtcbiAgICAgICAgICAgIGUucGF0dGVybiA9IHQuZ2V0KGUucGF0dGVyblR5cGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHBhcnNlKHQsIGUpIHtcbiAgICAgICAgaWYgKCF0aGlzLnEpIHtcbiAgICAgICAgICAgIHRoaXMuSygpO1xuICAgICAgICAgICAgdGhpcy5xID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbiA9IHRoaXMuVVt0XTtcbiAgICAgICAgaWYgKG4gPT0gbnVsbCkge1xuICAgICAgICAgICAgbiA9IHRoaXMuVVt0XSA9IHRoaXMuSi5pbnRlcnByZXQodCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaSA9IG4ucGF0dGVybjtcbiAgICAgICAgaWYgKGkgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBBdHRyU3ludGF4KHQsIGUsIHQsIG51bGwsIG51bGwpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuTFtpXS5wYXR0ZXJuW2ldKHQsIGUsIG4ucGFydHMpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBhdHRyaWJ1dGVQYXR0ZXJuKC4uLnQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gZGVjb3JhdG9yKGUsIG4pIHtcbiAgICAgICAgY29uc3QgciA9IE4uY3JlYXRlKHQsIGUpO1xuICAgICAgICBuLm1ldGFkYXRhW2ldID0gcjtcbiAgICAgICAgcmV0dXJuIGU7XG4gICAgfTtcbn1cblxuY29uc3QgTiA9IC8qQF9fUFVSRV9fKi8gUCh7XG4gICAgbmFtZTogbihcImF0dHJpYnV0ZS1wYXR0ZXJuXCIpLFxuICAgIGNyZWF0ZSh0LCBlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZWdpc3RlcihuKSB7XG4gICAgICAgICAgICAgICAgbi5nZXQoVykucmVnaXN0ZXJQYXR0ZXJuKHQsIGUpO1xuICAgICAgICAgICAgICAgIFQoTywgZSkucmVnaXN0ZXIobik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxufSk7XG5cbmNsYXNzIERvdFNlcGFyYXRlZEF0dHJpYnV0ZVBhdHRlcm4ge1xuICAgIFwiUEFSVC5QQVJUXCIodCwgZSwgbikge1xuICAgICAgICByZXR1cm4gbmV3IEF0dHJTeW50YXgodCwgZSwgblswXSwgblsxXSk7XG4gICAgfVxuICAgIFwiUEFSVC5QQVJULlBBUlRcIih0LCBlLCBuKSB7XG4gICAgICAgIHJldHVybiBuZXcgQXR0clN5bnRheCh0LCBlLCBgJHtuWzBdfS4ke25bMV19YCwgblsyXSk7XG4gICAgfVxufVxuXG5EID0gU3ltYm9sLm1ldGFkYXRhO1xuXG5Eb3RTZXBhcmF0ZWRBdHRyaWJ1dGVQYXR0ZXJuW0RdID0ge1xuICAgIFtpXTogLypAX19QVVJFX18qLyBOLmNyZWF0ZShbIHtcbiAgICAgICAgcGF0dGVybjogXCJQQVJULlBBUlRcIixcbiAgICAgICAgc3ltYm9sczogXCIuXCJcbiAgICB9LCB7XG4gICAgICAgIHBhdHRlcm46IFwiUEFSVC5QQVJULlBBUlRcIixcbiAgICAgICAgc3ltYm9sczogXCIuXCJcbiAgICB9IF0sIERvdFNlcGFyYXRlZEF0dHJpYnV0ZVBhdHRlcm4pXG59O1xuXG5jbGFzcyBSZWZBdHRyaWJ1dGVQYXR0ZXJuIHtcbiAgICByZWYodCwgZSwgbikge1xuICAgICAgICByZXR1cm4gbmV3IEF0dHJTeW50YXgodCwgZSwgXCJlbGVtZW50XCIsIFwicmVmXCIpO1xuICAgIH1cbiAgICBcIlBBUlQucmVmXCIodCwgZSwgbikge1xuICAgICAgICBsZXQgaSA9IG5bMF07XG4gICAgICAgIGlmIChpID09PSBcInZpZXctbW9kZWxcIikge1xuICAgICAgICAgICAgaSA9IFwiY29tcG9uZW50XCI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBBdHRyU3ludGF4KHQsIGUsIGksIFwicmVmXCIpO1xuICAgIH1cbn1cblxuViA9IFN5bWJvbC5tZXRhZGF0YTtcblxuUmVmQXR0cmlidXRlUGF0dGVybltWXSA9IHtcbiAgICBbaV06IC8qQF9fUFVSRV9fKi8gTi5jcmVhdGUoWyB7XG4gICAgICAgIHBhdHRlcm46IFwicmVmXCIsXG4gICAgICAgIHN5bWJvbHM6IFwiXCJcbiAgICB9LCB7XG4gICAgICAgIHBhdHRlcm46IFwiUEFSVC5yZWZcIixcbiAgICAgICAgc3ltYm9sczogXCIuXCJcbiAgICB9IF0sIFJlZkF0dHJpYnV0ZVBhdHRlcm4pXG59O1xuXG5jbGFzcyBFdmVudEF0dHJpYnV0ZVBhdHRlcm4ge1xuICAgIFwiUEFSVC50cmlnZ2VyOlBBUlRcIih0LCBlLCBuKSB7XG4gICAgICAgIHJldHVybiBuZXcgQXR0clN5bnRheCh0LCBlLCBuWzBdLCBcInRyaWdnZXJcIiwgbik7XG4gICAgfVxuICAgIFwiUEFSVC5jYXB0dXJlOlBBUlRcIih0LCBlLCBuKSB7XG4gICAgICAgIHJldHVybiBuZXcgQXR0clN5bnRheCh0LCBlLCBuWzBdLCBcImNhcHR1cmVcIiwgbik7XG4gICAgfVxufVxuXG5IID0gU3ltYm9sLm1ldGFkYXRhO1xuXG5FdmVudEF0dHJpYnV0ZVBhdHRlcm5bSF0gPSB7XG4gICAgW2ldOiAvKkBfX1BVUkVfXyovIE4uY3JlYXRlKFsge1xuICAgICAgICBwYXR0ZXJuOiBcIlBBUlQudHJpZ2dlcjpQQVJUXCIsXG4gICAgICAgIHN5bWJvbHM6IFwiLjpcIlxuICAgIH0sIHtcbiAgICAgICAgcGF0dGVybjogXCJQQVJULmNhcHR1cmU6UEFSVFwiLFxuICAgICAgICBzeW1ib2xzOiBcIi46XCJcbiAgICB9IF0sIEV2ZW50QXR0cmlidXRlUGF0dGVybilcbn07XG5cbmNsYXNzIENvbG9uUHJlZml4ZWRCaW5kQXR0cmlidXRlUGF0dGVybiB7XG4gICAgXCI6UEFSVFwiKHQsIGUsIG4pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBdHRyU3ludGF4KHQsIGUsIG5bMF0sIFwiYmluZFwiKTtcbiAgICB9XG59XG5cbk0gPSBTeW1ib2wubWV0YWRhdGE7XG5cbkNvbG9uUHJlZml4ZWRCaW5kQXR0cmlidXRlUGF0dGVybltNXSA9IHtcbiAgICBbaV06IC8qQF9fUFVSRV9fKi8gTi5jcmVhdGUoWyB7XG4gICAgICAgIHBhdHRlcm46IFwiOlBBUlRcIixcbiAgICAgICAgc3ltYm9sczogXCI6XCJcbiAgICB9IF0sIENvbG9uUHJlZml4ZWRCaW5kQXR0cmlidXRlUGF0dGVybilcbn07XG5cbmNsYXNzIEF0UHJlZml4ZWRUcmlnZ2VyQXR0cmlidXRlUGF0dGVybiB7XG4gICAgXCJAUEFSVFwiKHQsIGUsIG4pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBdHRyU3ludGF4KHQsIGUsIG5bMF0sIFwidHJpZ2dlclwiKTtcbiAgICB9XG4gICAgXCJAUEFSVDpQQVJUXCIodCwgZSwgbikge1xuICAgICAgICByZXR1cm4gbmV3IEF0dHJTeW50YXgodCwgZSwgblswXSwgXCJ0cmlnZ2VyXCIsIFsgblswXSwgXCJ0cmlnZ2VyXCIsIC4uLm4uc2xpY2UoMSkgXSk7XG4gICAgfVxufVxuXG4kID0gU3ltYm9sLm1ldGFkYXRhO1xuXG5BdFByZWZpeGVkVHJpZ2dlckF0dHJpYnV0ZVBhdHRlcm5bJF0gPSB7XG4gICAgW2ldOiAvKkBfX1BVUkVfXyovIE4uY3JlYXRlKFsge1xuICAgICAgICBwYXR0ZXJuOiBcIkBQQVJUXCIsXG4gICAgICAgIHN5bWJvbHM6IFwiQFwiXG4gICAgfSwge1xuICAgICAgICBwYXR0ZXJuOiBcIkBQQVJUOlBBUlRcIixcbiAgICAgICAgc3ltYm9sczogXCJAOlwiXG4gICAgfSBdLCBBdFByZWZpeGVkVHJpZ2dlckF0dHJpYnV0ZVBhdHRlcm4pXG59O1xuXG5jb25zdCBqID0geS5nZXQ7XG5cbnkuaGFzO1xuXG5jb25zdCBVID0geS5kZWZpbmU7XG5cbmNvbnN0IHEgPSBcInJhXCI7XG5cbmNvbnN0IHogPSBcInJiXCI7XG5cbmNvbnN0IEcgPSBcInJjXCI7XG5cbmNvbnN0IEogPSBcInJkXCI7XG5cbmNvbnN0IEsgPSBcInJlXCI7XG5cbmNvbnN0IFEgPSBcInJmXCI7XG5cbmNvbnN0IFggPSBcInJnXCI7XG5cbmNvbnN0IFkgPSBcInJpXCI7XG5cbmNvbnN0IFogPSBcInJqXCI7XG5cbmNvbnN0IHR0ID0gXCJya1wiO1xuXG5jb25zdCBldCA9IFwicmxcIjtcblxuY29uc3QgbnQgPSBcImhhXCI7XG5cbmNvbnN0IGl0ID0gXCJoYlwiO1xuXG5jb25zdCBydCA9IFwiaGNcIjtcblxuY29uc3Qgc3QgPSBcImhkXCI7XG5cbmNvbnN0IGx0ID0gXCJoZVwiO1xuXG5jb25zdCBvdCA9IFwiaGZcIjtcblxuY29uc3QgdXQgPSBcImhnXCI7XG5cbmNvbnN0IGN0ID0gXCJoc1wiO1xuXG5jb25zdCBhdCA9IFwiaHBcIjtcblxuY29uc3QgaHQgPSBcInN2YlwiO1xuXG5jb25zdCBkdCA9IC8qQF9fUFVSRV9fKi8gUCh7XG4gICAgaHlkcmF0ZUVsZW1lbnQ6IHEsXG4gICAgaHlkcmF0ZUF0dHJpYnV0ZTogeixcbiAgICBoeWRyYXRlVGVtcGxhdGVDb250cm9sbGVyOiBHLFxuICAgIGh5ZHJhdGVMZXRFbGVtZW50OiBKLFxuICAgIHNldFByb3BlcnR5OiBLLFxuICAgIGludGVycG9sYXRpb246IFEsXG4gICAgcHJvcGVydHlCaW5kaW5nOiBYLFxuICAgIGxldEJpbmRpbmc6IFksXG4gICAgcmVmQmluZGluZzogWixcbiAgICBpdGVyYXRvckJpbmRpbmc6IHR0LFxuICAgIG11bHRpQXR0cjogZXQsXG4gICAgdGV4dEJpbmRpbmc6IG50LFxuICAgIGxpc3RlbmVyQmluZGluZzogaXQsXG4gICAgYXR0cmlidXRlQmluZGluZzogcnQsXG4gICAgc3R5bGVQcm9wZXJ0eUJpbmRpbmc6IHN0LFxuICAgIHNldEF0dHJpYnV0ZTogbHQsXG4gICAgc2V0Q2xhc3NBdHRyaWJ1dGU6IG90LFxuICAgIHNldFN0eWxlQXR0cmlidXRlOiB1dCxcbiAgICBzcHJlYWRUcmFuc2ZlcmVkQmluZGluZzogY3QsXG4gICAgc3ByZWFkRWxlbWVudFByb3A6IGF0LFxuICAgIHNwcmVhZFZhbHVlQmluZGluZzogaHRcbn0pO1xuXG5jb25zdCBmdCA9IC8qQF9fUFVSRV9fKi8gQihcIkluc3RydWN0aW9uXCIpO1xuXG5jbGFzcyBJbnRlcnBvbGF0aW9uSW5zdHJ1Y3Rpb24ge1xuICAgIGNvbnN0cnVjdG9yKHQsIGUpIHtcbiAgICAgICAgdGhpcy5mcm9tID0gdDtcbiAgICAgICAgdGhpcy50byA9IGU7XG4gICAgICAgIHRoaXMudHlwZSA9IFE7XG4gICAgfVxufVxuXG5jbGFzcyBQcm9wZXJ0eUJpbmRpbmdJbnN0cnVjdGlvbiB7XG4gICAgY29uc3RydWN0b3IodCwgZSwgbikge1xuICAgICAgICB0aGlzLmZyb20gPSB0O1xuICAgICAgICB0aGlzLnRvID0gZTtcbiAgICAgICAgdGhpcy5tb2RlID0gbjtcbiAgICAgICAgdGhpcy50eXBlID0gWDtcbiAgICB9XG59XG5cbmNsYXNzIEl0ZXJhdG9yQmluZGluZ0luc3RydWN0aW9uIHtcbiAgICBjb25zdHJ1Y3Rvcih0LCBlLCBuKSB7XG4gICAgICAgIHRoaXMuZm9yT2YgPSB0O1xuICAgICAgICB0aGlzLnRvID0gZTtcbiAgICAgICAgdGhpcy5wcm9wcyA9IG47XG4gICAgICAgIHRoaXMudHlwZSA9IHR0O1xuICAgIH1cbn1cblxuY2xhc3MgUmVmQmluZGluZ0luc3RydWN0aW9uIHtcbiAgICBjb25zdHJ1Y3Rvcih0LCBlKSB7XG4gICAgICAgIHRoaXMuZnJvbSA9IHQ7XG4gICAgICAgIHRoaXMudG8gPSBlO1xuICAgICAgICB0aGlzLnR5cGUgPSBaO1xuICAgIH1cbn1cblxuY2xhc3MgU2V0UHJvcGVydHlJbnN0cnVjdGlvbiB7XG4gICAgY29uc3RydWN0b3IodCwgZSkge1xuICAgICAgICB0aGlzLnZhbHVlID0gdDtcbiAgICAgICAgdGhpcy50byA9IGU7XG4gICAgICAgIHRoaXMudHlwZSA9IEs7XG4gICAgfVxufVxuXG5jbGFzcyBNdWx0aUF0dHJJbnN0cnVjdGlvbiB7XG4gICAgY29uc3RydWN0b3IodCwgZSwgbikge1xuICAgICAgICB0aGlzLnZhbHVlID0gdDtcbiAgICAgICAgdGhpcy50byA9IGU7XG4gICAgICAgIHRoaXMuY29tbWFuZCA9IG47XG4gICAgICAgIHRoaXMudHlwZSA9IGV0O1xuICAgIH1cbn1cblxuY2xhc3MgSHlkcmF0ZUVsZW1lbnRJbnN0cnVjdGlvbiB7XG4gICAgY29uc3RydWN0b3IodCwgZSwgbiwgaSwgciwgcykge1xuICAgICAgICB0aGlzLnJlcyA9IHQ7XG4gICAgICAgIHRoaXMucHJvcHMgPSBlO1xuICAgICAgICB0aGlzLnByb2plY3Rpb25zID0gbjtcbiAgICAgICAgdGhpcy5jb250YWluZXJsZXNzID0gaTtcbiAgICAgICAgdGhpcy5jYXB0dXJlcyA9IHI7XG4gICAgICAgIHRoaXMuZGF0YSA9IHM7XG4gICAgICAgIHRoaXMudHlwZSA9IHE7XG4gICAgfVxufVxuXG5jbGFzcyBIeWRyYXRlQXR0cmlidXRlSW5zdHJ1Y3Rpb24ge1xuICAgIGNvbnN0cnVjdG9yKHQsIGUsIG4pIHtcbiAgICAgICAgdGhpcy5yZXMgPSB0O1xuICAgICAgICB0aGlzLmFsaWFzID0gZTtcbiAgICAgICAgdGhpcy5wcm9wcyA9IG47XG4gICAgICAgIHRoaXMudHlwZSA9IHo7XG4gICAgfVxufVxuXG5jbGFzcyBIeWRyYXRlVGVtcGxhdGVDb250cm9sbGVyIHtcbiAgICBjb25zdHJ1Y3Rvcih0LCBlLCBuLCBpKSB7XG4gICAgICAgIHRoaXMuZGVmID0gdDtcbiAgICAgICAgdGhpcy5yZXMgPSBlO1xuICAgICAgICB0aGlzLmFsaWFzID0gbjtcbiAgICAgICAgdGhpcy5wcm9wcyA9IGk7XG4gICAgICAgIHRoaXMudHlwZSA9IEc7XG4gICAgfVxufVxuXG5jbGFzcyBIeWRyYXRlTGV0RWxlbWVudEluc3RydWN0aW9uIHtcbiAgICBjb25zdHJ1Y3Rvcih0LCBlKSB7XG4gICAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zID0gdDtcbiAgICAgICAgdGhpcy50b0JpbmRpbmdDb250ZXh0ID0gZTtcbiAgICAgICAgdGhpcy50eXBlID0gSjtcbiAgICB9XG59XG5cbmNsYXNzIExldEJpbmRpbmdJbnN0cnVjdGlvbiB7XG4gICAgY29uc3RydWN0b3IodCwgZSkge1xuICAgICAgICB0aGlzLmZyb20gPSB0O1xuICAgICAgICB0aGlzLnRvID0gZTtcbiAgICAgICAgdGhpcy50eXBlID0gWTtcbiAgICB9XG59XG5cbmNsYXNzIFRleHRCaW5kaW5nSW5zdHJ1Y3Rpb24ge1xuICAgIGNvbnN0cnVjdG9yKHQpIHtcbiAgICAgICAgdGhpcy5mcm9tID0gdDtcbiAgICAgICAgdGhpcy50eXBlID0gbnQ7XG4gICAgfVxufVxuXG5jbGFzcyBMaXN0ZW5lckJpbmRpbmdJbnN0cnVjdGlvbiB7XG4gICAgY29uc3RydWN0b3IodCwgZSwgbiwgaSkge1xuICAgICAgICB0aGlzLmZyb20gPSB0O1xuICAgICAgICB0aGlzLnRvID0gZTtcbiAgICAgICAgdGhpcy5jYXB0dXJlID0gbjtcbiAgICAgICAgdGhpcy5tb2RpZmllciA9IGk7XG4gICAgICAgIHRoaXMudHlwZSA9IGl0O1xuICAgIH1cbn1cblxuY2xhc3MgU3R5bGVQcm9wZXJ0eUJpbmRpbmdJbnN0cnVjdGlvbiB7XG4gICAgY29uc3RydWN0b3IodCwgZSkge1xuICAgICAgICB0aGlzLmZyb20gPSB0O1xuICAgICAgICB0aGlzLnRvID0gZTtcbiAgICAgICAgdGhpcy50eXBlID0gc3Q7XG4gICAgfVxufVxuXG5jbGFzcyBTZXRBdHRyaWJ1dGVJbnN0cnVjdGlvbiB7XG4gICAgY29uc3RydWN0b3IodCwgZSkge1xuICAgICAgICB0aGlzLnZhbHVlID0gdDtcbiAgICAgICAgdGhpcy50byA9IGU7XG4gICAgICAgIHRoaXMudHlwZSA9IGx0O1xuICAgIH1cbn1cblxuY2xhc3MgU2V0Q2xhc3NBdHRyaWJ1dGVJbnN0cnVjdGlvbiB7XG4gICAgY29uc3RydWN0b3IodCkge1xuICAgICAgICB0aGlzLnZhbHVlID0gdDtcbiAgICAgICAgdGhpcy50eXBlID0gb3Q7XG4gICAgfVxufVxuXG5jbGFzcyBTZXRTdHlsZUF0dHJpYnV0ZUluc3RydWN0aW9uIHtcbiAgICBjb25zdHJ1Y3Rvcih0KSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSB0O1xuICAgICAgICB0aGlzLnR5cGUgPSB1dDtcbiAgICB9XG59XG5cbmNsYXNzIEF0dHJpYnV0ZUJpbmRpbmdJbnN0cnVjdGlvbiB7XG4gICAgY29uc3RydWN0b3IodCwgZSwgbikge1xuICAgICAgICB0aGlzLmF0dHIgPSB0O1xuICAgICAgICB0aGlzLmZyb20gPSBlO1xuICAgICAgICB0aGlzLnRvID0gbjtcbiAgICAgICAgdGhpcy50eXBlID0gcnQ7XG4gICAgfVxufVxuXG5jbGFzcyBTcHJlYWRUcmFuc2ZlcmVkQmluZGluZ0luc3RydWN0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy50eXBlID0gY3Q7XG4gICAgfVxufVxuXG5jbGFzcyBTcHJlYWRFbGVtZW50UHJvcEJpbmRpbmdJbnN0cnVjdGlvbiB7XG4gICAgY29uc3RydWN0b3IodCkge1xuICAgICAgICB0aGlzLmluc3RydWN0aW9uID0gdDtcbiAgICAgICAgdGhpcy50eXBlID0gYXQ7XG4gICAgfVxufVxuXG5jbGFzcyBTcHJlYWRWYWx1ZUJpbmRpbmdJbnN0cnVjdGlvbiB7XG4gICAgY29uc3RydWN0b3IodCwgZSkge1xuICAgICAgICB0aGlzLnRhcmdldCA9IHQ7XG4gICAgICAgIHRoaXMuZnJvbSA9IGU7XG4gICAgICAgIHRoaXMudHlwZSA9IGh0O1xuICAgIH1cbn1cblxuZnVuY3Rpb24gYmluZGluZ0NvbW1hbmQodCkge1xuICAgIHJldHVybiBmdW5jdGlvbihlLCBuKSB7XG4gICAgICAgIG4uYWRkSW5pdGlhbGl6ZXIoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZ3QuZGVmaW5lKHQsIGUpO1xuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybiBlO1xuICAgIH07XG59XG5cbmNsYXNzIEJpbmRpbmdDb21tYW5kRGVmaW5pdGlvbiB7XG4gICAgY29uc3RydWN0b3IodCwgZSwgbiwgaSkge1xuICAgICAgICB0aGlzLlR5cGUgPSB0O1xuICAgICAgICB0aGlzLm5hbWUgPSBlO1xuICAgICAgICB0aGlzLmFsaWFzZXMgPSBuO1xuICAgICAgICB0aGlzLmtleSA9IGk7XG4gICAgfVxuICAgIHN0YXRpYyBjcmVhdGUodCwgZSkge1xuICAgICAgICBsZXQgbjtcbiAgICAgICAgbGV0IGk7XG4gICAgICAgIGlmIChpc1N0cmluZyh0KSkge1xuICAgICAgICAgICAgbiA9IHQ7XG4gICAgICAgICAgICBpID0ge1xuICAgICAgICAgICAgICAgIG5hbWU6IG5cbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuID0gdC5uYW1lO1xuICAgICAgICAgICAgaSA9IHQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBCaW5kaW5nQ29tbWFuZERlZmluaXRpb24oZSwgbyhnZXRDb21tYW5kQW5ub3RhdGlvbihlLCBcIm5hbWVcIiksIG4pLCB1KGdldENvbW1hbmRBbm5vdGF0aW9uKGUsIFwiYWxpYXNlc1wiKSwgaS5hbGlhc2VzLCBlLmFsaWFzZXMpLCBnZXRDb21tYW5kS2V5RnJvbShuKSk7XG4gICAgfVxuICAgIHJlZ2lzdGVyKHQsIGUpIHtcbiAgICAgICAgY29uc3QgbiA9IHRoaXMuVHlwZTtcbiAgICAgICAgY29uc3QgaSA9IHR5cGVvZiBlID09PSBcInN0cmluZ1wiID8gZ2V0Q29tbWFuZEtleUZyb20oZSkgOiB0aGlzLmtleTtcbiAgICAgICAgY29uc3QgciA9IHRoaXMuYWxpYXNlcztcbiAgICAgICAgaWYgKCF0LmhhcyhpLCBmYWxzZSkpIHtcbiAgICAgICAgICAgIHQucmVnaXN0ZXIodC5oYXMobiwgZmFsc2UpID8gbnVsbCA6IFQobiwgbiksIEMobiwgaSksIC4uLnIubWFwKCh0ID0+IEMobiwgZ2V0Q29tbWFuZEtleUZyb20odCkpKSkpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5jb25zdCBtdCA9IFwiYmluZGluZy1jb21tYW5kXCI7XG5cbmNvbnN0IHB0ID0gLypAX19QVVJFX18qLyBuKG10KTtcblxuY29uc3QgZ2V0Q29tbWFuZEtleUZyb20gPSB0ID0+IGAke3B0fToke3R9YDtcblxuY29uc3QgZ2V0Q29tbWFuZEFubm90YXRpb24gPSAodCwgZSkgPT4gaihjLmFubm90YXRpb24ua2V5Rm9yKGUpLCB0KTtcblxuY29uc3QgZ3QgPSAvKkBfX1BVUkVfXyovICgoKSA9PiB7XG4gICAgY29uc3QgdCA9IFwiX19hdV9zdGF0aWNfcmVzb3VyY2VfX1wiO1xuICAgIGNvbnN0IGdldERlZmluaXRpb25Gcm9tU3RhdGljQXUgPSAoZSwgbiwgaSkgPT4ge1xuICAgICAgICBsZXQgciA9IGoodCwgZSk7XG4gICAgICAgIGlmIChyID09IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChlLiRhdT8udHlwZSA9PT0gbikge1xuICAgICAgICAgICAgICAgIHIgPSBpKGUuJGF1LCBlKTtcbiAgICAgICAgICAgICAgICBVKHIsIGUsIHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByO1xuICAgIH07XG4gICAgcmV0dXJuIFAoe1xuICAgICAgICBuYW1lOiBwdCxcbiAgICAgICAga2V5RnJvbTogZ2V0Q29tbWFuZEtleUZyb20sXG4gICAgICAgIGRlZmluZSh0LCBlKSB7XG4gICAgICAgICAgICBjb25zdCBuID0gQmluZGluZ0NvbW1hbmREZWZpbml0aW9uLmNyZWF0ZSh0LCBlKTtcbiAgICAgICAgICAgIGNvbnN0IGkgPSBuLlR5cGU7XG4gICAgICAgICAgICBVKG4sIGksIHB0LCBhKTtcbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9LFxuICAgICAgICBnZXRBbm5vdGF0aW9uOiBnZXRDb21tYW5kQW5ub3RhdGlvbixcbiAgICAgICAgZmluZCh0LCBlKSB7XG4gICAgICAgICAgICBjb25zdCBuID0gdC5maW5kKG10LCBlKTtcbiAgICAgICAgICAgIHJldHVybiBuID09IG51bGwgPyBudWxsIDogaihwdCwgbikgPz8gZ2V0RGVmaW5pdGlvbkZyb21TdGF0aWNBdShuLCBtdCwgQmluZGluZ0NvbW1hbmREZWZpbml0aW9uLmNyZWF0ZSkgPz8gbnVsbDtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0KHQsIGUpIHtcbiAgICAgICAgICAgIHJldHVybiB0LmdldChoKGdldENvbW1hbmRLZXlGcm9tKGUpKSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn0pKCk7XG5cbmNsYXNzIE9uZVRpbWVCaW5kaW5nQ29tbWFuZCB7XG4gICAgZ2V0IGlnbm9yZUF0dHIoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgYnVpbGQodCwgZSwgbikge1xuICAgICAgICBjb25zdCBpID0gdC5hdHRyO1xuICAgICAgICBsZXQgciA9IGkudGFyZ2V0O1xuICAgICAgICBsZXQgcyA9IHQuYXR0ci5yYXdWYWx1ZTtcbiAgICAgICAgcyA9IHMgPT09IFwiXCIgPyBkKHIpIDogcztcbiAgICAgICAgaWYgKHQuYmluZGFibGUgPT0gbnVsbCkge1xuICAgICAgICAgICAgciA9IG4ubWFwKHQubm9kZSwgcikgPz8gZChyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHIgPSB0LmJpbmRhYmxlLm5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9wZXJ0eUJpbmRpbmdJbnN0cnVjdGlvbihlLnBhcnNlKHMsIHgpLCByLCAxKTtcbiAgICB9XG59XG5cbk9uZVRpbWVCaW5kaW5nQ29tbWFuZC4kYXUgPSB7XG4gICAgdHlwZTogbXQsXG4gICAgbmFtZTogXCJvbmUtdGltZVwiXG59O1xuXG5jbGFzcyBUb1ZpZXdCaW5kaW5nQ29tbWFuZCB7XG4gICAgZ2V0IGlnbm9yZUF0dHIoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgYnVpbGQodCwgZSwgbikge1xuICAgICAgICBjb25zdCBpID0gdC5hdHRyO1xuICAgICAgICBsZXQgciA9IGkudGFyZ2V0O1xuICAgICAgICBsZXQgcyA9IHQuYXR0ci5yYXdWYWx1ZTtcbiAgICAgICAgcyA9IHMgPT09IFwiXCIgPyBkKHIpIDogcztcbiAgICAgICAgaWYgKHQuYmluZGFibGUgPT0gbnVsbCkge1xuICAgICAgICAgICAgciA9IG4ubWFwKHQubm9kZSwgcikgPz8gZChyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHIgPSB0LmJpbmRhYmxlLm5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9wZXJ0eUJpbmRpbmdJbnN0cnVjdGlvbihlLnBhcnNlKHMsIHgpLCByLCAyKTtcbiAgICB9XG59XG5cblRvVmlld0JpbmRpbmdDb21tYW5kLiRhdSA9IHtcbiAgICB0eXBlOiBtdCxcbiAgICBuYW1lOiBcInRvLXZpZXdcIlxufTtcblxuY2xhc3MgRnJvbVZpZXdCaW5kaW5nQ29tbWFuZCB7XG4gICAgZ2V0IGlnbm9yZUF0dHIoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgYnVpbGQodCwgZSwgbikge1xuICAgICAgICBjb25zdCBpID0gdC5hdHRyO1xuICAgICAgICBsZXQgciA9IGkudGFyZ2V0O1xuICAgICAgICBsZXQgcyA9IGkucmF3VmFsdWU7XG4gICAgICAgIHMgPSBzID09PSBcIlwiID8gZChyKSA6IHM7XG4gICAgICAgIGlmICh0LmJpbmRhYmxlID09IG51bGwpIHtcbiAgICAgICAgICAgIHIgPSBuLm1hcCh0Lm5vZGUsIHIpID8/IGQocik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByID0gdC5iaW5kYWJsZS5uYW1lO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgUHJvcGVydHlCaW5kaW5nSW5zdHJ1Y3Rpb24oZS5wYXJzZShzLCB4KSwgciwgNCk7XG4gICAgfVxufVxuXG5Gcm9tVmlld0JpbmRpbmdDb21tYW5kLiRhdSA9IHtcbiAgICB0eXBlOiBtdCxcbiAgICBuYW1lOiBcImZyb20tdmlld1wiXG59O1xuXG5jbGFzcyBUd29XYXlCaW5kaW5nQ29tbWFuZCB7XG4gICAgZ2V0IGlnbm9yZUF0dHIoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgYnVpbGQodCwgZSwgbikge1xuICAgICAgICBjb25zdCBpID0gdC5hdHRyO1xuICAgICAgICBsZXQgciA9IGkudGFyZ2V0O1xuICAgICAgICBsZXQgcyA9IGkucmF3VmFsdWU7XG4gICAgICAgIHMgPSBzID09PSBcIlwiID8gZChyKSA6IHM7XG4gICAgICAgIGlmICh0LmJpbmRhYmxlID09IG51bGwpIHtcbiAgICAgICAgICAgIHIgPSBuLm1hcCh0Lm5vZGUsIHIpID8/IGQocik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByID0gdC5iaW5kYWJsZS5uYW1lO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgUHJvcGVydHlCaW5kaW5nSW5zdHJ1Y3Rpb24oZS5wYXJzZShzLCB4KSwgciwgNik7XG4gICAgfVxufVxuXG5Ud29XYXlCaW5kaW5nQ29tbWFuZC4kYXUgPSB7XG4gICAgdHlwZTogbXQsXG4gICAgbmFtZTogXCJ0d28td2F5XCJcbn07XG5cbmNsYXNzIERlZmF1bHRCaW5kaW5nQ29tbWFuZCB7XG4gICAgZ2V0IGlnbm9yZUF0dHIoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgYnVpbGQodCwgZSwgbikge1xuICAgICAgICBjb25zdCBpID0gdC5hdHRyO1xuICAgICAgICBjb25zdCByID0gdC5iaW5kYWJsZTtcbiAgICAgICAgbGV0IHMgPSBpLnJhd1ZhbHVlO1xuICAgICAgICBsZXQgbCA9IGkudGFyZ2V0O1xuICAgICAgICBsZXQgbztcbiAgICAgICAgbGV0IHU7XG4gICAgICAgIHMgPSBzID09PSBcIlwiID8gZChsKSA6IHM7XG4gICAgICAgIGlmIChyID09IG51bGwpIHtcbiAgICAgICAgICAgIHUgPSBuLmlzVHdvV2F5KHQubm9kZSwgbCkgPyA2IDogMjtcbiAgICAgICAgICAgIGwgPSBuLm1hcCh0Lm5vZGUsIGwpID8/IGQobCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvID0gdC5kZWYuZGVmYXVsdEJpbmRpbmdNb2RlID8/IDA7XG4gICAgICAgICAgICB1ID0gci5tb2RlID09PSAwIHx8IHIubW9kZSA9PSBudWxsID8gbyA9PSBudWxsIHx8IG8gPT09IDAgPyAyIDogbyA6IHIubW9kZTtcbiAgICAgICAgICAgIGwgPSByLm5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9wZXJ0eUJpbmRpbmdJbnN0cnVjdGlvbihlLnBhcnNlKHMsIHgpLCBsLCBpc1N0cmluZyh1KSA/IF9bdV0gPz8gMCA6IHUpO1xuICAgIH1cbn1cblxuRGVmYXVsdEJpbmRpbmdDb21tYW5kLiRhdSA9IHtcbiAgICB0eXBlOiBtdCxcbiAgICBuYW1lOiBcImJpbmRcIlxufTtcblxuY2xhc3MgRm9yQmluZGluZ0NvbW1hbmQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLlggPSBzKFcpO1xuICAgIH1cbiAgICBnZXQgaWdub3JlQXR0cigpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBidWlsZCh0LCBlKSB7XG4gICAgICAgIGNvbnN0IG4gPSB0LmJpbmRhYmxlID09PSBudWxsID8gZCh0LmF0dHIudGFyZ2V0KSA6IHQuYmluZGFibGUubmFtZTtcbiAgICAgICAgY29uc3QgaSA9IGUucGFyc2UodC5hdHRyLnJhd1ZhbHVlLCBcIklzSXRlcmF0b3JcIik7XG4gICAgICAgIGxldCBzID0gcjtcbiAgICAgICAgaWYgKGkuc2VtaUlkeCA+IC0xKSB7XG4gICAgICAgICAgICBjb25zdCBlID0gdC5hdHRyLnJhd1ZhbHVlLnNsaWNlKGkuc2VtaUlkeCArIDEpO1xuICAgICAgICAgICAgY29uc3QgbiA9IGUuaW5kZXhPZihcIjpcIik7XG4gICAgICAgICAgICBpZiAobiA+IC0xKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdCA9IGUuc2xpY2UoMCwgbikudHJpbSgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGkgPSBlLnNsaWNlKG4gKyAxKS50cmltKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgciA9IHRoaXMuWC5wYXJzZSh0LCBpKTtcbiAgICAgICAgICAgICAgICBzID0gWyBuZXcgTXVsdGlBdHRySW5zdHJ1Y3Rpb24oaSwgci50YXJnZXQsIHIuY29tbWFuZCkgXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IEl0ZXJhdG9yQmluZGluZ0luc3RydWN0aW9uKGksIG4sIHMpO1xuICAgIH1cbn1cblxuRm9yQmluZGluZ0NvbW1hbmQuJGF1ID0ge1xuICAgIHR5cGU6IG10LFxuICAgIG5hbWU6IFwiZm9yXCJcbn07XG5cbmNsYXNzIFRyaWdnZXJCaW5kaW5nQ29tbWFuZCB7XG4gICAgZ2V0IGlnbm9yZUF0dHIoKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBidWlsZCh0LCBlKSB7XG4gICAgICAgIHJldHVybiBuZXcgTGlzdGVuZXJCaW5kaW5nSW5zdHJ1Y3Rpb24oZS5wYXJzZSh0LmF0dHIucmF3VmFsdWUsIEUpLCB0LmF0dHIudGFyZ2V0LCBmYWxzZSwgdC5hdHRyLnBhcnRzPy5bMl0gPz8gbnVsbCk7XG4gICAgfVxufVxuXG5UcmlnZ2VyQmluZGluZ0NvbW1hbmQuJGF1ID0ge1xuICAgIHR5cGU6IG10LFxuICAgIG5hbWU6IFwidHJpZ2dlclwiXG59O1xuXG5jbGFzcyBDYXB0dXJlQmluZGluZ0NvbW1hbmQge1xuICAgIGdldCBpZ25vcmVBdHRyKCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgYnVpbGQodCwgZSkge1xuICAgICAgICByZXR1cm4gbmV3IExpc3RlbmVyQmluZGluZ0luc3RydWN0aW9uKGUucGFyc2UodC5hdHRyLnJhd1ZhbHVlLCBFKSwgdC5hdHRyLnRhcmdldCwgdHJ1ZSwgdC5hdHRyLnBhcnRzPy5bMl0gPz8gbnVsbCk7XG4gICAgfVxufVxuXG5DYXB0dXJlQmluZGluZ0NvbW1hbmQuJGF1ID0ge1xuICAgIHR5cGU6IG10LFxuICAgIG5hbWU6IFwiY2FwdHVyZVwiXG59O1xuXG5jbGFzcyBBdHRyQmluZGluZ0NvbW1hbmQge1xuICAgIGdldCBpZ25vcmVBdHRyKCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgYnVpbGQodCwgZSkge1xuICAgICAgICBjb25zdCBuID0gdC5hdHRyO1xuICAgICAgICBjb25zdCBpID0gbi50YXJnZXQ7XG4gICAgICAgIGxldCByID0gbi5yYXdWYWx1ZTtcbiAgICAgICAgciA9IHIgPT09IFwiXCIgPyBkKGkpIDogcjtcbiAgICAgICAgcmV0dXJuIG5ldyBBdHRyaWJ1dGVCaW5kaW5nSW5zdHJ1Y3Rpb24oaSwgZS5wYXJzZShyLCB4KSwgaSk7XG4gICAgfVxufVxuXG5BdHRyQmluZGluZ0NvbW1hbmQuJGF1ID0ge1xuICAgIHR5cGU6IG10LFxuICAgIG5hbWU6IFwiYXR0clwiXG59O1xuXG5jbGFzcyBTdHlsZUJpbmRpbmdDb21tYW5kIHtcbiAgICBnZXQgaWdub3JlQXR0cigpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGJ1aWxkKHQsIGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBdHRyaWJ1dGVCaW5kaW5nSW5zdHJ1Y3Rpb24oXCJzdHlsZVwiLCBlLnBhcnNlKHQuYXR0ci5yYXdWYWx1ZSwgeCksIHQuYXR0ci50YXJnZXQpO1xuICAgIH1cbn1cblxuU3R5bGVCaW5kaW5nQ29tbWFuZC4kYXUgPSB7XG4gICAgdHlwZTogbXQsXG4gICAgbmFtZTogXCJzdHlsZVwiXG59O1xuXG5jbGFzcyBDbGFzc0JpbmRpbmdDb21tYW5kIHtcbiAgICBnZXQgaWdub3JlQXR0cigpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGJ1aWxkKHQsIGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBdHRyaWJ1dGVCaW5kaW5nSW5zdHJ1Y3Rpb24oXCJjbGFzc1wiLCBlLnBhcnNlKHQuYXR0ci5yYXdWYWx1ZSwgeCksIHQuYXR0ci50YXJnZXQpO1xuICAgIH1cbn1cblxuQ2xhc3NCaW5kaW5nQ29tbWFuZC4kYXUgPSB7XG4gICAgdHlwZTogbXQsXG4gICAgbmFtZTogXCJjbGFzc1wiXG59O1xuXG5jbGFzcyBSZWZCaW5kaW5nQ29tbWFuZCB7XG4gICAgZ2V0IGlnbm9yZUF0dHIoKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBidWlsZCh0LCBlKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVmQmluZGluZ0luc3RydWN0aW9uKGUucGFyc2UodC5hdHRyLnJhd1ZhbHVlLCB4KSwgdC5hdHRyLnRhcmdldCk7XG4gICAgfVxufVxuXG5SZWZCaW5kaW5nQ29tbWFuZC4kYXUgPSB7XG4gICAgdHlwZTogbXQsXG4gICAgbmFtZTogXCJyZWZcIlxufTtcblxuY2xhc3MgU3ByZWFkVmFsdWVCaW5kaW5nQ29tbWFuZCB7XG4gICAgZ2V0IGlnbm9yZUF0dHIoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgYnVpbGQodCkge1xuICAgICAgICByZXR1cm4gbmV3IFNwcmVhZFZhbHVlQmluZGluZ0luc3RydWN0aW9uKHQuYXR0ci50YXJnZXQsIHQuYXR0ci5yYXdWYWx1ZSk7XG4gICAgfVxufVxuXG5TcHJlYWRWYWx1ZUJpbmRpbmdDb21tYW5kLiRhdSA9IHtcbiAgICB0eXBlOiBtdCxcbiAgICBuYW1lOiBcInNwcmVhZFwiXG59O1xuXG50eXBlb2YgU3VwcHJlc3NlZEVycm9yID09PSBcImZ1bmN0aW9uXCIgPyBTdXBwcmVzc2VkRXJyb3IgOiBmdW5jdGlvbih0LCBlLCBuKSB7XG4gICAgdmFyIGkgPSBuZXcgRXJyb3Iobik7XG4gICAgcmV0dXJuIGkubmFtZSA9IFwiU3VwcHJlc3NlZEVycm9yXCIsIGkuZXJyb3IgPSB0LCBpLnN1cHByZXNzZWQgPSBlLCBpO1xufTtcblxuY29uc3Qgd3QgPSAvKkBfX1BVUkVfXyovIEIoXCJJVGVtcGxhdGVFbGVtZW50RmFjdG9yeVwiLCAodCA9PiB0LnNpbmdsZXRvbihUZW1wbGF0ZUVsZW1lbnRGYWN0b3J5KSkpO1xuXG5jb25zdCBidCA9IHt9O1xuXG5jbGFzcyBUZW1wbGF0ZUVsZW1lbnRGYWN0b3J5IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5wID0gcyhmKTtcbiAgICAgICAgdGhpcy5ZID0gdGhpcy50KCk7XG4gICAgfVxuICAgIHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnAuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRlbXBsYXRlXCIpO1xuICAgIH1cbiAgICBjcmVhdGVUZW1wbGF0ZSh0KSB7XG4gICAgICAgIGlmIChpc1N0cmluZyh0KSkge1xuICAgICAgICAgICAgbGV0IGUgPSBidFt0XTtcbiAgICAgICAgICAgIGlmIChlID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuID0gdGhpcy5ZO1xuICAgICAgICAgICAgICAgIG4uaW5uZXJIVE1MID0gdDtcbiAgICAgICAgICAgICAgICBjb25zdCBpID0gbi5jb250ZW50LmZpcnN0RWxlbWVudENoaWxkO1xuICAgICAgICAgICAgICAgIGlmIChuZWVkc1dyYXBwaW5nKGkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuWSA9IHRoaXMudCgpO1xuICAgICAgICAgICAgICAgICAgICBlID0gbjtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBuLmNvbnRlbnQucmVtb3ZlQ2hpbGQoaSk7XG4gICAgICAgICAgICAgICAgICAgIGUgPSBpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBidFt0XSA9IGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZS5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHQubm9kZU5hbWUgIT09IFwiVEVNUExBVEVcIikge1xuICAgICAgICAgICAgY29uc3QgZSA9IHRoaXMudCgpO1xuICAgICAgICAgICAgZS5jb250ZW50LmFwcGVuZENoaWxkKHQpO1xuICAgICAgICAgICAgcmV0dXJuIGU7XG4gICAgICAgIH1cbiAgICAgICAgdC5wYXJlbnROb2RlPy5yZW1vdmVDaGlsZCh0KTtcbiAgICAgICAgcmV0dXJuIHQuY2xvbmVOb2RlKHRydWUpO1xuICAgICAgICBmdW5jdGlvbiBuZWVkc1dyYXBwaW5nKHQpIHtcbiAgICAgICAgICAgIGlmICh0ID09IG51bGwpIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgaWYgKHQubm9kZU5hbWUgIT09IFwiVEVNUExBVEVcIikgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICBjb25zdCBlID0gdC5uZXh0RWxlbWVudFNpYmxpbmc7XG4gICAgICAgICAgICBpZiAoZSAhPSBudWxsKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIGNvbnN0IG4gPSB0LnByZXZpb3VzU2libGluZztcbiAgICAgICAgICAgIGlmIChuICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKG4ubm9kZVR5cGUpIHtcbiAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG4udGV4dENvbnRlbnQudHJpbSgpLmxlbmd0aCA+IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgaSA9IHQubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICBpZiAoaSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChpLm5vZGVUeXBlKSB7XG4gICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpLnRleHRDb250ZW50LnRyaW0oKS5sZW5ndGggPiAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuY29uc3QgQXQgPSBcImF1LXN0YXJ0XCI7XG5cbmNvbnN0IHl0ID0gXCJhdS1lbmRcIjtcblxuY29uc3QgaW5zZXJ0QmVmb3JlID0gKHQsIGUsIG4pID0+IHQuaW5zZXJ0QmVmb3JlKGUsIG4pO1xuXG5jb25zdCBpbnNlcnRNYW55QmVmb3JlID0gKHQsIGUsIG4pID0+IHtcbiAgICBpZiAodCA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGkgPSBuLmxlbmd0aDtcbiAgICBsZXQgciA9IDA7XG4gICAgd2hpbGUgKGkgPiByKSB7XG4gICAgICAgIHQuaW5zZXJ0QmVmb3JlKG5bcl0sIGUpO1xuICAgICAgICArK3I7XG4gICAgfVxufTtcblxuY29uc3QgYXBwZW5kVG9UZW1wbGF0ZSA9ICh0LCBlKSA9PiB0LmNvbnRlbnQuYXBwZW5kQ2hpbGQoZSk7XG5cbmNvbnN0IGFwcGVuZE1hbnlUb1RlbXBsYXRlID0gKHQsIGUpID0+IHtcbiAgICBjb25zdCBuID0gZS5sZW5ndGg7XG4gICAgbGV0IGkgPSAwO1xuICAgIHdoaWxlIChuID4gaSkge1xuICAgICAgICB0LmNvbnRlbnQuYXBwZW5kQ2hpbGQoZVtpXSk7XG4gICAgICAgICsraTtcbiAgICB9XG59O1xuXG5jb25zdCBpc0VsZW1lbnQgPSB0ID0+IHQubm9kZVR5cGUgPT09IDE7XG5cbmNvbnN0IGlzVGV4dE5vZGUgPSB0ID0+IHQubm9kZVR5cGUgPT09IDM7XG5cbmNvbnN0IEl0ID0gXCJhdS1zbG90XCI7XG5cbmNvbnN0IFN0ID0gXCJkZWZhdWx0XCI7XG5cbmNvbnN0IEJ0ID0gKHQgPT4gKCkgPT4gYGFub255bW91cy0keysrdH1gKSgwKTtcblxuY2xhc3MgVGVtcGxhdGVDb21waWxlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuZGVidWcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5yZXNvbHZlUmVzb3VyY2VzID0gdHJ1ZTtcbiAgICB9XG4gICAgY29tcGlsZSh0LCBlKSB7XG4gICAgICAgIGlmICh0LnRlbXBsYXRlID09IG51bGwgfHwgdC5uZWVkc0NvbXBpbGUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICByZXR1cm4gdDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuID0gbmV3IENvbXBpbGF0aW9uQ29udGV4dCh0LCBlLCBudWxsLCBudWxsLCB2b2lkIDApO1xuICAgICAgICBjb25zdCBpID0gaXNTdHJpbmcodC50ZW1wbGF0ZSkgfHwgIXQuZW5oYW5jZSA/IG4uWi5jcmVhdGVUZW1wbGF0ZSh0LnRlbXBsYXRlKSA6IHQudGVtcGxhdGU7XG4gICAgICAgIGNvbnN0IHMgPSBpLm5vZGVOYW1lID09PSBQdCAmJiBpLmNvbnRlbnQgIT0gbnVsbDtcbiAgICAgICAgY29uc3QgbCA9IHMgPyBpLmNvbnRlbnQgOiBpO1xuICAgICAgICBjb25zdCBvID0gRHQuZmluZEFsbChlKTtcbiAgICAgICAgY29uc3QgdSA9IG8ubGVuZ3RoO1xuICAgICAgICBsZXQgYyA9IDA7XG4gICAgICAgIGlmICh1ID4gMCkge1xuICAgICAgICAgICAgd2hpbGUgKHUgPiBjKSB7XG4gICAgICAgICAgICAgICAgb1tjXS5jb21waWxpbmc/LihpKTtcbiAgICAgICAgICAgICAgICArK2M7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGkuaGFzQXR0cmlidXRlKGt0KSkge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlTWFwcGVkRXJyb3IoNzAxLCB0KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnR0KGwsIG4pO1xuICAgICAgICB0aGlzLmV0KGwsIG4pO1xuICAgICAgICBjb25zdCBhID0ge1xuICAgICAgICAgICAgLi4udCxcbiAgICAgICAgICAgIG5hbWU6IHQubmFtZSB8fCBCdCgpLFxuICAgICAgICAgICAgZGVwZW5kZW5jaWVzOiAodC5kZXBlbmRlbmNpZXMgPz8gcikuY29uY2F0KG4uZGVwcyA/PyByKSxcbiAgICAgICAgICAgIGluc3RydWN0aW9uczogbi5yb3dzLFxuICAgICAgICAgICAgc3Vycm9nYXRlczogcyA/IHRoaXMubnQoaSwgbikgOiByLFxuICAgICAgICAgICAgdGVtcGxhdGU6IGksXG4gICAgICAgICAgICBoYXNTbG90czogbi5oYXNTbG90LFxuICAgICAgICAgICAgbmVlZHNDb21waWxlOiBmYWxzZVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gYTtcbiAgICB9XG4gICAgY29tcGlsZVNwcmVhZCh0LCBlLCBuLCBpLCByKSB7XG4gICAgICAgIGNvbnN0IHMgPSBuZXcgQ29tcGlsYXRpb25Db250ZXh0KHQsIG4sIG51bGwsIG51bGwsIHZvaWQgMCk7XG4gICAgICAgIGNvbnN0IGwgPSBbXTtcbiAgICAgICAgY29uc3QgbyA9IHIgPz8gcy5pdChpLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICBjb25zdCB1ID0gbyAhPT0gbnVsbDtcbiAgICAgICAgY29uc3QgYyA9IHMuZXA7XG4gICAgICAgIGNvbnN0IGEgPSBlLmxlbmd0aDtcbiAgICAgICAgbGV0IGggPSAwO1xuICAgICAgICBsZXQgZjtcbiAgICAgICAgbGV0IG0gPSBudWxsO1xuICAgICAgICBsZXQgcDtcbiAgICAgICAgbGV0IGc7XG4gICAgICAgIGxldCB3O1xuICAgICAgICBsZXQgYjtcbiAgICAgICAgbGV0IEE7XG4gICAgICAgIGxldCB5ID0gbnVsbDtcbiAgICAgICAgbGV0IEk7XG4gICAgICAgIGxldCBTO1xuICAgICAgICBsZXQgQjtcbiAgICAgICAgbGV0IFA7XG4gICAgICAgIGZvciAoO2EgPiBoOyArK2gpIHtcbiAgICAgICAgICAgIGYgPSBlW2hdO1xuICAgICAgICAgICAgQiA9IGYudGFyZ2V0O1xuICAgICAgICAgICAgUCA9IGYucmF3VmFsdWU7XG4gICAgICAgICAgICBpZiAoQiA9PT0gXCIuLi4kYXR0cnNcIikge1xuICAgICAgICAgICAgICAgIGwucHVzaChuZXcgU3ByZWFkVHJhbnNmZXJlZEJpbmRpbmdJbnN0cnVjdGlvbik7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB5ID0gcy5ydChmKTtcbiAgICAgICAgICAgIGlmICh5ICE9PSBudWxsICYmIHkuaWdub3JlQXR0cikge1xuICAgICAgICAgICAgICAgIFR0Lm5vZGUgPSBpO1xuICAgICAgICAgICAgICAgIFR0LmF0dHIgPSBmO1xuICAgICAgICAgICAgICAgIFR0LmJpbmRhYmxlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBUdC5kZWYgPSBudWxsO1xuICAgICAgICAgICAgICAgIGwucHVzaCh5LmJ1aWxkKFR0LCBzLmVwLCBzLm0pKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh1KSB7XG4gICAgICAgICAgICAgICAgdyA9IHMuc3Qobyk7XG4gICAgICAgICAgICAgICAgYiA9IHcuYXR0cnNbQl07XG4gICAgICAgICAgICAgICAgaWYgKGIgIT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoeSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBJID0gYy5wYXJzZShQLCBSKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGwucHVzaChuZXcgU3ByZWFkRWxlbWVudFByb3BCaW5kaW5nSW5zdHJ1Y3Rpb24oSSA9PSBudWxsID8gbmV3IFNldFByb3BlcnR5SW5zdHJ1Y3Rpb24oUCwgYi5uYW1lKSA6IG5ldyBJbnRlcnBvbGF0aW9uSW5zdHJ1Y3Rpb24oSSwgYi5uYW1lKSkpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgVHQubm9kZSA9IGk7XG4gICAgICAgICAgICAgICAgICAgICAgICBUdC5hdHRyID0gZjtcbiAgICAgICAgICAgICAgICAgICAgICAgIFR0LmJpbmRhYmxlID0gYjtcbiAgICAgICAgICAgICAgICAgICAgICAgIFR0LmRlZiA9IG87XG4gICAgICAgICAgICAgICAgICAgICAgICBsLnB1c2gobmV3IFNwcmVhZEVsZW1lbnRQcm9wQmluZGluZ0luc3RydWN0aW9uKHkuYnVpbGQoVHQsIHMuZXAsIHMubSkpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtID0gcy5sdChCKTtcbiAgICAgICAgICAgIGlmIChtICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKG0uaXNUZW1wbGF0ZUNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlTWFwcGVkRXJyb3IoOTk5OCwgQik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHcgPSBzLnN0KG0pO1xuICAgICAgICAgICAgICAgIFMgPSBtLm5vTXVsdGlCaW5kaW5ncyA9PT0gZmFsc2UgJiYgeSA9PT0gbnVsbCAmJiBoYXNJbmxpbmVCaW5kaW5ncyhQKTtcbiAgICAgICAgICAgICAgICBpZiAoUykge1xuICAgICAgICAgICAgICAgICAgICBnID0gdGhpcy5vdChpLCBQLCBtLCBzKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBBID0gdy5wcmltYXJ5O1xuICAgICAgICAgICAgICAgICAgICBpZiAoeSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgSSA9IGMucGFyc2UoUCwgUik7XG4gICAgICAgICAgICAgICAgICAgICAgICBnID0gWyBJID09PSBudWxsID8gbmV3IFNldFByb3BlcnR5SW5zdHJ1Y3Rpb24oUCwgQS5uYW1lKSA6IG5ldyBJbnRlcnBvbGF0aW9uSW5zdHJ1Y3Rpb24oSSwgQS5uYW1lKSBdO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgVHQubm9kZSA9IGk7XG4gICAgICAgICAgICAgICAgICAgICAgICBUdC5hdHRyID0gZjtcbiAgICAgICAgICAgICAgICAgICAgICAgIFR0LmJpbmRhYmxlID0gQTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFR0LmRlZiA9IG07XG4gICAgICAgICAgICAgICAgICAgICAgICBnID0gWyB5LmJ1aWxkKFR0LCBzLmVwLCBzLm0pIF07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKHAgPz89IFtdKS5wdXNoKG5ldyBIeWRyYXRlQXR0cmlidXRlSW5zdHJ1Y3Rpb24odGhpcy5yZXNvbHZlUmVzb3VyY2VzID8gbSA6IG0ubmFtZSwgbS5hbGlhc2VzICE9IG51bGwgJiYgbS5hbGlhc2VzLmluY2x1ZGVzKEIpID8gQiA6IHZvaWQgMCwgZykpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHkgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIEkgPSBjLnBhcnNlKFAsIFIpO1xuICAgICAgICAgICAgICAgIGlmIChJICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgbC5wdXNoKG5ldyBJbnRlcnBvbGF0aW9uSW5zdHJ1Y3Rpb24oSSwgcy5tLm1hcChpLCBCKSA/PyBkKEIpKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChCKSB7XG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImNsYXNzXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBsLnB1c2gobmV3IFNldENsYXNzQXR0cmlidXRlSW5zdHJ1Y3Rpb24oUCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwic3R5bGVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGwucHVzaChuZXcgU2V0U3R5bGVBdHRyaWJ1dGVJbnN0cnVjdGlvbihQKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBsLnB1c2gobmV3IFNldEF0dHJpYnV0ZUluc3RydWN0aW9uKFAsIEIpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgVHQubm9kZSA9IGk7XG4gICAgICAgICAgICAgICAgVHQuYXR0ciA9IGY7XG4gICAgICAgICAgICAgICAgVHQuYmluZGFibGUgPSBudWxsO1xuICAgICAgICAgICAgICAgIFR0LmRlZiA9IG51bGw7XG4gICAgICAgICAgICAgICAgbC5wdXNoKHkuYnVpbGQoVHQsIHMuZXAsIHMubSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJlc2V0Q29tbWFuZEJ1aWxkSW5mbygpO1xuICAgICAgICBpZiAocCAhPSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gcC5jb25jYXQobCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGw7XG4gICAgfVxuICAgIG50KHQsIGUpIHtcbiAgICAgICAgY29uc3QgbiA9IFtdO1xuICAgICAgICBjb25zdCBpID0gdC5hdHRyaWJ1dGVzO1xuICAgICAgICBjb25zdCByID0gZS5lcDtcbiAgICAgICAgbGV0IHMgPSBpLmxlbmd0aDtcbiAgICAgICAgbGV0IGwgPSAwO1xuICAgICAgICBsZXQgbztcbiAgICAgICAgbGV0IHU7XG4gICAgICAgIGxldCBjO1xuICAgICAgICBsZXQgYTtcbiAgICAgICAgbGV0IGggPSBudWxsO1xuICAgICAgICBsZXQgZjtcbiAgICAgICAgbGV0IG07XG4gICAgICAgIGxldCBwO1xuICAgICAgICBsZXQgZztcbiAgICAgICAgbGV0IHcgPSBudWxsO1xuICAgICAgICBsZXQgYjtcbiAgICAgICAgbGV0IEE7XG4gICAgICAgIGxldCB5O1xuICAgICAgICBsZXQgSTtcbiAgICAgICAgZm9yICg7cyA+IGw7ICsrbCkge1xuICAgICAgICAgICAgbyA9IGlbbF07XG4gICAgICAgICAgICB1ID0gby5uYW1lO1xuICAgICAgICAgICAgYyA9IG8udmFsdWU7XG4gICAgICAgICAgICBhID0gZS5YLnBhcnNlKHUsIGMpO1xuICAgICAgICAgICAgeSA9IGEudGFyZ2V0O1xuICAgICAgICAgICAgSSA9IGEucmF3VmFsdWU7XG4gICAgICAgICAgICBpZiAoUnRbeV0pIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVNYXBwZWRFcnJvcig3MDIsIHUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdyA9IGUucnQoYSk7XG4gICAgICAgICAgICBpZiAodyAhPT0gbnVsbCAmJiB3Lmlnbm9yZUF0dHIpIHtcbiAgICAgICAgICAgICAgICBUdC5ub2RlID0gdDtcbiAgICAgICAgICAgICAgICBUdC5hdHRyID0gYTtcbiAgICAgICAgICAgICAgICBUdC5iaW5kYWJsZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgVHQuZGVmID0gbnVsbDtcbiAgICAgICAgICAgICAgICBuLnB1c2gody5idWlsZChUdCwgZS5lcCwgZS5tKSk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBoID0gZS5sdCh5KTtcbiAgICAgICAgICAgIGlmIChoICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKGguaXNUZW1wbGF0ZUNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlTWFwcGVkRXJyb3IoNzAzLCB5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcCA9IGUuc3QoaCk7XG4gICAgICAgICAgICAgICAgQSA9IGgubm9NdWx0aUJpbmRpbmdzID09PSBmYWxzZSAmJiB3ID09PSBudWxsICYmIGhhc0lubGluZUJpbmRpbmdzKEkpO1xuICAgICAgICAgICAgICAgIGlmIChBKSB7XG4gICAgICAgICAgICAgICAgICAgIG0gPSB0aGlzLm90KHQsIEksIGgsIGUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGcgPSBwLnByaW1hcnk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh3ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBiID0gci5wYXJzZShJLCBSKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG0gPSBiID09PSBudWxsID8gSSA9PT0gXCJcIiA/IFtdIDogWyBuZXcgU2V0UHJvcGVydHlJbnN0cnVjdGlvbihJLCBnLm5hbWUpIF0gOiBbIG5ldyBJbnRlcnBvbGF0aW9uSW5zdHJ1Y3Rpb24oYiwgZy5uYW1lKSBdO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgVHQubm9kZSA9IHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBUdC5hdHRyID0gYTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFR0LmJpbmRhYmxlID0gZztcbiAgICAgICAgICAgICAgICAgICAgICAgIFR0LmRlZiA9IGg7XG4gICAgICAgICAgICAgICAgICAgICAgICBtID0gWyB3LmJ1aWxkKFR0LCBlLmVwLCBlLm0pIF07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdC5yZW1vdmVBdHRyaWJ1dGUodSk7XG4gICAgICAgICAgICAgICAgLS1sO1xuICAgICAgICAgICAgICAgIC0tcztcbiAgICAgICAgICAgICAgICAoZiA/Pz0gW10pLnB1c2gobmV3IEh5ZHJhdGVBdHRyaWJ1dGVJbnN0cnVjdGlvbih0aGlzLnJlc29sdmVSZXNvdXJjZXMgPyBoIDogaC5uYW1lLCBoLmFsaWFzZXMgIT0gbnVsbCAmJiBoLmFsaWFzZXMuaW5jbHVkZXMoeSkgPyB5IDogdm9pZCAwLCBtKSk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGIgPSByLnBhcnNlKEksIFIpO1xuICAgICAgICAgICAgICAgIGlmIChiICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdC5yZW1vdmVBdHRyaWJ1dGUodSk7XG4gICAgICAgICAgICAgICAgICAgIC0tbDtcbiAgICAgICAgICAgICAgICAgICAgLS1zO1xuICAgICAgICAgICAgICAgICAgICBuLnB1c2gobmV3IEludGVycG9sYXRpb25JbnN0cnVjdGlvbihiLCBlLm0ubWFwKHQsIHkpID8/IGQoeSkpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHUpIHtcbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiY2xhc3NcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIG4ucHVzaChuZXcgU2V0Q2xhc3NBdHRyaWJ1dGVJbnN0cnVjdGlvbihJKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJzdHlsZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgbi5wdXNoKG5ldyBTZXRTdHlsZUF0dHJpYnV0ZUluc3RydWN0aW9uKEkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIG4ucHVzaChuZXcgU2V0QXR0cmlidXRlSW5zdHJ1Y3Rpb24oSSwgdSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBUdC5ub2RlID0gdDtcbiAgICAgICAgICAgICAgICBUdC5hdHRyID0gYTtcbiAgICAgICAgICAgICAgICBUdC5iaW5kYWJsZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgVHQuZGVmID0gbnVsbDtcbiAgICAgICAgICAgICAgICBuLnB1c2gody5idWlsZChUdCwgZS5lcCwgZS5tKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmVzZXRDb21tYW5kQnVpbGRJbmZvKCk7XG4gICAgICAgIGlmIChmICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBmLmNvbmNhdChuKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbjtcbiAgICB9XG4gICAgZXQodCwgZSkge1xuICAgICAgICBzd2l0Y2ggKHQubm9kZVR5cGUpIHtcbiAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICBzd2l0Y2ggKHQubm9kZU5hbWUpIHtcbiAgICAgICAgICAgICAgY2FzZSBcIkxFVFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnV0KHQsIGUpO1xuXG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3QodCwgZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5odCh0LCBlKTtcblxuICAgICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGV0IG4gPSB0LmZpcnN0Q2hpbGQ7XG4gICAgICAgICAgICAgICAgd2hpbGUgKG4gIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgbiA9IHRoaXMuZXQobiwgZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0Lm5leHRTaWJsaW5nO1xuICAgIH1cbiAgICB1dCh0LCBlKSB7XG4gICAgICAgIGNvbnN0IG4gPSB0LmF0dHJpYnV0ZXM7XG4gICAgICAgIGNvbnN0IGkgPSBuLmxlbmd0aDtcbiAgICAgICAgY29uc3QgciA9IFtdO1xuICAgICAgICBjb25zdCBzID0gZS5lcDtcbiAgICAgICAgbGV0IGwgPSBmYWxzZTtcbiAgICAgICAgbGV0IG8gPSAwO1xuICAgICAgICBsZXQgdTtcbiAgICAgICAgbGV0IGM7XG4gICAgICAgIGxldCBhO1xuICAgICAgICBsZXQgaDtcbiAgICAgICAgbGV0IGY7XG4gICAgICAgIGxldCBtO1xuICAgICAgICBsZXQgcDtcbiAgICAgICAgbGV0IGc7XG4gICAgICAgIGZvciAoO2kgPiBvOyArK28pIHtcbiAgICAgICAgICAgIHUgPSBuW29dO1xuICAgICAgICAgICAgYSA9IHUubmFtZTtcbiAgICAgICAgICAgIGggPSB1LnZhbHVlO1xuICAgICAgICAgICAgaWYgKGEgPT09IFwidG8tYmluZGluZy1jb250ZXh0XCIpIHtcbiAgICAgICAgICAgICAgICBsID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGMgPSBlLlgucGFyc2UoYSwgaCk7XG4gICAgICAgICAgICBtID0gYy50YXJnZXQ7XG4gICAgICAgICAgICBwID0gYy5yYXdWYWx1ZTtcbiAgICAgICAgICAgIGYgPSBlLnJ0KGMpO1xuICAgICAgICAgICAgaWYgKGYgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAoYy5jb21tYW5kID09PSBcImJpbmRcIikge1xuICAgICAgICAgICAgICAgICAgICByLnB1c2gobmV3IExldEJpbmRpbmdJbnN0cnVjdGlvbihzLnBhcnNlKHAsIHgpLCBkKG0pKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlTWFwcGVkRXJyb3IoNzA0LCBjKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBnID0gcy5wYXJzZShwLCBSKTtcbiAgICAgICAgICAgIHIucHVzaChuZXcgTGV0QmluZGluZ0luc3RydWN0aW9uKGcgPT09IG51bGwgPyBuZXcgSShwKSA6IGcsIGQobSkpKTtcbiAgICAgICAgfVxuICAgICAgICBlLnJvd3MucHVzaChbIG5ldyBIeWRyYXRlTGV0RWxlbWVudEluc3RydWN0aW9uKHIsIGwpIF0pO1xuICAgICAgICByZXR1cm4gdGhpcy5kdCh0LCBlKS5uZXh0U2libGluZztcbiAgICB9XG4gICAgY3QodCwgZSkge1xuICAgICAgICBjb25zdCBuID0gdC5uZXh0U2libGluZztcbiAgICAgICAgY29uc3QgaSA9ICh0LmdldEF0dHJpYnV0ZShcImFzLWVsZW1lbnRcIikgPz8gdC5ub2RlTmFtZSkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgY29uc3QgcyA9IGUuaXQoaSk7XG4gICAgICAgIGNvbnN0IGwgPSBzICE9PSBudWxsO1xuICAgICAgICBjb25zdCBvID0gbCAmJiBzLnNoYWRvd09wdGlvbnMgIT0gbnVsbDtcbiAgICAgICAgY29uc3QgdSA9IHM/LmNhcHR1cmU7XG4gICAgICAgIGNvbnN0IGMgPSB1ICE9IG51bGwgJiYgdHlwZW9mIHUgIT09IFwiYm9vbGVhblwiO1xuICAgICAgICBjb25zdCBhID0gdSA/IFtdIDogcjtcbiAgICAgICAgY29uc3QgaCA9IGUuZXA7XG4gICAgICAgIGNvbnN0IGYgPSB0aGlzLmRlYnVnID8gcCA6ICgpID0+IHtcbiAgICAgICAgICAgIHQucmVtb3ZlQXR0cmlidXRlKHkpO1xuICAgICAgICAgICAgLS1iO1xuICAgICAgICAgICAgLS13O1xuICAgICAgICB9O1xuICAgICAgICBsZXQgbSA9IHQuYXR0cmlidXRlcztcbiAgICAgICAgbGV0IGc7XG4gICAgICAgIGxldCB3ID0gbS5sZW5ndGg7XG4gICAgICAgIGxldCBiID0gMDtcbiAgICAgICAgbGV0IEE7XG4gICAgICAgIGxldCB5O1xuICAgICAgICBsZXQgSTtcbiAgICAgICAgbGV0IFM7XG4gICAgICAgIGxldCBCO1xuICAgICAgICBsZXQgUDtcbiAgICAgICAgbGV0IEMgPSBudWxsO1xuICAgICAgICBsZXQgVCA9IGZhbHNlO1xuICAgICAgICBsZXQgRTtcbiAgICAgICAgbGV0IHg7XG4gICAgICAgIGxldCBfO1xuICAgICAgICBsZXQgaztcbiAgICAgICAgbGV0IEw7XG4gICAgICAgIGxldCBEO1xuICAgICAgICBsZXQgVjtcbiAgICAgICAgbGV0IEggPSBudWxsO1xuICAgICAgICBsZXQgTTtcbiAgICAgICAgbGV0ICQ7XG4gICAgICAgIGxldCBGO1xuICAgICAgICBsZXQgTztcbiAgICAgICAgbGV0IFcgPSB0cnVlO1xuICAgICAgICBsZXQgTiA9IGZhbHNlO1xuICAgICAgICBsZXQgaiA9IGZhbHNlO1xuICAgICAgICBsZXQgVSA9IGZhbHNlO1xuICAgICAgICBsZXQgcTtcbiAgICAgICAgbGV0IHogPSAwO1xuICAgICAgICBpZiAoaSA9PT0gXCJzbG90XCIpIHtcbiAgICAgICAgICAgIGlmIChlLnJvb3QuZGVmLnNoYWRvd09wdGlvbnMgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZU1hcHBlZEVycm9yKDcxNywgZS5yb290LmRlZi5uYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGUucm9vdC5oYXNTbG90ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobCkge1xuICAgICAgICAgICAgcSA9IHt9O1xuICAgICAgICAgICAgVyA9IHMucHJvY2Vzc0NvbnRlbnQ/LmNhbGwocy5UeXBlLCB0LCBlLnAsIHEpO1xuICAgICAgICAgICAgbSA9IHQuYXR0cmlidXRlcztcbiAgICAgICAgICAgIHcgPSBtLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKDt3ID4gYjsgKytiKSB7XG4gICAgICAgICAgICBBID0gbVtiXTtcbiAgICAgICAgICAgIHkgPSBBLm5hbWU7XG4gICAgICAgICAgICBJID0gQS52YWx1ZTtcbiAgICAgICAgICAgIHN3aXRjaCAoeSkge1xuICAgICAgICAgICAgICBjYXNlIFwiYXMtZWxlbWVudFwiOlxuICAgICAgICAgICAgICBjYXNlIFwiY29udGFpbmVybGVzc1wiOlxuICAgICAgICAgICAgICAgIGYoKTtcbiAgICAgICAgICAgICAgICBOID0gTiB8fCB5ID09PSBcImNvbnRhaW5lcmxlc3NcIjtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFMgPSBlLlgucGFyc2UoeSwgSSk7XG4gICAgICAgICAgICBIID0gZS5ydChTKTtcbiAgICAgICAgICAgIEYgPSBTLnRhcmdldDtcbiAgICAgICAgICAgIE8gPSBTLnJhd1ZhbHVlO1xuICAgICAgICAgICAgaWYgKHUgJiYgKCFjIHx8IGMgJiYgdShGKSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoSCAhPSBudWxsICYmIEguaWdub3JlQXR0cikge1xuICAgICAgICAgICAgICAgICAgICBmKCk7XG4gICAgICAgICAgICAgICAgICAgIGEucHVzaChTKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGogPSBGICE9PSBJdCAmJiBGICE9PSBcInNsb3RcIiAmJiAoKHogPSBGLmluZGV4T2YoXCIuLi5cIikpID09PSAtMSB8fCB6ID09PSAwICYmIEYgPT09IFwiLi4uJGF0dHJzXCIpO1xuICAgICAgICAgICAgICAgIGlmIChqKSB7XG4gICAgICAgICAgICAgICAgICAgIE0gPSBlLnN0KHMpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoTS5hdHRyc1tGXSA9PSBudWxsICYmICFlLmx0KEYpPy5pc1RlbXBsYXRlQ29udHJvbGxlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYS5wdXNoKFMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoRiA9PT0gXCIuLi4kYXR0cnNcIikge1xuICAgICAgICAgICAgICAgIChCID8/PSBbXSkucHVzaChuZXcgU3ByZWFkVHJhbnNmZXJlZEJpbmRpbmdJbnN0cnVjdGlvbik7XG4gICAgICAgICAgICAgICAgZigpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKEg/Lmlnbm9yZUF0dHIpIHtcbiAgICAgICAgICAgICAgICBUdC5ub2RlID0gdDtcbiAgICAgICAgICAgICAgICBUdC5hdHRyID0gUztcbiAgICAgICAgICAgICAgICBUdC5iaW5kYWJsZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgVHQuZGVmID0gbnVsbDtcbiAgICAgICAgICAgICAgICAoQiA/Pz0gW10pLnB1c2goSC5idWlsZChUdCwgZS5lcCwgZS5tKSk7XG4gICAgICAgICAgICAgICAgZigpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKEYuaW5kZXhPZihcIi4uLlwiKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGlmIChsICYmIChGID0gRi5zbGljZSgzKSkgIT09IFwiJGVsZW1lbnRcIikge1xuICAgICAgICAgICAgICAgICAgICAoUCA/Pz0gW10pLnB1c2gobmV3IFNwcmVhZFZhbHVlQmluZGluZ0luc3RydWN0aW9uKFwiJGJpbmRhYmxlc1wiLCBGID09PSBcIiRiaW5kYWJsZXNcIiA/IE8gOiBGKSk7XG4gICAgICAgICAgICAgICAgICAgIGYoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZU1hcHBlZEVycm9yKDcyMCwgRik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobCkge1xuICAgICAgICAgICAgICAgIE0gPSBlLnN0KHMpO1xuICAgICAgICAgICAgICAgIEUgPSBNLmF0dHJzW0ZdO1xuICAgICAgICAgICAgICAgIGlmIChFICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKEggPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIEQgPSBoLnBhcnNlKE8sIFIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgKFAgPz89IFtdKS5wdXNoKEQgPT0gbnVsbCA/IG5ldyBTZXRQcm9wZXJ0eUluc3RydWN0aW9uKE8sIEUubmFtZSkgOiBuZXcgSW50ZXJwb2xhdGlvbkluc3RydWN0aW9uKEQsIEUubmFtZSkpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgVHQubm9kZSA9IHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBUdC5hdHRyID0gUztcbiAgICAgICAgICAgICAgICAgICAgICAgIFR0LmJpbmRhYmxlID0gRTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFR0LmRlZiA9IHM7XG4gICAgICAgICAgICAgICAgICAgICAgICAoUCA/Pz0gW10pLnB1c2goSC5idWlsZChUdCwgZS5lcCwgZS5tKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKEYgPT09IFwiJGJpbmRhYmxlc1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChIICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFR0Lm5vZGUgPSB0O1xuICAgICAgICAgICAgICAgICAgICAgICAgVHQuYXR0ciA9IFM7XG4gICAgICAgICAgICAgICAgICAgICAgICBUdC5iaW5kYWJsZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICBUdC5kZWYgPSBzO1xuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChQID8/PSBbXSkucHVzaChILmJ1aWxkKFR0LCBlLmVwLCBlLm0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChGID09PSBcIiRiaW5kYWJsZXNcIikge1xuICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZU1hcHBlZEVycm9yKDcyMSwgdC5ub2RlTmFtZSwgRiwgTyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBDID0gZS5sdChGKTtcbiAgICAgICAgICAgIGlmIChDICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgTSA9IGUuc3QoQyk7XG4gICAgICAgICAgICAgICAgVCA9IEMubm9NdWx0aUJpbmRpbmdzID09PSBmYWxzZSAmJiBIID09PSBudWxsICYmIGhhc0lubGluZUJpbmRpbmdzKE8pO1xuICAgICAgICAgICAgICAgIGlmIChUKSB7XG4gICAgICAgICAgICAgICAgICAgIF8gPSB0aGlzLm90KHQsIE8sIEMsIGUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICQgPSBNLnByaW1hcnk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChIID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBEID0gaC5wYXJzZShPLCBSKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF8gPSBEID09PSBudWxsID8gTyA9PT0gXCJcIiA/IFtdIDogWyBuZXcgU2V0UHJvcGVydHlJbnN0cnVjdGlvbihPLCAkLm5hbWUpIF0gOiBbIG5ldyBJbnRlcnBvbGF0aW9uSW5zdHJ1Y3Rpb24oRCwgJC5uYW1lKSBdO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgVHQubm9kZSA9IHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBUdC5hdHRyID0gUztcbiAgICAgICAgICAgICAgICAgICAgICAgIFR0LmJpbmRhYmxlID0gJDtcbiAgICAgICAgICAgICAgICAgICAgICAgIFR0LmRlZiA9IEM7XG4gICAgICAgICAgICAgICAgICAgICAgICBfID0gWyBILmJ1aWxkKFR0LCBlLmVwLCBlLm0pIF07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZigpO1xuICAgICAgICAgICAgICAgIGlmIChDLmlzVGVtcGxhdGVDb250cm9sbGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIChrID8/PSBbXSkucHVzaChuZXcgSHlkcmF0ZVRlbXBsYXRlQ29udHJvbGxlcihDdCwgdGhpcy5yZXNvbHZlUmVzb3VyY2VzID8gQyA6IEMubmFtZSwgdm9pZCAwLCBfKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgKHggPz89IFtdKS5wdXNoKG5ldyBIeWRyYXRlQXR0cmlidXRlSW5zdHJ1Y3Rpb24odGhpcy5yZXNvbHZlUmVzb3VyY2VzID8gQyA6IEMubmFtZSwgQy5hbGlhc2VzICE9IG51bGwgJiYgQy5hbGlhc2VzLmluY2x1ZGVzKEYpID8gRiA6IHZvaWQgMCwgXykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChIID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgRCA9IGgucGFyc2UoTywgUik7XG4gICAgICAgICAgICAgICAgaWYgKEQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBmKCk7XG4gICAgICAgICAgICAgICAgICAgIChCID8/PSBbXSkucHVzaChuZXcgSW50ZXJwb2xhdGlvbkluc3RydWN0aW9uKEQsIGUubS5tYXAodCwgRikgPz8gZChGKSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFR0Lm5vZGUgPSB0O1xuICAgICAgICAgICAgVHQuYXR0ciA9IFM7XG4gICAgICAgICAgICBUdC5iaW5kYWJsZSA9IG51bGw7XG4gICAgICAgICAgICBUdC5kZWYgPSBudWxsO1xuICAgICAgICAgICAgKEIgPz89IFtdKS5wdXNoKEguYnVpbGQoVHQsIGUuZXAsIGUubSkpO1xuICAgICAgICAgICAgZigpO1xuICAgICAgICB9XG4gICAgICAgIHJlc2V0Q29tbWFuZEJ1aWxkSW5mbygpO1xuICAgICAgICBpZiAodGhpcy5mdCh0LCBCKSAmJiBCICE9IG51bGwgJiYgQi5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICB0aGlzLmd0KHQsIEIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsKSB7XG4gICAgICAgICAgICBWID0gbmV3IEh5ZHJhdGVFbGVtZW50SW5zdHJ1Y3Rpb24odGhpcy5yZXNvbHZlUmVzb3VyY2VzID8gcyA6IHMubmFtZSwgUCA/PyByLCBudWxsLCBOLCBhLCBxKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoQiAhPSBudWxsIHx8IFYgIT0gbnVsbCB8fCB4ICE9IG51bGwpIHtcbiAgICAgICAgICAgIGcgPSByLmNvbmNhdChWID8/IHIsIHggPz8gciwgQiA/PyByKTtcbiAgICAgICAgICAgIFUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGxldCBHO1xuICAgICAgICBpZiAoayAhPSBudWxsKSB7XG4gICAgICAgICAgICB3ID0gay5sZW5ndGggLSAxO1xuICAgICAgICAgICAgYiA9IHc7XG4gICAgICAgICAgICBMID0ga1tiXTtcbiAgICAgICAgICAgIGxldCBuO1xuICAgICAgICAgICAgaWYgKGlzTWFya2VyKHQpKSB7XG4gICAgICAgICAgICAgICAgbiA9IGUudCgpO1xuICAgICAgICAgICAgICAgIGFwcGVuZE1hbnlUb1RlbXBsYXRlKG4sIFsgZS53dCgpLCBlLmJ0KEF0KSwgZS5idCh5dCkgXSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuQXQodCwgZSk7XG4gICAgICAgICAgICAgICAgaWYgKHQubm9kZU5hbWUgPT09IFwiVEVNUExBVEVcIikge1xuICAgICAgICAgICAgICAgICAgICBuID0gdDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBuID0gZS50KCk7XG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvVGVtcGxhdGUobiwgdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgciA9IG47XG4gICAgICAgICAgICBjb25zdCB1ID0gZS55dChnID09IG51bGwgPyBbXSA6IFsgZyBdKTtcbiAgICAgICAgICAgIGxldCBjO1xuICAgICAgICAgICAgbGV0IGE7XG4gICAgICAgICAgICBsZXQgaCA9IGZhbHNlO1xuICAgICAgICAgICAgbGV0IGQ7XG4gICAgICAgICAgICBsZXQgZjtcbiAgICAgICAgICAgIGxldCBtO1xuICAgICAgICAgICAgbGV0IHA7XG4gICAgICAgICAgICBsZXQgQTtcbiAgICAgICAgICAgIGxldCB5O1xuICAgICAgICAgICAgbGV0IEkgPSAwLCBTID0gMDtcbiAgICAgICAgICAgIGxldCBCID0gdC5maXJzdENoaWxkO1xuICAgICAgICAgICAgbGV0IFAgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChXICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHdoaWxlIChCICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGEgPSBpc0VsZW1lbnQoQikgPyBCLmdldEF0dHJpYnV0ZShJdCkgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICBoID0gYSAhPT0gbnVsbCB8fCBsICYmICFvO1xuICAgICAgICAgICAgICAgICAgICBjID0gQi5uZXh0U2libGluZztcbiAgICAgICAgICAgICAgICAgICAgaWYgKGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZU1hcHBlZEVycm9yKDcwNiwgYSwgaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBCLnJlbW92ZUF0dHJpYnV0ZT8uKEl0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFAgPSBpc1RleHROb2RlKEIpICYmIEIudGV4dENvbnRlbnQudHJpbSgpID09PSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFQKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKChmID8/PSB7fSlbYSB8fCBTdF0gPz89IFtdKS5wdXNoKEIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdC5yZW1vdmVDaGlsZChCKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBCID0gYztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZCA9IHt9O1xuICAgICAgICAgICAgICAgIGZvciAoYSBpbiBmKSB7XG4gICAgICAgICAgICAgICAgICAgIG4gPSBlLnQoKTtcbiAgICAgICAgICAgICAgICAgICAgbSA9IGZbYV07XG4gICAgICAgICAgICAgICAgICAgIGZvciAoSSA9IDAsIFMgPSBtLmxlbmd0aDsgUyA+IEk7ICsrSSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcCA9IG1bSV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocC5ub2RlTmFtZSA9PT0gXCJURU1QTEFURVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHAuYXR0cmlidXRlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvVGVtcGxhdGUobiwgcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG9UZW1wbGF0ZShuLCBwLmNvbnRlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG9UZW1wbGF0ZShuLCBwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB5ID0gZS55dCgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmV0KG4uY29udGVudCwgeSk7XG4gICAgICAgICAgICAgICAgICAgIGRbYV0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBCdCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogdixcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiBuLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdHJ1Y3Rpb25zOiB5LnJvd3MsXG4gICAgICAgICAgICAgICAgICAgICAgICBuZWVkc0NvbXBpbGU6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFYucHJvamVjdGlvbnMgPSBkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKFUpIHtcbiAgICAgICAgICAgICAgICBpZiAobCAmJiAoTiB8fCBzLmNvbnRhaW5lcmxlc3MpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuQXQodCwgZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kdCh0LCBlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBHID0gIWwgfHwgIXMuY29udGFpbmVybGVzcyAmJiAhTiAmJiBXICE9PSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChHKSB7XG4gICAgICAgICAgICAgICAgaWYgKHQubm9kZU5hbWUgPT09IFB0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXQodC5jb250ZW50LCB1KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBCID0gdC5maXJzdENoaWxkO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoQiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgQiA9IHRoaXMuZXQoQiwgdSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBMLmRlZiA9IHtcbiAgICAgICAgICAgICAgICBuYW1lOiBCdCgpLFxuICAgICAgICAgICAgICAgIHR5cGU6IHYsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGU6IHIsXG4gICAgICAgICAgICAgICAgaW5zdHJ1Y3Rpb25zOiB1LnJvd3MsXG4gICAgICAgICAgICAgICAgbmVlZHNDb21waWxlOiBmYWxzZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHdoaWxlIChiLS0gPiAwKSB7XG4gICAgICAgICAgICAgICAgTCA9IGtbYl07XG4gICAgICAgICAgICAgICAgbiA9IGUudCgpO1xuICAgICAgICAgICAgICAgIEEgPSBlLnd0KCk7XG4gICAgICAgICAgICAgICAgYXBwZW5kTWFueVRvVGVtcGxhdGUobiwgWyBBLCBlLmJ0KEF0KSwgZS5idCh5dCkgXSk7XG4gICAgICAgICAgICAgICAgTC5kZWYgPSB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IEJ0KCksXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IHYsXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiBuLFxuICAgICAgICAgICAgICAgICAgICBuZWVkc0NvbXBpbGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBpbnN0cnVjdGlvbnM6IFsgWyBrW2IgKyAxXSBdIF1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZS5yb3dzLnB1c2goWyBMIF0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGcgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGUucm93cy5wdXNoKGcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IG4gPSB0LmZpcnN0Q2hpbGQ7XG4gICAgICAgICAgICBsZXQgcjtcbiAgICAgICAgICAgIGxldCB1O1xuICAgICAgICAgICAgbGV0IGMgPSBmYWxzZTtcbiAgICAgICAgICAgIGxldCBhID0gbnVsbDtcbiAgICAgICAgICAgIGxldCBoO1xuICAgICAgICAgICAgbGV0IGQ7XG4gICAgICAgICAgICBsZXQgZjtcbiAgICAgICAgICAgIGxldCBtO1xuICAgICAgICAgICAgbGV0IHA7XG4gICAgICAgICAgICBsZXQgdyA9IGZhbHNlO1xuICAgICAgICAgICAgbGV0IGIgPSAwLCBBID0gMDtcbiAgICAgICAgICAgIGlmIChXICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHdoaWxlIChuICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHUgPSBpc0VsZW1lbnQobikgPyBuLmdldEF0dHJpYnV0ZShJdCkgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICBjID0gdSAhPT0gbnVsbCB8fCBsICYmICFvO1xuICAgICAgICAgICAgICAgICAgICByID0gbi5uZXh0U2libGluZztcbiAgICAgICAgICAgICAgICAgICAgaWYgKGMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZU1hcHBlZEVycm9yKDcwNiwgdSwgaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBuLnJlbW92ZUF0dHJpYnV0ZT8uKEl0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHcgPSBpc1RleHROb2RlKG4pICYmIG4udGV4dENvbnRlbnQudHJpbSgpID09PSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKChoID8/PSB7fSlbdSB8fCBTdF0gPz89IFtdKS5wdXNoKG4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdC5yZW1vdmVDaGlsZChuKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBuID0gcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgYSA9IHt9O1xuICAgICAgICAgICAgICAgIGZvciAodSBpbiBoKSB7XG4gICAgICAgICAgICAgICAgICAgIG0gPSBlLnQoKTtcbiAgICAgICAgICAgICAgICAgICAgZCA9IGhbdV07XG4gICAgICAgICAgICAgICAgICAgIGZvciAoYiA9IDAsIEEgPSBkLmxlbmd0aDsgQSA+IGI7ICsrYikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZiA9IGRbYl07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZi5ub2RlTmFtZSA9PT0gUHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZi5hdHRyaWJ1dGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG9UZW1wbGF0ZShtLCBmKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBlbmRUb1RlbXBsYXRlKG0sIGYuY29udGVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBlbmRUb1RlbXBsYXRlKG0sIGYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHAgPSBlLnl0KCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXQobS5jb250ZW50LCBwKTtcbiAgICAgICAgICAgICAgICAgICAgYVt1XSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IEJ0KCksXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiB2LFxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6IG0sXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0cnVjdGlvbnM6IHAucm93cyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5lZWRzQ29tcGlsZTogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgVi5wcm9qZWN0aW9ucyA9IGE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoVSkge1xuICAgICAgICAgICAgICAgIGlmIChsICYmIChOIHx8IHMuY29udGFpbmVybGVzcykpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5BdCh0LCBlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmR0KHQsIGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIEcgPSAhbCB8fCAhcy5jb250YWluZXJsZXNzICYmICFOICYmIFcgIT09IGZhbHNlO1xuICAgICAgICAgICAgaWYgKEcgJiYgdC5jaGlsZE5vZGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBuID0gdC5maXJzdENoaWxkO1xuICAgICAgICAgICAgICAgIHdoaWxlIChuICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIG4gPSB0aGlzLmV0KG4sIGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbjtcbiAgICB9XG4gICAgaHQodCwgZSkge1xuICAgICAgICBjb25zdCBuID0gdC5wYXJlbnROb2RlO1xuICAgICAgICBjb25zdCBpID0gZS5lcC5wYXJzZSh0LnRleHRDb250ZW50LCBSKTtcbiAgICAgICAgY29uc3QgciA9IHQubmV4dFNpYmxpbmc7XG4gICAgICAgIGxldCBzO1xuICAgICAgICBsZXQgbDtcbiAgICAgICAgbGV0IG87XG4gICAgICAgIGxldCB1O1xuICAgICAgICBsZXQgYztcbiAgICAgICAgaWYgKGkgIT09IG51bGwpIHtcbiAgICAgICAgICAgICh7cGFydHM6IHMsIGV4cHJlc3Npb25zOiBsfSA9IGkpO1xuICAgICAgICAgICAgaWYgKGMgPSBzWzBdKSB7XG4gICAgICAgICAgICAgICAgaW5zZXJ0QmVmb3JlKG4sIGUuSXQoYyksIHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChvID0gMCwgdSA9IGwubGVuZ3RoOyB1ID4gbzsgKytvKSB7XG4gICAgICAgICAgICAgICAgaW5zZXJ0TWFueUJlZm9yZShuLCB0LCBbIGUud3QoKSwgZS5JdChcIiBcIikgXSk7XG4gICAgICAgICAgICAgICAgaWYgKGMgPSBzW28gKyAxXSkge1xuICAgICAgICAgICAgICAgICAgICBpbnNlcnRCZWZvcmUobiwgZS5JdChjKSwgdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGUucm93cy5wdXNoKFsgbmV3IFRleHRCaW5kaW5nSW5zdHJ1Y3Rpb24obFtvXSkgXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuLnJlbW92ZUNoaWxkKHQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByO1xuICAgIH1cbiAgICBvdCh0LCBlLCBuLCBpKSB7XG4gICAgICAgIGNvbnN0IHIgPSBpLnN0KG4pO1xuICAgICAgICBjb25zdCBzID0gZS5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGwgPSBbXTtcbiAgICAgICAgbGV0IG8gPSB2b2lkIDA7XG4gICAgICAgIGxldCB1ID0gdm9pZCAwO1xuICAgICAgICBsZXQgYyA9IDA7XG4gICAgICAgIGxldCBhID0gMDtcbiAgICAgICAgbGV0IGg7XG4gICAgICAgIGxldCBkO1xuICAgICAgICBsZXQgZjtcbiAgICAgICAgbGV0IG07XG4gICAgICAgIGZvciAobGV0IHAgPSAwOyBwIDwgczsgKytwKSB7XG4gICAgICAgICAgICBhID0gZS5jaGFyQ29kZUF0KHApO1xuICAgICAgICAgICAgaWYgKGEgPT09IDkyKSB7XG4gICAgICAgICAgICAgICAgKytwO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChhID09PSA1OCkge1xuICAgICAgICAgICAgICAgIG8gPSBlLnNsaWNlKGMsIHApO1xuICAgICAgICAgICAgICAgIHdoaWxlIChlLmNoYXJDb2RlQXQoKytwKSA8PSAzMikgO1xuICAgICAgICAgICAgICAgIGMgPSBwO1xuICAgICAgICAgICAgICAgIGZvciAoO3AgPCBzOyArK3ApIHtcbiAgICAgICAgICAgICAgICAgICAgYSA9IGUuY2hhckNvZGVBdChwKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGEgPT09IDkyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICArK3A7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYSA9PT0gNTkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHUgPSBlLnNsaWNlKGMsIHApO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHUgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgICAgICB1ID0gZS5zbGljZShjKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZCA9IGkuWC5wYXJzZShvLCB1KTtcbiAgICAgICAgICAgICAgICBmID0gaS5ydChkKTtcbiAgICAgICAgICAgICAgICBtID0gci5hdHRyc1tkLnRhcmdldF07XG4gICAgICAgICAgICAgICAgaWYgKG0gPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVNYXBwZWRFcnJvcig3MDcsIGQudGFyZ2V0LCBuLm5hbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBoID0gaS5lcC5wYXJzZSh1LCBSKTtcbiAgICAgICAgICAgICAgICAgICAgbC5wdXNoKGggPT09IG51bGwgPyBuZXcgU2V0UHJvcGVydHlJbnN0cnVjdGlvbih1LCBtLm5hbWUpIDogbmV3IEludGVycG9sYXRpb25JbnN0cnVjdGlvbihoLCBtLm5hbWUpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBUdC5ub2RlID0gdDtcbiAgICAgICAgICAgICAgICAgICAgVHQuYXR0ciA9IGQ7XG4gICAgICAgICAgICAgICAgICAgIFR0LmJpbmRhYmxlID0gbTtcbiAgICAgICAgICAgICAgICAgICAgVHQuZGVmID0gbjtcbiAgICAgICAgICAgICAgICAgICAgbC5wdXNoKGYuYnVpbGQoVHQsIGkuZXAsIGkubSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB3aGlsZSAocCA8IHMgJiYgZS5jaGFyQ29kZUF0KCsrcCkgPD0gMzIpIDtcbiAgICAgICAgICAgICAgICBjID0gcDtcbiAgICAgICAgICAgICAgICBvID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgIHUgPSB2b2lkIDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmVzZXRDb21tYW5kQnVpbGRJbmZvKCk7XG4gICAgICAgIHJldHVybiBsO1xuICAgIH1cbiAgICB0dCh0LCBlKSB7XG4gICAgICAgIGNvbnN0IG4gPSBlLnJvb3QuZGVmLm5hbWU7XG4gICAgICAgIGNvbnN0IGkgPSB0O1xuICAgICAgICBjb25zdCBzID0gZyhpLnF1ZXJ5U2VsZWN0b3JBbGwoXCJ0ZW1wbGF0ZVthcy1jdXN0b20tZWxlbWVudF1cIikpO1xuICAgICAgICBjb25zdCBsID0gcy5sZW5ndGg7XG4gICAgICAgIGlmIChsID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGwgPT09IGkuY2hpbGRFbGVtZW50Q291bnQpIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZU1hcHBlZEVycm9yKDcwOCwgbik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbyA9IG5ldyBTZXQ7XG4gICAgICAgIGNvbnN0IHUgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCB0IG9mIHMpIHtcbiAgICAgICAgICAgIGlmICh0LnBhcmVudE5vZGUgIT09IGkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVNYXBwZWRFcnJvcig3MDksIG4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZSA9IHByb2Nlc3NUZW1wbGF0ZU5hbWUobiwgdCwgbyk7XG4gICAgICAgICAgICBjb25zdCByID0gdC5jb250ZW50O1xuICAgICAgICAgICAgY29uc3QgcyA9IGcoci5xdWVyeVNlbGVjdG9yQWxsKFwiYmluZGFibGVcIikpO1xuICAgICAgICAgICAgY29uc3QgbCA9IG5ldyBTZXQ7XG4gICAgICAgICAgICBjb25zdCBjID0gbmV3IFNldDtcbiAgICAgICAgICAgIGNvbnN0IGEgPSBzLnJlZHVjZSgoKHQsIG4pID0+IHtcbiAgICAgICAgICAgICAgICBpZiAobi5wYXJlbnROb2RlICE9PSByKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZU1hcHBlZEVycm9yKDcxMCwgZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGkgPSBuLmdldEF0dHJpYnV0ZShcIm5hbWVcIik7XG4gICAgICAgICAgICAgICAgaWYgKGkgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlTWFwcGVkRXJyb3IoNzExLCBuLCBlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgcyA9IG4uZ2V0QXR0cmlidXRlKFwiYXR0cmlidXRlXCIpO1xuICAgICAgICAgICAgICAgIGlmIChzICE9PSBudWxsICYmIGMuaGFzKHMpIHx8IGwuaGFzKGkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZU1hcHBlZEVycm9yKDcxMiwgbCwgcyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHMgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGMuYWRkKHMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGwuYWRkKGkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBvID0gZyhuLmF0dHJpYnV0ZXMpLmZpbHRlcigodCA9PiAhX3QuaW5jbHVkZXModC5uYW1lKSkpO1xuICAgICAgICAgICAgICAgIGlmIChvLmxlbmd0aCA+IDApIDtcbiAgICAgICAgICAgICAgICBuLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIHRbaV0gPSB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IGksXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZTogcyA/PyB2b2lkIDAsXG4gICAgICAgICAgICAgICAgICAgIG1vZGU6IG4uZ2V0QXR0cmlidXRlKFwibW9kZVwiKSA/PyBcImRlZmF1bHRcIlxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIHQ7XG4gICAgICAgICAgICB9KSwge30pO1xuICAgICAgICAgICAgY2xhc3MgTG9jYWxEZXBUeXBlIHt9XG4gICAgICAgICAgICBMb2NhbERlcFR5cGUuJGF1ID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHYsXG4gICAgICAgICAgICAgICAgbmFtZTogZSxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogdCxcbiAgICAgICAgICAgICAgICBiaW5kYWJsZXM6IGFcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBSZWZsZWN0LmRlZmluZVByb3BlcnR5KExvY2FsRGVwVHlwZSwgXCJuYW1lXCIsIHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogdyhlKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB1LnB1c2goTG9jYWxEZXBUeXBlKTtcbiAgICAgICAgICAgIGkucmVtb3ZlQ2hpbGQodCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYyA9IChlLnJvb3QuZGVmLmRlcGVuZGVuY2llcyA/PyBbXSkuY29uY2F0KGUucm9vdC5kZWYuVHlwZSA9PSBudWxsID8gciA6IFsgZS5yb290LmRlZi5UeXBlIF0pO1xuICAgICAgICBmb3IgKGNvbnN0IHQgb2YgdSkge1xuICAgICAgICAgICAgdC5kZXBlbmRlbmNpZXMgPSBjLmNvbmNhdCh1LmZpbHRlcigoZSA9PiBlICE9PSB0KSkpO1xuICAgICAgICAgICAgZS5TdCh0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdCh0LCBlKSB7XG4gICAgICAgIGNvbnN0IG4gPSB0Lm5vZGVOYW1lO1xuICAgICAgICByZXR1cm4gbiA9PT0gXCJJTlBVVFwiICYmIEV0W3QudHlwZV0gPT09IDEgfHwgbiA9PT0gXCJTRUxFQ1RcIiAmJiAodC5oYXNBdHRyaWJ1dGUoXCJtdWx0aXBsZVwiKSB8fCBlPy5zb21lKCh0ID0+IHQudHlwZSA9PT0gWCAmJiB0LnRvID09PSBcIm11bHRpcGxlXCIpKSk7XG4gICAgfVxuICAgIGd0KHQsIGUpIHtcbiAgICAgICAgc3dpdGNoICh0Lm5vZGVOYW1lKSB7XG4gICAgICAgICAgY2FzZSBcIklOUFVUXCI6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgdCA9IGU7XG4gICAgICAgICAgICAgICAgbGV0IG4gPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgbGV0IGkgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgbGV0IHIgPSAwO1xuICAgICAgICAgICAgICAgIGxldCBzO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGUgPSAwOyBlIDwgdC5sZW5ndGggJiYgciA8IDM7IGUrKykge1xuICAgICAgICAgICAgICAgICAgICBzID0gdFtlXTtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChzLnRvKSB7XG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm1vZGVsXCI6XG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInZhbHVlXCI6XG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm1hdGNoZXJcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIG4gPSBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgcisrO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiY2hlY2tlZFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgaSA9IGU7XG4gICAgICAgICAgICAgICAgICAgICAgICByKys7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaSAhPT0gdm9pZCAwICYmIG4gIT09IHZvaWQgMCAmJiBpIDwgbikge1xuICAgICAgICAgICAgICAgICAgICBbdFtuXSwgdFtpXV0gPSBbIHRbaV0sIHRbbl0gXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICBjYXNlIFwiU0VMRUNUXCI6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgdCA9IGU7XG4gICAgICAgICAgICAgICAgbGV0IG4gPSAwO1xuICAgICAgICAgICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgICAgICAgICBsZXQgciA9IDA7XG4gICAgICAgICAgICAgICAgbGV0IHM7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgZSA9IDA7IGUgPCB0Lmxlbmd0aCAmJiByIDwgMjsgKytlKSB7XG4gICAgICAgICAgICAgICAgICAgIHMgPSB0W2VdO1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHMudG8pIHtcbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwibXVsdGlwbGVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGkgPSBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgcisrO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwidmFsdWVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIG4gPSBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgcisrO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHIgPT09IDIgJiYgbiA8IGkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFt0W2ldLCB0W25dXSA9IFsgdFtuXSwgdFtpXSBdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGR0KHQsIGUpIHtcbiAgICAgICAgaW5zZXJ0QmVmb3JlKHQucGFyZW50Tm9kZSwgZS5idChcImF1KlwiKSwgdCk7XG4gICAgICAgIHJldHVybiB0O1xuICAgIH1cbiAgICBBdCh0LCBlKSB7XG4gICAgICAgIGlmIChpc01hcmtlcih0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbiA9IHQucGFyZW50Tm9kZTtcbiAgICAgICAgY29uc3QgaSA9IGUud3QoKTtcbiAgICAgICAgaW5zZXJ0TWFueUJlZm9yZShuLCB0LCBbIGksIGUuYnQoQXQpLCBlLmJ0KHl0KSBdKTtcbiAgICAgICAgbi5yZW1vdmVDaGlsZCh0KTtcbiAgICAgICAgcmV0dXJuIGk7XG4gICAgfVxufVxuXG5UZW1wbGF0ZUNvbXBpbGVyLnJlZ2lzdGVyID0gbShrKTtcblxuY29uc3QgUHQgPSBcIlRFTVBMQVRFXCI7XG5cbmNvbnN0IGlzTWFya2VyID0gdCA9PiB0Lm5vZGVWYWx1ZSA9PT0gXCJhdSpcIjtcblxuY2xhc3MgQ29tcGlsYXRpb25Db250ZXh0IHtcbiAgICBjb25zdHJ1Y3Rvcih0LCBlLCBuLCBpLCByKSB7XG4gICAgICAgIHRoaXMuaGFzU2xvdCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmRlcHMgPSBudWxsO1xuICAgICAgICBjb25zdCBzID0gbiAhPT0gbnVsbDtcbiAgICAgICAgdGhpcy5jID0gZTtcbiAgICAgICAgdGhpcy5yb290ID0gaSA9PT0gbnVsbCA/IHRoaXMgOiBpO1xuICAgICAgICB0aGlzLmRlZiA9IHQ7XG4gICAgICAgIHRoaXMucGFyZW50ID0gbjtcbiAgICAgICAgdGhpcy5CdCA9IHMgPyBuLkJ0IDogZS5nZXQoeHQpO1xuICAgICAgICB0aGlzLlB0ID0gcyA/IG4uUHQgOiBlLmdldCh2dCk7XG4gICAgICAgIHRoaXMuWiA9IHMgPyBuLlogOiBlLmdldCh3dCk7XG4gICAgICAgIHRoaXMuWCA9IHMgPyBuLlggOiBlLmdldChXKTtcbiAgICAgICAgdGhpcy5lcCA9IHMgPyBuLmVwIDogZS5nZXQoUyk7XG4gICAgICAgIHRoaXMubSA9IHMgPyBuLm0gOiBlLmdldChMKTtcbiAgICAgICAgdGhpcy5DdCA9IHMgPyBuLkN0IDogZS5nZXQoYik7XG4gICAgICAgIGlmICh0eXBlb2YgKHRoaXMucCA9IHMgPyBuLnAgOiBlLmdldChmKSkuZG9jdW1lbnQ/Lm5vZGVUeXBlICE9PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVNYXBwZWRFcnJvcig3MjIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubG9jYWxFbHMgPSBzID8gbi5sb2NhbEVscyA6IG5ldyBTZXQ7XG4gICAgICAgIHRoaXMucm93cyA9IHIgPz8gW107XG4gICAgfVxuICAgIFN0KHQpIHtcbiAgICAgICAgKHRoaXMucm9vdC5kZXBzID8/PSBbXSkucHVzaCh0KTtcbiAgICAgICAgdGhpcy5yb290LmMucmVnaXN0ZXIodCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBJdCh0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnAuZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodCk7XG4gICAgfVxuICAgIGJ0KHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucC5kb2N1bWVudC5jcmVhdGVDb21tZW50KHQpO1xuICAgIH1cbiAgICB3dCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYnQoXCJhdSpcIik7XG4gICAgfVxuICAgIGgodCkge1xuICAgICAgICBjb25zdCBlID0gdGhpcy5wLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodCk7XG4gICAgICAgIGlmICh0ID09PSBcInRlbXBsYXRlXCIpIHtcbiAgICAgICAgICAgIHRoaXMucC5kb2N1bWVudC5hZG9wdE5vZGUoZS5jb250ZW50KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZTtcbiAgICB9XG4gICAgdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaChcInRlbXBsYXRlXCIpO1xuICAgIH1cbiAgICBpdCh0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLkJ0LmVsKHRoaXMuYywgdCk7XG4gICAgfVxuICAgIGx0KHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuQnQuYXR0cih0aGlzLmMsIHQpO1xuICAgIH1cbiAgICBzdCh0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLkJ0LmJpbmRhYmxlcyh0KTtcbiAgICB9XG4gICAgeXQodCkge1xuICAgICAgICByZXR1cm4gbmV3IENvbXBpbGF0aW9uQ29udGV4dCh0aGlzLmRlZiwgdGhpcy5jLCB0aGlzLCB0aGlzLnJvb3QsIHQpO1xuICAgIH1cbiAgICBydCh0KSB7XG4gICAgICAgIGNvbnN0IGUgPSB0LmNvbW1hbmQ7XG4gICAgICAgIGlmIChlID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5QdC5nZXQodGhpcy5jLCBlKTtcbiAgICB9XG59XG5cbmNvbnN0IGhhc0lubGluZUJpbmRpbmdzID0gdCA9PiB7XG4gICAgY29uc3QgZSA9IHQubGVuZ3RoO1xuICAgIGxldCBuID0gMDtcbiAgICBsZXQgaSA9IDA7XG4gICAgd2hpbGUgKGUgPiBpKSB7XG4gICAgICAgIG4gPSB0LmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIGlmIChuID09PSA5Mikge1xuICAgICAgICAgICAgKytpO1xuICAgICAgICB9IGVsc2UgaWYgKG4gPT09IDU4KSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIGlmIChuID09PSAzNiAmJiB0LmNoYXJDb2RlQXQoaSArIDEpID09PSAxMjMpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICArK2k7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn07XG5cbmNvbnN0IHJlc2V0Q29tbWFuZEJ1aWxkSW5mbyA9ICgpID0+IHtcbiAgICBUdC5ub2RlID0gVHQuYXR0ciA9IFR0LmJpbmRhYmxlID0gVHQuZGVmID0gbnVsbDtcbn07XG5cbmNvbnN0IEN0ID0ge1xuICAgIG5hbWU6IFwidW5uYW1lZFwiLFxuICAgIHR5cGU6IHZcbn07XG5cbmNvbnN0IFR0ID0ge1xuICAgIG5vZGU6IG51bGwsXG4gICAgYXR0cjogbnVsbCxcbiAgICBiaW5kYWJsZTogbnVsbCxcbiAgICBkZWY6IG51bGxcbn07XG5cbmNvbnN0IFJ0ID0ge1xuICAgIGlkOiB0cnVlLFxuICAgIG5hbWU6IHRydWUsXG4gICAgXCJhdS1zbG90XCI6IHRydWUsXG4gICAgXCJhcy1lbGVtZW50XCI6IHRydWVcbn07XG5cbmNvbnN0IEV0ID0ge1xuICAgIGNoZWNrYm94OiAxLFxuICAgIHJhZGlvOiAxXG59O1xuXG5jb25zdCB4dCA9IC8qQF9fUFVSRV9fKi8gQihcIklSZXNvdXJjZVJlc29sdmVyXCIpO1xuXG5jb25zdCB2dCA9IC8qQF9fUFVSRV9fKi8gQihcIklCaW5kaW5nQ29tbWFuZFJlc29sdmVyXCIsICh0ID0+IHtcbiAgICBjbGFzcyBEZWZhdWx0QmluZGluZ0NvbW1hbmRSZXNvbHZlciB7XG4gICAgICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAgICAgdGhpcy5VID0gbmV3IFdlYWtNYXA7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0KHQsIGUpIHtcbiAgICAgICAgICAgIGxldCBuID0gdGhpcy5VLmdldCh0KTtcbiAgICAgICAgICAgIGlmICghbikge1xuICAgICAgICAgICAgICAgIHRoaXMuVS5zZXQodCwgbiA9IHt9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBlIGluIG4gPyBuW2VdIDogbltlXSA9IGd0LmdldCh0LCBlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdC5zaW5nbGV0b24oRGVmYXVsdEJpbmRpbmdDb21tYW5kUmVzb2x2ZXIpO1xufSkpO1xuXG5jb25zdCBfdCA9IFAoWyBcIm5hbWVcIiwgXCJhdHRyaWJ1dGVcIiwgXCJtb2RlXCIgXSk7XG5cbmNvbnN0IGt0ID0gXCJhcy1jdXN0b20tZWxlbWVudFwiO1xuXG5jb25zdCBwcm9jZXNzVGVtcGxhdGVOYW1lID0gKHQsIGUsIG4pID0+IHtcbiAgICBjb25zdCBpID0gZS5nZXRBdHRyaWJ1dGUoa3QpO1xuICAgIGlmIChpID09PSBudWxsIHx8IGkgPT09IFwiXCIpIHtcbiAgICAgICAgdGhyb3cgY3JlYXRlTWFwcGVkRXJyb3IoNzE1LCB0KTtcbiAgICB9XG4gICAgaWYgKG4uaGFzKGkpKSB7XG4gICAgICAgIHRocm93IGNyZWF0ZU1hcHBlZEVycm9yKDcxNiwgaSwgdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgbi5hZGQoaSk7XG4gICAgICAgIGUucmVtb3ZlQXR0cmlidXRlKGt0KTtcbiAgICB9XG4gICAgcmV0dXJuIGk7XG59O1xuXG5jb25zdCBMdCA9IC8qQF9fUFVSRV9fKi8gQihcIklUZW1wbGF0ZUNvbXBpbGVySG9va3NcIik7XG5cbmNvbnN0IER0ID0gUCh7XG4gICAgbmFtZTogLypAX19QVVJFX18qLyBuKFwiY29tcGlsZXItaG9va3NcIiksXG4gICAgZGVmaW5lKHQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlZ2lzdGVyKGUpIHtcbiAgICAgICAgICAgICAgICBUKEx0LCB0KS5yZWdpc3RlcihlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9LFxuICAgIGZpbmRBbGwodCkge1xuICAgICAgICByZXR1cm4gdC5nZXQoQShMdCkpO1xuICAgIH1cbn0pO1xuXG5jb25zdCB0ZW1wbGF0ZUNvbXBpbGVySG9va3MgPSAodCwgZSkgPT4ge1xuICAgIHJldHVybiB0ID09PSB2b2lkIDAgPyBkZWNvcmF0b3IgOiBkZWNvcmF0b3IodCwgZSk7XG4gICAgZnVuY3Rpb24gZGVjb3JhdG9yKHQsIGUpIHtcbiAgICAgICAgZS5tZXRhZGF0YVtpXSA9IER0LmRlZmluZSh0KTtcbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfVxufTtcblxuZXhwb3J0IHsgQXRQcmVmaXhlZFRyaWdnZXJBdHRyaWJ1dGVQYXR0ZXJuLCBBdHRyQmluZGluZ0NvbW1hbmQsIEF0dHJTeW50YXgsIEF0dHJpYnV0ZUJpbmRpbmdJbnN0cnVjdGlvbiwgQXR0cmlidXRlUGFyc2VyLCBOIGFzIEF0dHJpYnV0ZVBhdHRlcm4sIGd0IGFzIEJpbmRpbmdDb21tYW5kLCBCaW5kaW5nQ29tbWFuZERlZmluaXRpb24sIF8gYXMgQmluZGluZ01vZGUsIENhcHR1cmVCaW5kaW5nQ29tbWFuZCwgQ2xhc3NCaW5kaW5nQ29tbWFuZCwgQ29sb25QcmVmaXhlZEJpbmRBdHRyaWJ1dGVQYXR0ZXJuLCBEZWZhdWx0QmluZGluZ0NvbW1hbmQsIERvdFNlcGFyYXRlZEF0dHJpYnV0ZVBhdHRlcm4sIEV2ZW50QXR0cmlidXRlUGF0dGVybiwgRm9yQmluZGluZ0NvbW1hbmQsIEZyb21WaWV3QmluZGluZ0NvbW1hbmQsIEh5ZHJhdGVBdHRyaWJ1dGVJbnN0cnVjdGlvbiwgSHlkcmF0ZUVsZW1lbnRJbnN0cnVjdGlvbiwgSHlkcmF0ZUxldEVsZW1lbnRJbnN0cnVjdGlvbiwgSHlkcmF0ZVRlbXBsYXRlQ29udHJvbGxlciwgTCBhcyBJQXR0ck1hcHBlciwgVyBhcyBJQXR0cmlidXRlUGFyc2VyLCBPIGFzIElBdHRyaWJ1dGVQYXR0ZXJuLCB2dCBhcyBJQmluZGluZ0NvbW1hbmRSZXNvbHZlciwgZnQgYXMgSUluc3RydWN0aW9uLCB4dCBhcyBJUmVzb3VyY2VSZXNvbHZlciwgRiBhcyBJU3ludGF4SW50ZXJwcmV0ZXIsIGsgYXMgSVRlbXBsYXRlQ29tcGlsZXIsIEx0IGFzIElUZW1wbGF0ZUNvbXBpbGVySG9va3MsIHd0IGFzIElUZW1wbGF0ZUVsZW1lbnRGYWN0b3J5LCBkdCBhcyBJbnN0cnVjdGlvblR5cGUsIEludGVycG9sYXRpb25JbnN0cnVjdGlvbiwgSW50ZXJwcmV0YXRpb24sIEl0ZXJhdG9yQmluZGluZ0luc3RydWN0aW9uLCBMZXRCaW5kaW5nSW5zdHJ1Y3Rpb24sIExpc3RlbmVyQmluZGluZ0luc3RydWN0aW9uLCBNdWx0aUF0dHJJbnN0cnVjdGlvbiwgT25lVGltZUJpbmRpbmdDb21tYW5kLCBQcm9wZXJ0eUJpbmRpbmdJbnN0cnVjdGlvbiwgUmVmQXR0cmlidXRlUGF0dGVybiwgUmVmQmluZGluZ0NvbW1hbmQsIFJlZkJpbmRpbmdJbnN0cnVjdGlvbiwgU2V0QXR0cmlidXRlSW5zdHJ1Y3Rpb24sIFNldENsYXNzQXR0cmlidXRlSW5zdHJ1Y3Rpb24sIFNldFByb3BlcnR5SW5zdHJ1Y3Rpb24sIFNldFN0eWxlQXR0cmlidXRlSW5zdHJ1Y3Rpb24sIFNwcmVhZEVsZW1lbnRQcm9wQmluZGluZ0luc3RydWN0aW9uLCBTcHJlYWRUcmFuc2ZlcmVkQmluZGluZ0luc3RydWN0aW9uLCBTcHJlYWRWYWx1ZUJpbmRpbmdDb21tYW5kLCBTcHJlYWRWYWx1ZUJpbmRpbmdJbnN0cnVjdGlvbiwgU3R5bGVCaW5kaW5nQ29tbWFuZCwgU3R5bGVQcm9wZXJ0eUJpbmRpbmdJbnN0cnVjdGlvbiwgU3ludGF4SW50ZXJwcmV0ZXIsIFRlbXBsYXRlQ29tcGlsZXIsIER0IGFzIFRlbXBsYXRlQ29tcGlsZXJIb29rcywgVGV4dEJpbmRpbmdJbnN0cnVjdGlvbiwgVG9WaWV3QmluZGluZ0NvbW1hbmQsIFRyaWdnZXJCaW5kaW5nQ29tbWFuZCwgVHdvV2F5QmluZGluZ0NvbW1hbmQsIGF0dHJpYnV0ZVBhdHRlcm4sIGJpbmRpbmdDb21tYW5kLCBCdCBhcyBnZW5lcmF0ZUVsZW1lbnROYW1lLCB0ZW1wbGF0ZUNvbXBpbGVySG9va3MgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/template-compiler/dist/esm/index.mjs\n\n}");

/***/ },

/***/ "./node_modules/@socket.io/component-emitter/lib/esm/index.js"
/*!********************************************************************!*\
  !*** ./node_modules/@socket.io/component-emitter/lib/esm/index.js ***!
  \********************************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Emitter: () => (/* binding */ Emitter)\n/* harmony export */ });\n/**\n * Initialize a new `Emitter`.\n *\n * @api public\n */\n\nfunction Emitter(obj) {\n  if (obj) return mixin(obj);\n}\n\n/**\n * Mixin the emitter properties.\n *\n * @param {Object} obj\n * @return {Object}\n * @api private\n */\n\nfunction mixin(obj) {\n  for (var key in Emitter.prototype) {\n    obj[key] = Emitter.prototype[key];\n  }\n  return obj;\n}\n\n/**\n * Listen on the given `event` with `fn`.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.on =\nEmitter.prototype.addEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\n    .push(fn);\n  return this;\n};\n\n/**\n * Adds an `event` listener that will be invoked a single\n * time then automatically removed.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.once = function(event, fn){\n  function on() {\n    this.off(event, on);\n    fn.apply(this, arguments);\n  }\n\n  on.fn = fn;\n  this.on(event, on);\n  return this;\n};\n\n/**\n * Remove the given callback for `event` or all\n * registered callbacks.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.off =\nEmitter.prototype.removeListener =\nEmitter.prototype.removeAllListeners =\nEmitter.prototype.removeEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n\n  // all\n  if (0 == arguments.length) {\n    this._callbacks = {};\n    return this;\n  }\n\n  // specific event\n  var callbacks = this._callbacks['$' + event];\n  if (!callbacks) return this;\n\n  // remove all handlers\n  if (1 == arguments.length) {\n    delete this._callbacks['$' + event];\n    return this;\n  }\n\n  // remove specific handler\n  var cb;\n  for (var i = 0; i < callbacks.length; i++) {\n    cb = callbacks[i];\n    if (cb === fn || cb.fn === fn) {\n      callbacks.splice(i, 1);\n      break;\n    }\n  }\n\n  // Remove event specific arrays for event types that no\n  // one is subscribed for to avoid memory leak.\n  if (callbacks.length === 0) {\n    delete this._callbacks['$' + event];\n  }\n\n  return this;\n};\n\n/**\n * Emit `event` with the given args.\n *\n * @param {String} event\n * @param {Mixed} ...\n * @return {Emitter}\n */\n\nEmitter.prototype.emit = function(event){\n  this._callbacks = this._callbacks || {};\n\n  var args = new Array(arguments.length - 1)\n    , callbacks = this._callbacks['$' + event];\n\n  for (var i = 1; i < arguments.length; i++) {\n    args[i - 1] = arguments[i];\n  }\n\n  if (callbacks) {\n    callbacks = callbacks.slice(0);\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\n      callbacks[i].apply(this, args);\n    }\n  }\n\n  return this;\n};\n\n// alias used for reserved events (protected method)\nEmitter.prototype.emitReserved = Emitter.prototype.emit;\n\n/**\n * Return array of callbacks for `event`.\n *\n * @param {String} event\n * @return {Array}\n * @api public\n */\n\nEmitter.prototype.listeners = function(event){\n  this._callbacks = this._callbacks || {};\n  return this._callbacks['$' + event] || [];\n};\n\n/**\n * Check if this emitter has `event` handlers.\n *\n * @param {String} event\n * @return {Boolean}\n * @api public\n */\n\nEmitter.prototype.hasListeners = function(event){\n  return !! this.listeners(event).length;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHNvY2tldC5pby9jb21wb25lbnQtZW1pdHRlci9saWIvZXNtL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFVBQVU7QUFDckIsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxVQUFVO0FBQ3JCLFlBQVk7QUFDWjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxVQUFVO0FBQ3JCLFlBQVk7QUFDWjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esa0JBQWtCLHNCQUFzQjtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLE9BQU87QUFDbEIsWUFBWTtBQUNaOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxrQkFBa0Isc0JBQXNCO0FBQ3hDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDRDQUE0QyxTQUFTO0FBQ3JEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFlBQVk7QUFDWjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixZQUFZO0FBQ1o7QUFDQTs7QUFFQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZXRyb2FwcC1jbGllbnQvLi9ub2RlX21vZHVsZXMvQHNvY2tldC5pby9jb21wb25lbnQtZW1pdHRlci9saWIvZXNtL2luZGV4LmpzPzQxZDUiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBJbml0aWFsaXplIGEgbmV3IGBFbWl0dGVyYC5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBFbWl0dGVyKG9iaikge1xuICBpZiAob2JqKSByZXR1cm4gbWl4aW4ob2JqKTtcbn1cblxuLyoqXG4gKiBNaXhpbiB0aGUgZW1pdHRlciBwcm9wZXJ0aWVzLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIG1peGluKG9iaikge1xuICBmb3IgKHZhciBrZXkgaW4gRW1pdHRlci5wcm90b3R5cGUpIHtcbiAgICBvYmpba2V5XSA9IEVtaXR0ZXIucHJvdG90eXBlW2tleV07XG4gIH1cbiAgcmV0dXJuIG9iajtcbn1cblxuLyoqXG4gKiBMaXN0ZW4gb24gdGhlIGdpdmVuIGBldmVudGAgd2l0aCBgZm5gLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAqIEByZXR1cm4ge0VtaXR0ZXJ9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbkVtaXR0ZXIucHJvdG90eXBlLm9uID1cbkVtaXR0ZXIucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbihldmVudCwgZm4pe1xuICB0aGlzLl9jYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3MgfHwge307XG4gICh0aGlzLl9jYWxsYmFja3NbJyQnICsgZXZlbnRdID0gdGhpcy5fY2FsbGJhY2tzWyckJyArIGV2ZW50XSB8fCBbXSlcbiAgICAucHVzaChmbik7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBBZGRzIGFuIGBldmVudGAgbGlzdGVuZXIgdGhhdCB3aWxsIGJlIGludm9rZWQgYSBzaW5nbGVcbiAqIHRpbWUgdGhlbiBhdXRvbWF0aWNhbGx5IHJlbW92ZWQuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICogQHJldHVybiB7RW1pdHRlcn1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuRW1pdHRlci5wcm90b3R5cGUub25jZSA9IGZ1bmN0aW9uKGV2ZW50LCBmbil7XG4gIGZ1bmN0aW9uIG9uKCkge1xuICAgIHRoaXMub2ZmKGV2ZW50LCBvbik7XG4gICAgZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIG9uLmZuID0gZm47XG4gIHRoaXMub24oZXZlbnQsIG9uKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFJlbW92ZSB0aGUgZ2l2ZW4gY2FsbGJhY2sgZm9yIGBldmVudGAgb3IgYWxsXG4gKiByZWdpc3RlcmVkIGNhbGxiYWNrcy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gKiBAcmV0dXJuIHtFbWl0dGVyfVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5FbWl0dGVyLnByb3RvdHlwZS5vZmYgPVxuRW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPVxuRW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID1cbkVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbihldmVudCwgZm4pe1xuICB0aGlzLl9jYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3MgfHwge307XG5cbiAgLy8gYWxsXG4gIGlmICgwID09IGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICB0aGlzLl9jYWxsYmFja3MgPSB7fTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vIHNwZWNpZmljIGV2ZW50XG4gIHZhciBjYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3NbJyQnICsgZXZlbnRdO1xuICBpZiAoIWNhbGxiYWNrcykgcmV0dXJuIHRoaXM7XG5cbiAgLy8gcmVtb3ZlIGFsbCBoYW5kbGVyc1xuICBpZiAoMSA9PSBhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgZGVsZXRlIHRoaXMuX2NhbGxiYWNrc1snJCcgKyBldmVudF07XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvLyByZW1vdmUgc3BlY2lmaWMgaGFuZGxlclxuICB2YXIgY2I7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgY2FsbGJhY2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgY2IgPSBjYWxsYmFja3NbaV07XG4gICAgaWYgKGNiID09PSBmbiB8fCBjYi5mbiA9PT0gZm4pIHtcbiAgICAgIGNhbGxiYWNrcy5zcGxpY2UoaSwgMSk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICAvLyBSZW1vdmUgZXZlbnQgc3BlY2lmaWMgYXJyYXlzIGZvciBldmVudCB0eXBlcyB0aGF0IG5vXG4gIC8vIG9uZSBpcyBzdWJzY3JpYmVkIGZvciB0byBhdm9pZCBtZW1vcnkgbGVhay5cbiAgaWYgKGNhbGxiYWNrcy5sZW5ndGggPT09IDApIHtcbiAgICBkZWxldGUgdGhpcy5fY2FsbGJhY2tzWyckJyArIGV2ZW50XTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBFbWl0IGBldmVudGAgd2l0aCB0aGUgZ2l2ZW4gYXJncy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcbiAqIEBwYXJhbSB7TWl4ZWR9IC4uLlxuICogQHJldHVybiB7RW1pdHRlcn1cbiAqL1xuXG5FbWl0dGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24oZXZlbnQpe1xuICB0aGlzLl9jYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3MgfHwge307XG5cbiAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpXG4gICAgLCBjYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3NbJyQnICsgZXZlbnRdO1xuXG4gIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gIH1cblxuICBpZiAoY2FsbGJhY2tzKSB7XG4gICAgY2FsbGJhY2tzID0gY2FsbGJhY2tzLnNsaWNlKDApO1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBjYWxsYmFja3MubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgIGNhbGxiYWNrc1tpXS5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8vIGFsaWFzIHVzZWQgZm9yIHJlc2VydmVkIGV2ZW50cyAocHJvdGVjdGVkIG1ldGhvZClcbkVtaXR0ZXIucHJvdG90eXBlLmVtaXRSZXNlcnZlZCA9IEVtaXR0ZXIucHJvdG90eXBlLmVtaXQ7XG5cbi8qKlxuICogUmV0dXJuIGFycmF5IG9mIGNhbGxiYWNrcyBmb3IgYGV2ZW50YC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcbiAqIEByZXR1cm4ge0FycmF5fVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5FbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lcnMgPSBmdW5jdGlvbihldmVudCl7XG4gIHRoaXMuX2NhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrcyB8fCB7fTtcbiAgcmV0dXJuIHRoaXMuX2NhbGxiYWNrc1snJCcgKyBldmVudF0gfHwgW107XG59O1xuXG4vKipcbiAqIENoZWNrIGlmIHRoaXMgZW1pdHRlciBoYXMgYGV2ZW50YCBoYW5kbGVycy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbkVtaXR0ZXIucHJvdG90eXBlLmhhc0xpc3RlbmVycyA9IGZ1bmN0aW9uKGV2ZW50KXtcbiAgcmV0dXJuICEhIHRoaXMubGlzdGVuZXJzKGV2ZW50KS5sZW5ndGg7XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@socket.io/component-emitter/lib/esm/index.js\n\n}");

/***/ },

/***/ "./node_modules/aurelia/dist/esm/index.mjs"
/*!*************************************************!*\
  !*** ./node_modules/aurelia/dist/esm/index.mjs ***!
  \*************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AppTask: () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.AppTask),\n/* harmony export */   ArrayLikeHandler: () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.ArrayLikeHandler),\n/* harmony export */   AttributePattern: () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_2__.AttributePattern),\n/* harmony export */   AuSlotsInfo: () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.AuSlotsInfo),\n/* harmony export */   Aurelia: () => (/* binding */ Aurelia),\n/* harmony export */   Bindable: () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.Bindable),\n/* harmony export */   BindingBehavior: () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.BindingBehavior),\n/* harmony export */   BindingCommand: () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_2__.BindingCommand),\n/* harmony export */   BindingMode: () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_2__.BindingMode),\n/* harmony export */   ChildrenBinding: () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.ChildrenBinding),\n/* harmony export */   ComputedObserver: () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_6__.ComputedObserver),\n/* harmony export */   ConsoleSink: () => (/* reexport safe */ _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.ConsoleSink),\n/* harmony export */   Controller: () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.Controller),\n/* harmony export */   CustomAttribute: () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.CustomAttribute),\n/* harmony export */   CustomElement: () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.CustomElement),\n/* harmony export */   CustomExpression: () => (/* reexport safe */ _aurelia_expression_parser__WEBPACK_IMPORTED_MODULE_5__.CustomExpression),\n/* harmony export */   DI: () => (/* reexport safe */ _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.DI),\n/* harmony export */   EventAggregator: () => (/* reexport safe */ _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.EventAggregator),\n/* harmony export */   FlushQueue: () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.FlushQueue),\n/* harmony export */   IAppRoot: () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.IAppRoot),\n/* harmony export */   IAttrMapper: () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_2__.IAttrMapper),\n/* harmony export */   IAttributeParser: () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_2__.IAttributeParser),\n/* harmony export */   IAttributePattern: () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_2__.IAttributePattern),\n/* harmony export */   IAuSlotWatcher: () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.IAuSlotWatcher),\n/* harmony export */   IAuSlotsInfo: () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.IAuSlotsInfo),\n/* harmony export */   IAurelia: () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.IAurelia),\n/* harmony export */   IContainer: () => (/* reexport safe */ _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.IContainer),\n/* harmony export */   IController: () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.IController),\n/* harmony export */   IEventAggregator: () => (/* reexport safe */ _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.IEventAggregator),\n/* harmony export */   IEventModifier: () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.IEventModifier),\n/* harmony export */   IEventTarget: () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.IEventTarget),\n/* harmony export */   IExpressionParser: () => (/* reexport safe */ _aurelia_expression_parser__WEBPACK_IMPORTED_MODULE_5__.IExpressionParser),\n/* harmony export */   IFlushQueue: () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.IFlushQueue),\n/* harmony export */   IHistory: () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.IHistory),\n/* harmony export */   IKeyMapping: () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.IKeyMapping),\n/* harmony export */   ILifecycleHooks: () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.ILifecycleHooks),\n/* harmony export */   ILogger: () => (/* reexport safe */ _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.ILogger),\n/* harmony export */   IModifiedEventHandlerCreator: () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.IModifiedEventHandlerCreator),\n/* harmony export */   INode: () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.INode),\n/* harmony export */   IObserverLocator: () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_6__.IObserverLocator),\n/* harmony export */   IPlatform: () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.IPlatform),\n/* harmony export */   IRenderLocation: () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.IRenderLocation),\n/* harmony export */   IRepeatableHandler: () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.IRepeatableHandler),\n/* harmony export */   IRepeatableHandlerResolver: () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.IRepeatableHandlerResolver),\n/* harmony export */   IServiceLocator: () => (/* reexport safe */ _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.IServiceLocator),\n/* harmony export */   ISignaler: () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.ISignaler),\n/* harmony export */   ITemplateCompiler: () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_2__.ITemplateCompiler),\n/* harmony export */   ITemplateCompilerHooks: () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_2__.ITemplateCompilerHooks),\n/* harmony export */   ITemplateElementFactory: () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_2__.ITemplateElementFactory),\n/* harmony export */   IViewFactory: () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.IViewFactory),\n/* harmony export */   IWindow: () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.IWindow),\n/* harmony export */   InstanceProvider: () => (/* reexport safe */ _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.InstanceProvider),\n/* harmony export */   LifecycleHooks: () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.LifecycleHooks),\n/* harmony export */   LogLevel: () => (/* reexport safe */ _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.LogLevel),\n/* harmony export */   LoggerConfiguration: () => (/* reexport safe */ _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.LoggerConfiguration),\n/* harmony export */   NodeObserverLocator: () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.NodeObserverLocator),\n/* harmony export */   PLATFORM: () => (/* binding */ l),\n/* harmony export */   Platform: () => (/* reexport safe */ _aurelia_platform__WEBPACK_IMPORTED_MODULE_4__.Platform),\n/* harmony export */   Registration: () => (/* reexport safe */ _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Registration),\n/* harmony export */   RuntimeTemplateCompilerImplementation: () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.RuntimeTemplateCompilerImplementation),\n/* harmony export */   Scope: () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.Scope),\n/* harmony export */   ShortHandBindingSyntax: () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.ShortHandBindingSyntax),\n/* harmony export */   StyleConfiguration: () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.StyleConfiguration),\n/* harmony export */   Task: () => (/* reexport safe */ _aurelia_platform__WEBPACK_IMPORTED_MODULE_4__.Task),\n/* harmony export */   TaskAbortError: () => (/* reexport safe */ _aurelia_platform__WEBPACK_IMPORTED_MODULE_4__.TaskAbortError),\n/* harmony export */   TaskQueue: () => (/* reexport safe */ _aurelia_platform__WEBPACK_IMPORTED_MODULE_4__.TaskQueue),\n/* harmony export */   TemplateCompilerHooks: () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_2__.TemplateCompilerHooks),\n/* harmony export */   ValueConverter: () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.ValueConverter),\n/* harmony export */   ViewFactory: () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.ViewFactory),\n/* harmony export */   alias: () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.alias),\n/* harmony export */   all: () => (/* reexport safe */ _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.all),\n/* harmony export */   allResources: () => (/* reexport safe */ _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.allResources),\n/* harmony export */   attributePattern: () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_2__.attributePattern),\n/* harmony export */   batch: () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_6__.batch),\n/* harmony export */   bindable: () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.bindable),\n/* harmony export */   bindingBehavior: () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.bindingBehavior),\n/* harmony export */   bindingCommand: () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_2__.bindingCommand),\n/* harmony export */   bound: () => (/* reexport safe */ _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.bound),\n/* harmony export */   camelCase: () => (/* reexport safe */ _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.camelCase),\n/* harmony export */   capture: () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.capture),\n/* harmony export */   children: () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.children),\n/* harmony export */   coercer: () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.coercer),\n/* harmony export */   containerless: () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.containerless),\n/* harmony export */   cssModules: () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.cssModules),\n/* harmony export */   customAttribute: () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.customAttribute),\n/* harmony export */   customElement: () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.customElement),\n/* harmony export */   \"default\": () => (/* binding */ Aurelia),\n/* harmony export */   emptyArray: () => (/* reexport safe */ _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.emptyArray),\n/* harmony export */   emptyObject: () => (/* reexport safe */ _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.emptyObject),\n/* harmony export */   factory: () => (/* reexport safe */ _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.factory),\n/* harmony export */   ignore: () => (/* reexport safe */ _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.ignore),\n/* harmony export */   inject: () => (/* reexport safe */ _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.inject),\n/* harmony export */   isArrayIndex: () => (/* reexport safe */ _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.isArrayIndex),\n/* harmony export */   kebabCase: () => (/* reexport safe */ _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.kebabCase),\n/* harmony export */   lazy: () => (/* reexport safe */ _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.lazy),\n/* harmony export */   lifecycleHooks: () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.lifecycleHooks),\n/* harmony export */   newInstanceForScope: () => (/* reexport safe */ _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.newInstanceForScope),\n/* harmony export */   newInstanceOf: () => (/* reexport safe */ _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.newInstanceOf),\n/* harmony export */   noop: () => (/* reexport safe */ _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.noop),\n/* harmony export */   observable: () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_6__.observable),\n/* harmony export */   optional: () => (/* reexport safe */ _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.optional),\n/* harmony export */   pascalCase: () => (/* reexport safe */ _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.pascalCase),\n/* harmony export */   processContent: () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.processContent),\n/* harmony export */   registerAliases: () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.registerAliases),\n/* harmony export */   renderer: () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.renderer),\n/* harmony export */   resolve: () => (/* reexport safe */ _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.resolve),\n/* harmony export */   resource: () => (/* reexport safe */ _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.resource),\n/* harmony export */   shadowCSS: () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.shadowCSS),\n/* harmony export */   singleton: () => (/* reexport safe */ _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.singleton),\n/* harmony export */   slotted: () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.slotted),\n/* harmony export */   subscriberCollection: () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_6__.subscriberCollection),\n/* harmony export */   templateCompilerHooks: () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_2__.templateCompilerHooks),\n/* harmony export */   templateController: () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.templateController),\n/* harmony export */   toArray: () => (/* reexport safe */ _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.toArray),\n/* harmony export */   transient: () => (/* reexport safe */ _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.transient),\n/* harmony export */   useShadowDOM: () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.useShadowDOM),\n/* harmony export */   valueConverter: () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.valueConverter),\n/* harmony export */   watch: () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.watch)\n/* harmony export */ });\n/* harmony import */ var _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/kernel */ \"./node_modules/@aurelia/kernel/dist/esm/index.mjs\");\n/* harmony import */ var _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @aurelia/runtime-html */ \"./node_modules/@aurelia/runtime-html/dist/esm/index.mjs\");\n/* harmony import */ var _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @aurelia/template-compiler */ \"./node_modules/@aurelia/template-compiler/dist/esm/index.mjs\");\n/* harmony import */ var _aurelia_platform_browser__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @aurelia/platform-browser */ \"./node_modules/@aurelia/platform-browser/dist/esm/index.mjs\");\n/* harmony import */ var _aurelia_platform__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @aurelia/platform */ \"./node_modules/@aurelia/platform/dist/esm/index.mjs\");\n/* harmony import */ var _aurelia_expression_parser__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @aurelia/expression-parser */ \"./node_modules/@aurelia/expression-parser/dist/esm/index.mjs\");\n/* harmony import */ var _aurelia_runtime__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @aurelia/runtime */ \"./node_modules/@aurelia/runtime/dist/esm/index.mjs\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst l = _aurelia_platform_browser__WEBPACK_IMPORTED_MODULE_3__.BrowserPlatform.getOrCreate(globalThis);\n\nfunction createContainer() {\n    return _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.DI.createContainer().register(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Registration.instance(_aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.IPlatform, l), _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.StandardConfiguration);\n}\n\nclass Aurelia extends _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.Aurelia {\n    constructor(e = createContainer()) {\n        super(e);\n    }\n    static app(e) {\n        return (new Aurelia).app(e);\n    }\n    static enhance(e) {\n        return (new Aurelia).enhance(e);\n    }\n    static register(...e) {\n        return (new Aurelia).register(...e);\n    }\n    app(e) {\n        if (_aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.CustomElement.isType(e)) {\n            const r = _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.CustomElement.getDefinition(e);\n            let t = document.querySelector(r.name);\n            if (t === null) {\n                t = document.body;\n            }\n            return super.app({\n                host: t,\n                component: e\n            });\n        }\n        return super.app(e);\n    }\n}\n\n\n//# sourceMappingURL=index.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvYXVyZWxpYS9kaXN0L2VzbS9pbmRleC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBNkQ7O0FBRXFXOztBQUU3Uzs7QUFFNndCOztBQUVqMEI7O0FBRWE7O0FBRUc7O0FBRThCOztBQUVxSzs7QUFFcFIsVUFBVSxzRUFBQzs7QUFFWDtBQUNBLFdBQVcsK0NBQUMsNEJBQTRCLHlEQUFDLFVBQVUsNERBQUMsTUFBTSx3RUFBQztBQUMzRDs7QUFFQSxzQkFBc0IsMERBQUM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGdFQUFDO0FBQ2Isc0JBQXNCLGdFQUFDO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBOztBQUVzRDtBQUN0RCIsInNvdXJjZXMiOlsid2VicGFjazovL3JldHJvYXBwLWNsaWVudC8uL25vZGVfbW9kdWxlcy9hdXJlbGlhL2Rpc3QvZXNtL2luZGV4Lm1qcz9mMzI5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERJIGFzIGUsIFJlZ2lzdHJhdGlvbiBhcyByIH0gZnJvbSBcIkBhdXJlbGlhL2tlcm5lbFwiO1xuXG5leHBvcnQgeyBDb25zb2xlU2luaywgREksIEV2ZW50QWdncmVnYXRvciwgSUNvbnRhaW5lciwgSUV2ZW50QWdncmVnYXRvciwgSUxvZ2dlciwgSVNlcnZpY2VMb2NhdG9yLCBJbnN0YW5jZVByb3ZpZGVyLCBMb2dMZXZlbCwgTG9nZ2VyQ29uZmlndXJhdGlvbiwgUmVnaXN0cmF0aW9uLCBhbGwsIGFsbFJlc291cmNlcywgYm91bmQsIGNhbWVsQ2FzZSwgZW1wdHlBcnJheSwgZW1wdHlPYmplY3QsIGZhY3RvcnksIGlnbm9yZSwgaW5qZWN0LCBpc0FycmF5SW5kZXgsIGtlYmFiQ2FzZSwgbGF6eSwgbmV3SW5zdGFuY2VGb3JTY29wZSwgbmV3SW5zdGFuY2VPZiwgbm9vcCwgb3B0aW9uYWwsIHBhc2NhbENhc2UsIHJlc29sdmUsIHJlc291cmNlLCBzaW5nbGV0b24sIHRvQXJyYXksIHRyYW5zaWVudCB9IGZyb20gXCJAYXVyZWxpYS9rZXJuZWxcIjtcblxuaW1wb3J0IHsgQXVyZWxpYSBhcyB0LCBDdXN0b21FbGVtZW50IGFzIG8sIElQbGF0Zm9ybSBhcyBhLCBTdGFuZGFyZENvbmZpZ3VyYXRpb24gYXMgbiB9IGZyb20gXCJAYXVyZWxpYS9ydW50aW1lLWh0bWxcIjtcblxuZXhwb3J0IHsgQXBwVGFzaywgQXJyYXlMaWtlSGFuZGxlciwgQXVTbG90c0luZm8sIEJpbmRhYmxlLCBCaW5kaW5nQmVoYXZpb3IsIEJpbmRpbmdNb2RlLCBDaGlsZHJlbkJpbmRpbmcsIENvbnRyb2xsZXIsIEN1c3RvbUF0dHJpYnV0ZSwgQ3VzdG9tRWxlbWVudCwgRmx1c2hRdWV1ZSwgSUFwcFJvb3QsIElBdVNsb3RXYXRjaGVyLCBJQXVTbG90c0luZm8sIElBdXJlbGlhLCBJQ29udHJvbGxlciwgSUV2ZW50TW9kaWZpZXIsIElFdmVudFRhcmdldCwgSUZsdXNoUXVldWUsIElIaXN0b3J5LCBJS2V5TWFwcGluZywgSUxpZmVjeWNsZUhvb2tzLCBJTW9kaWZpZWRFdmVudEhhbmRsZXJDcmVhdG9yLCBJTm9kZSwgSVBsYXRmb3JtLCBJUmVuZGVyTG9jYXRpb24sIElSZXBlYXRhYmxlSGFuZGxlciwgSVJlcGVhdGFibGVIYW5kbGVyUmVzb2x2ZXIsIElTaWduYWxlciwgSVZpZXdGYWN0b3J5LCBJV2luZG93LCBMaWZlY3ljbGVIb29rcywgTm9kZU9ic2VydmVyTG9jYXRvciwgUnVudGltZVRlbXBsYXRlQ29tcGlsZXJJbXBsZW1lbnRhdGlvbiwgU2NvcGUsIFNob3J0SGFuZEJpbmRpbmdTeW50YXgsIFN0eWxlQ29uZmlndXJhdGlvbiwgVmFsdWVDb252ZXJ0ZXIsIFZpZXdGYWN0b3J5LCBhbGlhcywgYmluZGFibGUsIGJpbmRpbmdCZWhhdmlvciwgY2FwdHVyZSwgY2hpbGRyZW4sIGNvZXJjZXIsIGNvbnRhaW5lcmxlc3MsIGNzc01vZHVsZXMsIGN1c3RvbUF0dHJpYnV0ZSwgY3VzdG9tRWxlbWVudCwgbGlmZWN5Y2xlSG9va3MsIHByb2Nlc3NDb250ZW50LCByZWdpc3RlckFsaWFzZXMsIHJlbmRlcmVyLCBzaGFkb3dDU1MsIHNsb3R0ZWQsIHRlbXBsYXRlQ29udHJvbGxlciwgdXNlU2hhZG93RE9NLCB2YWx1ZUNvbnZlcnRlciwgd2F0Y2ggfSBmcm9tIFwiQGF1cmVsaWEvcnVudGltZS1odG1sXCI7XG5cbmltcG9ydCB7IEJyb3dzZXJQbGF0Zm9ybSBhcyBpIH0gZnJvbSBcIkBhdXJlbGlhL3BsYXRmb3JtLWJyb3dzZXJcIjtcblxuZXhwb3J0IHsgUGxhdGZvcm0sIFRhc2ssIFRhc2tBYm9ydEVycm9yLCBUYXNrUXVldWUgfSBmcm9tIFwiQGF1cmVsaWEvcGxhdGZvcm1cIjtcblxuZXhwb3J0IHsgQ3VzdG9tRXhwcmVzc2lvbiwgSUV4cHJlc3Npb25QYXJzZXIgfSBmcm9tIFwiQGF1cmVsaWEvZXhwcmVzc2lvbi1wYXJzZXJcIjtcblxuZXhwb3J0IHsgQ29tcHV0ZWRPYnNlcnZlciwgSU9ic2VydmVyTG9jYXRvciwgYmF0Y2gsIG9ic2VydmFibGUsIHN1YnNjcmliZXJDb2xsZWN0aW9uIH0gZnJvbSBcIkBhdXJlbGlhL3J1bnRpbWVcIjtcblxuZXhwb3J0IHsgQXR0cmlidXRlUGF0dGVybiwgQmluZGluZ0NvbW1hbmQsIElBdHRyTWFwcGVyLCBJQXR0cmlidXRlUGFyc2VyLCBJQXR0cmlidXRlUGF0dGVybiwgSVRlbXBsYXRlQ29tcGlsZXIsIElUZW1wbGF0ZUNvbXBpbGVySG9va3MsIElUZW1wbGF0ZUVsZW1lbnRGYWN0b3J5LCBUZW1wbGF0ZUNvbXBpbGVySG9va3MsIGF0dHJpYnV0ZVBhdHRlcm4sIGJpbmRpbmdDb21tYW5kLCB0ZW1wbGF0ZUNvbXBpbGVySG9va3MgfSBmcm9tIFwiQGF1cmVsaWEvdGVtcGxhdGUtY29tcGlsZXJcIjtcblxuY29uc3QgbCA9IGkuZ2V0T3JDcmVhdGUoZ2xvYmFsVGhpcyk7XG5cbmZ1bmN0aW9uIGNyZWF0ZUNvbnRhaW5lcigpIHtcbiAgICByZXR1cm4gZS5jcmVhdGVDb250YWluZXIoKS5yZWdpc3RlcihyLmluc3RhbmNlKGEsIGwpLCBuKTtcbn1cblxuY2xhc3MgQXVyZWxpYSBleHRlbmRzIHQge1xuICAgIGNvbnN0cnVjdG9yKGUgPSBjcmVhdGVDb250YWluZXIoKSkge1xuICAgICAgICBzdXBlcihlKTtcbiAgICB9XG4gICAgc3RhdGljIGFwcChlKSB7XG4gICAgICAgIHJldHVybiAobmV3IEF1cmVsaWEpLmFwcChlKTtcbiAgICB9XG4gICAgc3RhdGljIGVuaGFuY2UoZSkge1xuICAgICAgICByZXR1cm4gKG5ldyBBdXJlbGlhKS5lbmhhbmNlKGUpO1xuICAgIH1cbiAgICBzdGF0aWMgcmVnaXN0ZXIoLi4uZSkge1xuICAgICAgICByZXR1cm4gKG5ldyBBdXJlbGlhKS5yZWdpc3RlciguLi5lKTtcbiAgICB9XG4gICAgYXBwKGUpIHtcbiAgICAgICAgaWYgKG8uaXNUeXBlKGUpKSB7XG4gICAgICAgICAgICBjb25zdCByID0gby5nZXREZWZpbml0aW9uKGUpO1xuICAgICAgICAgICAgbGV0IHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHIubmFtZSk7XG4gICAgICAgICAgICBpZiAodCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHQgPSBkb2N1bWVudC5ib2R5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHN1cGVyLmFwcCh7XG4gICAgICAgICAgICAgICAgaG9zdDogdCxcbiAgICAgICAgICAgICAgICBjb21wb25lbnQ6IGVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdXBlci5hcHAoZSk7XG4gICAgfVxufVxuXG5leHBvcnQgeyBBdXJlbGlhLCBsIGFzIFBMQVRGT1JNLCBBdXJlbGlhIGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/aurelia/dist/esm/index.mjs\n\n}");

/***/ },

/***/ "./node_modules/engine.io-client/build/esm/contrib/has-cors.js"
/*!*********************************************************************!*\
  !*** ./node_modules/engine.io-client/build/esm/contrib/has-cors.js ***!
  \*********************************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   hasCORS: () => (/* binding */ hasCORS)\n/* harmony export */ });\n// imported from https://github.com/component/has-cors\nlet value = false;\ntry {\n    value = typeof XMLHttpRequest !== 'undefined' &&\n        'withCredentials' in new XMLHttpRequest();\n}\ncatch (err) {\n    // if XMLHttp support is disabled in IE then it will throw\n    // when trying to create\n}\nconst hasCORS = value;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9idWlsZC9lc20vY29udHJpYi9oYXMtY29ycy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyIsInNvdXJjZXMiOlsid2VicGFjazovL3JldHJvYXBwLWNsaWVudC8uL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tY2xpZW50L2J1aWxkL2VzbS9jb250cmliL2hhcy1jb3JzLmpzP2EyNWYiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gaW1wb3J0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vY29tcG9uZW50L2hhcy1jb3JzXG5sZXQgdmFsdWUgPSBmYWxzZTtcbnRyeSB7XG4gICAgdmFsdWUgPSB0eXBlb2YgWE1MSHR0cFJlcXVlc3QgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgICd3aXRoQ3JlZGVudGlhbHMnIGluIG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xufVxuY2F0Y2ggKGVycikge1xuICAgIC8vIGlmIFhNTEh0dHAgc3VwcG9ydCBpcyBkaXNhYmxlZCBpbiBJRSB0aGVuIGl0IHdpbGwgdGhyb3dcbiAgICAvLyB3aGVuIHRyeWluZyB0byBjcmVhdGVcbn1cbmV4cG9ydCBjb25zdCBoYXNDT1JTID0gdmFsdWU7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/engine.io-client/build/esm/contrib/has-cors.js\n\n}");

/***/ },

/***/ "./node_modules/engine.io-client/build/esm/contrib/parseqs.js"
/*!********************************************************************!*\
  !*** ./node_modules/engine.io-client/build/esm/contrib/parseqs.js ***!
  \********************************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   decode: () => (/* binding */ decode),\n/* harmony export */   encode: () => (/* binding */ encode)\n/* harmony export */ });\n// imported from https://github.com/galkn/querystring\n/**\n * Compiles a querystring\n * Returns string representation of the object\n *\n * @param {Object}\n * @api private\n */\nfunction encode(obj) {\n    let str = '';\n    for (let i in obj) {\n        if (obj.hasOwnProperty(i)) {\n            if (str.length)\n                str += '&';\n            str += encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]);\n        }\n    }\n    return str;\n}\n/**\n * Parses a simple querystring into an object\n *\n * @param {String} qs\n * @api private\n */\nfunction decode(qs) {\n    let qry = {};\n    let pairs = qs.split('&');\n    for (let i = 0, l = pairs.length; i < l; i++) {\n        let pair = pairs[i].split('=');\n        qry[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\n    }\n    return qry;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9idWlsZC9lc20vY29udHJpYi9wYXJzZXFzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0Esc0NBQXNDLE9BQU87QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3JldHJvYXBwLWNsaWVudC8uL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tY2xpZW50L2J1aWxkL2VzbS9jb250cmliL3BhcnNlcXMuanM/NjgzYSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBpbXBvcnRlZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9nYWxrbi9xdWVyeXN0cmluZ1xuLyoqXG4gKiBDb21waWxlcyBhIHF1ZXJ5c3RyaW5nXG4gKiBSZXR1cm5zIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgb2JqZWN0XG4gKlxuICogQHBhcmFtIHtPYmplY3R9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVuY29kZShvYmopIHtcbiAgICBsZXQgc3RyID0gJyc7XG4gICAgZm9yIChsZXQgaSBpbiBvYmopIHtcbiAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShpKSkge1xuICAgICAgICAgICAgaWYgKHN0ci5sZW5ndGgpXG4gICAgICAgICAgICAgICAgc3RyICs9ICcmJztcbiAgICAgICAgICAgIHN0ciArPSBlbmNvZGVVUklDb21wb25lbnQoaSkgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQob2JqW2ldKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc3RyO1xufVxuLyoqXG4gKiBQYXJzZXMgYSBzaW1wbGUgcXVlcnlzdHJpbmcgaW50byBhbiBvYmplY3RcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gcXNcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVjb2RlKHFzKSB7XG4gICAgbGV0IHFyeSA9IHt9O1xuICAgIGxldCBwYWlycyA9IHFzLnNwbGl0KCcmJyk7XG4gICAgZm9yIChsZXQgaSA9IDAsIGwgPSBwYWlycy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgbGV0IHBhaXIgPSBwYWlyc1tpXS5zcGxpdCgnPScpO1xuICAgICAgICBxcnlbZGVjb2RlVVJJQ29tcG9uZW50KHBhaXJbMF0pXSA9IGRlY29kZVVSSUNvbXBvbmVudChwYWlyWzFdKTtcbiAgICB9XG4gICAgcmV0dXJuIHFyeTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/engine.io-client/build/esm/contrib/parseqs.js\n\n}");

/***/ },

/***/ "./node_modules/engine.io-client/build/esm/contrib/parseuri.js"
/*!*********************************************************************!*\
  !*** ./node_modules/engine.io-client/build/esm/contrib/parseuri.js ***!
  \*********************************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parse: () => (/* binding */ parse)\n/* harmony export */ });\n// imported from https://github.com/galkn/parseuri\n/**\n * Parses a URI\n *\n * Note: we could also have used the built-in URL object, but it isn't supported on all platforms.\n *\n * See:\n * - https://developer.mozilla.org/en-US/docs/Web/API/URL\n * - https://caniuse.com/url\n * - https://www.rfc-editor.org/rfc/rfc3986#appendix-B\n *\n * History of the parse() method:\n * - first commit: https://github.com/socketio/socket.io-client/commit/4ee1d5d94b3906a9c052b459f1a818b15f38f91c\n * - export into its own module: https://github.com/socketio/engine.io-client/commit/de2c561e4564efeb78f1bdb1ba39ef81b2822cb3\n * - reimport: https://github.com/socketio/engine.io-client/commit/df32277c3f6d622eec5ed09f493cae3f3391d242\n *\n * @author Steven Levithan <stevenlevithan.com> (MIT license)\n * @api private\n */\nconst re = /^(?:(?![^:@\\/?#]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@\\/?#]*)(?::([^:@\\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\nconst parts = [\n    'source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'\n];\nfunction parse(str) {\n    if (str.length > 8000) {\n        throw \"URI too long\";\n    }\n    const src = str, b = str.indexOf('['), e = str.indexOf(']');\n    if (b != -1 && e != -1) {\n        str = str.substring(0, b) + str.substring(b, e).replace(/:/g, ';') + str.substring(e, str.length);\n    }\n    let m = re.exec(str || ''), uri = {}, i = 14;\n    while (i--) {\n        uri[parts[i]] = m[i] || '';\n    }\n    if (b != -1 && e != -1) {\n        uri.source = src;\n        uri.host = uri.host.substring(1, uri.host.length - 1).replace(/;/g, ':');\n        uri.authority = uri.authority.replace('[', '').replace(']', '').replace(/;/g, ':');\n        uri.ipv6uri = true;\n    }\n    uri.pathNames = pathNames(uri, uri['path']);\n    uri.queryKey = queryKey(uri, uri['query']);\n    return uri;\n}\nfunction pathNames(obj, path) {\n    const regx = /\\/{2,9}/g, names = path.replace(regx, \"/\").split(\"/\");\n    if (path.slice(0, 1) == '/' || path.length === 0) {\n        names.splice(0, 1);\n    }\n    if (path.slice(-1) == '/') {\n        names.splice(names.length - 1, 1);\n    }\n    return names;\n}\nfunction queryKey(uri, query) {\n    const data = {};\n    query.replace(/(?:^|&)([^&=]*)=?([^&]*)/g, function ($0, $1, $2) {\n        if ($1) {\n            data[$1] = $2;\n        }\n    });\n    return data;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9idWlsZC9lc20vY29udHJpYi9wYXJzZXVyaS5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1SEFBdUgsSUFBSSxHQUFHLElBQUksU0FBUyxJQUFJO0FBQy9JO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdFQUF3RTtBQUN4RTtBQUNBLHdDQUF3QztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0VBQXdFO0FBQ3hFLGtGQUFrRjtBQUNsRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixJQUFJO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3JldHJvYXBwLWNsaWVudC8uL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tY2xpZW50L2J1aWxkL2VzbS9jb250cmliL3BhcnNldXJpLmpzP2FjZWUiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gaW1wb3J0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vZ2Fsa24vcGFyc2V1cmlcbi8qKlxuICogUGFyc2VzIGEgVVJJXG4gKlxuICogTm90ZTogd2UgY291bGQgYWxzbyBoYXZlIHVzZWQgdGhlIGJ1aWx0LWluIFVSTCBvYmplY3QsIGJ1dCBpdCBpc24ndCBzdXBwb3J0ZWQgb24gYWxsIHBsYXRmb3Jtcy5cbiAqXG4gKiBTZWU6XG4gKiAtIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9VUkxcbiAqIC0gaHR0cHM6Ly9jYW5pdXNlLmNvbS91cmxcbiAqIC0gaHR0cHM6Ly93d3cucmZjLWVkaXRvci5vcmcvcmZjL3JmYzM5ODYjYXBwZW5kaXgtQlxuICpcbiAqIEhpc3Rvcnkgb2YgdGhlIHBhcnNlKCkgbWV0aG9kOlxuICogLSBmaXJzdCBjb21taXQ6IGh0dHBzOi8vZ2l0aHViLmNvbS9zb2NrZXRpby9zb2NrZXQuaW8tY2xpZW50L2NvbW1pdC80ZWUxZDVkOTRiMzkwNmE5YzA1MmI0NTlmMWE4MThiMTVmMzhmOTFjXG4gKiAtIGV4cG9ydCBpbnRvIGl0cyBvd24gbW9kdWxlOiBodHRwczovL2dpdGh1Yi5jb20vc29ja2V0aW8vZW5naW5lLmlvLWNsaWVudC9jb21taXQvZGUyYzU2MWU0NTY0ZWZlYjc4ZjFiZGIxYmEzOWVmODFiMjgyMmNiM1xuICogLSByZWltcG9ydDogaHR0cHM6Ly9naXRodWIuY29tL3NvY2tldGlvL2VuZ2luZS5pby1jbGllbnQvY29tbWl0L2RmMzIyNzdjM2Y2ZDYyMmVlYzVlZDA5ZjQ5M2NhZTNmMzM5MWQyNDJcbiAqXG4gKiBAYXV0aG9yIFN0ZXZlbiBMZXZpdGhhbiA8c3RldmVubGV2aXRoYW4uY29tPiAoTUlUIGxpY2Vuc2UpXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuY29uc3QgcmUgPSAvXig/Oig/IVteOkBcXC8/I10rOlteOkBcXC9dKkApKGh0dHB8aHR0cHN8d3N8d3NzKTpcXC9cXC8pPygoPzooKFteOkBcXC8/I10qKSg/OjooW146QFxcLz8jXSopKT8pP0ApPygoPzpbYS1mMC05XXswLDR9Oil7Miw3fVthLWYwLTldezAsNH18W146XFwvPyNdKikoPzo6KFxcZCopKT8pKCgoXFwvKD86W14/I10oPyFbXj8jXFwvXSpcXC5bXj8jXFwvLl0rKD86Wz8jXXwkKSkpKlxcLz8pPyhbXj8jXFwvXSopKSg/OlxcPyhbXiNdKikpPyg/OiMoLiopKT8pLztcbmNvbnN0IHBhcnRzID0gW1xuICAgICdzb3VyY2UnLCAncHJvdG9jb2wnLCAnYXV0aG9yaXR5JywgJ3VzZXJJbmZvJywgJ3VzZXInLCAncGFzc3dvcmQnLCAnaG9zdCcsICdwb3J0JywgJ3JlbGF0aXZlJywgJ3BhdGgnLCAnZGlyZWN0b3J5JywgJ2ZpbGUnLCAncXVlcnknLCAnYW5jaG9yJ1xuXTtcbmV4cG9ydCBmdW5jdGlvbiBwYXJzZShzdHIpIHtcbiAgICBpZiAoc3RyLmxlbmd0aCA+IDgwMDApIHtcbiAgICAgICAgdGhyb3cgXCJVUkkgdG9vIGxvbmdcIjtcbiAgICB9XG4gICAgY29uc3Qgc3JjID0gc3RyLCBiID0gc3RyLmluZGV4T2YoJ1snKSwgZSA9IHN0ci5pbmRleE9mKCddJyk7XG4gICAgaWYgKGIgIT0gLTEgJiYgZSAhPSAtMSkge1xuICAgICAgICBzdHIgPSBzdHIuc3Vic3RyaW5nKDAsIGIpICsgc3RyLnN1YnN0cmluZyhiLCBlKS5yZXBsYWNlKC86L2csICc7JykgKyBzdHIuc3Vic3RyaW5nKGUsIHN0ci5sZW5ndGgpO1xuICAgIH1cbiAgICBsZXQgbSA9IHJlLmV4ZWMoc3RyIHx8ICcnKSwgdXJpID0ge30sIGkgPSAxNDtcbiAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgIHVyaVtwYXJ0c1tpXV0gPSBtW2ldIHx8ICcnO1xuICAgIH1cbiAgICBpZiAoYiAhPSAtMSAmJiBlICE9IC0xKSB7XG4gICAgICAgIHVyaS5zb3VyY2UgPSBzcmM7XG4gICAgICAgIHVyaS5ob3N0ID0gdXJpLmhvc3Quc3Vic3RyaW5nKDEsIHVyaS5ob3N0Lmxlbmd0aCAtIDEpLnJlcGxhY2UoLzsvZywgJzonKTtcbiAgICAgICAgdXJpLmF1dGhvcml0eSA9IHVyaS5hdXRob3JpdHkucmVwbGFjZSgnWycsICcnKS5yZXBsYWNlKCddJywgJycpLnJlcGxhY2UoLzsvZywgJzonKTtcbiAgICAgICAgdXJpLmlwdjZ1cmkgPSB0cnVlO1xuICAgIH1cbiAgICB1cmkucGF0aE5hbWVzID0gcGF0aE5hbWVzKHVyaSwgdXJpWydwYXRoJ10pO1xuICAgIHVyaS5xdWVyeUtleSA9IHF1ZXJ5S2V5KHVyaSwgdXJpWydxdWVyeSddKTtcbiAgICByZXR1cm4gdXJpO1xufVxuZnVuY3Rpb24gcGF0aE5hbWVzKG9iaiwgcGF0aCkge1xuICAgIGNvbnN0IHJlZ3ggPSAvXFwvezIsOX0vZywgbmFtZXMgPSBwYXRoLnJlcGxhY2UocmVneCwgXCIvXCIpLnNwbGl0KFwiL1wiKTtcbiAgICBpZiAocGF0aC5zbGljZSgwLCAxKSA9PSAnLycgfHwgcGF0aC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgbmFtZXMuc3BsaWNlKDAsIDEpO1xuICAgIH1cbiAgICBpZiAocGF0aC5zbGljZSgtMSkgPT0gJy8nKSB7XG4gICAgICAgIG5hbWVzLnNwbGljZShuYW1lcy5sZW5ndGggLSAxLCAxKTtcbiAgICB9XG4gICAgcmV0dXJuIG5hbWVzO1xufVxuZnVuY3Rpb24gcXVlcnlLZXkodXJpLCBxdWVyeSkge1xuICAgIGNvbnN0IGRhdGEgPSB7fTtcbiAgICBxdWVyeS5yZXBsYWNlKC8oPzpefCYpKFteJj1dKik9PyhbXiZdKikvZywgZnVuY3Rpb24gKCQwLCAkMSwgJDIpIHtcbiAgICAgICAgaWYgKCQxKSB7XG4gICAgICAgICAgICBkYXRhWyQxXSA9ICQyO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGRhdGE7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/engine.io-client/build/esm/contrib/parseuri.js\n\n}");

/***/ },

/***/ "./node_modules/engine.io-client/build/esm/globals.js"
/*!************************************************************!*\
  !*** ./node_modules/engine.io-client/build/esm/globals.js ***!
  \************************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createCookieJar: () => (/* binding */ createCookieJar),\n/* harmony export */   defaultBinaryType: () => (/* binding */ defaultBinaryType),\n/* harmony export */   globalThisShim: () => (/* binding */ globalThisShim),\n/* harmony export */   nextTick: () => (/* binding */ nextTick)\n/* harmony export */ });\nconst nextTick = (() => {\n    const isPromiseAvailable = typeof Promise === \"function\" && typeof Promise.resolve === \"function\";\n    if (isPromiseAvailable) {\n        return (cb) => Promise.resolve().then(cb);\n    }\n    else {\n        return (cb, setTimeoutFn) => setTimeoutFn(cb, 0);\n    }\n})();\nconst globalThisShim = (() => {\n    if (typeof self !== \"undefined\") {\n        return self;\n    }\n    else if (typeof window !== \"undefined\") {\n        return window;\n    }\n    else {\n        return Function(\"return this\")();\n    }\n})();\nconst defaultBinaryType = \"arraybuffer\";\nfunction createCookieJar() { }\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9idWlsZC9lc20vZ2xvYmFscy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDTTtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDTTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmV0cm9hcHAtY2xpZW50Ly4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1jbGllbnQvYnVpbGQvZXNtL2dsb2JhbHMuanM/Mjc5ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgbmV4dFRpY2sgPSAoKCkgPT4ge1xuICAgIGNvbnN0IGlzUHJvbWlzZUF2YWlsYWJsZSA9IHR5cGVvZiBQcm9taXNlID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFByb21pc2UucmVzb2x2ZSA9PT0gXCJmdW5jdGlvblwiO1xuICAgIGlmIChpc1Byb21pc2VBdmFpbGFibGUpIHtcbiAgICAgICAgcmV0dXJuIChjYikgPT4gUHJvbWlzZS5yZXNvbHZlKCkudGhlbihjYik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gKGNiLCBzZXRUaW1lb3V0Rm4pID0+IHNldFRpbWVvdXRGbihjYiwgMCk7XG4gICAgfVxufSkoKTtcbmV4cG9ydCBjb25zdCBnbG9iYWxUaGlzU2hpbSA9ICgoKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIHJldHVybiB3aW5kb3c7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpO1xuICAgIH1cbn0pKCk7XG5leHBvcnQgY29uc3QgZGVmYXVsdEJpbmFyeVR5cGUgPSBcImFycmF5YnVmZmVyXCI7XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ29va2llSmFyKCkgeyB9XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/engine.io-client/build/esm/globals.js\n\n}");

/***/ },

/***/ "./node_modules/engine.io-client/build/esm/index.js"
/*!**********************************************************!*\
  !*** ./node_modules/engine.io-client/build/esm/index.js ***!
  \**********************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Fetch: () => (/* reexport safe */ _transports_polling_fetch_js__WEBPACK_IMPORTED_MODULE_6__.Fetch),\n/* harmony export */   NodeWebSocket: () => (/* reexport safe */ _transports_websocket_node_js__WEBPACK_IMPORTED_MODULE_8__.WS),\n/* harmony export */   NodeXHR: () => (/* reexport safe */ _transports_polling_xhr_node_js__WEBPACK_IMPORTED_MODULE_7__.XHR),\n/* harmony export */   Socket: () => (/* reexport safe */ _socket_js__WEBPACK_IMPORTED_MODULE_0__.Socket),\n/* harmony export */   SocketWithUpgrade: () => (/* reexport safe */ _socket_js__WEBPACK_IMPORTED_MODULE_0__.SocketWithUpgrade),\n/* harmony export */   SocketWithoutUpgrade: () => (/* reexport safe */ _socket_js__WEBPACK_IMPORTED_MODULE_0__.SocketWithoutUpgrade),\n/* harmony export */   Transport: () => (/* reexport safe */ _transport_js__WEBPACK_IMPORTED_MODULE_1__.Transport),\n/* harmony export */   TransportError: () => (/* reexport safe */ _transport_js__WEBPACK_IMPORTED_MODULE_1__.TransportError),\n/* harmony export */   WebSocket: () => (/* reexport safe */ _transports_websocket_node_js__WEBPACK_IMPORTED_MODULE_8__.WS),\n/* harmony export */   WebTransport: () => (/* reexport safe */ _transports_webtransport_js__WEBPACK_IMPORTED_MODULE_9__.WT),\n/* harmony export */   XHR: () => (/* reexport safe */ _transports_polling_xhr_node_js__WEBPACK_IMPORTED_MODULE_7__.XHR),\n/* harmony export */   installTimerFunctions: () => (/* reexport safe */ _util_js__WEBPACK_IMPORTED_MODULE_3__.installTimerFunctions),\n/* harmony export */   nextTick: () => (/* reexport safe */ _globals_node_js__WEBPACK_IMPORTED_MODULE_5__.nextTick),\n/* harmony export */   parse: () => (/* reexport safe */ _contrib_parseuri_js__WEBPACK_IMPORTED_MODULE_4__.parse),\n/* harmony export */   protocol: () => (/* binding */ protocol),\n/* harmony export */   transports: () => (/* reexport safe */ _transports_index_js__WEBPACK_IMPORTED_MODULE_2__.transports)\n/* harmony export */ });\n/* harmony import */ var _socket_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./socket.js */ \"./node_modules/engine.io-client/build/esm/socket.js\");\n/* harmony import */ var _transport_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./transport.js */ \"./node_modules/engine.io-client/build/esm/transport.js\");\n/* harmony import */ var _transports_index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./transports/index.js */ \"./node_modules/engine.io-client/build/esm/transports/index.js\");\n/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./util.js */ \"./node_modules/engine.io-client/build/esm/util.js\");\n/* harmony import */ var _contrib_parseuri_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./contrib/parseuri.js */ \"./node_modules/engine.io-client/build/esm/contrib/parseuri.js\");\n/* harmony import */ var _globals_node_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./globals.node.js */ \"./node_modules/engine.io-client/build/esm/globals.js\");\n/* harmony import */ var _transports_polling_fetch_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./transports/polling-fetch.js */ \"./node_modules/engine.io-client/build/esm/transports/polling-fetch.js\");\n/* harmony import */ var _transports_polling_xhr_node_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./transports/polling-xhr.js */ \"./node_modules/engine.io-client/build/esm/transports/polling-xhr.js\");\n/* harmony import */ var _transports_websocket_node_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./transports/websocket.js */ \"./node_modules/engine.io-client/build/esm/transports/websocket.js\");\n/* harmony import */ var _transports_webtransport_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./transports/webtransport.js */ \"./node_modules/engine.io-client/build/esm/transports/webtransport.js\");\n\n\n\nconst protocol = _socket_js__WEBPACK_IMPORTED_MODULE_0__.Socket.protocol;\n\n\n\n\n\n\n\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9idWlsZC9lc20vaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBcUM7QUFDbkI7QUFDcUQ7QUFDaEUsaUJBQWlCLDhDQUFNO0FBQzZCO0FBQ1I7QUFDRDtBQUNKO0FBQ0Q7QUFDUztBQUNZO0FBQ2hCO0FBQ21CO0FBQ1Q7QUFDTSIsInNvdXJjZXMiOlsid2VicGFjazovL3JldHJvYXBwLWNsaWVudC8uL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tY2xpZW50L2J1aWxkL2VzbS9pbmRleC5qcz83NDM0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNvY2tldCB9IGZyb20gXCIuL3NvY2tldC5qc1wiO1xuZXhwb3J0IHsgU29ja2V0IH07XG5leHBvcnQgeyBTb2NrZXRXaXRob3V0VXBncmFkZSwgU29ja2V0V2l0aFVwZ3JhZGUsIH0gZnJvbSBcIi4vc29ja2V0LmpzXCI7XG5leHBvcnQgY29uc3QgcHJvdG9jb2wgPSBTb2NrZXQucHJvdG9jb2w7XG5leHBvcnQgeyBUcmFuc3BvcnQsIFRyYW5zcG9ydEVycm9yIH0gZnJvbSBcIi4vdHJhbnNwb3J0LmpzXCI7XG5leHBvcnQgeyB0cmFuc3BvcnRzIH0gZnJvbSBcIi4vdHJhbnNwb3J0cy9pbmRleC5qc1wiO1xuZXhwb3J0IHsgaW5zdGFsbFRpbWVyRnVuY3Rpb25zIH0gZnJvbSBcIi4vdXRpbC5qc1wiO1xuZXhwb3J0IHsgcGFyc2UgfSBmcm9tIFwiLi9jb250cmliL3BhcnNldXJpLmpzXCI7XG5leHBvcnQgeyBuZXh0VGljayB9IGZyb20gXCIuL2dsb2JhbHMubm9kZS5qc1wiO1xuZXhwb3J0IHsgRmV0Y2ggfSBmcm9tIFwiLi90cmFuc3BvcnRzL3BvbGxpbmctZmV0Y2guanNcIjtcbmV4cG9ydCB7IFhIUiBhcyBOb2RlWEhSIH0gZnJvbSBcIi4vdHJhbnNwb3J0cy9wb2xsaW5nLXhoci5ub2RlLmpzXCI7XG5leHBvcnQgeyBYSFIgfSBmcm9tIFwiLi90cmFuc3BvcnRzL3BvbGxpbmcteGhyLmpzXCI7XG5leHBvcnQgeyBXUyBhcyBOb2RlV2ViU29ja2V0IH0gZnJvbSBcIi4vdHJhbnNwb3J0cy93ZWJzb2NrZXQubm9kZS5qc1wiO1xuZXhwb3J0IHsgV1MgYXMgV2ViU29ja2V0IH0gZnJvbSBcIi4vdHJhbnNwb3J0cy93ZWJzb2NrZXQuanNcIjtcbmV4cG9ydCB7IFdUIGFzIFdlYlRyYW5zcG9ydCB9IGZyb20gXCIuL3RyYW5zcG9ydHMvd2VidHJhbnNwb3J0LmpzXCI7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/engine.io-client/build/esm/index.js\n\n}");

/***/ },

/***/ "./node_modules/engine.io-client/build/esm/socket.js"
/*!***********************************************************!*\
  !*** ./node_modules/engine.io-client/build/esm/socket.js ***!
  \***********************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Socket: () => (/* binding */ Socket),\n/* harmony export */   SocketWithUpgrade: () => (/* binding */ SocketWithUpgrade),\n/* harmony export */   SocketWithoutUpgrade: () => (/* binding */ SocketWithoutUpgrade)\n/* harmony export */ });\n/* harmony import */ var _transports_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./transports/index.js */ \"./node_modules/engine.io-client/build/esm/transports/index.js\");\n/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./util.js */ \"./node_modules/engine.io-client/build/esm/util.js\");\n/* harmony import */ var _contrib_parseqs_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./contrib/parseqs.js */ \"./node_modules/engine.io-client/build/esm/contrib/parseqs.js\");\n/* harmony import */ var _contrib_parseuri_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./contrib/parseuri.js */ \"./node_modules/engine.io-client/build/esm/contrib/parseuri.js\");\n/* harmony import */ var _socket_io_component_emitter__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @socket.io/component-emitter */ \"./node_modules/@socket.io/component-emitter/lib/esm/index.js\");\n/* harmony import */ var engine_io_parser__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! engine.io-parser */ \"./node_modules/engine.io-parser/build/esm/index.js\");\n/* harmony import */ var _globals_node_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./globals.node.js */ \"./node_modules/engine.io-client/build/esm/globals.js\");\n\n\n\n\n\n\n\nconst withEventListeners = typeof addEventListener === \"function\" &&\n    typeof removeEventListener === \"function\";\nconst OFFLINE_EVENT_LISTENERS = [];\nif (withEventListeners) {\n    // within a ServiceWorker, any event handler for the 'offline' event must be added on the initial evaluation of the\n    // script, so we create one single event listener here which will forward the event to the socket instances\n    addEventListener(\"offline\", () => {\n        OFFLINE_EVENT_LISTENERS.forEach((listener) => listener());\n    }, false);\n}\n/**\n * This class provides a WebSocket-like interface to connect to an Engine.IO server. The connection will be established\n * with one of the available low-level transports, like HTTP long-polling, WebSocket or WebTransport.\n *\n * This class comes without upgrade mechanism, which means that it will keep the first low-level transport that\n * successfully establishes the connection.\n *\n * In order to allow tree-shaking, there are no transports included, that's why the `transports` option is mandatory.\n *\n * @example\n * import { SocketWithoutUpgrade, WebSocket } from \"engine.io-client\";\n *\n * const socket = new SocketWithoutUpgrade({\n *   transports: [WebSocket]\n * });\n *\n * socket.on(\"open\", () => {\n *   socket.send(\"hello\");\n * });\n *\n * @see SocketWithUpgrade\n * @see Socket\n */\nclass SocketWithoutUpgrade extends _socket_io_component_emitter__WEBPACK_IMPORTED_MODULE_4__.Emitter {\n    /**\n     * Socket constructor.\n     *\n     * @param {String|Object} uri - uri or options\n     * @param {Object} opts - options\n     */\n    constructor(uri, opts) {\n        super();\n        this.binaryType = _globals_node_js__WEBPACK_IMPORTED_MODULE_6__.defaultBinaryType;\n        this.writeBuffer = [];\n        this._prevBufferLen = 0;\n        this._pingInterval = -1;\n        this._pingTimeout = -1;\n        this._maxPayload = -1;\n        /**\n         * The expiration timestamp of the {@link _pingTimeoutTimer} object is tracked, in case the timer is throttled and the\n         * callback is not fired on time. This can happen for example when a laptop is suspended or when a phone is locked.\n         */\n        this._pingTimeoutTime = Infinity;\n        if (uri && \"object\" === typeof uri) {\n            opts = uri;\n            uri = null;\n        }\n        if (uri) {\n            const parsedUri = (0,_contrib_parseuri_js__WEBPACK_IMPORTED_MODULE_3__.parse)(uri);\n            opts.hostname = parsedUri.host;\n            opts.secure =\n                parsedUri.protocol === \"https\" || parsedUri.protocol === \"wss\";\n            opts.port = parsedUri.port;\n            if (parsedUri.query)\n                opts.query = parsedUri.query;\n        }\n        else if (opts.host) {\n            opts.hostname = (0,_contrib_parseuri_js__WEBPACK_IMPORTED_MODULE_3__.parse)(opts.host).host;\n        }\n        (0,_util_js__WEBPACK_IMPORTED_MODULE_1__.installTimerFunctions)(this, opts);\n        this.secure =\n            null != opts.secure\n                ? opts.secure\n                : typeof location !== \"undefined\" && \"https:\" === location.protocol;\n        if (opts.hostname && !opts.port) {\n            // if no port is specified manually, use the protocol default\n            opts.port = this.secure ? \"443\" : \"80\";\n        }\n        this.hostname =\n            opts.hostname ||\n                (typeof location !== \"undefined\" ? location.hostname : \"localhost\");\n        this.port =\n            opts.port ||\n                (typeof location !== \"undefined\" && location.port\n                    ? location.port\n                    : this.secure\n                        ? \"443\"\n                        : \"80\");\n        this.transports = [];\n        this._transportsByName = {};\n        opts.transports.forEach((t) => {\n            const transportName = t.prototype.name;\n            this.transports.push(transportName);\n            this._transportsByName[transportName] = t;\n        });\n        this.opts = Object.assign({\n            path: \"/engine.io\",\n            agent: false,\n            withCredentials: false,\n            upgrade: true,\n            timestampParam: \"t\",\n            rememberUpgrade: false,\n            addTrailingSlash: true,\n            rejectUnauthorized: true,\n            perMessageDeflate: {\n                threshold: 1024,\n            },\n            transportOptions: {},\n            closeOnBeforeunload: false,\n        }, opts);\n        this.opts.path =\n            this.opts.path.replace(/\\/$/, \"\") +\n                (this.opts.addTrailingSlash ? \"/\" : \"\");\n        if (typeof this.opts.query === \"string\") {\n            this.opts.query = (0,_contrib_parseqs_js__WEBPACK_IMPORTED_MODULE_2__.decode)(this.opts.query);\n        }\n        if (withEventListeners) {\n            if (this.opts.closeOnBeforeunload) {\n                // Firefox closes the connection when the \"beforeunload\" event is emitted but not Chrome. This event listener\n                // ensures every browser behaves the same (no \"disconnect\" event at the Socket.IO level when the page is\n                // closed/reloaded)\n                this._beforeunloadEventListener = () => {\n                    if (this.transport) {\n                        // silently close the transport\n                        this.transport.removeAllListeners();\n                        this.transport.close();\n                    }\n                };\n                addEventListener(\"beforeunload\", this._beforeunloadEventListener, false);\n            }\n            if (this.hostname !== \"localhost\") {\n                this._offlineEventListener = () => {\n                    this._onClose(\"transport close\", {\n                        description: \"network connection lost\",\n                    });\n                };\n                OFFLINE_EVENT_LISTENERS.push(this._offlineEventListener);\n            }\n        }\n        if (this.opts.withCredentials) {\n            this._cookieJar = (0,_globals_node_js__WEBPACK_IMPORTED_MODULE_6__.createCookieJar)();\n        }\n        this._open();\n    }\n    /**\n     * Creates transport of the given type.\n     *\n     * @param {String} name - transport name\n     * @return {Transport}\n     * @private\n     */\n    createTransport(name) {\n        const query = Object.assign({}, this.opts.query);\n        // append engine.io protocol identifier\n        query.EIO = engine_io_parser__WEBPACK_IMPORTED_MODULE_5__.protocol;\n        // transport name\n        query.transport = name;\n        // session id if we already have one\n        if (this.id)\n            query.sid = this.id;\n        const opts = Object.assign({}, this.opts, {\n            query,\n            socket: this,\n            hostname: this.hostname,\n            secure: this.secure,\n            port: this.port,\n        }, this.opts.transportOptions[name]);\n        return new this._transportsByName[name](opts);\n    }\n    /**\n     * Initializes transport to use and starts probe.\n     *\n     * @private\n     */\n    _open() {\n        if (this.transports.length === 0) {\n            // Emit error on next tick so it can be listened to\n            this.setTimeoutFn(() => {\n                this.emitReserved(\"error\", \"No transports available\");\n            }, 0);\n            return;\n        }\n        const transportName = this.opts.rememberUpgrade &&\n            SocketWithoutUpgrade.priorWebsocketSuccess &&\n            this.transports.indexOf(\"websocket\") !== -1\n            ? \"websocket\"\n            : this.transports[0];\n        this.readyState = \"opening\";\n        const transport = this.createTransport(transportName);\n        transport.open();\n        this.setTransport(transport);\n    }\n    /**\n     * Sets the current transport. Disables the existing one (if any).\n     *\n     * @private\n     */\n    setTransport(transport) {\n        if (this.transport) {\n            this.transport.removeAllListeners();\n        }\n        // set up transport\n        this.transport = transport;\n        // set up transport listeners\n        transport\n            .on(\"drain\", this._onDrain.bind(this))\n            .on(\"packet\", this._onPacket.bind(this))\n            .on(\"error\", this._onError.bind(this))\n            .on(\"close\", (reason) => this._onClose(\"transport close\", reason));\n    }\n    /**\n     * Called when connection is deemed open.\n     *\n     * @private\n     */\n    onOpen() {\n        this.readyState = \"open\";\n        SocketWithoutUpgrade.priorWebsocketSuccess =\n            \"websocket\" === this.transport.name;\n        this.emitReserved(\"open\");\n        this.flush();\n    }\n    /**\n     * Handles a packet.\n     *\n     * @private\n     */\n    _onPacket(packet) {\n        if (\"opening\" === this.readyState ||\n            \"open\" === this.readyState ||\n            \"closing\" === this.readyState) {\n            this.emitReserved(\"packet\", packet);\n            // Socket is live - any packet counts\n            this.emitReserved(\"heartbeat\");\n            switch (packet.type) {\n                case \"open\":\n                    this.onHandshake(JSON.parse(packet.data));\n                    break;\n                case \"ping\":\n                    this._sendPacket(\"pong\");\n                    this.emitReserved(\"ping\");\n                    this.emitReserved(\"pong\");\n                    this._resetPingTimeout();\n                    break;\n                case \"error\":\n                    const err = new Error(\"server error\");\n                    // @ts-ignore\n                    err.code = packet.data;\n                    this._onError(err);\n                    break;\n                case \"message\":\n                    this.emitReserved(\"data\", packet.data);\n                    this.emitReserved(\"message\", packet.data);\n                    break;\n            }\n        }\n        else {\n        }\n    }\n    /**\n     * Called upon handshake completion.\n     *\n     * @param {Object} data - handshake obj\n     * @private\n     */\n    onHandshake(data) {\n        this.emitReserved(\"handshake\", data);\n        this.id = data.sid;\n        this.transport.query.sid = data.sid;\n        this._pingInterval = data.pingInterval;\n        this._pingTimeout = data.pingTimeout;\n        this._maxPayload = data.maxPayload;\n        this.onOpen();\n        // In case open handler closes socket\n        if (\"closed\" === this.readyState)\n            return;\n        this._resetPingTimeout();\n    }\n    /**\n     * Sets and resets ping timeout timer based on server pings.\n     *\n     * @private\n     */\n    _resetPingTimeout() {\n        this.clearTimeoutFn(this._pingTimeoutTimer);\n        const delay = this._pingInterval + this._pingTimeout;\n        this._pingTimeoutTime = Date.now() + delay;\n        this._pingTimeoutTimer = this.setTimeoutFn(() => {\n            this._onClose(\"ping timeout\");\n        }, delay);\n        if (this.opts.autoUnref) {\n            this._pingTimeoutTimer.unref();\n        }\n    }\n    /**\n     * Called on `drain` event\n     *\n     * @private\n     */\n    _onDrain() {\n        this.writeBuffer.splice(0, this._prevBufferLen);\n        // setting prevBufferLen = 0 is very important\n        // for example, when upgrading, upgrade packet is sent over,\n        // and a nonzero prevBufferLen could cause problems on `drain`\n        this._prevBufferLen = 0;\n        if (0 === this.writeBuffer.length) {\n            this.emitReserved(\"drain\");\n        }\n        else {\n            this.flush();\n        }\n    }\n    /**\n     * Flush write buffers.\n     *\n     * @private\n     */\n    flush() {\n        if (\"closed\" !== this.readyState &&\n            this.transport.writable &&\n            !this.upgrading &&\n            this.writeBuffer.length) {\n            const packets = this._getWritablePackets();\n            this.transport.send(packets);\n            // keep track of current length of writeBuffer\n            // splice writeBuffer and callbackBuffer on `drain`\n            this._prevBufferLen = packets.length;\n            this.emitReserved(\"flush\");\n        }\n    }\n    /**\n     * Ensure the encoded size of the writeBuffer is below the maxPayload value sent by the server (only for HTTP\n     * long-polling)\n     *\n     * @private\n     */\n    _getWritablePackets() {\n        const shouldCheckPayloadSize = this._maxPayload &&\n            this.transport.name === \"polling\" &&\n            this.writeBuffer.length > 1;\n        if (!shouldCheckPayloadSize) {\n            return this.writeBuffer;\n        }\n        let payloadSize = 1; // first packet type\n        for (let i = 0; i < this.writeBuffer.length; i++) {\n            const data = this.writeBuffer[i].data;\n            if (data) {\n                payloadSize += (0,_util_js__WEBPACK_IMPORTED_MODULE_1__.byteLength)(data);\n            }\n            if (i > 0 && payloadSize > this._maxPayload) {\n                return this.writeBuffer.slice(0, i);\n            }\n            payloadSize += 2; // separator + packet type\n        }\n        return this.writeBuffer;\n    }\n    /**\n     * Checks whether the heartbeat timer has expired but the socket has not yet been notified.\n     *\n     * Note: this method is private for now because it does not really fit the WebSocket API, but if we put it in the\n     * `write()` method then the message would not be buffered by the Socket.IO client.\n     *\n     * @return {boolean}\n     * @private\n     */\n    /* private */ _hasPingExpired() {\n        if (!this._pingTimeoutTime)\n            return true;\n        const hasExpired = Date.now() > this._pingTimeoutTime;\n        if (hasExpired) {\n            this._pingTimeoutTime = 0;\n            (0,_globals_node_js__WEBPACK_IMPORTED_MODULE_6__.nextTick)(() => {\n                this._onClose(\"ping timeout\");\n            }, this.setTimeoutFn);\n        }\n        return hasExpired;\n    }\n    /**\n     * Sends a message.\n     *\n     * @param {String} msg - message.\n     * @param {Object} options.\n     * @param {Function} fn - callback function.\n     * @return {Socket} for chaining.\n     */\n    write(msg, options, fn) {\n        this._sendPacket(\"message\", msg, options, fn);\n        return this;\n    }\n    /**\n     * Sends a message. Alias of {@link Socket#write}.\n     *\n     * @param {String} msg - message.\n     * @param {Object} options.\n     * @param {Function} fn - callback function.\n     * @return {Socket} for chaining.\n     */\n    send(msg, options, fn) {\n        this._sendPacket(\"message\", msg, options, fn);\n        return this;\n    }\n    /**\n     * Sends a packet.\n     *\n     * @param {String} type: packet type.\n     * @param {String} data.\n     * @param {Object} options.\n     * @param {Function} fn - callback function.\n     * @private\n     */\n    _sendPacket(type, data, options, fn) {\n        if (\"function\" === typeof data) {\n            fn = data;\n            data = undefined;\n        }\n        if (\"function\" === typeof options) {\n            fn = options;\n            options = null;\n        }\n        if (\"closing\" === this.readyState || \"closed\" === this.readyState) {\n            return;\n        }\n        options = options || {};\n        options.compress = false !== options.compress;\n        const packet = {\n            type: type,\n            data: data,\n            options: options,\n        };\n        this.emitReserved(\"packetCreate\", packet);\n        this.writeBuffer.push(packet);\n        if (fn)\n            this.once(\"flush\", fn);\n        this.flush();\n    }\n    /**\n     * Closes the connection.\n     */\n    close() {\n        const close = () => {\n            this._onClose(\"forced close\");\n            this.transport.close();\n        };\n        const cleanupAndClose = () => {\n            this.off(\"upgrade\", cleanupAndClose);\n            this.off(\"upgradeError\", cleanupAndClose);\n            close();\n        };\n        const waitForUpgrade = () => {\n            // wait for upgrade to finish since we can't send packets while pausing a transport\n            this.once(\"upgrade\", cleanupAndClose);\n            this.once(\"upgradeError\", cleanupAndClose);\n        };\n        if (\"opening\" === this.readyState || \"open\" === this.readyState) {\n            this.readyState = \"closing\";\n            if (this.writeBuffer.length) {\n                this.once(\"drain\", () => {\n                    if (this.upgrading) {\n                        waitForUpgrade();\n                    }\n                    else {\n                        close();\n                    }\n                });\n            }\n            else if (this.upgrading) {\n                waitForUpgrade();\n            }\n            else {\n                close();\n            }\n        }\n        return this;\n    }\n    /**\n     * Called upon transport error\n     *\n     * @private\n     */\n    _onError(err) {\n        SocketWithoutUpgrade.priorWebsocketSuccess = false;\n        if (this.opts.tryAllTransports &&\n            this.transports.length > 1 &&\n            this.readyState === \"opening\") {\n            this.transports.shift();\n            return this._open();\n        }\n        this.emitReserved(\"error\", err);\n        this._onClose(\"transport error\", err);\n    }\n    /**\n     * Called upon transport close.\n     *\n     * @private\n     */\n    _onClose(reason, description) {\n        if (\"opening\" === this.readyState ||\n            \"open\" === this.readyState ||\n            \"closing\" === this.readyState) {\n            // clear timers\n            this.clearTimeoutFn(this._pingTimeoutTimer);\n            // stop event from firing again for transport\n            this.transport.removeAllListeners(\"close\");\n            // ensure transport won't stay open\n            this.transport.close();\n            // ignore further transport communication\n            this.transport.removeAllListeners();\n            if (withEventListeners) {\n                if (this._beforeunloadEventListener) {\n                    removeEventListener(\"beforeunload\", this._beforeunloadEventListener, false);\n                }\n                if (this._offlineEventListener) {\n                    const i = OFFLINE_EVENT_LISTENERS.indexOf(this._offlineEventListener);\n                    if (i !== -1) {\n                        OFFLINE_EVENT_LISTENERS.splice(i, 1);\n                    }\n                }\n            }\n            // set ready state\n            this.readyState = \"closed\";\n            // clear session id\n            this.id = null;\n            // emit close event\n            this.emitReserved(\"close\", reason, description);\n            // clean buffers after, so users can still\n            // grab the buffers on `close` event\n            this.writeBuffer = [];\n            this._prevBufferLen = 0;\n        }\n    }\n}\nSocketWithoutUpgrade.protocol = engine_io_parser__WEBPACK_IMPORTED_MODULE_5__.protocol;\n/**\n * This class provides a WebSocket-like interface to connect to an Engine.IO server. The connection will be established\n * with one of the available low-level transports, like HTTP long-polling, WebSocket or WebTransport.\n *\n * This class comes with an upgrade mechanism, which means that once the connection is established with the first\n * low-level transport, it will try to upgrade to a better transport.\n *\n * In order to allow tree-shaking, there are no transports included, that's why the `transports` option is mandatory.\n *\n * @example\n * import { SocketWithUpgrade, WebSocket } from \"engine.io-client\";\n *\n * const socket = new SocketWithUpgrade({\n *   transports: [WebSocket]\n * });\n *\n * socket.on(\"open\", () => {\n *   socket.send(\"hello\");\n * });\n *\n * @see SocketWithoutUpgrade\n * @see Socket\n */\nclass SocketWithUpgrade extends SocketWithoutUpgrade {\n    constructor() {\n        super(...arguments);\n        this._upgrades = [];\n    }\n    onOpen() {\n        super.onOpen();\n        if (\"open\" === this.readyState && this.opts.upgrade) {\n            for (let i = 0; i < this._upgrades.length; i++) {\n                this._probe(this._upgrades[i]);\n            }\n        }\n    }\n    /**\n     * Probes a transport.\n     *\n     * @param {String} name - transport name\n     * @private\n     */\n    _probe(name) {\n        let transport = this.createTransport(name);\n        let failed = false;\n        SocketWithoutUpgrade.priorWebsocketSuccess = false;\n        const onTransportOpen = () => {\n            if (failed)\n                return;\n            transport.send([{ type: \"ping\", data: \"probe\" }]);\n            transport.once(\"packet\", (msg) => {\n                if (failed)\n                    return;\n                if (\"pong\" === msg.type && \"probe\" === msg.data) {\n                    this.upgrading = true;\n                    this.emitReserved(\"upgrading\", transport);\n                    if (!transport)\n                        return;\n                    SocketWithoutUpgrade.priorWebsocketSuccess =\n                        \"websocket\" === transport.name;\n                    this.transport.pause(() => {\n                        if (failed)\n                            return;\n                        if (\"closed\" === this.readyState)\n                            return;\n                        cleanup();\n                        this.setTransport(transport);\n                        transport.send([{ type: \"upgrade\" }]);\n                        this.emitReserved(\"upgrade\", transport);\n                        transport = null;\n                        this.upgrading = false;\n                        this.flush();\n                    });\n                }\n                else {\n                    const err = new Error(\"probe error\");\n                    // @ts-ignore\n                    err.transport = transport.name;\n                    this.emitReserved(\"upgradeError\", err);\n                }\n            });\n        };\n        function freezeTransport() {\n            if (failed)\n                return;\n            // Any callback called by transport should be ignored since now\n            failed = true;\n            cleanup();\n            transport.close();\n            transport = null;\n        }\n        // Handle any error that happens while probing\n        const onerror = (err) => {\n            const error = new Error(\"probe error: \" + err);\n            // @ts-ignore\n            error.transport = transport.name;\n            freezeTransport();\n            this.emitReserved(\"upgradeError\", error);\n        };\n        function onTransportClose() {\n            onerror(\"transport closed\");\n        }\n        // When the socket is closed while we're probing\n        function onclose() {\n            onerror(\"socket closed\");\n        }\n        // When the socket is upgraded while we're probing\n        function onupgrade(to) {\n            if (transport && to.name !== transport.name) {\n                freezeTransport();\n            }\n        }\n        // Remove all listeners on the transport and on self\n        const cleanup = () => {\n            transport.removeListener(\"open\", onTransportOpen);\n            transport.removeListener(\"error\", onerror);\n            transport.removeListener(\"close\", onTransportClose);\n            this.off(\"close\", onclose);\n            this.off(\"upgrading\", onupgrade);\n        };\n        transport.once(\"open\", onTransportOpen);\n        transport.once(\"error\", onerror);\n        transport.once(\"close\", onTransportClose);\n        this.once(\"close\", onclose);\n        this.once(\"upgrading\", onupgrade);\n        if (this._upgrades.indexOf(\"webtransport\") !== -1 &&\n            name !== \"webtransport\") {\n            // favor WebTransport\n            this.setTimeoutFn(() => {\n                if (!failed) {\n                    transport.open();\n                }\n            }, 200);\n        }\n        else {\n            transport.open();\n        }\n    }\n    onHandshake(data) {\n        this._upgrades = this._filterUpgrades(data.upgrades);\n        super.onHandshake(data);\n    }\n    /**\n     * Filters upgrades, returning only those matching client transports.\n     *\n     * @param {Array} upgrades - server upgrades\n     * @private\n     */\n    _filterUpgrades(upgrades) {\n        const filteredUpgrades = [];\n        for (let i = 0; i < upgrades.length; i++) {\n            if (~this.transports.indexOf(upgrades[i]))\n                filteredUpgrades.push(upgrades[i]);\n        }\n        return filteredUpgrades;\n    }\n}\n/**\n * This class provides a WebSocket-like interface to connect to an Engine.IO server. The connection will be established\n * with one of the available low-level transports, like HTTP long-polling, WebSocket or WebTransport.\n *\n * This class comes with an upgrade mechanism, which means that once the connection is established with the first\n * low-level transport, it will try to upgrade to a better transport.\n *\n * @example\n * import { Socket } from \"engine.io-client\";\n *\n * const socket = new Socket();\n *\n * socket.on(\"open\", () => {\n *   socket.send(\"hello\");\n * });\n *\n * @see SocketWithoutUpgrade\n * @see SocketWithUpgrade\n */\nclass Socket extends SocketWithUpgrade {\n    constructor(uri, opts = {}) {\n        const o = typeof uri === \"object\" ? uri : opts;\n        if (!o.transports ||\n            (o.transports && typeof o.transports[0] === \"string\")) {\n            o.transports = (o.transports || [\"polling\", \"websocket\", \"webtransport\"])\n                .map((transportName) => _transports_index_js__WEBPACK_IMPORTED_MODULE_0__.transports[transportName])\n                .filter((t) => !!t);\n        }\n        super(uri, o);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9idWlsZC9lc20vc29ja2V0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBeUU7QUFDWDtBQUNoQjtBQUNBO0FBQ1M7QUFDWDtBQUNzQztBQUNsRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGtDQUFrQztBQUM5QztBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ08sbUNBQW1DLGlFQUFPO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBLGVBQWUsZUFBZTtBQUM5QixlQUFlLFFBQVE7QUFDdkI7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLCtEQUFpQjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMseUJBQXlCO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsMkRBQUs7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QiwyREFBSztBQUNqQztBQUNBLFFBQVEsK0RBQXFCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLGdDQUFnQztBQUNoQztBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QiwyREFBTTtBQUNwQztBQUNBO0FBQ0E7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QUNBO0FBQ0EsOEJBQThCLDZCQUE2QjtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLGlCQUFpQjtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxPQUFPO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHFCQUFxQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxTQUFTO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3Qyw0REFBa0I7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3JldHJvYXBwLWNsaWVudC8uL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tY2xpZW50L2J1aWxkL2VzbS9zb2NrZXQuanM/NDljMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB0cmFuc3BvcnRzIGFzIERFRkFVTFRfVFJBTlNQT1JUUyB9IGZyb20gXCIuL3RyYW5zcG9ydHMvaW5kZXguanNcIjtcbmltcG9ydCB7IGluc3RhbGxUaW1lckZ1bmN0aW9ucywgYnl0ZUxlbmd0aCB9IGZyb20gXCIuL3V0aWwuanNcIjtcbmltcG9ydCB7IGRlY29kZSB9IGZyb20gXCIuL2NvbnRyaWIvcGFyc2Vxcy5qc1wiO1xuaW1wb3J0IHsgcGFyc2UgfSBmcm9tIFwiLi9jb250cmliL3BhcnNldXJpLmpzXCI7XG5pbXBvcnQgeyBFbWl0dGVyIH0gZnJvbSBcIkBzb2NrZXQuaW8vY29tcG9uZW50LWVtaXR0ZXJcIjtcbmltcG9ydCB7IHByb3RvY29sIH0gZnJvbSBcImVuZ2luZS5pby1wYXJzZXJcIjtcbmltcG9ydCB7IGNyZWF0ZUNvb2tpZUphciwgZGVmYXVsdEJpbmFyeVR5cGUsIG5leHRUaWNrLCB9IGZyb20gXCIuL2dsb2JhbHMubm9kZS5qc1wiO1xuY29uc3Qgd2l0aEV2ZW50TGlzdGVuZXJzID0gdHlwZW9mIGFkZEV2ZW50TGlzdGVuZXIgPT09IFwiZnVuY3Rpb25cIiAmJlxuICAgIHR5cGVvZiByZW1vdmVFdmVudExpc3RlbmVyID09PSBcImZ1bmN0aW9uXCI7XG5jb25zdCBPRkZMSU5FX0VWRU5UX0xJU1RFTkVSUyA9IFtdO1xuaWYgKHdpdGhFdmVudExpc3RlbmVycykge1xuICAgIC8vIHdpdGhpbiBhIFNlcnZpY2VXb3JrZXIsIGFueSBldmVudCBoYW5kbGVyIGZvciB0aGUgJ29mZmxpbmUnIGV2ZW50IG11c3QgYmUgYWRkZWQgb24gdGhlIGluaXRpYWwgZXZhbHVhdGlvbiBvZiB0aGVcbiAgICAvLyBzY3JpcHQsIHNvIHdlIGNyZWF0ZSBvbmUgc2luZ2xlIGV2ZW50IGxpc3RlbmVyIGhlcmUgd2hpY2ggd2lsbCBmb3J3YXJkIHRoZSBldmVudCB0byB0aGUgc29ja2V0IGluc3RhbmNlc1xuICAgIGFkZEV2ZW50TGlzdGVuZXIoXCJvZmZsaW5lXCIsICgpID0+IHtcbiAgICAgICAgT0ZGTElORV9FVkVOVF9MSVNURU5FUlMuZm9yRWFjaCgobGlzdGVuZXIpID0+IGxpc3RlbmVyKCkpO1xuICAgIH0sIGZhbHNlKTtcbn1cbi8qKlxuICogVGhpcyBjbGFzcyBwcm92aWRlcyBhIFdlYlNvY2tldC1saWtlIGludGVyZmFjZSB0byBjb25uZWN0IHRvIGFuIEVuZ2luZS5JTyBzZXJ2ZXIuIFRoZSBjb25uZWN0aW9uIHdpbGwgYmUgZXN0YWJsaXNoZWRcbiAqIHdpdGggb25lIG9mIHRoZSBhdmFpbGFibGUgbG93LWxldmVsIHRyYW5zcG9ydHMsIGxpa2UgSFRUUCBsb25nLXBvbGxpbmcsIFdlYlNvY2tldCBvciBXZWJUcmFuc3BvcnQuXG4gKlxuICogVGhpcyBjbGFzcyBjb21lcyB3aXRob3V0IHVwZ3JhZGUgbWVjaGFuaXNtLCB3aGljaCBtZWFucyB0aGF0IGl0IHdpbGwga2VlcCB0aGUgZmlyc3QgbG93LWxldmVsIHRyYW5zcG9ydCB0aGF0XG4gKiBzdWNjZXNzZnVsbHkgZXN0YWJsaXNoZXMgdGhlIGNvbm5lY3Rpb24uXG4gKlxuICogSW4gb3JkZXIgdG8gYWxsb3cgdHJlZS1zaGFraW5nLCB0aGVyZSBhcmUgbm8gdHJhbnNwb3J0cyBpbmNsdWRlZCwgdGhhdCdzIHdoeSB0aGUgYHRyYW5zcG9ydHNgIG9wdGlvbiBpcyBtYW5kYXRvcnkuXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IFNvY2tldFdpdGhvdXRVcGdyYWRlLCBXZWJTb2NrZXQgfSBmcm9tIFwiZW5naW5lLmlvLWNsaWVudFwiO1xuICpcbiAqIGNvbnN0IHNvY2tldCA9IG5ldyBTb2NrZXRXaXRob3V0VXBncmFkZSh7XG4gKiAgIHRyYW5zcG9ydHM6IFtXZWJTb2NrZXRdXG4gKiB9KTtcbiAqXG4gKiBzb2NrZXQub24oXCJvcGVuXCIsICgpID0+IHtcbiAqICAgc29ja2V0LnNlbmQoXCJoZWxsb1wiKTtcbiAqIH0pO1xuICpcbiAqIEBzZWUgU29ja2V0V2l0aFVwZ3JhZGVcbiAqIEBzZWUgU29ja2V0XG4gKi9cbmV4cG9ydCBjbGFzcyBTb2NrZXRXaXRob3V0VXBncmFkZSBleHRlbmRzIEVtaXR0ZXIge1xuICAgIC8qKlxuICAgICAqIFNvY2tldCBjb25zdHJ1Y3Rvci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfE9iamVjdH0gdXJpIC0gdXJpIG9yIG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0cyAtIG9wdGlvbnNcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih1cmksIG9wdHMpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5iaW5hcnlUeXBlID0gZGVmYXVsdEJpbmFyeVR5cGU7XG4gICAgICAgIHRoaXMud3JpdGVCdWZmZXIgPSBbXTtcbiAgICAgICAgdGhpcy5fcHJldkJ1ZmZlckxlbiA9IDA7XG4gICAgICAgIHRoaXMuX3BpbmdJbnRlcnZhbCA9IC0xO1xuICAgICAgICB0aGlzLl9waW5nVGltZW91dCA9IC0xO1xuICAgICAgICB0aGlzLl9tYXhQYXlsb2FkID0gLTE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZXhwaXJhdGlvbiB0aW1lc3RhbXAgb2YgdGhlIHtAbGluayBfcGluZ1RpbWVvdXRUaW1lcn0gb2JqZWN0IGlzIHRyYWNrZWQsIGluIGNhc2UgdGhlIHRpbWVyIGlzIHRocm90dGxlZCBhbmQgdGhlXG4gICAgICAgICAqIGNhbGxiYWNrIGlzIG5vdCBmaXJlZCBvbiB0aW1lLiBUaGlzIGNhbiBoYXBwZW4gZm9yIGV4YW1wbGUgd2hlbiBhIGxhcHRvcCBpcyBzdXNwZW5kZWQgb3Igd2hlbiBhIHBob25lIGlzIGxvY2tlZC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3BpbmdUaW1lb3V0VGltZSA9IEluZmluaXR5O1xuICAgICAgICBpZiAodXJpICYmIFwib2JqZWN0XCIgPT09IHR5cGVvZiB1cmkpIHtcbiAgICAgICAgICAgIG9wdHMgPSB1cmk7XG4gICAgICAgICAgICB1cmkgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1cmkpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZFVyaSA9IHBhcnNlKHVyaSk7XG4gICAgICAgICAgICBvcHRzLmhvc3RuYW1lID0gcGFyc2VkVXJpLmhvc3Q7XG4gICAgICAgICAgICBvcHRzLnNlY3VyZSA9XG4gICAgICAgICAgICAgICAgcGFyc2VkVXJpLnByb3RvY29sID09PSBcImh0dHBzXCIgfHwgcGFyc2VkVXJpLnByb3RvY29sID09PSBcIndzc1wiO1xuICAgICAgICAgICAgb3B0cy5wb3J0ID0gcGFyc2VkVXJpLnBvcnQ7XG4gICAgICAgICAgICBpZiAocGFyc2VkVXJpLnF1ZXJ5KVxuICAgICAgICAgICAgICAgIG9wdHMucXVlcnkgPSBwYXJzZWRVcmkucXVlcnk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAob3B0cy5ob3N0KSB7XG4gICAgICAgICAgICBvcHRzLmhvc3RuYW1lID0gcGFyc2Uob3B0cy5ob3N0KS5ob3N0O1xuICAgICAgICB9XG4gICAgICAgIGluc3RhbGxUaW1lckZ1bmN0aW9ucyh0aGlzLCBvcHRzKTtcbiAgICAgICAgdGhpcy5zZWN1cmUgPVxuICAgICAgICAgICAgbnVsbCAhPSBvcHRzLnNlY3VyZVxuICAgICAgICAgICAgICAgID8gb3B0cy5zZWN1cmVcbiAgICAgICAgICAgICAgICA6IHR5cGVvZiBsb2NhdGlvbiAhPT0gXCJ1bmRlZmluZWRcIiAmJiBcImh0dHBzOlwiID09PSBsb2NhdGlvbi5wcm90b2NvbDtcbiAgICAgICAgaWYgKG9wdHMuaG9zdG5hbWUgJiYgIW9wdHMucG9ydCkge1xuICAgICAgICAgICAgLy8gaWYgbm8gcG9ydCBpcyBzcGVjaWZpZWQgbWFudWFsbHksIHVzZSB0aGUgcHJvdG9jb2wgZGVmYXVsdFxuICAgICAgICAgICAgb3B0cy5wb3J0ID0gdGhpcy5zZWN1cmUgPyBcIjQ0M1wiIDogXCI4MFwiO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaG9zdG5hbWUgPVxuICAgICAgICAgICAgb3B0cy5ob3N0bmFtZSB8fFxuICAgICAgICAgICAgICAgICh0eXBlb2YgbG9jYXRpb24gIT09IFwidW5kZWZpbmVkXCIgPyBsb2NhdGlvbi5ob3N0bmFtZSA6IFwibG9jYWxob3N0XCIpO1xuICAgICAgICB0aGlzLnBvcnQgPVxuICAgICAgICAgICAgb3B0cy5wb3J0IHx8XG4gICAgICAgICAgICAgICAgKHR5cGVvZiBsb2NhdGlvbiAhPT0gXCJ1bmRlZmluZWRcIiAmJiBsb2NhdGlvbi5wb3J0XG4gICAgICAgICAgICAgICAgICAgID8gbG9jYXRpb24ucG9ydFxuICAgICAgICAgICAgICAgICAgICA6IHRoaXMuc2VjdXJlXG4gICAgICAgICAgICAgICAgICAgICAgICA/IFwiNDQzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogXCI4MFwiKTtcbiAgICAgICAgdGhpcy50cmFuc3BvcnRzID0gW107XG4gICAgICAgIHRoaXMuX3RyYW5zcG9ydHNCeU5hbWUgPSB7fTtcbiAgICAgICAgb3B0cy50cmFuc3BvcnRzLmZvckVhY2goKHQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRyYW5zcG9ydE5hbWUgPSB0LnByb3RvdHlwZS5uYW1lO1xuICAgICAgICAgICAgdGhpcy50cmFuc3BvcnRzLnB1c2godHJhbnNwb3J0TmFtZSk7XG4gICAgICAgICAgICB0aGlzLl90cmFuc3BvcnRzQnlOYW1lW3RyYW5zcG9ydE5hbWVdID0gdDtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMub3B0cyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgcGF0aDogXCIvZW5naW5lLmlvXCIsXG4gICAgICAgICAgICBhZ2VudDogZmFsc2UsXG4gICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IGZhbHNlLFxuICAgICAgICAgICAgdXBncmFkZTogdHJ1ZSxcbiAgICAgICAgICAgIHRpbWVzdGFtcFBhcmFtOiBcInRcIixcbiAgICAgICAgICAgIHJlbWVtYmVyVXBncmFkZTogZmFsc2UsXG4gICAgICAgICAgICBhZGRUcmFpbGluZ1NsYXNoOiB0cnVlLFxuICAgICAgICAgICAgcmVqZWN0VW5hdXRob3JpemVkOiB0cnVlLFxuICAgICAgICAgICAgcGVyTWVzc2FnZURlZmxhdGU6IHtcbiAgICAgICAgICAgICAgICB0aHJlc2hvbGQ6IDEwMjQsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdHJhbnNwb3J0T3B0aW9uczoge30sXG4gICAgICAgICAgICBjbG9zZU9uQmVmb3JldW5sb2FkOiBmYWxzZSxcbiAgICAgICAgfSwgb3B0cyk7XG4gICAgICAgIHRoaXMub3B0cy5wYXRoID1cbiAgICAgICAgICAgIHRoaXMub3B0cy5wYXRoLnJlcGxhY2UoL1xcLyQvLCBcIlwiKSArXG4gICAgICAgICAgICAgICAgKHRoaXMub3B0cy5hZGRUcmFpbGluZ1NsYXNoID8gXCIvXCIgOiBcIlwiKTtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdHMucXVlcnkgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHRoaXMub3B0cy5xdWVyeSA9IGRlY29kZSh0aGlzLm9wdHMucXVlcnkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh3aXRoRXZlbnRMaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdHMuY2xvc2VPbkJlZm9yZXVubG9hZCkge1xuICAgICAgICAgICAgICAgIC8vIEZpcmVmb3ggY2xvc2VzIHRoZSBjb25uZWN0aW9uIHdoZW4gdGhlIFwiYmVmb3JldW5sb2FkXCIgZXZlbnQgaXMgZW1pdHRlZCBidXQgbm90IENocm9tZS4gVGhpcyBldmVudCBsaXN0ZW5lclxuICAgICAgICAgICAgICAgIC8vIGVuc3VyZXMgZXZlcnkgYnJvd3NlciBiZWhhdmVzIHRoZSBzYW1lIChubyBcImRpc2Nvbm5lY3RcIiBldmVudCBhdCB0aGUgU29ja2V0LklPIGxldmVsIHdoZW4gdGhlIHBhZ2UgaXNcbiAgICAgICAgICAgICAgICAvLyBjbG9zZWQvcmVsb2FkZWQpXG4gICAgICAgICAgICAgICAgdGhpcy5fYmVmb3JldW5sb2FkRXZlbnRMaXN0ZW5lciA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudHJhbnNwb3J0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzaWxlbnRseSBjbG9zZSB0aGUgdHJhbnNwb3J0XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYW5zcG9ydC5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNwb3J0LmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGFkZEV2ZW50TGlzdGVuZXIoXCJiZWZvcmV1bmxvYWRcIiwgdGhpcy5fYmVmb3JldW5sb2FkRXZlbnRMaXN0ZW5lciwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuaG9zdG5hbWUgIT09IFwibG9jYWxob3N0XCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9vZmZsaW5lRXZlbnRMaXN0ZW5lciA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fb25DbG9zZShcInRyYW5zcG9ydCBjbG9zZVwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJuZXR3b3JrIGNvbm5lY3Rpb24gbG9zdFwiLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIE9GRkxJTkVfRVZFTlRfTElTVEVORVJTLnB1c2godGhpcy5fb2ZmbGluZUV2ZW50TGlzdGVuZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm9wdHMud2l0aENyZWRlbnRpYWxzKSB7XG4gICAgICAgICAgICB0aGlzLl9jb29raWVKYXIgPSBjcmVhdGVDb29raWVKYXIoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9vcGVuKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgdHJhbnNwb3J0IG9mIHRoZSBnaXZlbiB0eXBlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgLSB0cmFuc3BvcnQgbmFtZVxuICAgICAqIEByZXR1cm4ge1RyYW5zcG9ydH1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGNyZWF0ZVRyYW5zcG9ydChuYW1lKSB7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5vcHRzLnF1ZXJ5KTtcbiAgICAgICAgLy8gYXBwZW5kIGVuZ2luZS5pbyBwcm90b2NvbCBpZGVudGlmaWVyXG4gICAgICAgIHF1ZXJ5LkVJTyA9IHByb3RvY29sO1xuICAgICAgICAvLyB0cmFuc3BvcnQgbmFtZVxuICAgICAgICBxdWVyeS50cmFuc3BvcnQgPSBuYW1lO1xuICAgICAgICAvLyBzZXNzaW9uIGlkIGlmIHdlIGFscmVhZHkgaGF2ZSBvbmVcbiAgICAgICAgaWYgKHRoaXMuaWQpXG4gICAgICAgICAgICBxdWVyeS5zaWQgPSB0aGlzLmlkO1xuICAgICAgICBjb25zdCBvcHRzID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5vcHRzLCB7XG4gICAgICAgICAgICBxdWVyeSxcbiAgICAgICAgICAgIHNvY2tldDogdGhpcyxcbiAgICAgICAgICAgIGhvc3RuYW1lOiB0aGlzLmhvc3RuYW1lLFxuICAgICAgICAgICAgc2VjdXJlOiB0aGlzLnNlY3VyZSxcbiAgICAgICAgICAgIHBvcnQ6IHRoaXMucG9ydCxcbiAgICAgICAgfSwgdGhpcy5vcHRzLnRyYW5zcG9ydE9wdGlvbnNbbmFtZV0pO1xuICAgICAgICByZXR1cm4gbmV3IHRoaXMuX3RyYW5zcG9ydHNCeU5hbWVbbmFtZV0ob3B0cyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIHRyYW5zcG9ydCB0byB1c2UgYW5kIHN0YXJ0cyBwcm9iZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX29wZW4oKSB7XG4gICAgICAgIGlmICh0aGlzLnRyYW5zcG9ydHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAvLyBFbWl0IGVycm9yIG9uIG5leHQgdGljayBzbyBpdCBjYW4gYmUgbGlzdGVuZWQgdG9cbiAgICAgICAgICAgIHRoaXMuc2V0VGltZW91dEZuKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcImVycm9yXCIsIFwiTm8gdHJhbnNwb3J0cyBhdmFpbGFibGVcIik7XG4gICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0cmFuc3BvcnROYW1lID0gdGhpcy5vcHRzLnJlbWVtYmVyVXBncmFkZSAmJlxuICAgICAgICAgICAgU29ja2V0V2l0aG91dFVwZ3JhZGUucHJpb3JXZWJzb2NrZXRTdWNjZXNzICYmXG4gICAgICAgICAgICB0aGlzLnRyYW5zcG9ydHMuaW5kZXhPZihcIndlYnNvY2tldFwiKSAhPT0gLTFcbiAgICAgICAgICAgID8gXCJ3ZWJzb2NrZXRcIlxuICAgICAgICAgICAgOiB0aGlzLnRyYW5zcG9ydHNbMF07XG4gICAgICAgIHRoaXMucmVhZHlTdGF0ZSA9IFwib3BlbmluZ1wiO1xuICAgICAgICBjb25zdCB0cmFuc3BvcnQgPSB0aGlzLmNyZWF0ZVRyYW5zcG9ydCh0cmFuc3BvcnROYW1lKTtcbiAgICAgICAgdHJhbnNwb3J0Lm9wZW4oKTtcbiAgICAgICAgdGhpcy5zZXRUcmFuc3BvcnQodHJhbnNwb3J0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgY3VycmVudCB0cmFuc3BvcnQuIERpc2FibGVzIHRoZSBleGlzdGluZyBvbmUgKGlmIGFueSkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHNldFRyYW5zcG9ydCh0cmFuc3BvcnQpIHtcbiAgICAgICAgaWYgKHRoaXMudHJhbnNwb3J0KSB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zcG9ydC5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBzZXQgdXAgdHJhbnNwb3J0XG4gICAgICAgIHRoaXMudHJhbnNwb3J0ID0gdHJhbnNwb3J0O1xuICAgICAgICAvLyBzZXQgdXAgdHJhbnNwb3J0IGxpc3RlbmVyc1xuICAgICAgICB0cmFuc3BvcnRcbiAgICAgICAgICAgIC5vbihcImRyYWluXCIsIHRoaXMuX29uRHJhaW4uYmluZCh0aGlzKSlcbiAgICAgICAgICAgIC5vbihcInBhY2tldFwiLCB0aGlzLl9vblBhY2tldC5iaW5kKHRoaXMpKVxuICAgICAgICAgICAgLm9uKFwiZXJyb3JcIiwgdGhpcy5fb25FcnJvci5iaW5kKHRoaXMpKVxuICAgICAgICAgICAgLm9uKFwiY2xvc2VcIiwgKHJlYXNvbikgPT4gdGhpcy5fb25DbG9zZShcInRyYW5zcG9ydCBjbG9zZVwiLCByZWFzb24pKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gY29ubmVjdGlvbiBpcyBkZWVtZWQgb3Blbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgb25PcGVuKCkge1xuICAgICAgICB0aGlzLnJlYWR5U3RhdGUgPSBcIm9wZW5cIjtcbiAgICAgICAgU29ja2V0V2l0aG91dFVwZ3JhZGUucHJpb3JXZWJzb2NrZXRTdWNjZXNzID1cbiAgICAgICAgICAgIFwid2Vic29ja2V0XCIgPT09IHRoaXMudHJhbnNwb3J0Lm5hbWU7XG4gICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwib3BlblwiKTtcbiAgICAgICAgdGhpcy5mbHVzaCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIGEgcGFja2V0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfb25QYWNrZXQocGFja2V0KSB7XG4gICAgICAgIGlmIChcIm9wZW5pbmdcIiA9PT0gdGhpcy5yZWFkeVN0YXRlIHx8XG4gICAgICAgICAgICBcIm9wZW5cIiA9PT0gdGhpcy5yZWFkeVN0YXRlIHx8XG4gICAgICAgICAgICBcImNsb3NpbmdcIiA9PT0gdGhpcy5yZWFkeVN0YXRlKSB7XG4gICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcInBhY2tldFwiLCBwYWNrZXQpO1xuICAgICAgICAgICAgLy8gU29ja2V0IGlzIGxpdmUgLSBhbnkgcGFja2V0IGNvdW50c1xuICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJoZWFydGJlYXRcIik7XG4gICAgICAgICAgICBzd2l0Y2ggKHBhY2tldC50eXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcIm9wZW5cIjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkhhbmRzaGFrZShKU09OLnBhcnNlKHBhY2tldC5kYXRhKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJwaW5nXCI6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NlbmRQYWNrZXQoXCJwb25nXCIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcInBpbmdcIik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwicG9uZ1wiKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVzZXRQaW5nVGltZW91dCgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiZXJyb3JcIjpcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXJyID0gbmV3IEVycm9yKFwic2VydmVyIGVycm9yXCIpO1xuICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgICAgIGVyci5jb2RlID0gcGFja2V0LmRhdGE7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29uRXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIm1lc3NhZ2VcIjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJkYXRhXCIsIHBhY2tldC5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJtZXNzYWdlXCIsIHBhY2tldC5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHVwb24gaGFuZHNoYWtlIGNvbXBsZXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YSAtIGhhbmRzaGFrZSBvYmpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIG9uSGFuZHNoYWtlKGRhdGEpIHtcbiAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJoYW5kc2hha2VcIiwgZGF0YSk7XG4gICAgICAgIHRoaXMuaWQgPSBkYXRhLnNpZDtcbiAgICAgICAgdGhpcy50cmFuc3BvcnQucXVlcnkuc2lkID0gZGF0YS5zaWQ7XG4gICAgICAgIHRoaXMuX3BpbmdJbnRlcnZhbCA9IGRhdGEucGluZ0ludGVydmFsO1xuICAgICAgICB0aGlzLl9waW5nVGltZW91dCA9IGRhdGEucGluZ1RpbWVvdXQ7XG4gICAgICAgIHRoaXMuX21heFBheWxvYWQgPSBkYXRhLm1heFBheWxvYWQ7XG4gICAgICAgIHRoaXMub25PcGVuKCk7XG4gICAgICAgIC8vIEluIGNhc2Ugb3BlbiBoYW5kbGVyIGNsb3NlcyBzb2NrZXRcbiAgICAgICAgaWYgKFwiY2xvc2VkXCIgPT09IHRoaXMucmVhZHlTdGF0ZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy5fcmVzZXRQaW5nVGltZW91dCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIGFuZCByZXNldHMgcGluZyB0aW1lb3V0IHRpbWVyIGJhc2VkIG9uIHNlcnZlciBwaW5ncy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3Jlc2V0UGluZ1RpbWVvdXQoKSB7XG4gICAgICAgIHRoaXMuY2xlYXJUaW1lb3V0Rm4odGhpcy5fcGluZ1RpbWVvdXRUaW1lcik7XG4gICAgICAgIGNvbnN0IGRlbGF5ID0gdGhpcy5fcGluZ0ludGVydmFsICsgdGhpcy5fcGluZ1RpbWVvdXQ7XG4gICAgICAgIHRoaXMuX3BpbmdUaW1lb3V0VGltZSA9IERhdGUubm93KCkgKyBkZWxheTtcbiAgICAgICAgdGhpcy5fcGluZ1RpbWVvdXRUaW1lciA9IHRoaXMuc2V0VGltZW91dEZuKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX29uQ2xvc2UoXCJwaW5nIHRpbWVvdXRcIik7XG4gICAgICAgIH0sIGRlbGF5KTtcbiAgICAgICAgaWYgKHRoaXMub3B0cy5hdXRvVW5yZWYpIHtcbiAgICAgICAgICAgIHRoaXMuX3BpbmdUaW1lb3V0VGltZXIudW5yZWYoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgb24gYGRyYWluYCBldmVudFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfb25EcmFpbigpIHtcbiAgICAgICAgdGhpcy53cml0ZUJ1ZmZlci5zcGxpY2UoMCwgdGhpcy5fcHJldkJ1ZmZlckxlbik7XG4gICAgICAgIC8vIHNldHRpbmcgcHJldkJ1ZmZlckxlbiA9IDAgaXMgdmVyeSBpbXBvcnRhbnRcbiAgICAgICAgLy8gZm9yIGV4YW1wbGUsIHdoZW4gdXBncmFkaW5nLCB1cGdyYWRlIHBhY2tldCBpcyBzZW50IG92ZXIsXG4gICAgICAgIC8vIGFuZCBhIG5vbnplcm8gcHJldkJ1ZmZlckxlbiBjb3VsZCBjYXVzZSBwcm9ibGVtcyBvbiBgZHJhaW5gXG4gICAgICAgIHRoaXMuX3ByZXZCdWZmZXJMZW4gPSAwO1xuICAgICAgICBpZiAoMCA9PT0gdGhpcy53cml0ZUJ1ZmZlci5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwiZHJhaW5cIik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmZsdXNoKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogRmx1c2ggd3JpdGUgYnVmZmVycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgZmx1c2goKSB7XG4gICAgICAgIGlmIChcImNsb3NlZFwiICE9PSB0aGlzLnJlYWR5U3RhdGUgJiZcbiAgICAgICAgICAgIHRoaXMudHJhbnNwb3J0LndyaXRhYmxlICYmXG4gICAgICAgICAgICAhdGhpcy51cGdyYWRpbmcgJiZcbiAgICAgICAgICAgIHRoaXMud3JpdGVCdWZmZXIubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCBwYWNrZXRzID0gdGhpcy5fZ2V0V3JpdGFibGVQYWNrZXRzKCk7XG4gICAgICAgICAgICB0aGlzLnRyYW5zcG9ydC5zZW5kKHBhY2tldHMpO1xuICAgICAgICAgICAgLy8ga2VlcCB0cmFjayBvZiBjdXJyZW50IGxlbmd0aCBvZiB3cml0ZUJ1ZmZlclxuICAgICAgICAgICAgLy8gc3BsaWNlIHdyaXRlQnVmZmVyIGFuZCBjYWxsYmFja0J1ZmZlciBvbiBgZHJhaW5gXG4gICAgICAgICAgICB0aGlzLl9wcmV2QnVmZmVyTGVuID0gcGFja2V0cy5sZW5ndGg7XG4gICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcImZsdXNoXCIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVuc3VyZSB0aGUgZW5jb2RlZCBzaXplIG9mIHRoZSB3cml0ZUJ1ZmZlciBpcyBiZWxvdyB0aGUgbWF4UGF5bG9hZCB2YWx1ZSBzZW50IGJ5IHRoZSBzZXJ2ZXIgKG9ubHkgZm9yIEhUVFBcbiAgICAgKiBsb25nLXBvbGxpbmcpXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9nZXRXcml0YWJsZVBhY2tldHMoKSB7XG4gICAgICAgIGNvbnN0IHNob3VsZENoZWNrUGF5bG9hZFNpemUgPSB0aGlzLl9tYXhQYXlsb2FkICYmXG4gICAgICAgICAgICB0aGlzLnRyYW5zcG9ydC5uYW1lID09PSBcInBvbGxpbmdcIiAmJlxuICAgICAgICAgICAgdGhpcy53cml0ZUJ1ZmZlci5sZW5ndGggPiAxO1xuICAgICAgICBpZiAoIXNob3VsZENoZWNrUGF5bG9hZFNpemUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLndyaXRlQnVmZmVyO1xuICAgICAgICB9XG4gICAgICAgIGxldCBwYXlsb2FkU2l6ZSA9IDE7IC8vIGZpcnN0IHBhY2tldCB0eXBlXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy53cml0ZUJ1ZmZlci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMud3JpdGVCdWZmZXJbaV0uZGF0YTtcbiAgICAgICAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgcGF5bG9hZFNpemUgKz0gYnl0ZUxlbmd0aChkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpID4gMCAmJiBwYXlsb2FkU2l6ZSA+IHRoaXMuX21heFBheWxvYWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy53cml0ZUJ1ZmZlci5zbGljZSgwLCBpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBheWxvYWRTaXplICs9IDI7IC8vIHNlcGFyYXRvciArIHBhY2tldCB0eXBlXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMud3JpdGVCdWZmZXI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoZWNrcyB3aGV0aGVyIHRoZSBoZWFydGJlYXQgdGltZXIgaGFzIGV4cGlyZWQgYnV0IHRoZSBzb2NrZXQgaGFzIG5vdCB5ZXQgYmVlbiBub3RpZmllZC5cbiAgICAgKlxuICAgICAqIE5vdGU6IHRoaXMgbWV0aG9kIGlzIHByaXZhdGUgZm9yIG5vdyBiZWNhdXNlIGl0IGRvZXMgbm90IHJlYWxseSBmaXQgdGhlIFdlYlNvY2tldCBBUEksIGJ1dCBpZiB3ZSBwdXQgaXQgaW4gdGhlXG4gICAgICogYHdyaXRlKClgIG1ldGhvZCB0aGVuIHRoZSBtZXNzYWdlIHdvdWxkIG5vdCBiZSBidWZmZXJlZCBieSB0aGUgU29ja2V0LklPIGNsaWVudC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICAvKiBwcml2YXRlICovIF9oYXNQaW5nRXhwaXJlZCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9waW5nVGltZW91dFRpbWUpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgY29uc3QgaGFzRXhwaXJlZCA9IERhdGUubm93KCkgPiB0aGlzLl9waW5nVGltZW91dFRpbWU7XG4gICAgICAgIGlmIChoYXNFeHBpcmVkKSB7XG4gICAgICAgICAgICB0aGlzLl9waW5nVGltZW91dFRpbWUgPSAwO1xuICAgICAgICAgICAgbmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX29uQ2xvc2UoXCJwaW5nIHRpbWVvdXRcIik7XG4gICAgICAgICAgICB9LCB0aGlzLnNldFRpbWVvdXRGbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhhc0V4cGlyZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlbmRzIGEgbWVzc2FnZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBtc2cgLSBtZXNzYWdlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIC0gY2FsbGJhY2sgZnVuY3Rpb24uXG4gICAgICogQHJldHVybiB7U29ja2V0fSBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgd3JpdGUobXNnLCBvcHRpb25zLCBmbikge1xuICAgICAgICB0aGlzLl9zZW5kUGFja2V0KFwibWVzc2FnZVwiLCBtc2csIG9wdGlvbnMsIGZuKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlbmRzIGEgbWVzc2FnZS4gQWxpYXMgb2Yge0BsaW5rIFNvY2tldCN3cml0ZX0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbXNnIC0gbWVzc2FnZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiAtIGNhbGxiYWNrIGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm4ge1NvY2tldH0gZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIHNlbmQobXNnLCBvcHRpb25zLCBmbikge1xuICAgICAgICB0aGlzLl9zZW5kUGFja2V0KFwibWVzc2FnZVwiLCBtc2csIG9wdGlvbnMsIGZuKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlbmRzIGEgcGFja2V0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGU6IHBhY2tldCB0eXBlLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBkYXRhLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIC0gY2FsbGJhY2sgZnVuY3Rpb24uXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfc2VuZFBhY2tldCh0eXBlLCBkYXRhLCBvcHRpb25zLCBmbikge1xuICAgICAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgZGF0YSkge1xuICAgICAgICAgICAgZm4gPSBkYXRhO1xuICAgICAgICAgICAgZGF0YSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2Ygb3B0aW9ucykge1xuICAgICAgICAgICAgZm4gPSBvcHRpb25zO1xuICAgICAgICAgICAgb3B0aW9ucyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFwiY2xvc2luZ1wiID09PSB0aGlzLnJlYWR5U3RhdGUgfHwgXCJjbG9zZWRcIiA9PT0gdGhpcy5yZWFkeVN0YXRlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICAgIG9wdGlvbnMuY29tcHJlc3MgPSBmYWxzZSAhPT0gb3B0aW9ucy5jb21wcmVzcztcbiAgICAgICAgY29uc3QgcGFja2V0ID0ge1xuICAgICAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgICAgICBvcHRpb25zOiBvcHRpb25zLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcInBhY2tldENyZWF0ZVwiLCBwYWNrZXQpO1xuICAgICAgICB0aGlzLndyaXRlQnVmZmVyLnB1c2gocGFja2V0KTtcbiAgICAgICAgaWYgKGZuKVxuICAgICAgICAgICAgdGhpcy5vbmNlKFwiZmx1c2hcIiwgZm4pO1xuICAgICAgICB0aGlzLmZsdXNoKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsb3NlcyB0aGUgY29ubmVjdGlvbi5cbiAgICAgKi9cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgY29uc3QgY2xvc2UgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9vbkNsb3NlKFwiZm9yY2VkIGNsb3NlXCIpO1xuICAgICAgICAgICAgdGhpcy50cmFuc3BvcnQuY2xvc2UoKTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgY2xlYW51cEFuZENsb3NlID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5vZmYoXCJ1cGdyYWRlXCIsIGNsZWFudXBBbmRDbG9zZSk7XG4gICAgICAgICAgICB0aGlzLm9mZihcInVwZ3JhZGVFcnJvclwiLCBjbGVhbnVwQW5kQ2xvc2UpO1xuICAgICAgICAgICAgY2xvc2UoKTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3Qgd2FpdEZvclVwZ3JhZGUgPSAoKSA9PiB7XG4gICAgICAgICAgICAvLyB3YWl0IGZvciB1cGdyYWRlIHRvIGZpbmlzaCBzaW5jZSB3ZSBjYW4ndCBzZW5kIHBhY2tldHMgd2hpbGUgcGF1c2luZyBhIHRyYW5zcG9ydFxuICAgICAgICAgICAgdGhpcy5vbmNlKFwidXBncmFkZVwiLCBjbGVhbnVwQW5kQ2xvc2UpO1xuICAgICAgICAgICAgdGhpcy5vbmNlKFwidXBncmFkZUVycm9yXCIsIGNsZWFudXBBbmRDbG9zZSk7XG4gICAgICAgIH07XG4gICAgICAgIGlmIChcIm9wZW5pbmdcIiA9PT0gdGhpcy5yZWFkeVN0YXRlIHx8IFwib3BlblwiID09PSB0aGlzLnJlYWR5U3RhdGUpIHtcbiAgICAgICAgICAgIHRoaXMucmVhZHlTdGF0ZSA9IFwiY2xvc2luZ1wiO1xuICAgICAgICAgICAgaWYgKHRoaXMud3JpdGVCdWZmZXIubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbmNlKFwiZHJhaW5cIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy51cGdyYWRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhaXRGb3JVcGdyYWRlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLnVwZ3JhZGluZykge1xuICAgICAgICAgICAgICAgIHdhaXRGb3JVcGdyYWRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjbG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgdXBvbiB0cmFuc3BvcnQgZXJyb3JcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX29uRXJyb3IoZXJyKSB7XG4gICAgICAgIFNvY2tldFdpdGhvdXRVcGdyYWRlLnByaW9yV2Vic29ja2V0U3VjY2VzcyA9IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5vcHRzLnRyeUFsbFRyYW5zcG9ydHMgJiZcbiAgICAgICAgICAgIHRoaXMudHJhbnNwb3J0cy5sZW5ndGggPiAxICYmXG4gICAgICAgICAgICB0aGlzLnJlYWR5U3RhdGUgPT09IFwib3BlbmluZ1wiKSB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zcG9ydHMuc2hpZnQoKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9vcGVuKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJlcnJvclwiLCBlcnIpO1xuICAgICAgICB0aGlzLl9vbkNsb3NlKFwidHJhbnNwb3J0IGVycm9yXCIsIGVycik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB1cG9uIHRyYW5zcG9ydCBjbG9zZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX29uQ2xvc2UocmVhc29uLCBkZXNjcmlwdGlvbikge1xuICAgICAgICBpZiAoXCJvcGVuaW5nXCIgPT09IHRoaXMucmVhZHlTdGF0ZSB8fFxuICAgICAgICAgICAgXCJvcGVuXCIgPT09IHRoaXMucmVhZHlTdGF0ZSB8fFxuICAgICAgICAgICAgXCJjbG9zaW5nXCIgPT09IHRoaXMucmVhZHlTdGF0ZSkge1xuICAgICAgICAgICAgLy8gY2xlYXIgdGltZXJzXG4gICAgICAgICAgICB0aGlzLmNsZWFyVGltZW91dEZuKHRoaXMuX3BpbmdUaW1lb3V0VGltZXIpO1xuICAgICAgICAgICAgLy8gc3RvcCBldmVudCBmcm9tIGZpcmluZyBhZ2FpbiBmb3IgdHJhbnNwb3J0XG4gICAgICAgICAgICB0aGlzLnRyYW5zcG9ydC5yZW1vdmVBbGxMaXN0ZW5lcnMoXCJjbG9zZVwiKTtcbiAgICAgICAgICAgIC8vIGVuc3VyZSB0cmFuc3BvcnQgd29uJ3Qgc3RheSBvcGVuXG4gICAgICAgICAgICB0aGlzLnRyYW5zcG9ydC5jbG9zZSgpO1xuICAgICAgICAgICAgLy8gaWdub3JlIGZ1cnRoZXIgdHJhbnNwb3J0IGNvbW11bmljYXRpb25cbiAgICAgICAgICAgIHRoaXMudHJhbnNwb3J0LnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgICAgICAgICAgaWYgKHdpdGhFdmVudExpc3RlbmVycykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9iZWZvcmV1bmxvYWRFdmVudExpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXIoXCJiZWZvcmV1bmxvYWRcIiwgdGhpcy5fYmVmb3JldW5sb2FkRXZlbnRMaXN0ZW5lciwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fb2ZmbGluZUV2ZW50TGlzdGVuZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaSA9IE9GRkxJTkVfRVZFTlRfTElTVEVORVJTLmluZGV4T2YodGhpcy5fb2ZmbGluZUV2ZW50TGlzdGVuZXIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIE9GRkxJTkVfRVZFTlRfTElTVEVORVJTLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHNldCByZWFkeSBzdGF0ZVxuICAgICAgICAgICAgdGhpcy5yZWFkeVN0YXRlID0gXCJjbG9zZWRcIjtcbiAgICAgICAgICAgIC8vIGNsZWFyIHNlc3Npb24gaWRcbiAgICAgICAgICAgIHRoaXMuaWQgPSBudWxsO1xuICAgICAgICAgICAgLy8gZW1pdCBjbG9zZSBldmVudFxuICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJjbG9zZVwiLCByZWFzb24sIGRlc2NyaXB0aW9uKTtcbiAgICAgICAgICAgIC8vIGNsZWFuIGJ1ZmZlcnMgYWZ0ZXIsIHNvIHVzZXJzIGNhbiBzdGlsbFxuICAgICAgICAgICAgLy8gZ3JhYiB0aGUgYnVmZmVycyBvbiBgY2xvc2VgIGV2ZW50XG4gICAgICAgICAgICB0aGlzLndyaXRlQnVmZmVyID0gW107XG4gICAgICAgICAgICB0aGlzLl9wcmV2QnVmZmVyTGVuID0gMDtcbiAgICAgICAgfVxuICAgIH1cbn1cblNvY2tldFdpdGhvdXRVcGdyYWRlLnByb3RvY29sID0gcHJvdG9jb2w7XG4vKipcbiAqIFRoaXMgY2xhc3MgcHJvdmlkZXMgYSBXZWJTb2NrZXQtbGlrZSBpbnRlcmZhY2UgdG8gY29ubmVjdCB0byBhbiBFbmdpbmUuSU8gc2VydmVyLiBUaGUgY29ubmVjdGlvbiB3aWxsIGJlIGVzdGFibGlzaGVkXG4gKiB3aXRoIG9uZSBvZiB0aGUgYXZhaWxhYmxlIGxvdy1sZXZlbCB0cmFuc3BvcnRzLCBsaWtlIEhUVFAgbG9uZy1wb2xsaW5nLCBXZWJTb2NrZXQgb3IgV2ViVHJhbnNwb3J0LlxuICpcbiAqIFRoaXMgY2xhc3MgY29tZXMgd2l0aCBhbiB1cGdyYWRlIG1lY2hhbmlzbSwgd2hpY2ggbWVhbnMgdGhhdCBvbmNlIHRoZSBjb25uZWN0aW9uIGlzIGVzdGFibGlzaGVkIHdpdGggdGhlIGZpcnN0XG4gKiBsb3ctbGV2ZWwgdHJhbnNwb3J0LCBpdCB3aWxsIHRyeSB0byB1cGdyYWRlIHRvIGEgYmV0dGVyIHRyYW5zcG9ydC5cbiAqXG4gKiBJbiBvcmRlciB0byBhbGxvdyB0cmVlLXNoYWtpbmcsIHRoZXJlIGFyZSBubyB0cmFuc3BvcnRzIGluY2x1ZGVkLCB0aGF0J3Mgd2h5IHRoZSBgdHJhbnNwb3J0c2Agb3B0aW9uIGlzIG1hbmRhdG9yeS5cbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgU29ja2V0V2l0aFVwZ3JhZGUsIFdlYlNvY2tldCB9IGZyb20gXCJlbmdpbmUuaW8tY2xpZW50XCI7XG4gKlxuICogY29uc3Qgc29ja2V0ID0gbmV3IFNvY2tldFdpdGhVcGdyYWRlKHtcbiAqICAgdHJhbnNwb3J0czogW1dlYlNvY2tldF1cbiAqIH0pO1xuICpcbiAqIHNvY2tldC5vbihcIm9wZW5cIiwgKCkgPT4ge1xuICogICBzb2NrZXQuc2VuZChcImhlbGxvXCIpO1xuICogfSk7XG4gKlxuICogQHNlZSBTb2NrZXRXaXRob3V0VXBncmFkZVxuICogQHNlZSBTb2NrZXRcbiAqL1xuZXhwb3J0IGNsYXNzIFNvY2tldFdpdGhVcGdyYWRlIGV4dGVuZHMgU29ja2V0V2l0aG91dFVwZ3JhZGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLl91cGdyYWRlcyA9IFtdO1xuICAgIH1cbiAgICBvbk9wZW4oKSB7XG4gICAgICAgIHN1cGVyLm9uT3BlbigpO1xuICAgICAgICBpZiAoXCJvcGVuXCIgPT09IHRoaXMucmVhZHlTdGF0ZSAmJiB0aGlzLm9wdHMudXBncmFkZSkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl91cGdyYWRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHRoaXMuX3Byb2JlKHRoaXMuX3VwZ3JhZGVzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBQcm9iZXMgYSB0cmFuc3BvcnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSAtIHRyYW5zcG9ydCBuYW1lXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfcHJvYmUobmFtZSkge1xuICAgICAgICBsZXQgdHJhbnNwb3J0ID0gdGhpcy5jcmVhdGVUcmFuc3BvcnQobmFtZSk7XG4gICAgICAgIGxldCBmYWlsZWQgPSBmYWxzZTtcbiAgICAgICAgU29ja2V0V2l0aG91dFVwZ3JhZGUucHJpb3JXZWJzb2NrZXRTdWNjZXNzID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IG9uVHJhbnNwb3J0T3BlbiA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmIChmYWlsZWQpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgdHJhbnNwb3J0LnNlbmQoW3sgdHlwZTogXCJwaW5nXCIsIGRhdGE6IFwicHJvYmVcIiB9XSk7XG4gICAgICAgICAgICB0cmFuc3BvcnQub25jZShcInBhY2tldFwiLCAobXNnKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGZhaWxlZClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGlmIChcInBvbmdcIiA9PT0gbXNnLnR5cGUgJiYgXCJwcm9iZVwiID09PSBtc2cuZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZ3JhZGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwidXBncmFkaW5nXCIsIHRyYW5zcG9ydCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdHJhbnNwb3J0KVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICBTb2NrZXRXaXRob3V0VXBncmFkZS5wcmlvcldlYnNvY2tldFN1Y2Nlc3MgPVxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ3ZWJzb2NrZXRcIiA9PT0gdHJhbnNwb3J0Lm5hbWU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNwb3J0LnBhdXNlKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmYWlsZWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFwiY2xvc2VkXCIgPT09IHRoaXMucmVhZHlTdGF0ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhbnVwKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFRyYW5zcG9ydCh0cmFuc3BvcnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNwb3J0LnNlbmQoW3sgdHlwZTogXCJ1cGdyYWRlXCIgfV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJ1cGdyYWRlXCIsIHRyYW5zcG9ydCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc3BvcnQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGdyYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmx1c2goKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlcnIgPSBuZXcgRXJyb3IoXCJwcm9iZSBlcnJvclwiKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgICAgICBlcnIudHJhbnNwb3J0ID0gdHJhbnNwb3J0Lm5hbWU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwidXBncmFkZUVycm9yXCIsIGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIGZ1bmN0aW9uIGZyZWV6ZVRyYW5zcG9ydCgpIHtcbiAgICAgICAgICAgIGlmIChmYWlsZWQpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgLy8gQW55IGNhbGxiYWNrIGNhbGxlZCBieSB0cmFuc3BvcnQgc2hvdWxkIGJlIGlnbm9yZWQgc2luY2Ugbm93XG4gICAgICAgICAgICBmYWlsZWQgPSB0cnVlO1xuICAgICAgICAgICAgY2xlYW51cCgpO1xuICAgICAgICAgICAgdHJhbnNwb3J0LmNsb3NlKCk7XG4gICAgICAgICAgICB0cmFuc3BvcnQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIC8vIEhhbmRsZSBhbnkgZXJyb3IgdGhhdCBoYXBwZW5zIHdoaWxlIHByb2JpbmdcbiAgICAgICAgY29uc3Qgb25lcnJvciA9IChlcnIpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKFwicHJvYmUgZXJyb3I6IFwiICsgZXJyKTtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIGVycm9yLnRyYW5zcG9ydCA9IHRyYW5zcG9ydC5uYW1lO1xuICAgICAgICAgICAgZnJlZXplVHJhbnNwb3J0KCk7XG4gICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcInVwZ3JhZGVFcnJvclwiLCBlcnJvcik7XG4gICAgICAgIH07XG4gICAgICAgIGZ1bmN0aW9uIG9uVHJhbnNwb3J0Q2xvc2UoKSB7XG4gICAgICAgICAgICBvbmVycm9yKFwidHJhbnNwb3J0IGNsb3NlZFwiKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBXaGVuIHRoZSBzb2NrZXQgaXMgY2xvc2VkIHdoaWxlIHdlJ3JlIHByb2JpbmdcbiAgICAgICAgZnVuY3Rpb24gb25jbG9zZSgpIHtcbiAgICAgICAgICAgIG9uZXJyb3IoXCJzb2NrZXQgY2xvc2VkXCIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFdoZW4gdGhlIHNvY2tldCBpcyB1cGdyYWRlZCB3aGlsZSB3ZSdyZSBwcm9iaW5nXG4gICAgICAgIGZ1bmN0aW9uIG9udXBncmFkZSh0bykge1xuICAgICAgICAgICAgaWYgKHRyYW5zcG9ydCAmJiB0by5uYW1lICE9PSB0cmFuc3BvcnQubmFtZSkge1xuICAgICAgICAgICAgICAgIGZyZWV6ZVRyYW5zcG9ydCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFJlbW92ZSBhbGwgbGlzdGVuZXJzIG9uIHRoZSB0cmFuc3BvcnQgYW5kIG9uIHNlbGZcbiAgICAgICAgY29uc3QgY2xlYW51cCA9ICgpID0+IHtcbiAgICAgICAgICAgIHRyYW5zcG9ydC5yZW1vdmVMaXN0ZW5lcihcIm9wZW5cIiwgb25UcmFuc3BvcnRPcGVuKTtcbiAgICAgICAgICAgIHRyYW5zcG9ydC5yZW1vdmVMaXN0ZW5lcihcImVycm9yXCIsIG9uZXJyb3IpO1xuICAgICAgICAgICAgdHJhbnNwb3J0LnJlbW92ZUxpc3RlbmVyKFwiY2xvc2VcIiwgb25UcmFuc3BvcnRDbG9zZSk7XG4gICAgICAgICAgICB0aGlzLm9mZihcImNsb3NlXCIsIG9uY2xvc2UpO1xuICAgICAgICAgICAgdGhpcy5vZmYoXCJ1cGdyYWRpbmdcIiwgb251cGdyYWRlKTtcbiAgICAgICAgfTtcbiAgICAgICAgdHJhbnNwb3J0Lm9uY2UoXCJvcGVuXCIsIG9uVHJhbnNwb3J0T3Blbik7XG4gICAgICAgIHRyYW5zcG9ydC5vbmNlKFwiZXJyb3JcIiwgb25lcnJvcik7XG4gICAgICAgIHRyYW5zcG9ydC5vbmNlKFwiY2xvc2VcIiwgb25UcmFuc3BvcnRDbG9zZSk7XG4gICAgICAgIHRoaXMub25jZShcImNsb3NlXCIsIG9uY2xvc2UpO1xuICAgICAgICB0aGlzLm9uY2UoXCJ1cGdyYWRpbmdcIiwgb251cGdyYWRlKTtcbiAgICAgICAgaWYgKHRoaXMuX3VwZ3JhZGVzLmluZGV4T2YoXCJ3ZWJ0cmFuc3BvcnRcIikgIT09IC0xICYmXG4gICAgICAgICAgICBuYW1lICE9PSBcIndlYnRyYW5zcG9ydFwiKSB7XG4gICAgICAgICAgICAvLyBmYXZvciBXZWJUcmFuc3BvcnRcbiAgICAgICAgICAgIHRoaXMuc2V0VGltZW91dEZuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWZhaWxlZCkge1xuICAgICAgICAgICAgICAgICAgICB0cmFuc3BvcnQub3BlbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIDIwMCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0cmFuc3BvcnQub3BlbigpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9uSGFuZHNoYWtlKGRhdGEpIHtcbiAgICAgICAgdGhpcy5fdXBncmFkZXMgPSB0aGlzLl9maWx0ZXJVcGdyYWRlcyhkYXRhLnVwZ3JhZGVzKTtcbiAgICAgICAgc3VwZXIub25IYW5kc2hha2UoZGF0YSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZpbHRlcnMgdXBncmFkZXMsIHJldHVybmluZyBvbmx5IHRob3NlIG1hdGNoaW5nIGNsaWVudCB0cmFuc3BvcnRzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtBcnJheX0gdXBncmFkZXMgLSBzZXJ2ZXIgdXBncmFkZXNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9maWx0ZXJVcGdyYWRlcyh1cGdyYWRlcykge1xuICAgICAgICBjb25zdCBmaWx0ZXJlZFVwZ3JhZGVzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdXBncmFkZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICh+dGhpcy50cmFuc3BvcnRzLmluZGV4T2YodXBncmFkZXNbaV0pKVxuICAgICAgICAgICAgICAgIGZpbHRlcmVkVXBncmFkZXMucHVzaCh1cGdyYWRlc1tpXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZpbHRlcmVkVXBncmFkZXM7XG4gICAgfVxufVxuLyoqXG4gKiBUaGlzIGNsYXNzIHByb3ZpZGVzIGEgV2ViU29ja2V0LWxpa2UgaW50ZXJmYWNlIHRvIGNvbm5lY3QgdG8gYW4gRW5naW5lLklPIHNlcnZlci4gVGhlIGNvbm5lY3Rpb24gd2lsbCBiZSBlc3RhYmxpc2hlZFxuICogd2l0aCBvbmUgb2YgdGhlIGF2YWlsYWJsZSBsb3ctbGV2ZWwgdHJhbnNwb3J0cywgbGlrZSBIVFRQIGxvbmctcG9sbGluZywgV2ViU29ja2V0IG9yIFdlYlRyYW5zcG9ydC5cbiAqXG4gKiBUaGlzIGNsYXNzIGNvbWVzIHdpdGggYW4gdXBncmFkZSBtZWNoYW5pc20sIHdoaWNoIG1lYW5zIHRoYXQgb25jZSB0aGUgY29ubmVjdGlvbiBpcyBlc3RhYmxpc2hlZCB3aXRoIHRoZSBmaXJzdFxuICogbG93LWxldmVsIHRyYW5zcG9ydCwgaXQgd2lsbCB0cnkgdG8gdXBncmFkZSB0byBhIGJldHRlciB0cmFuc3BvcnQuXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IFNvY2tldCB9IGZyb20gXCJlbmdpbmUuaW8tY2xpZW50XCI7XG4gKlxuICogY29uc3Qgc29ja2V0ID0gbmV3IFNvY2tldCgpO1xuICpcbiAqIHNvY2tldC5vbihcIm9wZW5cIiwgKCkgPT4ge1xuICogICBzb2NrZXQuc2VuZChcImhlbGxvXCIpO1xuICogfSk7XG4gKlxuICogQHNlZSBTb2NrZXRXaXRob3V0VXBncmFkZVxuICogQHNlZSBTb2NrZXRXaXRoVXBncmFkZVxuICovXG5leHBvcnQgY2xhc3MgU29ja2V0IGV4dGVuZHMgU29ja2V0V2l0aFVwZ3JhZGUge1xuICAgIGNvbnN0cnVjdG9yKHVyaSwgb3B0cyA9IHt9KSB7XG4gICAgICAgIGNvbnN0IG8gPSB0eXBlb2YgdXJpID09PSBcIm9iamVjdFwiID8gdXJpIDogb3B0cztcbiAgICAgICAgaWYgKCFvLnRyYW5zcG9ydHMgfHxcbiAgICAgICAgICAgIChvLnRyYW5zcG9ydHMgJiYgdHlwZW9mIG8udHJhbnNwb3J0c1swXSA9PT0gXCJzdHJpbmdcIikpIHtcbiAgICAgICAgICAgIG8udHJhbnNwb3J0cyA9IChvLnRyYW5zcG9ydHMgfHwgW1wicG9sbGluZ1wiLCBcIndlYnNvY2tldFwiLCBcIndlYnRyYW5zcG9ydFwiXSlcbiAgICAgICAgICAgICAgICAubWFwKCh0cmFuc3BvcnROYW1lKSA9PiBERUZBVUxUX1RSQU5TUE9SVFNbdHJhbnNwb3J0TmFtZV0pXG4gICAgICAgICAgICAgICAgLmZpbHRlcigodCkgPT4gISF0KTtcbiAgICAgICAgfVxuICAgICAgICBzdXBlcih1cmksIG8pO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/engine.io-client/build/esm/socket.js\n\n}");

/***/ },

/***/ "./node_modules/engine.io-client/build/esm/transport.js"
/*!**************************************************************!*\
  !*** ./node_modules/engine.io-client/build/esm/transport.js ***!
  \**************************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Transport: () => (/* binding */ Transport),\n/* harmony export */   TransportError: () => (/* binding */ TransportError)\n/* harmony export */ });\n/* harmony import */ var engine_io_parser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine.io-parser */ \"./node_modules/engine.io-parser/build/esm/index.js\");\n/* harmony import */ var _socket_io_component_emitter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @socket.io/component-emitter */ \"./node_modules/@socket.io/component-emitter/lib/esm/index.js\");\n/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./util.js */ \"./node_modules/engine.io-client/build/esm/util.js\");\n/* harmony import */ var _contrib_parseqs_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./contrib/parseqs.js */ \"./node_modules/engine.io-client/build/esm/contrib/parseqs.js\");\n\n\n\n\nclass TransportError extends Error {\n    constructor(reason, description, context) {\n        super(reason);\n        this.description = description;\n        this.context = context;\n        this.type = \"TransportError\";\n    }\n}\nclass Transport extends _socket_io_component_emitter__WEBPACK_IMPORTED_MODULE_1__.Emitter {\n    /**\n     * Transport abstract constructor.\n     *\n     * @param {Object} opts - options\n     * @protected\n     */\n    constructor(opts) {\n        super();\n        this.writable = false;\n        (0,_util_js__WEBPACK_IMPORTED_MODULE_2__.installTimerFunctions)(this, opts);\n        this.opts = opts;\n        this.query = opts.query;\n        this.socket = opts.socket;\n        this.supportsBinary = !opts.forceBase64;\n    }\n    /**\n     * Emits an error.\n     *\n     * @param {String} reason\n     * @param description\n     * @param context - the error context\n     * @return {Transport} for chaining\n     * @protected\n     */\n    onError(reason, description, context) {\n        super.emitReserved(\"error\", new TransportError(reason, description, context));\n        return this;\n    }\n    /**\n     * Opens the transport.\n     */\n    open() {\n        this.readyState = \"opening\";\n        this.doOpen();\n        return this;\n    }\n    /**\n     * Closes the transport.\n     */\n    close() {\n        if (this.readyState === \"opening\" || this.readyState === \"open\") {\n            this.doClose();\n            this.onClose();\n        }\n        return this;\n    }\n    /**\n     * Sends multiple packets.\n     *\n     * @param {Array} packets\n     */\n    send(packets) {\n        if (this.readyState === \"open\") {\n            this.write(packets);\n        }\n        else {\n            // this might happen if the transport was silently closed in the beforeunload event handler\n        }\n    }\n    /**\n     * Called upon open\n     *\n     * @protected\n     */\n    onOpen() {\n        this.readyState = \"open\";\n        this.writable = true;\n        super.emitReserved(\"open\");\n    }\n    /**\n     * Called with data.\n     *\n     * @param {String} data\n     * @protected\n     */\n    onData(data) {\n        const packet = (0,engine_io_parser__WEBPACK_IMPORTED_MODULE_0__.decodePacket)(data, this.socket.binaryType);\n        this.onPacket(packet);\n    }\n    /**\n     * Called with a decoded packet.\n     *\n     * @protected\n     */\n    onPacket(packet) {\n        super.emitReserved(\"packet\", packet);\n    }\n    /**\n     * Called upon close.\n     *\n     * @protected\n     */\n    onClose(details) {\n        this.readyState = \"closed\";\n        super.emitReserved(\"close\", details);\n    }\n    /**\n     * Pauses the transport, in order not to lose packets during an upgrade.\n     *\n     * @param onPause\n     */\n    pause(onPause) { }\n    createUri(schema, query = {}) {\n        return (schema +\n            \"://\" +\n            this._hostname() +\n            this._port() +\n            this.opts.path +\n            this._query(query));\n    }\n    _hostname() {\n        const hostname = this.opts.hostname;\n        return hostname.indexOf(\":\") === -1 ? hostname : \"[\" + hostname + \"]\";\n    }\n    _port() {\n        if (this.opts.port &&\n            ((this.opts.secure && Number(this.opts.port) !== 443) ||\n                (!this.opts.secure && Number(this.opts.port) !== 80))) {\n            return \":\" + this.opts.port;\n        }\n        else {\n            return \"\";\n        }\n    }\n    _query(query) {\n        const encodedQuery = (0,_contrib_parseqs_js__WEBPACK_IMPORTED_MODULE_3__.encode)(query);\n        return encodedQuery.length ? \"?\" + encodedQuery : \"\";\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9idWlsZC9lc20vdHJhbnNwb3J0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFnRDtBQUNPO0FBQ0w7QUFDSjtBQUN2QztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sd0JBQXdCLGlFQUFPO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSwrREFBcUI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QjtBQUNBO0FBQ0EsZ0JBQWdCLFdBQVc7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxPQUFPO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qiw4REFBWTtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QiwyREFBTTtBQUNuQztBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZXRyb2FwcC1jbGllbnQvLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9idWlsZC9lc20vdHJhbnNwb3J0LmpzPzRkNWUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZGVjb2RlUGFja2V0IH0gZnJvbSBcImVuZ2luZS5pby1wYXJzZXJcIjtcbmltcG9ydCB7IEVtaXR0ZXIgfSBmcm9tIFwiQHNvY2tldC5pby9jb21wb25lbnQtZW1pdHRlclwiO1xuaW1wb3J0IHsgaW5zdGFsbFRpbWVyRnVuY3Rpb25zIH0gZnJvbSBcIi4vdXRpbC5qc1wiO1xuaW1wb3J0IHsgZW5jb2RlIH0gZnJvbSBcIi4vY29udHJpYi9wYXJzZXFzLmpzXCI7XG5leHBvcnQgY2xhc3MgVHJhbnNwb3J0RXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3IocmVhc29uLCBkZXNjcmlwdGlvbiwgY29udGV4dCkge1xuICAgICAgICBzdXBlcihyZWFzb24pO1xuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMudHlwZSA9IFwiVHJhbnNwb3J0RXJyb3JcIjtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgVHJhbnNwb3J0IGV4dGVuZHMgRW1pdHRlciB7XG4gICAgLyoqXG4gICAgICogVHJhbnNwb3J0IGFic3RyYWN0IGNvbnN0cnVjdG9yLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdHMgLSBvcHRpb25zXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy53cml0YWJsZSA9IGZhbHNlO1xuICAgICAgICBpbnN0YWxsVGltZXJGdW5jdGlvbnModGhpcywgb3B0cyk7XG4gICAgICAgIHRoaXMub3B0cyA9IG9wdHM7XG4gICAgICAgIHRoaXMucXVlcnkgPSBvcHRzLnF1ZXJ5O1xuICAgICAgICB0aGlzLnNvY2tldCA9IG9wdHMuc29ja2V0O1xuICAgICAgICB0aGlzLnN1cHBvcnRzQmluYXJ5ID0gIW9wdHMuZm9yY2VCYXNlNjQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVtaXRzIGFuIGVycm9yLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHJlYXNvblxuICAgICAqIEBwYXJhbSBkZXNjcmlwdGlvblxuICAgICAqIEBwYXJhbSBjb250ZXh0IC0gdGhlIGVycm9yIGNvbnRleHRcbiAgICAgKiBAcmV0dXJuIHtUcmFuc3BvcnR9IGZvciBjaGFpbmluZ1xuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBvbkVycm9yKHJlYXNvbiwgZGVzY3JpcHRpb24sIGNvbnRleHQpIHtcbiAgICAgICAgc3VwZXIuZW1pdFJlc2VydmVkKFwiZXJyb3JcIiwgbmV3IFRyYW5zcG9ydEVycm9yKHJlYXNvbiwgZGVzY3JpcHRpb24sIGNvbnRleHQpKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE9wZW5zIHRoZSB0cmFuc3BvcnQuXG4gICAgICovXG4gICAgb3BlbigpIHtcbiAgICAgICAgdGhpcy5yZWFkeVN0YXRlID0gXCJvcGVuaW5nXCI7XG4gICAgICAgIHRoaXMuZG9PcGVuKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbG9zZXMgdGhlIHRyYW5zcG9ydC5cbiAgICAgKi9cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PT0gXCJvcGVuaW5nXCIgfHwgdGhpcy5yZWFkeVN0YXRlID09PSBcIm9wZW5cIikge1xuICAgICAgICAgICAgdGhpcy5kb0Nsb3NlKCk7XG4gICAgICAgICAgICB0aGlzLm9uQ2xvc2UoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VuZHMgbXVsdGlwbGUgcGFja2V0cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhY2tldHNcbiAgICAgKi9cbiAgICBzZW5kKHBhY2tldHMpIHtcbiAgICAgICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PT0gXCJvcGVuXCIpIHtcbiAgICAgICAgICAgIHRoaXMud3JpdGUocGFja2V0cyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyB0aGlzIG1pZ2h0IGhhcHBlbiBpZiB0aGUgdHJhbnNwb3J0IHdhcyBzaWxlbnRseSBjbG9zZWQgaW4gdGhlIGJlZm9yZXVubG9hZCBldmVudCBoYW5kbGVyXG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHVwb24gb3BlblxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIG9uT3BlbigpIHtcbiAgICAgICAgdGhpcy5yZWFkeVN0YXRlID0gXCJvcGVuXCI7XG4gICAgICAgIHRoaXMud3JpdGFibGUgPSB0cnVlO1xuICAgICAgICBzdXBlci5lbWl0UmVzZXJ2ZWQoXCJvcGVuXCIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2l0aCBkYXRhLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGRhdGFcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgb25EYXRhKGRhdGEpIHtcbiAgICAgICAgY29uc3QgcGFja2V0ID0gZGVjb2RlUGFja2V0KGRhdGEsIHRoaXMuc29ja2V0LmJpbmFyeVR5cGUpO1xuICAgICAgICB0aGlzLm9uUGFja2V0KHBhY2tldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aXRoIGEgZGVjb2RlZCBwYWNrZXQuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgb25QYWNrZXQocGFja2V0KSB7XG4gICAgICAgIHN1cGVyLmVtaXRSZXNlcnZlZChcInBhY2tldFwiLCBwYWNrZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgdXBvbiBjbG9zZS5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBvbkNsb3NlKGRldGFpbHMpIHtcbiAgICAgICAgdGhpcy5yZWFkeVN0YXRlID0gXCJjbG9zZWRcIjtcbiAgICAgICAgc3VwZXIuZW1pdFJlc2VydmVkKFwiY2xvc2VcIiwgZGV0YWlscyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBhdXNlcyB0aGUgdHJhbnNwb3J0LCBpbiBvcmRlciBub3QgdG8gbG9zZSBwYWNrZXRzIGR1cmluZyBhbiB1cGdyYWRlLlxuICAgICAqXG4gICAgICogQHBhcmFtIG9uUGF1c2VcbiAgICAgKi9cbiAgICBwYXVzZShvblBhdXNlKSB7IH1cbiAgICBjcmVhdGVVcmkoc2NoZW1hLCBxdWVyeSA9IHt9KSB7XG4gICAgICAgIHJldHVybiAoc2NoZW1hICtcbiAgICAgICAgICAgIFwiOi8vXCIgK1xuICAgICAgICAgICAgdGhpcy5faG9zdG5hbWUoKSArXG4gICAgICAgICAgICB0aGlzLl9wb3J0KCkgK1xuICAgICAgICAgICAgdGhpcy5vcHRzLnBhdGggK1xuICAgICAgICAgICAgdGhpcy5fcXVlcnkocXVlcnkpKTtcbiAgICB9XG4gICAgX2hvc3RuYW1lKCkge1xuICAgICAgICBjb25zdCBob3N0bmFtZSA9IHRoaXMub3B0cy5ob3N0bmFtZTtcbiAgICAgICAgcmV0dXJuIGhvc3RuYW1lLmluZGV4T2YoXCI6XCIpID09PSAtMSA/IGhvc3RuYW1lIDogXCJbXCIgKyBob3N0bmFtZSArIFwiXVwiO1xuICAgIH1cbiAgICBfcG9ydCgpIHtcbiAgICAgICAgaWYgKHRoaXMub3B0cy5wb3J0ICYmXG4gICAgICAgICAgICAoKHRoaXMub3B0cy5zZWN1cmUgJiYgTnVtYmVyKHRoaXMub3B0cy5wb3J0KSAhPT0gNDQzKSB8fFxuICAgICAgICAgICAgICAgICghdGhpcy5vcHRzLnNlY3VyZSAmJiBOdW1iZXIodGhpcy5vcHRzLnBvcnQpICE9PSA4MCkpKSB7XG4gICAgICAgICAgICByZXR1cm4gXCI6XCIgKyB0aGlzLm9wdHMucG9ydDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9xdWVyeShxdWVyeSkge1xuICAgICAgICBjb25zdCBlbmNvZGVkUXVlcnkgPSBlbmNvZGUocXVlcnkpO1xuICAgICAgICByZXR1cm4gZW5jb2RlZFF1ZXJ5Lmxlbmd0aCA/IFwiP1wiICsgZW5jb2RlZFF1ZXJ5IDogXCJcIjtcbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/engine.io-client/build/esm/transport.js\n\n}");

/***/ },

/***/ "./node_modules/engine.io-client/build/esm/transports/index.js"
/*!*********************************************************************!*\
  !*** ./node_modules/engine.io-client/build/esm/transports/index.js ***!
  \*********************************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   transports: () => (/* binding */ transports)\n/* harmony export */ });\n/* harmony import */ var _polling_xhr_node_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./polling-xhr.node.js */ \"./node_modules/engine.io-client/build/esm/transports/polling-xhr.js\");\n/* harmony import */ var _websocket_node_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./websocket.node.js */ \"./node_modules/engine.io-client/build/esm/transports/websocket.js\");\n/* harmony import */ var _webtransport_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./webtransport.js */ \"./node_modules/engine.io-client/build/esm/transports/webtransport.js\");\n\n\n\nconst transports = {\n    websocket: _websocket_node_js__WEBPACK_IMPORTED_MODULE_1__.WS,\n    webtransport: _webtransport_js__WEBPACK_IMPORTED_MODULE_2__.WT,\n    polling: _polling_xhr_node_js__WEBPACK_IMPORTED_MODULE_0__.XHR,\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9idWlsZC9lc20vdHJhbnNwb3J0cy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQTRDO0FBQ0g7QUFDRjtBQUNoQztBQUNQLGVBQWUsa0RBQUU7QUFDakIsa0JBQWtCLGdEQUFFO0FBQ3BCLGFBQWEscURBQUc7QUFDaEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZXRyb2FwcC1jbGllbnQvLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9idWlsZC9lc20vdHJhbnNwb3J0cy9pbmRleC5qcz8yZjM5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFhIUiB9IGZyb20gXCIuL3BvbGxpbmcteGhyLm5vZGUuanNcIjtcbmltcG9ydCB7IFdTIH0gZnJvbSBcIi4vd2Vic29ja2V0Lm5vZGUuanNcIjtcbmltcG9ydCB7IFdUIH0gZnJvbSBcIi4vd2VidHJhbnNwb3J0LmpzXCI7XG5leHBvcnQgY29uc3QgdHJhbnNwb3J0cyA9IHtcbiAgICB3ZWJzb2NrZXQ6IFdTLFxuICAgIHdlYnRyYW5zcG9ydDogV1QsXG4gICAgcG9sbGluZzogWEhSLFxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/engine.io-client/build/esm/transports/index.js\n\n}");

/***/ },

/***/ "./node_modules/engine.io-client/build/esm/transports/polling-fetch.js"
/*!*****************************************************************************!*\
  !*** ./node_modules/engine.io-client/build/esm/transports/polling-fetch.js ***!
  \*****************************************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Fetch: () => (/* binding */ Fetch)\n/* harmony export */ });\n/* harmony import */ var _polling_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./polling.js */ \"./node_modules/engine.io-client/build/esm/transports/polling.js\");\n\n/**\n * HTTP long-polling based on the built-in `fetch()` method.\n *\n * Usage: browser, Node.js (since v18), Deno, Bun\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/fetch\n * @see https://caniuse.com/fetch\n * @see https://nodejs.org/api/globals.html#fetch\n */\nclass Fetch extends _polling_js__WEBPACK_IMPORTED_MODULE_0__.Polling {\n    doPoll() {\n        this._fetch()\n            .then((res) => {\n            if (!res.ok) {\n                return this.onError(\"fetch read error\", res.status, res);\n            }\n            res.text().then((data) => this.onData(data));\n        })\n            .catch((err) => {\n            this.onError(\"fetch read error\", err);\n        });\n    }\n    doWrite(data, callback) {\n        this._fetch(data)\n            .then((res) => {\n            if (!res.ok) {\n                return this.onError(\"fetch write error\", res.status, res);\n            }\n            callback();\n        })\n            .catch((err) => {\n            this.onError(\"fetch write error\", err);\n        });\n    }\n    _fetch(data) {\n        var _a;\n        const isPost = data !== undefined;\n        const headers = new Headers(this.opts.extraHeaders);\n        if (isPost) {\n            headers.set(\"content-type\", \"text/plain;charset=UTF-8\");\n        }\n        (_a = this.socket._cookieJar) === null || _a === void 0 ? void 0 : _a.appendCookies(headers);\n        return fetch(this.uri(), {\n            method: isPost ? \"POST\" : \"GET\",\n            body: isPost ? data : null,\n            headers,\n            credentials: this.opts.withCredentials ? \"include\" : \"omit\",\n        }).then((res) => {\n            var _a;\n            // @ts-ignore getSetCookie() was added in Node.js v19.7.0\n            (_a = this.socket._cookieJar) === null || _a === void 0 ? void 0 : _a.parseCookies(res.headers.getSetCookie());\n            return res;\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9idWlsZC9lc20vdHJhbnNwb3J0cy9wb2xsaW5nLWZldGNoLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXVDO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLG9CQUFvQixnREFBTztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvREFBb0Q7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3JldHJvYXBwLWNsaWVudC8uL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tY2xpZW50L2J1aWxkL2VzbS90cmFuc3BvcnRzL3BvbGxpbmctZmV0Y2guanM/NmJmMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQb2xsaW5nIH0gZnJvbSBcIi4vcG9sbGluZy5qc1wiO1xuLyoqXG4gKiBIVFRQIGxvbmctcG9sbGluZyBiYXNlZCBvbiB0aGUgYnVpbHQtaW4gYGZldGNoKClgIG1ldGhvZC5cbiAqXG4gKiBVc2FnZTogYnJvd3NlciwgTm9kZS5qcyAoc2luY2UgdjE4KSwgRGVubywgQnVuXG4gKlxuICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvZmV0Y2hcbiAqIEBzZWUgaHR0cHM6Ly9jYW5pdXNlLmNvbS9mZXRjaFxuICogQHNlZSBodHRwczovL25vZGVqcy5vcmcvYXBpL2dsb2JhbHMuaHRtbCNmZXRjaFxuICovXG5leHBvcnQgY2xhc3MgRmV0Y2ggZXh0ZW5kcyBQb2xsaW5nIHtcbiAgICBkb1BvbGwoKSB7XG4gICAgICAgIHRoaXMuX2ZldGNoKClcbiAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICAgIGlmICghcmVzLm9rKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMub25FcnJvcihcImZldGNoIHJlYWQgZXJyb3JcIiwgcmVzLnN0YXR1cywgcmVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlcy50ZXh0KCkudGhlbigoZGF0YSkgPT4gdGhpcy5vbkRhdGEoZGF0YSkpO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgIHRoaXMub25FcnJvcihcImZldGNoIHJlYWQgZXJyb3JcIiwgZXJyKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGRvV3JpdGUoZGF0YSwgY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5fZmV0Y2goZGF0YSlcbiAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICAgIGlmICghcmVzLm9rKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMub25FcnJvcihcImZldGNoIHdyaXRlIGVycm9yXCIsIHJlcy5zdGF0dXMsIHJlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgIHRoaXMub25FcnJvcihcImZldGNoIHdyaXRlIGVycm9yXCIsIGVycik7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBfZmV0Y2goZGF0YSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IGlzUG9zdCA9IGRhdGEgIT09IHVuZGVmaW5lZDtcbiAgICAgICAgY29uc3QgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMub3B0cy5leHRyYUhlYWRlcnMpO1xuICAgICAgICBpZiAoaXNQb3N0KSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldChcImNvbnRlbnQtdHlwZVwiLCBcInRleHQvcGxhaW47Y2hhcnNldD1VVEYtOFwiKTtcbiAgICAgICAgfVxuICAgICAgICAoX2EgPSB0aGlzLnNvY2tldC5fY29va2llSmFyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuYXBwZW5kQ29va2llcyhoZWFkZXJzKTtcbiAgICAgICAgcmV0dXJuIGZldGNoKHRoaXMudXJpKCksIHtcbiAgICAgICAgICAgIG1ldGhvZDogaXNQb3N0ID8gXCJQT1NUXCIgOiBcIkdFVFwiLFxuICAgICAgICAgICAgYm9keTogaXNQb3N0ID8gZGF0YSA6IG51bGwsXG4gICAgICAgICAgICBoZWFkZXJzLFxuICAgICAgICAgICAgY3JlZGVudGlhbHM6IHRoaXMub3B0cy53aXRoQ3JlZGVudGlhbHMgPyBcImluY2x1ZGVcIiA6IFwib21pdFwiLFxuICAgICAgICB9KS50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUgZ2V0U2V0Q29va2llKCkgd2FzIGFkZGVkIGluIE5vZGUuanMgdjE5LjcuMFxuICAgICAgICAgICAgKF9hID0gdGhpcy5zb2NrZXQuX2Nvb2tpZUphcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnBhcnNlQ29va2llcyhyZXMuaGVhZGVycy5nZXRTZXRDb29raWUoKSk7XG4gICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICB9KTtcbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/engine.io-client/build/esm/transports/polling-fetch.js\n\n}");

/***/ },

/***/ "./node_modules/engine.io-client/build/esm/transports/polling-xhr.js"
/*!***************************************************************************!*\
  !*** ./node_modules/engine.io-client/build/esm/transports/polling-xhr.js ***!
  \***************************************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseXHR: () => (/* binding */ BaseXHR),\n/* harmony export */   Request: () => (/* binding */ Request),\n/* harmony export */   XHR: () => (/* binding */ XHR)\n/* harmony export */ });\n/* harmony import */ var _polling_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./polling.js */ \"./node_modules/engine.io-client/build/esm/transports/polling.js\");\n/* harmony import */ var _socket_io_component_emitter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @socket.io/component-emitter */ \"./node_modules/@socket.io/component-emitter/lib/esm/index.js\");\n/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util.js */ \"./node_modules/engine.io-client/build/esm/util.js\");\n/* harmony import */ var _globals_node_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../globals.node.js */ \"./node_modules/engine.io-client/build/esm/globals.js\");\n/* harmony import */ var _contrib_has_cors_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../contrib/has-cors.js */ \"./node_modules/engine.io-client/build/esm/contrib/has-cors.js\");\n\n\n\n\n\nfunction empty() { }\nclass BaseXHR extends _polling_js__WEBPACK_IMPORTED_MODULE_0__.Polling {\n    /**\n     * XHR Polling constructor.\n     *\n     * @param {Object} opts\n     * @package\n     */\n    constructor(opts) {\n        super(opts);\n        if (typeof location !== \"undefined\") {\n            const isSSL = \"https:\" === location.protocol;\n            let port = location.port;\n            // some user agents have empty `location.port`\n            if (!port) {\n                port = isSSL ? \"443\" : \"80\";\n            }\n            this.xd =\n                (typeof location !== \"undefined\" &&\n                    opts.hostname !== location.hostname) ||\n                    port !== opts.port;\n        }\n    }\n    /**\n     * Sends data.\n     *\n     * @param {String} data to send.\n     * @param {Function} called upon flush.\n     * @private\n     */\n    doWrite(data, fn) {\n        const req = this.request({\n            method: \"POST\",\n            data: data,\n        });\n        req.on(\"success\", fn);\n        req.on(\"error\", (xhrStatus, context) => {\n            this.onError(\"xhr post error\", xhrStatus, context);\n        });\n    }\n    /**\n     * Starts a poll cycle.\n     *\n     * @private\n     */\n    doPoll() {\n        const req = this.request();\n        req.on(\"data\", this.onData.bind(this));\n        req.on(\"error\", (xhrStatus, context) => {\n            this.onError(\"xhr poll error\", xhrStatus, context);\n        });\n        this.pollXhr = req;\n    }\n}\nclass Request extends _socket_io_component_emitter__WEBPACK_IMPORTED_MODULE_1__.Emitter {\n    /**\n     * Request constructor\n     *\n     * @param {Object} options\n     * @package\n     */\n    constructor(createRequest, uri, opts) {\n        super();\n        this.createRequest = createRequest;\n        (0,_util_js__WEBPACK_IMPORTED_MODULE_2__.installTimerFunctions)(this, opts);\n        this._opts = opts;\n        this._method = opts.method || \"GET\";\n        this._uri = uri;\n        this._data = undefined !== opts.data ? opts.data : null;\n        this._create();\n    }\n    /**\n     * Creates the XHR object and sends the request.\n     *\n     * @private\n     */\n    _create() {\n        var _a;\n        const opts = (0,_util_js__WEBPACK_IMPORTED_MODULE_2__.pick)(this._opts, \"agent\", \"pfx\", \"key\", \"passphrase\", \"cert\", \"ca\", \"ciphers\", \"rejectUnauthorized\", \"autoUnref\");\n        opts.xdomain = !!this._opts.xd;\n        const xhr = (this._xhr = this.createRequest(opts));\n        try {\n            xhr.open(this._method, this._uri, true);\n            try {\n                if (this._opts.extraHeaders) {\n                    // @ts-ignore\n                    xhr.setDisableHeaderCheck && xhr.setDisableHeaderCheck(true);\n                    for (let i in this._opts.extraHeaders) {\n                        if (this._opts.extraHeaders.hasOwnProperty(i)) {\n                            xhr.setRequestHeader(i, this._opts.extraHeaders[i]);\n                        }\n                    }\n                }\n            }\n            catch (e) { }\n            if (\"POST\" === this._method) {\n                try {\n                    xhr.setRequestHeader(\"Content-type\", \"text/plain;charset=UTF-8\");\n                }\n                catch (e) { }\n            }\n            try {\n                xhr.setRequestHeader(\"Accept\", \"*/*\");\n            }\n            catch (e) { }\n            (_a = this._opts.cookieJar) === null || _a === void 0 ? void 0 : _a.addCookies(xhr);\n            // ie6 check\n            if (\"withCredentials\" in xhr) {\n                xhr.withCredentials = this._opts.withCredentials;\n            }\n            if (this._opts.requestTimeout) {\n                xhr.timeout = this._opts.requestTimeout;\n            }\n            xhr.onreadystatechange = () => {\n                var _a;\n                if (xhr.readyState === 3) {\n                    (_a = this._opts.cookieJar) === null || _a === void 0 ? void 0 : _a.parseCookies(\n                    // @ts-ignore\n                    xhr.getResponseHeader(\"set-cookie\"));\n                }\n                if (4 !== xhr.readyState)\n                    return;\n                if (200 === xhr.status || 1223 === xhr.status) {\n                    this._onLoad();\n                }\n                else {\n                    // make sure the `error` event handler that's user-set\n                    // does not throw in the same tick and gets caught here\n                    this.setTimeoutFn(() => {\n                        this._onError(typeof xhr.status === \"number\" ? xhr.status : 0);\n                    }, 0);\n                }\n            };\n            xhr.send(this._data);\n        }\n        catch (e) {\n            // Need to defer since .create() is called directly from the constructor\n            // and thus the 'error' event can only be only bound *after* this exception\n            // occurs.  Therefore, also, we cannot throw here at all.\n            this.setTimeoutFn(() => {\n                this._onError(e);\n            }, 0);\n            return;\n        }\n        if (typeof document !== \"undefined\") {\n            this._index = Request.requestsCount++;\n            Request.requests[this._index] = this;\n        }\n    }\n    /**\n     * Called upon error.\n     *\n     * @private\n     */\n    _onError(err) {\n        this.emitReserved(\"error\", err, this._xhr);\n        this._cleanup(true);\n    }\n    /**\n     * Cleans up house.\n     *\n     * @private\n     */\n    _cleanup(fromError) {\n        if (\"undefined\" === typeof this._xhr || null === this._xhr) {\n            return;\n        }\n        this._xhr.onreadystatechange = empty;\n        if (fromError) {\n            try {\n                this._xhr.abort();\n            }\n            catch (e) { }\n        }\n        if (typeof document !== \"undefined\") {\n            delete Request.requests[this._index];\n        }\n        this._xhr = null;\n    }\n    /**\n     * Called upon load.\n     *\n     * @private\n     */\n    _onLoad() {\n        const data = this._xhr.responseText;\n        if (data !== null) {\n            this.emitReserved(\"data\", data);\n            this.emitReserved(\"success\");\n            this._cleanup();\n        }\n    }\n    /**\n     * Aborts the request.\n     *\n     * @package\n     */\n    abort() {\n        this._cleanup();\n    }\n}\nRequest.requestsCount = 0;\nRequest.requests = {};\n/**\n * Aborts pending requests when unloading the window. This is needed to prevent\n * memory leaks (e.g. when using IE) and to ensure that no spurious error is\n * emitted.\n */\nif (typeof document !== \"undefined\") {\n    // @ts-ignore\n    if (typeof attachEvent === \"function\") {\n        // @ts-ignore\n        attachEvent(\"onunload\", unloadHandler);\n    }\n    else if (typeof addEventListener === \"function\") {\n        const terminationEvent = \"onpagehide\" in _globals_node_js__WEBPACK_IMPORTED_MODULE_3__.globalThisShim ? \"pagehide\" : \"unload\";\n        addEventListener(terminationEvent, unloadHandler, false);\n    }\n}\nfunction unloadHandler() {\n    for (let i in Request.requests) {\n        if (Request.requests.hasOwnProperty(i)) {\n            Request.requests[i].abort();\n        }\n    }\n}\nconst hasXHR2 = (function () {\n    const xhr = newRequest({\n        xdomain: false,\n    });\n    return xhr && xhr.responseType !== null;\n})();\n/**\n * HTTP long-polling based on the built-in `XMLHttpRequest` object.\n *\n * Usage: browser\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest\n */\nclass XHR extends BaseXHR {\n    constructor(opts) {\n        super(opts);\n        const forceBase64 = opts && opts.forceBase64;\n        this.supportsBinary = hasXHR2 && !forceBase64;\n    }\n    request(opts = {}) {\n        Object.assign(opts, { xd: this.xd }, this.opts);\n        return new Request(newRequest, this.uri(), opts);\n    }\n}\nfunction newRequest(opts) {\n    const xdomain = opts.xdomain;\n    // XMLHttpRequest can be disabled on IE\n    try {\n        if (\"undefined\" !== typeof XMLHttpRequest && (!xdomain || _contrib_has_cors_js__WEBPACK_IMPORTED_MODULE_4__.hasCORS)) {\n            return new XMLHttpRequest();\n        }\n    }\n    catch (e) { }\n    if (!xdomain) {\n        try {\n            return new _globals_node_js__WEBPACK_IMPORTED_MODULE_3__.globalThisShim[[\"Active\"].concat(\"Object\").join(\"X\")](\"Microsoft.XMLHTTP\");\n        }\n        catch (e) { }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9idWlsZC9lc20vdHJhbnNwb3J0cy9wb2xsaW5nLXhoci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUF1QztBQUNnQjtBQUNFO0FBQ1M7QUFDakI7QUFDakQ7QUFDTyxzQkFBc0IsZ0RBQU87QUFDcEM7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxVQUFVO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDTyxzQkFBc0IsaUVBQU87QUFDcEM7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLCtEQUFxQjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQiw4Q0FBSTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxRUFBcUU7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCw0REFBVTtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQiw4QkFBOEIsYUFBYTtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtFQUFrRSx5REFBTztBQUN6RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsNERBQVU7QUFDakM7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZXRyb2FwcC1jbGllbnQvLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9idWlsZC9lc20vdHJhbnNwb3J0cy9wb2xsaW5nLXhoci5qcz8zZGFmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBvbGxpbmcgfSBmcm9tIFwiLi9wb2xsaW5nLmpzXCI7XG5pbXBvcnQgeyBFbWl0dGVyIH0gZnJvbSBcIkBzb2NrZXQuaW8vY29tcG9uZW50LWVtaXR0ZXJcIjtcbmltcG9ydCB7IGluc3RhbGxUaW1lckZ1bmN0aW9ucywgcGljayB9IGZyb20gXCIuLi91dGlsLmpzXCI7XG5pbXBvcnQgeyBnbG9iYWxUaGlzU2hpbSBhcyBnbG9iYWxUaGlzIH0gZnJvbSBcIi4uL2dsb2JhbHMubm9kZS5qc1wiO1xuaW1wb3J0IHsgaGFzQ09SUyB9IGZyb20gXCIuLi9jb250cmliL2hhcy1jb3JzLmpzXCI7XG5mdW5jdGlvbiBlbXB0eSgpIHsgfVxuZXhwb3J0IGNsYXNzIEJhc2VYSFIgZXh0ZW5kcyBQb2xsaW5nIHtcbiAgICAvKipcbiAgICAgKiBYSFIgUG9sbGluZyBjb25zdHJ1Y3Rvci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzXG4gICAgICogQHBhY2thZ2VcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKG9wdHMpO1xuICAgICAgICBpZiAodHlwZW9mIGxvY2F0aW9uICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICBjb25zdCBpc1NTTCA9IFwiaHR0cHM6XCIgPT09IGxvY2F0aW9uLnByb3RvY29sO1xuICAgICAgICAgICAgbGV0IHBvcnQgPSBsb2NhdGlvbi5wb3J0O1xuICAgICAgICAgICAgLy8gc29tZSB1c2VyIGFnZW50cyBoYXZlIGVtcHR5IGBsb2NhdGlvbi5wb3J0YFxuICAgICAgICAgICAgaWYgKCFwb3J0KSB7XG4gICAgICAgICAgICAgICAgcG9ydCA9IGlzU1NMID8gXCI0NDNcIiA6IFwiODBcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMueGQgPVxuICAgICAgICAgICAgICAgICh0eXBlb2YgbG9jYXRpb24gIT09IFwidW5kZWZpbmVkXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgb3B0cy5ob3N0bmFtZSAhPT0gbG9jYXRpb24uaG9zdG5hbWUpIHx8XG4gICAgICAgICAgICAgICAgICAgIHBvcnQgIT09IG9wdHMucG9ydDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kcyBkYXRhLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGRhdGEgdG8gc2VuZC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsZWQgdXBvbiBmbHVzaC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGRvV3JpdGUoZGF0YSwgZm4pIHtcbiAgICAgICAgY29uc3QgcmVxID0gdGhpcy5yZXF1ZXN0KHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICB9KTtcbiAgICAgICAgcmVxLm9uKFwic3VjY2Vzc1wiLCBmbik7XG4gICAgICAgIHJlcS5vbihcImVycm9yXCIsICh4aHJTdGF0dXMsIGNvbnRleHQpID0+IHtcbiAgICAgICAgICAgIHRoaXMub25FcnJvcihcInhociBwb3N0IGVycm9yXCIsIHhoclN0YXR1cywgY29udGV4dCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdGFydHMgYSBwb2xsIGN5Y2xlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBkb1BvbGwoKSB7XG4gICAgICAgIGNvbnN0IHJlcSA9IHRoaXMucmVxdWVzdCgpO1xuICAgICAgICByZXEub24oXCJkYXRhXCIsIHRoaXMub25EYXRhLmJpbmQodGhpcykpO1xuICAgICAgICByZXEub24oXCJlcnJvclwiLCAoeGhyU3RhdHVzLCBjb250ZXh0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLm9uRXJyb3IoXCJ4aHIgcG9sbCBlcnJvclwiLCB4aHJTdGF0dXMsIGNvbnRleHQpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5wb2xsWGhyID0gcmVxO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBSZXF1ZXN0IGV4dGVuZHMgRW1pdHRlciB7XG4gICAgLyoqXG4gICAgICogUmVxdWVzdCBjb25zdHJ1Y3RvclxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAcGFja2FnZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGNyZWF0ZVJlcXVlc3QsIHVyaSwgb3B0cykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QgPSBjcmVhdGVSZXF1ZXN0O1xuICAgICAgICBpbnN0YWxsVGltZXJGdW5jdGlvbnModGhpcywgb3B0cyk7XG4gICAgICAgIHRoaXMuX29wdHMgPSBvcHRzO1xuICAgICAgICB0aGlzLl9tZXRob2QgPSBvcHRzLm1ldGhvZCB8fCBcIkdFVFwiO1xuICAgICAgICB0aGlzLl91cmkgPSB1cmk7XG4gICAgICAgIHRoaXMuX2RhdGEgPSB1bmRlZmluZWQgIT09IG9wdHMuZGF0YSA/IG9wdHMuZGF0YSA6IG51bGw7XG4gICAgICAgIHRoaXMuX2NyZWF0ZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIHRoZSBYSFIgb2JqZWN0IGFuZCBzZW5kcyB0aGUgcmVxdWVzdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2NyZWF0ZSgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBvcHRzID0gcGljayh0aGlzLl9vcHRzLCBcImFnZW50XCIsIFwicGZ4XCIsIFwia2V5XCIsIFwicGFzc3BocmFzZVwiLCBcImNlcnRcIiwgXCJjYVwiLCBcImNpcGhlcnNcIiwgXCJyZWplY3RVbmF1dGhvcml6ZWRcIiwgXCJhdXRvVW5yZWZcIik7XG4gICAgICAgIG9wdHMueGRvbWFpbiA9ICEhdGhpcy5fb3B0cy54ZDtcbiAgICAgICAgY29uc3QgeGhyID0gKHRoaXMuX3hociA9IHRoaXMuY3JlYXRlUmVxdWVzdChvcHRzKSk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB4aHIub3Blbih0aGlzLl9tZXRob2QsIHRoaXMuX3VyaSwgdHJ1ZSk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9vcHRzLmV4dHJhSGVhZGVycykge1xuICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgICAgIHhoci5zZXREaXNhYmxlSGVhZGVyQ2hlY2sgJiYgeGhyLnNldERpc2FibGVIZWFkZXJDaGVjayh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSBpbiB0aGlzLl9vcHRzLmV4dHJhSGVhZGVycykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX29wdHMuZXh0cmFIZWFkZXJzLmhhc093blByb3BlcnR5KGkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoaSwgdGhpcy5fb3B0cy5leHRyYUhlYWRlcnNbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHsgfVxuICAgICAgICAgICAgaWYgKFwiUE9TVFwiID09PSB0aGlzLl9tZXRob2QpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihcIkNvbnRlbnQtdHlwZVwiLCBcInRleHQvcGxhaW47Y2hhcnNldD1VVEYtOFwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihcIkFjY2VwdFwiLCBcIiovKlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7IH1cbiAgICAgICAgICAgIChfYSA9IHRoaXMuX29wdHMuY29va2llSmFyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuYWRkQ29va2llcyh4aHIpO1xuICAgICAgICAgICAgLy8gaWU2IGNoZWNrXG4gICAgICAgICAgICBpZiAoXCJ3aXRoQ3JlZGVudGlhbHNcIiBpbiB4aHIpIHtcbiAgICAgICAgICAgICAgICB4aHIud2l0aENyZWRlbnRpYWxzID0gdGhpcy5fb3B0cy53aXRoQ3JlZGVudGlhbHM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5fb3B0cy5yZXF1ZXN0VGltZW91dCkge1xuICAgICAgICAgICAgICAgIHhoci50aW1lb3V0ID0gdGhpcy5fb3B0cy5yZXF1ZXN0VGltZW91dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSA9PT0gMykge1xuICAgICAgICAgICAgICAgICAgICAoX2EgPSB0aGlzLl9vcHRzLmNvb2tpZUphcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnBhcnNlQ29va2llcyhcbiAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgICAgICB4aHIuZ2V0UmVzcG9uc2VIZWFkZXIoXCJzZXQtY29va2llXCIpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKDQgIT09IHhoci5yZWFkeVN0YXRlKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgaWYgKDIwMCA9PT0geGhyLnN0YXR1cyB8fCAxMjIzID09PSB4aHIuc3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29uTG9hZCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gbWFrZSBzdXJlIHRoZSBgZXJyb3JgIGV2ZW50IGhhbmRsZXIgdGhhdCdzIHVzZXItc2V0XG4gICAgICAgICAgICAgICAgICAgIC8vIGRvZXMgbm90IHRocm93IGluIHRoZSBzYW1lIHRpY2sgYW5kIGdldHMgY2F1Z2h0IGhlcmVcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRUaW1lb3V0Rm4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fb25FcnJvcih0eXBlb2YgeGhyLnN0YXR1cyA9PT0gXCJudW1iZXJcIiA/IHhoci5zdGF0dXMgOiAwKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHhoci5zZW5kKHRoaXMuX2RhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAvLyBOZWVkIHRvIGRlZmVyIHNpbmNlIC5jcmVhdGUoKSBpcyBjYWxsZWQgZGlyZWN0bHkgZnJvbSB0aGUgY29uc3RydWN0b3JcbiAgICAgICAgICAgIC8vIGFuZCB0aHVzIHRoZSAnZXJyb3InIGV2ZW50IGNhbiBvbmx5IGJlIG9ubHkgYm91bmQgKmFmdGVyKiB0aGlzIGV4Y2VwdGlvblxuICAgICAgICAgICAgLy8gb2NjdXJzLiAgVGhlcmVmb3JlLCBhbHNvLCB3ZSBjYW5ub3QgdGhyb3cgaGVyZSBhdCBhbGwuXG4gICAgICAgICAgICB0aGlzLnNldFRpbWVvdXRGbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fb25FcnJvcihlKTtcbiAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIHRoaXMuX2luZGV4ID0gUmVxdWVzdC5yZXF1ZXN0c0NvdW50Kys7XG4gICAgICAgICAgICBSZXF1ZXN0LnJlcXVlc3RzW3RoaXMuX2luZGV4XSA9IHRoaXM7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHVwb24gZXJyb3IuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9vbkVycm9yKGVycikge1xuICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcImVycm9yXCIsIGVyciwgdGhpcy5feGhyKTtcbiAgICAgICAgdGhpcy5fY2xlYW51cCh0cnVlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYW5zIHVwIGhvdXNlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfY2xlYW51cChmcm9tRXJyb3IpIHtcbiAgICAgICAgaWYgKFwidW5kZWZpbmVkXCIgPT09IHR5cGVvZiB0aGlzLl94aHIgfHwgbnVsbCA9PT0gdGhpcy5feGhyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5feGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGVtcHR5O1xuICAgICAgICBpZiAoZnJvbUVycm9yKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3hoci5hYm9ydCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHsgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBSZXF1ZXN0LnJlcXVlc3RzW3RoaXMuX2luZGV4XTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl94aHIgPSBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgdXBvbiBsb2FkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfb25Mb2FkKCkge1xuICAgICAgICBjb25zdCBkYXRhID0gdGhpcy5feGhyLnJlc3BvbnNlVGV4dDtcbiAgICAgICAgaWYgKGRhdGEgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwiZGF0YVwiLCBkYXRhKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwic3VjY2Vzc1wiKTtcbiAgICAgICAgICAgIHRoaXMuX2NsZWFudXAoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBBYm9ydHMgdGhlIHJlcXVlc3QuXG4gICAgICpcbiAgICAgKiBAcGFja2FnZVxuICAgICAqL1xuICAgIGFib3J0KCkge1xuICAgICAgICB0aGlzLl9jbGVhbnVwKCk7XG4gICAgfVxufVxuUmVxdWVzdC5yZXF1ZXN0c0NvdW50ID0gMDtcblJlcXVlc3QucmVxdWVzdHMgPSB7fTtcbi8qKlxuICogQWJvcnRzIHBlbmRpbmcgcmVxdWVzdHMgd2hlbiB1bmxvYWRpbmcgdGhlIHdpbmRvdy4gVGhpcyBpcyBuZWVkZWQgdG8gcHJldmVudFxuICogbWVtb3J5IGxlYWtzIChlLmcuIHdoZW4gdXNpbmcgSUUpIGFuZCB0byBlbnN1cmUgdGhhdCBubyBzcHVyaW91cyBlcnJvciBpc1xuICogZW1pdHRlZC5cbiAqL1xuaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBpZiAodHlwZW9mIGF0dGFjaEV2ZW50ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBhdHRhY2hFdmVudChcIm9udW5sb2FkXCIsIHVubG9hZEhhbmRsZXIpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgYWRkRXZlbnRMaXN0ZW5lciA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIGNvbnN0IHRlcm1pbmF0aW9uRXZlbnQgPSBcIm9ucGFnZWhpZGVcIiBpbiBnbG9iYWxUaGlzID8gXCJwYWdlaGlkZVwiIDogXCJ1bmxvYWRcIjtcbiAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcih0ZXJtaW5hdGlvbkV2ZW50LCB1bmxvYWRIYW5kbGVyLCBmYWxzZSk7XG4gICAgfVxufVxuZnVuY3Rpb24gdW5sb2FkSGFuZGxlcigpIHtcbiAgICBmb3IgKGxldCBpIGluIFJlcXVlc3QucmVxdWVzdHMpIHtcbiAgICAgICAgaWYgKFJlcXVlc3QucmVxdWVzdHMuaGFzT3duUHJvcGVydHkoaSkpIHtcbiAgICAgICAgICAgIFJlcXVlc3QucmVxdWVzdHNbaV0uYWJvcnQoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmNvbnN0IGhhc1hIUjIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IHhociA9IG5ld1JlcXVlc3Qoe1xuICAgICAgICB4ZG9tYWluOiBmYWxzZSxcbiAgICB9KTtcbiAgICByZXR1cm4geGhyICYmIHhoci5yZXNwb25zZVR5cGUgIT09IG51bGw7XG59KSgpO1xuLyoqXG4gKiBIVFRQIGxvbmctcG9sbGluZyBiYXNlZCBvbiB0aGUgYnVpbHQtaW4gYFhNTEh0dHBSZXF1ZXN0YCBvYmplY3QuXG4gKlxuICogVXNhZ2U6IGJyb3dzZXJcbiAqXG4gKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9YTUxIdHRwUmVxdWVzdFxuICovXG5leHBvcnQgY2xhc3MgWEhSIGV4dGVuZHMgQmFzZVhIUiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcihvcHRzKTtcbiAgICAgICAgY29uc3QgZm9yY2VCYXNlNjQgPSBvcHRzICYmIG9wdHMuZm9yY2VCYXNlNjQ7XG4gICAgICAgIHRoaXMuc3VwcG9ydHNCaW5hcnkgPSBoYXNYSFIyICYmICFmb3JjZUJhc2U2NDtcbiAgICB9XG4gICAgcmVxdWVzdChvcHRzID0ge30pIHtcbiAgICAgICAgT2JqZWN0LmFzc2lnbihvcHRzLCB7IHhkOiB0aGlzLnhkIH0sIHRoaXMub3B0cyk7XG4gICAgICAgIHJldHVybiBuZXcgUmVxdWVzdChuZXdSZXF1ZXN0LCB0aGlzLnVyaSgpLCBvcHRzKTtcbiAgICB9XG59XG5mdW5jdGlvbiBuZXdSZXF1ZXN0KG9wdHMpIHtcbiAgICBjb25zdCB4ZG9tYWluID0gb3B0cy54ZG9tYWluO1xuICAgIC8vIFhNTEh0dHBSZXF1ZXN0IGNhbiBiZSBkaXNhYmxlZCBvbiBJRVxuICAgIHRyeSB7XG4gICAgICAgIGlmIChcInVuZGVmaW5lZFwiICE9PSB0eXBlb2YgWE1MSHR0cFJlcXVlc3QgJiYgKCF4ZG9tYWluIHx8IGhhc0NPUlMpKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGUpIHsgfVxuICAgIGlmICgheGRvbWFpbikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBnbG9iYWxUaGlzW1tcIkFjdGl2ZVwiXS5jb25jYXQoXCJPYmplY3RcIikuam9pbihcIlhcIildKFwiTWljcm9zb2Z0LlhNTEhUVFBcIik7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHsgfVxuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/engine.io-client/build/esm/transports/polling-xhr.js\n\n}");

/***/ },

/***/ "./node_modules/engine.io-client/build/esm/transports/polling.js"
/*!***********************************************************************!*\
  !*** ./node_modules/engine.io-client/build/esm/transports/polling.js ***!
  \***********************************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Polling: () => (/* binding */ Polling)\n/* harmony export */ });\n/* harmony import */ var _transport_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../transport.js */ \"./node_modules/engine.io-client/build/esm/transport.js\");\n/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util.js */ \"./node_modules/engine.io-client/build/esm/util.js\");\n/* harmony import */ var engine_io_parser__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine.io-parser */ \"./node_modules/engine.io-parser/build/esm/index.js\");\n\n\n\nclass Polling extends _transport_js__WEBPACK_IMPORTED_MODULE_0__.Transport {\n    constructor() {\n        super(...arguments);\n        this._polling = false;\n    }\n    get name() {\n        return \"polling\";\n    }\n    /**\n     * Opens the socket (triggers polling). We write a PING message to determine\n     * when the transport is open.\n     *\n     * @protected\n     */\n    doOpen() {\n        this._poll();\n    }\n    /**\n     * Pauses polling.\n     *\n     * @param {Function} onPause - callback upon buffers are flushed and transport is paused\n     * @package\n     */\n    pause(onPause) {\n        this.readyState = \"pausing\";\n        const pause = () => {\n            this.readyState = \"paused\";\n            onPause();\n        };\n        if (this._polling || !this.writable) {\n            let total = 0;\n            if (this._polling) {\n                total++;\n                this.once(\"pollComplete\", function () {\n                    --total || pause();\n                });\n            }\n            if (!this.writable) {\n                total++;\n                this.once(\"drain\", function () {\n                    --total || pause();\n                });\n            }\n        }\n        else {\n            pause();\n        }\n    }\n    /**\n     * Starts polling cycle.\n     *\n     * @private\n     */\n    _poll() {\n        this._polling = true;\n        this.doPoll();\n        this.emitReserved(\"poll\");\n    }\n    /**\n     * Overloads onData to detect payloads.\n     *\n     * @protected\n     */\n    onData(data) {\n        const callback = (packet) => {\n            // if its the first message we consider the transport open\n            if (\"opening\" === this.readyState && packet.type === \"open\") {\n                this.onOpen();\n            }\n            // if its a close packet, we close the ongoing requests\n            if (\"close\" === packet.type) {\n                this.onClose({ description: \"transport closed by the server\" });\n                return false;\n            }\n            // otherwise bypass onData and handle the message\n            this.onPacket(packet);\n        };\n        // decode payload\n        (0,engine_io_parser__WEBPACK_IMPORTED_MODULE_2__.decodePayload)(data, this.socket.binaryType).forEach(callback);\n        // if an event did not trigger closing\n        if (\"closed\" !== this.readyState) {\n            // if we got data we're not polling\n            this._polling = false;\n            this.emitReserved(\"pollComplete\");\n            if (\"open\" === this.readyState) {\n                this._poll();\n            }\n            else {\n            }\n        }\n    }\n    /**\n     * For polling, send a close packet.\n     *\n     * @protected\n     */\n    doClose() {\n        const close = () => {\n            this.write([{ type: \"close\" }]);\n        };\n        if (\"open\" === this.readyState) {\n            close();\n        }\n        else {\n            // in case we're trying to close while\n            // handshaking is in progress (GH-164)\n            this.once(\"open\", close);\n        }\n    }\n    /**\n     * Writes a packets payload.\n     *\n     * @param {Array} packets - data packets\n     * @protected\n     */\n    write(packets) {\n        this.writable = false;\n        (0,engine_io_parser__WEBPACK_IMPORTED_MODULE_2__.encodePayload)(packets, (data) => {\n            this.doWrite(data, () => {\n                this.writable = true;\n                this.emitReserved(\"drain\");\n            });\n        });\n    }\n    /**\n     * Generates uri for connection.\n     *\n     * @private\n     */\n    uri() {\n        const schema = this.opts.secure ? \"https\" : \"http\";\n        const query = this.query || {};\n        // cache busting is forced\n        if (false !== this.opts.timestampRequests) {\n            query[this.opts.timestampParam] = (0,_util_js__WEBPACK_IMPORTED_MODULE_1__.randomString)();\n        }\n        if (!this.supportsBinary && !query.sid) {\n            query.b64 = 1;\n        }\n        return this.createUri(schema, query);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9idWlsZC9lc20vdHJhbnNwb3J0cy9wb2xsaW5nLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBNEM7QUFDRjtBQUNzQjtBQUN6RCxzQkFBc0Isb0RBQVM7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFVBQVU7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsK0NBQStDO0FBQzlFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsK0RBQWE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsZUFBZTtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsT0FBTztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsK0RBQWE7QUFDckI7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLHNEQUFZO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmV0cm9hcHAtY2xpZW50Ly4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1jbGllbnQvYnVpbGQvZXNtL3RyYW5zcG9ydHMvcG9sbGluZy5qcz81OTIyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFRyYW5zcG9ydCB9IGZyb20gXCIuLi90cmFuc3BvcnQuanNcIjtcbmltcG9ydCB7IHJhbmRvbVN0cmluZyB9IGZyb20gXCIuLi91dGlsLmpzXCI7XG5pbXBvcnQgeyBlbmNvZGVQYXlsb2FkLCBkZWNvZGVQYXlsb2FkIH0gZnJvbSBcImVuZ2luZS5pby1wYXJzZXJcIjtcbmV4cG9ydCBjbGFzcyBQb2xsaW5nIGV4dGVuZHMgVHJhbnNwb3J0IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5fcG9sbGluZyA9IGZhbHNlO1xuICAgIH1cbiAgICBnZXQgbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFwicG9sbGluZ1wiO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBPcGVucyB0aGUgc29ja2V0ICh0cmlnZ2VycyBwb2xsaW5nKS4gV2Ugd3JpdGUgYSBQSU5HIG1lc3NhZ2UgdG8gZGV0ZXJtaW5lXG4gICAgICogd2hlbiB0aGUgdHJhbnNwb3J0IGlzIG9wZW4uXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgZG9PcGVuKCkge1xuICAgICAgICB0aGlzLl9wb2xsKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBhdXNlcyBwb2xsaW5nLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gb25QYXVzZSAtIGNhbGxiYWNrIHVwb24gYnVmZmVycyBhcmUgZmx1c2hlZCBhbmQgdHJhbnNwb3J0IGlzIHBhdXNlZFxuICAgICAqIEBwYWNrYWdlXG4gICAgICovXG4gICAgcGF1c2Uob25QYXVzZSkge1xuICAgICAgICB0aGlzLnJlYWR5U3RhdGUgPSBcInBhdXNpbmdcIjtcbiAgICAgICAgY29uc3QgcGF1c2UgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnJlYWR5U3RhdGUgPSBcInBhdXNlZFwiO1xuICAgICAgICAgICAgb25QYXVzZSgpO1xuICAgICAgICB9O1xuICAgICAgICBpZiAodGhpcy5fcG9sbGluZyB8fCAhdGhpcy53cml0YWJsZSkge1xuICAgICAgICAgICAgbGV0IHRvdGFsID0gMDtcbiAgICAgICAgICAgIGlmICh0aGlzLl9wb2xsaW5nKSB7XG4gICAgICAgICAgICAgICAgdG90YWwrKztcbiAgICAgICAgICAgICAgICB0aGlzLm9uY2UoXCJwb2xsQ29tcGxldGVcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAtLXRvdGFsIHx8IHBhdXNlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMud3JpdGFibGUpIHtcbiAgICAgICAgICAgICAgICB0b3RhbCsrO1xuICAgICAgICAgICAgICAgIHRoaXMub25jZShcImRyYWluXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgLS10b3RhbCB8fCBwYXVzZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcGF1c2UoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdGFydHMgcG9sbGluZyBjeWNsZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3BvbGwoKSB7XG4gICAgICAgIHRoaXMuX3BvbGxpbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLmRvUG9sbCgpO1xuICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcInBvbGxcIik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE92ZXJsb2FkcyBvbkRhdGEgdG8gZGV0ZWN0IHBheWxvYWRzLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIG9uRGF0YShkYXRhKSB7XG4gICAgICAgIGNvbnN0IGNhbGxiYWNrID0gKHBhY2tldCkgPT4ge1xuICAgICAgICAgICAgLy8gaWYgaXRzIHRoZSBmaXJzdCBtZXNzYWdlIHdlIGNvbnNpZGVyIHRoZSB0cmFuc3BvcnQgb3BlblxuICAgICAgICAgICAgaWYgKFwib3BlbmluZ1wiID09PSB0aGlzLnJlYWR5U3RhdGUgJiYgcGFja2V0LnR5cGUgPT09IFwib3BlblwiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbk9wZW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGlmIGl0cyBhIGNsb3NlIHBhY2tldCwgd2UgY2xvc2UgdGhlIG9uZ29pbmcgcmVxdWVzdHNcbiAgICAgICAgICAgIGlmIChcImNsb3NlXCIgPT09IHBhY2tldC50eXBlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkNsb3NlKHsgZGVzY3JpcHRpb246IFwidHJhbnNwb3J0IGNsb3NlZCBieSB0aGUgc2VydmVyXCIgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gb3RoZXJ3aXNlIGJ5cGFzcyBvbkRhdGEgYW5kIGhhbmRsZSB0aGUgbWVzc2FnZVxuICAgICAgICAgICAgdGhpcy5vblBhY2tldChwYWNrZXQpO1xuICAgICAgICB9O1xuICAgICAgICAvLyBkZWNvZGUgcGF5bG9hZFxuICAgICAgICBkZWNvZGVQYXlsb2FkKGRhdGEsIHRoaXMuc29ja2V0LmJpbmFyeVR5cGUpLmZvckVhY2goY2FsbGJhY2spO1xuICAgICAgICAvLyBpZiBhbiBldmVudCBkaWQgbm90IHRyaWdnZXIgY2xvc2luZ1xuICAgICAgICBpZiAoXCJjbG9zZWRcIiAhPT0gdGhpcy5yZWFkeVN0YXRlKSB7XG4gICAgICAgICAgICAvLyBpZiB3ZSBnb3QgZGF0YSB3ZSdyZSBub3QgcG9sbGluZ1xuICAgICAgICAgICAgdGhpcy5fcG9sbGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJwb2xsQ29tcGxldGVcIik7XG4gICAgICAgICAgICBpZiAoXCJvcGVuXCIgPT09IHRoaXMucmVhZHlTdGF0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3BvbGwoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZvciBwb2xsaW5nLCBzZW5kIGEgY2xvc2UgcGFja2V0LlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIGRvQ2xvc2UoKSB7XG4gICAgICAgIGNvbnN0IGNsb3NlID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy53cml0ZShbeyB0eXBlOiBcImNsb3NlXCIgfV0pO1xuICAgICAgICB9O1xuICAgICAgICBpZiAoXCJvcGVuXCIgPT09IHRoaXMucmVhZHlTdGF0ZSkge1xuICAgICAgICAgICAgY2xvc2UoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGluIGNhc2Ugd2UncmUgdHJ5aW5nIHRvIGNsb3NlIHdoaWxlXG4gICAgICAgICAgICAvLyBoYW5kc2hha2luZyBpcyBpbiBwcm9ncmVzcyAoR0gtMTY0KVxuICAgICAgICAgICAgdGhpcy5vbmNlKFwib3BlblwiLCBjbG9zZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogV3JpdGVzIGEgcGFja2V0cyBwYXlsb2FkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtBcnJheX0gcGFja2V0cyAtIGRhdGEgcGFja2V0c1xuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICB3cml0ZShwYWNrZXRzKSB7XG4gICAgICAgIHRoaXMud3JpdGFibGUgPSBmYWxzZTtcbiAgICAgICAgZW5jb2RlUGF5bG9hZChwYWNrZXRzLCAoZGF0YSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5kb1dyaXRlKGRhdGEsICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLndyaXRhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcImRyYWluXCIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgdXJpIGZvciBjb25uZWN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB1cmkoKSB7XG4gICAgICAgIGNvbnN0IHNjaGVtYSA9IHRoaXMub3B0cy5zZWN1cmUgPyBcImh0dHBzXCIgOiBcImh0dHBcIjtcbiAgICAgICAgY29uc3QgcXVlcnkgPSB0aGlzLnF1ZXJ5IHx8IHt9O1xuICAgICAgICAvLyBjYWNoZSBidXN0aW5nIGlzIGZvcmNlZFxuICAgICAgICBpZiAoZmFsc2UgIT09IHRoaXMub3B0cy50aW1lc3RhbXBSZXF1ZXN0cykge1xuICAgICAgICAgICAgcXVlcnlbdGhpcy5vcHRzLnRpbWVzdGFtcFBhcmFtXSA9IHJhbmRvbVN0cmluZygpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5zdXBwb3J0c0JpbmFyeSAmJiAhcXVlcnkuc2lkKSB7XG4gICAgICAgICAgICBxdWVyeS5iNjQgPSAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZVVyaShzY2hlbWEsIHF1ZXJ5KTtcbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/engine.io-client/build/esm/transports/polling.js\n\n}");

/***/ },

/***/ "./node_modules/engine.io-client/build/esm/transports/websocket.js"
/*!*************************************************************************!*\
  !*** ./node_modules/engine.io-client/build/esm/transports/websocket.js ***!
  \*************************************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseWS: () => (/* binding */ BaseWS),\n/* harmony export */   WS: () => (/* binding */ WS)\n/* harmony export */ });\n/* harmony import */ var _transport_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../transport.js */ \"./node_modules/engine.io-client/build/esm/transport.js\");\n/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util.js */ \"./node_modules/engine.io-client/build/esm/util.js\");\n/* harmony import */ var engine_io_parser__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine.io-parser */ \"./node_modules/engine.io-parser/build/esm/index.js\");\n/* harmony import */ var _globals_node_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../globals.node.js */ \"./node_modules/engine.io-client/build/esm/globals.js\");\n\n\n\n\n// detect ReactNative environment\nconst isReactNative = typeof navigator !== \"undefined\" &&\n    typeof navigator.product === \"string\" &&\n    navigator.product.toLowerCase() === \"reactnative\";\nclass BaseWS extends _transport_js__WEBPACK_IMPORTED_MODULE_0__.Transport {\n    get name() {\n        return \"websocket\";\n    }\n    doOpen() {\n        const uri = this.uri();\n        const protocols = this.opts.protocols;\n        // React Native only supports the 'headers' option, and will print a warning if anything else is passed\n        const opts = isReactNative\n            ? {}\n            : (0,_util_js__WEBPACK_IMPORTED_MODULE_1__.pick)(this.opts, \"agent\", \"perMessageDeflate\", \"pfx\", \"key\", \"passphrase\", \"cert\", \"ca\", \"ciphers\", \"rejectUnauthorized\", \"localAddress\", \"protocolVersion\", \"origin\", \"maxPayload\", \"family\", \"checkServerIdentity\");\n        if (this.opts.extraHeaders) {\n            opts.headers = this.opts.extraHeaders;\n        }\n        try {\n            this.ws = this.createSocket(uri, protocols, opts);\n        }\n        catch (err) {\n            return this.emitReserved(\"error\", err);\n        }\n        this.ws.binaryType = this.socket.binaryType;\n        this.addEventListeners();\n    }\n    /**\n     * Adds event listeners to the socket\n     *\n     * @private\n     */\n    addEventListeners() {\n        this.ws.onopen = () => {\n            if (this.opts.autoUnref) {\n                this.ws._socket.unref();\n            }\n            this.onOpen();\n        };\n        this.ws.onclose = (closeEvent) => this.onClose({\n            description: \"websocket connection closed\",\n            context: closeEvent,\n        });\n        this.ws.onmessage = (ev) => this.onData(ev.data);\n        this.ws.onerror = (e) => this.onError(\"websocket error\", e);\n    }\n    write(packets) {\n        this.writable = false;\n        // encodePacket efficient as it uses WS framing\n        // no need for encodePayload\n        for (let i = 0; i < packets.length; i++) {\n            const packet = packets[i];\n            const lastPacket = i === packets.length - 1;\n            (0,engine_io_parser__WEBPACK_IMPORTED_MODULE_2__.encodePacket)(packet, this.supportsBinary, (data) => {\n                // Sometimes the websocket has already been closed but the browser didn't\n                // have a chance of informing us about it yet, in that case send will\n                // throw an error\n                try {\n                    this.doWrite(packet, data);\n                }\n                catch (e) {\n                }\n                if (lastPacket) {\n                    // fake drain\n                    // defer to next tick to allow Socket to clear writeBuffer\n                    (0,_globals_node_js__WEBPACK_IMPORTED_MODULE_3__.nextTick)(() => {\n                        this.writable = true;\n                        this.emitReserved(\"drain\");\n                    }, this.setTimeoutFn);\n                }\n            });\n        }\n    }\n    doClose() {\n        if (typeof this.ws !== \"undefined\") {\n            this.ws.onerror = () => { };\n            this.ws.close();\n            this.ws = null;\n        }\n    }\n    /**\n     * Generates uri for connection.\n     *\n     * @private\n     */\n    uri() {\n        const schema = this.opts.secure ? \"wss\" : \"ws\";\n        const query = this.query || {};\n        // append timestamp to URI\n        if (this.opts.timestampRequests) {\n            query[this.opts.timestampParam] = (0,_util_js__WEBPACK_IMPORTED_MODULE_1__.randomString)();\n        }\n        // communicate binary support capabilities\n        if (!this.supportsBinary) {\n            query.b64 = 1;\n        }\n        return this.createUri(schema, query);\n    }\n}\nconst WebSocketCtor = _globals_node_js__WEBPACK_IMPORTED_MODULE_3__.globalThisShim.WebSocket || _globals_node_js__WEBPACK_IMPORTED_MODULE_3__.globalThisShim.MozWebSocket;\n/**\n * WebSocket transport based on the built-in `WebSocket` object.\n *\n * Usage: browser, Node.js (since v21), Deno, Bun\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/WebSocket\n * @see https://caniuse.com/mdn-api_websocket\n * @see https://nodejs.org/api/globals.html#websocket\n */\nclass WS extends BaseWS {\n    createSocket(uri, protocols, opts) {\n        return !isReactNative\n            ? protocols\n                ? new WebSocketCtor(uri, protocols)\n                : new WebSocketCtor(uri)\n            : new WebSocketCtor(uri, protocols, opts);\n    }\n    doWrite(_packet, data) {\n        this.ws.send(data);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9idWlsZC9lc20vdHJhbnNwb3J0cy93ZWJzb2NrZXQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQTRDO0FBQ0k7QUFDQTtBQUM0QjtBQUM1RTtBQUNBO0FBQ0E7QUFDQTtBQUNPLHFCQUFxQixvREFBUztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLDhDQUFJO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixvQkFBb0I7QUFDNUM7QUFDQTtBQUNBLFlBQVksOERBQVk7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiwwREFBUTtBQUM1QjtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLHNEQUFZO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsNERBQVUsY0FBYyw0REFBVTtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZXRyb2FwcC1jbGllbnQvLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9idWlsZC9lc20vdHJhbnNwb3J0cy93ZWJzb2NrZXQuanM/ODVmOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBUcmFuc3BvcnQgfSBmcm9tIFwiLi4vdHJhbnNwb3J0LmpzXCI7XG5pbXBvcnQgeyBwaWNrLCByYW5kb21TdHJpbmcgfSBmcm9tIFwiLi4vdXRpbC5qc1wiO1xuaW1wb3J0IHsgZW5jb2RlUGFja2V0IH0gZnJvbSBcImVuZ2luZS5pby1wYXJzZXJcIjtcbmltcG9ydCB7IGdsb2JhbFRoaXNTaGltIGFzIGdsb2JhbFRoaXMsIG5leHRUaWNrIH0gZnJvbSBcIi4uL2dsb2JhbHMubm9kZS5qc1wiO1xuLy8gZGV0ZWN0IFJlYWN0TmF0aXZlIGVudmlyb25tZW50XG5jb25zdCBpc1JlYWN0TmF0aXZlID0gdHlwZW9mIG5hdmlnYXRvciAhPT0gXCJ1bmRlZmluZWRcIiAmJlxuICAgIHR5cGVvZiBuYXZpZ2F0b3IucHJvZHVjdCA9PT0gXCJzdHJpbmdcIiAmJlxuICAgIG5hdmlnYXRvci5wcm9kdWN0LnRvTG93ZXJDYXNlKCkgPT09IFwicmVhY3RuYXRpdmVcIjtcbmV4cG9ydCBjbGFzcyBCYXNlV1MgZXh0ZW5kcyBUcmFuc3BvcnQge1xuICAgIGdldCBuYW1lKCkge1xuICAgICAgICByZXR1cm4gXCJ3ZWJzb2NrZXRcIjtcbiAgICB9XG4gICAgZG9PcGVuKCkge1xuICAgICAgICBjb25zdCB1cmkgPSB0aGlzLnVyaSgpO1xuICAgICAgICBjb25zdCBwcm90b2NvbHMgPSB0aGlzLm9wdHMucHJvdG9jb2xzO1xuICAgICAgICAvLyBSZWFjdCBOYXRpdmUgb25seSBzdXBwb3J0cyB0aGUgJ2hlYWRlcnMnIG9wdGlvbiwgYW5kIHdpbGwgcHJpbnQgYSB3YXJuaW5nIGlmIGFueXRoaW5nIGVsc2UgaXMgcGFzc2VkXG4gICAgICAgIGNvbnN0IG9wdHMgPSBpc1JlYWN0TmF0aXZlXG4gICAgICAgICAgICA/IHt9XG4gICAgICAgICAgICA6IHBpY2sodGhpcy5vcHRzLCBcImFnZW50XCIsIFwicGVyTWVzc2FnZURlZmxhdGVcIiwgXCJwZnhcIiwgXCJrZXlcIiwgXCJwYXNzcGhyYXNlXCIsIFwiY2VydFwiLCBcImNhXCIsIFwiY2lwaGVyc1wiLCBcInJlamVjdFVuYXV0aG9yaXplZFwiLCBcImxvY2FsQWRkcmVzc1wiLCBcInByb3RvY29sVmVyc2lvblwiLCBcIm9yaWdpblwiLCBcIm1heFBheWxvYWRcIiwgXCJmYW1pbHlcIiwgXCJjaGVja1NlcnZlcklkZW50aXR5XCIpO1xuICAgICAgICBpZiAodGhpcy5vcHRzLmV4dHJhSGVhZGVycykge1xuICAgICAgICAgICAgb3B0cy5oZWFkZXJzID0gdGhpcy5vcHRzLmV4dHJhSGVhZGVycztcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy53cyA9IHRoaXMuY3JlYXRlU29ja2V0KHVyaSwgcHJvdG9jb2xzLCBvcHRzKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbWl0UmVzZXJ2ZWQoXCJlcnJvclwiLCBlcnIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMud3MuYmluYXJ5VHlwZSA9IHRoaXMuc29ja2V0LmJpbmFyeVR5cGU7XG4gICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyBldmVudCBsaXN0ZW5lcnMgdG8gdGhlIHNvY2tldFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBhZGRFdmVudExpc3RlbmVycygpIHtcbiAgICAgICAgdGhpcy53cy5vbm9wZW4gPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5vcHRzLmF1dG9VbnJlZikge1xuICAgICAgICAgICAgICAgIHRoaXMud3MuX3NvY2tldC51bnJlZigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5vbk9wZW4oKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy53cy5vbmNsb3NlID0gKGNsb3NlRXZlbnQpID0+IHRoaXMub25DbG9zZSh7XG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJ3ZWJzb2NrZXQgY29ubmVjdGlvbiBjbG9zZWRcIixcbiAgICAgICAgICAgIGNvbnRleHQ6IGNsb3NlRXZlbnQsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLndzLm9ubWVzc2FnZSA9IChldikgPT4gdGhpcy5vbkRhdGEoZXYuZGF0YSk7XG4gICAgICAgIHRoaXMud3Mub25lcnJvciA9IChlKSA9PiB0aGlzLm9uRXJyb3IoXCJ3ZWJzb2NrZXQgZXJyb3JcIiwgZSk7XG4gICAgfVxuICAgIHdyaXRlKHBhY2tldHMpIHtcbiAgICAgICAgdGhpcy53cml0YWJsZSA9IGZhbHNlO1xuICAgICAgICAvLyBlbmNvZGVQYWNrZXQgZWZmaWNpZW50IGFzIGl0IHVzZXMgV1MgZnJhbWluZ1xuICAgICAgICAvLyBubyBuZWVkIGZvciBlbmNvZGVQYXlsb2FkXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFja2V0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgcGFja2V0ID0gcGFja2V0c1tpXTtcbiAgICAgICAgICAgIGNvbnN0IGxhc3RQYWNrZXQgPSBpID09PSBwYWNrZXRzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICBlbmNvZGVQYWNrZXQocGFja2V0LCB0aGlzLnN1cHBvcnRzQmluYXJ5LCAoZGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIFNvbWV0aW1lcyB0aGUgd2Vic29ja2V0IGhhcyBhbHJlYWR5IGJlZW4gY2xvc2VkIGJ1dCB0aGUgYnJvd3NlciBkaWRuJ3RcbiAgICAgICAgICAgICAgICAvLyBoYXZlIGEgY2hhbmNlIG9mIGluZm9ybWluZyB1cyBhYm91dCBpdCB5ZXQsIGluIHRoYXQgY2FzZSBzZW5kIHdpbGxcbiAgICAgICAgICAgICAgICAvLyB0aHJvdyBhbiBlcnJvclxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZG9Xcml0ZShwYWNrZXQsIGRhdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobGFzdFBhY2tldCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBmYWtlIGRyYWluXG4gICAgICAgICAgICAgICAgICAgIC8vIGRlZmVyIHRvIG5leHQgdGljayB0byBhbGxvdyBTb2NrZXQgdG8gY2xlYXIgd3JpdGVCdWZmZXJcbiAgICAgICAgICAgICAgICAgICAgbmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53cml0YWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcImRyYWluXCIpO1xuICAgICAgICAgICAgICAgICAgICB9LCB0aGlzLnNldFRpbWVvdXRGbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZG9DbG9zZSgpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLndzICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICB0aGlzLndzLm9uZXJyb3IgPSAoKSA9PiB7IH07XG4gICAgICAgICAgICB0aGlzLndzLmNsb3NlKCk7XG4gICAgICAgICAgICB0aGlzLndzID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgdXJpIGZvciBjb25uZWN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB1cmkoKSB7XG4gICAgICAgIGNvbnN0IHNjaGVtYSA9IHRoaXMub3B0cy5zZWN1cmUgPyBcIndzc1wiIDogXCJ3c1wiO1xuICAgICAgICBjb25zdCBxdWVyeSA9IHRoaXMucXVlcnkgfHwge307XG4gICAgICAgIC8vIGFwcGVuZCB0aW1lc3RhbXAgdG8gVVJJXG4gICAgICAgIGlmICh0aGlzLm9wdHMudGltZXN0YW1wUmVxdWVzdHMpIHtcbiAgICAgICAgICAgIHF1ZXJ5W3RoaXMub3B0cy50aW1lc3RhbXBQYXJhbV0gPSByYW5kb21TdHJpbmcoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBjb21tdW5pY2F0ZSBiaW5hcnkgc3VwcG9ydCBjYXBhYmlsaXRpZXNcbiAgICAgICAgaWYgKCF0aGlzLnN1cHBvcnRzQmluYXJ5KSB7XG4gICAgICAgICAgICBxdWVyeS5iNjQgPSAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZVVyaShzY2hlbWEsIHF1ZXJ5KTtcbiAgICB9XG59XG5jb25zdCBXZWJTb2NrZXRDdG9yID0gZ2xvYmFsVGhpcy5XZWJTb2NrZXQgfHwgZ2xvYmFsVGhpcy5Nb3pXZWJTb2NrZXQ7XG4vKipcbiAqIFdlYlNvY2tldCB0cmFuc3BvcnQgYmFzZWQgb24gdGhlIGJ1aWx0LWluIGBXZWJTb2NrZXRgIG9iamVjdC5cbiAqXG4gKiBVc2FnZTogYnJvd3NlciwgTm9kZS5qcyAoc2luY2UgdjIxKSwgRGVubywgQnVuXG4gKlxuICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvV2ViU29ja2V0XG4gKiBAc2VlIGh0dHBzOi8vY2FuaXVzZS5jb20vbWRuLWFwaV93ZWJzb2NrZXRcbiAqIEBzZWUgaHR0cHM6Ly9ub2RlanMub3JnL2FwaS9nbG9iYWxzLmh0bWwjd2Vic29ja2V0XG4gKi9cbmV4cG9ydCBjbGFzcyBXUyBleHRlbmRzIEJhc2VXUyB7XG4gICAgY3JlYXRlU29ja2V0KHVyaSwgcHJvdG9jb2xzLCBvcHRzKSB7XG4gICAgICAgIHJldHVybiAhaXNSZWFjdE5hdGl2ZVxuICAgICAgICAgICAgPyBwcm90b2NvbHNcbiAgICAgICAgICAgICAgICA/IG5ldyBXZWJTb2NrZXRDdG9yKHVyaSwgcHJvdG9jb2xzKVxuICAgICAgICAgICAgICAgIDogbmV3IFdlYlNvY2tldEN0b3IodXJpKVxuICAgICAgICAgICAgOiBuZXcgV2ViU29ja2V0Q3Rvcih1cmksIHByb3RvY29scywgb3B0cyk7XG4gICAgfVxuICAgIGRvV3JpdGUoX3BhY2tldCwgZGF0YSkge1xuICAgICAgICB0aGlzLndzLnNlbmQoZGF0YSk7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/engine.io-client/build/esm/transports/websocket.js\n\n}");

/***/ },

/***/ "./node_modules/engine.io-client/build/esm/transports/webtransport.js"
/*!****************************************************************************!*\
  !*** ./node_modules/engine.io-client/build/esm/transports/webtransport.js ***!
  \****************************************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   WT: () => (/* binding */ WT)\n/* harmony export */ });\n/* harmony import */ var _transport_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../transport.js */ \"./node_modules/engine.io-client/build/esm/transport.js\");\n/* harmony import */ var _globals_node_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../globals.node.js */ \"./node_modules/engine.io-client/build/esm/globals.js\");\n/* harmony import */ var engine_io_parser__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine.io-parser */ \"./node_modules/engine.io-parser/build/esm/index.js\");\n\n\n\n/**\n * WebTransport transport based on the built-in `WebTransport` object.\n *\n * Usage: browser, Node.js (with the `@fails-components/webtransport` package)\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/WebTransport\n * @see https://caniuse.com/webtransport\n */\nclass WT extends _transport_js__WEBPACK_IMPORTED_MODULE_0__.Transport {\n    get name() {\n        return \"webtransport\";\n    }\n    doOpen() {\n        try {\n            // @ts-ignore\n            this._transport = new WebTransport(this.createUri(\"https\"), this.opts.transportOptions[this.name]);\n        }\n        catch (err) {\n            return this.emitReserved(\"error\", err);\n        }\n        this._transport.closed\n            .then(() => {\n            this.onClose();\n        })\n            .catch((err) => {\n            this.onError(\"webtransport error\", err);\n        });\n        // note: we could have used async/await, but that would require some additional polyfills\n        this._transport.ready.then(() => {\n            this._transport.createBidirectionalStream().then((stream) => {\n                const decoderStream = (0,engine_io_parser__WEBPACK_IMPORTED_MODULE_2__.createPacketDecoderStream)(Number.MAX_SAFE_INTEGER, this.socket.binaryType);\n                const reader = stream.readable.pipeThrough(decoderStream).getReader();\n                const encoderStream = (0,engine_io_parser__WEBPACK_IMPORTED_MODULE_2__.createPacketEncoderStream)();\n                encoderStream.readable.pipeTo(stream.writable);\n                this._writer = encoderStream.writable.getWriter();\n                const read = () => {\n                    reader\n                        .read()\n                        .then(({ done, value }) => {\n                        if (done) {\n                            return;\n                        }\n                        this.onPacket(value);\n                        read();\n                    })\n                        .catch((err) => {\n                    });\n                };\n                read();\n                const packet = { type: \"open\" };\n                if (this.query.sid) {\n                    packet.data = `{\"sid\":\"${this.query.sid}\"}`;\n                }\n                this._writer.write(packet).then(() => this.onOpen());\n            });\n        });\n    }\n    write(packets) {\n        this.writable = false;\n        for (let i = 0; i < packets.length; i++) {\n            const packet = packets[i];\n            const lastPacket = i === packets.length - 1;\n            this._writer.write(packet).then(() => {\n                if (lastPacket) {\n                    (0,_globals_node_js__WEBPACK_IMPORTED_MODULE_1__.nextTick)(() => {\n                        this.writable = true;\n                        this.emitReserved(\"drain\");\n                    }, this.setTimeoutFn);\n                }\n            });\n        }\n    }\n    doClose() {\n        var _a;\n        (_a = this._transport) === null || _a === void 0 ? void 0 : _a.close();\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9idWlsZC9lc20vdHJhbnNwb3J0cy93ZWJ0cmFuc3BvcnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUE0QztBQUNFO0FBQzJDO0FBQ3pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyxpQkFBaUIsb0RBQVM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQywyRUFBeUI7QUFDL0Q7QUFDQSxzQ0FBc0MsMkVBQXlCO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsYUFBYTtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQSxvQ0FBb0MsU0FBUyxlQUFlLEVBQUU7QUFDOUQ7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLG9CQUFvQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiwwREFBUTtBQUM1QjtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmV0cm9hcHAtY2xpZW50Ly4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1jbGllbnQvYnVpbGQvZXNtL3RyYW5zcG9ydHMvd2VidHJhbnNwb3J0LmpzPzJjODciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVHJhbnNwb3J0IH0gZnJvbSBcIi4uL3RyYW5zcG9ydC5qc1wiO1xuaW1wb3J0IHsgbmV4dFRpY2sgfSBmcm9tIFwiLi4vZ2xvYmFscy5ub2RlLmpzXCI7XG5pbXBvcnQgeyBjcmVhdGVQYWNrZXREZWNvZGVyU3RyZWFtLCBjcmVhdGVQYWNrZXRFbmNvZGVyU3RyZWFtLCB9IGZyb20gXCJlbmdpbmUuaW8tcGFyc2VyXCI7XG4vKipcbiAqIFdlYlRyYW5zcG9ydCB0cmFuc3BvcnQgYmFzZWQgb24gdGhlIGJ1aWx0LWluIGBXZWJUcmFuc3BvcnRgIG9iamVjdC5cbiAqXG4gKiBVc2FnZTogYnJvd3NlciwgTm9kZS5qcyAod2l0aCB0aGUgYEBmYWlscy1jb21wb25lbnRzL3dlYnRyYW5zcG9ydGAgcGFja2FnZSlcbiAqXG4gKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9XZWJUcmFuc3BvcnRcbiAqIEBzZWUgaHR0cHM6Ly9jYW5pdXNlLmNvbS93ZWJ0cmFuc3BvcnRcbiAqL1xuZXhwb3J0IGNsYXNzIFdUIGV4dGVuZHMgVHJhbnNwb3J0IHtcbiAgICBnZXQgbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFwid2VidHJhbnNwb3J0XCI7XG4gICAgfVxuICAgIGRvT3BlbigpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIHRoaXMuX3RyYW5zcG9ydCA9IG5ldyBXZWJUcmFuc3BvcnQodGhpcy5jcmVhdGVVcmkoXCJodHRwc1wiKSwgdGhpcy5vcHRzLnRyYW5zcG9ydE9wdGlvbnNbdGhpcy5uYW1lXSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZW1pdFJlc2VydmVkKFwiZXJyb3JcIiwgZXJyKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl90cmFuc3BvcnQuY2xvc2VkXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm9uQ2xvc2UoKTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm9uRXJyb3IoXCJ3ZWJ0cmFuc3BvcnQgZXJyb3JcIiwgZXJyKTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIG5vdGU6IHdlIGNvdWxkIGhhdmUgdXNlZCBhc3luYy9hd2FpdCwgYnV0IHRoYXQgd291bGQgcmVxdWlyZSBzb21lIGFkZGl0aW9uYWwgcG9seWZpbGxzXG4gICAgICAgIHRoaXMuX3RyYW5zcG9ydC5yZWFkeS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX3RyYW5zcG9ydC5jcmVhdGVCaWRpcmVjdGlvbmFsU3RyZWFtKCkudGhlbigoc3RyZWFtKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVjb2RlclN0cmVhbSA9IGNyZWF0ZVBhY2tldERlY29kZXJTdHJlYW0oTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIsIHRoaXMuc29ja2V0LmJpbmFyeVR5cGUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlYWRlciA9IHN0cmVhbS5yZWFkYWJsZS5waXBlVGhyb3VnaChkZWNvZGVyU3RyZWFtKS5nZXRSZWFkZXIoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBlbmNvZGVyU3RyZWFtID0gY3JlYXRlUGFja2V0RW5jb2RlclN0cmVhbSgpO1xuICAgICAgICAgICAgICAgIGVuY29kZXJTdHJlYW0ucmVhZGFibGUucGlwZVRvKHN0cmVhbS53cml0YWJsZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fd3JpdGVyID0gZW5jb2RlclN0cmVhbS53cml0YWJsZS5nZXRXcml0ZXIoKTtcbiAgICAgICAgICAgICAgICBjb25zdCByZWFkID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZWFkZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZWFkKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKCh7IGRvbmUsIHZhbHVlIH0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkb25lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vblBhY2tldCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJlYWQoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwYWNrZXQgPSB7IHR5cGU6IFwib3BlblwiIH07XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucXVlcnkuc2lkKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhY2tldC5kYXRhID0gYHtcInNpZFwiOlwiJHt0aGlzLnF1ZXJ5LnNpZH1cIn1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLl93cml0ZXIud3JpdGUocGFja2V0KS50aGVuKCgpID0+IHRoaXMub25PcGVuKCkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB3cml0ZShwYWNrZXRzKSB7XG4gICAgICAgIHRoaXMud3JpdGFibGUgPSBmYWxzZTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYWNrZXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBwYWNrZXQgPSBwYWNrZXRzW2ldO1xuICAgICAgICAgICAgY29uc3QgbGFzdFBhY2tldCA9IGkgPT09IHBhY2tldHMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIHRoaXMuX3dyaXRlci53cml0ZShwYWNrZXQpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChsYXN0UGFja2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIG5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud3JpdGFibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJkcmFpblwiKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgdGhpcy5zZXRUaW1lb3V0Rm4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGRvQ2xvc2UoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgKF9hID0gdGhpcy5fdHJhbnNwb3J0KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2xvc2UoKTtcbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/engine.io-client/build/esm/transports/webtransport.js\n\n}");

/***/ },

/***/ "./node_modules/engine.io-client/build/esm/util.js"
/*!*********************************************************!*\
  !*** ./node_modules/engine.io-client/build/esm/util.js ***!
  \*********************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   byteLength: () => (/* binding */ byteLength),\n/* harmony export */   installTimerFunctions: () => (/* binding */ installTimerFunctions),\n/* harmony export */   pick: () => (/* binding */ pick),\n/* harmony export */   randomString: () => (/* binding */ randomString)\n/* harmony export */ });\n/* harmony import */ var _globals_node_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./globals.node.js */ \"./node_modules/engine.io-client/build/esm/globals.js\");\n\nfunction pick(obj, ...attr) {\n    return attr.reduce((acc, k) => {\n        if (obj.hasOwnProperty(k)) {\n            acc[k] = obj[k];\n        }\n        return acc;\n    }, {});\n}\n// Keep a reference to the real timeout functions so they can be used when overridden\nconst NATIVE_SET_TIMEOUT = _globals_node_js__WEBPACK_IMPORTED_MODULE_0__.globalThisShim.setTimeout;\nconst NATIVE_CLEAR_TIMEOUT = _globals_node_js__WEBPACK_IMPORTED_MODULE_0__.globalThisShim.clearTimeout;\nfunction installTimerFunctions(obj, opts) {\n    if (opts.useNativeTimers) {\n        obj.setTimeoutFn = NATIVE_SET_TIMEOUT.bind(_globals_node_js__WEBPACK_IMPORTED_MODULE_0__.globalThisShim);\n        obj.clearTimeoutFn = NATIVE_CLEAR_TIMEOUT.bind(_globals_node_js__WEBPACK_IMPORTED_MODULE_0__.globalThisShim);\n    }\n    else {\n        obj.setTimeoutFn = _globals_node_js__WEBPACK_IMPORTED_MODULE_0__.globalThisShim.setTimeout.bind(_globals_node_js__WEBPACK_IMPORTED_MODULE_0__.globalThisShim);\n        obj.clearTimeoutFn = _globals_node_js__WEBPACK_IMPORTED_MODULE_0__.globalThisShim.clearTimeout.bind(_globals_node_js__WEBPACK_IMPORTED_MODULE_0__.globalThisShim);\n    }\n}\n// base64 encoded buffers are about 33% bigger (https://en.wikipedia.org/wiki/Base64)\nconst BASE64_OVERHEAD = 1.33;\n// we could also have used `new Blob([obj]).size`, but it isn't supported in IE9\nfunction byteLength(obj) {\n    if (typeof obj === \"string\") {\n        return utf8Length(obj);\n    }\n    // arraybuffer or blob\n    return Math.ceil((obj.byteLength || obj.size) * BASE64_OVERHEAD);\n}\nfunction utf8Length(str) {\n    let c = 0, length = 0;\n    for (let i = 0, l = str.length; i < l; i++) {\n        c = str.charCodeAt(i);\n        if (c < 0x80) {\n            length += 1;\n        }\n        else if (c < 0x800) {\n            length += 2;\n        }\n        else if (c < 0xd800 || c >= 0xe000) {\n            length += 3;\n        }\n        else {\n            i++;\n            length += 4;\n        }\n    }\n    return length;\n}\n/**\n * Generates a random 8-characters string.\n */\nfunction randomString() {\n    return (Date.now().toString(36).substring(3) +\n        Math.random().toString(36).substring(2, 5));\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9idWlsZC9lc20vdXRpbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFpRTtBQUMxRDtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLElBQUk7QUFDVDtBQUNBO0FBQ0EsMkJBQTJCLDREQUFVO0FBQ3JDLDZCQUE2Qiw0REFBVTtBQUNoQztBQUNQO0FBQ0EsbURBQW1ELDREQUFVO0FBQzdELHVEQUF1RCw0REFBVTtBQUNqRTtBQUNBO0FBQ0EsMkJBQTJCLDREQUFVLGlCQUFpQiw0REFBVTtBQUNoRSw2QkFBNkIsNERBQVUsbUJBQW1CLDREQUFVO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsT0FBTztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZXRyb2FwcC1jbGllbnQvLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9idWlsZC9lc20vdXRpbC5qcz8wYmRmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdsb2JhbFRoaXNTaGltIGFzIGdsb2JhbFRoaXMgfSBmcm9tIFwiLi9nbG9iYWxzLm5vZGUuanNcIjtcbmV4cG9ydCBmdW5jdGlvbiBwaWNrKG9iaiwgLi4uYXR0cikge1xuICAgIHJldHVybiBhdHRyLnJlZHVjZSgoYWNjLCBrKSA9PiB7XG4gICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkoaykpIHtcbiAgICAgICAgICAgIGFjY1trXSA9IG9ialtrXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHt9KTtcbn1cbi8vIEtlZXAgYSByZWZlcmVuY2UgdG8gdGhlIHJlYWwgdGltZW91dCBmdW5jdGlvbnMgc28gdGhleSBjYW4gYmUgdXNlZCB3aGVuIG92ZXJyaWRkZW5cbmNvbnN0IE5BVElWRV9TRVRfVElNRU9VVCA9IGdsb2JhbFRoaXMuc2V0VGltZW91dDtcbmNvbnN0IE5BVElWRV9DTEVBUl9USU1FT1VUID0gZ2xvYmFsVGhpcy5jbGVhclRpbWVvdXQ7XG5leHBvcnQgZnVuY3Rpb24gaW5zdGFsbFRpbWVyRnVuY3Rpb25zKG9iaiwgb3B0cykge1xuICAgIGlmIChvcHRzLnVzZU5hdGl2ZVRpbWVycykge1xuICAgICAgICBvYmouc2V0VGltZW91dEZuID0gTkFUSVZFX1NFVF9USU1FT1VULmJpbmQoZ2xvYmFsVGhpcyk7XG4gICAgICAgIG9iai5jbGVhclRpbWVvdXRGbiA9IE5BVElWRV9DTEVBUl9USU1FT1VULmJpbmQoZ2xvYmFsVGhpcyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBvYmouc2V0VGltZW91dEZuID0gZ2xvYmFsVGhpcy5zZXRUaW1lb3V0LmJpbmQoZ2xvYmFsVGhpcyk7XG4gICAgICAgIG9iai5jbGVhclRpbWVvdXRGbiA9IGdsb2JhbFRoaXMuY2xlYXJUaW1lb3V0LmJpbmQoZ2xvYmFsVGhpcyk7XG4gICAgfVxufVxuLy8gYmFzZTY0IGVuY29kZWQgYnVmZmVycyBhcmUgYWJvdXQgMzMlIGJpZ2dlciAoaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQmFzZTY0KVxuY29uc3QgQkFTRTY0X09WRVJIRUFEID0gMS4zMztcbi8vIHdlIGNvdWxkIGFsc28gaGF2ZSB1c2VkIGBuZXcgQmxvYihbb2JqXSkuc2l6ZWAsIGJ1dCBpdCBpc24ndCBzdXBwb3J0ZWQgaW4gSUU5XG5leHBvcnQgZnVuY3Rpb24gYnl0ZUxlbmd0aChvYmopIHtcbiAgICBpZiAodHlwZW9mIG9iaiA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICByZXR1cm4gdXRmOExlbmd0aChvYmopO1xuICAgIH1cbiAgICAvLyBhcnJheWJ1ZmZlciBvciBibG9iXG4gICAgcmV0dXJuIE1hdGguY2VpbCgob2JqLmJ5dGVMZW5ndGggfHwgb2JqLnNpemUpICogQkFTRTY0X09WRVJIRUFEKTtcbn1cbmZ1bmN0aW9uIHV0ZjhMZW5ndGgoc3RyKSB7XG4gICAgbGV0IGMgPSAwLCBsZW5ndGggPSAwO1xuICAgIGZvciAobGV0IGkgPSAwLCBsID0gc3RyLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICBjID0gc3RyLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIGlmIChjIDwgMHg4MCkge1xuICAgICAgICAgICAgbGVuZ3RoICs9IDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYyA8IDB4ODAwKSB7XG4gICAgICAgICAgICBsZW5ndGggKz0gMjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjIDwgMHhkODAwIHx8IGMgPj0gMHhlMDAwKSB7XG4gICAgICAgICAgICBsZW5ndGggKz0gMztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgIGxlbmd0aCArPSA0O1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBsZW5ndGg7XG59XG4vKipcbiAqIEdlbmVyYXRlcyBhIHJhbmRvbSA4LWNoYXJhY3RlcnMgc3RyaW5nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmFuZG9tU3RyaW5nKCkge1xuICAgIHJldHVybiAoRGF0ZS5ub3coKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDMpICtcbiAgICAgICAgTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIsIDUpKTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/engine.io-client/build/esm/util.js\n\n}");

/***/ },

/***/ "./node_modules/engine.io-parser/build/esm/commons.js"
/*!************************************************************!*\
  !*** ./node_modules/engine.io-parser/build/esm/commons.js ***!
  \************************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ERROR_PACKET: () => (/* binding */ ERROR_PACKET),\n/* harmony export */   PACKET_TYPES: () => (/* binding */ PACKET_TYPES),\n/* harmony export */   PACKET_TYPES_REVERSE: () => (/* binding */ PACKET_TYPES_REVERSE)\n/* harmony export */ });\nconst PACKET_TYPES = Object.create(null); // no Map = no polyfill\nPACKET_TYPES[\"open\"] = \"0\";\nPACKET_TYPES[\"close\"] = \"1\";\nPACKET_TYPES[\"ping\"] = \"2\";\nPACKET_TYPES[\"pong\"] = \"3\";\nPACKET_TYPES[\"message\"] = \"4\";\nPACKET_TYPES[\"upgrade\"] = \"5\";\nPACKET_TYPES[\"noop\"] = \"6\";\nconst PACKET_TYPES_REVERSE = Object.create(null);\nObject.keys(PACKET_TYPES).forEach((key) => {\n    PACKET_TYPES_REVERSE[PACKET_TYPES[key]] = key;\n});\nconst ERROR_PACKET = { type: \"error\", data: \"parser error\" };\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLXBhcnNlci9idWlsZC9lc20vY29tbW9ucy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSwwQ0FBMEM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsdUJBQXVCO0FBQ3FDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmV0cm9hcHAtY2xpZW50Ly4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1wYXJzZXIvYnVpbGQvZXNtL2NvbW1vbnMuanM/NjVlNCJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBQQUNLRVRfVFlQRVMgPSBPYmplY3QuY3JlYXRlKG51bGwpOyAvLyBubyBNYXAgPSBubyBwb2x5ZmlsbFxuUEFDS0VUX1RZUEVTW1wib3BlblwiXSA9IFwiMFwiO1xuUEFDS0VUX1RZUEVTW1wiY2xvc2VcIl0gPSBcIjFcIjtcblBBQ0tFVF9UWVBFU1tcInBpbmdcIl0gPSBcIjJcIjtcblBBQ0tFVF9UWVBFU1tcInBvbmdcIl0gPSBcIjNcIjtcblBBQ0tFVF9UWVBFU1tcIm1lc3NhZ2VcIl0gPSBcIjRcIjtcblBBQ0tFVF9UWVBFU1tcInVwZ3JhZGVcIl0gPSBcIjVcIjtcblBBQ0tFVF9UWVBFU1tcIm5vb3BcIl0gPSBcIjZcIjtcbmNvbnN0IFBBQ0tFVF9UWVBFU19SRVZFUlNFID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbk9iamVjdC5rZXlzKFBBQ0tFVF9UWVBFUykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgUEFDS0VUX1RZUEVTX1JFVkVSU0VbUEFDS0VUX1RZUEVTW2tleV1dID0ga2V5O1xufSk7XG5jb25zdCBFUlJPUl9QQUNLRVQgPSB7IHR5cGU6IFwiZXJyb3JcIiwgZGF0YTogXCJwYXJzZXIgZXJyb3JcIiB9O1xuZXhwb3J0IHsgUEFDS0VUX1RZUEVTLCBQQUNLRVRfVFlQRVNfUkVWRVJTRSwgRVJST1JfUEFDS0VUIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/engine.io-parser/build/esm/commons.js\n\n}");

/***/ },

/***/ "./node_modules/engine.io-parser/build/esm/contrib/base64-arraybuffer.js"
/*!*******************************************************************************!*\
  !*** ./node_modules/engine.io-parser/build/esm/contrib/base64-arraybuffer.js ***!
  \*******************************************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   decode: () => (/* binding */ decode),\n/* harmony export */   encode: () => (/* binding */ encode)\n/* harmony export */ });\n// imported from https://github.com/socketio/base64-arraybuffer\nconst chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n// Use a lookup table to find the index.\nconst lookup = typeof Uint8Array === 'undefined' ? [] : new Uint8Array(256);\nfor (let i = 0; i < chars.length; i++) {\n    lookup[chars.charCodeAt(i)] = i;\n}\nconst encode = (arraybuffer) => {\n    let bytes = new Uint8Array(arraybuffer), i, len = bytes.length, base64 = '';\n    for (i = 0; i < len; i += 3) {\n        base64 += chars[bytes[i] >> 2];\n        base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n        base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n        base64 += chars[bytes[i + 2] & 63];\n    }\n    if (len % 3 === 2) {\n        base64 = base64.substring(0, base64.length - 1) + '=';\n    }\n    else if (len % 3 === 1) {\n        base64 = base64.substring(0, base64.length - 2) + '==';\n    }\n    return base64;\n};\nconst decode = (base64) => {\n    let bufferLength = base64.length * 0.75, len = base64.length, i, p = 0, encoded1, encoded2, encoded3, encoded4;\n    if (base64[base64.length - 1] === '=') {\n        bufferLength--;\n        if (base64[base64.length - 2] === '=') {\n            bufferLength--;\n        }\n    }\n    const arraybuffer = new ArrayBuffer(bufferLength), bytes = new Uint8Array(arraybuffer);\n    for (i = 0; i < len; i += 4) {\n        encoded1 = lookup[base64.charCodeAt(i)];\n        encoded2 = lookup[base64.charCodeAt(i + 1)];\n        encoded3 = lookup[base64.charCodeAt(i + 2)];\n        encoded4 = lookup[base64.charCodeAt(i + 3)];\n        bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n        bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n        bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n    }\n    return arraybuffer;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLXBhcnNlci9idWlsZC9lc20vY29udHJpYi9iYXNlNjQtYXJyYXlidWZmZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixrQkFBa0I7QUFDbEM7QUFDQTtBQUNPO0FBQ1A7QUFDQSxnQkFBZ0IsU0FBUztBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixTQUFTO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmV0cm9hcHAtY2xpZW50Ly4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1wYXJzZXIvYnVpbGQvZXNtL2NvbnRyaWIvYmFzZTY0LWFycmF5YnVmZmVyLmpzPzYxNTAiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gaW1wb3J0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vc29ja2V0aW8vYmFzZTY0LWFycmF5YnVmZmVyXG5jb25zdCBjaGFycyA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvJztcbi8vIFVzZSBhIGxvb2t1cCB0YWJsZSB0byBmaW5kIHRoZSBpbmRleC5cbmNvbnN0IGxvb2t1cCA9IHR5cGVvZiBVaW50OEFycmF5ID09PSAndW5kZWZpbmVkJyA/IFtdIDogbmV3IFVpbnQ4QXJyYXkoMjU2KTtcbmZvciAobGV0IGkgPSAwOyBpIDwgY2hhcnMubGVuZ3RoOyBpKyspIHtcbiAgICBsb29rdXBbY2hhcnMuY2hhckNvZGVBdChpKV0gPSBpO1xufVxuZXhwb3J0IGNvbnN0IGVuY29kZSA9IChhcnJheWJ1ZmZlcikgPT4ge1xuICAgIGxldCBieXRlcyA9IG5ldyBVaW50OEFycmF5KGFycmF5YnVmZmVyKSwgaSwgbGVuID0gYnl0ZXMubGVuZ3RoLCBiYXNlNjQgPSAnJztcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpICs9IDMpIHtcbiAgICAgICAgYmFzZTY0ICs9IGNoYXJzW2J5dGVzW2ldID4+IDJdO1xuICAgICAgICBiYXNlNjQgKz0gY2hhcnNbKChieXRlc1tpXSAmIDMpIDw8IDQpIHwgKGJ5dGVzW2kgKyAxXSA+PiA0KV07XG4gICAgICAgIGJhc2U2NCArPSBjaGFyc1soKGJ5dGVzW2kgKyAxXSAmIDE1KSA8PCAyKSB8IChieXRlc1tpICsgMl0gPj4gNildO1xuICAgICAgICBiYXNlNjQgKz0gY2hhcnNbYnl0ZXNbaSArIDJdICYgNjNdO1xuICAgIH1cbiAgICBpZiAobGVuICUgMyA9PT0gMikge1xuICAgICAgICBiYXNlNjQgPSBiYXNlNjQuc3Vic3RyaW5nKDAsIGJhc2U2NC5sZW5ndGggLSAxKSArICc9JztcbiAgICB9XG4gICAgZWxzZSBpZiAobGVuICUgMyA9PT0gMSkge1xuICAgICAgICBiYXNlNjQgPSBiYXNlNjQuc3Vic3RyaW5nKDAsIGJhc2U2NC5sZW5ndGggLSAyKSArICc9PSc7XG4gICAgfVxuICAgIHJldHVybiBiYXNlNjQ7XG59O1xuZXhwb3J0IGNvbnN0IGRlY29kZSA9IChiYXNlNjQpID0+IHtcbiAgICBsZXQgYnVmZmVyTGVuZ3RoID0gYmFzZTY0Lmxlbmd0aCAqIDAuNzUsIGxlbiA9IGJhc2U2NC5sZW5ndGgsIGksIHAgPSAwLCBlbmNvZGVkMSwgZW5jb2RlZDIsIGVuY29kZWQzLCBlbmNvZGVkNDtcbiAgICBpZiAoYmFzZTY0W2Jhc2U2NC5sZW5ndGggLSAxXSA9PT0gJz0nKSB7XG4gICAgICAgIGJ1ZmZlckxlbmd0aC0tO1xuICAgICAgICBpZiAoYmFzZTY0W2Jhc2U2NC5sZW5ndGggLSAyXSA9PT0gJz0nKSB7XG4gICAgICAgICAgICBidWZmZXJMZW5ndGgtLTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBhcnJheWJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcihidWZmZXJMZW5ndGgpLCBieXRlcyA9IG5ldyBVaW50OEFycmF5KGFycmF5YnVmZmVyKTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpICs9IDQpIHtcbiAgICAgICAgZW5jb2RlZDEgPSBsb29rdXBbYmFzZTY0LmNoYXJDb2RlQXQoaSldO1xuICAgICAgICBlbmNvZGVkMiA9IGxvb2t1cFtiYXNlNjQuY2hhckNvZGVBdChpICsgMSldO1xuICAgICAgICBlbmNvZGVkMyA9IGxvb2t1cFtiYXNlNjQuY2hhckNvZGVBdChpICsgMildO1xuICAgICAgICBlbmNvZGVkNCA9IGxvb2t1cFtiYXNlNjQuY2hhckNvZGVBdChpICsgMyldO1xuICAgICAgICBieXRlc1twKytdID0gKGVuY29kZWQxIDw8IDIpIHwgKGVuY29kZWQyID4+IDQpO1xuICAgICAgICBieXRlc1twKytdID0gKChlbmNvZGVkMiAmIDE1KSA8PCA0KSB8IChlbmNvZGVkMyA+PiAyKTtcbiAgICAgICAgYnl0ZXNbcCsrXSA9ICgoZW5jb2RlZDMgJiAzKSA8PCA2KSB8IChlbmNvZGVkNCAmIDYzKTtcbiAgICB9XG4gICAgcmV0dXJuIGFycmF5YnVmZmVyO1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/engine.io-parser/build/esm/contrib/base64-arraybuffer.js\n\n}");

/***/ },

/***/ "./node_modules/engine.io-parser/build/esm/decodePacket.browser.js"
/*!*************************************************************************!*\
  !*** ./node_modules/engine.io-parser/build/esm/decodePacket.browser.js ***!
  \*************************************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   decodePacket: () => (/* binding */ decodePacket)\n/* harmony export */ });\n/* harmony import */ var _commons_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./commons.js */ \"./node_modules/engine.io-parser/build/esm/commons.js\");\n/* harmony import */ var _contrib_base64_arraybuffer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./contrib/base64-arraybuffer.js */ \"./node_modules/engine.io-parser/build/esm/contrib/base64-arraybuffer.js\");\n\n\nconst withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\nconst decodePacket = (encodedPacket, binaryType) => {\n    if (typeof encodedPacket !== \"string\") {\n        return {\n            type: \"message\",\n            data: mapBinary(encodedPacket, binaryType),\n        };\n    }\n    const type = encodedPacket.charAt(0);\n    if (type === \"b\") {\n        return {\n            type: \"message\",\n            data: decodeBase64Packet(encodedPacket.substring(1), binaryType),\n        };\n    }\n    const packetType = _commons_js__WEBPACK_IMPORTED_MODULE_0__.PACKET_TYPES_REVERSE[type];\n    if (!packetType) {\n        return _commons_js__WEBPACK_IMPORTED_MODULE_0__.ERROR_PACKET;\n    }\n    return encodedPacket.length > 1\n        ? {\n            type: _commons_js__WEBPACK_IMPORTED_MODULE_0__.PACKET_TYPES_REVERSE[type],\n            data: encodedPacket.substring(1),\n        }\n        : {\n            type: _commons_js__WEBPACK_IMPORTED_MODULE_0__.PACKET_TYPES_REVERSE[type],\n        };\n};\nconst decodeBase64Packet = (data, binaryType) => {\n    if (withNativeArrayBuffer) {\n        const decoded = (0,_contrib_base64_arraybuffer_js__WEBPACK_IMPORTED_MODULE_1__.decode)(data);\n        return mapBinary(decoded, binaryType);\n    }\n    else {\n        return { base64: true, data }; // fallback for old browsers\n    }\n};\nconst mapBinary = (data, binaryType) => {\n    switch (binaryType) {\n        case \"blob\":\n            if (data instanceof Blob) {\n                // from WebSocket + binaryType \"blob\"\n                return data;\n            }\n            else {\n                // from HTTP long-polling or WebTransport\n                return new Blob([data]);\n            }\n        case \"arraybuffer\":\n        default:\n            if (data instanceof ArrayBuffer) {\n                // from HTTP long-polling (base64) or WebSocket + binaryType \"arraybuffer\"\n                return data;\n            }\n            else {\n                // from WebTransport (Uint8Array)\n                return data.buffer;\n            }\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLXBhcnNlci9idWlsZC9lc20vZGVjb2RlUGFja2V0LmJyb3dzZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQW1FO0FBQ1Y7QUFDekQ7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLDZEQUFvQjtBQUMzQztBQUNBLGVBQWUscURBQVk7QUFDM0I7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLDZEQUFvQjtBQUN0QztBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsNkRBQW9CO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHNFQUFNO0FBQzlCO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixzQkFBc0I7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZXRyb2FwcC1jbGllbnQvLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLXBhcnNlci9idWlsZC9lc20vZGVjb2RlUGFja2V0LmJyb3dzZXIuanM/MGU4OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFUlJPUl9QQUNLRVQsIFBBQ0tFVF9UWVBFU19SRVZFUlNFLCB9IGZyb20gXCIuL2NvbW1vbnMuanNcIjtcbmltcG9ydCB7IGRlY29kZSB9IGZyb20gXCIuL2NvbnRyaWIvYmFzZTY0LWFycmF5YnVmZmVyLmpzXCI7XG5jb25zdCB3aXRoTmF0aXZlQXJyYXlCdWZmZXIgPSB0eXBlb2YgQXJyYXlCdWZmZXIgPT09IFwiZnVuY3Rpb25cIjtcbmV4cG9ydCBjb25zdCBkZWNvZGVQYWNrZXQgPSAoZW5jb2RlZFBhY2tldCwgYmluYXJ5VHlwZSkgPT4ge1xuICAgIGlmICh0eXBlb2YgZW5jb2RlZFBhY2tldCAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogXCJtZXNzYWdlXCIsXG4gICAgICAgICAgICBkYXRhOiBtYXBCaW5hcnkoZW5jb2RlZFBhY2tldCwgYmluYXJ5VHlwZSksXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IHR5cGUgPSBlbmNvZGVkUGFja2V0LmNoYXJBdCgwKTtcbiAgICBpZiAodHlwZSA9PT0gXCJiXCIpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IFwibWVzc2FnZVwiLFxuICAgICAgICAgICAgZGF0YTogZGVjb2RlQmFzZTY0UGFja2V0KGVuY29kZWRQYWNrZXQuc3Vic3RyaW5nKDEpLCBiaW5hcnlUeXBlKSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgcGFja2V0VHlwZSA9IFBBQ0tFVF9UWVBFU19SRVZFUlNFW3R5cGVdO1xuICAgIGlmICghcGFja2V0VHlwZSkge1xuICAgICAgICByZXR1cm4gRVJST1JfUEFDS0VUO1xuICAgIH1cbiAgICByZXR1cm4gZW5jb2RlZFBhY2tldC5sZW5ndGggPiAxXG4gICAgICAgID8ge1xuICAgICAgICAgICAgdHlwZTogUEFDS0VUX1RZUEVTX1JFVkVSU0VbdHlwZV0sXG4gICAgICAgICAgICBkYXRhOiBlbmNvZGVkUGFja2V0LnN1YnN0cmluZygxKSxcbiAgICAgICAgfVxuICAgICAgICA6IHtcbiAgICAgICAgICAgIHR5cGU6IFBBQ0tFVF9UWVBFU19SRVZFUlNFW3R5cGVdLFxuICAgICAgICB9O1xufTtcbmNvbnN0IGRlY29kZUJhc2U2NFBhY2tldCA9IChkYXRhLCBiaW5hcnlUeXBlKSA9PiB7XG4gICAgaWYgKHdpdGhOYXRpdmVBcnJheUJ1ZmZlcikge1xuICAgICAgICBjb25zdCBkZWNvZGVkID0gZGVjb2RlKGRhdGEpO1xuICAgICAgICByZXR1cm4gbWFwQmluYXJ5KGRlY29kZWQsIGJpbmFyeVR5cGUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHsgYmFzZTY0OiB0cnVlLCBkYXRhIH07IC8vIGZhbGxiYWNrIGZvciBvbGQgYnJvd3NlcnNcbiAgICB9XG59O1xuY29uc3QgbWFwQmluYXJ5ID0gKGRhdGEsIGJpbmFyeVR5cGUpID0+IHtcbiAgICBzd2l0Y2ggKGJpbmFyeVR5cGUpIHtcbiAgICAgICAgY2FzZSBcImJsb2JcIjpcbiAgICAgICAgICAgIGlmIChkYXRhIGluc3RhbmNlb2YgQmxvYikge1xuICAgICAgICAgICAgICAgIC8vIGZyb20gV2ViU29ja2V0ICsgYmluYXJ5VHlwZSBcImJsb2JcIlxuICAgICAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gZnJvbSBIVFRQIGxvbmctcG9sbGluZyBvciBXZWJUcmFuc3BvcnRcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEJsb2IoW2RhdGFdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgY2FzZSBcImFycmF5YnVmZmVyXCI6XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBpZiAoZGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgICAgICAgICAgICAgLy8gZnJvbSBIVFRQIGxvbmctcG9sbGluZyAoYmFzZTY0KSBvciBXZWJTb2NrZXQgKyBiaW5hcnlUeXBlIFwiYXJyYXlidWZmZXJcIlxuICAgICAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gZnJvbSBXZWJUcmFuc3BvcnQgKFVpbnQ4QXJyYXkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuYnVmZmVyO1xuICAgICAgICAgICAgfVxuICAgIH1cbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/engine.io-parser/build/esm/decodePacket.browser.js\n\n}");

/***/ },

/***/ "./node_modules/engine.io-parser/build/esm/encodePacket.browser.js"
/*!*************************************************************************!*\
  !*** ./node_modules/engine.io-parser/build/esm/encodePacket.browser.js ***!
  \*************************************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   encodePacket: () => (/* binding */ encodePacket),\n/* harmony export */   encodePacketToBinary: () => (/* binding */ encodePacketToBinary)\n/* harmony export */ });\n/* harmony import */ var _commons_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./commons.js */ \"./node_modules/engine.io-parser/build/esm/commons.js\");\n\nconst withNativeBlob = typeof Blob === \"function\" ||\n    (typeof Blob !== \"undefined\" &&\n        Object.prototype.toString.call(Blob) === \"[object BlobConstructor]\");\nconst withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\n// ArrayBuffer.isView method is not defined in IE10\nconst isView = (obj) => {\n    return typeof ArrayBuffer.isView === \"function\"\n        ? ArrayBuffer.isView(obj)\n        : obj && obj.buffer instanceof ArrayBuffer;\n};\nconst encodePacket = ({ type, data }, supportsBinary, callback) => {\n    if (withNativeBlob && data instanceof Blob) {\n        if (supportsBinary) {\n            return callback(data);\n        }\n        else {\n            return encodeBlobAsBase64(data, callback);\n        }\n    }\n    else if (withNativeArrayBuffer &&\n        (data instanceof ArrayBuffer || isView(data))) {\n        if (supportsBinary) {\n            return callback(data);\n        }\n        else {\n            return encodeBlobAsBase64(new Blob([data]), callback);\n        }\n    }\n    // plain string\n    return callback(_commons_js__WEBPACK_IMPORTED_MODULE_0__.PACKET_TYPES[type] + (data || \"\"));\n};\nconst encodeBlobAsBase64 = (data, callback) => {\n    const fileReader = new FileReader();\n    fileReader.onload = function () {\n        const content = fileReader.result.split(\",\")[1];\n        callback(\"b\" + (content || \"\"));\n    };\n    return fileReader.readAsDataURL(data);\n};\nfunction toArray(data) {\n    if (data instanceof Uint8Array) {\n        return data;\n    }\n    else if (data instanceof ArrayBuffer) {\n        return new Uint8Array(data);\n    }\n    else {\n        return new Uint8Array(data.buffer, data.byteOffset, data.byteLength);\n    }\n}\nlet TEXT_ENCODER;\nfunction encodePacketToBinary(packet, callback) {\n    if (withNativeBlob && packet.data instanceof Blob) {\n        return packet.data.arrayBuffer().then(toArray).then(callback);\n    }\n    else if (withNativeArrayBuffer &&\n        (packet.data instanceof ArrayBuffer || isView(packet.data))) {\n        return callback(toArray(packet.data));\n    }\n    encodePacket(packet, false, (encoded) => {\n        if (!TEXT_ENCODER) {\n            TEXT_ENCODER = new TextEncoder();\n        }\n        callback(TEXT_ENCODER.encode(encoded));\n    });\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLXBhcnNlci9idWlsZC9lc20vZW5jb2RlUGFja2V0LmJyb3dzZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTRDO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLFlBQVk7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHFEQUFZO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3dCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmV0cm9hcHAtY2xpZW50Ly4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1wYXJzZXIvYnVpbGQvZXNtL2VuY29kZVBhY2tldC5icm93c2VyLmpzPzk5MjMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUEFDS0VUX1RZUEVTIH0gZnJvbSBcIi4vY29tbW9ucy5qc1wiO1xuY29uc3Qgd2l0aE5hdGl2ZUJsb2IgPSB0eXBlb2YgQmxvYiA9PT0gXCJmdW5jdGlvblwiIHx8XG4gICAgKHR5cGVvZiBCbG9iICE9PSBcInVuZGVmaW5lZFwiICYmXG4gICAgICAgIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChCbG9iKSA9PT0gXCJbb2JqZWN0IEJsb2JDb25zdHJ1Y3Rvcl1cIik7XG5jb25zdCB3aXRoTmF0aXZlQXJyYXlCdWZmZXIgPSB0eXBlb2YgQXJyYXlCdWZmZXIgPT09IFwiZnVuY3Rpb25cIjtcbi8vIEFycmF5QnVmZmVyLmlzVmlldyBtZXRob2QgaXMgbm90IGRlZmluZWQgaW4gSUUxMFxuY29uc3QgaXNWaWV3ID0gKG9iaikgPT4ge1xuICAgIHJldHVybiB0eXBlb2YgQXJyYXlCdWZmZXIuaXNWaWV3ID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgPyBBcnJheUJ1ZmZlci5pc1ZpZXcob2JqKVxuICAgICAgICA6IG9iaiAmJiBvYmouYnVmZmVyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXI7XG59O1xuY29uc3QgZW5jb2RlUGFja2V0ID0gKHsgdHlwZSwgZGF0YSB9LCBzdXBwb3J0c0JpbmFyeSwgY2FsbGJhY2spID0+IHtcbiAgICBpZiAod2l0aE5hdGl2ZUJsb2IgJiYgZGF0YSBpbnN0YW5jZW9mIEJsb2IpIHtcbiAgICAgICAgaWYgKHN1cHBvcnRzQmluYXJ5KSB7XG4gICAgICAgICAgICByZXR1cm4gY2FsbGJhY2soZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZW5jb2RlQmxvYkFzQmFzZTY0KGRhdGEsIGNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICh3aXRoTmF0aXZlQXJyYXlCdWZmZXIgJiZcbiAgICAgICAgKGRhdGEgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlciB8fCBpc1ZpZXcoZGF0YSkpKSB7XG4gICAgICAgIGlmIChzdXBwb3J0c0JpbmFyeSkge1xuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGVuY29kZUJsb2JBc0Jhc2U2NChuZXcgQmxvYihbZGF0YV0pLCBjYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gcGxhaW4gc3RyaW5nXG4gICAgcmV0dXJuIGNhbGxiYWNrKFBBQ0tFVF9UWVBFU1t0eXBlXSArIChkYXRhIHx8IFwiXCIpKTtcbn07XG5jb25zdCBlbmNvZGVCbG9iQXNCYXNlNjQgPSAoZGF0YSwgY2FsbGJhY2spID0+IHtcbiAgICBjb25zdCBmaWxlUmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICBmaWxlUmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc3QgY29udGVudCA9IGZpbGVSZWFkZXIucmVzdWx0LnNwbGl0KFwiLFwiKVsxXTtcbiAgICAgICAgY2FsbGJhY2soXCJiXCIgKyAoY29udGVudCB8fCBcIlwiKSk7XG4gICAgfTtcbiAgICByZXR1cm4gZmlsZVJlYWRlci5yZWFkQXNEYXRhVVJMKGRhdGEpO1xufTtcbmZ1bmN0aW9uIHRvQXJyYXkoZGF0YSkge1xuICAgIGlmIChkYXRhIGluc3RhbmNlb2YgVWludDhBcnJheSkge1xuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG4gICAgZWxzZSBpZiAoZGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShkYXRhKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShkYXRhLmJ1ZmZlciwgZGF0YS5ieXRlT2Zmc2V0LCBkYXRhLmJ5dGVMZW5ndGgpO1xuICAgIH1cbn1cbmxldCBURVhUX0VOQ09ERVI7XG5leHBvcnQgZnVuY3Rpb24gZW5jb2RlUGFja2V0VG9CaW5hcnkocGFja2V0LCBjYWxsYmFjaykge1xuICAgIGlmICh3aXRoTmF0aXZlQmxvYiAmJiBwYWNrZXQuZGF0YSBpbnN0YW5jZW9mIEJsb2IpIHtcbiAgICAgICAgcmV0dXJuIHBhY2tldC5kYXRhLmFycmF5QnVmZmVyKCkudGhlbih0b0FycmF5KS50aGVuKGNhbGxiYWNrKTtcbiAgICB9XG4gICAgZWxzZSBpZiAod2l0aE5hdGl2ZUFycmF5QnVmZmVyICYmXG4gICAgICAgIChwYWNrZXQuZGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyIHx8IGlzVmlldyhwYWNrZXQuZGF0YSkpKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayh0b0FycmF5KHBhY2tldC5kYXRhKSk7XG4gICAgfVxuICAgIGVuY29kZVBhY2tldChwYWNrZXQsIGZhbHNlLCAoZW5jb2RlZCkgPT4ge1xuICAgICAgICBpZiAoIVRFWFRfRU5DT0RFUikge1xuICAgICAgICAgICAgVEVYVF9FTkNPREVSID0gbmV3IFRleHRFbmNvZGVyKCk7XG4gICAgICAgIH1cbiAgICAgICAgY2FsbGJhY2soVEVYVF9FTkNPREVSLmVuY29kZShlbmNvZGVkKSk7XG4gICAgfSk7XG59XG5leHBvcnQgeyBlbmNvZGVQYWNrZXQgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/engine.io-parser/build/esm/encodePacket.browser.js\n\n}");

/***/ },

/***/ "./node_modules/engine.io-parser/build/esm/index.js"
/*!**********************************************************!*\
  !*** ./node_modules/engine.io-parser/build/esm/index.js ***!
  \**********************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createPacketDecoderStream: () => (/* binding */ createPacketDecoderStream),\n/* harmony export */   createPacketEncoderStream: () => (/* binding */ createPacketEncoderStream),\n/* harmony export */   decodePacket: () => (/* reexport safe */ _decodePacket_js__WEBPACK_IMPORTED_MODULE_1__.decodePacket),\n/* harmony export */   decodePayload: () => (/* binding */ decodePayload),\n/* harmony export */   encodePacket: () => (/* reexport safe */ _encodePacket_js__WEBPACK_IMPORTED_MODULE_0__.encodePacket),\n/* harmony export */   encodePayload: () => (/* binding */ encodePayload),\n/* harmony export */   protocol: () => (/* binding */ protocol)\n/* harmony export */ });\n/* harmony import */ var _encodePacket_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./encodePacket.js */ \"./node_modules/engine.io-parser/build/esm/encodePacket.browser.js\");\n/* harmony import */ var _decodePacket_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./decodePacket.js */ \"./node_modules/engine.io-parser/build/esm/decodePacket.browser.js\");\n/* harmony import */ var _commons_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./commons.js */ \"./node_modules/engine.io-parser/build/esm/commons.js\");\n\n\n\nconst SEPARATOR = String.fromCharCode(30); // see https://en.wikipedia.org/wiki/Delimiter#ASCII_delimited_text\nconst encodePayload = (packets, callback) => {\n    // some packets may be added to the array while encoding, so the initial length must be saved\n    const length = packets.length;\n    const encodedPackets = new Array(length);\n    let count = 0;\n    packets.forEach((packet, i) => {\n        // force base64 encoding for binary packets\n        (0,_encodePacket_js__WEBPACK_IMPORTED_MODULE_0__.encodePacket)(packet, false, (encodedPacket) => {\n            encodedPackets[i] = encodedPacket;\n            if (++count === length) {\n                callback(encodedPackets.join(SEPARATOR));\n            }\n        });\n    });\n};\nconst decodePayload = (encodedPayload, binaryType) => {\n    const encodedPackets = encodedPayload.split(SEPARATOR);\n    const packets = [];\n    for (let i = 0; i < encodedPackets.length; i++) {\n        const decodedPacket = (0,_decodePacket_js__WEBPACK_IMPORTED_MODULE_1__.decodePacket)(encodedPackets[i], binaryType);\n        packets.push(decodedPacket);\n        if (decodedPacket.type === \"error\") {\n            break;\n        }\n    }\n    return packets;\n};\nfunction createPacketEncoderStream() {\n    return new TransformStream({\n        transform(packet, controller) {\n            (0,_encodePacket_js__WEBPACK_IMPORTED_MODULE_0__.encodePacketToBinary)(packet, (encodedPacket) => {\n                const payloadLength = encodedPacket.length;\n                let header;\n                // inspired by the WebSocket format: https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API/Writing_WebSocket_servers#decoding_payload_length\n                if (payloadLength < 126) {\n                    header = new Uint8Array(1);\n                    new DataView(header.buffer).setUint8(0, payloadLength);\n                }\n                else if (payloadLength < 65536) {\n                    header = new Uint8Array(3);\n                    const view = new DataView(header.buffer);\n                    view.setUint8(0, 126);\n                    view.setUint16(1, payloadLength);\n                }\n                else {\n                    header = new Uint8Array(9);\n                    const view = new DataView(header.buffer);\n                    view.setUint8(0, 127);\n                    view.setBigUint64(1, BigInt(payloadLength));\n                }\n                // first bit indicates whether the payload is plain text (0) or binary (1)\n                if (packet.data && typeof packet.data !== \"string\") {\n                    header[0] |= 0x80;\n                }\n                controller.enqueue(header);\n                controller.enqueue(encodedPacket);\n            });\n        },\n    });\n}\nlet TEXT_DECODER;\nfunction totalLength(chunks) {\n    return chunks.reduce((acc, chunk) => acc + chunk.length, 0);\n}\nfunction concatChunks(chunks, size) {\n    if (chunks[0].length === size) {\n        return chunks.shift();\n    }\n    const buffer = new Uint8Array(size);\n    let j = 0;\n    for (let i = 0; i < size; i++) {\n        buffer[i] = chunks[0][j++];\n        if (j === chunks[0].length) {\n            chunks.shift();\n            j = 0;\n        }\n    }\n    if (chunks.length && j < chunks[0].length) {\n        chunks[0] = chunks[0].slice(j);\n    }\n    return buffer;\n}\nfunction createPacketDecoderStream(maxPayload, binaryType) {\n    if (!TEXT_DECODER) {\n        TEXT_DECODER = new TextDecoder();\n    }\n    const chunks = [];\n    let state = 0 /* State.READ_HEADER */;\n    let expectedLength = -1;\n    let isBinary = false;\n    return new TransformStream({\n        transform(chunk, controller) {\n            chunks.push(chunk);\n            while (true) {\n                if (state === 0 /* State.READ_HEADER */) {\n                    if (totalLength(chunks) < 1) {\n                        break;\n                    }\n                    const header = concatChunks(chunks, 1);\n                    isBinary = (header[0] & 0x80) === 0x80;\n                    expectedLength = header[0] & 0x7f;\n                    if (expectedLength < 126) {\n                        state = 3 /* State.READ_PAYLOAD */;\n                    }\n                    else if (expectedLength === 126) {\n                        state = 1 /* State.READ_EXTENDED_LENGTH_16 */;\n                    }\n                    else {\n                        state = 2 /* State.READ_EXTENDED_LENGTH_64 */;\n                    }\n                }\n                else if (state === 1 /* State.READ_EXTENDED_LENGTH_16 */) {\n                    if (totalLength(chunks) < 2) {\n                        break;\n                    }\n                    const headerArray = concatChunks(chunks, 2);\n                    expectedLength = new DataView(headerArray.buffer, headerArray.byteOffset, headerArray.length).getUint16(0);\n                    state = 3 /* State.READ_PAYLOAD */;\n                }\n                else if (state === 2 /* State.READ_EXTENDED_LENGTH_64 */) {\n                    if (totalLength(chunks) < 8) {\n                        break;\n                    }\n                    const headerArray = concatChunks(chunks, 8);\n                    const view = new DataView(headerArray.buffer, headerArray.byteOffset, headerArray.length);\n                    const n = view.getUint32(0);\n                    if (n > Math.pow(2, 53 - 32) - 1) {\n                        // the maximum safe integer in JavaScript is 2^53 - 1\n                        controller.enqueue(_commons_js__WEBPACK_IMPORTED_MODULE_2__.ERROR_PACKET);\n                        break;\n                    }\n                    expectedLength = n * Math.pow(2, 32) + view.getUint32(4);\n                    state = 3 /* State.READ_PAYLOAD */;\n                }\n                else {\n                    if (totalLength(chunks) < expectedLength) {\n                        break;\n                    }\n                    const data = concatChunks(chunks, expectedLength);\n                    controller.enqueue((0,_decodePacket_js__WEBPACK_IMPORTED_MODULE_1__.decodePacket)(isBinary ? data : TEXT_DECODER.decode(data), binaryType));\n                    state = 0 /* State.READ_HEADER */;\n                }\n                if (expectedLength === 0 || expectedLength > maxPayload) {\n                    controller.enqueue(_commons_js__WEBPACK_IMPORTED_MODULE_2__.ERROR_PACKET);\n                    break;\n                }\n            }\n        },\n    });\n}\nconst protocol = 4;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLXBhcnNlci9idWlsZC9lc20vaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUF1RTtBQUN0QjtBQUNKO0FBQzdDLDJDQUEyQztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsOERBQVk7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDJCQUEyQjtBQUMvQyw4QkFBOEIsOERBQVk7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSxZQUFZLHNFQUFvQjtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsVUFBVTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMscURBQVk7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsOERBQVk7QUFDbkQ7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLHFEQUFZO0FBQ25EO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDTztBQUM4RCIsInNvdXJjZXMiOlsid2VicGFjazovL3JldHJvYXBwLWNsaWVudC8uL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tcGFyc2VyL2J1aWxkL2VzbS9pbmRleC5qcz83Mzg0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGVuY29kZVBhY2tldCwgZW5jb2RlUGFja2V0VG9CaW5hcnkgfSBmcm9tIFwiLi9lbmNvZGVQYWNrZXQuanNcIjtcbmltcG9ydCB7IGRlY29kZVBhY2tldCB9IGZyb20gXCIuL2RlY29kZVBhY2tldC5qc1wiO1xuaW1wb3J0IHsgRVJST1JfUEFDS0VULCB9IGZyb20gXCIuL2NvbW1vbnMuanNcIjtcbmNvbnN0IFNFUEFSQVRPUiA9IFN0cmluZy5mcm9tQ2hhckNvZGUoMzApOyAvLyBzZWUgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRGVsaW1pdGVyI0FTQ0lJX2RlbGltaXRlZF90ZXh0XG5jb25zdCBlbmNvZGVQYXlsb2FkID0gKHBhY2tldHMsIGNhbGxiYWNrKSA9PiB7XG4gICAgLy8gc29tZSBwYWNrZXRzIG1heSBiZSBhZGRlZCB0byB0aGUgYXJyYXkgd2hpbGUgZW5jb2RpbmcsIHNvIHRoZSBpbml0aWFsIGxlbmd0aCBtdXN0IGJlIHNhdmVkXG4gICAgY29uc3QgbGVuZ3RoID0gcGFja2V0cy5sZW5ndGg7XG4gICAgY29uc3QgZW5jb2RlZFBhY2tldHMgPSBuZXcgQXJyYXkobGVuZ3RoKTtcbiAgICBsZXQgY291bnQgPSAwO1xuICAgIHBhY2tldHMuZm9yRWFjaCgocGFja2V0LCBpKSA9PiB7XG4gICAgICAgIC8vIGZvcmNlIGJhc2U2NCBlbmNvZGluZyBmb3IgYmluYXJ5IHBhY2tldHNcbiAgICAgICAgZW5jb2RlUGFja2V0KHBhY2tldCwgZmFsc2UsIChlbmNvZGVkUGFja2V0KSA9PiB7XG4gICAgICAgICAgICBlbmNvZGVkUGFja2V0c1tpXSA9IGVuY29kZWRQYWNrZXQ7XG4gICAgICAgICAgICBpZiAoKytjb3VudCA9PT0gbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soZW5jb2RlZFBhY2tldHMuam9pbihTRVBBUkFUT1IpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59O1xuY29uc3QgZGVjb2RlUGF5bG9hZCA9IChlbmNvZGVkUGF5bG9hZCwgYmluYXJ5VHlwZSkgPT4ge1xuICAgIGNvbnN0IGVuY29kZWRQYWNrZXRzID0gZW5jb2RlZFBheWxvYWQuc3BsaXQoU0VQQVJBVE9SKTtcbiAgICBjb25zdCBwYWNrZXRzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbmNvZGVkUGFja2V0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBkZWNvZGVkUGFja2V0ID0gZGVjb2RlUGFja2V0KGVuY29kZWRQYWNrZXRzW2ldLCBiaW5hcnlUeXBlKTtcbiAgICAgICAgcGFja2V0cy5wdXNoKGRlY29kZWRQYWNrZXQpO1xuICAgICAgICBpZiAoZGVjb2RlZFBhY2tldC50eXBlID09PSBcImVycm9yXCIpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwYWNrZXRzO1xufTtcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVQYWNrZXRFbmNvZGVyU3RyZWFtKCkge1xuICAgIHJldHVybiBuZXcgVHJhbnNmb3JtU3RyZWFtKHtcbiAgICAgICAgdHJhbnNmb3JtKHBhY2tldCwgY29udHJvbGxlcikge1xuICAgICAgICAgICAgZW5jb2RlUGFja2V0VG9CaW5hcnkocGFja2V0LCAoZW5jb2RlZFBhY2tldCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBheWxvYWRMZW5ndGggPSBlbmNvZGVkUGFja2V0Lmxlbmd0aDtcbiAgICAgICAgICAgICAgICBsZXQgaGVhZGVyO1xuICAgICAgICAgICAgICAgIC8vIGluc3BpcmVkIGJ5IHRoZSBXZWJTb2NrZXQgZm9ybWF0OiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvV2ViU29ja2V0c19BUEkvV3JpdGluZ19XZWJTb2NrZXRfc2VydmVycyNkZWNvZGluZ19wYXlsb2FkX2xlbmd0aFxuICAgICAgICAgICAgICAgIGlmIChwYXlsb2FkTGVuZ3RoIDwgMTI2KSB7XG4gICAgICAgICAgICAgICAgICAgIGhlYWRlciA9IG5ldyBVaW50OEFycmF5KDEpO1xuICAgICAgICAgICAgICAgICAgICBuZXcgRGF0YVZpZXcoaGVhZGVyLmJ1ZmZlcikuc2V0VWludDgoMCwgcGF5bG9hZExlbmd0aCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHBheWxvYWRMZW5ndGggPCA2NTUzNikge1xuICAgICAgICAgICAgICAgICAgICBoZWFkZXIgPSBuZXcgVWludDhBcnJheSgzKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmlldyA9IG5ldyBEYXRhVmlldyhoZWFkZXIuYnVmZmVyKTtcbiAgICAgICAgICAgICAgICAgICAgdmlldy5zZXRVaW50OCgwLCAxMjYpO1xuICAgICAgICAgICAgICAgICAgICB2aWV3LnNldFVpbnQxNigxLCBwYXlsb2FkTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGhlYWRlciA9IG5ldyBVaW50OEFycmF5KDkpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2aWV3ID0gbmV3IERhdGFWaWV3KGhlYWRlci5idWZmZXIpO1xuICAgICAgICAgICAgICAgICAgICB2aWV3LnNldFVpbnQ4KDAsIDEyNyk7XG4gICAgICAgICAgICAgICAgICAgIHZpZXcuc2V0QmlnVWludDY0KDEsIEJpZ0ludChwYXlsb2FkTGVuZ3RoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGZpcnN0IGJpdCBpbmRpY2F0ZXMgd2hldGhlciB0aGUgcGF5bG9hZCBpcyBwbGFpbiB0ZXh0ICgwKSBvciBiaW5hcnkgKDEpXG4gICAgICAgICAgICAgICAgaWYgKHBhY2tldC5kYXRhICYmIHR5cGVvZiBwYWNrZXQuZGF0YSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICBoZWFkZXJbMF0gfD0gMHg4MDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGhlYWRlcik7XG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGVuY29kZWRQYWNrZXQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgfSk7XG59XG5sZXQgVEVYVF9ERUNPREVSO1xuZnVuY3Rpb24gdG90YWxMZW5ndGgoY2h1bmtzKSB7XG4gICAgcmV0dXJuIGNodW5rcy5yZWR1Y2UoKGFjYywgY2h1bmspID0+IGFjYyArIGNodW5rLmxlbmd0aCwgMCk7XG59XG5mdW5jdGlvbiBjb25jYXRDaHVua3MoY2h1bmtzLCBzaXplKSB7XG4gICAgaWYgKGNodW5rc1swXS5sZW5ndGggPT09IHNpemUpIHtcbiAgICAgICAgcmV0dXJuIGNodW5rcy5zaGlmdCgpO1xuICAgIH1cbiAgICBjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheShzaXplKTtcbiAgICBsZXQgaiA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaXplOyBpKyspIHtcbiAgICAgICAgYnVmZmVyW2ldID0gY2h1bmtzWzBdW2orK107XG4gICAgICAgIGlmIChqID09PSBjaHVua3NbMF0ubGVuZ3RoKSB7XG4gICAgICAgICAgICBjaHVua3Muc2hpZnQoKTtcbiAgICAgICAgICAgIGogPSAwO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChjaHVua3MubGVuZ3RoICYmIGogPCBjaHVua3NbMF0ubGVuZ3RoKSB7XG4gICAgICAgIGNodW5rc1swXSA9IGNodW5rc1swXS5zbGljZShqKTtcbiAgICB9XG4gICAgcmV0dXJuIGJ1ZmZlcjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVQYWNrZXREZWNvZGVyU3RyZWFtKG1heFBheWxvYWQsIGJpbmFyeVR5cGUpIHtcbiAgICBpZiAoIVRFWFRfREVDT0RFUikge1xuICAgICAgICBURVhUX0RFQ09ERVIgPSBuZXcgVGV4dERlY29kZXIoKTtcbiAgICB9XG4gICAgY29uc3QgY2h1bmtzID0gW107XG4gICAgbGV0IHN0YXRlID0gMCAvKiBTdGF0ZS5SRUFEX0hFQURFUiAqLztcbiAgICBsZXQgZXhwZWN0ZWRMZW5ndGggPSAtMTtcbiAgICBsZXQgaXNCaW5hcnkgPSBmYWxzZTtcbiAgICByZXR1cm4gbmV3IFRyYW5zZm9ybVN0cmVhbSh7XG4gICAgICAgIHRyYW5zZm9ybShjaHVuaywgY29udHJvbGxlcikge1xuICAgICAgICAgICAgY2h1bmtzLnB1c2goY2h1bmspO1xuICAgICAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdGUgPT09IDAgLyogU3RhdGUuUkVBRF9IRUFERVIgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRvdGFsTGVuZ3RoKGNodW5rcykgPCAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBoZWFkZXIgPSBjb25jYXRDaHVua3MoY2h1bmtzLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgaXNCaW5hcnkgPSAoaGVhZGVyWzBdICYgMHg4MCkgPT09IDB4ODA7XG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdGVkTGVuZ3RoID0gaGVhZGVyWzBdICYgMHg3ZjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV4cGVjdGVkTGVuZ3RoIDwgMTI2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IDMgLyogU3RhdGUuUkVBRF9QQVlMT0FEICovO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGV4cGVjdGVkTGVuZ3RoID09PSAxMjYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlID0gMSAvKiBTdGF0ZS5SRUFEX0VYVEVOREVEX0xFTkdUSF8xNiAqLztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlID0gMiAvKiBTdGF0ZS5SRUFEX0VYVEVOREVEX0xFTkdUSF82NCAqLztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChzdGF0ZSA9PT0gMSAvKiBTdGF0ZS5SRUFEX0VYVEVOREVEX0xFTkdUSF8xNiAqLykge1xuICAgICAgICAgICAgICAgICAgICBpZiAodG90YWxMZW5ndGgoY2h1bmtzKSA8IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGhlYWRlckFycmF5ID0gY29uY2F0Q2h1bmtzKGNodW5rcywgMik7XG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdGVkTGVuZ3RoID0gbmV3IERhdGFWaWV3KGhlYWRlckFycmF5LmJ1ZmZlciwgaGVhZGVyQXJyYXkuYnl0ZU9mZnNldCwgaGVhZGVyQXJyYXkubGVuZ3RoKS5nZXRVaW50MTYoMCk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlID0gMyAvKiBTdGF0ZS5SRUFEX1BBWUxPQUQgKi87XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHN0YXRlID09PSAyIC8qIFN0YXRlLlJFQURfRVhURU5ERURfTEVOR1RIXzY0ICovKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0b3RhbExlbmd0aChjaHVua3MpIDwgOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaGVhZGVyQXJyYXkgPSBjb25jYXRDaHVua3MoY2h1bmtzLCA4KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmlldyA9IG5ldyBEYXRhVmlldyhoZWFkZXJBcnJheS5idWZmZXIsIGhlYWRlckFycmF5LmJ5dGVPZmZzZXQsIGhlYWRlckFycmF5Lmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG4gPSB2aWV3LmdldFVpbnQzMigwKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG4gPiBNYXRoLnBvdygyLCA1MyAtIDMyKSAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZSBtYXhpbXVtIHNhZmUgaW50ZWdlciBpbiBKYXZhU2NyaXB0IGlzIDJeNTMgLSAxXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoRVJST1JfUEFDS0VUKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdGVkTGVuZ3RoID0gbiAqIE1hdGgucG93KDIsIDMyKSArIHZpZXcuZ2V0VWludDMyKDQpO1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IDMgLyogU3RhdGUuUkVBRF9QQVlMT0FEICovO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRvdGFsTGVuZ3RoKGNodW5rcykgPCBleHBlY3RlZExlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IGNvbmNhdENodW5rcyhjaHVua3MsIGV4cGVjdGVkTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGRlY29kZVBhY2tldChpc0JpbmFyeSA/IGRhdGEgOiBURVhUX0RFQ09ERVIuZGVjb2RlKGRhdGEpLCBiaW5hcnlUeXBlKSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlID0gMCAvKiBTdGF0ZS5SRUFEX0hFQURFUiAqLztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGV4cGVjdGVkTGVuZ3RoID09PSAwIHx8IGV4cGVjdGVkTGVuZ3RoID4gbWF4UGF5bG9hZCkge1xuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoRVJST1JfUEFDS0VUKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgIH0pO1xufVxuZXhwb3J0IGNvbnN0IHByb3RvY29sID0gNDtcbmV4cG9ydCB7IGVuY29kZVBhY2tldCwgZW5jb2RlUGF5bG9hZCwgZGVjb2RlUGFja2V0LCBkZWNvZGVQYXlsb2FkLCB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/engine.io-parser/build/esm/index.js\n\n}");

/***/ },

/***/ "./node_modules/socket.io-client/build/esm/contrib/backo2.js"
/*!*******************************************************************!*\
  !*** ./node_modules/socket.io-client/build/esm/contrib/backo2.js ***!
  \*******************************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Backoff: () => (/* binding */ Backoff)\n/* harmony export */ });\n/**\n * Initialize backoff timer with `opts`.\n *\n * - `min` initial timeout in milliseconds [100]\n * - `max` max timeout [10000]\n * - `jitter` [0]\n * - `factor` [2]\n *\n * @param {Object} opts\n * @api public\n */\nfunction Backoff(opts) {\n    opts = opts || {};\n    this.ms = opts.min || 100;\n    this.max = opts.max || 10000;\n    this.factor = opts.factor || 2;\n    this.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;\n    this.attempts = 0;\n}\n/**\n * Return the backoff duration.\n *\n * @return {Number}\n * @api public\n */\nBackoff.prototype.duration = function () {\n    var ms = this.ms * Math.pow(this.factor, this.attempts++);\n    if (this.jitter) {\n        var rand = Math.random();\n        var deviation = Math.floor(rand * this.jitter * ms);\n        ms = (Math.floor(rand * 10) & 1) == 0 ? ms - deviation : ms + deviation;\n    }\n    return Math.min(ms, this.max) | 0;\n};\n/**\n * Reset the number of attempts.\n *\n * @api public\n */\nBackoff.prototype.reset = function () {\n    this.attempts = 0;\n};\n/**\n * Set the minimum duration\n *\n * @api public\n */\nBackoff.prototype.setMin = function (min) {\n    this.ms = min;\n};\n/**\n * Set the maximum duration\n *\n * @api public\n */\nBackoff.prototype.setMax = function (max) {\n    this.max = max;\n};\n/**\n * Set the jitter\n *\n * @api public\n */\nBackoff.prototype.setJitter = function (jitter) {\n    this.jitter = jitter;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc29ja2V0LmlvLWNsaWVudC9idWlsZC9lc20vY29udHJpYi9iYWNrbzIuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZXRyb2FwcC1jbGllbnQvLi9ub2RlX21vZHVsZXMvc29ja2V0LmlvLWNsaWVudC9idWlsZC9lc20vY29udHJpYi9iYWNrbzIuanM/NGZkZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEluaXRpYWxpemUgYmFja29mZiB0aW1lciB3aXRoIGBvcHRzYC5cbiAqXG4gKiAtIGBtaW5gIGluaXRpYWwgdGltZW91dCBpbiBtaWxsaXNlY29uZHMgWzEwMF1cbiAqIC0gYG1heGAgbWF4IHRpbWVvdXQgWzEwMDAwXVxuICogLSBgaml0dGVyYCBbMF1cbiAqIC0gYGZhY3RvcmAgWzJdXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9wdHNcbiAqIEBhcGkgcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBCYWNrb2ZmKG9wdHMpIHtcbiAgICBvcHRzID0gb3B0cyB8fCB7fTtcbiAgICB0aGlzLm1zID0gb3B0cy5taW4gfHwgMTAwO1xuICAgIHRoaXMubWF4ID0gb3B0cy5tYXggfHwgMTAwMDA7XG4gICAgdGhpcy5mYWN0b3IgPSBvcHRzLmZhY3RvciB8fCAyO1xuICAgIHRoaXMuaml0dGVyID0gb3B0cy5qaXR0ZXIgPiAwICYmIG9wdHMuaml0dGVyIDw9IDEgPyBvcHRzLmppdHRlciA6IDA7XG4gICAgdGhpcy5hdHRlbXB0cyA9IDA7XG59XG4vKipcbiAqIFJldHVybiB0aGUgYmFja29mZiBkdXJhdGlvbi5cbiAqXG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5CYWNrb2ZmLnByb3RvdHlwZS5kdXJhdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgbXMgPSB0aGlzLm1zICogTWF0aC5wb3codGhpcy5mYWN0b3IsIHRoaXMuYXR0ZW1wdHMrKyk7XG4gICAgaWYgKHRoaXMuaml0dGVyKSB7XG4gICAgICAgIHZhciByYW5kID0gTWF0aC5yYW5kb20oKTtcbiAgICAgICAgdmFyIGRldmlhdGlvbiA9IE1hdGguZmxvb3IocmFuZCAqIHRoaXMuaml0dGVyICogbXMpO1xuICAgICAgICBtcyA9IChNYXRoLmZsb29yKHJhbmQgKiAxMCkgJiAxKSA9PSAwID8gbXMgLSBkZXZpYXRpb24gOiBtcyArIGRldmlhdGlvbjtcbiAgICB9XG4gICAgcmV0dXJuIE1hdGgubWluKG1zLCB0aGlzLm1heCkgfCAwO1xufTtcbi8qKlxuICogUmVzZXQgdGhlIG51bWJlciBvZiBhdHRlbXB0cy5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5CYWNrb2ZmLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmF0dGVtcHRzID0gMDtcbn07XG4vKipcbiAqIFNldCB0aGUgbWluaW11bSBkdXJhdGlvblxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cbkJhY2tvZmYucHJvdG90eXBlLnNldE1pbiA9IGZ1bmN0aW9uIChtaW4pIHtcbiAgICB0aGlzLm1zID0gbWluO1xufTtcbi8qKlxuICogU2V0IHRoZSBtYXhpbXVtIGR1cmF0aW9uXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuQmFja29mZi5wcm90b3R5cGUuc2V0TWF4ID0gZnVuY3Rpb24gKG1heCkge1xuICAgIHRoaXMubWF4ID0gbWF4O1xufTtcbi8qKlxuICogU2V0IHRoZSBqaXR0ZXJcbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5CYWNrb2ZmLnByb3RvdHlwZS5zZXRKaXR0ZXIgPSBmdW5jdGlvbiAoaml0dGVyKSB7XG4gICAgdGhpcy5qaXR0ZXIgPSBqaXR0ZXI7XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/socket.io-client/build/esm/contrib/backo2.js\n\n}");

/***/ },

/***/ "./node_modules/socket.io-client/build/esm/index.js"
/*!**********************************************************!*\
  !*** ./node_modules/socket.io-client/build/esm/index.js ***!
  \**********************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Fetch: () => (/* reexport safe */ engine_io_client__WEBPACK_IMPORTED_MODULE_4__.Fetch),\n/* harmony export */   Manager: () => (/* reexport safe */ _manager_js__WEBPACK_IMPORTED_MODULE_1__.Manager),\n/* harmony export */   NodeWebSocket: () => (/* reexport safe */ engine_io_client__WEBPACK_IMPORTED_MODULE_4__.NodeWebSocket),\n/* harmony export */   NodeXHR: () => (/* reexport safe */ engine_io_client__WEBPACK_IMPORTED_MODULE_4__.NodeXHR),\n/* harmony export */   Socket: () => (/* reexport safe */ _socket_js__WEBPACK_IMPORTED_MODULE_2__.Socket),\n/* harmony export */   WebSocket: () => (/* reexport safe */ engine_io_client__WEBPACK_IMPORTED_MODULE_4__.WebSocket),\n/* harmony export */   WebTransport: () => (/* reexport safe */ engine_io_client__WEBPACK_IMPORTED_MODULE_4__.WebTransport),\n/* harmony export */   XHR: () => (/* reexport safe */ engine_io_client__WEBPACK_IMPORTED_MODULE_4__.XHR),\n/* harmony export */   connect: () => (/* binding */ lookup),\n/* harmony export */   \"default\": () => (/* binding */ lookup),\n/* harmony export */   io: () => (/* binding */ lookup),\n/* harmony export */   protocol: () => (/* reexport safe */ socket_io_parser__WEBPACK_IMPORTED_MODULE_3__.protocol)\n/* harmony export */ });\n/* harmony import */ var _url_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./url.js */ \"./node_modules/socket.io-client/build/esm/url.js\");\n/* harmony import */ var _manager_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./manager.js */ \"./node_modules/socket.io-client/build/esm/manager.js\");\n/* harmony import */ var _socket_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./socket.js */ \"./node_modules/socket.io-client/build/esm/socket.js\");\n/* harmony import */ var socket_io_parser__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! socket.io-parser */ \"./node_modules/socket.io-parser/build/esm-debug/index.js\");\n/* harmony import */ var engine_io_client__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! engine.io-client */ \"./node_modules/engine.io-client/build/esm/index.js\");\n\n\n\n/**\n * Managers cache.\n */\nconst cache = {};\nfunction lookup(uri, opts) {\n    if (typeof uri === \"object\") {\n        opts = uri;\n        uri = undefined;\n    }\n    opts = opts || {};\n    const parsed = (0,_url_js__WEBPACK_IMPORTED_MODULE_0__.url)(uri, opts.path || \"/socket.io\");\n    const source = parsed.source;\n    const id = parsed.id;\n    const path = parsed.path;\n    const sameNamespace = cache[id] && path in cache[id][\"nsps\"];\n    const newConnection = opts.forceNew ||\n        opts[\"force new connection\"] ||\n        false === opts.multiplex ||\n        sameNamespace;\n    let io;\n    if (newConnection) {\n        io = new _manager_js__WEBPACK_IMPORTED_MODULE_1__.Manager(source, opts);\n    }\n    else {\n        if (!cache[id]) {\n            cache[id] = new _manager_js__WEBPACK_IMPORTED_MODULE_1__.Manager(source, opts);\n        }\n        io = cache[id];\n    }\n    if (parsed.query && !opts.query) {\n        opts.query = parsed.queryKey;\n    }\n    return io.socket(parsed.path, opts);\n}\n// so that \"lookup\" can be used both as a function (e.g. `io(...)`) and as a\n// namespace (e.g. `io.connect(...)`), for backward compatibility\nObject.assign(lookup, {\n    Manager: _manager_js__WEBPACK_IMPORTED_MODULE_1__.Manager,\n    Socket: _socket_js__WEBPACK_IMPORTED_MODULE_2__.Socket,\n    io: lookup,\n    connect: lookup,\n});\n/**\n * Protocol version.\n *\n * @public\n */\n\n/**\n * Expose constructors for standalone build.\n *\n * @public\n */\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc29ja2V0LmlvLWNsaWVudC9idWlsZC9lc20vaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBK0I7QUFDUTtBQUNGO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLDRDQUFHO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLGdEQUFPO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixnREFBTztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLFVBQVU7QUFDVjtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDNEM7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNnRjtBQUNnQiIsInNvdXJjZXMiOlsid2VicGFjazovL3JldHJvYXBwLWNsaWVudC8uL25vZGVfbW9kdWxlcy9zb2NrZXQuaW8tY2xpZW50L2J1aWxkL2VzbS9pbmRleC5qcz9jMzRiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVybCB9IGZyb20gXCIuL3VybC5qc1wiO1xuaW1wb3J0IHsgTWFuYWdlciB9IGZyb20gXCIuL21hbmFnZXIuanNcIjtcbmltcG9ydCB7IFNvY2tldCB9IGZyb20gXCIuL3NvY2tldC5qc1wiO1xuLyoqXG4gKiBNYW5hZ2VycyBjYWNoZS5cbiAqL1xuY29uc3QgY2FjaGUgPSB7fTtcbmZ1bmN0aW9uIGxvb2t1cCh1cmksIG9wdHMpIHtcbiAgICBpZiAodHlwZW9mIHVyaSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICBvcHRzID0gdXJpO1xuICAgICAgICB1cmkgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIG9wdHMgPSBvcHRzIHx8IHt9O1xuICAgIGNvbnN0IHBhcnNlZCA9IHVybCh1cmksIG9wdHMucGF0aCB8fCBcIi9zb2NrZXQuaW9cIik7XG4gICAgY29uc3Qgc291cmNlID0gcGFyc2VkLnNvdXJjZTtcbiAgICBjb25zdCBpZCA9IHBhcnNlZC5pZDtcbiAgICBjb25zdCBwYXRoID0gcGFyc2VkLnBhdGg7XG4gICAgY29uc3Qgc2FtZU5hbWVzcGFjZSA9IGNhY2hlW2lkXSAmJiBwYXRoIGluIGNhY2hlW2lkXVtcIm5zcHNcIl07XG4gICAgY29uc3QgbmV3Q29ubmVjdGlvbiA9IG9wdHMuZm9yY2VOZXcgfHxcbiAgICAgICAgb3B0c1tcImZvcmNlIG5ldyBjb25uZWN0aW9uXCJdIHx8XG4gICAgICAgIGZhbHNlID09PSBvcHRzLm11bHRpcGxleCB8fFxuICAgICAgICBzYW1lTmFtZXNwYWNlO1xuICAgIGxldCBpbztcbiAgICBpZiAobmV3Q29ubmVjdGlvbikge1xuICAgICAgICBpbyA9IG5ldyBNYW5hZ2VyKHNvdXJjZSwgb3B0cyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpZiAoIWNhY2hlW2lkXSkge1xuICAgICAgICAgICAgY2FjaGVbaWRdID0gbmV3IE1hbmFnZXIoc291cmNlLCBvcHRzKTtcbiAgICAgICAgfVxuICAgICAgICBpbyA9IGNhY2hlW2lkXTtcbiAgICB9XG4gICAgaWYgKHBhcnNlZC5xdWVyeSAmJiAhb3B0cy5xdWVyeSkge1xuICAgICAgICBvcHRzLnF1ZXJ5ID0gcGFyc2VkLnF1ZXJ5S2V5O1xuICAgIH1cbiAgICByZXR1cm4gaW8uc29ja2V0KHBhcnNlZC5wYXRoLCBvcHRzKTtcbn1cbi8vIHNvIHRoYXQgXCJsb29rdXBcIiBjYW4gYmUgdXNlZCBib3RoIGFzIGEgZnVuY3Rpb24gKGUuZy4gYGlvKC4uLilgKSBhbmQgYXMgYVxuLy8gbmFtZXNwYWNlIChlLmcuIGBpby5jb25uZWN0KC4uLilgKSwgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHlcbk9iamVjdC5hc3NpZ24obG9va3VwLCB7XG4gICAgTWFuYWdlcixcbiAgICBTb2NrZXQsXG4gICAgaW86IGxvb2t1cCxcbiAgICBjb25uZWN0OiBsb29rdXAsXG59KTtcbi8qKlxuICogUHJvdG9jb2wgdmVyc2lvbi5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB7IHByb3RvY29sIH0gZnJvbSBcInNvY2tldC5pby1wYXJzZXJcIjtcbi8qKlxuICogRXhwb3NlIGNvbnN0cnVjdG9ycyBmb3Igc3RhbmRhbG9uZSBidWlsZC5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB7IE1hbmFnZXIsIFNvY2tldCwgbG9va3VwIGFzIGlvLCBsb29rdXAgYXMgY29ubmVjdCwgbG9va3VwIGFzIGRlZmF1bHQsIH07XG5leHBvcnQgeyBGZXRjaCwgTm9kZVhIUiwgWEhSLCBOb2RlV2ViU29ja2V0LCBXZWJTb2NrZXQsIFdlYlRyYW5zcG9ydCwgfSBmcm9tIFwiZW5naW5lLmlvLWNsaWVudFwiO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/socket.io-client/build/esm/index.js\n\n}");

/***/ },

/***/ "./node_modules/socket.io-client/build/esm/manager.js"
/*!************************************************************!*\
  !*** ./node_modules/socket.io-client/build/esm/manager.js ***!
  \************************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Manager: () => (/* binding */ Manager)\n/* harmony export */ });\n/* harmony import */ var engine_io_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine.io-client */ \"./node_modules/engine.io-client/build/esm/index.js\");\n/* harmony import */ var _socket_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./socket.js */ \"./node_modules/socket.io-client/build/esm/socket.js\");\n/* harmony import */ var socket_io_parser__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! socket.io-parser */ \"./node_modules/socket.io-parser/build/esm-debug/index.js\");\n/* harmony import */ var _on_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./on.js */ \"./node_modules/socket.io-client/build/esm/on.js\");\n/* harmony import */ var _contrib_backo2_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./contrib/backo2.js */ \"./node_modules/socket.io-client/build/esm/contrib/backo2.js\");\n/* harmony import */ var _socket_io_component_emitter__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @socket.io/component-emitter */ \"./node_modules/@socket.io/component-emitter/lib/esm/index.js\");\n\n\n\n\n\n\nclass Manager extends _socket_io_component_emitter__WEBPACK_IMPORTED_MODULE_5__.Emitter {\n    constructor(uri, opts) {\n        var _a;\n        super();\n        this.nsps = {};\n        this.subs = [];\n        if (uri && \"object\" === typeof uri) {\n            opts = uri;\n            uri = undefined;\n        }\n        opts = opts || {};\n        opts.path = opts.path || \"/socket.io\";\n        this.opts = opts;\n        (0,engine_io_client__WEBPACK_IMPORTED_MODULE_0__.installTimerFunctions)(this, opts);\n        this.reconnection(opts.reconnection !== false);\n        this.reconnectionAttempts(opts.reconnectionAttempts || Infinity);\n        this.reconnectionDelay(opts.reconnectionDelay || 1000);\n        this.reconnectionDelayMax(opts.reconnectionDelayMax || 5000);\n        this.randomizationFactor((_a = opts.randomizationFactor) !== null && _a !== void 0 ? _a : 0.5);\n        this.backoff = new _contrib_backo2_js__WEBPACK_IMPORTED_MODULE_4__.Backoff({\n            min: this.reconnectionDelay(),\n            max: this.reconnectionDelayMax(),\n            jitter: this.randomizationFactor(),\n        });\n        this.timeout(null == opts.timeout ? 20000 : opts.timeout);\n        this._readyState = \"closed\";\n        this.uri = uri;\n        const _parser = opts.parser || socket_io_parser__WEBPACK_IMPORTED_MODULE_2__;\n        this.encoder = new _parser.Encoder();\n        this.decoder = new _parser.Decoder();\n        this._autoConnect = opts.autoConnect !== false;\n        if (this._autoConnect)\n            this.open();\n    }\n    reconnection(v) {\n        if (!arguments.length)\n            return this._reconnection;\n        this._reconnection = !!v;\n        if (!v) {\n            this.skipReconnect = true;\n        }\n        return this;\n    }\n    reconnectionAttempts(v) {\n        if (v === undefined)\n            return this._reconnectionAttempts;\n        this._reconnectionAttempts = v;\n        return this;\n    }\n    reconnectionDelay(v) {\n        var _a;\n        if (v === undefined)\n            return this._reconnectionDelay;\n        this._reconnectionDelay = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMin(v);\n        return this;\n    }\n    randomizationFactor(v) {\n        var _a;\n        if (v === undefined)\n            return this._randomizationFactor;\n        this._randomizationFactor = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setJitter(v);\n        return this;\n    }\n    reconnectionDelayMax(v) {\n        var _a;\n        if (v === undefined)\n            return this._reconnectionDelayMax;\n        this._reconnectionDelayMax = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMax(v);\n        return this;\n    }\n    timeout(v) {\n        if (!arguments.length)\n            return this._timeout;\n        this._timeout = v;\n        return this;\n    }\n    /**\n     * Starts trying to reconnect if reconnection is enabled and we have not\n     * started reconnecting yet\n     *\n     * @private\n     */\n    maybeReconnectOnOpen() {\n        // Only try to reconnect if it's the first time we're connecting\n        if (!this._reconnecting &&\n            this._reconnection &&\n            this.backoff.attempts === 0) {\n            // keeps reconnection from firing twice for the same reconnection loop\n            this.reconnect();\n        }\n    }\n    /**\n     * Sets the current transport `socket`.\n     *\n     * @param {Function} fn - optional, callback\n     * @return self\n     * @public\n     */\n    open(fn) {\n        if (~this._readyState.indexOf(\"open\"))\n            return this;\n        this.engine = new engine_io_client__WEBPACK_IMPORTED_MODULE_0__.Socket(this.uri, this.opts);\n        const socket = this.engine;\n        const self = this;\n        this._readyState = \"opening\";\n        this.skipReconnect = false;\n        // emit `open`\n        const openSubDestroy = (0,_on_js__WEBPACK_IMPORTED_MODULE_3__.on)(socket, \"open\", function () {\n            self.onopen();\n            fn && fn();\n        });\n        const onError = (err) => {\n            this.cleanup();\n            this._readyState = \"closed\";\n            this.emitReserved(\"error\", err);\n            if (fn) {\n                fn(err);\n            }\n            else {\n                // Only do this if there is no fn to handle the error\n                this.maybeReconnectOnOpen();\n            }\n        };\n        // emit `error`\n        const errorSub = (0,_on_js__WEBPACK_IMPORTED_MODULE_3__.on)(socket, \"error\", onError);\n        if (false !== this._timeout) {\n            const timeout = this._timeout;\n            // set timer\n            const timer = this.setTimeoutFn(() => {\n                openSubDestroy();\n                onError(new Error(\"timeout\"));\n                socket.close();\n            }, timeout);\n            if (this.opts.autoUnref) {\n                timer.unref();\n            }\n            this.subs.push(() => {\n                this.clearTimeoutFn(timer);\n            });\n        }\n        this.subs.push(openSubDestroy);\n        this.subs.push(errorSub);\n        return this;\n    }\n    /**\n     * Alias for open()\n     *\n     * @return self\n     * @public\n     */\n    connect(fn) {\n        return this.open(fn);\n    }\n    /**\n     * Called upon transport open.\n     *\n     * @private\n     */\n    onopen() {\n        // clear old subs\n        this.cleanup();\n        // mark as open\n        this._readyState = \"open\";\n        this.emitReserved(\"open\");\n        // add new subs\n        const socket = this.engine;\n        this.subs.push((0,_on_js__WEBPACK_IMPORTED_MODULE_3__.on)(socket, \"ping\", this.onping.bind(this)), (0,_on_js__WEBPACK_IMPORTED_MODULE_3__.on)(socket, \"data\", this.ondata.bind(this)), (0,_on_js__WEBPACK_IMPORTED_MODULE_3__.on)(socket, \"error\", this.onerror.bind(this)), (0,_on_js__WEBPACK_IMPORTED_MODULE_3__.on)(socket, \"close\", this.onclose.bind(this)), \n        // @ts-ignore\n        (0,_on_js__WEBPACK_IMPORTED_MODULE_3__.on)(this.decoder, \"decoded\", this.ondecoded.bind(this)));\n    }\n    /**\n     * Called upon a ping.\n     *\n     * @private\n     */\n    onping() {\n        this.emitReserved(\"ping\");\n    }\n    /**\n     * Called with data.\n     *\n     * @private\n     */\n    ondata(data) {\n        try {\n            this.decoder.add(data);\n        }\n        catch (e) {\n            this.onclose(\"parse error\", e);\n        }\n    }\n    /**\n     * Called when parser fully decodes a packet.\n     *\n     * @private\n     */\n    ondecoded(packet) {\n        // the nextTick call prevents an exception in a user-provided event listener from triggering a disconnection due to a \"parse error\"\n        (0,engine_io_client__WEBPACK_IMPORTED_MODULE_0__.nextTick)(() => {\n            this.emitReserved(\"packet\", packet);\n        }, this.setTimeoutFn);\n    }\n    /**\n     * Called upon socket error.\n     *\n     * @private\n     */\n    onerror(err) {\n        this.emitReserved(\"error\", err);\n    }\n    /**\n     * Creates a new socket for the given `nsp`.\n     *\n     * @return {Socket}\n     * @public\n     */\n    socket(nsp, opts) {\n        let socket = this.nsps[nsp];\n        if (!socket) {\n            socket = new _socket_js__WEBPACK_IMPORTED_MODULE_1__.Socket(this, nsp, opts);\n            this.nsps[nsp] = socket;\n        }\n        else if (this._autoConnect && !socket.active) {\n            socket.connect();\n        }\n        return socket;\n    }\n    /**\n     * Called upon a socket close.\n     *\n     * @param socket\n     * @private\n     */\n    _destroy(socket) {\n        const nsps = Object.keys(this.nsps);\n        for (const nsp of nsps) {\n            const socket = this.nsps[nsp];\n            if (socket.active) {\n                return;\n            }\n        }\n        this._close();\n    }\n    /**\n     * Writes a packet.\n     *\n     * @param packet\n     * @private\n     */\n    _packet(packet) {\n        const encodedPackets = this.encoder.encode(packet);\n        for (let i = 0; i < encodedPackets.length; i++) {\n            this.engine.write(encodedPackets[i], packet.options);\n        }\n    }\n    /**\n     * Clean up transport subscriptions and packet buffer.\n     *\n     * @private\n     */\n    cleanup() {\n        this.subs.forEach((subDestroy) => subDestroy());\n        this.subs.length = 0;\n        this.decoder.destroy();\n    }\n    /**\n     * Close the current socket.\n     *\n     * @private\n     */\n    _close() {\n        this.skipReconnect = true;\n        this._reconnecting = false;\n        this.onclose(\"forced close\");\n    }\n    /**\n     * Alias for close()\n     *\n     * @private\n     */\n    disconnect() {\n        return this._close();\n    }\n    /**\n     * Called when:\n     *\n     * - the low-level engine is closed\n     * - the parser encountered a badly formatted packet\n     * - all sockets are disconnected\n     *\n     * @private\n     */\n    onclose(reason, description) {\n        var _a;\n        this.cleanup();\n        (_a = this.engine) === null || _a === void 0 ? void 0 : _a.close();\n        this.backoff.reset();\n        this._readyState = \"closed\";\n        this.emitReserved(\"close\", reason, description);\n        if (this._reconnection && !this.skipReconnect) {\n            this.reconnect();\n        }\n    }\n    /**\n     * Attempt a reconnection.\n     *\n     * @private\n     */\n    reconnect() {\n        if (this._reconnecting || this.skipReconnect)\n            return this;\n        const self = this;\n        if (this.backoff.attempts >= this._reconnectionAttempts) {\n            this.backoff.reset();\n            this.emitReserved(\"reconnect_failed\");\n            this._reconnecting = false;\n        }\n        else {\n            const delay = this.backoff.duration();\n            this._reconnecting = true;\n            const timer = this.setTimeoutFn(() => {\n                if (self.skipReconnect)\n                    return;\n                this.emitReserved(\"reconnect_attempt\", self.backoff.attempts);\n                // check again for the case socket closed in above events\n                if (self.skipReconnect)\n                    return;\n                self.open((err) => {\n                    if (err) {\n                        self._reconnecting = false;\n                        self.reconnect();\n                        this.emitReserved(\"reconnect_error\", err);\n                    }\n                    else {\n                        self.onreconnect();\n                    }\n                });\n            }, delay);\n            if (this.opts.autoUnref) {\n                timer.unref();\n            }\n            this.subs.push(() => {\n                this.clearTimeoutFn(timer);\n            });\n        }\n    }\n    /**\n     * Called upon successful reconnect.\n     *\n     * @private\n     */\n    onreconnect() {\n        const attempt = this.backoff.attempts;\n        this._reconnecting = false;\n        this.backoff.reset();\n        this.emitReserved(\"reconnect\", attempt);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc29ja2V0LmlvLWNsaWVudC9idWlsZC9lc20vbWFuYWdlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQXNGO0FBQ2pEO0FBQ007QUFDZDtBQUNpQjtBQUNVO0FBQ2pELHNCQUFzQixpRUFBTztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHVFQUFxQjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLHVEQUFPO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsNkNBQU07QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxVQUFVO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixvREFBTTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLDBDQUFFO0FBQ2pDO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsMENBQUU7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsMENBQUUsMENBQTBDLDBDQUFFLDBDQUEwQywwQ0FBRSw0Q0FBNEMsMENBQUU7QUFDL0o7QUFDQSxRQUFRLDBDQUFFO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsMERBQVE7QUFDaEI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsOENBQU07QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsMkJBQTJCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmV0cm9hcHAtY2xpZW50Ly4vbm9kZV9tb2R1bGVzL3NvY2tldC5pby1jbGllbnQvYnVpbGQvZXNtL21hbmFnZXIuanM/NTVkMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTb2NrZXQgYXMgRW5naW5lLCBpbnN0YWxsVGltZXJGdW5jdGlvbnMsIG5leHRUaWNrLCB9IGZyb20gXCJlbmdpbmUuaW8tY2xpZW50XCI7XG5pbXBvcnQgeyBTb2NrZXQgfSBmcm9tIFwiLi9zb2NrZXQuanNcIjtcbmltcG9ydCAqIGFzIHBhcnNlciBmcm9tIFwic29ja2V0LmlvLXBhcnNlclwiO1xuaW1wb3J0IHsgb24gfSBmcm9tIFwiLi9vbi5qc1wiO1xuaW1wb3J0IHsgQmFja29mZiB9IGZyb20gXCIuL2NvbnRyaWIvYmFja28yLmpzXCI7XG5pbXBvcnQgeyBFbWl0dGVyLCB9IGZyb20gXCJAc29ja2V0LmlvL2NvbXBvbmVudC1lbWl0dGVyXCI7XG5leHBvcnQgY2xhc3MgTWFuYWdlciBleHRlbmRzIEVtaXR0ZXIge1xuICAgIGNvbnN0cnVjdG9yKHVyaSwgb3B0cykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMubnNwcyA9IHt9O1xuICAgICAgICB0aGlzLnN1YnMgPSBbXTtcbiAgICAgICAgaWYgKHVyaSAmJiBcIm9iamVjdFwiID09PSB0eXBlb2YgdXJpKSB7XG4gICAgICAgICAgICBvcHRzID0gdXJpO1xuICAgICAgICAgICAgdXJpID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIG9wdHMgPSBvcHRzIHx8IHt9O1xuICAgICAgICBvcHRzLnBhdGggPSBvcHRzLnBhdGggfHwgXCIvc29ja2V0LmlvXCI7XG4gICAgICAgIHRoaXMub3B0cyA9IG9wdHM7XG4gICAgICAgIGluc3RhbGxUaW1lckZ1bmN0aW9ucyh0aGlzLCBvcHRzKTtcbiAgICAgICAgdGhpcy5yZWNvbm5lY3Rpb24ob3B0cy5yZWNvbm5lY3Rpb24gIT09IGZhbHNlKTtcbiAgICAgICAgdGhpcy5yZWNvbm5lY3Rpb25BdHRlbXB0cyhvcHRzLnJlY29ubmVjdGlvbkF0dGVtcHRzIHx8IEluZmluaXR5KTtcbiAgICAgICAgdGhpcy5yZWNvbm5lY3Rpb25EZWxheShvcHRzLnJlY29ubmVjdGlvbkRlbGF5IHx8IDEwMDApO1xuICAgICAgICB0aGlzLnJlY29ubmVjdGlvbkRlbGF5TWF4KG9wdHMucmVjb25uZWN0aW9uRGVsYXlNYXggfHwgNTAwMCk7XG4gICAgICAgIHRoaXMucmFuZG9taXphdGlvbkZhY3RvcigoX2EgPSBvcHRzLnJhbmRvbWl6YXRpb25GYWN0b3IpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IDAuNSk7XG4gICAgICAgIHRoaXMuYmFja29mZiA9IG5ldyBCYWNrb2ZmKHtcbiAgICAgICAgICAgIG1pbjogdGhpcy5yZWNvbm5lY3Rpb25EZWxheSgpLFxuICAgICAgICAgICAgbWF4OiB0aGlzLnJlY29ubmVjdGlvbkRlbGF5TWF4KCksXG4gICAgICAgICAgICBqaXR0ZXI6IHRoaXMucmFuZG9taXphdGlvbkZhY3RvcigpLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy50aW1lb3V0KG51bGwgPT0gb3B0cy50aW1lb3V0ID8gMjAwMDAgOiBvcHRzLnRpbWVvdXQpO1xuICAgICAgICB0aGlzLl9yZWFkeVN0YXRlID0gXCJjbG9zZWRcIjtcbiAgICAgICAgdGhpcy51cmkgPSB1cmk7XG4gICAgICAgIGNvbnN0IF9wYXJzZXIgPSBvcHRzLnBhcnNlciB8fCBwYXJzZXI7XG4gICAgICAgIHRoaXMuZW5jb2RlciA9IG5ldyBfcGFyc2VyLkVuY29kZXIoKTtcbiAgICAgICAgdGhpcy5kZWNvZGVyID0gbmV3IF9wYXJzZXIuRGVjb2RlcigpO1xuICAgICAgICB0aGlzLl9hdXRvQ29ubmVjdCA9IG9wdHMuYXV0b0Nvbm5lY3QgIT09IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5fYXV0b0Nvbm5lY3QpXG4gICAgICAgICAgICB0aGlzLm9wZW4oKTtcbiAgICB9XG4gICAgcmVjb25uZWN0aW9uKHYpIHtcbiAgICAgICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JlY29ubmVjdGlvbjtcbiAgICAgICAgdGhpcy5fcmVjb25uZWN0aW9uID0gISF2O1xuICAgICAgICBpZiAoIXYpIHtcbiAgICAgICAgICAgIHRoaXMuc2tpcFJlY29ubmVjdCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJlY29ubmVjdGlvbkF0dGVtcHRzKHYpIHtcbiAgICAgICAgaWYgKHYgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZWNvbm5lY3Rpb25BdHRlbXB0cztcbiAgICAgICAgdGhpcy5fcmVjb25uZWN0aW9uQXR0ZW1wdHMgPSB2O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmVjb25uZWN0aW9uRGVsYXkodikge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICh2ID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVjb25uZWN0aW9uRGVsYXk7XG4gICAgICAgIHRoaXMuX3JlY29ubmVjdGlvbkRlbGF5ID0gdjtcbiAgICAgICAgKF9hID0gdGhpcy5iYWNrb2ZmKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2V0TWluKHYpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmFuZG9taXphdGlvbkZhY3Rvcih2KSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKHYgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yYW5kb21pemF0aW9uRmFjdG9yO1xuICAgICAgICB0aGlzLl9yYW5kb21pemF0aW9uRmFjdG9yID0gdjtcbiAgICAgICAgKF9hID0gdGhpcy5iYWNrb2ZmKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2V0Sml0dGVyKHYpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmVjb25uZWN0aW9uRGVsYXlNYXgodikge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICh2ID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVjb25uZWN0aW9uRGVsYXlNYXg7XG4gICAgICAgIHRoaXMuX3JlY29ubmVjdGlvbkRlbGF5TWF4ID0gdjtcbiAgICAgICAgKF9hID0gdGhpcy5iYWNrb2ZmKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2V0TWF4KHYpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgdGltZW91dCh2KSB7XG4gICAgICAgIGlmICghYXJndW1lbnRzLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90aW1lb3V0O1xuICAgICAgICB0aGlzLl90aW1lb3V0ID0gdjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN0YXJ0cyB0cnlpbmcgdG8gcmVjb25uZWN0IGlmIHJlY29ubmVjdGlvbiBpcyBlbmFibGVkIGFuZCB3ZSBoYXZlIG5vdFxuICAgICAqIHN0YXJ0ZWQgcmVjb25uZWN0aW5nIHlldFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBtYXliZVJlY29ubmVjdE9uT3BlbigpIHtcbiAgICAgICAgLy8gT25seSB0cnkgdG8gcmVjb25uZWN0IGlmIGl0J3MgdGhlIGZpcnN0IHRpbWUgd2UncmUgY29ubmVjdGluZ1xuICAgICAgICBpZiAoIXRoaXMuX3JlY29ubmVjdGluZyAmJlxuICAgICAgICAgICAgdGhpcy5fcmVjb25uZWN0aW9uICYmXG4gICAgICAgICAgICB0aGlzLmJhY2tvZmYuYXR0ZW1wdHMgPT09IDApIHtcbiAgICAgICAgICAgIC8vIGtlZXBzIHJlY29ubmVjdGlvbiBmcm9tIGZpcmluZyB0d2ljZSBmb3IgdGhlIHNhbWUgcmVjb25uZWN0aW9uIGxvb3BcbiAgICAgICAgICAgIHRoaXMucmVjb25uZWN0KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgY3VycmVudCB0cmFuc3BvcnQgYHNvY2tldGAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiAtIG9wdGlvbmFsLCBjYWxsYmFja1xuICAgICAqIEByZXR1cm4gc2VsZlxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cbiAgICBvcGVuKGZuKSB7XG4gICAgICAgIGlmICh+dGhpcy5fcmVhZHlTdGF0ZS5pbmRleE9mKFwib3BlblwiKSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB0aGlzLmVuZ2luZSA9IG5ldyBFbmdpbmUodGhpcy51cmksIHRoaXMub3B0cyk7XG4gICAgICAgIGNvbnN0IHNvY2tldCA9IHRoaXMuZW5naW5lO1xuICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICAgICAgdGhpcy5fcmVhZHlTdGF0ZSA9IFwib3BlbmluZ1wiO1xuICAgICAgICB0aGlzLnNraXBSZWNvbm5lY3QgPSBmYWxzZTtcbiAgICAgICAgLy8gZW1pdCBgb3BlbmBcbiAgICAgICAgY29uc3Qgb3BlblN1YkRlc3Ryb3kgPSBvbihzb2NrZXQsIFwib3BlblwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzZWxmLm9ub3BlbigpO1xuICAgICAgICAgICAgZm4gJiYgZm4oKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IG9uRXJyb3IgPSAoZXJyKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmNsZWFudXAoKTtcbiAgICAgICAgICAgIHRoaXMuX3JlYWR5U3RhdGUgPSBcImNsb3NlZFwiO1xuICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJlcnJvclwiLCBlcnIpO1xuICAgICAgICAgICAgaWYgKGZuKSB7XG4gICAgICAgICAgICAgICAgZm4oZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIE9ubHkgZG8gdGhpcyBpZiB0aGVyZSBpcyBubyBmbiB0byBoYW5kbGUgdGhlIGVycm9yXG4gICAgICAgICAgICAgICAgdGhpcy5tYXliZVJlY29ubmVjdE9uT3BlbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvLyBlbWl0IGBlcnJvcmBcbiAgICAgICAgY29uc3QgZXJyb3JTdWIgPSBvbihzb2NrZXQsIFwiZXJyb3JcIiwgb25FcnJvcik7XG4gICAgICAgIGlmIChmYWxzZSAhPT0gdGhpcy5fdGltZW91dCkge1xuICAgICAgICAgICAgY29uc3QgdGltZW91dCA9IHRoaXMuX3RpbWVvdXQ7XG4gICAgICAgICAgICAvLyBzZXQgdGltZXJcbiAgICAgICAgICAgIGNvbnN0IHRpbWVyID0gdGhpcy5zZXRUaW1lb3V0Rm4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIG9wZW5TdWJEZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgb25FcnJvcihuZXcgRXJyb3IoXCJ0aW1lb3V0XCIpKTtcbiAgICAgICAgICAgICAgICBzb2NrZXQuY2xvc2UoKTtcbiAgICAgICAgICAgIH0sIHRpbWVvdXQpO1xuICAgICAgICAgICAgaWYgKHRoaXMub3B0cy5hdXRvVW5yZWYpIHtcbiAgICAgICAgICAgICAgICB0aW1lci51bnJlZigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zdWJzLnB1c2goKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuY2xlYXJUaW1lb3V0Rm4odGltZXIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdWJzLnB1c2gob3BlblN1YkRlc3Ryb3kpO1xuICAgICAgICB0aGlzLnN1YnMucHVzaChlcnJvclN1Yik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBbGlhcyBmb3Igb3BlbigpXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHNlbGZcbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgY29ubmVjdChmbikge1xuICAgICAgICByZXR1cm4gdGhpcy5vcGVuKGZuKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHVwb24gdHJhbnNwb3J0IG9wZW4uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIG9ub3BlbigpIHtcbiAgICAgICAgLy8gY2xlYXIgb2xkIHN1YnNcbiAgICAgICAgdGhpcy5jbGVhbnVwKCk7XG4gICAgICAgIC8vIG1hcmsgYXMgb3BlblxuICAgICAgICB0aGlzLl9yZWFkeVN0YXRlID0gXCJvcGVuXCI7XG4gICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwib3BlblwiKTtcbiAgICAgICAgLy8gYWRkIG5ldyBzdWJzXG4gICAgICAgIGNvbnN0IHNvY2tldCA9IHRoaXMuZW5naW5lO1xuICAgICAgICB0aGlzLnN1YnMucHVzaChvbihzb2NrZXQsIFwicGluZ1wiLCB0aGlzLm9ucGluZy5iaW5kKHRoaXMpKSwgb24oc29ja2V0LCBcImRhdGFcIiwgdGhpcy5vbmRhdGEuYmluZCh0aGlzKSksIG9uKHNvY2tldCwgXCJlcnJvclwiLCB0aGlzLm9uZXJyb3IuYmluZCh0aGlzKSksIG9uKHNvY2tldCwgXCJjbG9zZVwiLCB0aGlzLm9uY2xvc2UuYmluZCh0aGlzKSksIFxuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIG9uKHRoaXMuZGVjb2RlciwgXCJkZWNvZGVkXCIsIHRoaXMub25kZWNvZGVkLmJpbmQodGhpcykpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHVwb24gYSBwaW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBvbnBpbmcoKSB7XG4gICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwicGluZ1wiKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdpdGggZGF0YS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgb25kYXRhKGRhdGEpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuZGVjb2Rlci5hZGQoZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRoaXMub25jbG9zZShcInBhcnNlIGVycm9yXCIsIGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIHBhcnNlciBmdWxseSBkZWNvZGVzIGEgcGFja2V0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBvbmRlY29kZWQocGFja2V0KSB7XG4gICAgICAgIC8vIHRoZSBuZXh0VGljayBjYWxsIHByZXZlbnRzIGFuIGV4Y2VwdGlvbiBpbiBhIHVzZXItcHJvdmlkZWQgZXZlbnQgbGlzdGVuZXIgZnJvbSB0cmlnZ2VyaW5nIGEgZGlzY29ubmVjdGlvbiBkdWUgdG8gYSBcInBhcnNlIGVycm9yXCJcbiAgICAgICAgbmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJwYWNrZXRcIiwgcGFja2V0KTtcbiAgICAgICAgfSwgdGhpcy5zZXRUaW1lb3V0Rm4pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgdXBvbiBzb2NrZXQgZXJyb3IuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIG9uZXJyb3IoZXJyKSB7XG4gICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwiZXJyb3JcIiwgZXJyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBzb2NrZXQgZm9yIHRoZSBnaXZlbiBgbnNwYC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1NvY2tldH1cbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgc29ja2V0KG5zcCwgb3B0cykge1xuICAgICAgICBsZXQgc29ja2V0ID0gdGhpcy5uc3BzW25zcF07XG4gICAgICAgIGlmICghc29ja2V0KSB7XG4gICAgICAgICAgICBzb2NrZXQgPSBuZXcgU29ja2V0KHRoaXMsIG5zcCwgb3B0cyk7XG4gICAgICAgICAgICB0aGlzLm5zcHNbbnNwXSA9IHNvY2tldDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLl9hdXRvQ29ubmVjdCAmJiAhc29ja2V0LmFjdGl2ZSkge1xuICAgICAgICAgICAgc29ja2V0LmNvbm5lY3QoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc29ja2V0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgdXBvbiBhIHNvY2tldCBjbG9zZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBzb2NrZXRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9kZXN0cm95KHNvY2tldCkge1xuICAgICAgICBjb25zdCBuc3BzID0gT2JqZWN0LmtleXModGhpcy5uc3BzKTtcbiAgICAgICAgZm9yIChjb25zdCBuc3Agb2YgbnNwcykge1xuICAgICAgICAgICAgY29uc3Qgc29ja2V0ID0gdGhpcy5uc3BzW25zcF07XG4gICAgICAgICAgICBpZiAoc29ja2V0LmFjdGl2ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jbG9zZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXcml0ZXMgYSBwYWNrZXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGFja2V0XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfcGFja2V0KHBhY2tldCkge1xuICAgICAgICBjb25zdCBlbmNvZGVkUGFja2V0cyA9IHRoaXMuZW5jb2Rlci5lbmNvZGUocGFja2V0KTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbmNvZGVkUGFja2V0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5lbmdpbmUud3JpdGUoZW5jb2RlZFBhY2tldHNbaV0sIHBhY2tldC5vcHRpb25zKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbGVhbiB1cCB0cmFuc3BvcnQgc3Vic2NyaXB0aW9ucyBhbmQgcGFja2V0IGJ1ZmZlci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgY2xlYW51cCgpIHtcbiAgICAgICAgdGhpcy5zdWJzLmZvckVhY2goKHN1YkRlc3Ryb3kpID0+IHN1YkRlc3Ryb3koKSk7XG4gICAgICAgIHRoaXMuc3Vicy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLmRlY29kZXIuZGVzdHJveSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbG9zZSB0aGUgY3VycmVudCBzb2NrZXQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9jbG9zZSgpIHtcbiAgICAgICAgdGhpcy5za2lwUmVjb25uZWN0ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fcmVjb25uZWN0aW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMub25jbG9zZShcImZvcmNlZCBjbG9zZVwiKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWxpYXMgZm9yIGNsb3NlKClcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgZGlzY29ubmVjdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Nsb3NlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuOlxuICAgICAqXG4gICAgICogLSB0aGUgbG93LWxldmVsIGVuZ2luZSBpcyBjbG9zZWRcbiAgICAgKiAtIHRoZSBwYXJzZXIgZW5jb3VudGVyZWQgYSBiYWRseSBmb3JtYXR0ZWQgcGFja2V0XG4gICAgICogLSBhbGwgc29ja2V0cyBhcmUgZGlzY29ubmVjdGVkXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIG9uY2xvc2UocmVhc29uLCBkZXNjcmlwdGlvbikge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMuY2xlYW51cCgpO1xuICAgICAgICAoX2EgPSB0aGlzLmVuZ2luZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNsb3NlKCk7XG4gICAgICAgIHRoaXMuYmFja29mZi5yZXNldCgpO1xuICAgICAgICB0aGlzLl9yZWFkeVN0YXRlID0gXCJjbG9zZWRcIjtcbiAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJjbG9zZVwiLCByZWFzb24sIGRlc2NyaXB0aW9uKTtcbiAgICAgICAgaWYgKHRoaXMuX3JlY29ubmVjdGlvbiAmJiAhdGhpcy5za2lwUmVjb25uZWN0KSB7XG4gICAgICAgICAgICB0aGlzLnJlY29ubmVjdCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEF0dGVtcHQgYSByZWNvbm5lY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHJlY29ubmVjdCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3JlY29ubmVjdGluZyB8fCB0aGlzLnNraXBSZWNvbm5lY3QpXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLmJhY2tvZmYuYXR0ZW1wdHMgPj0gdGhpcy5fcmVjb25uZWN0aW9uQXR0ZW1wdHMpIHtcbiAgICAgICAgICAgIHRoaXMuYmFja29mZi5yZXNldCgpO1xuICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJyZWNvbm5lY3RfZmFpbGVkXCIpO1xuICAgICAgICAgICAgdGhpcy5fcmVjb25uZWN0aW5nID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBkZWxheSA9IHRoaXMuYmFja29mZi5kdXJhdGlvbigpO1xuICAgICAgICAgICAgdGhpcy5fcmVjb25uZWN0aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIGNvbnN0IHRpbWVyID0gdGhpcy5zZXRUaW1lb3V0Rm4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChzZWxmLnNraXBSZWNvbm5lY3QpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcInJlY29ubmVjdF9hdHRlbXB0XCIsIHNlbGYuYmFja29mZi5hdHRlbXB0cyk7XG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgYWdhaW4gZm9yIHRoZSBjYXNlIHNvY2tldCBjbG9zZWQgaW4gYWJvdmUgZXZlbnRzXG4gICAgICAgICAgICAgICAgaWYgKHNlbGYuc2tpcFJlY29ubmVjdClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIHNlbGYub3BlbigoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX3JlY29ubmVjdGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5yZWNvbm5lY3QoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwicmVjb25uZWN0X2Vycm9yXCIsIGVycik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm9ucmVjb25uZWN0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sIGRlbGF5KTtcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdHMuYXV0b1VucmVmKSB7XG4gICAgICAgICAgICAgICAgdGltZXIudW5yZWYoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc3Vicy5wdXNoKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmNsZWFyVGltZW91dEZuKHRpbWVyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB1cG9uIHN1Y2Nlc3NmdWwgcmVjb25uZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBvbnJlY29ubmVjdCgpIHtcbiAgICAgICAgY29uc3QgYXR0ZW1wdCA9IHRoaXMuYmFja29mZi5hdHRlbXB0cztcbiAgICAgICAgdGhpcy5fcmVjb25uZWN0aW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYmFja29mZi5yZXNldCgpO1xuICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcInJlY29ubmVjdFwiLCBhdHRlbXB0KTtcbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/socket.io-client/build/esm/manager.js\n\n}");

/***/ },

/***/ "./node_modules/socket.io-client/build/esm/on.js"
/*!*******************************************************!*\
  !*** ./node_modules/socket.io-client/build/esm/on.js ***!
  \*******************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   on: () => (/* binding */ on)\n/* harmony export */ });\nfunction on(obj, ev, fn) {\n    obj.on(ev, fn);\n    return function subDestroy() {\n        obj.off(ev, fn);\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc29ja2V0LmlvLWNsaWVudC9idWlsZC9lc20vb24uanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3JldHJvYXBwLWNsaWVudC8uL25vZGVfbW9kdWxlcy9zb2NrZXQuaW8tY2xpZW50L2J1aWxkL2VzbS9vbi5qcz81YzRkIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBvbihvYmosIGV2LCBmbikge1xuICAgIG9iai5vbihldiwgZm4pO1xuICAgIHJldHVybiBmdW5jdGlvbiBzdWJEZXN0cm95KCkge1xuICAgICAgICBvYmoub2ZmKGV2LCBmbik7XG4gICAgfTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/socket.io-client/build/esm/on.js\n\n}");

/***/ },

/***/ "./node_modules/socket.io-client/build/esm/socket.js"
/*!***********************************************************!*\
  !*** ./node_modules/socket.io-client/build/esm/socket.js ***!
  \***********************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Socket: () => (/* binding */ Socket)\n/* harmony export */ });\n/* harmony import */ var socket_io_parser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! socket.io-parser */ \"./node_modules/socket.io-parser/build/esm-debug/index.js\");\n/* harmony import */ var _on_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./on.js */ \"./node_modules/socket.io-client/build/esm/on.js\");\n/* harmony import */ var _socket_io_component_emitter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @socket.io/component-emitter */ \"./node_modules/@socket.io/component-emitter/lib/esm/index.js\");\n\n\n\n/**\n * Internal events.\n * These events can't be emitted by the user.\n */\nconst RESERVED_EVENTS = Object.freeze({\n    connect: 1,\n    connect_error: 1,\n    disconnect: 1,\n    disconnecting: 1,\n    // EventEmitter reserved events: https://nodejs.org/api/events.html#events_event_newlistener\n    newListener: 1,\n    removeListener: 1,\n});\n/**\n * A Socket is the fundamental class for interacting with the server.\n *\n * A Socket belongs to a certain Namespace (by default /) and uses an underlying {@link Manager} to communicate.\n *\n * @example\n * const socket = io();\n *\n * socket.on(\"connect\", () => {\n *   console.log(\"connected\");\n * });\n *\n * // send an event to the server\n * socket.emit(\"foo\", \"bar\");\n *\n * socket.on(\"foobar\", () => {\n *   // an event was received from the server\n * });\n *\n * // upon disconnection\n * socket.on(\"disconnect\", (reason) => {\n *   console.log(`disconnected due to ${reason}`);\n * });\n */\nclass Socket extends _socket_io_component_emitter__WEBPACK_IMPORTED_MODULE_2__.Emitter {\n    /**\n     * `Socket` constructor.\n     */\n    constructor(io, nsp, opts) {\n        super();\n        /**\n         * Whether the socket is currently connected to the server.\n         *\n         * @example\n         * const socket = io();\n         *\n         * socket.on(\"connect\", () => {\n         *   console.log(socket.connected); // true\n         * });\n         *\n         * socket.on(\"disconnect\", () => {\n         *   console.log(socket.connected); // false\n         * });\n         */\n        this.connected = false;\n        /**\n         * Whether the connection state was recovered after a temporary disconnection. In that case, any missed packets will\n         * be transmitted by the server.\n         */\n        this.recovered = false;\n        /**\n         * Buffer for packets received before the CONNECT packet\n         */\n        this.receiveBuffer = [];\n        /**\n         * Buffer for packets that will be sent once the socket is connected\n         */\n        this.sendBuffer = [];\n        /**\n         * The queue of packets to be sent with retry in case of failure.\n         *\n         * Packets are sent one by one, each waiting for the server acknowledgement, in order to guarantee the delivery order.\n         * @private\n         */\n        this._queue = [];\n        /**\n         * A sequence to generate the ID of the {@link QueuedPacket}.\n         * @private\n         */\n        this._queueSeq = 0;\n        this.ids = 0;\n        /**\n         * A map containing acknowledgement handlers.\n         *\n         * The `withError` attribute is used to differentiate handlers that accept an error as first argument:\n         *\n         * - `socket.emit(\"test\", (err, value) => { ... })` with `ackTimeout` option\n         * - `socket.timeout(5000).emit(\"test\", (err, value) => { ... })`\n         * - `const value = await socket.emitWithAck(\"test\")`\n         *\n         * From those that don't:\n         *\n         * - `socket.emit(\"test\", (value) => { ... });`\n         *\n         * In the first case, the handlers will be called with an error when:\n         *\n         * - the timeout is reached\n         * - the socket gets disconnected\n         *\n         * In the second case, the handlers will be simply discarded upon disconnection, since the client will never receive\n         * an acknowledgement from the server.\n         *\n         * @private\n         */\n        this.acks = {};\n        this.flags = {};\n        this.io = io;\n        this.nsp = nsp;\n        if (opts && opts.auth) {\n            this.auth = opts.auth;\n        }\n        this._opts = Object.assign({}, opts);\n        if (this.io._autoConnect)\n            this.open();\n    }\n    /**\n     * Whether the socket is currently disconnected\n     *\n     * @example\n     * const socket = io();\n     *\n     * socket.on(\"connect\", () => {\n     *   console.log(socket.disconnected); // false\n     * });\n     *\n     * socket.on(\"disconnect\", () => {\n     *   console.log(socket.disconnected); // true\n     * });\n     */\n    get disconnected() {\n        return !this.connected;\n    }\n    /**\n     * Subscribe to open, close and packet events\n     *\n     * @private\n     */\n    subEvents() {\n        if (this.subs)\n            return;\n        const io = this.io;\n        this.subs = [\n            (0,_on_js__WEBPACK_IMPORTED_MODULE_1__.on)(io, \"open\", this.onopen.bind(this)),\n            (0,_on_js__WEBPACK_IMPORTED_MODULE_1__.on)(io, \"packet\", this.onpacket.bind(this)),\n            (0,_on_js__WEBPACK_IMPORTED_MODULE_1__.on)(io, \"error\", this.onerror.bind(this)),\n            (0,_on_js__WEBPACK_IMPORTED_MODULE_1__.on)(io, \"close\", this.onclose.bind(this)),\n        ];\n    }\n    /**\n     * Whether the Socket will try to reconnect when its Manager connects or reconnects.\n     *\n     * @example\n     * const socket = io();\n     *\n     * console.log(socket.active); // true\n     *\n     * socket.on(\"disconnect\", (reason) => {\n     *   if (reason === \"io server disconnect\") {\n     *     // the disconnection was initiated by the server, you need to manually reconnect\n     *     console.log(socket.active); // false\n     *   }\n     *   // else the socket will automatically try to reconnect\n     *   console.log(socket.active); // true\n     * });\n     */\n    get active() {\n        return !!this.subs;\n    }\n    /**\n     * \"Opens\" the socket.\n     *\n     * @example\n     * const socket = io({\n     *   autoConnect: false\n     * });\n     *\n     * socket.connect();\n     */\n    connect() {\n        if (this.connected)\n            return this;\n        this.subEvents();\n        if (!this.io[\"_reconnecting\"])\n            this.io.open(); // ensure open\n        if (\"open\" === this.io._readyState)\n            this.onopen();\n        return this;\n    }\n    /**\n     * Alias for {@link connect()}.\n     */\n    open() {\n        return this.connect();\n    }\n    /**\n     * Sends a `message` event.\n     *\n     * This method mimics the WebSocket.send() method.\n     *\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/WebSocket/send\n     *\n     * @example\n     * socket.send(\"hello\");\n     *\n     * // this is equivalent to\n     * socket.emit(\"message\", \"hello\");\n     *\n     * @return self\n     */\n    send(...args) {\n        args.unshift(\"message\");\n        this.emit.apply(this, args);\n        return this;\n    }\n    /**\n     * Override `emit`.\n     * If the event is in `events`, it's emitted normally.\n     *\n     * @example\n     * socket.emit(\"hello\", \"world\");\n     *\n     * // all serializable datastructures are supported (no need to call JSON.stringify)\n     * socket.emit(\"hello\", 1, \"2\", { 3: [\"4\"], 5: Uint8Array.from([6]) });\n     *\n     * // with an acknowledgement from the server\n     * socket.emit(\"hello\", \"world\", (val) => {\n     *   // ...\n     * });\n     *\n     * @return self\n     */\n    emit(ev, ...args) {\n        var _a, _b, _c;\n        if (RESERVED_EVENTS.hasOwnProperty(ev)) {\n            throw new Error('\"' + ev.toString() + '\" is a reserved event name');\n        }\n        args.unshift(ev);\n        if (this._opts.retries && !this.flags.fromQueue && !this.flags.volatile) {\n            this._addToQueue(args);\n            return this;\n        }\n        const packet = {\n            type: socket_io_parser__WEBPACK_IMPORTED_MODULE_0__.PacketType.EVENT,\n            data: args,\n        };\n        packet.options = {};\n        packet.options.compress = this.flags.compress !== false;\n        // event ack callback\n        if (\"function\" === typeof args[args.length - 1]) {\n            const id = this.ids++;\n            const ack = args.pop();\n            this._registerAckCallback(id, ack);\n            packet.id = id;\n        }\n        const isTransportWritable = (_b = (_a = this.io.engine) === null || _a === void 0 ? void 0 : _a.transport) === null || _b === void 0 ? void 0 : _b.writable;\n        const isConnected = this.connected && !((_c = this.io.engine) === null || _c === void 0 ? void 0 : _c._hasPingExpired());\n        const discardPacket = this.flags.volatile && !isTransportWritable;\n        if (discardPacket) {\n        }\n        else if (isConnected) {\n            this.notifyOutgoingListeners(packet);\n            this.packet(packet);\n        }\n        else {\n            this.sendBuffer.push(packet);\n        }\n        this.flags = {};\n        return this;\n    }\n    /**\n     * @private\n     */\n    _registerAckCallback(id, ack) {\n        var _a;\n        const timeout = (_a = this.flags.timeout) !== null && _a !== void 0 ? _a : this._opts.ackTimeout;\n        if (timeout === undefined) {\n            this.acks[id] = ack;\n            return;\n        }\n        // @ts-ignore\n        const timer = this.io.setTimeoutFn(() => {\n            delete this.acks[id];\n            for (let i = 0; i < this.sendBuffer.length; i++) {\n                if (this.sendBuffer[i].id === id) {\n                    this.sendBuffer.splice(i, 1);\n                }\n            }\n            ack.call(this, new Error(\"operation has timed out\"));\n        }, timeout);\n        const fn = (...args) => {\n            // @ts-ignore\n            this.io.clearTimeoutFn(timer);\n            ack.apply(this, args);\n        };\n        fn.withError = true;\n        this.acks[id] = fn;\n    }\n    /**\n     * Emits an event and waits for an acknowledgement\n     *\n     * @example\n     * // without timeout\n     * const response = await socket.emitWithAck(\"hello\", \"world\");\n     *\n     * // with a specific timeout\n     * try {\n     *   const response = await socket.timeout(1000).emitWithAck(\"hello\", \"world\");\n     * } catch (err) {\n     *   // the server did not acknowledge the event in the given delay\n     * }\n     *\n     * @return a Promise that will be fulfilled when the server acknowledges the event\n     */\n    emitWithAck(ev, ...args) {\n        return new Promise((resolve, reject) => {\n            const fn = (arg1, arg2) => {\n                return arg1 ? reject(arg1) : resolve(arg2);\n            };\n            fn.withError = true;\n            args.push(fn);\n            this.emit(ev, ...args);\n        });\n    }\n    /**\n     * Add the packet to the queue.\n     * @param args\n     * @private\n     */\n    _addToQueue(args) {\n        let ack;\n        if (typeof args[args.length - 1] === \"function\") {\n            ack = args.pop();\n        }\n        const packet = {\n            id: this._queueSeq++,\n            tryCount: 0,\n            pending: false,\n            args,\n            flags: Object.assign({ fromQueue: true }, this.flags),\n        };\n        args.push((err, ...responseArgs) => {\n            if (packet !== this._queue[0]) {\n            }\n            const hasError = err !== null;\n            if (hasError) {\n                if (packet.tryCount > this._opts.retries) {\n                    this._queue.shift();\n                    if (ack) {\n                        ack(err);\n                    }\n                }\n            }\n            else {\n                this._queue.shift();\n                if (ack) {\n                    ack(null, ...responseArgs);\n                }\n            }\n            packet.pending = false;\n            return this._drainQueue();\n        });\n        this._queue.push(packet);\n        this._drainQueue();\n    }\n    /**\n     * Send the first packet of the queue, and wait for an acknowledgement from the server.\n     * @param force - whether to resend a packet that has not been acknowledged yet\n     *\n     * @private\n     */\n    _drainQueue(force = false) {\n        if (!this.connected || this._queue.length === 0) {\n            return;\n        }\n        const packet = this._queue[0];\n        if (packet.pending && !force) {\n            return;\n        }\n        packet.pending = true;\n        packet.tryCount++;\n        this.flags = packet.flags;\n        this.emit.apply(this, packet.args);\n    }\n    /**\n     * Sends a packet.\n     *\n     * @param packet\n     * @private\n     */\n    packet(packet) {\n        packet.nsp = this.nsp;\n        this.io._packet(packet);\n    }\n    /**\n     * Called upon engine `open`.\n     *\n     * @private\n     */\n    onopen() {\n        if (typeof this.auth == \"function\") {\n            this.auth((data) => {\n                this._sendConnectPacket(data);\n            });\n        }\n        else {\n            this._sendConnectPacket(this.auth);\n        }\n    }\n    /**\n     * Sends a CONNECT packet to initiate the Socket.IO session.\n     *\n     * @param data\n     * @private\n     */\n    _sendConnectPacket(data) {\n        this.packet({\n            type: socket_io_parser__WEBPACK_IMPORTED_MODULE_0__.PacketType.CONNECT,\n            data: this._pid\n                ? Object.assign({ pid: this._pid, offset: this._lastOffset }, data)\n                : data,\n        });\n    }\n    /**\n     * Called upon engine or manager `error`.\n     *\n     * @param err\n     * @private\n     */\n    onerror(err) {\n        if (!this.connected) {\n            this.emitReserved(\"connect_error\", err);\n        }\n    }\n    /**\n     * Called upon engine `close`.\n     *\n     * @param reason\n     * @param description\n     * @private\n     */\n    onclose(reason, description) {\n        this.connected = false;\n        delete this.id;\n        this.emitReserved(\"disconnect\", reason, description);\n        this._clearAcks();\n    }\n    /**\n     * Clears the acknowledgement handlers upon disconnection, since the client will never receive an acknowledgement from\n     * the server.\n     *\n     * @private\n     */\n    _clearAcks() {\n        Object.keys(this.acks).forEach((id) => {\n            const isBuffered = this.sendBuffer.some((packet) => String(packet.id) === id);\n            if (!isBuffered) {\n                // note: handlers that do not accept an error as first argument are ignored here\n                const ack = this.acks[id];\n                delete this.acks[id];\n                if (ack.withError) {\n                    ack.call(this, new Error(\"socket has been disconnected\"));\n                }\n            }\n        });\n    }\n    /**\n     * Called with socket packet.\n     *\n     * @param packet\n     * @private\n     */\n    onpacket(packet) {\n        const sameNamespace = packet.nsp === this.nsp;\n        if (!sameNamespace)\n            return;\n        switch (packet.type) {\n            case socket_io_parser__WEBPACK_IMPORTED_MODULE_0__.PacketType.CONNECT:\n                if (packet.data && packet.data.sid) {\n                    this.onconnect(packet.data.sid, packet.data.pid);\n                }\n                else {\n                    this.emitReserved(\"connect_error\", new Error(\"It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)\"));\n                }\n                break;\n            case socket_io_parser__WEBPACK_IMPORTED_MODULE_0__.PacketType.EVENT:\n            case socket_io_parser__WEBPACK_IMPORTED_MODULE_0__.PacketType.BINARY_EVENT:\n                this.onevent(packet);\n                break;\n            case socket_io_parser__WEBPACK_IMPORTED_MODULE_0__.PacketType.ACK:\n            case socket_io_parser__WEBPACK_IMPORTED_MODULE_0__.PacketType.BINARY_ACK:\n                this.onack(packet);\n                break;\n            case socket_io_parser__WEBPACK_IMPORTED_MODULE_0__.PacketType.DISCONNECT:\n                this.ondisconnect();\n                break;\n            case socket_io_parser__WEBPACK_IMPORTED_MODULE_0__.PacketType.CONNECT_ERROR:\n                this.destroy();\n                const err = new Error(packet.data.message);\n                // @ts-ignore\n                err.data = packet.data.data;\n                this.emitReserved(\"connect_error\", err);\n                break;\n        }\n    }\n    /**\n     * Called upon a server event.\n     *\n     * @param packet\n     * @private\n     */\n    onevent(packet) {\n        const args = packet.data || [];\n        if (null != packet.id) {\n            args.push(this.ack(packet.id));\n        }\n        if (this.connected) {\n            this.emitEvent(args);\n        }\n        else {\n            this.receiveBuffer.push(Object.freeze(args));\n        }\n    }\n    emitEvent(args) {\n        if (this._anyListeners && this._anyListeners.length) {\n            const listeners = this._anyListeners.slice();\n            for (const listener of listeners) {\n                listener.apply(this, args);\n            }\n        }\n        super.emit.apply(this, args);\n        if (this._pid && args.length && typeof args[args.length - 1] === \"string\") {\n            this._lastOffset = args[args.length - 1];\n        }\n    }\n    /**\n     * Produces an ack callback to emit with an event.\n     *\n     * @private\n     */\n    ack(id) {\n        const self = this;\n        let sent = false;\n        return function (...args) {\n            // prevent double callbacks\n            if (sent)\n                return;\n            sent = true;\n            self.packet({\n                type: socket_io_parser__WEBPACK_IMPORTED_MODULE_0__.PacketType.ACK,\n                id: id,\n                data: args,\n            });\n        };\n    }\n    /**\n     * Called upon a server acknowledgement.\n     *\n     * @param packet\n     * @private\n     */\n    onack(packet) {\n        const ack = this.acks[packet.id];\n        if (typeof ack !== \"function\") {\n            return;\n        }\n        delete this.acks[packet.id];\n        // @ts-ignore FIXME ack is incorrectly inferred as 'never'\n        if (ack.withError) {\n            packet.data.unshift(null);\n        }\n        // @ts-ignore\n        ack.apply(this, packet.data);\n    }\n    /**\n     * Called upon server connect.\n     *\n     * @private\n     */\n    onconnect(id, pid) {\n        this.id = id;\n        this.recovered = pid && this._pid === pid;\n        this._pid = pid; // defined only if connection state recovery is enabled\n        this.connected = true;\n        this.emitBuffered();\n        this._drainQueue(true);\n        this.emitReserved(\"connect\");\n    }\n    /**\n     * Emit buffered events (received and emitted).\n     *\n     * @private\n     */\n    emitBuffered() {\n        this.receiveBuffer.forEach((args) => this.emitEvent(args));\n        this.receiveBuffer = [];\n        this.sendBuffer.forEach((packet) => {\n            this.notifyOutgoingListeners(packet);\n            this.packet(packet);\n        });\n        this.sendBuffer = [];\n    }\n    /**\n     * Called upon server disconnect.\n     *\n     * @private\n     */\n    ondisconnect() {\n        this.destroy();\n        this.onclose(\"io server disconnect\");\n    }\n    /**\n     * Called upon forced client/server side disconnections,\n     * this method ensures the manager stops tracking us and\n     * that reconnections don't get triggered for this.\n     *\n     * @private\n     */\n    destroy() {\n        if (this.subs) {\n            // clean subscriptions to avoid reconnections\n            this.subs.forEach((subDestroy) => subDestroy());\n            this.subs = undefined;\n        }\n        this.io[\"_destroy\"](this);\n    }\n    /**\n     * Disconnects the socket manually. In that case, the socket will not try to reconnect.\n     *\n     * If this is the last active Socket instance of the {@link Manager}, the low-level connection will be closed.\n     *\n     * @example\n     * const socket = io();\n     *\n     * socket.on(\"disconnect\", (reason) => {\n     *   // console.log(reason); prints \"io client disconnect\"\n     * });\n     *\n     * socket.disconnect();\n     *\n     * @return self\n     */\n    disconnect() {\n        if (this.connected) {\n            this.packet({ type: socket_io_parser__WEBPACK_IMPORTED_MODULE_0__.PacketType.DISCONNECT });\n        }\n        // remove socket from pool\n        this.destroy();\n        if (this.connected) {\n            // fire events\n            this.onclose(\"io client disconnect\");\n        }\n        return this;\n    }\n    /**\n     * Alias for {@link disconnect()}.\n     *\n     * @return self\n     */\n    close() {\n        return this.disconnect();\n    }\n    /**\n     * Sets the compress flag.\n     *\n     * @example\n     * socket.compress(false).emit(\"hello\");\n     *\n     * @param compress - if `true`, compresses the sending data\n     * @return self\n     */\n    compress(compress) {\n        this.flags.compress = compress;\n        return this;\n    }\n    /**\n     * Sets a modifier for a subsequent event emission that the event message will be dropped when this socket is not\n     * ready to send messages.\n     *\n     * @example\n     * socket.volatile.emit(\"hello\"); // the server may or may not receive it\n     *\n     * @returns self\n     */\n    get volatile() {\n        this.flags.volatile = true;\n        return this;\n    }\n    /**\n     * Sets a modifier for a subsequent event emission that the callback will be called with an error when the\n     * given number of milliseconds have elapsed without an acknowledgement from the server:\n     *\n     * @example\n     * socket.timeout(5000).emit(\"my-event\", (err) => {\n     *   if (err) {\n     *     // the server did not acknowledge the event in the given delay\n     *   }\n     * });\n     *\n     * @returns self\n     */\n    timeout(timeout) {\n        this.flags.timeout = timeout;\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback.\n     *\n     * @example\n     * socket.onAny((event, ...args) => {\n     *   console.log(`got ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    onAny(listener) {\n        this._anyListeners = this._anyListeners || [];\n        this._anyListeners.push(listener);\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback. The listener is added to the beginning of the listeners array.\n     *\n     * @example\n     * socket.prependAny((event, ...args) => {\n     *   console.log(`got event ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    prependAny(listener) {\n        this._anyListeners = this._anyListeners || [];\n        this._anyListeners.unshift(listener);\n        return this;\n    }\n    /**\n     * Removes the listener that will be fired when any event is emitted.\n     *\n     * @example\n     * const catchAllListener = (event, ...args) => {\n     *   console.log(`got event ${event}`);\n     * }\n     *\n     * socket.onAny(catchAllListener);\n     *\n     * // remove a specific listener\n     * socket.offAny(catchAllListener);\n     *\n     * // or remove all listeners\n     * socket.offAny();\n     *\n     * @param listener\n     */\n    offAny(listener) {\n        if (!this._anyListeners) {\n            return this;\n        }\n        if (listener) {\n            const listeners = this._anyListeners;\n            for (let i = 0; i < listeners.length; i++) {\n                if (listener === listeners[i]) {\n                    listeners.splice(i, 1);\n                    return this;\n                }\n            }\n        }\n        else {\n            this._anyListeners = [];\n        }\n        return this;\n    }\n    /**\n     * Returns an array of listeners that are listening for any event that is specified. This array can be manipulated,\n     * e.g. to remove listeners.\n     */\n    listenersAny() {\n        return this._anyListeners || [];\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback.\n     *\n     * Note: acknowledgements sent to the server are not included.\n     *\n     * @example\n     * socket.onAnyOutgoing((event, ...args) => {\n     *   console.log(`sent event ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    onAnyOutgoing(listener) {\n        this._anyOutgoingListeners = this._anyOutgoingListeners || [];\n        this._anyOutgoingListeners.push(listener);\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback. The listener is added to the beginning of the listeners array.\n     *\n     * Note: acknowledgements sent to the server are not included.\n     *\n     * @example\n     * socket.prependAnyOutgoing((event, ...args) => {\n     *   console.log(`sent event ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    prependAnyOutgoing(listener) {\n        this._anyOutgoingListeners = this._anyOutgoingListeners || [];\n        this._anyOutgoingListeners.unshift(listener);\n        return this;\n    }\n    /**\n     * Removes the listener that will be fired when any event is emitted.\n     *\n     * @example\n     * const catchAllListener = (event, ...args) => {\n     *   console.log(`sent event ${event}`);\n     * }\n     *\n     * socket.onAnyOutgoing(catchAllListener);\n     *\n     * // remove a specific listener\n     * socket.offAnyOutgoing(catchAllListener);\n     *\n     * // or remove all listeners\n     * socket.offAnyOutgoing();\n     *\n     * @param [listener] - the catch-all listener (optional)\n     */\n    offAnyOutgoing(listener) {\n        if (!this._anyOutgoingListeners) {\n            return this;\n        }\n        if (listener) {\n            const listeners = this._anyOutgoingListeners;\n            for (let i = 0; i < listeners.length; i++) {\n                if (listener === listeners[i]) {\n                    listeners.splice(i, 1);\n                    return this;\n                }\n            }\n        }\n        else {\n            this._anyOutgoingListeners = [];\n        }\n        return this;\n    }\n    /**\n     * Returns an array of listeners that are listening for any event that is specified. This array can be manipulated,\n     * e.g. to remove listeners.\n     */\n    listenersAnyOutgoing() {\n        return this._anyOutgoingListeners || [];\n    }\n    /**\n     * Notify the listeners for each packet sent\n     *\n     * @param packet\n     *\n     * @private\n     */\n    notifyOutgoingListeners(packet) {\n        if (this._anyOutgoingListeners && this._anyOutgoingListeners.length) {\n            const listeners = this._anyOutgoingListeners.slice();\n            for (const listener of listeners) {\n                listener.apply(this, packet.data);\n            }\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc29ja2V0LmlvLWNsaWVudC9idWlsZC9lc20vc29ja2V0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBOEM7QUFDakI7QUFDMkI7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLGtGQUFrRixlQUFlO0FBQ2pHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLE9BQU87QUFDL0MsSUFBSTtBQUNKO0FBQ08scUJBQXFCLGlFQUFPO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QztBQUM1QyxZQUFZO0FBQ1o7QUFDQTtBQUNBLDRDQUE0QztBQUM1QyxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCxtQkFBbUI7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0RBQW9ELEtBQUs7QUFDekQsa0VBQWtFLEtBQUs7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0MsS0FBSyxFQUFFO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQztBQUMzQyxRQUFRO0FBQ1I7QUFDQTtBQUNBLDJDQUEyQztBQUMzQyxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksMENBQUU7QUFDZCxZQUFZLDBDQUFFO0FBQ2QsWUFBWSwwQ0FBRTtBQUNkLFlBQVksMENBQUU7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDO0FBQ3ZDO0FBQ0E7QUFDQSxxQ0FBcUM7QUFDckMsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixnQkFBZ0I7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxtQ0FBbUM7QUFDekU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQix3REFBVTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsNEJBQTRCO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLGlCQUFpQjtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQix3REFBVTtBQUM1QjtBQUNBLGtDQUFrQywwQ0FBMEM7QUFDNUU7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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O0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixzQkFBc0I7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxNQUFNO0FBQ3pDLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxNQUFNO0FBQ3pDLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxNQUFNO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixzQkFBc0I7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZXRyb2FwcC1jbGllbnQvLi9ub2RlX21vZHVsZXMvc29ja2V0LmlvLWNsaWVudC9idWlsZC9lc20vc29ja2V0LmpzPzAxNWEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFja2V0VHlwZSB9IGZyb20gXCJzb2NrZXQuaW8tcGFyc2VyXCI7XG5pbXBvcnQgeyBvbiB9IGZyb20gXCIuL29uLmpzXCI7XG5pbXBvcnQgeyBFbWl0dGVyLCB9IGZyb20gXCJAc29ja2V0LmlvL2NvbXBvbmVudC1lbWl0dGVyXCI7XG4vKipcbiAqIEludGVybmFsIGV2ZW50cy5cbiAqIFRoZXNlIGV2ZW50cyBjYW4ndCBiZSBlbWl0dGVkIGJ5IHRoZSB1c2VyLlxuICovXG5jb25zdCBSRVNFUlZFRF9FVkVOVFMgPSBPYmplY3QuZnJlZXplKHtcbiAgICBjb25uZWN0OiAxLFxuICAgIGNvbm5lY3RfZXJyb3I6IDEsXG4gICAgZGlzY29ubmVjdDogMSxcbiAgICBkaXNjb25uZWN0aW5nOiAxLFxuICAgIC8vIEV2ZW50RW1pdHRlciByZXNlcnZlZCBldmVudHM6IGh0dHBzOi8vbm9kZWpzLm9yZy9hcGkvZXZlbnRzLmh0bWwjZXZlbnRzX2V2ZW50X25ld2xpc3RlbmVyXG4gICAgbmV3TGlzdGVuZXI6IDEsXG4gICAgcmVtb3ZlTGlzdGVuZXI6IDEsXG59KTtcbi8qKlxuICogQSBTb2NrZXQgaXMgdGhlIGZ1bmRhbWVudGFsIGNsYXNzIGZvciBpbnRlcmFjdGluZyB3aXRoIHRoZSBzZXJ2ZXIuXG4gKlxuICogQSBTb2NrZXQgYmVsb25ncyB0byBhIGNlcnRhaW4gTmFtZXNwYWNlIChieSBkZWZhdWx0IC8pIGFuZCB1c2VzIGFuIHVuZGVybHlpbmcge0BsaW5rIE1hbmFnZXJ9IHRvIGNvbW11bmljYXRlLlxuICpcbiAqIEBleGFtcGxlXG4gKiBjb25zdCBzb2NrZXQgPSBpbygpO1xuICpcbiAqIHNvY2tldC5vbihcImNvbm5lY3RcIiwgKCkgPT4ge1xuICogICBjb25zb2xlLmxvZyhcImNvbm5lY3RlZFwiKTtcbiAqIH0pO1xuICpcbiAqIC8vIHNlbmQgYW4gZXZlbnQgdG8gdGhlIHNlcnZlclxuICogc29ja2V0LmVtaXQoXCJmb29cIiwgXCJiYXJcIik7XG4gKlxuICogc29ja2V0Lm9uKFwiZm9vYmFyXCIsICgpID0+IHtcbiAqICAgLy8gYW4gZXZlbnQgd2FzIHJlY2VpdmVkIGZyb20gdGhlIHNlcnZlclxuICogfSk7XG4gKlxuICogLy8gdXBvbiBkaXNjb25uZWN0aW9uXG4gKiBzb2NrZXQub24oXCJkaXNjb25uZWN0XCIsIChyZWFzb24pID0+IHtcbiAqICAgY29uc29sZS5sb2coYGRpc2Nvbm5lY3RlZCBkdWUgdG8gJHtyZWFzb259YCk7XG4gKiB9KTtcbiAqL1xuZXhwb3J0IGNsYXNzIFNvY2tldCBleHRlbmRzIEVtaXR0ZXIge1xuICAgIC8qKlxuICAgICAqIGBTb2NrZXRgIGNvbnN0cnVjdG9yLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGlvLCBuc3AsIG9wdHMpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgdGhlIHNvY2tldCBpcyBjdXJyZW50bHkgY29ubmVjdGVkIHRvIHRoZSBzZXJ2ZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIGNvbnN0IHNvY2tldCA9IGlvKCk7XG4gICAgICAgICAqXG4gICAgICAgICAqIHNvY2tldC5vbihcImNvbm5lY3RcIiwgKCkgPT4ge1xuICAgICAgICAgKiAgIGNvbnNvbGUubG9nKHNvY2tldC5jb25uZWN0ZWQpOyAvLyB0cnVlXG4gICAgICAgICAqIH0pO1xuICAgICAgICAgKlxuICAgICAgICAgKiBzb2NrZXQub24oXCJkaXNjb25uZWN0XCIsICgpID0+IHtcbiAgICAgICAgICogICBjb25zb2xlLmxvZyhzb2NrZXQuY29ubmVjdGVkKTsgLy8gZmFsc2VcbiAgICAgICAgICogfSk7XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNvbm5lY3RlZCA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciB0aGUgY29ubmVjdGlvbiBzdGF0ZSB3YXMgcmVjb3ZlcmVkIGFmdGVyIGEgdGVtcG9yYXJ5IGRpc2Nvbm5lY3Rpb24uIEluIHRoYXQgY2FzZSwgYW55IG1pc3NlZCBwYWNrZXRzIHdpbGxcbiAgICAgICAgICogYmUgdHJhbnNtaXR0ZWQgYnkgdGhlIHNlcnZlci5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVjb3ZlcmVkID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCdWZmZXIgZm9yIHBhY2tldHMgcmVjZWl2ZWQgYmVmb3JlIHRoZSBDT05ORUNUIHBhY2tldFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZWNlaXZlQnVmZmVyID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCdWZmZXIgZm9yIHBhY2tldHMgdGhhdCB3aWxsIGJlIHNlbnQgb25jZSB0aGUgc29ja2V0IGlzIGNvbm5lY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zZW5kQnVmZmVyID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcXVldWUgb2YgcGFja2V0cyB0byBiZSBzZW50IHdpdGggcmV0cnkgaW4gY2FzZSBvZiBmYWlsdXJlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBQYWNrZXRzIGFyZSBzZW50IG9uZSBieSBvbmUsIGVhY2ggd2FpdGluZyBmb3IgdGhlIHNlcnZlciBhY2tub3dsZWRnZW1lbnQsIGluIG9yZGVyIHRvIGd1YXJhbnRlZSB0aGUgZGVsaXZlcnkgb3JkZXIuXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9xdWV1ZSA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBzZXF1ZW5jZSB0byBnZW5lcmF0ZSB0aGUgSUQgb2YgdGhlIHtAbGluayBRdWV1ZWRQYWNrZXR9LlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fcXVldWVTZXEgPSAwO1xuICAgICAgICB0aGlzLmlkcyA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIG1hcCBjb250YWluaW5nIGFja25vd2xlZGdlbWVudCBoYW5kbGVycy5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGB3aXRoRXJyb3JgIGF0dHJpYnV0ZSBpcyB1c2VkIHRvIGRpZmZlcmVudGlhdGUgaGFuZGxlcnMgdGhhdCBhY2NlcHQgYW4gZXJyb3IgYXMgZmlyc3QgYXJndW1lbnQ6XG4gICAgICAgICAqXG4gICAgICAgICAqIC0gYHNvY2tldC5lbWl0KFwidGVzdFwiLCAoZXJyLCB2YWx1ZSkgPT4geyAuLi4gfSlgIHdpdGggYGFja1RpbWVvdXRgIG9wdGlvblxuICAgICAgICAgKiAtIGBzb2NrZXQudGltZW91dCg1MDAwKS5lbWl0KFwidGVzdFwiLCAoZXJyLCB2YWx1ZSkgPT4geyAuLi4gfSlgXG4gICAgICAgICAqIC0gYGNvbnN0IHZhbHVlID0gYXdhaXQgc29ja2V0LmVtaXRXaXRoQWNrKFwidGVzdFwiKWBcbiAgICAgICAgICpcbiAgICAgICAgICogRnJvbSB0aG9zZSB0aGF0IGRvbid0OlxuICAgICAgICAgKlxuICAgICAgICAgKiAtIGBzb2NrZXQuZW1pdChcInRlc3RcIiwgKHZhbHVlKSA9PiB7IC4uLiB9KTtgXG4gICAgICAgICAqXG4gICAgICAgICAqIEluIHRoZSBmaXJzdCBjYXNlLCB0aGUgaGFuZGxlcnMgd2lsbCBiZSBjYWxsZWQgd2l0aCBhbiBlcnJvciB3aGVuOlxuICAgICAgICAgKlxuICAgICAgICAgKiAtIHRoZSB0aW1lb3V0IGlzIHJlYWNoZWRcbiAgICAgICAgICogLSB0aGUgc29ja2V0IGdldHMgZGlzY29ubmVjdGVkXG4gICAgICAgICAqXG4gICAgICAgICAqIEluIHRoZSBzZWNvbmQgY2FzZSwgdGhlIGhhbmRsZXJzIHdpbGwgYmUgc2ltcGx5IGRpc2NhcmRlZCB1cG9uIGRpc2Nvbm5lY3Rpb24sIHNpbmNlIHRoZSBjbGllbnQgd2lsbCBuZXZlciByZWNlaXZlXG4gICAgICAgICAqIGFuIGFja25vd2xlZGdlbWVudCBmcm9tIHRoZSBzZXJ2ZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmFja3MgPSB7fTtcbiAgICAgICAgdGhpcy5mbGFncyA9IHt9O1xuICAgICAgICB0aGlzLmlvID0gaW87XG4gICAgICAgIHRoaXMubnNwID0gbnNwO1xuICAgICAgICBpZiAob3B0cyAmJiBvcHRzLmF1dGgpIHtcbiAgICAgICAgICAgIHRoaXMuYXV0aCA9IG9wdHMuYXV0aDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9vcHRzID0gT2JqZWN0LmFzc2lnbih7fSwgb3B0cyk7XG4gICAgICAgIGlmICh0aGlzLmlvLl9hdXRvQ29ubmVjdClcbiAgICAgICAgICAgIHRoaXMub3BlbigpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSBzb2NrZXQgaXMgY3VycmVudGx5IGRpc2Nvbm5lY3RlZFxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBzb2NrZXQgPSBpbygpO1xuICAgICAqXG4gICAgICogc29ja2V0Lm9uKFwiY29ubmVjdFwiLCAoKSA9PiB7XG4gICAgICogICBjb25zb2xlLmxvZyhzb2NrZXQuZGlzY29ubmVjdGVkKTsgLy8gZmFsc2VcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIHNvY2tldC5vbihcImRpc2Nvbm5lY3RcIiwgKCkgPT4ge1xuICAgICAqICAgY29uc29sZS5sb2coc29ja2V0LmRpc2Nvbm5lY3RlZCk7IC8vIHRydWVcbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICBnZXQgZGlzY29ubmVjdGVkKCkge1xuICAgICAgICByZXR1cm4gIXRoaXMuY29ubmVjdGVkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdWJzY3JpYmUgdG8gb3BlbiwgY2xvc2UgYW5kIHBhY2tldCBldmVudHNcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgc3ViRXZlbnRzKCkge1xuICAgICAgICBpZiAodGhpcy5zdWJzKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBpbyA9IHRoaXMuaW87XG4gICAgICAgIHRoaXMuc3VicyA9IFtcbiAgICAgICAgICAgIG9uKGlvLCBcIm9wZW5cIiwgdGhpcy5vbm9wZW4uYmluZCh0aGlzKSksXG4gICAgICAgICAgICBvbihpbywgXCJwYWNrZXRcIiwgdGhpcy5vbnBhY2tldC5iaW5kKHRoaXMpKSxcbiAgICAgICAgICAgIG9uKGlvLCBcImVycm9yXCIsIHRoaXMub25lcnJvci5iaW5kKHRoaXMpKSxcbiAgICAgICAgICAgIG9uKGlvLCBcImNsb3NlXCIsIHRoaXMub25jbG9zZS5iaW5kKHRoaXMpKSxcbiAgICAgICAgXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgU29ja2V0IHdpbGwgdHJ5IHRvIHJlY29ubmVjdCB3aGVuIGl0cyBNYW5hZ2VyIGNvbm5lY3RzIG9yIHJlY29ubmVjdHMuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IHNvY2tldCA9IGlvKCk7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhzb2NrZXQuYWN0aXZlKTsgLy8gdHJ1ZVxuICAgICAqXG4gICAgICogc29ja2V0Lm9uKFwiZGlzY29ubmVjdFwiLCAocmVhc29uKSA9PiB7XG4gICAgICogICBpZiAocmVhc29uID09PSBcImlvIHNlcnZlciBkaXNjb25uZWN0XCIpIHtcbiAgICAgKiAgICAgLy8gdGhlIGRpc2Nvbm5lY3Rpb24gd2FzIGluaXRpYXRlZCBieSB0aGUgc2VydmVyLCB5b3UgbmVlZCB0byBtYW51YWxseSByZWNvbm5lY3RcbiAgICAgKiAgICAgY29uc29sZS5sb2coc29ja2V0LmFjdGl2ZSk7IC8vIGZhbHNlXG4gICAgICogICB9XG4gICAgICogICAvLyBlbHNlIHRoZSBzb2NrZXQgd2lsbCBhdXRvbWF0aWNhbGx5IHRyeSB0byByZWNvbm5lY3RcbiAgICAgKiAgIGNvbnNvbGUubG9nKHNvY2tldC5hY3RpdmUpOyAvLyB0cnVlXG4gICAgICogfSk7XG4gICAgICovXG4gICAgZ2V0IGFjdGl2ZSgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5zdWJzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBcIk9wZW5zXCIgdGhlIHNvY2tldC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3Qgc29ja2V0ID0gaW8oe1xuICAgICAqICAgYXV0b0Nvbm5lY3Q6IGZhbHNlXG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBzb2NrZXQuY29ubmVjdCgpO1xuICAgICAqL1xuICAgIGNvbm5lY3QoKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3RlZClcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB0aGlzLnN1YkV2ZW50cygpO1xuICAgICAgICBpZiAoIXRoaXMuaW9bXCJfcmVjb25uZWN0aW5nXCJdKVxuICAgICAgICAgICAgdGhpcy5pby5vcGVuKCk7IC8vIGVuc3VyZSBvcGVuXG4gICAgICAgIGlmIChcIm9wZW5cIiA9PT0gdGhpcy5pby5fcmVhZHlTdGF0ZSlcbiAgICAgICAgICAgIHRoaXMub25vcGVuKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBbGlhcyBmb3Ige0BsaW5rIGNvbm5lY3QoKX0uXG4gICAgICovXG4gICAgb3BlbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29ubmVjdCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kcyBhIGBtZXNzYWdlYCBldmVudC5cbiAgICAgKlxuICAgICAqIFRoaXMgbWV0aG9kIG1pbWljcyB0aGUgV2ViU29ja2V0LnNlbmQoKSBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9XZWJTb2NrZXQvc2VuZFxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBzb2NrZXQuc2VuZChcImhlbGxvXCIpO1xuICAgICAqXG4gICAgICogLy8gdGhpcyBpcyBlcXVpdmFsZW50IHRvXG4gICAgICogc29ja2V0LmVtaXQoXCJtZXNzYWdlXCIsIFwiaGVsbG9cIik7XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHNlbGZcbiAgICAgKi9cbiAgICBzZW5kKC4uLmFyZ3MpIHtcbiAgICAgICAgYXJncy51bnNoaWZ0KFwibWVzc2FnZVwiKTtcbiAgICAgICAgdGhpcy5lbWl0LmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGUgYGVtaXRgLlxuICAgICAqIElmIHRoZSBldmVudCBpcyBpbiBgZXZlbnRzYCwgaXQncyBlbWl0dGVkIG5vcm1hbGx5LlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBzb2NrZXQuZW1pdChcImhlbGxvXCIsIFwid29ybGRcIik7XG4gICAgICpcbiAgICAgKiAvLyBhbGwgc2VyaWFsaXphYmxlIGRhdGFzdHJ1Y3R1cmVzIGFyZSBzdXBwb3J0ZWQgKG5vIG5lZWQgdG8gY2FsbCBKU09OLnN0cmluZ2lmeSlcbiAgICAgKiBzb2NrZXQuZW1pdChcImhlbGxvXCIsIDEsIFwiMlwiLCB7IDM6IFtcIjRcIl0sIDU6IFVpbnQ4QXJyYXkuZnJvbShbNl0pIH0pO1xuICAgICAqXG4gICAgICogLy8gd2l0aCBhbiBhY2tub3dsZWRnZW1lbnQgZnJvbSB0aGUgc2VydmVyXG4gICAgICogc29ja2V0LmVtaXQoXCJoZWxsb1wiLCBcIndvcmxkXCIsICh2YWwpID0+IHtcbiAgICAgKiAgIC8vIC4uLlxuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogQHJldHVybiBzZWxmXG4gICAgICovXG4gICAgZW1pdChldiwgLi4uYXJncykge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgaWYgKFJFU0VSVkVEX0VWRU5UUy5oYXNPd25Qcm9wZXJ0eShldikpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignXCInICsgZXYudG9TdHJpbmcoKSArICdcIiBpcyBhIHJlc2VydmVkIGV2ZW50IG5hbWUnKTtcbiAgICAgICAgfVxuICAgICAgICBhcmdzLnVuc2hpZnQoZXYpO1xuICAgICAgICBpZiAodGhpcy5fb3B0cy5yZXRyaWVzICYmICF0aGlzLmZsYWdzLmZyb21RdWV1ZSAmJiAhdGhpcy5mbGFncy52b2xhdGlsZSkge1xuICAgICAgICAgICAgdGhpcy5fYWRkVG9RdWV1ZShhcmdzKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhY2tldCA9IHtcbiAgICAgICAgICAgIHR5cGU6IFBhY2tldFR5cGUuRVZFTlQsXG4gICAgICAgICAgICBkYXRhOiBhcmdzLFxuICAgICAgICB9O1xuICAgICAgICBwYWNrZXQub3B0aW9ucyA9IHt9O1xuICAgICAgICBwYWNrZXQub3B0aW9ucy5jb21wcmVzcyA9IHRoaXMuZmxhZ3MuY29tcHJlc3MgIT09IGZhbHNlO1xuICAgICAgICAvLyBldmVudCBhY2sgY2FsbGJhY2tcbiAgICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGFyZ3NbYXJncy5sZW5ndGggLSAxXSkge1xuICAgICAgICAgICAgY29uc3QgaWQgPSB0aGlzLmlkcysrO1xuICAgICAgICAgICAgY29uc3QgYWNrID0gYXJncy5wb3AoKTtcbiAgICAgICAgICAgIHRoaXMuX3JlZ2lzdGVyQWNrQ2FsbGJhY2soaWQsIGFjayk7XG4gICAgICAgICAgICBwYWNrZXQuaWQgPSBpZDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpc1RyYW5zcG9ydFdyaXRhYmxlID0gKF9iID0gKF9hID0gdGhpcy5pby5lbmdpbmUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS50cmFuc3BvcnQpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi53cml0YWJsZTtcbiAgICAgICAgY29uc3QgaXNDb25uZWN0ZWQgPSB0aGlzLmNvbm5lY3RlZCAmJiAhKChfYyA9IHRoaXMuaW8uZW5naW5lKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuX2hhc1BpbmdFeHBpcmVkKCkpO1xuICAgICAgICBjb25zdCBkaXNjYXJkUGFja2V0ID0gdGhpcy5mbGFncy52b2xhdGlsZSAmJiAhaXNUcmFuc3BvcnRXcml0YWJsZTtcbiAgICAgICAgaWYgKGRpc2NhcmRQYWNrZXQpIHtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0Nvbm5lY3RlZCkge1xuICAgICAgICAgICAgdGhpcy5ub3RpZnlPdXRnb2luZ0xpc3RlbmVycyhwYWNrZXQpO1xuICAgICAgICAgICAgdGhpcy5wYWNrZXQocGFja2V0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc2VuZEJ1ZmZlci5wdXNoKHBhY2tldCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5mbGFncyA9IHt9O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfcmVnaXN0ZXJBY2tDYWxsYmFjayhpZCwgYWNrKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgdGltZW91dCA9IChfYSA9IHRoaXMuZmxhZ3MudGltZW91dCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogdGhpcy5fb3B0cy5hY2tUaW1lb3V0O1xuICAgICAgICBpZiAodGltZW91dCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmFja3NbaWRdID0gYWNrO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgY29uc3QgdGltZXIgPSB0aGlzLmlvLnNldFRpbWVvdXRGbigoKSA9PiB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5hY2tzW2lkXTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zZW5kQnVmZmVyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2VuZEJ1ZmZlcltpXS5pZCA9PT0gaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW5kQnVmZmVyLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhY2suY2FsbCh0aGlzLCBuZXcgRXJyb3IoXCJvcGVyYXRpb24gaGFzIHRpbWVkIG91dFwiKSk7XG4gICAgICAgIH0sIHRpbWVvdXQpO1xuICAgICAgICBjb25zdCBmbiA9ICguLi5hcmdzKSA9PiB7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICB0aGlzLmlvLmNsZWFyVGltZW91dEZuKHRpbWVyKTtcbiAgICAgICAgICAgIGFjay5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgfTtcbiAgICAgICAgZm4ud2l0aEVycm9yID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5hY2tzW2lkXSA9IGZuO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFbWl0cyBhbiBldmVudCBhbmQgd2FpdHMgZm9yIGFuIGFja25vd2xlZGdlbWVudFxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyB3aXRob3V0IHRpbWVvdXRcbiAgICAgKiBjb25zdCByZXNwb25zZSA9IGF3YWl0IHNvY2tldC5lbWl0V2l0aEFjayhcImhlbGxvXCIsIFwid29ybGRcIik7XG4gICAgICpcbiAgICAgKiAvLyB3aXRoIGEgc3BlY2lmaWMgdGltZW91dFxuICAgICAqIHRyeSB7XG4gICAgICogICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHNvY2tldC50aW1lb3V0KDEwMDApLmVtaXRXaXRoQWNrKFwiaGVsbG9cIiwgXCJ3b3JsZFwiKTtcbiAgICAgKiB9IGNhdGNoIChlcnIpIHtcbiAgICAgKiAgIC8vIHRoZSBzZXJ2ZXIgZGlkIG5vdCBhY2tub3dsZWRnZSB0aGUgZXZlbnQgaW4gdGhlIGdpdmVuIGRlbGF5XG4gICAgICogfVxuICAgICAqXG4gICAgICogQHJldHVybiBhIFByb21pc2UgdGhhdCB3aWxsIGJlIGZ1bGZpbGxlZCB3aGVuIHRoZSBzZXJ2ZXIgYWNrbm93bGVkZ2VzIHRoZSBldmVudFxuICAgICAqL1xuICAgIGVtaXRXaXRoQWNrKGV2LCAuLi5hcmdzKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBmbiA9IChhcmcxLCBhcmcyKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFyZzEgPyByZWplY3QoYXJnMSkgOiByZXNvbHZlKGFyZzIpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGZuLndpdGhFcnJvciA9IHRydWU7XG4gICAgICAgICAgICBhcmdzLnB1c2goZm4pO1xuICAgICAgICAgICAgdGhpcy5lbWl0KGV2LCAuLi5hcmdzKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZCB0aGUgcGFja2V0IHRvIHRoZSBxdWV1ZS5cbiAgICAgKiBAcGFyYW0gYXJnc1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2FkZFRvUXVldWUoYXJncykge1xuICAgICAgICBsZXQgYWNrO1xuICAgICAgICBpZiAodHlwZW9mIGFyZ3NbYXJncy5sZW5ndGggLSAxXSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICBhY2sgPSBhcmdzLnBvcCgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhY2tldCA9IHtcbiAgICAgICAgICAgIGlkOiB0aGlzLl9xdWV1ZVNlcSsrLFxuICAgICAgICAgICAgdHJ5Q291bnQ6IDAsXG4gICAgICAgICAgICBwZW5kaW5nOiBmYWxzZSxcbiAgICAgICAgICAgIGFyZ3MsXG4gICAgICAgICAgICBmbGFnczogT2JqZWN0LmFzc2lnbih7IGZyb21RdWV1ZTogdHJ1ZSB9LCB0aGlzLmZsYWdzKSxcbiAgICAgICAgfTtcbiAgICAgICAgYXJncy5wdXNoKChlcnIsIC4uLnJlc3BvbnNlQXJncykgPT4ge1xuICAgICAgICAgICAgaWYgKHBhY2tldCAhPT0gdGhpcy5fcXVldWVbMF0pIHtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGhhc0Vycm9yID0gZXJyICE9PSBudWxsO1xuICAgICAgICAgICAgaWYgKGhhc0Vycm9yKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBhY2tldC50cnlDb3VudCA+IHRoaXMuX29wdHMucmV0cmllcykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9xdWV1ZS5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY2soZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX3F1ZXVlLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgaWYgKGFjaykge1xuICAgICAgICAgICAgICAgICAgICBhY2sobnVsbCwgLi4ucmVzcG9uc2VBcmdzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYWNrZXQucGVuZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RyYWluUXVldWUoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX3F1ZXVlLnB1c2gocGFja2V0KTtcbiAgICAgICAgdGhpcy5fZHJhaW5RdWV1ZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kIHRoZSBmaXJzdCBwYWNrZXQgb2YgdGhlIHF1ZXVlLCBhbmQgd2FpdCBmb3IgYW4gYWNrbm93bGVkZ2VtZW50IGZyb20gdGhlIHNlcnZlci5cbiAgICAgKiBAcGFyYW0gZm9yY2UgLSB3aGV0aGVyIHRvIHJlc2VuZCBhIHBhY2tldCB0aGF0IGhhcyBub3QgYmVlbiBhY2tub3dsZWRnZWQgeWV0XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9kcmFpblF1ZXVlKGZvcmNlID0gZmFsc2UpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNvbm5lY3RlZCB8fCB0aGlzLl9xdWV1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYWNrZXQgPSB0aGlzLl9xdWV1ZVswXTtcbiAgICAgICAgaWYgKHBhY2tldC5wZW5kaW5nICYmICFmb3JjZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHBhY2tldC5wZW5kaW5nID0gdHJ1ZTtcbiAgICAgICAgcGFja2V0LnRyeUNvdW50Kys7XG4gICAgICAgIHRoaXMuZmxhZ3MgPSBwYWNrZXQuZmxhZ3M7XG4gICAgICAgIHRoaXMuZW1pdC5hcHBseSh0aGlzLCBwYWNrZXQuYXJncyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlbmRzIGEgcGFja2V0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHBhY2tldFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgcGFja2V0KHBhY2tldCkge1xuICAgICAgICBwYWNrZXQubnNwID0gdGhpcy5uc3A7XG4gICAgICAgIHRoaXMuaW8uX3BhY2tldChwYWNrZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgdXBvbiBlbmdpbmUgYG9wZW5gLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBvbm9wZW4oKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5hdXRoID09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgdGhpcy5hdXRoKChkYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2VuZENvbm5lY3RQYWNrZXQoZGF0YSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3NlbmRDb25uZWN0UGFja2V0KHRoaXMuYXV0aCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VuZHMgYSBDT05ORUNUIHBhY2tldCB0byBpbml0aWF0ZSB0aGUgU29ja2V0LklPIHNlc3Npb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZGF0YVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3NlbmRDb25uZWN0UGFja2V0KGRhdGEpIHtcbiAgICAgICAgdGhpcy5wYWNrZXQoe1xuICAgICAgICAgICAgdHlwZTogUGFja2V0VHlwZS5DT05ORUNULFxuICAgICAgICAgICAgZGF0YTogdGhpcy5fcGlkXG4gICAgICAgICAgICAgICAgPyBPYmplY3QuYXNzaWduKHsgcGlkOiB0aGlzLl9waWQsIG9mZnNldDogdGhpcy5fbGFzdE9mZnNldCB9LCBkYXRhKVxuICAgICAgICAgICAgICAgIDogZGF0YSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB1cG9uIGVuZ2luZSBvciBtYW5hZ2VyIGBlcnJvcmAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZXJyXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBvbmVycm9yKGVycikge1xuICAgICAgICBpZiAoIXRoaXMuY29ubmVjdGVkKSB7XG4gICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcImNvbm5lY3RfZXJyb3JcIiwgZXJyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgdXBvbiBlbmdpbmUgYGNsb3NlYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSByZWFzb25cbiAgICAgKiBAcGFyYW0gZGVzY3JpcHRpb25cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIG9uY2xvc2UocmVhc29uLCBkZXNjcmlwdGlvbikge1xuICAgICAgICB0aGlzLmNvbm5lY3RlZCA9IGZhbHNlO1xuICAgICAgICBkZWxldGUgdGhpcy5pZDtcbiAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJkaXNjb25uZWN0XCIsIHJlYXNvbiwgZGVzY3JpcHRpb24pO1xuICAgICAgICB0aGlzLl9jbGVhckFja3MoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYXJzIHRoZSBhY2tub3dsZWRnZW1lbnQgaGFuZGxlcnMgdXBvbiBkaXNjb25uZWN0aW9uLCBzaW5jZSB0aGUgY2xpZW50IHdpbGwgbmV2ZXIgcmVjZWl2ZSBhbiBhY2tub3dsZWRnZW1lbnQgZnJvbVxuICAgICAqIHRoZSBzZXJ2ZXIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9jbGVhckFja3MoKSB7XG4gICAgICAgIE9iamVjdC5rZXlzKHRoaXMuYWNrcykuZm9yRWFjaCgoaWQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGlzQnVmZmVyZWQgPSB0aGlzLnNlbmRCdWZmZXIuc29tZSgocGFja2V0KSA9PiBTdHJpbmcocGFja2V0LmlkKSA9PT0gaWQpO1xuICAgICAgICAgICAgaWYgKCFpc0J1ZmZlcmVkKSB7XG4gICAgICAgICAgICAgICAgLy8gbm90ZTogaGFuZGxlcnMgdGhhdCBkbyBub3QgYWNjZXB0IGFuIGVycm9yIGFzIGZpcnN0IGFyZ3VtZW50IGFyZSBpZ25vcmVkIGhlcmVcbiAgICAgICAgICAgICAgICBjb25zdCBhY2sgPSB0aGlzLmFja3NbaWRdO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmFja3NbaWRdO1xuICAgICAgICAgICAgICAgIGlmIChhY2sud2l0aEVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGFjay5jYWxsKHRoaXMsIG5ldyBFcnJvcihcInNvY2tldCBoYXMgYmVlbiBkaXNjb25uZWN0ZWRcIikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aXRoIHNvY2tldCBwYWNrZXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGFja2V0XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBvbnBhY2tldChwYWNrZXQpIHtcbiAgICAgICAgY29uc3Qgc2FtZU5hbWVzcGFjZSA9IHBhY2tldC5uc3AgPT09IHRoaXMubnNwO1xuICAgICAgICBpZiAoIXNhbWVOYW1lc3BhY2UpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHN3aXRjaCAocGFja2V0LnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgUGFja2V0VHlwZS5DT05ORUNUOlxuICAgICAgICAgICAgICAgIGlmIChwYWNrZXQuZGF0YSAmJiBwYWNrZXQuZGF0YS5zaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbmNvbm5lY3QocGFja2V0LmRhdGEuc2lkLCBwYWNrZXQuZGF0YS5waWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJjb25uZWN0X2Vycm9yXCIsIG5ldyBFcnJvcihcIkl0IHNlZW1zIHlvdSBhcmUgdHJ5aW5nIHRvIHJlYWNoIGEgU29ja2V0LklPIHNlcnZlciBpbiB2Mi54IHdpdGggYSB2My54IGNsaWVudCwgYnV0IHRoZXkgYXJlIG5vdCBjb21wYXRpYmxlIChtb3JlIGluZm9ybWF0aW9uIGhlcmU6IGh0dHBzOi8vc29ja2V0LmlvL2RvY3MvdjMvbWlncmF0aW5nLWZyb20tMi14LXRvLTMtMC8pXCIpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFBhY2tldFR5cGUuRVZFTlQ6XG4gICAgICAgICAgICBjYXNlIFBhY2tldFR5cGUuQklOQVJZX0VWRU5UOlxuICAgICAgICAgICAgICAgIHRoaXMub25ldmVudChwYWNrZXQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBQYWNrZXRUeXBlLkFDSzpcbiAgICAgICAgICAgIGNhc2UgUGFja2V0VHlwZS5CSU5BUllfQUNLOlxuICAgICAgICAgICAgICAgIHRoaXMub25hY2socGFja2V0KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgUGFja2V0VHlwZS5ESVNDT05ORUNUOlxuICAgICAgICAgICAgICAgIHRoaXMub25kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFBhY2tldFR5cGUuQ09OTkVDVF9FUlJPUjpcbiAgICAgICAgICAgICAgICB0aGlzLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICBjb25zdCBlcnIgPSBuZXcgRXJyb3IocGFja2V0LmRhdGEubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgIGVyci5kYXRhID0gcGFja2V0LmRhdGEuZGF0YTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcImNvbm5lY3RfZXJyb3JcIiwgZXJyKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgdXBvbiBhIHNlcnZlciBldmVudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYWNrZXRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIG9uZXZlbnQocGFja2V0KSB7XG4gICAgICAgIGNvbnN0IGFyZ3MgPSBwYWNrZXQuZGF0YSB8fCBbXTtcbiAgICAgICAgaWYgKG51bGwgIT0gcGFja2V0LmlkKSB7XG4gICAgICAgICAgICBhcmdzLnB1c2godGhpcy5hY2socGFja2V0LmlkKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY29ubmVjdGVkKSB7XG4gICAgICAgICAgICB0aGlzLmVtaXRFdmVudChhcmdzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucmVjZWl2ZUJ1ZmZlci5wdXNoKE9iamVjdC5mcmVlemUoYXJncykpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVtaXRFdmVudChhcmdzKSB7XG4gICAgICAgIGlmICh0aGlzLl9hbnlMaXN0ZW5lcnMgJiYgdGhpcy5fYW55TGlzdGVuZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5fYW55TGlzdGVuZXJzLnNsaWNlKCk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGxpc3RlbmVyIG9mIGxpc3RlbmVycykge1xuICAgICAgICAgICAgICAgIGxpc3RlbmVyLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHN1cGVyLmVtaXQuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgIGlmICh0aGlzLl9waWQgJiYgYXJncy5sZW5ndGggJiYgdHlwZW9mIGFyZ3NbYXJncy5sZW5ndGggLSAxXSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgdGhpcy5fbGFzdE9mZnNldCA9IGFyZ3NbYXJncy5sZW5ndGggLSAxXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBQcm9kdWNlcyBhbiBhY2sgY2FsbGJhY2sgdG8gZW1pdCB3aXRoIGFuIGV2ZW50LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBhY2soaWQpIHtcbiAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgICAgIGxldCBzZW50ID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoLi4uYXJncykge1xuICAgICAgICAgICAgLy8gcHJldmVudCBkb3VibGUgY2FsbGJhY2tzXG4gICAgICAgICAgICBpZiAoc2VudClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBzZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgIHNlbGYucGFja2V0KHtcbiAgICAgICAgICAgICAgICB0eXBlOiBQYWNrZXRUeXBlLkFDSyxcbiAgICAgICAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgICAgICAgZGF0YTogYXJncyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgdXBvbiBhIHNlcnZlciBhY2tub3dsZWRnZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGFja2V0XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBvbmFjayhwYWNrZXQpIHtcbiAgICAgICAgY29uc3QgYWNrID0gdGhpcy5hY2tzW3BhY2tldC5pZF07XG4gICAgICAgIGlmICh0eXBlb2YgYWNrICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBkZWxldGUgdGhpcy5hY2tzW3BhY2tldC5pZF07XG4gICAgICAgIC8vIEB0cy1pZ25vcmUgRklYTUUgYWNrIGlzIGluY29ycmVjdGx5IGluZmVycmVkIGFzICduZXZlcidcbiAgICAgICAgaWYgKGFjay53aXRoRXJyb3IpIHtcbiAgICAgICAgICAgIHBhY2tldC5kYXRhLnVuc2hpZnQobnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBhY2suYXBwbHkodGhpcywgcGFja2V0LmRhdGEpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgdXBvbiBzZXJ2ZXIgY29ubmVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgb25jb25uZWN0KGlkLCBwaWQpIHtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLnJlY292ZXJlZCA9IHBpZCAmJiB0aGlzLl9waWQgPT09IHBpZDtcbiAgICAgICAgdGhpcy5fcGlkID0gcGlkOyAvLyBkZWZpbmVkIG9ubHkgaWYgY29ubmVjdGlvbiBzdGF0ZSByZWNvdmVyeSBpcyBlbmFibGVkXG4gICAgICAgIHRoaXMuY29ubmVjdGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5lbWl0QnVmZmVyZWQoKTtcbiAgICAgICAgdGhpcy5fZHJhaW5RdWV1ZSh0cnVlKTtcbiAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJjb25uZWN0XCIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFbWl0IGJ1ZmZlcmVkIGV2ZW50cyAocmVjZWl2ZWQgYW5kIGVtaXR0ZWQpLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBlbWl0QnVmZmVyZWQoKSB7XG4gICAgICAgIHRoaXMucmVjZWl2ZUJ1ZmZlci5mb3JFYWNoKChhcmdzKSA9PiB0aGlzLmVtaXRFdmVudChhcmdzKSk7XG4gICAgICAgIHRoaXMucmVjZWl2ZUJ1ZmZlciA9IFtdO1xuICAgICAgICB0aGlzLnNlbmRCdWZmZXIuZm9yRWFjaCgocGFja2V0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLm5vdGlmeU91dGdvaW5nTGlzdGVuZXJzKHBhY2tldCk7XG4gICAgICAgICAgICB0aGlzLnBhY2tldChwYWNrZXQpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zZW5kQnVmZmVyID0gW107XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB1cG9uIHNlcnZlciBkaXNjb25uZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBvbmRpc2Nvbm5lY3QoKSB7XG4gICAgICAgIHRoaXMuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLm9uY2xvc2UoXCJpbyBzZXJ2ZXIgZGlzY29ubmVjdFwiKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHVwb24gZm9yY2VkIGNsaWVudC9zZXJ2ZXIgc2lkZSBkaXNjb25uZWN0aW9ucyxcbiAgICAgKiB0aGlzIG1ldGhvZCBlbnN1cmVzIHRoZSBtYW5hZ2VyIHN0b3BzIHRyYWNraW5nIHVzIGFuZFxuICAgICAqIHRoYXQgcmVjb25uZWN0aW9ucyBkb24ndCBnZXQgdHJpZ2dlcmVkIGZvciB0aGlzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy5zdWJzKSB7XG4gICAgICAgICAgICAvLyBjbGVhbiBzdWJzY3JpcHRpb25zIHRvIGF2b2lkIHJlY29ubmVjdGlvbnNcbiAgICAgICAgICAgIHRoaXMuc3Vicy5mb3JFYWNoKChzdWJEZXN0cm95KSA9PiBzdWJEZXN0cm95KCkpO1xuICAgICAgICAgICAgdGhpcy5zdWJzID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW9bXCJfZGVzdHJveVwiXSh0aGlzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGlzY29ubmVjdHMgdGhlIHNvY2tldCBtYW51YWxseS4gSW4gdGhhdCBjYXNlLCB0aGUgc29ja2V0IHdpbGwgbm90IHRyeSB0byByZWNvbm5lY3QuXG4gICAgICpcbiAgICAgKiBJZiB0aGlzIGlzIHRoZSBsYXN0IGFjdGl2ZSBTb2NrZXQgaW5zdGFuY2Ugb2YgdGhlIHtAbGluayBNYW5hZ2VyfSwgdGhlIGxvdy1sZXZlbCBjb25uZWN0aW9uIHdpbGwgYmUgY2xvc2VkLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBzb2NrZXQgPSBpbygpO1xuICAgICAqXG4gICAgICogc29ja2V0Lm9uKFwiZGlzY29ubmVjdFwiLCAocmVhc29uKSA9PiB7XG4gICAgICogICAvLyBjb25zb2xlLmxvZyhyZWFzb24pOyBwcmludHMgXCJpbyBjbGllbnQgZGlzY29ubmVjdFwiXG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBzb2NrZXQuZGlzY29ubmVjdCgpO1xuICAgICAqXG4gICAgICogQHJldHVybiBzZWxmXG4gICAgICovXG4gICAgZGlzY29ubmVjdCgpIHtcbiAgICAgICAgaWYgKHRoaXMuY29ubmVjdGVkKSB7XG4gICAgICAgICAgICB0aGlzLnBhY2tldCh7IHR5cGU6IFBhY2tldFR5cGUuRElTQ09OTkVDVCB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyByZW1vdmUgc29ja2V0IGZyb20gcG9vbFxuICAgICAgICB0aGlzLmRlc3Ryb3koKTtcbiAgICAgICAgaWYgKHRoaXMuY29ubmVjdGVkKSB7XG4gICAgICAgICAgICAvLyBmaXJlIGV2ZW50c1xuICAgICAgICAgICAgdGhpcy5vbmNsb3NlKFwiaW8gY2xpZW50IGRpc2Nvbm5lY3RcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFsaWFzIGZvciB7QGxpbmsgZGlzY29ubmVjdCgpfS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4gc2VsZlxuICAgICAqL1xuICAgIGNsb3NlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kaXNjb25uZWN0KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGNvbXByZXNzIGZsYWcuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHNvY2tldC5jb21wcmVzcyhmYWxzZSkuZW1pdChcImhlbGxvXCIpO1xuICAgICAqXG4gICAgICogQHBhcmFtIGNvbXByZXNzIC0gaWYgYHRydWVgLCBjb21wcmVzc2VzIHRoZSBzZW5kaW5nIGRhdGFcbiAgICAgKiBAcmV0dXJuIHNlbGZcbiAgICAgKi9cbiAgICBjb21wcmVzcyhjb21wcmVzcykge1xuICAgICAgICB0aGlzLmZsYWdzLmNvbXByZXNzID0gY29tcHJlc3M7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIGEgbW9kaWZpZXIgZm9yIGEgc3Vic2VxdWVudCBldmVudCBlbWlzc2lvbiB0aGF0IHRoZSBldmVudCBtZXNzYWdlIHdpbGwgYmUgZHJvcHBlZCB3aGVuIHRoaXMgc29ja2V0IGlzIG5vdFxuICAgICAqIHJlYWR5IHRvIHNlbmQgbWVzc2FnZXMuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHNvY2tldC52b2xhdGlsZS5lbWl0KFwiaGVsbG9cIik7IC8vIHRoZSBzZXJ2ZXIgbWF5IG9yIG1heSBub3QgcmVjZWl2ZSBpdFxuICAgICAqXG4gICAgICogQHJldHVybnMgc2VsZlxuICAgICAqL1xuICAgIGdldCB2b2xhdGlsZSgpIHtcbiAgICAgICAgdGhpcy5mbGFncy52b2xhdGlsZSA9IHRydWU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIGEgbW9kaWZpZXIgZm9yIGEgc3Vic2VxdWVudCBldmVudCBlbWlzc2lvbiB0aGF0IHRoZSBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZCB3aXRoIGFuIGVycm9yIHdoZW4gdGhlXG4gICAgICogZ2l2ZW4gbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBoYXZlIGVsYXBzZWQgd2l0aG91dCBhbiBhY2tub3dsZWRnZW1lbnQgZnJvbSB0aGUgc2VydmVyOlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBzb2NrZXQudGltZW91dCg1MDAwKS5lbWl0KFwibXktZXZlbnRcIiwgKGVycikgPT4ge1xuICAgICAqICAgaWYgKGVycikge1xuICAgICAqICAgICAvLyB0aGUgc2VydmVyIGRpZCBub3QgYWNrbm93bGVkZ2UgdGhlIGV2ZW50IGluIHRoZSBnaXZlbiBkZWxheVxuICAgICAqICAgfVxuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogQHJldHVybnMgc2VsZlxuICAgICAqL1xuICAgIHRpbWVvdXQodGltZW91dCkge1xuICAgICAgICB0aGlzLmZsYWdzLnRpbWVvdXQgPSB0aW1lb3V0O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyBhIGxpc3RlbmVyIHRoYXQgd2lsbCBiZSBmaXJlZCB3aGVuIGFueSBldmVudCBpcyBlbWl0dGVkLiBUaGUgZXZlbnQgbmFtZSBpcyBwYXNzZWQgYXMgdGhlIGZpcnN0IGFyZ3VtZW50IHRvIHRoZVxuICAgICAqIGNhbGxiYWNrLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBzb2NrZXQub25BbnkoKGV2ZW50LCAuLi5hcmdzKSA9PiB7XG4gICAgICogICBjb25zb2xlLmxvZyhgZ290ICR7ZXZlbnR9YCk7XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBAcGFyYW0gbGlzdGVuZXJcbiAgICAgKi9cbiAgICBvbkFueShsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLl9hbnlMaXN0ZW5lcnMgPSB0aGlzLl9hbnlMaXN0ZW5lcnMgfHwgW107XG4gICAgICAgIHRoaXMuX2FueUxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBsaXN0ZW5lciB0aGF0IHdpbGwgYmUgZmlyZWQgd2hlbiBhbnkgZXZlbnQgaXMgZW1pdHRlZC4gVGhlIGV2ZW50IG5hbWUgaXMgcGFzc2VkIGFzIHRoZSBmaXJzdCBhcmd1bWVudCB0byB0aGVcbiAgICAgKiBjYWxsYmFjay4gVGhlIGxpc3RlbmVyIGlzIGFkZGVkIHRvIHRoZSBiZWdpbm5pbmcgb2YgdGhlIGxpc3RlbmVycyBhcnJheS5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogc29ja2V0LnByZXBlbmRBbnkoKGV2ZW50LCAuLi5hcmdzKSA9PiB7XG4gICAgICogICBjb25zb2xlLmxvZyhgZ290IGV2ZW50ICR7ZXZlbnR9YCk7XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBAcGFyYW0gbGlzdGVuZXJcbiAgICAgKi9cbiAgICBwcmVwZW5kQW55KGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMuX2FueUxpc3RlbmVycyA9IHRoaXMuX2FueUxpc3RlbmVycyB8fCBbXTtcbiAgICAgICAgdGhpcy5fYW55TGlzdGVuZXJzLnVuc2hpZnQobGlzdGVuZXIpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgbGlzdGVuZXIgdGhhdCB3aWxsIGJlIGZpcmVkIHdoZW4gYW55IGV2ZW50IGlzIGVtaXR0ZWQuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IGNhdGNoQWxsTGlzdGVuZXIgPSAoZXZlbnQsIC4uLmFyZ3MpID0+IHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGBnb3QgZXZlbnQgJHtldmVudH1gKTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBzb2NrZXQub25BbnkoY2F0Y2hBbGxMaXN0ZW5lcik7XG4gICAgICpcbiAgICAgKiAvLyByZW1vdmUgYSBzcGVjaWZpYyBsaXN0ZW5lclxuICAgICAqIHNvY2tldC5vZmZBbnkoY2F0Y2hBbGxMaXN0ZW5lcik7XG4gICAgICpcbiAgICAgKiAvLyBvciByZW1vdmUgYWxsIGxpc3RlbmVyc1xuICAgICAqIHNvY2tldC5vZmZBbnkoKTtcbiAgICAgKlxuICAgICAqIEBwYXJhbSBsaXN0ZW5lclxuICAgICAqL1xuICAgIG9mZkFueShsaXN0ZW5lcikge1xuICAgICAgICBpZiAoIXRoaXMuX2FueUxpc3RlbmVycykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxpc3RlbmVyKSB7XG4gICAgICAgICAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLl9hbnlMaXN0ZW5lcnM7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChsaXN0ZW5lciA9PT0gbGlzdGVuZXJzW2ldKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVycy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2FueUxpc3RlbmVycyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIGFycmF5IG9mIGxpc3RlbmVycyB0aGF0IGFyZSBsaXN0ZW5pbmcgZm9yIGFueSBldmVudCB0aGF0IGlzIHNwZWNpZmllZC4gVGhpcyBhcnJheSBjYW4gYmUgbWFuaXB1bGF0ZWQsXG4gICAgICogZS5nLiB0byByZW1vdmUgbGlzdGVuZXJzLlxuICAgICAqL1xuICAgIGxpc3RlbmVyc0FueSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FueUxpc3RlbmVycyB8fCBbXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyBhIGxpc3RlbmVyIHRoYXQgd2lsbCBiZSBmaXJlZCB3aGVuIGFueSBldmVudCBpcyBlbWl0dGVkLiBUaGUgZXZlbnQgbmFtZSBpcyBwYXNzZWQgYXMgdGhlIGZpcnN0IGFyZ3VtZW50IHRvIHRoZVxuICAgICAqIGNhbGxiYWNrLlxuICAgICAqXG4gICAgICogTm90ZTogYWNrbm93bGVkZ2VtZW50cyBzZW50IHRvIHRoZSBzZXJ2ZXIgYXJlIG5vdCBpbmNsdWRlZC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogc29ja2V0Lm9uQW55T3V0Z29pbmcoKGV2ZW50LCAuLi5hcmdzKSA9PiB7XG4gICAgICogICBjb25zb2xlLmxvZyhgc2VudCBldmVudCAke2V2ZW50fWApO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogQHBhcmFtIGxpc3RlbmVyXG4gICAgICovXG4gICAgb25BbnlPdXRnb2luZyhsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLl9hbnlPdXRnb2luZ0xpc3RlbmVycyA9IHRoaXMuX2FueU91dGdvaW5nTGlzdGVuZXJzIHx8IFtdO1xuICAgICAgICB0aGlzLl9hbnlPdXRnb2luZ0xpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBsaXN0ZW5lciB0aGF0IHdpbGwgYmUgZmlyZWQgd2hlbiBhbnkgZXZlbnQgaXMgZW1pdHRlZC4gVGhlIGV2ZW50IG5hbWUgaXMgcGFzc2VkIGFzIHRoZSBmaXJzdCBhcmd1bWVudCB0byB0aGVcbiAgICAgKiBjYWxsYmFjay4gVGhlIGxpc3RlbmVyIGlzIGFkZGVkIHRvIHRoZSBiZWdpbm5pbmcgb2YgdGhlIGxpc3RlbmVycyBhcnJheS5cbiAgICAgKlxuICAgICAqIE5vdGU6IGFja25vd2xlZGdlbWVudHMgc2VudCB0byB0aGUgc2VydmVyIGFyZSBub3QgaW5jbHVkZWQuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHNvY2tldC5wcmVwZW5kQW55T3V0Z29pbmcoKGV2ZW50LCAuLi5hcmdzKSA9PiB7XG4gICAgICogICBjb25zb2xlLmxvZyhgc2VudCBldmVudCAke2V2ZW50fWApO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogQHBhcmFtIGxpc3RlbmVyXG4gICAgICovXG4gICAgcHJlcGVuZEFueU91dGdvaW5nKGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMuX2FueU91dGdvaW5nTGlzdGVuZXJzID0gdGhpcy5fYW55T3V0Z29pbmdMaXN0ZW5lcnMgfHwgW107XG4gICAgICAgIHRoaXMuX2FueU91dGdvaW5nTGlzdGVuZXJzLnVuc2hpZnQobGlzdGVuZXIpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgbGlzdGVuZXIgdGhhdCB3aWxsIGJlIGZpcmVkIHdoZW4gYW55IGV2ZW50IGlzIGVtaXR0ZWQuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IGNhdGNoQWxsTGlzdGVuZXIgPSAoZXZlbnQsIC4uLmFyZ3MpID0+IHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGBzZW50IGV2ZW50ICR7ZXZlbnR9YCk7XG4gICAgICogfVxuICAgICAqXG4gICAgICogc29ja2V0Lm9uQW55T3V0Z29pbmcoY2F0Y2hBbGxMaXN0ZW5lcik7XG4gICAgICpcbiAgICAgKiAvLyByZW1vdmUgYSBzcGVjaWZpYyBsaXN0ZW5lclxuICAgICAqIHNvY2tldC5vZmZBbnlPdXRnb2luZyhjYXRjaEFsbExpc3RlbmVyKTtcbiAgICAgKlxuICAgICAqIC8vIG9yIHJlbW92ZSBhbGwgbGlzdGVuZXJzXG4gICAgICogc29ja2V0Lm9mZkFueU91dGdvaW5nKCk7XG4gICAgICpcbiAgICAgKiBAcGFyYW0gW2xpc3RlbmVyXSAtIHRoZSBjYXRjaC1hbGwgbGlzdGVuZXIgKG9wdGlvbmFsKVxuICAgICAqL1xuICAgIG9mZkFueU91dGdvaW5nKGxpc3RlbmVyKSB7XG4gICAgICAgIGlmICghdGhpcy5fYW55T3V0Z29pbmdMaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsaXN0ZW5lcikge1xuICAgICAgICAgICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5fYW55T3V0Z29pbmdMaXN0ZW5lcnM7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChsaXN0ZW5lciA9PT0gbGlzdGVuZXJzW2ldKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVycy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2FueU91dGdvaW5nTGlzdGVuZXJzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW4gYXJyYXkgb2YgbGlzdGVuZXJzIHRoYXQgYXJlIGxpc3RlbmluZyBmb3IgYW55IGV2ZW50IHRoYXQgaXMgc3BlY2lmaWVkLiBUaGlzIGFycmF5IGNhbiBiZSBtYW5pcHVsYXRlZCxcbiAgICAgKiBlLmcuIHRvIHJlbW92ZSBsaXN0ZW5lcnMuXG4gICAgICovXG4gICAgbGlzdGVuZXJzQW55T3V0Z29pbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hbnlPdXRnb2luZ0xpc3RlbmVycyB8fCBbXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTm90aWZ5IHRoZSBsaXN0ZW5lcnMgZm9yIGVhY2ggcGFja2V0IHNlbnRcbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYWNrZXRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgbm90aWZ5T3V0Z29pbmdMaXN0ZW5lcnMocGFja2V0KSB7XG4gICAgICAgIGlmICh0aGlzLl9hbnlPdXRnb2luZ0xpc3RlbmVycyAmJiB0aGlzLl9hbnlPdXRnb2luZ0xpc3RlbmVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuX2FueU91dGdvaW5nTGlzdGVuZXJzLnNsaWNlKCk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGxpc3RlbmVyIG9mIGxpc3RlbmVycykge1xuICAgICAgICAgICAgICAgIGxpc3RlbmVyLmFwcGx5KHRoaXMsIHBhY2tldC5kYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/socket.io-client/build/esm/socket.js\n\n}");

/***/ },

/***/ "./node_modules/socket.io-client/build/esm/url.js"
/*!********************************************************!*\
  !*** ./node_modules/socket.io-client/build/esm/url.js ***!
  \********************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   url: () => (/* binding */ url)\n/* harmony export */ });\n/* harmony import */ var engine_io_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine.io-client */ \"./node_modules/engine.io-client/build/esm/index.js\");\n\n/**\n * URL parser.\n *\n * @param uri - url\n * @param path - the request path of the connection\n * @param loc - An object meant to mimic window.location.\n *        Defaults to window.location.\n * @public\n */\nfunction url(uri, path = \"\", loc) {\n    let obj = uri;\n    // default to window.location\n    loc = loc || (typeof location !== \"undefined\" && location);\n    if (null == uri)\n        uri = loc.protocol + \"//\" + loc.host;\n    // relative path support\n    if (typeof uri === \"string\") {\n        if (\"/\" === uri.charAt(0)) {\n            if (\"/\" === uri.charAt(1)) {\n                uri = loc.protocol + uri;\n            }\n            else {\n                uri = loc.host + uri;\n            }\n        }\n        if (!/^(https?|wss?):\\/\\//.test(uri)) {\n            if (\"undefined\" !== typeof loc) {\n                uri = loc.protocol + \"//\" + uri;\n            }\n            else {\n                uri = \"https://\" + uri;\n            }\n        }\n        // parse\n        obj = (0,engine_io_client__WEBPACK_IMPORTED_MODULE_0__.parse)(uri);\n    }\n    // make sure we treat `localhost:80` and `localhost` equally\n    if (!obj.port) {\n        if (/^(http|ws)$/.test(obj.protocol)) {\n            obj.port = \"80\";\n        }\n        else if (/^(http|ws)s$/.test(obj.protocol)) {\n            obj.port = \"443\";\n        }\n    }\n    obj.path = obj.path || \"/\";\n    const ipv6 = obj.host.indexOf(\":\") !== -1;\n    const host = ipv6 ? \"[\" + obj.host + \"]\" : obj.host;\n    // define unique id\n    obj.id = obj.protocol + \"://\" + host + \":\" + obj.port + path;\n    // define href\n    obj.href =\n        obj.protocol +\n            \"://\" +\n            host +\n            (loc && loc.port === obj.port ? \"\" : \":\" + obj.port);\n    return obj;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc29ja2V0LmlvLWNsaWVudC9idWlsZC9lc20vdXJsLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXlDO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyx1REFBSztBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmV0cm9hcHAtY2xpZW50Ly4vbm9kZV9tb2R1bGVzL3NvY2tldC5pby1jbGllbnQvYnVpbGQvZXNtL3VybC5qcz80MmE1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHBhcnNlIH0gZnJvbSBcImVuZ2luZS5pby1jbGllbnRcIjtcbi8qKlxuICogVVJMIHBhcnNlci5cbiAqXG4gKiBAcGFyYW0gdXJpIC0gdXJsXG4gKiBAcGFyYW0gcGF0aCAtIHRoZSByZXF1ZXN0IHBhdGggb2YgdGhlIGNvbm5lY3Rpb25cbiAqIEBwYXJhbSBsb2MgLSBBbiBvYmplY3QgbWVhbnQgdG8gbWltaWMgd2luZG93LmxvY2F0aW9uLlxuICogICAgICAgIERlZmF1bHRzIHRvIHdpbmRvdy5sb2NhdGlvbi5cbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVybCh1cmksIHBhdGggPSBcIlwiLCBsb2MpIHtcbiAgICBsZXQgb2JqID0gdXJpO1xuICAgIC8vIGRlZmF1bHQgdG8gd2luZG93LmxvY2F0aW9uXG4gICAgbG9jID0gbG9jIHx8ICh0eXBlb2YgbG9jYXRpb24gIT09IFwidW5kZWZpbmVkXCIgJiYgbG9jYXRpb24pO1xuICAgIGlmIChudWxsID09IHVyaSlcbiAgICAgICAgdXJpID0gbG9jLnByb3RvY29sICsgXCIvL1wiICsgbG9jLmhvc3Q7XG4gICAgLy8gcmVsYXRpdmUgcGF0aCBzdXBwb3J0XG4gICAgaWYgKHR5cGVvZiB1cmkgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgaWYgKFwiL1wiID09PSB1cmkuY2hhckF0KDApKSB7XG4gICAgICAgICAgICBpZiAoXCIvXCIgPT09IHVyaS5jaGFyQXQoMSkpIHtcbiAgICAgICAgICAgICAgICB1cmkgPSBsb2MucHJvdG9jb2wgKyB1cmk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB1cmkgPSBsb2MuaG9zdCArIHVyaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIS9eKGh0dHBzP3x3c3M/KTpcXC9cXC8vLnRlc3QodXJpKSkge1xuICAgICAgICAgICAgaWYgKFwidW5kZWZpbmVkXCIgIT09IHR5cGVvZiBsb2MpIHtcbiAgICAgICAgICAgICAgICB1cmkgPSBsb2MucHJvdG9jb2wgKyBcIi8vXCIgKyB1cmk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB1cmkgPSBcImh0dHBzOi8vXCIgKyB1cmk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gcGFyc2VcbiAgICAgICAgb2JqID0gcGFyc2UodXJpKTtcbiAgICB9XG4gICAgLy8gbWFrZSBzdXJlIHdlIHRyZWF0IGBsb2NhbGhvc3Q6ODBgIGFuZCBgbG9jYWxob3N0YCBlcXVhbGx5XG4gICAgaWYgKCFvYmoucG9ydCkge1xuICAgICAgICBpZiAoL14oaHR0cHx3cykkLy50ZXN0KG9iai5wcm90b2NvbCkpIHtcbiAgICAgICAgICAgIG9iai5wb3J0ID0gXCI4MFwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKC9eKGh0dHB8d3MpcyQvLnRlc3Qob2JqLnByb3RvY29sKSkge1xuICAgICAgICAgICAgb2JqLnBvcnQgPSBcIjQ0M1wiO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9iai5wYXRoID0gb2JqLnBhdGggfHwgXCIvXCI7XG4gICAgY29uc3QgaXB2NiA9IG9iai5ob3N0LmluZGV4T2YoXCI6XCIpICE9PSAtMTtcbiAgICBjb25zdCBob3N0ID0gaXB2NiA/IFwiW1wiICsgb2JqLmhvc3QgKyBcIl1cIiA6IG9iai5ob3N0O1xuICAgIC8vIGRlZmluZSB1bmlxdWUgaWRcbiAgICBvYmouaWQgPSBvYmoucHJvdG9jb2wgKyBcIjovL1wiICsgaG9zdCArIFwiOlwiICsgb2JqLnBvcnQgKyBwYXRoO1xuICAgIC8vIGRlZmluZSBocmVmXG4gICAgb2JqLmhyZWYgPVxuICAgICAgICBvYmoucHJvdG9jb2wgK1xuICAgICAgICAgICAgXCI6Ly9cIiArXG4gICAgICAgICAgICBob3N0ICtcbiAgICAgICAgICAgIChsb2MgJiYgbG9jLnBvcnQgPT09IG9iai5wb3J0ID8gXCJcIiA6IFwiOlwiICsgb2JqLnBvcnQpO1xuICAgIHJldHVybiBvYmo7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/socket.io-client/build/esm/url.js\n\n}");

/***/ },

/***/ "./node_modules/socket.io-parser/build/esm-debug/binary.js"
/*!*****************************************************************!*\
  !*** ./node_modules/socket.io-parser/build/esm-debug/binary.js ***!
  \*****************************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   deconstructPacket: () => (/* binding */ deconstructPacket),\n/* harmony export */   reconstructPacket: () => (/* binding */ reconstructPacket)\n/* harmony export */ });\n/* harmony import */ var _is_binary_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./is-binary.js */ \"./node_modules/socket.io-parser/build/esm-debug/is-binary.js\");\n\n/**\n * Replaces every Buffer | ArrayBuffer | Blob | File in packet with a numbered placeholder.\n *\n * @param {Object} packet - socket.io event packet\n * @return {Object} with deconstructed packet and list of buffers\n * @public\n */\nfunction deconstructPacket(packet) {\n    const buffers = [];\n    const packetData = packet.data;\n    const pack = packet;\n    pack.data = _deconstructPacket(packetData, buffers);\n    pack.attachments = buffers.length; // number of binary 'attachments'\n    return { packet: pack, buffers: buffers };\n}\nfunction _deconstructPacket(data, buffers) {\n    if (!data)\n        return data;\n    if ((0,_is_binary_js__WEBPACK_IMPORTED_MODULE_0__.isBinary)(data)) {\n        const placeholder = { _placeholder: true, num: buffers.length };\n        buffers.push(data);\n        return placeholder;\n    }\n    else if (Array.isArray(data)) {\n        const newData = new Array(data.length);\n        for (let i = 0; i < data.length; i++) {\n            newData[i] = _deconstructPacket(data[i], buffers);\n        }\n        return newData;\n    }\n    else if (typeof data === \"object\" && !(data instanceof Date)) {\n        const newData = {};\n        for (const key in data) {\n            if (Object.prototype.hasOwnProperty.call(data, key)) {\n                newData[key] = _deconstructPacket(data[key], buffers);\n            }\n        }\n        return newData;\n    }\n    return data;\n}\n/**\n * Reconstructs a binary packet from its placeholder packet and buffers\n *\n * @param {Object} packet - event packet with placeholders\n * @param {Array} buffers - binary buffers to put in placeholder positions\n * @return {Object} reconstructed packet\n * @public\n */\nfunction reconstructPacket(packet, buffers) {\n    packet.data = _reconstructPacket(packet.data, buffers);\n    delete packet.attachments; // no longer useful\n    return packet;\n}\nfunction _reconstructPacket(data, buffers) {\n    if (!data)\n        return data;\n    if (data && data._placeholder === true) {\n        const isIndexValid = typeof data.num === \"number\" &&\n            data.num >= 0 &&\n            data.num < buffers.length;\n        if (isIndexValid) {\n            return buffers[data.num]; // appropriate buffer (should be natural order anyway)\n        }\n        else {\n            throw new Error(\"illegal attachments\");\n        }\n    }\n    else if (Array.isArray(data)) {\n        for (let i = 0; i < data.length; i++) {\n            data[i] = _reconstructPacket(data[i], buffers);\n        }\n    }\n    else if (typeof data === \"object\") {\n        for (const key in data) {\n            if (Object.prototype.hasOwnProperty.call(data, key)) {\n                data[key] = _reconstructPacket(data[key], buffers);\n            }\n        }\n    }\n    return data;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc29ja2V0LmlvLXBhcnNlci9idWlsZC9lc20tZGVidWcvYmluYXJ5LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUEwQztBQUMxQztBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsWUFBWSxRQUFRO0FBQ3BCO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDO0FBQ3ZDLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsdURBQVE7QUFDaEIsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsaUJBQWlCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLE9BQU87QUFDbEIsWUFBWSxRQUFRO0FBQ3BCO0FBQ0E7QUFDTztBQUNQO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixpQkFBaUI7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmV0cm9hcHAtY2xpZW50Ly4vbm9kZV9tb2R1bGVzL3NvY2tldC5pby1wYXJzZXIvYnVpbGQvZXNtLWRlYnVnL2JpbmFyeS5qcz8wOWMyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzQmluYXJ5IH0gZnJvbSBcIi4vaXMtYmluYXJ5LmpzXCI7XG4vKipcbiAqIFJlcGxhY2VzIGV2ZXJ5IEJ1ZmZlciB8IEFycmF5QnVmZmVyIHwgQmxvYiB8IEZpbGUgaW4gcGFja2V0IHdpdGggYSBudW1iZXJlZCBwbGFjZWhvbGRlci5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcGFja2V0IC0gc29ja2V0LmlvIGV2ZW50IHBhY2tldFxuICogQHJldHVybiB7T2JqZWN0fSB3aXRoIGRlY29uc3RydWN0ZWQgcGFja2V0IGFuZCBsaXN0IG9mIGJ1ZmZlcnNcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlY29uc3RydWN0UGFja2V0KHBhY2tldCkge1xuICAgIGNvbnN0IGJ1ZmZlcnMgPSBbXTtcbiAgICBjb25zdCBwYWNrZXREYXRhID0gcGFja2V0LmRhdGE7XG4gICAgY29uc3QgcGFjayA9IHBhY2tldDtcbiAgICBwYWNrLmRhdGEgPSBfZGVjb25zdHJ1Y3RQYWNrZXQocGFja2V0RGF0YSwgYnVmZmVycyk7XG4gICAgcGFjay5hdHRhY2htZW50cyA9IGJ1ZmZlcnMubGVuZ3RoOyAvLyBudW1iZXIgb2YgYmluYXJ5ICdhdHRhY2htZW50cydcbiAgICByZXR1cm4geyBwYWNrZXQ6IHBhY2ssIGJ1ZmZlcnM6IGJ1ZmZlcnMgfTtcbn1cbmZ1bmN0aW9uIF9kZWNvbnN0cnVjdFBhY2tldChkYXRhLCBidWZmZXJzKSB7XG4gICAgaWYgKCFkYXRhKVxuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICBpZiAoaXNCaW5hcnkoZGF0YSkpIHtcbiAgICAgICAgY29uc3QgcGxhY2Vob2xkZXIgPSB7IF9wbGFjZWhvbGRlcjogdHJ1ZSwgbnVtOiBidWZmZXJzLmxlbmd0aCB9O1xuICAgICAgICBidWZmZXJzLnB1c2goZGF0YSk7XG4gICAgICAgIHJldHVybiBwbGFjZWhvbGRlcjtcbiAgICB9XG4gICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICBjb25zdCBuZXdEYXRhID0gbmV3IEFycmF5KGRhdGEubGVuZ3RoKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBuZXdEYXRhW2ldID0gX2RlY29uc3RydWN0UGFja2V0KGRhdGFbaV0sIGJ1ZmZlcnMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXdEYXRhO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgZGF0YSA9PT0gXCJvYmplY3RcIiAmJiAhKGRhdGEgaW5zdGFuY2VvZiBEYXRlKSkge1xuICAgICAgICBjb25zdCBuZXdEYXRhID0ge307XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIGRhdGEpIHtcbiAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZGF0YSwga2V5KSkge1xuICAgICAgICAgICAgICAgIG5ld0RhdGFba2V5XSA9IF9kZWNvbnN0cnVjdFBhY2tldChkYXRhW2tleV0sIGJ1ZmZlcnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXdEYXRhO1xuICAgIH1cbiAgICByZXR1cm4gZGF0YTtcbn1cbi8qKlxuICogUmVjb25zdHJ1Y3RzIGEgYmluYXJ5IHBhY2tldCBmcm9tIGl0cyBwbGFjZWhvbGRlciBwYWNrZXQgYW5kIGJ1ZmZlcnNcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcGFja2V0IC0gZXZlbnQgcGFja2V0IHdpdGggcGxhY2Vob2xkZXJzXG4gKiBAcGFyYW0ge0FycmF5fSBidWZmZXJzIC0gYmluYXJ5IGJ1ZmZlcnMgdG8gcHV0IGluIHBsYWNlaG9sZGVyIHBvc2l0aW9uc1xuICogQHJldHVybiB7T2JqZWN0fSByZWNvbnN0cnVjdGVkIHBhY2tldFxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gcmVjb25zdHJ1Y3RQYWNrZXQocGFja2V0LCBidWZmZXJzKSB7XG4gICAgcGFja2V0LmRhdGEgPSBfcmVjb25zdHJ1Y3RQYWNrZXQocGFja2V0LmRhdGEsIGJ1ZmZlcnMpO1xuICAgIGRlbGV0ZSBwYWNrZXQuYXR0YWNobWVudHM7IC8vIG5vIGxvbmdlciB1c2VmdWxcbiAgICByZXR1cm4gcGFja2V0O1xufVxuZnVuY3Rpb24gX3JlY29uc3RydWN0UGFja2V0KGRhdGEsIGJ1ZmZlcnMpIHtcbiAgICBpZiAoIWRhdGEpXG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIGlmIChkYXRhICYmIGRhdGEuX3BsYWNlaG9sZGVyID09PSB0cnVlKSB7XG4gICAgICAgIGNvbnN0IGlzSW5kZXhWYWxpZCA9IHR5cGVvZiBkYXRhLm51bSA9PT0gXCJudW1iZXJcIiAmJlxuICAgICAgICAgICAgZGF0YS5udW0gPj0gMCAmJlxuICAgICAgICAgICAgZGF0YS5udW0gPCBidWZmZXJzLmxlbmd0aDtcbiAgICAgICAgaWYgKGlzSW5kZXhWYWxpZCkge1xuICAgICAgICAgICAgcmV0dXJuIGJ1ZmZlcnNbZGF0YS5udW1dOyAvLyBhcHByb3ByaWF0ZSBidWZmZXIgKHNob3VsZCBiZSBuYXR1cmFsIG9yZGVyIGFueXdheSlcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImlsbGVnYWwgYXR0YWNobWVudHNcIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGRhdGFbaV0gPSBfcmVjb25zdHJ1Y3RQYWNrZXQoZGF0YVtpXSwgYnVmZmVycyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIGRhdGEgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gZGF0YSkge1xuICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpKSB7XG4gICAgICAgICAgICAgICAgZGF0YVtrZXldID0gX3JlY29uc3RydWN0UGFja2V0KGRhdGFba2V5XSwgYnVmZmVycyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGRhdGE7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/socket.io-parser/build/esm-debug/binary.js\n\n}");

/***/ },

/***/ "./node_modules/socket.io-parser/build/esm-debug/index.js"
/*!****************************************************************!*\
  !*** ./node_modules/socket.io-parser/build/esm-debug/index.js ***!
  \****************************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Decoder: () => (/* binding */ Decoder),\n/* harmony export */   Encoder: () => (/* binding */ Encoder),\n/* harmony export */   PacketType: () => (/* binding */ PacketType),\n/* harmony export */   isPacketValid: () => (/* binding */ isPacketValid),\n/* harmony export */   protocol: () => (/* binding */ protocol)\n/* harmony export */ });\n/* harmony import */ var _socket_io_component_emitter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @socket.io/component-emitter */ \"./node_modules/@socket.io/component-emitter/lib/esm/index.js\");\n/* harmony import */ var _binary_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./binary.js */ \"./node_modules/socket.io-parser/build/esm-debug/binary.js\");\n/* harmony import */ var _is_binary_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./is-binary.js */ \"./node_modules/socket.io-parser/build/esm-debug/is-binary.js\");\n/* harmony import */ var debug__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! debug */ \"./node_modules/debug/src/browser.js\");\n\n\n\n // debug()\nconst debug = debug__WEBPACK_IMPORTED_MODULE_3__(\"socket.io-parser\"); // debug()\n/**\n * These strings must not be used as event names, as they have a special meaning.\n */\nconst RESERVED_EVENTS = [\n    \"connect\", // used on the client side\n    \"connect_error\", // used on the client side\n    \"disconnect\", // used on both sides\n    \"disconnecting\", // used on the server side\n    \"newListener\", // used by the Node.js EventEmitter\n    \"removeListener\", // used by the Node.js EventEmitter\n];\n/**\n * Protocol version.\n *\n * @public\n */\nconst protocol = 5;\nvar PacketType;\n(function (PacketType) {\n    PacketType[PacketType[\"CONNECT\"] = 0] = \"CONNECT\";\n    PacketType[PacketType[\"DISCONNECT\"] = 1] = \"DISCONNECT\";\n    PacketType[PacketType[\"EVENT\"] = 2] = \"EVENT\";\n    PacketType[PacketType[\"ACK\"] = 3] = \"ACK\";\n    PacketType[PacketType[\"CONNECT_ERROR\"] = 4] = \"CONNECT_ERROR\";\n    PacketType[PacketType[\"BINARY_EVENT\"] = 5] = \"BINARY_EVENT\";\n    PacketType[PacketType[\"BINARY_ACK\"] = 6] = \"BINARY_ACK\";\n})(PacketType || (PacketType = {}));\n/**\n * A socket.io Encoder instance\n */\nclass Encoder {\n    /**\n     * Encoder constructor\n     *\n     * @param {function} replacer - custom replacer to pass down to JSON.parse\n     */\n    constructor(replacer) {\n        this.replacer = replacer;\n    }\n    /**\n     * Encode a packet as a single string if non-binary, or as a\n     * buffer sequence, depending on packet type.\n     *\n     * @param {Object} obj - packet object\n     */\n    encode(obj) {\n        debug(\"encoding packet %j\", obj);\n        if (obj.type === PacketType.EVENT || obj.type === PacketType.ACK) {\n            if ((0,_is_binary_js__WEBPACK_IMPORTED_MODULE_2__.hasBinary)(obj)) {\n                return this.encodeAsBinary({\n                    type: obj.type === PacketType.EVENT\n                        ? PacketType.BINARY_EVENT\n                        : PacketType.BINARY_ACK,\n                    nsp: obj.nsp,\n                    data: obj.data,\n                    id: obj.id,\n                });\n            }\n        }\n        return [this.encodeAsString(obj)];\n    }\n    /**\n     * Encode packet as string.\n     */\n    encodeAsString(obj) {\n        // first is type\n        let str = \"\" + obj.type;\n        // attachments if we have them\n        if (obj.type === PacketType.BINARY_EVENT ||\n            obj.type === PacketType.BINARY_ACK) {\n            str += obj.attachments + \"-\";\n        }\n        // if we have a namespace other than `/`\n        // we append it followed by a comma `,`\n        if (obj.nsp && \"/\" !== obj.nsp) {\n            str += obj.nsp + \",\";\n        }\n        // immediately followed by the id\n        if (null != obj.id) {\n            str += obj.id;\n        }\n        // json data\n        if (null != obj.data) {\n            str += JSON.stringify(obj.data, this.replacer);\n        }\n        debug(\"encoded %j as %s\", obj, str);\n        return str;\n    }\n    /**\n     * Encode packet as 'buffer sequence' by removing blobs, and\n     * deconstructing packet into object with placeholders and\n     * a list of buffers.\n     */\n    encodeAsBinary(obj) {\n        const deconstruction = (0,_binary_js__WEBPACK_IMPORTED_MODULE_1__.deconstructPacket)(obj);\n        const pack = this.encodeAsString(deconstruction.packet);\n        const buffers = deconstruction.buffers;\n        buffers.unshift(pack); // add packet info to beginning of data list\n        return buffers; // write all the buffers\n    }\n}\n/**\n * A socket.io Decoder instance\n *\n * @return {Object} decoder\n */\nclass Decoder extends _socket_io_component_emitter__WEBPACK_IMPORTED_MODULE_0__.Emitter {\n    /**\n     * Decoder constructor\n     *\n     * @param {function} reviver - custom reviver to pass down to JSON.stringify\n     */\n    constructor(reviver) {\n        super();\n        this.reviver = reviver;\n    }\n    /**\n     * Decodes an encoded packet string into packet JSON.\n     *\n     * @param {String} obj - encoded packet\n     */\n    add(obj) {\n        let packet;\n        if (typeof obj === \"string\") {\n            if (this.reconstructor) {\n                throw new Error(\"got plaintext data when reconstructing a packet\");\n            }\n            packet = this.decodeString(obj);\n            const isBinaryEvent = packet.type === PacketType.BINARY_EVENT;\n            if (isBinaryEvent || packet.type === PacketType.BINARY_ACK) {\n                packet.type = isBinaryEvent ? PacketType.EVENT : PacketType.ACK;\n                // binary packet's json\n                this.reconstructor = new BinaryReconstructor(packet);\n                // no attachments, labeled binary but no binary data to follow\n                if (packet.attachments === 0) {\n                    super.emitReserved(\"decoded\", packet);\n                }\n            }\n            else {\n                // non-binary full packet\n                super.emitReserved(\"decoded\", packet);\n            }\n        }\n        else if ((0,_is_binary_js__WEBPACK_IMPORTED_MODULE_2__.isBinary)(obj) || obj.base64) {\n            // raw binary data\n            if (!this.reconstructor) {\n                throw new Error(\"got binary data when not reconstructing a packet\");\n            }\n            else {\n                packet = this.reconstructor.takeBinaryData(obj);\n                if (packet) {\n                    // received final buffer\n                    this.reconstructor = null;\n                    super.emitReserved(\"decoded\", packet);\n                }\n            }\n        }\n        else {\n            throw new Error(\"Unknown type: \" + obj);\n        }\n    }\n    /**\n     * Decode a packet String (JSON data)\n     *\n     * @param {String} str\n     * @return {Object} packet\n     */\n    decodeString(str) {\n        let i = 0;\n        // look up type\n        const p = {\n            type: Number(str.charAt(0)),\n        };\n        if (PacketType[p.type] === undefined) {\n            throw new Error(\"unknown packet type \" + p.type);\n        }\n        // look up attachments if type binary\n        if (p.type === PacketType.BINARY_EVENT ||\n            p.type === PacketType.BINARY_ACK) {\n            const start = i + 1;\n            while (str.charAt(++i) !== \"-\" && i != str.length) { }\n            const buf = str.substring(start, i);\n            if (buf != Number(buf) || str.charAt(i) !== \"-\") {\n                throw new Error(\"Illegal attachments\");\n            }\n            p.attachments = Number(buf);\n        }\n        // look up namespace (if any)\n        if (\"/\" === str.charAt(i + 1)) {\n            const start = i + 1;\n            while (++i) {\n                const c = str.charAt(i);\n                if (\",\" === c)\n                    break;\n                if (i === str.length)\n                    break;\n            }\n            p.nsp = str.substring(start, i);\n        }\n        else {\n            p.nsp = \"/\";\n        }\n        // look up id\n        const next = str.charAt(i + 1);\n        if (\"\" !== next && Number(next) == next) {\n            const start = i + 1;\n            while (++i) {\n                const c = str.charAt(i);\n                if (null == c || Number(c) != c) {\n                    --i;\n                    break;\n                }\n                if (i === str.length)\n                    break;\n            }\n            p.id = Number(str.substring(start, i + 1));\n        }\n        // look up json data\n        if (str.charAt(++i)) {\n            const payload = this.tryParse(str.substr(i));\n            if (Decoder.isPayloadValid(p.type, payload)) {\n                p.data = payload;\n            }\n            else {\n                throw new Error(\"invalid payload\");\n            }\n        }\n        debug(\"decoded %s as %j\", str, p);\n        return p;\n    }\n    tryParse(str) {\n        try {\n            return JSON.parse(str, this.reviver);\n        }\n        catch (e) {\n            return false;\n        }\n    }\n    static isPayloadValid(type, payload) {\n        switch (type) {\n            case PacketType.CONNECT:\n                return isObject(payload);\n            case PacketType.DISCONNECT:\n                return payload === undefined;\n            case PacketType.CONNECT_ERROR:\n                return typeof payload === \"string\" || isObject(payload);\n            case PacketType.EVENT:\n            case PacketType.BINARY_EVENT:\n                return (Array.isArray(payload) &&\n                    (typeof payload[0] === \"number\" ||\n                        (typeof payload[0] === \"string\" &&\n                            RESERVED_EVENTS.indexOf(payload[0]) === -1)));\n            case PacketType.ACK:\n            case PacketType.BINARY_ACK:\n                return Array.isArray(payload);\n        }\n    }\n    /**\n     * Deallocates a parser's resources\n     */\n    destroy() {\n        if (this.reconstructor) {\n            this.reconstructor.finishedReconstruction();\n            this.reconstructor = null;\n        }\n    }\n}\n/**\n * A manager of a binary event's 'buffer sequence'. Should\n * be constructed whenever a packet of type BINARY_EVENT is\n * decoded.\n *\n * @param {Object} packet\n * @return {BinaryReconstructor} initialized reconstructor\n */\nclass BinaryReconstructor {\n    constructor(packet) {\n        this.packet = packet;\n        this.buffers = [];\n        this.reconPack = packet;\n    }\n    /**\n     * Method to be called when binary data received from connection\n     * after a BINARY_EVENT packet.\n     *\n     * @param {Buffer | ArrayBuffer} binData - the raw binary data received\n     * @return {null | Object} returns null if more binary data is expected or\n     *   a reconstructed packet object if all buffers have been received.\n     */\n    takeBinaryData(binData) {\n        this.buffers.push(binData);\n        if (this.buffers.length === this.reconPack.attachments) {\n            // done with buffer list\n            const packet = (0,_binary_js__WEBPACK_IMPORTED_MODULE_1__.reconstructPacket)(this.reconPack, this.buffers);\n            this.finishedReconstruction();\n            return packet;\n        }\n        return null;\n    }\n    /**\n     * Cleans up binary packet reconstruction variables.\n     */\n    finishedReconstruction() {\n        this.reconPack = null;\n        this.buffers = [];\n    }\n}\nfunction isNamespaceValid(nsp) {\n    return typeof nsp === \"string\";\n}\n// see https://caniuse.com/mdn-javascript_builtins_number_isinteger\nconst isInteger = Number.isInteger ||\n    function (value) {\n        return (typeof value === \"number\" &&\n            isFinite(value) &&\n            Math.floor(value) === value);\n    };\nfunction isAckIdValid(id) {\n    return id === undefined || isInteger(id);\n}\n// see https://stackoverflow.com/questions/8511281/check-if-a-value-is-an-object-in-javascript\nfunction isObject(value) {\n    return Object.prototype.toString.call(value) === \"[object Object]\";\n}\nfunction isDataValid(type, payload) {\n    switch (type) {\n        case PacketType.CONNECT:\n            return payload === undefined || isObject(payload);\n        case PacketType.DISCONNECT:\n            return payload === undefined;\n        case PacketType.EVENT:\n            return (Array.isArray(payload) &&\n                (typeof payload[0] === \"number\" ||\n                    (typeof payload[0] === \"string\" &&\n                        RESERVED_EVENTS.indexOf(payload[0]) === -1)));\n        case PacketType.ACK:\n            return Array.isArray(payload);\n        case PacketType.CONNECT_ERROR:\n            return typeof payload === \"string\" || isObject(payload);\n        default:\n            return false;\n    }\n}\nfunction isPacketValid(packet) {\n    return (isNamespaceValid(packet.nsp) &&\n        isAckIdValid(packet.id) &&\n        isDataValid(packet.type, packet.data));\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc29ja2V0LmlvLXBhcnNlci9idWlsZC9lc20tZGVidWcvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQXVEO0FBQ1k7QUFDZDtBQUNyQixDQUFDO0FBQ2pDLGNBQWMsa0NBQVcsc0JBQXNCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDQTtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLGdDQUFnQztBQUNqQztBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBLGVBQWUsVUFBVTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLHdEQUFTO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLDZEQUFpQjtBQUNoRDtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxRQUFRO0FBQ3BCO0FBQ08sc0JBQXNCLGlFQUFPO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBLGVBQWUsVUFBVTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsdURBQVE7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixnQkFBZ0IsUUFBUTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixZQUFZLHFCQUFxQjtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxzQkFBc0I7QUFDckMsZ0JBQWdCLGVBQWU7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLDZEQUFpQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZXRyb2FwcC1jbGllbnQvLi9ub2RlX21vZHVsZXMvc29ja2V0LmlvLXBhcnNlci9idWlsZC9lc20tZGVidWcvaW5kZXguanM/OTNkNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFbWl0dGVyIH0gZnJvbSBcIkBzb2NrZXQuaW8vY29tcG9uZW50LWVtaXR0ZXJcIjtcbmltcG9ydCB7IGRlY29uc3RydWN0UGFja2V0LCByZWNvbnN0cnVjdFBhY2tldCB9IGZyb20gXCIuL2JpbmFyeS5qc1wiO1xuaW1wb3J0IHsgaXNCaW5hcnksIGhhc0JpbmFyeSB9IGZyb20gXCIuL2lzLWJpbmFyeS5qc1wiO1xuaW1wb3J0IGRlYnVnTW9kdWxlIGZyb20gXCJkZWJ1Z1wiOyAvLyBkZWJ1ZygpXG5jb25zdCBkZWJ1ZyA9IGRlYnVnTW9kdWxlKFwic29ja2V0LmlvLXBhcnNlclwiKTsgLy8gZGVidWcoKVxuLyoqXG4gKiBUaGVzZSBzdHJpbmdzIG11c3Qgbm90IGJlIHVzZWQgYXMgZXZlbnQgbmFtZXMsIGFzIHRoZXkgaGF2ZSBhIHNwZWNpYWwgbWVhbmluZy5cbiAqL1xuY29uc3QgUkVTRVJWRURfRVZFTlRTID0gW1xuICAgIFwiY29ubmVjdFwiLCAvLyB1c2VkIG9uIHRoZSBjbGllbnQgc2lkZVxuICAgIFwiY29ubmVjdF9lcnJvclwiLCAvLyB1c2VkIG9uIHRoZSBjbGllbnQgc2lkZVxuICAgIFwiZGlzY29ubmVjdFwiLCAvLyB1c2VkIG9uIGJvdGggc2lkZXNcbiAgICBcImRpc2Nvbm5lY3RpbmdcIiwgLy8gdXNlZCBvbiB0aGUgc2VydmVyIHNpZGVcbiAgICBcIm5ld0xpc3RlbmVyXCIsIC8vIHVzZWQgYnkgdGhlIE5vZGUuanMgRXZlbnRFbWl0dGVyXG4gICAgXCJyZW1vdmVMaXN0ZW5lclwiLCAvLyB1c2VkIGJ5IHRoZSBOb2RlLmpzIEV2ZW50RW1pdHRlclxuXTtcbi8qKlxuICogUHJvdG9jb2wgdmVyc2lvbi5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBwcm90b2NvbCA9IDU7XG5leHBvcnQgdmFyIFBhY2tldFR5cGU7XG4oZnVuY3Rpb24gKFBhY2tldFR5cGUpIHtcbiAgICBQYWNrZXRUeXBlW1BhY2tldFR5cGVbXCJDT05ORUNUXCJdID0gMF0gPSBcIkNPTk5FQ1RcIjtcbiAgICBQYWNrZXRUeXBlW1BhY2tldFR5cGVbXCJESVNDT05ORUNUXCJdID0gMV0gPSBcIkRJU0NPTk5FQ1RcIjtcbiAgICBQYWNrZXRUeXBlW1BhY2tldFR5cGVbXCJFVkVOVFwiXSA9IDJdID0gXCJFVkVOVFwiO1xuICAgIFBhY2tldFR5cGVbUGFja2V0VHlwZVtcIkFDS1wiXSA9IDNdID0gXCJBQ0tcIjtcbiAgICBQYWNrZXRUeXBlW1BhY2tldFR5cGVbXCJDT05ORUNUX0VSUk9SXCJdID0gNF0gPSBcIkNPTk5FQ1RfRVJST1JcIjtcbiAgICBQYWNrZXRUeXBlW1BhY2tldFR5cGVbXCJCSU5BUllfRVZFTlRcIl0gPSA1XSA9IFwiQklOQVJZX0VWRU5UXCI7XG4gICAgUGFja2V0VHlwZVtQYWNrZXRUeXBlW1wiQklOQVJZX0FDS1wiXSA9IDZdID0gXCJCSU5BUllfQUNLXCI7XG59KShQYWNrZXRUeXBlIHx8IChQYWNrZXRUeXBlID0ge30pKTtcbi8qKlxuICogQSBzb2NrZXQuaW8gRW5jb2RlciBpbnN0YW5jZVxuICovXG5leHBvcnQgY2xhc3MgRW5jb2RlciB7XG4gICAgLyoqXG4gICAgICogRW5jb2RlciBjb25zdHJ1Y3RvclxuICAgICAqXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gcmVwbGFjZXIgLSBjdXN0b20gcmVwbGFjZXIgdG8gcGFzcyBkb3duIHRvIEpTT04ucGFyc2VcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihyZXBsYWNlcikge1xuICAgICAgICB0aGlzLnJlcGxhY2VyID0gcmVwbGFjZXI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVuY29kZSBhIHBhY2tldCBhcyBhIHNpbmdsZSBzdHJpbmcgaWYgbm9uLWJpbmFyeSwgb3IgYXMgYVxuICAgICAqIGJ1ZmZlciBzZXF1ZW5jZSwgZGVwZW5kaW5nIG9uIHBhY2tldCB0eXBlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iaiAtIHBhY2tldCBvYmplY3RcbiAgICAgKi9cbiAgICBlbmNvZGUob2JqKSB7XG4gICAgICAgIGRlYnVnKFwiZW5jb2RpbmcgcGFja2V0ICVqXCIsIG9iaik7XG4gICAgICAgIGlmIChvYmoudHlwZSA9PT0gUGFja2V0VHlwZS5FVkVOVCB8fCBvYmoudHlwZSA9PT0gUGFja2V0VHlwZS5BQ0spIHtcbiAgICAgICAgICAgIGlmIChoYXNCaW5hcnkob2JqKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVuY29kZUFzQmluYXJ5KHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogb2JqLnR5cGUgPT09IFBhY2tldFR5cGUuRVZFTlRcbiAgICAgICAgICAgICAgICAgICAgICAgID8gUGFja2V0VHlwZS5CSU5BUllfRVZFTlRcbiAgICAgICAgICAgICAgICAgICAgICAgIDogUGFja2V0VHlwZS5CSU5BUllfQUNLLFxuICAgICAgICAgICAgICAgICAgICBuc3A6IG9iai5uc3AsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IG9iai5kYXRhLFxuICAgICAgICAgICAgICAgICAgICBpZDogb2JqLmlkLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbdGhpcy5lbmNvZGVBc1N0cmluZyhvYmopXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRW5jb2RlIHBhY2tldCBhcyBzdHJpbmcuXG4gICAgICovXG4gICAgZW5jb2RlQXNTdHJpbmcob2JqKSB7XG4gICAgICAgIC8vIGZpcnN0IGlzIHR5cGVcbiAgICAgICAgbGV0IHN0ciA9IFwiXCIgKyBvYmoudHlwZTtcbiAgICAgICAgLy8gYXR0YWNobWVudHMgaWYgd2UgaGF2ZSB0aGVtXG4gICAgICAgIGlmIChvYmoudHlwZSA9PT0gUGFja2V0VHlwZS5CSU5BUllfRVZFTlQgfHxcbiAgICAgICAgICAgIG9iai50eXBlID09PSBQYWNrZXRUeXBlLkJJTkFSWV9BQ0spIHtcbiAgICAgICAgICAgIHN0ciArPSBvYmouYXR0YWNobWVudHMgKyBcIi1cIjtcbiAgICAgICAgfVxuICAgICAgICAvLyBpZiB3ZSBoYXZlIGEgbmFtZXNwYWNlIG90aGVyIHRoYW4gYC9gXG4gICAgICAgIC8vIHdlIGFwcGVuZCBpdCBmb2xsb3dlZCBieSBhIGNvbW1hIGAsYFxuICAgICAgICBpZiAob2JqLm5zcCAmJiBcIi9cIiAhPT0gb2JqLm5zcCkge1xuICAgICAgICAgICAgc3RyICs9IG9iai5uc3AgKyBcIixcIjtcbiAgICAgICAgfVxuICAgICAgICAvLyBpbW1lZGlhdGVseSBmb2xsb3dlZCBieSB0aGUgaWRcbiAgICAgICAgaWYgKG51bGwgIT0gb2JqLmlkKSB7XG4gICAgICAgICAgICBzdHIgKz0gb2JqLmlkO1xuICAgICAgICB9XG4gICAgICAgIC8vIGpzb24gZGF0YVxuICAgICAgICBpZiAobnVsbCAhPSBvYmouZGF0YSkge1xuICAgICAgICAgICAgc3RyICs9IEpTT04uc3RyaW5naWZ5KG9iai5kYXRhLCB0aGlzLnJlcGxhY2VyKTtcbiAgICAgICAgfVxuICAgICAgICBkZWJ1ZyhcImVuY29kZWQgJWogYXMgJXNcIiwgb2JqLCBzdHIpO1xuICAgICAgICByZXR1cm4gc3RyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFbmNvZGUgcGFja2V0IGFzICdidWZmZXIgc2VxdWVuY2UnIGJ5IHJlbW92aW5nIGJsb2JzLCBhbmRcbiAgICAgKiBkZWNvbnN0cnVjdGluZyBwYWNrZXQgaW50byBvYmplY3Qgd2l0aCBwbGFjZWhvbGRlcnMgYW5kXG4gICAgICogYSBsaXN0IG9mIGJ1ZmZlcnMuXG4gICAgICovXG4gICAgZW5jb2RlQXNCaW5hcnkob2JqKSB7XG4gICAgICAgIGNvbnN0IGRlY29uc3RydWN0aW9uID0gZGVjb25zdHJ1Y3RQYWNrZXQob2JqKTtcbiAgICAgICAgY29uc3QgcGFjayA9IHRoaXMuZW5jb2RlQXNTdHJpbmcoZGVjb25zdHJ1Y3Rpb24ucGFja2V0KTtcbiAgICAgICAgY29uc3QgYnVmZmVycyA9IGRlY29uc3RydWN0aW9uLmJ1ZmZlcnM7XG4gICAgICAgIGJ1ZmZlcnMudW5zaGlmdChwYWNrKTsgLy8gYWRkIHBhY2tldCBpbmZvIHRvIGJlZ2lubmluZyBvZiBkYXRhIGxpc3RcbiAgICAgICAgcmV0dXJuIGJ1ZmZlcnM7IC8vIHdyaXRlIGFsbCB0aGUgYnVmZmVyc1xuICAgIH1cbn1cbi8qKlxuICogQSBzb2NrZXQuaW8gRGVjb2RlciBpbnN0YW5jZVxuICpcbiAqIEByZXR1cm4ge09iamVjdH0gZGVjb2RlclxuICovXG5leHBvcnQgY2xhc3MgRGVjb2RlciBleHRlbmRzIEVtaXR0ZXIge1xuICAgIC8qKlxuICAgICAqIERlY29kZXIgY29uc3RydWN0b3JcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IHJldml2ZXIgLSBjdXN0b20gcmV2aXZlciB0byBwYXNzIGRvd24gdG8gSlNPTi5zdHJpbmdpZnlcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihyZXZpdmVyKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMucmV2aXZlciA9IHJldml2ZXI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlY29kZXMgYW4gZW5jb2RlZCBwYWNrZXQgc3RyaW5nIGludG8gcGFja2V0IEpTT04uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gb2JqIC0gZW5jb2RlZCBwYWNrZXRcbiAgICAgKi9cbiAgICBhZGQob2JqKSB7XG4gICAgICAgIGxldCBwYWNrZXQ7XG4gICAgICAgIGlmICh0eXBlb2Ygb2JqID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5yZWNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiZ290IHBsYWludGV4dCBkYXRhIHdoZW4gcmVjb25zdHJ1Y3RpbmcgYSBwYWNrZXRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYWNrZXQgPSB0aGlzLmRlY29kZVN0cmluZyhvYmopO1xuICAgICAgICAgICAgY29uc3QgaXNCaW5hcnlFdmVudCA9IHBhY2tldC50eXBlID09PSBQYWNrZXRUeXBlLkJJTkFSWV9FVkVOVDtcbiAgICAgICAgICAgIGlmIChpc0JpbmFyeUV2ZW50IHx8IHBhY2tldC50eXBlID09PSBQYWNrZXRUeXBlLkJJTkFSWV9BQ0spIHtcbiAgICAgICAgICAgICAgICBwYWNrZXQudHlwZSA9IGlzQmluYXJ5RXZlbnQgPyBQYWNrZXRUeXBlLkVWRU5UIDogUGFja2V0VHlwZS5BQ0s7XG4gICAgICAgICAgICAgICAgLy8gYmluYXJ5IHBhY2tldCdzIGpzb25cbiAgICAgICAgICAgICAgICB0aGlzLnJlY29uc3RydWN0b3IgPSBuZXcgQmluYXJ5UmVjb25zdHJ1Y3RvcihwYWNrZXQpO1xuICAgICAgICAgICAgICAgIC8vIG5vIGF0dGFjaG1lbnRzLCBsYWJlbGVkIGJpbmFyeSBidXQgbm8gYmluYXJ5IGRhdGEgdG8gZm9sbG93XG4gICAgICAgICAgICAgICAgaWYgKHBhY2tldC5hdHRhY2htZW50cyA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBzdXBlci5lbWl0UmVzZXJ2ZWQoXCJkZWNvZGVkXCIsIHBhY2tldCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gbm9uLWJpbmFyeSBmdWxsIHBhY2tldFxuICAgICAgICAgICAgICAgIHN1cGVyLmVtaXRSZXNlcnZlZChcImRlY29kZWRcIiwgcGFja2V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0JpbmFyeShvYmopIHx8IG9iai5iYXNlNjQpIHtcbiAgICAgICAgICAgIC8vIHJhdyBiaW5hcnkgZGF0YVxuICAgICAgICAgICAgaWYgKCF0aGlzLnJlY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJnb3QgYmluYXJ5IGRhdGEgd2hlbiBub3QgcmVjb25zdHJ1Y3RpbmcgYSBwYWNrZXRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBwYWNrZXQgPSB0aGlzLnJlY29uc3RydWN0b3IudGFrZUJpbmFyeURhdGEob2JqKTtcbiAgICAgICAgICAgICAgICBpZiAocGFja2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHJlY2VpdmVkIGZpbmFsIGJ1ZmZlclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlY29uc3RydWN0b3IgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICBzdXBlci5lbWl0UmVzZXJ2ZWQoXCJkZWNvZGVkXCIsIHBhY2tldCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biB0eXBlOiBcIiArIG9iaik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVjb2RlIGEgcGFja2V0IFN0cmluZyAoSlNPTiBkYXRhKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICAgICAqIEByZXR1cm4ge09iamVjdH0gcGFja2V0XG4gICAgICovXG4gICAgZGVjb2RlU3RyaW5nKHN0cikge1xuICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgIC8vIGxvb2sgdXAgdHlwZVxuICAgICAgICBjb25zdCBwID0ge1xuICAgICAgICAgICAgdHlwZTogTnVtYmVyKHN0ci5jaGFyQXQoMCkpLFxuICAgICAgICB9O1xuICAgICAgICBpZiAoUGFja2V0VHlwZVtwLnR5cGVdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInVua25vd24gcGFja2V0IHR5cGUgXCIgKyBwLnR5cGUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGxvb2sgdXAgYXR0YWNobWVudHMgaWYgdHlwZSBiaW5hcnlcbiAgICAgICAgaWYgKHAudHlwZSA9PT0gUGFja2V0VHlwZS5CSU5BUllfRVZFTlQgfHxcbiAgICAgICAgICAgIHAudHlwZSA9PT0gUGFja2V0VHlwZS5CSU5BUllfQUNLKSB7XG4gICAgICAgICAgICBjb25zdCBzdGFydCA9IGkgKyAxO1xuICAgICAgICAgICAgd2hpbGUgKHN0ci5jaGFyQXQoKytpKSAhPT0gXCItXCIgJiYgaSAhPSBzdHIubGVuZ3RoKSB7IH1cbiAgICAgICAgICAgIGNvbnN0IGJ1ZiA9IHN0ci5zdWJzdHJpbmcoc3RhcnQsIGkpO1xuICAgICAgICAgICAgaWYgKGJ1ZiAhPSBOdW1iZXIoYnVmKSB8fCBzdHIuY2hhckF0KGkpICE9PSBcIi1cIikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIklsbGVnYWwgYXR0YWNobWVudHNcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwLmF0dGFjaG1lbnRzID0gTnVtYmVyKGJ1Zik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbG9vayB1cCBuYW1lc3BhY2UgKGlmIGFueSlcbiAgICAgICAgaWYgKFwiL1wiID09PSBzdHIuY2hhckF0KGkgKyAxKSkge1xuICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBpICsgMTtcbiAgICAgICAgICAgIHdoaWxlICgrK2kpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjID0gc3RyLmNoYXJBdChpKTtcbiAgICAgICAgICAgICAgICBpZiAoXCIsXCIgPT09IGMpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGlmIChpID09PSBzdHIubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHAubnNwID0gc3RyLnN1YnN0cmluZyhzdGFydCwgaSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwLm5zcCA9IFwiL1wiO1xuICAgICAgICB9XG4gICAgICAgIC8vIGxvb2sgdXAgaWRcbiAgICAgICAgY29uc3QgbmV4dCA9IHN0ci5jaGFyQXQoaSArIDEpO1xuICAgICAgICBpZiAoXCJcIiAhPT0gbmV4dCAmJiBOdW1iZXIobmV4dCkgPT0gbmV4dCkge1xuICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBpICsgMTtcbiAgICAgICAgICAgIHdoaWxlICgrK2kpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjID0gc3RyLmNoYXJBdChpKTtcbiAgICAgICAgICAgICAgICBpZiAobnVsbCA9PSBjIHx8IE51bWJlcihjKSAhPSBjKSB7XG4gICAgICAgICAgICAgICAgICAgIC0taTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpID09PSBzdHIubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHAuaWQgPSBOdW1iZXIoc3RyLnN1YnN0cmluZyhzdGFydCwgaSArIDEpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBsb29rIHVwIGpzb24gZGF0YVxuICAgICAgICBpZiAoc3RyLmNoYXJBdCgrK2kpKSB7XG4gICAgICAgICAgICBjb25zdCBwYXlsb2FkID0gdGhpcy50cnlQYXJzZShzdHIuc3Vic3RyKGkpKTtcbiAgICAgICAgICAgIGlmIChEZWNvZGVyLmlzUGF5bG9hZFZhbGlkKHAudHlwZSwgcGF5bG9hZCkpIHtcbiAgICAgICAgICAgICAgICBwLmRhdGEgPSBwYXlsb2FkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBwYXlsb2FkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGRlYnVnKFwiZGVjb2RlZCAlcyBhcyAlalwiLCBzdHIsIHApO1xuICAgICAgICByZXR1cm4gcDtcbiAgICB9XG4gICAgdHJ5UGFyc2Uoc3RyKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShzdHIsIHRoaXMucmV2aXZlcik7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgaXNQYXlsb2FkVmFsaWQodHlwZSwgcGF5bG9hZCkge1xuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgUGFja2V0VHlwZS5DT05ORUNUOlxuICAgICAgICAgICAgICAgIHJldHVybiBpc09iamVjdChwYXlsb2FkKTtcbiAgICAgICAgICAgIGNhc2UgUGFja2V0VHlwZS5ESVNDT05ORUNUOlxuICAgICAgICAgICAgICAgIHJldHVybiBwYXlsb2FkID09PSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBjYXNlIFBhY2tldFR5cGUuQ09OTkVDVF9FUlJPUjpcbiAgICAgICAgICAgICAgICByZXR1cm4gdHlwZW9mIHBheWxvYWQgPT09IFwic3RyaW5nXCIgfHwgaXNPYmplY3QocGF5bG9hZCk7XG4gICAgICAgICAgICBjYXNlIFBhY2tldFR5cGUuRVZFTlQ6XG4gICAgICAgICAgICBjYXNlIFBhY2tldFR5cGUuQklOQVJZX0VWRU5UOlxuICAgICAgICAgICAgICAgIHJldHVybiAoQXJyYXkuaXNBcnJheShwYXlsb2FkKSAmJlxuICAgICAgICAgICAgICAgICAgICAodHlwZW9mIHBheWxvYWRbMF0gPT09IFwibnVtYmVyXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICh0eXBlb2YgcGF5bG9hZFswXSA9PT0gXCJzdHJpbmdcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJFU0VSVkVEX0VWRU5UUy5pbmRleE9mKHBheWxvYWRbMF0pID09PSAtMSkpKTtcbiAgICAgICAgICAgIGNhc2UgUGFja2V0VHlwZS5BQ0s6XG4gICAgICAgICAgICBjYXNlIFBhY2tldFR5cGUuQklOQVJZX0FDSzpcbiAgICAgICAgICAgICAgICByZXR1cm4gQXJyYXkuaXNBcnJheShwYXlsb2FkKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZWFsbG9jYXRlcyBhIHBhcnNlcidzIHJlc291cmNlc1xuICAgICAqL1xuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIGlmICh0aGlzLnJlY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgIHRoaXMucmVjb25zdHJ1Y3Rvci5maW5pc2hlZFJlY29uc3RydWN0aW9uKCk7XG4gICAgICAgICAgICB0aGlzLnJlY29uc3RydWN0b3IgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBBIG1hbmFnZXIgb2YgYSBiaW5hcnkgZXZlbnQncyAnYnVmZmVyIHNlcXVlbmNlJy4gU2hvdWxkXG4gKiBiZSBjb25zdHJ1Y3RlZCB3aGVuZXZlciBhIHBhY2tldCBvZiB0eXBlIEJJTkFSWV9FVkVOVCBpc1xuICogZGVjb2RlZC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcGFja2V0XG4gKiBAcmV0dXJuIHtCaW5hcnlSZWNvbnN0cnVjdG9yfSBpbml0aWFsaXplZCByZWNvbnN0cnVjdG9yXG4gKi9cbmNsYXNzIEJpbmFyeVJlY29uc3RydWN0b3Ige1xuICAgIGNvbnN0cnVjdG9yKHBhY2tldCkge1xuICAgICAgICB0aGlzLnBhY2tldCA9IHBhY2tldDtcbiAgICAgICAgdGhpcy5idWZmZXJzID0gW107XG4gICAgICAgIHRoaXMucmVjb25QYWNrID0gcGFja2V0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNZXRob2QgdG8gYmUgY2FsbGVkIHdoZW4gYmluYXJ5IGRhdGEgcmVjZWl2ZWQgZnJvbSBjb25uZWN0aW9uXG4gICAgICogYWZ0ZXIgYSBCSU5BUllfRVZFTlQgcGFja2V0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtCdWZmZXIgfCBBcnJheUJ1ZmZlcn0gYmluRGF0YSAtIHRoZSByYXcgYmluYXJ5IGRhdGEgcmVjZWl2ZWRcbiAgICAgKiBAcmV0dXJuIHtudWxsIHwgT2JqZWN0fSByZXR1cm5zIG51bGwgaWYgbW9yZSBiaW5hcnkgZGF0YSBpcyBleHBlY3RlZCBvclxuICAgICAqICAgYSByZWNvbnN0cnVjdGVkIHBhY2tldCBvYmplY3QgaWYgYWxsIGJ1ZmZlcnMgaGF2ZSBiZWVuIHJlY2VpdmVkLlxuICAgICAqL1xuICAgIHRha2VCaW5hcnlEYXRhKGJpbkRhdGEpIHtcbiAgICAgICAgdGhpcy5idWZmZXJzLnB1c2goYmluRGF0YSk7XG4gICAgICAgIGlmICh0aGlzLmJ1ZmZlcnMubGVuZ3RoID09PSB0aGlzLnJlY29uUGFjay5hdHRhY2htZW50cykge1xuICAgICAgICAgICAgLy8gZG9uZSB3aXRoIGJ1ZmZlciBsaXN0XG4gICAgICAgICAgICBjb25zdCBwYWNrZXQgPSByZWNvbnN0cnVjdFBhY2tldCh0aGlzLnJlY29uUGFjaywgdGhpcy5idWZmZXJzKTtcbiAgICAgICAgICAgIHRoaXMuZmluaXNoZWRSZWNvbnN0cnVjdGlvbigpO1xuICAgICAgICAgICAgcmV0dXJuIHBhY2tldDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYW5zIHVwIGJpbmFyeSBwYWNrZXQgcmVjb25zdHJ1Y3Rpb24gdmFyaWFibGVzLlxuICAgICAqL1xuICAgIGZpbmlzaGVkUmVjb25zdHJ1Y3Rpb24oKSB7XG4gICAgICAgIHRoaXMucmVjb25QYWNrID0gbnVsbDtcbiAgICAgICAgdGhpcy5idWZmZXJzID0gW107XG4gICAgfVxufVxuZnVuY3Rpb24gaXNOYW1lc3BhY2VWYWxpZChuc3ApIHtcbiAgICByZXR1cm4gdHlwZW9mIG5zcCA9PT0gXCJzdHJpbmdcIjtcbn1cbi8vIHNlZSBodHRwczovL2Nhbml1c2UuY29tL21kbi1qYXZhc2NyaXB0X2J1aWx0aW5zX251bWJlcl9pc2ludGVnZXJcbmNvbnN0IGlzSW50ZWdlciA9IE51bWJlci5pc0ludGVnZXIgfHxcbiAgICBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuICh0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIgJiZcbiAgICAgICAgICAgIGlzRmluaXRlKHZhbHVlKSAmJlxuICAgICAgICAgICAgTWF0aC5mbG9vcih2YWx1ZSkgPT09IHZhbHVlKTtcbiAgICB9O1xuZnVuY3Rpb24gaXNBY2tJZFZhbGlkKGlkKSB7XG4gICAgcmV0dXJuIGlkID09PSB1bmRlZmluZWQgfHwgaXNJbnRlZ2VyKGlkKTtcbn1cbi8vIHNlZSBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy84NTExMjgxL2NoZWNrLWlmLWEtdmFsdWUtaXMtYW4tb2JqZWN0LWluLWphdmFzY3JpcHRcbmZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09IFwiW29iamVjdCBPYmplY3RdXCI7XG59XG5mdW5jdGlvbiBpc0RhdGFWYWxpZCh0eXBlLCBwYXlsb2FkKSB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgUGFja2V0VHlwZS5DT05ORUNUOlxuICAgICAgICAgICAgcmV0dXJuIHBheWxvYWQgPT09IHVuZGVmaW5lZCB8fCBpc09iamVjdChwYXlsb2FkKTtcbiAgICAgICAgY2FzZSBQYWNrZXRUeXBlLkRJU0NPTk5FQ1Q6XG4gICAgICAgICAgICByZXR1cm4gcGF5bG9hZCA9PT0gdW5kZWZpbmVkO1xuICAgICAgICBjYXNlIFBhY2tldFR5cGUuRVZFTlQ6XG4gICAgICAgICAgICByZXR1cm4gKEFycmF5LmlzQXJyYXkocGF5bG9hZCkgJiZcbiAgICAgICAgICAgICAgICAodHlwZW9mIHBheWxvYWRbMF0gPT09IFwibnVtYmVyXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgKHR5cGVvZiBwYXlsb2FkWzBdID09PSBcInN0cmluZ1wiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBSRVNFUlZFRF9FVkVOVFMuaW5kZXhPZihwYXlsb2FkWzBdKSA9PT0gLTEpKSk7XG4gICAgICAgIGNhc2UgUGFja2V0VHlwZS5BQ0s6XG4gICAgICAgICAgICByZXR1cm4gQXJyYXkuaXNBcnJheShwYXlsb2FkKTtcbiAgICAgICAgY2FzZSBQYWNrZXRUeXBlLkNPTk5FQ1RfRVJST1I6XG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIHBheWxvYWQgPT09IFwic3RyaW5nXCIgfHwgaXNPYmplY3QocGF5bG9hZCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGlzUGFja2V0VmFsaWQocGFja2V0KSB7XG4gICAgcmV0dXJuIChpc05hbWVzcGFjZVZhbGlkKHBhY2tldC5uc3ApICYmXG4gICAgICAgIGlzQWNrSWRWYWxpZChwYWNrZXQuaWQpICYmXG4gICAgICAgIGlzRGF0YVZhbGlkKHBhY2tldC50eXBlLCBwYWNrZXQuZGF0YSkpO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/socket.io-parser/build/esm-debug/index.js\n\n}");

/***/ },

/***/ "./node_modules/socket.io-parser/build/esm-debug/is-binary.js"
/*!********************************************************************!*\
  !*** ./node_modules/socket.io-parser/build/esm-debug/is-binary.js ***!
  \********************************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   hasBinary: () => (/* binding */ hasBinary),\n/* harmony export */   isBinary: () => (/* binding */ isBinary)\n/* harmony export */ });\nconst withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\nconst isView = (obj) => {\n    return typeof ArrayBuffer.isView === \"function\"\n        ? ArrayBuffer.isView(obj)\n        : obj.buffer instanceof ArrayBuffer;\n};\nconst toString = Object.prototype.toString;\nconst withNativeBlob = typeof Blob === \"function\" ||\n    (typeof Blob !== \"undefined\" &&\n        toString.call(Blob) === \"[object BlobConstructor]\");\nconst withNativeFile = typeof File === \"function\" ||\n    (typeof File !== \"undefined\" &&\n        toString.call(File) === \"[object FileConstructor]\");\n/**\n * Returns true if obj is a Buffer, an ArrayBuffer, a Blob or a File.\n *\n * @private\n */\nfunction isBinary(obj) {\n    return ((withNativeArrayBuffer && (obj instanceof ArrayBuffer || isView(obj))) ||\n        (withNativeBlob && obj instanceof Blob) ||\n        (withNativeFile && obj instanceof File));\n}\nfunction hasBinary(obj, toJSON) {\n    if (!obj || typeof obj !== \"object\") {\n        return false;\n    }\n    if (Array.isArray(obj)) {\n        for (let i = 0, l = obj.length; i < l; i++) {\n            if (hasBinary(obj[i])) {\n                return true;\n            }\n        }\n        return false;\n    }\n    if (isBinary(obj)) {\n        return true;\n    }\n    if (obj.toJSON &&\n        typeof obj.toJSON === \"function\" &&\n        arguments.length === 1) {\n        return hasBinary(obj.toJSON(), true);\n    }\n    for (const key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key) && hasBinary(obj[key])) {\n            return true;\n        }\n    }\n    return false;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc29ja2V0LmlvLXBhcnNlci9idWlsZC9lc20tZGVidWcvaXMtYmluYXJ5LmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsT0FBTztBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZXRyb2FwcC1jbGllbnQvLi9ub2RlX21vZHVsZXMvc29ja2V0LmlvLXBhcnNlci9idWlsZC9lc20tZGVidWcvaXMtYmluYXJ5LmpzPzE2MmQiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qgd2l0aE5hdGl2ZUFycmF5QnVmZmVyID0gdHlwZW9mIEFycmF5QnVmZmVyID09PSBcImZ1bmN0aW9uXCI7XG5jb25zdCBpc1ZpZXcgPSAob2JqKSA9PiB7XG4gICAgcmV0dXJuIHR5cGVvZiBBcnJheUJ1ZmZlci5pc1ZpZXcgPT09IFwiZnVuY3Rpb25cIlxuICAgICAgICA/IEFycmF5QnVmZmVyLmlzVmlldyhvYmopXG4gICAgICAgIDogb2JqLmJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5QnVmZmVyO1xufTtcbmNvbnN0IHRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcbmNvbnN0IHdpdGhOYXRpdmVCbG9iID0gdHlwZW9mIEJsb2IgPT09IFwiZnVuY3Rpb25cIiB8fFxuICAgICh0eXBlb2YgQmxvYiAhPT0gXCJ1bmRlZmluZWRcIiAmJlxuICAgICAgICB0b1N0cmluZy5jYWxsKEJsb2IpID09PSBcIltvYmplY3QgQmxvYkNvbnN0cnVjdG9yXVwiKTtcbmNvbnN0IHdpdGhOYXRpdmVGaWxlID0gdHlwZW9mIEZpbGUgPT09IFwiZnVuY3Rpb25cIiB8fFxuICAgICh0eXBlb2YgRmlsZSAhPT0gXCJ1bmRlZmluZWRcIiAmJlxuICAgICAgICB0b1N0cmluZy5jYWxsKEZpbGUpID09PSBcIltvYmplY3QgRmlsZUNvbnN0cnVjdG9yXVwiKTtcbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIG9iaiBpcyBhIEJ1ZmZlciwgYW4gQXJyYXlCdWZmZXIsIGEgQmxvYiBvciBhIEZpbGUuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzQmluYXJ5KG9iaikge1xuICAgIHJldHVybiAoKHdpdGhOYXRpdmVBcnJheUJ1ZmZlciAmJiAob2JqIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIgfHwgaXNWaWV3KG9iaikpKSB8fFxuICAgICAgICAod2l0aE5hdGl2ZUJsb2IgJiYgb2JqIGluc3RhbmNlb2YgQmxvYikgfHxcbiAgICAgICAgKHdpdGhOYXRpdmVGaWxlICYmIG9iaiBpbnN0YW5jZW9mIEZpbGUpKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBoYXNCaW5hcnkob2JqLCB0b0pTT04pIHtcbiAgICBpZiAoIW9iaiB8fCB0eXBlb2Ygb2JqICE9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkge1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgbCA9IG9iai5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChoYXNCaW5hcnkob2JqW2ldKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGlzQmluYXJ5KG9iaikpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChvYmoudG9KU09OICYmXG4gICAgICAgIHR5cGVvZiBvYmoudG9KU09OID09PSBcImZ1bmN0aW9uXCIgJiZcbiAgICAgICAgYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXR1cm4gaGFzQmluYXJ5KG9iai50b0pTT04oKSwgdHJ1ZSk7XG4gICAgfVxuICAgIGZvciAoY29uc3Qga2V5IGluIG9iaikge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSAmJiBoYXNCaW5hcnkob2JqW2tleV0pKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/socket.io-parser/build/esm-debug/is-binary.js\n\n}");

/***/ }

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Check if module exists (development only)
/******/ 		if (__webpack_modules__[moduleId] === undefined) {
/******/ 			var e = new Error("Cannot find module '" + moduleId + "'");
/******/ 			e.code = 'MODULE_NOT_FOUND';
/******/ 			throw e;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/nonce */
/******/ 	(() => {
/******/ 		__webpack_require__.nc = undefined;
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/main.ts");
/******/ 	
/******/ })()
;